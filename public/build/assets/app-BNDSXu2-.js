var s8=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var roe=s8((wr,Cr)=>{function o8(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function qu(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Gt={},yi=[],hs=()=>{},Up=()=>!1,Wa=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Wu=e=>e.startsWith("onUpdate:"),An=Object.assign,Gu=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},i8=Object.prototype.hasOwnProperty,Lt=(e,t)=>i8.call(e,t),it=Array.isArray,bi=e=>Ga(e)==="[object Map]",Ri=e=>Ga(e)==="[object Set]",af=e=>Ga(e)==="[object Date]",mt=e=>typeof e=="function",gn=e=>typeof e=="string",Yr=e=>typeof e=="symbol",Vt=e=>e!==null&&typeof e=="object",Hp=e=>(Vt(e)||mt(e))&&mt(e.then)&&mt(e.catch),zp=Object.prototype.toString,Ga=e=>zp.call(e),a8=e=>Ga(e).slice(8,-1),Vp=e=>Ga(e)==="[object Object]",Qu=e=>gn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,vi=qu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),_0=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},l8=/-\w/g,Or=_0(e=>e.replace(l8,t=>t.slice(1).toUpperCase())),c8=/\B([A-Z])/g,go=_0(e=>e.replace(c8,"-$1").toLowerCase()),k0=_0(e=>e.charAt(0).toUpperCase()+e.slice(1)),xc=_0(e=>e?`on${k0(e)}`:""),so=(e,t)=>!Object.is(e,t),Ll=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},qp=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},Zl=e=>{const t=parseFloat(e);return isNaN(t)?e:t},d8=e=>{const t=gn(e)?Number(e):NaN;return isNaN(t)?e:t};let lf;const D0=()=>lf||(lf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Oi(e){if(it(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=gn(r)?h8(r):Oi(r);if(i)for(const a in i)t[a]=i[a]}return t}else if(gn(e)||Vt(e))return e}const u8=/;(?![^(]*\))/g,x8=/:([^]+)/,f8=/\/\*[^]*?\*\//g;function h8(e){const t={};return e.replace(f8,"").split(u8).forEach(n=>{if(n){const r=n.split(x8);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Se(e){let t="";if(gn(e))t=e;else if(it(e))for(let n=0;n<e.length;n++){const r=Se(e[n]);r&&(t+=r+" ")}else if(Vt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const g8="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",p8=qu(g8);function Wp(e){return!!e||e===""}function m8(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Ho(e[r],t[r]);return n}function Ho(e,t){if(e===t)return!0;let n=af(e),r=af(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Yr(e),r=Yr(t),n||r)return e===t;if(n=it(e),r=it(t),n||r)return n&&r?m8(e,t):!1;if(n=Vt(e),r=Vt(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,a=Object.keys(t).length;if(i!==a)return!1;for(const c in e){const u=e.hasOwnProperty(c),g=t.hasOwnProperty(c);if(u&&!g||!u&&g||!Ho(e[c],t[c]))return!1}}return String(e)===String(t)}function Ku(e,t){return e.findIndex(n=>Ho(n,t))}const Gp=e=>!!(e&&e.__v_isRef===!0),R=e=>gn(e)?e:e==null?"":it(e)||Vt(e)&&(e.toString===zp||!mt(e.toString))?Gp(e)?R(e.value):JSON.stringify(e,Qp,2):String(e),Qp=(e,t)=>Gp(t)?Qp(e,t.value):bi(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i],a)=>(n[fc(r,a)+" =>"]=i,n),{})}:Ri(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>fc(n))}:Yr(t)?fc(t):Vt(t)&&!it(t)&&!Vp(t)?String(t):t,fc=(e,t="")=>{var n;return Yr(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ar;class y8{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ar,!t&&ar&&(this.index=(ar.scopes||(ar.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=ar;try{return ar=this,t()}finally{ar=n}}}on(){++this._on===1&&(this.prevScope=ar,ar=this)}off(){this._on>0&&--this._on===0&&(ar=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function b8(){return ar}let Xt;const hc=new WeakSet;class Kp{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ar&&ar.active&&ar.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,hc.has(this)&&(hc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Xp(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cf(this),Zp(this);const t=Xt,n=Kr;Xt=this,Kr=!0;try{return this.fn()}finally{Jp(this),Xt=t,Kr=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Zu(t);this.deps=this.depsTail=void 0,cf(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?hc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){lu(this)&&this.run()}get dirty(){return lu(this)}}let Yp=0,pa,ma;function Xp(e,t=!1){if(e.flags|=8,t){e.next=ma,ma=e;return}e.next=pa,pa=e}function Yu(){Yp++}function Xu(){if(--Yp>0)return;if(ma){let t=ma;for(ma=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;pa;){let t=pa;for(pa=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function Zp(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Jp(e){let t,n=e.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),Zu(r),v8(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}e.deps=t,e.depsTail=n}function lu(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(e2(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function e2(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ka)||(e.globalVersion=ka,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!lu(e))))return;e.flags|=2;const t=e.dep,n=Xt,r=Kr;Xt=e,Kr=!0;try{Zp(e);const i=e.fn(e._value);(t.version===0||so(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{Xt=n,Kr=r,Jp(e),e.flags&=-3}}function Zu(e,t=!1){const{dep:n,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let a=n.computed.deps;a;a=a.nextDep)Zu(a,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function v8(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Kr=!0;const t2=[];function Is(){t2.push(Kr),Kr=!1}function Ps(){const e=t2.pop();Kr=e===void 0?!0:e}function cf(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Xt;Xt=void 0;try{t()}finally{Xt=n}}}let ka=0,E8=class{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class Ju{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Xt||!Kr||Xt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Xt)n=this.activeLink=new E8(Xt,this),Xt.deps?(n.prevDep=Xt.depsTail,Xt.depsTail.nextDep=n,Xt.depsTail=n):Xt.deps=Xt.depsTail=n,n2(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Xt.depsTail,n.nextDep=void 0,Xt.depsTail.nextDep=n,Xt.depsTail=n,Xt.deps===n&&(Xt.deps=r)}return n}trigger(t){this.version++,ka++,this.notify(t)}notify(t){Yu();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Xu()}}}function n2(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)n2(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const cu=new WeakMap,Oo=Symbol(""),du=Symbol(""),Da=Symbol("");function Hn(e,t,n){if(Kr&&Xt){let r=cu.get(e);r||cu.set(e,r=new Map);let i=r.get(n);i||(r.set(n,i=new Ju),i.map=r,i.key=n),i.track()}}function ks(e,t,n,r,i,a){const c=cu.get(e);if(!c){ka++;return}const u=g=>{g&&g.trigger()};if(Yu(),t==="clear")c.forEach(u);else{const g=it(e),h=g&&Qu(n);if(g&&n==="length"){const m=Number(r);c.forEach((y,C)=>{(C==="length"||C===Da||!Yr(C)&&C>=m)&&u(y)})}else switch((n!==void 0||c.has(void 0))&&u(c.get(n)),h&&u(c.get(Da)),t){case"add":g?h&&u(c.get("length")):(u(c.get(Oo)),bi(e)&&u(c.get(du)));break;case"delete":g||(u(c.get(Oo)),bi(e)&&u(c.get(du)));break;case"set":bi(e)&&u(c.get(Oo));break}}Xu()}function ci(e){const t=St(e);return t===e?t:(Hn(t,"iterate",Da),Pr(e)?t:t.map(Rn))}function S0(e){return Hn(e=St(e),"iterate",Da),e}const w8={__proto__:null,[Symbol.iterator](){return gc(this,Symbol.iterator,Rn)},concat(...e){return ci(this).concat(...e.map(t=>it(t)?ci(t):t))},entries(){return gc(this,"entries",e=>(e[1]=Rn(e[1]),e))},every(e,t){return bs(this,"every",e,t,void 0,arguments)},filter(e,t){return bs(this,"filter",e,t,n=>n.map(Rn),arguments)},find(e,t){return bs(this,"find",e,t,Rn,arguments)},findIndex(e,t){return bs(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return bs(this,"findLast",e,t,Rn,arguments)},findLastIndex(e,t){return bs(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return bs(this,"forEach",e,t,void 0,arguments)},includes(...e){return pc(this,"includes",e)},indexOf(...e){return pc(this,"indexOf",e)},join(e){return ci(this).join(e)},lastIndexOf(...e){return pc(this,"lastIndexOf",e)},map(e,t){return bs(this,"map",e,t,void 0,arguments)},pop(){return Zi(this,"pop")},push(...e){return Zi(this,"push",e)},reduce(e,...t){return df(this,"reduce",e,t)},reduceRight(e,...t){return df(this,"reduceRight",e,t)},shift(){return Zi(this,"shift")},some(e,t){return bs(this,"some",e,t,void 0,arguments)},splice(...e){return Zi(this,"splice",e)},toReversed(){return ci(this).toReversed()},toSorted(e){return ci(this).toSorted(e)},toSpliced(...e){return ci(this).toSpliced(...e)},unshift(...e){return Zi(this,"unshift",e)},values(){return gc(this,"values",Rn)}};function gc(e,t,n){const r=S0(e),i=r[t]();return r!==e&&!Pr(e)&&(i._next=i.next,i.next=()=>{const a=i._next();return a.done||(a.value=n(a.value)),a}),i}const C8=Array.prototype;function bs(e,t,n,r,i,a){const c=S0(e),u=c!==e&&!Pr(e),g=c[t];if(g!==C8[t]){const y=g.apply(e,a);return u?Rn(y):y}let h=n;c!==e&&(u?h=function(y,C){return n.call(this,Rn(y),C,e)}:n.length>2&&(h=function(y,C){return n.call(this,y,C,e)}));const m=g.call(c,h,r);return u&&i?i(m):m}function df(e,t,n,r){const i=S0(e);let a=n;return i!==e&&(Pr(e)?n.length>3&&(a=function(c,u,g){return n.call(this,c,u,g,e)}):a=function(c,u,g){return n.call(this,c,Rn(u),g,e)}),i[t](a,...r)}function pc(e,t,n){const r=St(e);Hn(r,"iterate",Da);const i=r[t](...n);return(i===-1||i===!1)&&Qa(n[0])?(n[0]=St(n[0]),r[t](...n)):i}function Zi(e,t,n=[]){Is(),Yu();const r=St(e)[t].apply(e,n);return Xu(),Ps(),r}const A8=qu("__proto__,__v_isRef,__isVue"),r2=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Yr));function B8(e){Yr(e)||(e=String(e));const t=St(this);return Hn(t,"has",e),t.hasOwnProperty(e)}class s2{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return a;if(n==="__v_raw")return r===(i?a?R8:l2:a?a2:i2).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const c=it(t);if(!i){let g;if(c&&(g=w8[n]))return g;if(n==="hasOwnProperty")return B8}const u=Reflect.get(t,n,Gn(t)?t:r);if((Yr(n)?r2.has(n):A8(n))||(i||Hn(t,"get",n),a))return u;if(Gn(u)){const g=c&&Qu(n)?u:u.value;return i&&Vt(g)?xu(g):g}return Vt(u)?i?xu(u):po(u):u}}class o2 extends s2{constructor(t=!1){super(!1,t)}set(t,n,r,i){let a=t[n];if(!this._isShallow){const g=io(a);if(!Pr(r)&&!io(r)&&(a=St(a),r=St(r)),!it(t)&&Gn(a)&&!Gn(r))return g||(a.value=r),!0}const c=it(t)&&Qu(n)?Number(n)<t.length:Lt(t,n),u=Reflect.set(t,n,r,Gn(t)?t:i);return t===St(i)&&(c?so(r,a)&&ks(t,"set",n,r):ks(t,"add",n,r)),u}deleteProperty(t,n){const r=Lt(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&r&&ks(t,"delete",n,void 0),i}has(t,n){const r=Reflect.has(t,n);return(!Yr(n)||!r2.has(n))&&Hn(t,"has",n),r}ownKeys(t){return Hn(t,"iterate",it(t)?"length":Oo),Reflect.ownKeys(t)}}class _8 extends s2{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const k8=new o2,D8=new _8,S8=new o2(!0),uu=e=>e,ul=e=>Reflect.getPrototypeOf(e);function F8(e,t,n){return function(...r){const i=this.__v_raw,a=St(i),c=bi(a),u=e==="entries"||e===Symbol.iterator&&c,g=e==="keys"&&c,h=i[e](...r),m=n?uu:t?Jl:Rn;return!t&&Hn(a,"iterate",g?du:Oo),{next(){const{value:y,done:C}=h.next();return C?{value:y,done:C}:{value:u?[m(y[0]),m(y[1])]:m(y),done:C}},[Symbol.iterator](){return this}}}}function xl(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function T8(e,t){const n={get(i){const a=this.__v_raw,c=St(a),u=St(i);e||(so(i,u)&&Hn(c,"get",i),Hn(c,"get",u));const{has:g}=ul(c),h=t?uu:e?Jl:Rn;if(g.call(c,i))return h(a.get(i));if(g.call(c,u))return h(a.get(u));a!==c&&a.get(i)},get size(){const i=this.__v_raw;return!e&&Hn(St(i),"iterate",Oo),i.size},has(i){const a=this.__v_raw,c=St(a),u=St(i);return e||(so(i,u)&&Hn(c,"has",i),Hn(c,"has",u)),i===u?a.has(i):a.has(i)||a.has(u)},forEach(i,a){const c=this,u=c.__v_raw,g=St(u),h=t?uu:e?Jl:Rn;return!e&&Hn(g,"iterate",Oo),u.forEach((m,y)=>i.call(a,h(m),h(y),c))}};return An(n,e?{add:xl("add"),set:xl("set"),delete:xl("delete"),clear:xl("clear")}:{add(i){!t&&!Pr(i)&&!io(i)&&(i=St(i));const a=St(this);return ul(a).has.call(a,i)||(a.add(i),ks(a,"add",i,i)),this},set(i,a){!t&&!Pr(a)&&!io(a)&&(a=St(a));const c=St(this),{has:u,get:g}=ul(c);let h=u.call(c,i);h||(i=St(i),h=u.call(c,i));const m=g.call(c,i);return c.set(i,a),h?so(a,m)&&ks(c,"set",i,a):ks(c,"add",i,a),this},delete(i){const a=St(this),{has:c,get:u}=ul(a);let g=c.call(a,i);g||(i=St(i),g=c.call(a,i)),u&&u.call(a,i);const h=a.delete(i);return g&&ks(a,"delete",i,void 0),h},clear(){const i=St(this),a=i.size!==0,c=i.clear();return a&&ks(i,"clear",void 0,void 0),c}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=F8(i,e,t)}),n}function ex(e,t){const n=T8(e,t);return(r,i,a)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(Lt(n,i)&&i in r?n:r,i,a)}const M8={get:ex(!1,!1)},I8={get:ex(!1,!0)},P8={get:ex(!0,!1)},i2=new WeakMap,a2=new WeakMap,l2=new WeakMap,R8=new WeakMap;function O8(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function N8(e){return e.__v_skip||!Object.isExtensible(e)?0:O8(a8(e))}function po(e){return io(e)?e:tx(e,!1,k8,M8,i2)}function L8(e){return tx(e,!1,S8,I8,a2)}function xu(e){return tx(e,!0,D8,P8,l2)}function tx(e,t,n,r,i){if(!Vt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=N8(e);if(a===0)return e;const c=i.get(e);if(c)return c;const u=new Proxy(e,a===2?r:n);return i.set(e,u),u}function No(e){return io(e)?No(e.__v_raw):!!(e&&e.__v_isReactive)}function io(e){return!!(e&&e.__v_isReadonly)}function Pr(e){return!!(e&&e.__v_isShallow)}function Qa(e){return e?!!e.__v_raw:!1}function St(e){const t=e&&e.__v_raw;return t?St(t):e}function fu(e){return!Lt(e,"__v_skip")&&Object.isExtensible(e)&&qp(e,"__v_skip",!0),e}const Rn=e=>Vt(e)?po(e):e,Jl=e=>Vt(e)?xu(e):e;function Gn(e){return e?e.__v_isRef===!0:!1}function pe(e){return c2(e,!1)}function nx(e){return c2(e,!0)}function c2(e,t){return Gn(e)?e:new $8(e,t)}class $8{constructor(t,n){this.dep=new Ju,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:St(t),this._value=n?t:Rn(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Pr(t)||io(t);t=r?t:St(t),so(t,n)&&(this._rawValue=t,this._value=r?t:Rn(t),this.dep.trigger())}}function Ge(e){return Gn(e)?e.value:e}const j8={get:(e,t,n)=>t==="__v_raw"?e:Ge(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Gn(i)&&!Gn(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function d2(e){return No(e)?e:new Proxy(e,j8)}class U8{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Ju(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ka-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Xt!==this)return Xp(this,!0),!0}get value(){const t=this.dep.track();return e2(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function H8(e,t,n=!1){let r,i;return mt(e)?r=e:(r=e.get,i=e.set),new U8(r,i,n)}const fl={},e0=new WeakMap;let Do;function z8(e,t=!1,n=Do){if(n){let r=e0.get(n);r||e0.set(n,r=[]),r.push(e)}}function V8(e,t,n=Gt){const{immediate:r,deep:i,once:a,scheduler:c,augmentJob:u,call:g}=n,h=S=>i?S:Pr(S)||i===!1||i===0?Ds(S,1):Ds(S);let m,y,C,E,A=!1,k=!1;if(Gn(e)?(y=()=>e.value,A=Pr(e)):No(e)?(y=()=>h(e),A=!0):it(e)?(k=!0,A=e.some(S=>No(S)||Pr(S)),y=()=>e.map(S=>{if(Gn(S))return S.value;if(No(S))return h(S);if(mt(S))return g?g(S,2):S()})):mt(e)?t?y=g?()=>g(e,2):e:y=()=>{if(C){Is();try{C()}finally{Ps()}}const S=Do;Do=m;try{return g?g(e,3,[E]):e(E)}finally{Do=S}}:y=hs,t&&i){const S=y,M=i===!0?1/0:i;y=()=>Ds(S(),M)}const D=b8(),I=()=>{m.stop(),D&&D.active&&Gu(D.effects,m)};if(a&&t){const S=t;t=(...M)=>{S(...M),I()}}let $=k?new Array(e.length).fill(fl):fl;const P=S=>{if(!(!(m.flags&1)||!m.dirty&&!S))if(t){const M=m.run();if(i||A||(k?M.some((j,L)=>so(j,$[L])):so(M,$))){C&&C();const j=Do;Do=m;try{const L=[M,$===fl?void 0:k&&$[0]===fl?[]:$,E];$=M,g?g(t,3,L):t(...L)}finally{Do=j}}}else m.run()};return u&&u(P),m=new Kp(y),m.scheduler=c?()=>c(P,!1):P,E=S=>z8(S,!1,m),C=m.onStop=()=>{const S=e0.get(m);if(S){if(g)g(S,4);else for(const M of S)M();e0.delete(m)}},t?r?P(!0):$=m.run():c?c(P.bind(null,!0),!0):m.run(),I.pause=m.pause.bind(m),I.resume=m.resume.bind(m),I.stop=I,I}function Ds(e,t=1/0,n){if(t<=0||!Vt(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,Gn(e))Ds(e.value,t,n);else if(it(e))for(let r=0;r<e.length;r++)Ds(e[r],t,n);else if(Ri(e)||bi(e))e.forEach(r=>{Ds(r,t,n)});else if(Vp(e)){for(const r in e)Ds(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Ds(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ka(e,t,n,r){try{return r?e(...r):e()}catch(i){F0(i,t,n)}}function Xr(e,t,n,r){if(mt(e)){const i=Ka(e,t,n,r);return i&&Hp(i)&&i.catch(a=>{F0(a,t,n)}),i}if(it(e)){const i=[];for(let a=0;a<e.length;a++)i.push(Xr(e[a],t,n,r));return i}}function F0(e,t,n,r=!0){const i=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:c}=t&&t.appContext.config||Gt;if(t){let u=t.parent;const g=t.proxy,h=`https://vuejs.org/error-reference/#runtime-${n}`;for(;u;){const m=u.ec;if(m){for(let y=0;y<m.length;y++)if(m[y](e,g,h)===!1)return}u=u.parent}if(a){Is(),Ka(a,null,10,[e,g,h]),Ps();return}}q8(e,n,i,r,c)}function q8(e,t,n,r=!0,i=!1){if(i)throw e;console.error(e)}const Zn=[];let ds=-1;const Ei=[];let Xs=null,gi=0;const u2=Promise.resolve();let t0=null;function br(e){const t=t0||u2;return e?t.then(this?e.bind(this):e):t}function W8(e){let t=ds+1,n=Zn.length;for(;t<n;){const r=t+n>>>1,i=Zn[r],a=Sa(i);a<e||a===e&&i.flags&2?t=r+1:n=r}return t}function rx(e){if(!(e.flags&1)){const t=Sa(e),n=Zn[Zn.length-1];!n||!(e.flags&2)&&t>=Sa(n)?Zn.push(e):Zn.splice(W8(t),0,e),e.flags|=1,x2()}}function x2(){t0||(t0=u2.then(f2))}function G8(e){it(e)?Ei.push(...e):Xs&&e.id===-1?Xs.splice(gi+1,0,e):e.flags&1||(Ei.push(e),e.flags|=1),x2()}function uf(e,t,n=ds+1){for(;n<Zn.length;n++){const r=Zn[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Zn.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function n0(e){if(Ei.length){const t=[...new Set(Ei)].sort((n,r)=>Sa(n)-Sa(r));if(Ei.length=0,Xs){Xs.push(...t);return}for(Xs=t,gi=0;gi<Xs.length;gi++){const n=Xs[gi];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Xs=null,gi=0}}const Sa=e=>e.id==null?e.flags&2?-1:1/0:e.id;function f2(e){try{for(ds=0;ds<Zn.length;ds++){const t=Zn[ds];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ka(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;ds<Zn.length;ds++){const t=Zn[ds];t&&(t.flags&=-2)}ds=-1,Zn.length=0,n0(),t0=null,(Zn.length||Ei.length)&&f2()}}let Nn=null,h2=null;function r0(e){const t=Nn;return Nn=e,h2=e&&e.type.__scopeId||null,t}function vt(e,t=Nn,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&i0(-1);const a=r0(t);let c;try{c=e(...i)}finally{r0(a),r._d&&i0(1)}return c};return r._n=!0,r._c=!0,r._d=!0,r}function me(e,t){if(Nn===null)return e;const n=R0(Nn),r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[a,c,u,g=Gt]=t[i];a&&(mt(a)&&(a={mounted:a,updated:a}),a.deep&&Ds(c),r.push({dir:a,instance:n,value:c,oldValue:void 0,arg:u,modifiers:g}))}return e}function fs(e,t,n,r){const i=e.dirs,a=t&&t.dirs;for(let c=0;c<i.length;c++){const u=i[c];a&&(u.oldValue=a[c].value);let g=u.dir[r];g&&(Is(),Xr(g,n,8,[e.el,u,e,t]),Ps())}}const Q8=Symbol("_vte"),g2=e=>e.__isTeleport,Bs=Symbol("_leaveCb"),hl=Symbol("_enterCb");function p2(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Qn(()=>{e.isMounted=!0}),I0(()=>{e.isUnmounting=!0}),e}const Dr=[Function,Array],m2={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Dr,onEnter:Dr,onAfterEnter:Dr,onEnterCancelled:Dr,onBeforeLeave:Dr,onLeave:Dr,onAfterLeave:Dr,onLeaveCancelled:Dr,onBeforeAppear:Dr,onAppear:Dr,onAfterAppear:Dr,onAppearCancelled:Dr},y2=e=>{const t=e.subTree;return t.component?y2(t.component):t},K8={name:"BaseTransition",props:m2,setup(e,{slots:t}){const n=cx(),r=p2();return()=>{const i=t.default&&sx(t.default(),!0);if(!i||!i.length)return;const a=b2(i),c=St(e),{mode:u}=c;if(r.isLeaving)return mc(a);const g=xf(a);if(!g)return mc(a);let h=Fa(g,c,r,n,y=>h=y);g.type!==On&&zo(g,h);let m=n.subTree&&xf(n.subTree);if(m&&m.type!==On&&!To(m,g)&&y2(n).type!==On){let y=Fa(m,c,r,n);if(zo(m,y),u==="out-in"&&g.type!==On)return r.isLeaving=!0,y.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete y.afterLeave,m=void 0},mc(a);u==="in-out"&&g.type!==On?y.delayLeave=(C,E,A)=>{const k=v2(r,m);k[String(m.key)]=m,C[Bs]=()=>{E(),C[Bs]=void 0,delete h.delayedLeave,m=void 0},h.delayedLeave=()=>{A(),delete h.delayedLeave,m=void 0}}:m=void 0}else m&&(m=void 0);return a}}};function b2(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==On){t=n;break}}return t}const Y8=K8;function v2(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Fa(e,t,n,r,i){const{appear:a,mode:c,persisted:u=!1,onBeforeEnter:g,onEnter:h,onAfterEnter:m,onEnterCancelled:y,onBeforeLeave:C,onLeave:E,onAfterLeave:A,onLeaveCancelled:k,onBeforeAppear:D,onAppear:I,onAfterAppear:$,onAppearCancelled:P}=t,S=String(e.key),M=v2(n,e),j=(T,Q)=>{T&&Xr(T,r,9,Q)},L=(T,Q)=>{const oe=Q[1];j(T,Q),it(T)?T.every(Y=>Y.length<=1)&&oe():T.length<=1&&oe()},q={mode:c,persisted:u,beforeEnter(T){let Q=g;if(!n.isMounted)if(a)Q=D||g;else return;T[Bs]&&T[Bs](!0);const oe=M[S];oe&&To(e,oe)&&oe.el[Bs]&&oe.el[Bs](),j(Q,[T])},enter(T){let Q=h,oe=m,Y=y;if(!n.isMounted)if(a)Q=I||h,oe=$||m,Y=P||y;else return;let le=!1;const ye=T[hl]=re=>{le||(le=!0,re?j(Y,[T]):j(oe,[T]),q.delayedLeave&&q.delayedLeave(),T[hl]=void 0)};Q?L(Q,[T,ye]):ye()},leave(T,Q){const oe=String(e.key);if(T[hl]&&T[hl](!0),n.isUnmounting)return Q();j(C,[T]);let Y=!1;const le=T[Bs]=ye=>{Y||(Y=!0,Q(),ye?j(k,[T]):j(A,[T]),T[Bs]=void 0,M[oe]===e&&delete M[oe])};M[oe]=e,E?L(E,[T,le]):le()},clone(T){const Q=Fa(T,t,n,r,i);return i&&i(Q),Q}};return q}function mc(e){if(T0(e))return e=ao(e),e.children=null,e}function xf(e){if(!T0(e))return g2(e.type)&&e.children?b2(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&mt(n.default))return n.default()}}function zo(e,t){e.shapeFlag&6&&e.component?(e.transition=t,zo(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function sx(e,t=!1,n){let r=[],i=0;for(let a=0;a<e.length;a++){let c=e[a];const u=n==null?c.key:String(n)+String(c.key!=null?c.key:a);c.type===je?(c.patchFlag&128&&i++,r=r.concat(sx(c.children,t,u))):(t||c.type!==On)&&r.push(u!=null?ao(c,{key:u}):c)}if(i>1)for(let a=0;a<r.length;a++)r[a].patchFlag=-2;return r}function $r(e,t){return mt(e)?An({name:e.name},t,{setup:e}):e}function E2(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const s0=new WeakMap;function wi(e,t,n,r,i=!1){if(it(e)){e.forEach((A,k)=>wi(A,t&&(it(t)?t[k]:t),n,r,i));return}if(Lo(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&wi(e,t,n,r.component.subTree);return}const a=r.shapeFlag&4?R0(r.component):r.el,c=i?null:a,{i:u,r:g}=e,h=t&&t.r,m=u.refs===Gt?u.refs={}:u.refs,y=u.setupState,C=St(y),E=y===Gt?Up:A=>Lt(C,A);if(h!=null&&h!==g){if(ff(t),gn(h))m[h]=null,E(h)&&(y[h]=null);else if(Gn(h)){h.value=null;const A=t;A.k&&(m[A.k]=null)}}if(mt(g))Ka(g,u,12,[c,m]);else{const A=gn(g),k=Gn(g);if(A||k){const D=()=>{if(e.f){const I=A?E(g)?y[g]:m[g]:g.value;if(i)it(I)&&Gu(I,a);else if(it(I))I.includes(a)||I.push(a);else if(A)m[g]=[a],E(g)&&(y[g]=m[g]);else{const $=[a];g.value=$,e.k&&(m[e.k]=$)}}else A?(m[g]=c,E(g)&&(y[g]=c)):k&&(g.value=c,e.k&&(m[e.k]=c))};if(c){const I=()=>{D(),s0.delete(e)};I.id=-1,s0.set(e,I),pr(I,n)}else ff(e),D()}}}function ff(e){const t=s0.get(e);t&&(t.flags|=8,s0.delete(e))}let hf=!1;const di=()=>{hf||(console.error("Hydration completed but contains mismatches."),hf=!0)},X8=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",Z8=e=>e.namespaceURI.includes("MathML"),gl=e=>{if(e.nodeType===1){if(X8(e))return"svg";if(Z8(e))return"mathml"}},pl=e=>e.nodeType===8;function J8(e){const{mt:t,p:n,o:{patchProp:r,createText:i,nextSibling:a,parentNode:c,remove:u,insert:g,createComment:h}}=e,m=(P,S)=>{if(!S.hasChildNodes()){n(null,P,S),n0(),S._vnode=P;return}y(S.firstChild,P,null,null,null),n0(),S._vnode=P},y=(P,S,M,j,L,q=!1)=>{q=q||!!S.dynamicChildren;const T=pl(P)&&P.data==="[",Q=()=>k(P,S,M,j,L,T),{type:oe,ref:Y,shapeFlag:le,patchFlag:ye}=S;let re=P.nodeType;S.el=P,ye===-2&&(q=!1,S.dynamicChildren=null);let Ee=null;switch(oe){case $o:re!==3?S.children===""?(g(S.el=i(""),c(P),P),Ee=P):Ee=Q():(P.data!==S.children&&(di(),P.data=S.children),Ee=a(P));break;case On:$(P)?(Ee=a(P),I(S.el=P.content.firstChild,P,M)):re!==8||T?Ee=Q():Ee=a(P);break;case jl:if(T&&(P=a(P),re=P.nodeType),re===1||re===3){Ee=P;const ve=!S.children.length;for(let Ce=0;Ce<S.staticCount;Ce++)ve&&(S.children+=Ee.nodeType===1?Ee.outerHTML:Ee.data),Ce===S.staticCount-1&&(S.anchor=Ee),Ee=a(Ee);return T?a(Ee):Ee}else Q();break;case je:T?Ee=A(P,S,M,j,L,q):Ee=Q();break;default:if(le&1)(re!==1||S.type.toLowerCase()!==P.tagName.toLowerCase())&&!$(P)?Ee=Q():Ee=C(P,S,M,j,L,q);else if(le&6){S.slotScopeIds=L;const ve=c(P);if(T?Ee=D(P):pl(P)&&P.data==="teleport start"?Ee=D(P,P.data,"teleport end"):Ee=a(P),t(S,ve,null,M,j,gl(ve),q),Lo(S)&&!S.type.__asyncResolved){let Ce;T?(Ce=Ft(je),Ce.anchor=Ee?Ee.previousSibling:ve.lastChild):Ce=P.nodeType===3?Ve(""):Ft("div"),Ce.el=P,S.component.subTree=Ce}}else le&64?re!==8?Ee=Q():Ee=S.type.hydrate(P,S,M,j,L,q,e,E):le&128&&(Ee=S.type.hydrate(P,S,M,j,gl(c(P)),L,q,e,y))}return Y!=null&&wi(Y,null,j,S),Ee},C=(P,S,M,j,L,q)=>{q=q||!!S.dynamicChildren;const{type:T,props:Q,patchFlag:oe,shapeFlag:Y,dirs:le,transition:ye}=S,re=T==="input"||T==="option";if(re||oe!==-1){le&&fs(S,null,M,"created");let Ee=!1;if($(P)){Ee=N2(null,ye)&&M&&M.vnode.props&&M.vnode.props.appear;const Ce=P.content.firstChild;if(Ee){const he=Ce.getAttribute("class");he&&(Ce.$cls=he),ye.beforeEnter(Ce)}I(Ce,P,M),S.el=P=Ce}if(Y&16&&!(Q&&(Q.innerHTML||Q.textContent))){let Ce=E(P.firstChild,S,P,M,j,L,q);for(;Ce;){ml(P,1)||di();const he=Ce;Ce=Ce.nextSibling,u(he)}}else if(Y&8){let Ce=S.children;Ce[0]===`
`&&(P.tagName==="PRE"||P.tagName==="TEXTAREA")&&(Ce=Ce.slice(1)),P.textContent!==Ce&&(ml(P,0)||di(),P.textContent=S.children)}if(Q){if(re||!q||oe&48){const Ce=P.tagName.includes("-");for(const he in Q)(re&&(he.endsWith("value")||he==="indeterminate")||Wa(he)&&!vi(he)||he[0]==="."||Ce)&&r(P,he,null,Q[he],void 0,M)}else if(Q.onClick)r(P,"onClick",null,Q.onClick,void 0,M);else if(oe&4&&No(Q.style))for(const Ce in Q.style)Q.style[Ce]}let ve;(ve=Q&&Q.onVnodeBeforeMount)&&Fr(ve,M,S),le&&fs(S,null,M,"beforeMount"),((ve=Q&&Q.onVnodeMounted)||le||Ee)&&V2(()=>{ve&&Fr(ve,M,S),Ee&&ye.enter(P),le&&fs(S,null,M,"mounted")},j)}return P.nextSibling},E=(P,S,M,j,L,q,T)=>{T=T||!!S.dynamicChildren;const Q=S.children,oe=Q.length;for(let Y=0;Y<oe;Y++){const le=T?Q[Y]:Q[Y]=Tr(Q[Y]),ye=le.type===$o;P?(ye&&!T&&Y+1<oe&&Tr(Q[Y+1]).type===$o&&(g(i(P.data.slice(le.children.length)),M,a(P)),P.data=le.children),P=y(P,le,j,L,q,T)):ye&&!le.children?g(le.el=i(""),M):(ml(M,1)||di(),n(null,le,M,null,j,L,gl(M),q))}return P},A=(P,S,M,j,L,q)=>{const{slotScopeIds:T}=S;T&&(L=L?L.concat(T):T);const Q=c(P),oe=E(a(P),S,Q,M,j,L,q);return oe&&pl(oe)&&oe.data==="]"?a(S.anchor=oe):(di(),g(S.anchor=h("]"),Q,oe),oe)},k=(P,S,M,j,L,q)=>{if(ml(P.parentElement,1)||di(),S.el=null,q){const oe=D(P);for(;;){const Y=a(P);if(Y&&Y!==oe)u(Y);else break}}const T=a(P),Q=c(P);return u(P),n(null,S,Q,T,M,j,gl(Q),L),M&&(M.vnode.el=S.el,H2(M,S.el)),T},D=(P,S="[",M="]")=>{let j=0;for(;P;)if(P=a(P),P&&pl(P)&&(P.data===S&&j++,P.data===M)){if(j===0)return a(P);j--}return P},I=(P,S,M)=>{const j=S.parentNode;j&&j.replaceChild(P,S);let L=M;for(;L;)L.vnode.el===S&&(L.vnode.el=L.subTree.el=P),L=L.parent},$=P=>P.nodeType===1&&P.tagName==="TEMPLATE";return[m,y]}const gf="data-allow-mismatch",e9={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function ml(e,t){if(t===0||t===1)for(;e&&!e.hasAttribute(gf);)e=e.parentElement;const n=e&&e.getAttribute(gf);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return t===0&&r.includes("children")?!0:r.includes(e9[t])}}D0().requestIdleCallback;D0().cancelIdleCallback;const Lo=e=>!!e.type.__asyncLoader,T0=e=>e.type.__isKeepAlive;function t9(e,t){w2(e,"a",t)}function n9(e,t){w2(e,"da",t)}function w2(e,t,n=zn){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(M0(t,r,n),n){let i=n.parent;for(;i&&i.parent;)T0(i.parent.vnode)&&r9(r,t,n,i),i=i.parent}}function r9(e,t,n,r){const i=M0(t,e,r,!0);Vo(()=>{Gu(r[t],i)},n)}function M0(e,t,n=zn,r=!1){if(n){const i=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...c)=>{Is();const u=Ya(n),g=Xr(t,n,e,c);return u(),Ps(),g});return r?i.unshift(a):i.push(a),a}}const Os=e=>(t,n=zn)=>{(!Ia||e==="sp")&&M0(e,(...r)=>t(...r),n)},s9=Os("bm"),Qn=Os("m"),o9=Os("bu"),C2=Os("u"),I0=Os("bum"),Vo=Os("um"),i9=Os("sp"),a9=Os("rtg"),l9=Os("rtc");function c9(e,t=zn){M0("ec",e,t)}const d9="components";function u9(e,t){return f9(d9,e,!0,t)||e}const x9=Symbol.for("v-ndc");function f9(e,t,n=!0,r=!1){const i=Nn||zn;if(i){const a=i.type;{const u=ev(a,!1);if(u&&(u===t||u===Or(t)||u===k0(Or(t))))return a}const c=pf(i[e]||a[e],t)||pf(i.appContext[e],t);return!c&&r?a:c}}function pf(e,t){return e&&(e[t]||e[Or(t)]||e[k0(Or(t))])}function nt(e,t,n,r){let i;const a=n,c=it(e);if(c||gn(e)){const u=c&&No(e);let g=!1,h=!1;u&&(g=!Pr(e),h=io(e),e=S0(e)),i=new Array(e.length);for(let m=0,y=e.length;m<y;m++)i[m]=t(g?h?Jl(Rn(e[m])):Rn(e[m]):e[m],m,void 0,a)}else if(typeof e=="number"){i=new Array(e);for(let u=0;u<e;u++)i[u]=t(u+1,u,void 0,a)}else if(Vt(e))if(e[Symbol.iterator])i=Array.from(e,(u,g)=>t(u,g,void 0,a));else{const u=Object.keys(e);i=new Array(u.length);for(let g=0,h=u.length;g<h;g++){const m=u[g];i[g]=t(e[m],m,g,a)}}else i=[];return i}function h9(e,t,n={},r,i){if(Nn.ce||Nn.parent&&Lo(Nn.parent)&&Nn.parent.ce){const h=Object.keys(n).length>0;return U(),wt(je,null,[Ft("slot",n,r)],h?-2:64)}let a=e[t];a&&a._c&&(a._d=!1),U();const c=a&&A2(a(n)),u=n.key||c&&c.key,g=wt(je,{key:(u&&!Yr(u)?u:`_${t}`)+(!c&&r?"_fb":"")},c||[],c&&e._===1?64:-2);return g.scopeId&&(g.slotScopeIds=[g.scopeId+"-s"]),a&&a._c&&(a._d=!0),g}function A2(e){return e.some(t=>Ma(t)?!(t.type===On||t.type===je&&!A2(t.children)):!0)?e:null}const hu=e=>e?G2(e)?R0(e):hu(e.parent):null,ya=An(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>hu(e.parent),$root:e=>hu(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>_2(e),$forceUpdate:e=>e.f||(e.f=()=>{rx(e.update)}),$nextTick:e=>e.n||(e.n=br.bind(e.proxy)),$watch:e=>O9.bind(e)}),yc=(e,t)=>e!==Gt&&!e.__isScriptSetup&&Lt(e,t),g9={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:a,accessCache:c,type:u,appContext:g}=e;let h;if(t[0]!=="$"){const E=c[t];if(E!==void 0)switch(E){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return a[t]}else{if(yc(r,t))return c[t]=1,r[t];if(i!==Gt&&Lt(i,t))return c[t]=2,i[t];if((h=e.propsOptions[0])&&Lt(h,t))return c[t]=3,a[t];if(n!==Gt&&Lt(n,t))return c[t]=4,n[t];gu&&(c[t]=0)}}const m=ya[t];let y,C;if(m)return t==="$attrs"&&Hn(e.attrs,"get",""),m(e);if((y=u.__cssModules)&&(y=y[t]))return y;if(n!==Gt&&Lt(n,t))return c[t]=4,n[t];if(C=g.config.globalProperties,Lt(C,t))return C[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:a}=e;return yc(i,t)?(i[t]=n,!0):r!==Gt&&Lt(r,t)?(r[t]=n,!0):Lt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:a,type:c}},u){let g,h;return!!(n[u]||e!==Gt&&u[0]!=="$"&&Lt(e,u)||yc(t,u)||(g=a[0])&&Lt(g,u)||Lt(r,u)||Lt(ya,u)||Lt(i.config.globalProperties,u)||(h=c.__cssModules)&&h[u])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Lt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function mf(e){return it(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let gu=!0;function p9(e){const t=_2(e),n=e.proxy,r=e.ctx;gu=!1,t.beforeCreate&&yf(t.beforeCreate,e,"bc");const{data:i,computed:a,methods:c,watch:u,provide:g,inject:h,created:m,beforeMount:y,mounted:C,beforeUpdate:E,updated:A,activated:k,deactivated:D,beforeDestroy:I,beforeUnmount:$,destroyed:P,unmounted:S,render:M,renderTracked:j,renderTriggered:L,errorCaptured:q,serverPrefetch:T,expose:Q,inheritAttrs:oe,components:Y,directives:le,filters:ye}=t;if(h&&m9(h,r,null),c)for(const ve in c){const Ce=c[ve];mt(Ce)&&(r[ve]=Ce.bind(n))}if(i){const ve=i.call(n,n);Vt(ve)&&(e.data=po(ve))}if(gu=!0,a)for(const ve in a){const Ce=a[ve],he=mt(Ce)?Ce.bind(n,n):mt(Ce.get)?Ce.get.bind(n,n):hs,ae=!mt(Ce)&&mt(Ce.set)?Ce.set.bind(n):hs,ee=Ke({get:he,set:ae});Object.defineProperty(r,ve,{enumerable:!0,configurable:!0,get:()=>ee.value,set:Ie=>ee.value=Ie})}if(u)for(const ve in u)B2(u[ve],r,n,ve);if(g){const ve=mt(g)?g.call(n):g;Reflect.ownKeys(ve).forEach(Ce=>{C9(Ce,ve[Ce])})}m&&yf(m,e,"c");function Ee(ve,Ce){it(Ce)?Ce.forEach(he=>ve(he.bind(n))):Ce&&ve(Ce.bind(n))}if(Ee(s9,y),Ee(Qn,C),Ee(o9,E),Ee(C2,A),Ee(t9,k),Ee(n9,D),Ee(c9,q),Ee(l9,j),Ee(a9,L),Ee(I0,$),Ee(Vo,S),Ee(i9,T),it(Q))if(Q.length){const ve=e.exposed||(e.exposed={});Q.forEach(Ce=>{Object.defineProperty(ve,Ce,{get:()=>n[Ce],set:he=>n[Ce]=he,enumerable:!0})})}else e.exposed||(e.exposed={});M&&e.render===hs&&(e.render=M),oe!=null&&(e.inheritAttrs=oe),Y&&(e.components=Y),le&&(e.directives=le),T&&E2(e)}function m9(e,t,n=hs){it(e)&&(e=pu(e));for(const r in e){const i=e[r];let a;Vt(i)?"default"in i?a=$l(i.from||r,i.default,!0):a=$l(i.from||r):a=$l(i),Gn(a)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:c=>a.value=c}):t[r]=a}}function yf(e,t,n){Xr(it(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function B2(e,t,n,r){let i=r.includes(".")?j2(n,r):()=>n[r];if(gn(e)){const a=t[e];mt(a)&&En(i,a)}else if(mt(e))En(i,e.bind(n));else if(Vt(e))if(it(e))e.forEach(a=>B2(a,t,n,r));else{const a=mt(e.handler)?e.handler.bind(n):t[e.handler];mt(a)&&En(i,a,e)}}function _2(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:c}}=e.appContext,u=a.get(t);let g;return u?g=u:!i.length&&!n&&!r?g=t:(g={},i.length&&i.forEach(h=>o0(g,h,c,!0)),o0(g,t,c)),Vt(t)&&a.set(t,g),g}function o0(e,t,n,r=!1){const{mixins:i,extends:a}=t;a&&o0(e,a,n,!0),i&&i.forEach(c=>o0(e,c,n,!0));for(const c in t)if(!(r&&c==="expose")){const u=y9[c]||n&&n[c];e[c]=u?u(e[c],t[c]):t[c]}return e}const y9={data:bf,props:vf,emits:vf,methods:da,computed:da,beforeCreate:Xn,created:Xn,beforeMount:Xn,mounted:Xn,beforeUpdate:Xn,updated:Xn,beforeDestroy:Xn,beforeUnmount:Xn,destroyed:Xn,unmounted:Xn,activated:Xn,deactivated:Xn,errorCaptured:Xn,serverPrefetch:Xn,components:da,directives:da,watch:v9,provide:bf,inject:b9};function bf(e,t){return t?e?function(){return An(mt(e)?e.call(this,this):e,mt(t)?t.call(this,this):t)}:t:e}function b9(e,t){return da(pu(e),pu(t))}function pu(e){if(it(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Xn(e,t){return e?[...new Set([].concat(e,t))]:t}function da(e,t){return e?An(Object.create(null),e,t):t}function vf(e,t){return e?it(e)&&it(t)?[...new Set([...e,...t])]:An(Object.create(null),mf(e),mf(t??{})):t}function v9(e,t){if(!e)return t;if(!t)return e;const n=An(Object.create(null),e);for(const r in t)n[r]=Xn(e[r],t[r]);return n}function k2(){return{app:null,config:{isNativeTag:Up,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let E9=0;function w9(e,t){return function(r,i=null){mt(r)||(r=An({},r)),i!=null&&!Vt(i)&&(i=null);const a=k2(),c=new WeakSet,u=[];let g=!1;const h=a.app={_uid:E9++,_component:r,_props:i,_container:null,_context:a,_instance:null,version:K2,get config(){return a.config},set config(m){},use(m,...y){return c.has(m)||(m&&mt(m.install)?(c.add(m),m.install(h,...y)):mt(m)&&(c.add(m),m(h,...y))),h},mixin(m){return a.mixins.includes(m)||a.mixins.push(m),h},component(m,y){return y?(a.components[m]=y,h):a.components[m]},directive(m,y){return y?(a.directives[m]=y,h):a.directives[m]},mount(m,y,C){if(!g){const E=h._ceVNode||Ft(r,i);return E.appContext=a,C===!0?C="svg":C===!1&&(C=void 0),y&&t?t(E,m):e(E,m,C),g=!0,h._container=m,m.__vue_app__=h,R0(E.component)}},onUnmount(m){u.push(m)},unmount(){g&&(Xr(u,h._instance,16),e(null,h._container),delete h._container.__vue_app__)},provide(m,y){return a.provides[m]=y,h},runWithContext(m){const y=Ci;Ci=h;try{return m()}finally{Ci=y}}};return h}}let Ci=null;function C9(e,t){if(zn){let n=zn.provides;const r=zn.parent&&zn.parent.provides;r===n&&(n=zn.provides=Object.create(r)),n[e]=t}}function $l(e,t,n=!1){const r=cx();if(r||Ci){let i=Ci?Ci._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&mt(t)?t.call(r&&r.proxy):t}}const D2={},S2=()=>Object.create(D2),F2=e=>Object.getPrototypeOf(e)===D2;function A9(e,t,n,r=!1){const i={},a=S2();e.propsDefaults=Object.create(null),T2(e,t,i,a);for(const c in e.propsOptions[0])c in i||(i[c]=void 0);n?e.props=r?i:L8(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function B9(e,t,n,r){const{props:i,attrs:a,vnode:{patchFlag:c}}=e,u=St(i),[g]=e.propsOptions;let h=!1;if((r||c>0)&&!(c&16)){if(c&8){const m=e.vnode.dynamicProps;for(let y=0;y<m.length;y++){let C=m[y];if(P0(e.emitsOptions,C))continue;const E=t[C];if(g)if(Lt(a,C))E!==a[C]&&(a[C]=E,h=!0);else{const A=Or(C);i[A]=mu(g,u,A,E,e,!1)}else E!==a[C]&&(a[C]=E,h=!0)}}}else{T2(e,t,i,a)&&(h=!0);let m;for(const y in u)(!t||!Lt(t,y)&&((m=go(y))===y||!Lt(t,m)))&&(g?n&&(n[y]!==void 0||n[m]!==void 0)&&(i[y]=mu(g,u,y,void 0,e,!0)):delete i[y]);if(a!==u)for(const y in a)(!t||!Lt(t,y))&&(delete a[y],h=!0)}h&&ks(e.attrs,"set","")}function T2(e,t,n,r){const[i,a]=e.propsOptions;let c=!1,u;if(t)for(let g in t){if(vi(g))continue;const h=t[g];let m;i&&Lt(i,m=Or(g))?!a||!a.includes(m)?n[m]=h:(u||(u={}))[m]=h:P0(e.emitsOptions,g)||(!(g in r)||h!==r[g])&&(r[g]=h,c=!0)}if(a){const g=St(n),h=u||Gt;for(let m=0;m<a.length;m++){const y=a[m];n[y]=mu(i,g,y,h[y],e,!Lt(h,y))}}return c}function mu(e,t,n,r,i,a){const c=e[n];if(c!=null){const u=Lt(c,"default");if(u&&r===void 0){const g=c.default;if(c.type!==Function&&!c.skipFactory&&mt(g)){const{propsDefaults:h}=i;if(n in h)r=h[n];else{const m=Ya(i);r=h[n]=g.call(null,t),m()}}else r=g;i.ce&&i.ce._setProp(n,r)}c[0]&&(a&&!u?r=!1:c[1]&&(r===""||r===go(n))&&(r=!0))}return r}const _9=new WeakMap;function M2(e,t,n=!1){const r=n?_9:t.propsCache,i=r.get(e);if(i)return i;const a=e.props,c={},u=[];let g=!1;if(!mt(e)){const m=y=>{g=!0;const[C,E]=M2(y,t,!0);An(c,C),E&&u.push(...E)};!n&&t.mixins.length&&t.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}if(!a&&!g)return Vt(e)&&r.set(e,yi),yi;if(it(a))for(let m=0;m<a.length;m++){const y=Or(a[m]);Ef(y)&&(c[y]=Gt)}else if(a)for(const m in a){const y=Or(m);if(Ef(y)){const C=a[m],E=c[y]=it(C)||mt(C)?{type:C}:An({},C),A=E.type;let k=!1,D=!0;if(it(A))for(let I=0;I<A.length;++I){const $=A[I],P=mt($)&&$.name;if(P==="Boolean"){k=!0;break}else P==="String"&&(D=!1)}else k=mt(A)&&A.name==="Boolean";E[0]=k,E[1]=D,(k||Lt(E,"default"))&&u.push(y)}}const h=[c,u];return Vt(e)&&r.set(e,h),h}function Ef(e){return e[0]!=="$"&&!vi(e)}const ox=e=>e==="_"||e==="_ctx"||e==="$stable",ix=e=>it(e)?e.map(Tr):[Tr(e)],k9=(e,t,n)=>{if(t._n)return t;const r=vt((...i)=>ix(t(...i)),n);return r._c=!1,r},I2=(e,t,n)=>{const r=e._ctx;for(const i in e){if(ox(i))continue;const a=e[i];if(mt(a))t[i]=k9(i,a,r);else if(a!=null){const c=ix(a);t[i]=()=>c}}},P2=(e,t)=>{const n=ix(t);e.slots.default=()=>n},R2=(e,t,n)=>{for(const r in t)(n||!ox(r))&&(e[r]=t[r])},D9=(e,t,n)=>{const r=e.slots=S2();if(e.vnode.shapeFlag&32){const i=t._;i?(R2(r,t,n),n&&qp(r,"_",i,!0)):I2(t,r)}else t&&P2(e,t)},S9=(e,t,n)=>{const{vnode:r,slots:i}=e;let a=!0,c=Gt;if(r.shapeFlag&32){const u=t._;u?n&&u===1?a=!1:R2(i,t,n):(a=!t.$stable,I2(t,i)),c=t}else t&&(P2(e,t),c={default:1});if(a)for(const u in i)!ox(u)&&c[u]==null&&delete i[u]},pr=V2;function F9(e){return O2(e)}function T9(e){return O2(e,J8)}function O2(e,t){const n=D0();n.__VUE__=!0;const{insert:r,remove:i,patchProp:a,createElement:c,createText:u,createComment:g,setText:h,setElementText:m,parentNode:y,nextSibling:C,setScopeId:E=hs,insertStaticContent:A}=e,k=(J,z,F,X=null,ce=null,se=null,we=void 0,N=null,w=!!z.dynamicChildren)=>{if(J===z)return;J&&!To(J,z)&&(X=et(J),Ie(J,ce,se,!0),J=null),z.patchFlag===-2&&(w=!1,z.dynamicChildren=null);const{type:_,ref:H,shapeFlag:K}=z;switch(_){case $o:D(J,z,F,X);break;case On:I(J,z,F,X);break;case jl:J==null&&$(z,F,X,we);break;case je:Y(J,z,F,X,ce,se,we,N,w);break;default:K&1?M(J,z,F,X,ce,se,we,N,w):K&6?le(J,z,F,X,ce,se,we,N,w):(K&64||K&128)&&_.process(J,z,F,X,ce,se,we,N,w,Pe)}H!=null&&ce?wi(H,J&&J.ref,se,z||J,!z):H==null&&J&&J.ref!=null&&wi(J.ref,null,se,J,!0)},D=(J,z,F,X)=>{if(J==null)r(z.el=u(z.children),F,X);else{const ce=z.el=J.el;z.children!==J.children&&h(ce,z.children)}},I=(J,z,F,X)=>{J==null?r(z.el=g(z.children||""),F,X):z.el=J.el},$=(J,z,F,X)=>{[J.el,J.anchor]=A(J.children,z,F,X,J.el,J.anchor)},P=({el:J,anchor:z},F,X)=>{let ce;for(;J&&J!==z;)ce=C(J),r(J,F,X),J=ce;r(z,F,X)},S=({el:J,anchor:z})=>{let F;for(;J&&J!==z;)F=C(J),i(J),J=F;i(z)},M=(J,z,F,X,ce,se,we,N,w)=>{z.type==="svg"?we="svg":z.type==="math"&&(we="mathml"),J==null?j(z,F,X,ce,se,we,N,w):T(J,z,ce,se,we,N,w)},j=(J,z,F,X,ce,se,we,N)=>{let w,_;const{props:H,shapeFlag:K,transition:de,dirs:ue}=J;if(w=J.el=c(J.type,se,H&&H.is,H),K&8?m(w,J.children):K&16&&q(J.children,w,null,X,ce,bc(J,se),we,N),ue&&fs(J,null,X,"created"),L(w,J,J.scopeId,we,X),H){for(const Ye in H)Ye!=="value"&&!vi(Ye)&&a(w,Ye,null,H[Ye],se,X);"value"in H&&a(w,"value",null,H.value,se),(_=H.onVnodeBeforeMount)&&Fr(_,X,J)}ue&&fs(J,null,X,"beforeMount");const ke=N2(ce,de);ke&&de.beforeEnter(w),r(w,z,F),((_=H&&H.onVnodeMounted)||ke||ue)&&pr(()=>{_&&Fr(_,X,J),ke&&de.enter(w),ue&&fs(J,null,X,"mounted")},ce)},L=(J,z,F,X,ce)=>{if(F&&E(J,F),X)for(let se=0;se<X.length;se++)E(J,X[se]);if(ce){let se=ce.subTree;if(z===se||z2(se.type)&&(se.ssContent===z||se.ssFallback===z)){const we=ce.vnode;L(J,we,we.scopeId,we.slotScopeIds,ce.parent)}}},q=(J,z,F,X,ce,se,we,N,w=0)=>{for(let _=w;_<J.length;_++){const H=J[_]=N?Zs(J[_]):Tr(J[_]);k(null,H,z,F,X,ce,se,we,N)}},T=(J,z,F,X,ce,se,we)=>{const N=z.el=J.el;let{patchFlag:w,dynamicChildren:_,dirs:H}=z;w|=J.patchFlag&16;const K=J.props||Gt,de=z.props||Gt;let ue;if(F&&Co(F,!1),(ue=de.onVnodeBeforeUpdate)&&Fr(ue,F,z,J),H&&fs(z,J,F,"beforeUpdate"),F&&Co(F,!0),(K.innerHTML&&de.innerHTML==null||K.textContent&&de.textContent==null)&&m(N,""),_?Q(J.dynamicChildren,_,N,F,X,bc(z,ce),se):we||Ce(J,z,N,null,F,X,bc(z,ce),se,!1),w>0){if(w&16)oe(N,K,de,F,ce);else if(w&2&&K.class!==de.class&&a(N,"class",null,de.class,ce),w&4&&a(N,"style",K.style,de.style,ce),w&8){const ke=z.dynamicProps;for(let Ye=0;Ye<ke.length;Ye++){const Qe=ke[Ye],ht=K[Qe],ut=de[Qe];(ut!==ht||Qe==="value")&&a(N,Qe,ht,ut,ce,F)}}w&1&&J.children!==z.children&&m(N,z.children)}else!we&&_==null&&oe(N,K,de,F,ce);((ue=de.onVnodeUpdated)||H)&&pr(()=>{ue&&Fr(ue,F,z,J),H&&fs(z,J,F,"updated")},X)},Q=(J,z,F,X,ce,se,we)=>{for(let N=0;N<z.length;N++){const w=J[N],_=z[N],H=w.el&&(w.type===je||!To(w,_)||w.shapeFlag&198)?y(w.el):F;k(w,_,H,null,X,ce,se,we,!0)}},oe=(J,z,F,X,ce)=>{if(z!==F){if(z!==Gt)for(const se in z)!vi(se)&&!(se in F)&&a(J,se,z[se],null,ce,X);for(const se in F){if(vi(se))continue;const we=F[se],N=z[se];we!==N&&se!=="value"&&a(J,se,N,we,ce,X)}"value"in F&&a(J,"value",z.value,F.value,ce)}},Y=(J,z,F,X,ce,se,we,N,w)=>{const _=z.el=J?J.el:u(""),H=z.anchor=J?J.anchor:u("");let{patchFlag:K,dynamicChildren:de,slotScopeIds:ue}=z;ue&&(N=N?N.concat(ue):ue),J==null?(r(_,F,X),r(H,F,X),q(z.children||[],F,H,ce,se,we,N,w)):K>0&&K&64&&de&&J.dynamicChildren?(Q(J.dynamicChildren,de,F,ce,se,we,N),(z.key!=null||ce&&z===ce.subTree)&&L2(J,z,!0)):Ce(J,z,F,H,ce,se,we,N,w)},le=(J,z,F,X,ce,se,we,N,w)=>{z.slotScopeIds=N,J==null?z.shapeFlag&512?ce.ctx.activate(z,F,X,we,w):ye(z,F,X,ce,se,we,w):re(J,z,w)},ye=(J,z,F,X,ce,se,we)=>{const N=J.component=K9(J,X,ce);if(T0(J)&&(N.ctx.renderer=Pe),Y9(N,!1,we),N.asyncDep){if(ce&&ce.registerDep(N,Ee,we),!J.el){const w=N.subTree=Ft(On);I(null,w,z,F),J.placeholder=w.el}}else Ee(N,J,z,F,ce,se,we)},re=(J,z,F)=>{const X=z.component=J.component;if(H9(J,z,F))if(X.asyncDep&&!X.asyncResolved){ve(X,z,F);return}else X.next=z,X.update();else z.el=J.el,X.vnode=z},Ee=(J,z,F,X,ce,se,we)=>{const N=()=>{if(J.isMounted){let{next:K,bu:de,u:ue,parent:ke,vnode:Ye}=J;{const xt=$2(J);if(xt){K&&(K.el=Ye.el,ve(J,K,we)),xt.asyncDep.then(()=>{J.isUnmounted||N()});return}}let Qe=K,ht;Co(J,!1),K?(K.el=Ye.el,ve(J,K,we)):K=Ye,de&&Ll(de),(ht=K.props&&K.props.onVnodeBeforeUpdate)&&Fr(ht,ke,K,Ye),Co(J,!0);const ut=vc(J),gt=J.subTree;J.subTree=ut,k(gt,ut,y(gt.el),et(gt),J,ce,se),K.el=ut.el,Qe===null&&H2(J,ut.el),ue&&pr(ue,ce),(ht=K.props&&K.props.onVnodeUpdated)&&pr(()=>Fr(ht,ke,K,Ye),ce)}else{let K;const{el:de,props:ue}=z,{bm:ke,m:Ye,parent:Qe,root:ht,type:ut}=J,gt=Lo(z);if(Co(J,!1),ke&&Ll(ke),!gt&&(K=ue&&ue.onVnodeBeforeMount)&&Fr(K,Qe,z),Co(J,!0),de&&_e){const xt=()=>{J.subTree=vc(J),_e(de,J.subTree,J,ce,null)};gt&&ut.__asyncHydrate?ut.__asyncHydrate(de,J,xt):xt()}else{ht.ce&&ht.ce._def.shadowRoot!==!1&&ht.ce._injectChildStyle(ut);const xt=J.subTree=vc(J);k(null,xt,F,X,J,ce,se),z.el=xt.el}if(Ye&&pr(Ye,ce),!gt&&(K=ue&&ue.onVnodeMounted)){const xt=z;pr(()=>Fr(K,Qe,xt),ce)}(z.shapeFlag&256||Qe&&Lo(Qe.vnode)&&Qe.vnode.shapeFlag&256)&&J.a&&pr(J.a,ce),J.isMounted=!0,z=F=X=null}};J.scope.on();const w=J.effect=new Kp(N);J.scope.off();const _=J.update=w.run.bind(w),H=J.job=w.runIfDirty.bind(w);H.i=J,H.id=J.uid,w.scheduler=()=>rx(H),Co(J,!0),_()},ve=(J,z,F)=>{z.component=J;const X=J.vnode.props;J.vnode=z,J.next=null,B9(J,z.props,X,F),S9(J,z.children,F),Is(),uf(J),Ps()},Ce=(J,z,F,X,ce,se,we,N,w=!1)=>{const _=J&&J.children,H=J?J.shapeFlag:0,K=z.children,{patchFlag:de,shapeFlag:ue}=z;if(de>0){if(de&128){ae(_,K,F,X,ce,se,we,N,w);return}else if(de&256){he(_,K,F,X,ce,se,we,N,w);return}}ue&8?(H&16&&Re(_,ce,se),K!==_&&m(F,K)):H&16?ue&16?ae(_,K,F,X,ce,se,we,N,w):Re(_,ce,se,!0):(H&8&&m(F,""),ue&16&&q(K,F,X,ce,se,we,N,w))},he=(J,z,F,X,ce,se,we,N,w)=>{J=J||yi,z=z||yi;const _=J.length,H=z.length,K=Math.min(_,H);let de;for(de=0;de<K;de++){const ue=z[de]=w?Zs(z[de]):Tr(z[de]);k(J[de],ue,F,null,ce,se,we,N,w)}_>H?Re(J,ce,se,!0,!1,K):q(z,F,X,ce,se,we,N,w,K)},ae=(J,z,F,X,ce,se,we,N,w)=>{let _=0;const H=z.length;let K=J.length-1,de=H-1;for(;_<=K&&_<=de;){const ue=J[_],ke=z[_]=w?Zs(z[_]):Tr(z[_]);if(To(ue,ke))k(ue,ke,F,null,ce,se,we,N,w);else break;_++}for(;_<=K&&_<=de;){const ue=J[K],ke=z[de]=w?Zs(z[de]):Tr(z[de]);if(To(ue,ke))k(ue,ke,F,null,ce,se,we,N,w);else break;K--,de--}if(_>K){if(_<=de){const ue=de+1,ke=ue<H?z[ue].el:X;for(;_<=de;)k(null,z[_]=w?Zs(z[_]):Tr(z[_]),F,ke,ce,se,we,N,w),_++}}else if(_>de)for(;_<=K;)Ie(J[_],ce,se,!0),_++;else{const ue=_,ke=_,Ye=new Map;for(_=ke;_<=de;_++){const be=z[_]=w?Zs(z[_]):Tr(z[_]);be.key!=null&&Ye.set(be.key,_)}let Qe,ht=0;const ut=de-ke+1;let gt=!1,xt=0;const He=new Array(ut);for(_=0;_<ut;_++)He[_]=0;for(_=ue;_<=K;_++){const be=J[_];if(ht>=ut){Ie(be,ce,se,!0);continue}let Ae;if(be.key!=null)Ae=Ye.get(be.key);else for(Qe=ke;Qe<=de;Qe++)if(He[Qe-ke]===0&&To(be,z[Qe])){Ae=Qe;break}Ae===void 0?Ie(be,ce,se,!0):(He[Ae-ke]=_+1,Ae>=xt?xt=Ae:gt=!0,k(be,z[Ae],F,null,ce,se,we,N,w),ht++)}const Pt=gt?M9(He):yi;for(Qe=Pt.length-1,_=ut-1;_>=0;_--){const be=ke+_,Ae=z[be],pt=z[be+1],kt=be+1<H?pt.el||pt.placeholder:X;He[_]===0?k(null,Ae,F,kt,ce,se,we,N,w):gt&&(Qe<0||_!==Pt[Qe]?ee(Ae,F,kt,2):Qe--)}}},ee=(J,z,F,X,ce=null)=>{const{el:se,type:we,transition:N,children:w,shapeFlag:_}=J;if(_&6){ee(J.component.subTree,z,F,X);return}if(_&128){J.suspense.move(z,F,X);return}if(_&64){we.move(J,z,F,Pe);return}if(we===je){r(se,z,F);for(let K=0;K<w.length;K++)ee(w[K],z,F,X);r(J.anchor,z,F);return}if(we===jl){P(J,z,F);return}if(X!==2&&_&1&&N)if(X===0)N.beforeEnter(se),r(se,z,F),pr(()=>N.enter(se),ce);else{const{leave:K,delayLeave:de,afterLeave:ue}=N,ke=()=>{J.ctx.isUnmounted?i(se):r(se,z,F)},Ye=()=>{se._isLeaving&&se[Bs](!0),K(se,()=>{ke(),ue&&ue()})};de?de(se,ke,Ye):Ye()}else r(se,z,F)},Ie=(J,z,F,X=!1,ce=!1)=>{const{type:se,props:we,ref:N,children:w,dynamicChildren:_,shapeFlag:H,patchFlag:K,dirs:de,cacheIndex:ue}=J;if(K===-2&&(ce=!1),N!=null&&(Is(),wi(N,null,F,J,!0),Ps()),ue!=null&&(z.renderCache[ue]=void 0),H&256){z.ctx.deactivate(J);return}const ke=H&1&&de,Ye=!Lo(J);let Qe;if(Ye&&(Qe=we&&we.onVnodeBeforeUnmount)&&Fr(Qe,z,J),H&6)tt(J.component,F,X);else{if(H&128){J.suspense.unmount(F,X);return}ke&&fs(J,null,z,"beforeUnmount"),H&64?J.type.remove(J,z,F,Pe,X):_&&!_.hasOnce&&(se!==je||K>0&&K&64)?Re(_,z,F,!1,!0):(se===je&&K&384||!ce&&H&16)&&Re(w,z,F),X&&$e(J)}(Ye&&(Qe=we&&we.onVnodeUnmounted)||ke)&&pr(()=>{Qe&&Fr(Qe,z,J),ke&&fs(J,null,z,"unmounted")},F)},$e=J=>{const{type:z,el:F,anchor:X,transition:ce}=J;if(z===je){Ne(F,X);return}if(z===jl){S(J);return}const se=()=>{i(F),ce&&!ce.persisted&&ce.afterLeave&&ce.afterLeave()};if(J.shapeFlag&1&&ce&&!ce.persisted){const{leave:we,delayLeave:N}=ce,w=()=>we(F,se);N?N(J.el,se,w):w()}else se()},Ne=(J,z)=>{let F;for(;J!==z;)F=C(J),i(J),J=F;i(z)},tt=(J,z,F)=>{const{bum:X,scope:ce,job:se,subTree:we,um:N,m:w,a:_}=J;wf(w),wf(_),X&&Ll(X),ce.stop(),se&&(se.flags|=8,Ie(we,J,z,F)),N&&pr(N,z),pr(()=>{J.isUnmounted=!0},z)},Re=(J,z,F,X=!1,ce=!1,se=0)=>{for(let we=se;we<J.length;we++)Ie(J[we],z,F,X,ce)},et=J=>{if(J.shapeFlag&6)return et(J.component.subTree);if(J.shapeFlag&128)return J.suspense.next();const z=C(J.anchor||J.el),F=z&&z[Q8];return F?C(F):z};let Xe=!1;const rt=(J,z,F)=>{J==null?z._vnode&&Ie(z._vnode,null,null,!0):k(z._vnode||null,J,z,null,null,null,F),z._vnode=J,Xe||(Xe=!0,uf(),n0(),Xe=!1)},Pe={p:k,um:Ie,m:ee,r:$e,mt:ye,mc:q,pc:Ce,pbc:Q,n:et,o:e};let te,_e;return t&&([te,_e]=t(Pe)),{render:rt,hydrate:te,createApp:w9(rt,te)}}function bc({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Co({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function N2(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function L2(e,t,n=!1){const r=e.children,i=t.children;if(it(r)&&it(i))for(let a=0;a<r.length;a++){const c=r[a];let u=i[a];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=i[a]=Zs(i[a]),u.el=c.el),!n&&u.patchFlag!==-2&&L2(c,u)),u.type===$o&&u.patchFlag!==-1&&(u.el=c.el),u.type===On&&!u.el&&(u.el=c.el)}}function M9(e){const t=e.slice(),n=[0];let r,i,a,c,u;const g=e.length;for(r=0;r<g;r++){const h=e[r];if(h!==0){if(i=n[n.length-1],e[i]<h){t[r]=i,n.push(r);continue}for(a=0,c=n.length-1;a<c;)u=a+c>>1,e[n[u]]<h?a=u+1:c=u;h<e[n[a]]&&(a>0&&(t[r]=n[a-1]),n[a]=r)}}for(a=n.length,c=n[a-1];a-- >0;)n[a]=c,c=t[c];return n}function $2(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:$2(t)}function wf(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const I9=Symbol.for("v-scx"),P9=()=>$l(I9);function R9(e,t){return ax(e,null,t)}function En(e,t,n){return ax(e,t,n)}function ax(e,t,n=Gt){const{immediate:r,deep:i,flush:a,once:c}=n,u=An({},n),g=t&&r||!t&&a!=="post";let h;if(Ia){if(a==="sync"){const E=P9();h=E.__watcherHandles||(E.__watcherHandles=[])}else if(!g){const E=()=>{};return E.stop=hs,E.resume=hs,E.pause=hs,E}}const m=zn;u.call=(E,A,k)=>Xr(E,m,A,k);let y=!1;a==="post"?u.scheduler=E=>{pr(E,m&&m.suspense)}:a!=="sync"&&(y=!0,u.scheduler=(E,A)=>{A?E():rx(E)}),u.augmentJob=E=>{t&&(E.flags|=4),y&&(E.flags|=2,m&&(E.id=m.uid,E.i=m))};const C=V8(e,t,u);return Ia&&(h?h.push(C):g&&C()),C}function O9(e,t,n){const r=this.proxy,i=gn(e)?e.includes(".")?j2(r,e):()=>r[e]:e.bind(r,r);let a;mt(t)?a=t:(a=t.handler,n=t);const c=Ya(this),u=ax(i,a.bind(r),n);return c(),u}function j2(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const N9=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Or(t)}Modifiers`]||e[`${go(t)}Modifiers`];function L9(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Gt;let i=n;const a=t.startsWith("update:"),c=a&&N9(r,t.slice(7));c&&(c.trim&&(i=n.map(m=>gn(m)?m.trim():m)),c.number&&(i=n.map(Zl)));let u,g=r[u=xc(t)]||r[u=xc(Or(t))];!g&&a&&(g=r[u=xc(go(t))]),g&&Xr(g,e,6,i);const h=r[u+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,Xr(h,e,6,i)}}const $9=new WeakMap;function U2(e,t,n=!1){const r=n?$9:t.emitsCache,i=r.get(e);if(i!==void 0)return i;const a=e.emits;let c={},u=!1;if(!mt(e)){const g=h=>{const m=U2(h,t,!0);m&&(u=!0,An(c,m))};!n&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}return!a&&!u?(Vt(e)&&r.set(e,null),null):(it(a)?a.forEach(g=>c[g]=null):An(c,a),Vt(e)&&r.set(e,c),c)}function P0(e,t){return!e||!Wa(t)?!1:(t=t.slice(2).replace(/Once$/,""),Lt(e,t[0].toLowerCase()+t.slice(1))||Lt(e,go(t))||Lt(e,t))}function vc(e){const{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[a],slots:c,attrs:u,emit:g,render:h,renderCache:m,props:y,data:C,setupState:E,ctx:A,inheritAttrs:k}=e,D=r0(e);let I,$;try{if(n.shapeFlag&4){const S=i||r,M=S;I=Tr(h.call(M,S,m,y,E,C,A)),$=u}else{const S=t;I=Tr(S.length>1?S(y,{attrs:u,slots:c,emit:g}):S(y,null)),$=t.props?u:j9(u)}}catch(S){ba.length=0,F0(S,e,1),I=Ft(On)}let P=I;if($&&k!==!1){const S=Object.keys($),{shapeFlag:M}=P;S.length&&M&7&&(a&&S.some(Wu)&&($=U9($,a)),P=ao(P,$,!1,!0))}return n.dirs&&(P=ao(P,null,!1,!0),P.dirs=P.dirs?P.dirs.concat(n.dirs):n.dirs),n.transition&&zo(P,n.transition),I=P,r0(D),I}const j9=e=>{let t;for(const n in e)(n==="class"||n==="style"||Wa(n))&&((t||(t={}))[n]=e[n]);return t},U9=(e,t)=>{const n={};for(const r in e)(!Wu(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function H9(e,t,n){const{props:r,children:i,component:a}=e,{props:c,children:u,patchFlag:g}=t,h=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&g>=0){if(g&1024)return!0;if(g&16)return r?Cf(r,c,h):!!c;if(g&8){const m=t.dynamicProps;for(let y=0;y<m.length;y++){const C=m[y];if(c[C]!==r[C]&&!P0(h,C))return!0}}}else return(i||u)&&(!u||!u.$stable)?!0:r===c?!1:r?c?Cf(r,c,h):!0:!!c;return!1}function Cf(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const a=r[i];if(t[a]!==e[a]&&!P0(n,a))return!0}return!1}function H2({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const z2=e=>e.__isSuspense;function V2(e,t){t&&t.pendingBranch?it(e)?t.effects.push(...e):t.effects.push(e):G8(e)}const je=Symbol.for("v-fgt"),$o=Symbol.for("v-txt"),On=Symbol.for("v-cmt"),jl=Symbol.for("v-stc"),ba=[];let Er=null;function U(e=!1){ba.push(Er=e?null:[])}function z9(){ba.pop(),Er=ba[ba.length-1]||null}let Ta=1;function i0(e,t=!1){Ta+=e,e<0&&Er&&t&&(Er.hasOnce=!0)}function q2(e){return e.dynamicChildren=Ta>0?Er||yi:null,z9(),Ta>0&&Er&&Er.push(e),e}function V(e,t,n,r,i,a){return q2(s(e,t,n,r,i,a,!0))}function wt(e,t,n,r,i){return q2(Ft(e,t,n,r,i,!0))}function Ma(e){return e?e.__v_isVNode===!0:!1}function To(e,t){return e.type===t.type&&e.key===t.key}const W2=({key:e})=>e??null,Ul=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?gn(e)||Gn(e)||mt(e)?{i:Nn,r:e,k:t,f:!!n}:e:null);function s(e,t=null,n=null,r=0,i=null,a=e===je?0:1,c=!1,u=!1){const g={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&W2(t),ref:t&&Ul(t),scopeId:h2,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Nn};return u?(lx(g,n),a&128&&e.normalize(g)):n&&(g.shapeFlag|=gn(n)?8:16),Ta>0&&!c&&Er&&(g.patchFlag>0||a&6)&&g.patchFlag!==32&&Er.push(g),g}const Ft=V9;function V9(e,t=null,n=null,r=0,i=null,a=!1){if((!e||e===x9)&&(e=On),Ma(e)){const u=ao(e,t,!0);return n&&lx(u,n),Ta>0&&!a&&Er&&(u.shapeFlag&6?Er[Er.indexOf(e)]=u:Er.push(u)),u.patchFlag=-2,u}if(tv(e)&&(e=e.__vccOpts),t){t=q9(t);let{class:u,style:g}=t;u&&!gn(u)&&(t.class=Se(u)),Vt(g)&&(Qa(g)&&!it(g)&&(g=An({},g)),t.style=Oi(g))}const c=gn(e)?1:z2(e)?128:g2(e)?64:Vt(e)?4:mt(e)?2:0;return s(e,t,n,r,i,c,a,!0)}function q9(e){return e?Qa(e)||F2(e)?An({},e):e:null}function ao(e,t,n=!1,r=!1){const{props:i,ref:a,patchFlag:c,children:u,transition:g}=e,h=t?W9(i||{},t):i,m={__v_isVNode:!0,__v_skip:!0,type:e.type,props:h,key:h&&W2(h),ref:t&&t.ref?n&&a?it(a)?a.concat(Ul(t)):[a,Ul(t)]:Ul(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==je?c===-1?16:c|16:c,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:g,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ao(e.ssContent),ssFallback:e.ssFallback&&ao(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return g&&r&&zo(m,g.clone(m)),m}function Ve(e=" ",t=0){return Ft($o,null,e,t)}function xe(e="",t=!1){return t?(U(),wt(On,null,e)):Ft(On,null,e)}function Tr(e){return e==null||typeof e=="boolean"?Ft(On):it(e)?Ft(je,null,e.slice()):Ma(e)?Zs(e):Ft($o,null,String(e))}function Zs(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ao(e)}function lx(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(it(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),lx(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!F2(t)?t._ctx=Nn:i===3&&Nn&&(Nn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else mt(t)?(t={default:t,_ctx:Nn},n=32):(t=String(t),r&64?(n=16,t=[Ve(t)]):n=8);e.children=t,e.shapeFlag|=n}function W9(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=Se([t.class,r.class]));else if(i==="style")t.style=Oi([t.style,r.style]);else if(Wa(i)){const a=t[i],c=r[i];c&&a!==c&&!(it(a)&&a.includes(c))&&(t[i]=a?[].concat(a,c):c)}else i!==""&&(t[i]=r[i])}return t}function Fr(e,t,n,r=null){Xr(e,t,7,[n,r])}const G9=k2();let Q9=0;function K9(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||G9,a={uid:Q9++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new y8(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:M2(r,i),emitsOptions:U2(r,i),emit:null,emitted:null,propsDefaults:Gt,inheritAttrs:r.inheritAttrs,ctx:Gt,data:Gt,props:Gt,attrs:Gt,slots:Gt,refs:Gt,setupState:Gt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=L9.bind(null,a),e.ce&&e.ce(a),a}let zn=null;const cx=()=>zn||Nn;let a0,yu;{const e=D0(),t=(n,r)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(r),a=>{i.length>1?i.forEach(c=>c(a)):i[0](a)}};a0=t("__VUE_INSTANCE_SETTERS__",n=>zn=n),yu=t("__VUE_SSR_SETTERS__",n=>Ia=n)}const Ya=e=>{const t=zn;return a0(e),e.scope.on(),()=>{e.scope.off(),a0(t)}},Af=()=>{zn&&zn.scope.off(),a0(null)};function G2(e){return e.vnode.shapeFlag&4}let Ia=!1;function Y9(e,t=!1,n=!1){t&&yu(t);const{props:r,children:i}=e.vnode,a=G2(e);A9(e,r,a,t),D9(e,i,n||t);const c=a?X9(e,t):void 0;return t&&yu(!1),c}function X9(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,g9);const{setup:r}=n;if(r){Is();const i=e.setupContext=r.length>1?J9(e):null,a=Ya(e),c=Ka(r,e,0,[e.props,i]),u=Hp(c);if(Ps(),a(),(u||e.sp)&&!Lo(e)&&E2(e),u){if(c.then(Af,Af),t)return c.then(g=>{Bf(e,g)}).catch(g=>{F0(g,e,0)});e.asyncDep=c}else Bf(e,c)}else Q2(e)}function Bf(e,t,n){mt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Vt(t)&&(e.setupState=d2(t)),Q2(e)}function Q2(e,t,n){const r=e.type;e.render||(e.render=r.render||hs);{const i=Ya(e);Is();try{p9(e)}finally{Ps(),i()}}}const Z9={get(e,t){return Hn(e,"get",""),e[t]}};function J9(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Z9),slots:e.slots,emit:e.emit,expose:t}}function R0(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(d2(fu(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ya)return ya[n](e)},has(t,n){return n in t||n in ya}})):e.proxy}function ev(e,t=!0){return mt(e)?e.displayName||e.name:e.name||t&&e.__name}function tv(e){return mt(e)&&"__vccOpts"in e}const Ke=(e,t)=>H8(e,t,Ia);function cr(e,t,n){try{i0(-1);const r=arguments.length;return r===2?Vt(t)&&!it(t)?Ma(t)?Ft(e,null,[t]):Ft(e,t):Ft(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ma(n)&&(n=[n]),Ft(e,t,n))}finally{i0(1)}}const K2="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let bu;const _f=typeof window<"u"&&window.trustedTypes;if(_f)try{bu=_f.createPolicy("vue",{createHTML:e=>e})}catch{}const Y2=bu?e=>bu.createHTML(e):e=>e,nv="http://www.w3.org/2000/svg",rv="http://www.w3.org/1998/Math/MathML",As=typeof document<"u"?document:null,kf=As&&As.createElement("template"),sv={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t==="svg"?As.createElementNS(nv,e):t==="mathml"?As.createElementNS(rv,e):n?As.createElement(e,{is:n}):As.createElement(e);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>As.createTextNode(e),createComment:e=>As.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>As.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,a){const c=n?n.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===a||!(i=i.nextSibling)););else{kf.innerHTML=Y2(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const u=kf.content;if(r==="svg"||r==="mathml"){const g=u.firstChild;for(;g.firstChild;)u.appendChild(g.firstChild);u.removeChild(g)}t.insertBefore(u,n)}return[c?c.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Gs="transition",Ji="animation",ki=Symbol("_vtc"),X2={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Z2=An({},m2,X2),ov=e=>(e.displayName="Transition",e.props=Z2,e),yl=ov((e,{slots:t})=>cr(Y8,J2(e),t)),Ao=(e,t=[])=>{it(e)?e.forEach(n=>n(...t)):e&&e(...t)},Df=e=>e?it(e)?e.some(t=>t.length>1):e.length>1:!1;function J2(e){const t={};for(const Y in e)Y in X2||(t[Y]=e[Y]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:a=`${n}-enter-from`,enterActiveClass:c=`${n}-enter-active`,enterToClass:u=`${n}-enter-to`,appearFromClass:g=a,appearActiveClass:h=c,appearToClass:m=u,leaveFromClass:y=`${n}-leave-from`,leaveActiveClass:C=`${n}-leave-active`,leaveToClass:E=`${n}-leave-to`}=e,A=iv(i),k=A&&A[0],D=A&&A[1],{onBeforeEnter:I,onEnter:$,onEnterCancelled:P,onLeave:S,onLeaveCancelled:M,onBeforeAppear:j=I,onAppear:L=$,onAppearCancelled:q=P}=t,T=(Y,le,ye,re)=>{Y._enterCancelled=re,Ys(Y,le?m:u),Ys(Y,le?h:c),ye&&ye()},Q=(Y,le)=>{Y._isLeaving=!1,Ys(Y,y),Ys(Y,E),Ys(Y,C),le&&le()},oe=Y=>(le,ye)=>{const re=Y?L:$,Ee=()=>T(le,Y,ye);Ao(re,[le,Ee]),Sf(()=>{Ys(le,Y?g:a),ls(le,Y?m:u),Df(re)||Ff(le,r,k,Ee)})};return An(t,{onBeforeEnter(Y){Ao(I,[Y]),ls(Y,a),ls(Y,c)},onBeforeAppear(Y){Ao(j,[Y]),ls(Y,g),ls(Y,h)},onEnter:oe(!1),onAppear:oe(!0),onLeave(Y,le){Y._isLeaving=!0;const ye=()=>Q(Y,le);ls(Y,y),Y._enterCancelled?(ls(Y,C),vu(Y)):(vu(Y),ls(Y,C)),Sf(()=>{Y._isLeaving&&(Ys(Y,y),ls(Y,E),Df(S)||Ff(Y,r,D,ye))}),Ao(S,[Y,ye])},onEnterCancelled(Y){T(Y,!1,void 0,!0),Ao(P,[Y])},onAppearCancelled(Y){T(Y,!0,void 0,!0),Ao(q,[Y])},onLeaveCancelled(Y){Q(Y),Ao(M,[Y])}})}function iv(e){if(e==null)return null;if(Vt(e))return[Ec(e.enter),Ec(e.leave)];{const t=Ec(e);return[t,t]}}function Ec(e){return d8(e)}function ls(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[ki]||(e[ki]=new Set)).add(t)}function Ys(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[ki];n&&(n.delete(t),n.size||(e[ki]=void 0))}function Sf(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let av=0;function Ff(e,t,n,r){const i=e._endId=++av,a=()=>{i===e._endId&&r()};if(n!=null)return setTimeout(a,n);const{type:c,timeout:u,propCount:g}=em(e,t);if(!c)return r();const h=c+"end";let m=0;const y=()=>{e.removeEventListener(h,C),a()},C=E=>{E.target===e&&++m>=g&&y()};setTimeout(()=>{m<g&&y()},u+1),e.addEventListener(h,C)}function em(e,t){const n=window.getComputedStyle(e),r=A=>(n[A]||"").split(", "),i=r(`${Gs}Delay`),a=r(`${Gs}Duration`),c=Tf(i,a),u=r(`${Ji}Delay`),g=r(`${Ji}Duration`),h=Tf(u,g);let m=null,y=0,C=0;t===Gs?c>0&&(m=Gs,y=c,C=a.length):t===Ji?h>0&&(m=Ji,y=h,C=g.length):(y=Math.max(c,h),m=y>0?c>h?Gs:Ji:null,C=m?m===Gs?a.length:g.length:0);const E=m===Gs&&/\b(?:transform|all)(?:,|$)/.test(r(`${Gs}Property`).toString());return{type:m,timeout:y,propCount:C,hasTransform:E}}function Tf(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>Mf(n)+Mf(e[r])))}function Mf(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function vu(e){return(e?e.ownerDocument:document).body.offsetHeight}function lv(e,t,n){const r=e[ki];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const l0=Symbol("_vod"),tm=Symbol("_vsh"),sn={name:"show",beforeMount(e,{value:t},{transition:n}){e[l0]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):ea(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),ea(e,!0),r.enter(e)):r.leave(e,()=>{ea(e,!1)}):ea(e,t))},beforeUnmount(e,{value:t}){ea(e,t)}};function ea(e,t){e.style.display=t?e[l0]:"none",e[tm]=!t}const cv=Symbol(""),dv=/(?:^|;)\s*display\s*:/;function uv(e,t,n){const r=e.style,i=gn(n);let a=!1;if(n&&!i){if(t)if(gn(t))for(const c of t.split(";")){const u=c.slice(0,c.indexOf(":")).trim();n[u]==null&&Hl(r,u,"")}else for(const c in t)n[c]==null&&Hl(r,c,"");for(const c in n)c==="display"&&(a=!0),Hl(r,c,n[c])}else if(i){if(t!==n){const c=r[cv];c&&(n+=";"+c),r.cssText=n,a=dv.test(n)}}else t&&e.removeAttribute("style");l0 in e&&(e[l0]=a?r.display:"",e[tm]&&(r.display="none"))}const If=/\s*!important$/;function Hl(e,t,n){if(it(n))n.forEach(r=>Hl(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=xv(e,t);If.test(n)?e.setProperty(go(r),n.replace(If,""),"important"):e[r]=n}}const Pf=["Webkit","Moz","ms"],wc={};function xv(e,t){const n=wc[t];if(n)return n;let r=Or(t);if(r!=="filter"&&r in e)return wc[t]=r;r=k0(r);for(let i=0;i<Pf.length;i++){const a=Pf[i]+r;if(a in e)return wc[t]=a}return t}const Rf="http://www.w3.org/1999/xlink";function Of(e,t,n,r,i,a=p8(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Rf,t.slice(6,t.length)):e.setAttributeNS(Rf,t,n):n==null||a&&!Wp(n)?e.removeAttribute(t):e.setAttribute(t,a?"":Yr(n)?String(n):n)}function Nf(e,t,n,r,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Y2(n):n);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?e.getAttribute("value")||"":e.value,g=n==null?e.type==="checkbox"?"on":"":String(n);(u!==g||!("_value"in e))&&(e.value=g),n==null&&e.removeAttribute(t),e._value=n;return}let c=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=Wp(n):n==null&&u==="string"?(n="",c=!0):u==="number"&&(n=0,c=!0)}try{e[t]=n}catch{}c&&e.removeAttribute(i||t)}function Ss(e,t,n,r){e.addEventListener(t,n,r)}function fv(e,t,n,r){e.removeEventListener(t,n,r)}const Lf=Symbol("_vei");function hv(e,t,n,r,i=null){const a=e[Lf]||(e[Lf]={}),c=a[t];if(r&&c)c.value=r;else{const[u,g]=gv(t);if(r){const h=a[t]=yv(r,i);Ss(e,u,h,g)}else c&&(fv(e,u,c,g),a[t]=void 0)}}const $f=/(?:Once|Passive|Capture)$/;function gv(e){let t;if($f.test(e)){t={};let r;for(;r=e.match($f);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):go(e.slice(2)),t]}let Cc=0;const pv=Promise.resolve(),mv=()=>Cc||(pv.then(()=>Cc=0),Cc=Date.now());function yv(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Xr(bv(r,n.value),t,5,[r])};return n.value=e,n.attached=mv(),n}function bv(e,t){if(it(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const jf=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,vv=(e,t,n,r,i,a)=>{const c=i==="svg";t==="class"?lv(e,r,c):t==="style"?uv(e,n,r):Wa(t)?Wu(t)||hv(e,t,n,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Ev(e,t,r,c))?(Nf(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Of(e,t,r,c,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!gn(r))?Nf(e,Or(t),r,a,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Of(e,t,r,c))};function Ev(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&jf(t)&&mt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return jf(t)&&gn(n)?!1:t in e}const nm=new WeakMap,rm=new WeakMap,c0=Symbol("_moveCb"),Uf=Symbol("_enterCb"),wv=e=>(delete e.props.mode,e),Cv=wv({name:"TransitionGroup",props:An({},Z2,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=cx(),r=p2();let i,a;return C2(()=>{if(!i.length)return;const c=e.moveClass||`${e.name||"v"}-move`;if(!Dv(i[0].el,n.vnode.el,c)){i=[];return}i.forEach(Bv),i.forEach(_v);const u=i.filter(kv);vu(n.vnode.el),u.forEach(g=>{const h=g.el,m=h.style;ls(h,c),m.transform=m.webkitTransform=m.transitionDuration="";const y=h[c0]=C=>{C&&C.target!==h||(!C||C.propertyName.endsWith("transform"))&&(h.removeEventListener("transitionend",y),h[c0]=null,Ys(h,c))};h.addEventListener("transitionend",y)}),i=[]}),()=>{const c=St(e),u=J2(c);let g=c.tag||je;if(i=[],a)for(let h=0;h<a.length;h++){const m=a[h];m.el&&m.el instanceof Element&&(i.push(m),zo(m,Fa(m,u,r,n)),nm.set(m,m.el.getBoundingClientRect()))}a=t.default?sx(t.default()):[];for(let h=0;h<a.length;h++){const m=a[h];m.key!=null&&zo(m,Fa(m,u,r,n))}return Ft(g,null,a)}}}),Av=Cv;function Bv(e){const t=e.el;t[c0]&&t[c0](),t[Uf]&&t[Uf]()}function _v(e){rm.set(e,e.el.getBoundingClientRect())}function kv(e){const t=nm.get(e),n=rm.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const a=e.el.style;return a.transform=a.webkitTransform=`translate(${r}px,${i}px)`,a.transitionDuration="0s",e}}function Dv(e,t,n){const r=e.cloneNode(),i=e[ki];i&&i.forEach(u=>{u.split(/\s+/).forEach(g=>g&&r.classList.remove(g))}),n.split(/\s+/).forEach(u=>u&&r.classList.add(u)),r.style.display="none";const a=t.nodeType===1?t:t.parentNode;a.appendChild(r);const{hasTransform:c}=em(r);return a.removeChild(r),c}const lo=e=>{const t=e.props["onUpdate:modelValue"]||!1;return it(t)?n=>Ll(t,n):t};function Sv(e){e.target.composing=!0}function Hf(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Rr=Symbol("_assign"),Oe={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[Rr]=lo(i);const a=r||i.props&&i.props.type==="number";Ss(e,t?"change":"input",c=>{if(c.target.composing)return;let u=e.value;n&&(u=u.trim()),a&&(u=Zl(u)),e[Rr](u)}),n&&Ss(e,"change",()=>{e.value=e.value.trim()}),t||(Ss(e,"compositionstart",Sv),Ss(e,"compositionend",Hf),Ss(e,"change",Hf))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:i,number:a}},c){if(e[Rr]=lo(c),e.composing)return;const u=(a||e.type==="number")&&!/^0\d/.test(e.value)?Zl(e.value):e.value,g=t??"";u!==g&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||i&&e.value.trim()===g)||(e.value=g))}},qo={deep:!0,created(e,t,n){e[Rr]=lo(n),Ss(e,"change",()=>{const r=e._modelValue,i=Di(e),a=e.checked,c=e[Rr];if(it(r)){const u=Ku(r,i),g=u!==-1;if(a&&!g)c(r.concat(i));else if(!a&&g){const h=[...r];h.splice(u,1),c(h)}}else if(Ri(r)){const u=new Set(r);a?u.add(i):u.delete(i),c(u)}else c(sm(e,a))})},mounted:zf,beforeUpdate(e,t,n){e[Rr]=lo(n),zf(e,t,n)}};function zf(e,{value:t,oldValue:n},r){e._modelValue=t;let i;if(it(t))i=Ku(t,r.props.value)>-1;else if(Ri(t))i=t.has(r.props.value);else{if(t===n)return;i=Ho(t,sm(e,!0))}e.checked!==i&&(e.checked=i)}const Pa={created(e,{value:t},n){e.checked=Ho(t,n.props.value),e[Rr]=lo(n),Ss(e,"change",()=>{e[Rr](Di(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[Rr]=lo(r),t!==n&&(e.checked=Ho(t,r.props.value))}},lt={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const i=Ri(t);Ss(e,"change",()=>{const a=Array.prototype.filter.call(e.options,c=>c.selected).map(c=>n?Zl(Di(c)):Di(c));e[Rr](e.multiple?i?new Set(a):a:a[0]),e._assigning=!0,br(()=>{e._assigning=!1})}),e[Rr]=lo(r)},mounted(e,{value:t}){Vf(e,t)},beforeUpdate(e,t,n){e[Rr]=lo(n)},updated(e,{value:t}){e._assigning||Vf(e,t)}};function Vf(e,t){const n=e.multiple,r=it(t);if(!(n&&!r&&!Ri(t))){for(let i=0,a=e.options.length;i<a;i++){const c=e.options[i],u=Di(c);if(n)if(r){const g=typeof u;g==="string"||g==="number"?c.selected=t.some(h=>String(h)===String(u)):c.selected=Ku(t,u)>-1}else c.selected=t.has(u);else if(Ho(Di(c),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Di(e){return"_value"in e?e._value:e.value}function sm(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Fv={created(e,t,n){bl(e,t,n,null,"created")},mounted(e,t,n){bl(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){bl(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){bl(e,t,n,r,"updated")}};function Tv(e,t){switch(e){case"SELECT":return lt;case"TEXTAREA":return Oe;default:switch(t){case"checkbox":return qo;case"radio":return Pa;default:return Oe}}}function bl(e,t,n,r,i){const c=Tv(e.tagName,n.props&&n.props.type)[i];c&&c(e,t,n,r)}const Mv=["ctrl","shift","alt","meta"],Iv={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Mv.some(n=>e[`${n}Key`]&&!t.includes(n))},Jn=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=((i,...a)=>{for(let c=0;c<t.length;c++){const u=Iv[t[c]];if(u&&u(i,t))return}return e(i,...a)}))},Pv={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ni=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=(i=>{if(!("key"in i))return;const a=go(i.key);if(t.some(c=>c===a||Pv[c]===a))return e(i)}))},om=An({patchProp:vv},sv);let va,qf=!1;function Rv(){return va||(va=F9(om))}function Ov(){return va=qf?va:T9(om),qf=!0,va}const Nv=((...e)=>{const t=Rv().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=am(r);if(!i)return;const a=t._component;!mt(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const c=n(i,!1,im(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),c},t}),Lv=((...e)=>{const t=Ov().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=am(r);if(i)return n(i,!0,im(i))},t});function im(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function am(e){return gn(e)?document.querySelector(e):e}var lm=typeof global=="object"&&global&&global.Object===Object&&global,$v=typeof self=="object"&&self&&self.Object===Object&&self,ms=lm||$v||Function("return this")(),ps=ms.Symbol,cm=Object.prototype,jv=cm.hasOwnProperty,Uv=cm.toString,ta=ps?ps.toStringTag:void 0;function Hv(e){var t=jv.call(e,ta),n=e[ta];try{e[ta]=void 0;var r=!0}catch{}var i=Uv.call(e);return r&&(t?e[ta]=n:delete e[ta]),i}var zv=Object.prototype,Vv=zv.toString;function qv(e){return Vv.call(e)}var Wv="[object Null]",Gv="[object Undefined]",Wf=ps?ps.toStringTag:void 0;function Li(e){return e==null?e===void 0?Gv:Wv:Wf&&Wf in Object(e)?Hv(e):qv(e)}function co(e){return e!=null&&typeof e=="object"}var Qv="[object Symbol]";function dx(e){return typeof e=="symbol"||co(e)&&Li(e)==Qv}function Kv(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var Rs=Array.isArray,Gf=ps?ps.prototype:void 0,Qf=Gf?Gf.toString:void 0;function dm(e){if(typeof e=="string")return e;if(Rs(e))return Kv(e,dm)+"";if(dx(e))return Qf?Qf.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Si(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Yv="[object AsyncFunction]",Xv="[object Function]",Zv="[object GeneratorFunction]",Jv="[object Proxy]";function um(e){if(!Si(e))return!1;var t=Li(e);return t==Xv||t==Zv||t==Yv||t==Jv}var Ac=ms["__core-js_shared__"],Kf=(function(){var e=/[^.]+$/.exec(Ac&&Ac.keys&&Ac.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function e6(e){return!!Kf&&Kf in e}var t6=Function.prototype,n6=t6.toString;function Yo(e){if(e!=null){try{return n6.call(e)}catch{}try{return e+""}catch{}}return""}var r6=/[\\^$.*+?()[\]{}|]/g,s6=/^\[object .+?Constructor\]$/,o6=Function.prototype,i6=Object.prototype,a6=o6.toString,l6=i6.hasOwnProperty,c6=RegExp("^"+a6.call(l6).replace(r6,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d6(e){if(!Si(e)||e6(e))return!1;var t=um(e)?c6:s6;return t.test(Yo(e))}function u6(e,t){return e?.[t]}function Xo(e,t){var n=u6(e,t);return d6(n)?n:void 0}var Eu=Xo(ms,"WeakMap"),Yf=Object.create,x6=(function(){function e(){}return function(t){if(!Si(t))return{};if(Yf)return Yf(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}})(),Xf=(function(){try{var e=Xo(Object,"defineProperty");return e({},"",{}),e}catch{}})();function f6(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var h6=9007199254740991,g6=/^(?:0|[1-9]\d*)$/;function ux(e,t){var n=typeof e;return t=t??h6,!!t&&(n=="number"||n!="symbol"&&g6.test(e))&&e>-1&&e%1==0&&e<t}function p6(e,t,n){t=="__proto__"&&Xf?Xf(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function xx(e,t){return e===t||e!==e&&t!==t}var m6=Object.prototype,y6=m6.hasOwnProperty;function xm(e,t,n){var r=e[t];(!(y6.call(e,t)&&xx(r,n))||n===void 0&&!(t in e))&&p6(e,t,n)}var b6=9007199254740991;function fx(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=b6}function v6(e){return e!=null&&fx(e.length)&&!um(e)}var E6=Object.prototype;function fm(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||E6;return e===n}function w6(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var C6="[object Arguments]";function Zf(e){return co(e)&&Li(e)==C6}var hm=Object.prototype,A6=hm.hasOwnProperty,B6=hm.propertyIsEnumerable,gm=Zf((function(){return arguments})())?Zf:function(e){return co(e)&&A6.call(e,"callee")&&!B6.call(e,"callee")};function _6(){return!1}var pm=typeof wr=="object"&&wr&&!wr.nodeType&&wr,Jf=pm&&typeof Cr=="object"&&Cr&&!Cr.nodeType&&Cr,k6=Jf&&Jf.exports===pm,e1=k6?ms.Buffer:void 0,D6=e1?e1.isBuffer:void 0,d0=D6||_6,S6="[object Arguments]",F6="[object Array]",T6="[object Boolean]",M6="[object Date]",I6="[object Error]",P6="[object Function]",R6="[object Map]",O6="[object Number]",N6="[object Object]",L6="[object RegExp]",$6="[object Set]",j6="[object String]",U6="[object WeakMap]",H6="[object ArrayBuffer]",z6="[object DataView]",V6="[object Float32Array]",q6="[object Float64Array]",W6="[object Int8Array]",G6="[object Int16Array]",Q6="[object Int32Array]",K6="[object Uint8Array]",Y6="[object Uint8ClampedArray]",X6="[object Uint16Array]",Z6="[object Uint32Array]",tn={};tn[V6]=tn[q6]=tn[W6]=tn[G6]=tn[Q6]=tn[K6]=tn[Y6]=tn[X6]=tn[Z6]=!0;tn[S6]=tn[F6]=tn[H6]=tn[T6]=tn[z6]=tn[M6]=tn[I6]=tn[P6]=tn[R6]=tn[O6]=tn[N6]=tn[L6]=tn[$6]=tn[j6]=tn[U6]=!1;function J6(e){return co(e)&&fx(e.length)&&!!tn[Li(e)]}function hx(e){return function(t){return e(t)}}var mm=typeof wr=="object"&&wr&&!wr.nodeType&&wr,Ea=mm&&typeof Cr=="object"&&Cr&&!Cr.nodeType&&Cr,e4=Ea&&Ea.exports===mm,Bc=e4&&lm.process,Fi=(function(){try{var e=Ea&&Ea.require&&Ea.require("util").types;return e||Bc&&Bc.binding&&Bc.binding("util")}catch{}})(),t1=Fi&&Fi.isTypedArray,ym=t1?hx(t1):J6,t4=Object.prototype,n4=t4.hasOwnProperty;function r4(e,t){var n=Rs(e),r=!n&&gm(e),i=!n&&!r&&d0(e),a=!n&&!r&&!i&&ym(e),c=n||r||i||a,u=c?w6(e.length,String):[],g=u.length;for(var h in e)n4.call(e,h)&&!(c&&(h=="length"||i&&(h=="offset"||h=="parent")||a&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||ux(h,g)))&&u.push(h);return u}function bm(e,t){return function(n){return e(t(n))}}var s4=bm(Object.keys,Object),o4=Object.prototype,i4=o4.hasOwnProperty;function a4(e){if(!fm(e))return s4(e);var t=[];for(var n in Object(e))i4.call(e,n)&&n!="constructor"&&t.push(n);return t}function l4(e){return v6(e)?r4(e):a4(e)}var c4=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,d4=/^\w*$/;function u4(e,t){if(Rs(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||dx(e)?!0:d4.test(e)||!c4.test(e)||t!=null&&e in Object(t)}var Ra=Xo(Object,"create");function x4(){this.__data__=Ra?Ra(null):{},this.size=0}function f4(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var h4="__lodash_hash_undefined__",g4=Object.prototype,p4=g4.hasOwnProperty;function m4(e){var t=this.__data__;if(Ra){var n=t[e];return n===h4?void 0:n}return p4.call(t,e)?t[e]:void 0}var y4=Object.prototype,b4=y4.hasOwnProperty;function v4(e){var t=this.__data__;return Ra?t[e]!==void 0:b4.call(t,e)}var E4="__lodash_hash_undefined__";function w4(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ra&&t===void 0?E4:t,this}function Wo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Wo.prototype.clear=x4;Wo.prototype.delete=f4;Wo.prototype.get=m4;Wo.prototype.has=v4;Wo.prototype.set=w4;function C4(){this.__data__=[],this.size=0}function O0(e,t){for(var n=e.length;n--;)if(xx(e[n][0],t))return n;return-1}var A4=Array.prototype,B4=A4.splice;function _4(e){var t=this.__data__,n=O0(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():B4.call(t,n,1),--this.size,!0}function k4(e){var t=this.__data__,n=O0(t,e);return n<0?void 0:t[n][1]}function D4(e){return O0(this.__data__,e)>-1}function S4(e,t){var n=this.__data__,r=O0(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Ns(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ns.prototype.clear=C4;Ns.prototype.delete=_4;Ns.prototype.get=k4;Ns.prototype.has=D4;Ns.prototype.set=S4;var Oa=Xo(ms,"Map");function F4(){this.size=0,this.__data__={hash:new Wo,map:new(Oa||Ns),string:new Wo}}function T4(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function N0(e,t){var n=e.__data__;return T4(t)?n[typeof t=="string"?"string":"hash"]:n.map}function M4(e){var t=N0(this,e).delete(e);return this.size-=t?1:0,t}function I4(e){return N0(this,e).get(e)}function P4(e){return N0(this,e).has(e)}function R4(e,t){var n=N0(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Ls(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ls.prototype.clear=F4;Ls.prototype.delete=M4;Ls.prototype.get=I4;Ls.prototype.has=P4;Ls.prototype.set=R4;var O4="Expected a function";function gx(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(O4);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var c=e.apply(this,r);return n.cache=a.set(i,c)||a,c};return n.cache=new(gx.Cache||Ls),n}gx.Cache=Ls;var N4=500;function L4(e){var t=gx(e,function(r){return n.size===N4&&n.clear(),r}),n=t.cache;return t}var $4=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,j4=/\\(\\)?/g,U4=L4(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace($4,function(n,r,i,a){t.push(i?a.replace(j4,"$1"):r||n)}),t});function H4(e){return e==null?"":dm(e)}function px(e,t){return Rs(e)?e:u4(e,t)?[e]:U4(H4(e))}function mx(e){if(typeof e=="string"||dx(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function z4(e,t){t=px(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[mx(t[n++])];return n&&n==r?e:void 0}function Ai(e,t,n){var r=e==null?void 0:z4(e,t);return r===void 0?n:r}function V4(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var q4=bm(Object.getPrototypeOf,Object);function W4(){this.__data__=new Ns,this.size=0}function G4(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Q4(e){return this.__data__.get(e)}function K4(e){return this.__data__.has(e)}var Y4=200;function X4(e,t){var n=this.__data__;if(n instanceof Ns){var r=n.__data__;if(!Oa||r.length<Y4-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ls(r)}return n.set(e,t),this.size=n.size,this}function Ms(e){var t=this.__data__=new Ns(e);this.size=t.size}Ms.prototype.clear=W4;Ms.prototype.delete=G4;Ms.prototype.get=Q4;Ms.prototype.has=K4;Ms.prototype.set=X4;var vm=typeof wr=="object"&&wr&&!wr.nodeType&&wr,n1=vm&&typeof Cr=="object"&&Cr&&!Cr.nodeType&&Cr,Z4=n1&&n1.exports===vm,r1=Z4?ms.Buffer:void 0;r1&&r1.allocUnsafe;function J4(e,t){return e.slice()}function e5(e,t){for(var n=-1,r=e==null?0:e.length,i=0,a=[];++n<r;){var c=e[n];t(c,n,e)&&(a[i++]=c)}return a}function t5(){return[]}var n5=Object.prototype,r5=n5.propertyIsEnumerable,s1=Object.getOwnPropertySymbols,s5=s1?function(e){return e==null?[]:(e=Object(e),e5(s1(e),function(t){return r5.call(e,t)}))}:t5;function o5(e,t,n){var r=t(e);return Rs(e)?r:V4(r,n(e))}function wu(e){return o5(e,l4,s5)}var Cu=Xo(ms,"DataView"),Au=Xo(ms,"Promise"),Bu=Xo(ms,"Set"),o1="[object Map]",i5="[object Object]",i1="[object Promise]",a1="[object Set]",l1="[object WeakMap]",c1="[object DataView]",a5=Yo(Cu),l5=Yo(Oa),c5=Yo(Au),d5=Yo(Bu),u5=Yo(Eu),Gr=Li;(Cu&&Gr(new Cu(new ArrayBuffer(1)))!=c1||Oa&&Gr(new Oa)!=o1||Au&&Gr(Au.resolve())!=i1||Bu&&Gr(new Bu)!=a1||Eu&&Gr(new Eu)!=l1)&&(Gr=function(e){var t=Li(e),n=t==i5?e.constructor:void 0,r=n?Yo(n):"";if(r)switch(r){case a5:return c1;case l5:return o1;case c5:return i1;case d5:return a1;case u5:return l1}return t});var x5=Object.prototype,f5=x5.hasOwnProperty;function h5(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&f5.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var u0=ms.Uint8Array;function yx(e){var t=new e.constructor(e.byteLength);return new u0(t).set(new u0(e)),t}function g5(e,t){var n=yx(e.buffer);return new e.constructor(n,e.byteOffset,e.byteLength)}var p5=/\w*$/;function m5(e){var t=new e.constructor(e.source,p5.exec(e));return t.lastIndex=e.lastIndex,t}var d1=ps?ps.prototype:void 0,u1=d1?d1.valueOf:void 0;function y5(e){return u1?Object(u1.call(e)):{}}function b5(e,t){var n=yx(e.buffer);return new e.constructor(n,e.byteOffset,e.length)}var v5="[object Boolean]",E5="[object Date]",w5="[object Map]",C5="[object Number]",A5="[object RegExp]",B5="[object Set]",_5="[object String]",k5="[object Symbol]",D5="[object ArrayBuffer]",S5="[object DataView]",F5="[object Float32Array]",T5="[object Float64Array]",M5="[object Int8Array]",I5="[object Int16Array]",P5="[object Int32Array]",R5="[object Uint8Array]",O5="[object Uint8ClampedArray]",N5="[object Uint16Array]",L5="[object Uint32Array]";function $5(e,t,n){var r=e.constructor;switch(t){case D5:return yx(e);case v5:case E5:return new r(+e);case S5:return g5(e);case F5:case T5:case M5:case I5:case P5:case R5:case O5:case N5:case L5:return b5(e);case w5:return new r;case C5:case _5:return new r(e);case A5:return m5(e);case B5:return new r;case k5:return y5(e)}}function j5(e){return typeof e.constructor=="function"&&!fm(e)?x6(q4(e)):{}}var U5="[object Map]";function H5(e){return co(e)&&Gr(e)==U5}var x1=Fi&&Fi.isMap,z5=x1?hx(x1):H5,V5="[object Set]";function q5(e){return co(e)&&Gr(e)==V5}var f1=Fi&&Fi.isSet,W5=f1?hx(f1):q5,Em="[object Arguments]",G5="[object Array]",Q5="[object Boolean]",K5="[object Date]",Y5="[object Error]",wm="[object Function]",X5="[object GeneratorFunction]",Z5="[object Map]",J5="[object Number]",Cm="[object Object]",e3="[object RegExp]",t3="[object Set]",n3="[object String]",r3="[object Symbol]",s3="[object WeakMap]",o3="[object ArrayBuffer]",i3="[object DataView]",a3="[object Float32Array]",l3="[object Float64Array]",c3="[object Int8Array]",d3="[object Int16Array]",u3="[object Int32Array]",x3="[object Uint8Array]",f3="[object Uint8ClampedArray]",h3="[object Uint16Array]",g3="[object Uint32Array]",Yt={};Yt[Em]=Yt[G5]=Yt[o3]=Yt[i3]=Yt[Q5]=Yt[K5]=Yt[a3]=Yt[l3]=Yt[c3]=Yt[d3]=Yt[u3]=Yt[Z5]=Yt[J5]=Yt[Cm]=Yt[e3]=Yt[t3]=Yt[n3]=Yt[r3]=Yt[x3]=Yt[f3]=Yt[h3]=Yt[g3]=!0;Yt[Y5]=Yt[wm]=Yt[s3]=!1;function zl(e,t,n,r,i,a){var c;if(c!==void 0)return c;if(!Si(e))return e;var u=Rs(e);if(u)c=h5(e);else{var g=Gr(e),h=g==wm||g==X5;if(d0(e))return J4(e);if(g==Cm||g==Em||h&&!i)c=h?{}:j5(e);else{if(!Yt[g])return i?e:{};c=$5(e,g)}}a||(a=new Ms);var m=a.get(e);if(m)return m;a.set(e,c),W5(e)?e.forEach(function(E){c.add(zl(E,t,n,E,e,a))}):z5(e)&&e.forEach(function(E,A){c.set(A,zl(E,t,n,A,e,a))});var y=wu,C=u?void 0:y(e);return f6(C||e,function(E,A){C&&(A=E,E=e[A]),xm(c,A,zl(E,t,n,A,e,a))}),c}var p3=1,m3=4;function ir(e){return zl(e,p3|m3)}var y3="__lodash_hash_undefined__";function b3(e){return this.__data__.set(e,y3),this}function v3(e){return this.__data__.has(e)}function x0(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Ls;++t<n;)this.add(e[t])}x0.prototype.add=x0.prototype.push=b3;x0.prototype.has=v3;function E3(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function w3(e,t){return e.has(t)}var C3=1,A3=2;function Am(e,t,n,r,i,a){var c=n&C3,u=e.length,g=t.length;if(u!=g&&!(c&&g>u))return!1;var h=a.get(e),m=a.get(t);if(h&&m)return h==t&&m==e;var y=-1,C=!0,E=n&A3?new x0:void 0;for(a.set(e,t),a.set(t,e);++y<u;){var A=e[y],k=t[y];if(r)var D=c?r(k,A,y,t,e,a):r(A,k,y,e,t,a);if(D!==void 0){if(D)continue;C=!1;break}if(E){if(!E3(t,function(I,$){if(!w3(E,$)&&(A===I||i(A,I,n,r,a)))return E.push($)})){C=!1;break}}else if(!(A===k||i(A,k,n,r,a))){C=!1;break}}return a.delete(e),a.delete(t),C}function B3(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function _3(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var k3=1,D3=2,S3="[object Boolean]",F3="[object Date]",T3="[object Error]",M3="[object Map]",I3="[object Number]",P3="[object RegExp]",R3="[object Set]",O3="[object String]",N3="[object Symbol]",L3="[object ArrayBuffer]",$3="[object DataView]",h1=ps?ps.prototype:void 0,_c=h1?h1.valueOf:void 0;function j3(e,t,n,r,i,a,c){switch(n){case $3:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case L3:return!(e.byteLength!=t.byteLength||!a(new u0(e),new u0(t)));case S3:case F3:case I3:return xx(+e,+t);case T3:return e.name==t.name&&e.message==t.message;case P3:case O3:return e==t+"";case M3:var u=B3;case R3:var g=r&k3;if(u||(u=_3),e.size!=t.size&&!g)return!1;var h=c.get(e);if(h)return h==t;r|=D3,c.set(e,t);var m=Am(u(e),u(t),r,i,a,c);return c.delete(e),m;case N3:if(_c)return _c.call(e)==_c.call(t)}return!1}var U3=1,H3=Object.prototype,z3=H3.hasOwnProperty;function V3(e,t,n,r,i,a){var c=n&U3,u=wu(e),g=u.length,h=wu(t),m=h.length;if(g!=m&&!c)return!1;for(var y=g;y--;){var C=u[y];if(!(c?C in t:z3.call(t,C)))return!1}var E=a.get(e),A=a.get(t);if(E&&A)return E==t&&A==e;var k=!0;a.set(e,t),a.set(t,e);for(var D=c;++y<g;){C=u[y];var I=e[C],$=t[C];if(r)var P=c?r($,I,C,t,e,a):r(I,$,C,e,t,a);if(!(P===void 0?I===$||i(I,$,n,r,a):P)){k=!1;break}D||(D=C=="constructor")}if(k&&!D){var S=e.constructor,M=t.constructor;S!=M&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof M=="function"&&M instanceof M)&&(k=!1)}return a.delete(e),a.delete(t),k}var q3=1,g1="[object Arguments]",p1="[object Array]",vl="[object Object]",W3=Object.prototype,m1=W3.hasOwnProperty;function G3(e,t,n,r,i,a){var c=Rs(e),u=Rs(t),g=c?p1:Gr(e),h=u?p1:Gr(t);g=g==g1?vl:g,h=h==g1?vl:h;var m=g==vl,y=h==vl,C=g==h;if(C&&d0(e)){if(!d0(t))return!1;c=!0,m=!1}if(C&&!m)return a||(a=new Ms),c||ym(e)?Am(e,t,n,r,i,a):j3(e,t,g,n,r,i,a);if(!(n&q3)){var E=m&&m1.call(e,"__wrapped__"),A=y&&m1.call(t,"__wrapped__");if(E||A){var k=E?e.value():e,D=A?t.value():t;return a||(a=new Ms),i(k,D,n,r,a)}}return C?(a||(a=new Ms),V3(e,t,n,r,i,a)):!1}function Bm(e,t,n,r,i){return e===t?!0:e==null||t==null||!co(e)&&!co(t)?e!==e&&t!==t:G3(e,t,n,r,Bm,i)}function Q3(e,t,n){t=px(t,e);for(var r=-1,i=t.length,a=!1;++r<i;){var c=mx(t[r]);if(!(a=e!=null&&n(e,c)))break;e=e[c]}return a||++r!=i?a:(i=e==null?0:e.length,!!i&&fx(i)&&ux(c,i)&&(Rs(e)||gm(e)))}var K3=Object.prototype,Y3=K3.hasOwnProperty;function X3(e,t){return e!=null&&Y3.call(e,t)}function Z3(e,t){return e!=null&&Q3(e,t,X3)}function J3(e,t){return Bm(e,t)}function eE(e,t,n,r){if(!Si(e))return e;t=px(t,e);for(var i=-1,a=t.length,c=a-1,u=e;u!=null&&++i<a;){var g=mx(t[i]),h=n;if(g==="__proto__"||g==="constructor"||g==="prototype")return e;if(i!=c){var m=u[g];h=void 0,h===void 0&&(h=Si(m)?m:ux(t[i+1])?[]:{})}xm(u,g,h),u=u[g]}return e}function Mo(e,t,n){return e==null?e:eE(e,t,n)}var pi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function tE(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var kc,y1;function $i(){return y1||(y1=1,kc=TypeError),kc}const nE={},rE=Object.freeze(Object.defineProperty({__proto__:null,default:nE},Symbol.toStringTag,{value:"Module"})),sE=tE(rE);var Dc,b1;function L0(){if(b1)return Dc;b1=1;var e=typeof Map=="function"&&Map.prototype,t=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,n=e&&t&&typeof t.get=="function"?t.get:null,r=e&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,a=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=i&&a&&typeof a.get=="function"?a.get:null,u=i&&Set.prototype.forEach,g=typeof WeakMap=="function"&&WeakMap.prototype,h=g?WeakMap.prototype.has:null,m=typeof WeakSet=="function"&&WeakSet.prototype,y=m?WeakSet.prototype.has:null,C=typeof WeakRef=="function"&&WeakRef.prototype,E=C?WeakRef.prototype.deref:null,A=Boolean.prototype.valueOf,k=Object.prototype.toString,D=Function.prototype.toString,I=String.prototype.match,$=String.prototype.slice,P=String.prototype.replace,S=String.prototype.toUpperCase,M=String.prototype.toLowerCase,j=RegExp.prototype.test,L=Array.prototype.concat,q=Array.prototype.join,T=Array.prototype.slice,Q=Math.floor,oe=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Y=Object.getOwnPropertySymbols,le=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ye=typeof Symbol=="function"&&typeof Symbol.iterator=="object",re=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ye||!0)?Symbol.toStringTag:null,Ee=Object.prototype.propertyIsEnumerable,ve=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(be){return be.__proto__}:null);function Ce(be,Ae){if(be===1/0||be===-1/0||be!==be||be&&be>-1e3&&be<1e3||j.call(/e/,Ae))return Ae;var pt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof be=="number"){var kt=be<0?-Q(-be):Q(be);if(kt!==be){var Ot=String(kt),We=$.call(Ae,Ot.length+1);return P.call(Ot,pt,"$&_")+"."+P.call(P.call(We,/([0-9]{3})/g,"$&_"),/_$/,"")}}return P.call(Ae,pt,"$&_")}var he=sE,ae=he.custom,ee=z(ae)?ae:null,Ie={__proto__:null,double:'"',single:"'"},$e={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};Dc=function be(Ae,pt,kt,Ot){var We=pt||{};if(ce(We,"quoteStyle")&&!ce(Ie,We.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ce(We,"maxStringLength")&&(typeof We.maxStringLength=="number"?We.maxStringLength<0&&We.maxStringLength!==1/0:We.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var pn=ce(We,"customInspect")?We.customInspect:!0;if(typeof pn!="boolean"&&pn!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ce(We,"indent")&&We.indent!==null&&We.indent!=="	"&&!(parseInt(We.indent,10)===We.indent&&We.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ce(We,"numericSeparator")&&typeof We.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Yn=We.numericSeparator;if(typeof Ae>"u")return"undefined";if(Ae===null)return"null";if(typeof Ae=="boolean")return Ae?"true":"false";if(typeof Ae=="string")return ke(Ae,We);if(typeof Ae=="number"){if(Ae===0)return 1/0/Ae>0?"0":"-0";var Bn=String(Ae);return Yn?Ce(Ae,Bn):Bn}if(typeof Ae=="bigint"){var Zt=String(Ae)+"n";return Yn?Ce(Ae,Zt):Zt}var Ur=typeof We.depth>"u"?5:We.depth;if(typeof kt>"u"&&(kt=0),kt>=Ur&&Ur>0&&typeof Ae=="object")return et(Ae)?"[Array]":"[Object]";var Qt=xt(We,kt);if(typeof Ot>"u")Ot=[];else if(N(Ot,Ae)>=0)return"[Circular]";function on(js,ni,Ar){if(ni&&(Ot=T.call(Ot),Ot.push(ni)),Ar){var _n={depth:We.depth};return ce(We,"quoteStyle")&&(_n.quoteStyle=We.quoteStyle),be(js,_n,kt+1,Ot)}return be(js,We,kt+1,Ot)}if(typeof Ae=="function"&&!rt(Ae)){var Jr=we(Ae),Ln=Pt(Ae,on);return"[Function"+(Jr?": "+Jr:" (anonymous)")+"]"+(Ln.length>0?" { "+q.call(Ln,", ")+" }":"")}if(z(Ae)){var sl=ye?P.call(String(Ae),/^(Symbol\(.*\))_[^)]*$/,"$1"):le.call(Ae);return typeof Ae=="object"&&!ye?Qe(sl):sl}if(ue(Ae)){for(var fr="<"+M.call(String(Ae.nodeName)),mo=Ae.attributes||[],mn=0;mn<mo.length;mn++)fr+=" "+mo[mn].name+"="+Ne(tt(mo[mn].value),"double",We);return fr+=">",Ae.childNodes&&Ae.childNodes.length&&(fr+="..."),fr+="</"+M.call(String(Ae.nodeName))+">",fr}if(et(Ae)){if(Ae.length===0)return"[]";var Hr=Pt(Ae,on);return Qt&&!gt(Hr)?"["+He(Hr,Qt)+"]":"[ "+q.call(Hr,", ")+" ]"}if(Pe(Ae)){var $n=Pt(Ae,on);return!("cause"in Error.prototype)&&"cause"in Ae&&!Ee.call(Ae,"cause")?"{ ["+String(Ae)+"] "+q.call(L.call("[cause]: "+on(Ae.cause),$n),", ")+" }":$n.length===0?"["+String(Ae)+"]":"{ ["+String(Ae)+"] "+q.call($n,", ")+" }"}if(typeof Ae=="object"&&pn){if(ee&&typeof Ae[ee]=="function"&&he)return he(Ae,{depth:Ur-kt});if(pn!=="symbol"&&typeof Ae.inspect=="function")return Ae.inspect()}if(w(Ae)){var Ze=[];return r&&r.call(Ae,function(js,ni){Ze.push(on(ni,Ae,!0)+" => "+on(js,Ae))}),ut("Map",n.call(Ae),Ze,Qt)}if(K(Ae)){var ys=[];return u&&u.call(Ae,function(js){ys.push(on(js,Ae))}),ut("Set",c.call(Ae),ys,Qt)}if(_(Ae))return ht("WeakMap");if(de(Ae))return ht("WeakSet");if(H(Ae))return ht("WeakRef");if(_e(Ae))return Qe(on(Number(Ae)));if(F(Ae))return Qe(on(oe.call(Ae)));if(J(Ae))return Qe(A.call(Ae));if(te(Ae))return Qe(on(String(Ae)));if(typeof window<"u"&&Ae===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Ae===globalThis||typeof pi<"u"&&Ae===pi)return"{ [object globalThis] }";if(!Xe(Ae)&&!rt(Ae)){var yo=Pt(Ae,on),Fn=ve?ve(Ae)===Object.prototype:Ae instanceof Object||Ae.constructor===Object,es=Ae instanceof Object?"":"null prototype",bo=!Fn&&re&&Object(Ae)===Ae&&re in Ae?$.call(se(Ae),8,-1):es?"Object":"",ti=Fn||typeof Ae.constructor!="function"?"":Ae.constructor.name?Ae.constructor.name+" ":"",tr=ti+(bo||es?"["+q.call(L.call([],bo||[],es||[]),": ")+"] ":"");return yo.length===0?tr+"{}":Qt?tr+"{"+He(yo,Qt)+"}":tr+"{ "+q.call(yo,", ")+" }"}return String(Ae)};function Ne(be,Ae,pt){var kt=pt.quoteStyle||Ae,Ot=Ie[kt];return Ot+be+Ot}function tt(be){return P.call(String(be),/"/g,"&quot;")}function Re(be){return!re||!(typeof be=="object"&&(re in be||typeof be[re]<"u"))}function et(be){return se(be)==="[object Array]"&&Re(be)}function Xe(be){return se(be)==="[object Date]"&&Re(be)}function rt(be){return se(be)==="[object RegExp]"&&Re(be)}function Pe(be){return se(be)==="[object Error]"&&Re(be)}function te(be){return se(be)==="[object String]"&&Re(be)}function _e(be){return se(be)==="[object Number]"&&Re(be)}function J(be){return se(be)==="[object Boolean]"&&Re(be)}function z(be){if(ye)return be&&typeof be=="object"&&be instanceof Symbol;if(typeof be=="symbol")return!0;if(!be||typeof be!="object"||!le)return!1;try{return le.call(be),!0}catch{}return!1}function F(be){if(!be||typeof be!="object"||!oe)return!1;try{return oe.call(be),!0}catch{}return!1}var X=Object.prototype.hasOwnProperty||function(be){return be in this};function ce(be,Ae){return X.call(be,Ae)}function se(be){return k.call(be)}function we(be){if(be.name)return be.name;var Ae=I.call(D.call(be),/^function\s*([\w$]+)/);return Ae?Ae[1]:null}function N(be,Ae){if(be.indexOf)return be.indexOf(Ae);for(var pt=0,kt=be.length;pt<kt;pt++)if(be[pt]===Ae)return pt;return-1}function w(be){if(!n||!be||typeof be!="object")return!1;try{n.call(be);try{c.call(be)}catch{return!0}return be instanceof Map}catch{}return!1}function _(be){if(!h||!be||typeof be!="object")return!1;try{h.call(be,h);try{y.call(be,y)}catch{return!0}return be instanceof WeakMap}catch{}return!1}function H(be){if(!E||!be||typeof be!="object")return!1;try{return E.call(be),!0}catch{}return!1}function K(be){if(!c||!be||typeof be!="object")return!1;try{c.call(be);try{n.call(be)}catch{return!0}return be instanceof Set}catch{}return!1}function de(be){if(!y||!be||typeof be!="object")return!1;try{y.call(be,y);try{h.call(be,h)}catch{return!0}return be instanceof WeakSet}catch{}return!1}function ue(be){return!be||typeof be!="object"?!1:typeof HTMLElement<"u"&&be instanceof HTMLElement?!0:typeof be.nodeName=="string"&&typeof be.getAttribute=="function"}function ke(be,Ae){if(be.length>Ae.maxStringLength){var pt=be.length-Ae.maxStringLength,kt="... "+pt+" more character"+(pt>1?"s":"");return ke($.call(be,0,Ae.maxStringLength),Ae)+kt}var Ot=$e[Ae.quoteStyle||"single"];Ot.lastIndex=0;var We=P.call(P.call(be,Ot,"\\$1"),/[\x00-\x1f]/g,Ye);return Ne(We,"single",Ae)}function Ye(be){var Ae=be.charCodeAt(0),pt={8:"b",9:"t",10:"n",12:"f",13:"r"}[Ae];return pt?"\\"+pt:"\\x"+(Ae<16?"0":"")+S.call(Ae.toString(16))}function Qe(be){return"Object("+be+")"}function ht(be){return be+" { ? }"}function ut(be,Ae,pt,kt){var Ot=kt?He(pt,kt):q.call(pt,", ");return be+" ("+Ae+") {"+Ot+"}"}function gt(be){for(var Ae=0;Ae<be.length;Ae++)if(N(be[Ae],`
`)>=0)return!1;return!0}function xt(be,Ae){var pt;if(be.indent==="	")pt="	";else if(typeof be.indent=="number"&&be.indent>0)pt=q.call(Array(be.indent+1)," ");else return null;return{base:pt,prev:q.call(Array(Ae+1),pt)}}function He(be,Ae){if(be.length===0)return"";var pt=`
`+Ae.prev+Ae.base;return pt+q.call(be,","+pt)+`
`+Ae.prev}function Pt(be,Ae){var pt=et(be),kt=[];if(pt){kt.length=be.length;for(var Ot=0;Ot<be.length;Ot++)kt[Ot]=ce(be,Ot)?Ae(be[Ot],be):""}var We=typeof Y=="function"?Y(be):[],pn;if(ye){pn={};for(var Yn=0;Yn<We.length;Yn++)pn["$"+We[Yn]]=We[Yn]}for(var Bn in be)ce(be,Bn)&&(pt&&String(Number(Bn))===Bn&&Bn<be.length||ye&&pn["$"+Bn]instanceof Symbol||(j.call(/[^\w$]/,Bn)?kt.push(Ae(Bn,be)+": "+Ae(be[Bn],be)):kt.push(Bn+": "+Ae(be[Bn],be))));if(typeof Y=="function")for(var Zt=0;Zt<We.length;Zt++)Ee.call(be,We[Zt])&&kt.push("["+Ae(We[Zt])+"]: "+Ae(be[We[Zt]],be));return kt}return Dc}var Sc,v1;function oE(){if(v1)return Sc;v1=1;var e=L0(),t=$i(),n=function(u,g,h){for(var m=u,y;(y=m.next)!=null;m=y)if(y.key===g)return m.next=y.next,h||(y.next=u.next,u.next=y),y},r=function(u,g){if(u){var h=n(u,g);return h&&h.value}},i=function(u,g,h){var m=n(u,g);m?m.value=h:u.next={key:g,next:u.next,value:h}},a=function(u,g){return u?!!n(u,g):!1},c=function(u,g){if(u)return n(u,g,!0)};return Sc=function(){var g,h={assert:function(m){if(!h.has(m))throw new t("Side channel does not contain "+e(m))},delete:function(m){var y=g&&g.next,C=c(g,m);return C&&y&&y===C&&(g=void 0),!!C},get:function(m){return r(g,m)},has:function(m){return a(g,m)},set:function(m,y){g||(g={next:void 0}),i(g,m,y)}};return h},Sc}var Fc,E1;function _m(){return E1||(E1=1,Fc=Object),Fc}var Tc,w1;function iE(){return w1||(w1=1,Tc=Error),Tc}var Mc,C1;function aE(){return C1||(C1=1,Mc=EvalError),Mc}var Ic,A1;function lE(){return A1||(A1=1,Ic=RangeError),Ic}var Pc,B1;function cE(){return B1||(B1=1,Pc=ReferenceError),Pc}var Rc,_1;function dE(){return _1||(_1=1,Rc=SyntaxError),Rc}var Oc,k1;function uE(){return k1||(k1=1,Oc=URIError),Oc}var Nc,D1;function xE(){return D1||(D1=1,Nc=Math.abs),Nc}var Lc,S1;function fE(){return S1||(S1=1,Lc=Math.floor),Lc}var $c,F1;function hE(){return F1||(F1=1,$c=Math.max),$c}var jc,T1;function gE(){return T1||(T1=1,jc=Math.min),jc}var Uc,M1;function pE(){return M1||(M1=1,Uc=Math.pow),Uc}var Hc,I1;function mE(){return I1||(I1=1,Hc=Math.round),Hc}var zc,P1;function yE(){return P1||(P1=1,zc=Number.isNaN||function(t){return t!==t}),zc}var Vc,R1;function bE(){if(R1)return Vc;R1=1;var e=yE();return Vc=function(n){return e(n)||n===0?n:n<0?-1:1},Vc}var qc,O1;function vE(){return O1||(O1=1,qc=Object.getOwnPropertyDescriptor),qc}var Wc,N1;function km(){if(N1)return Wc;N1=1;var e=vE();if(e)try{e([],"length")}catch{e=null}return Wc=e,Wc}var Gc,L1;function EE(){if(L1)return Gc;L1=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return Gc=e,Gc}var Qc,$1;function wE(){return $1||($1=1,Qc=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;t[n]=i;for(var a in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var c=Object.getOwnPropertySymbols(t);if(c.length!==1||c[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(t,n);if(u.value!==i||u.enumerable!==!0)return!1}return!0}),Qc}var Kc,j1;function CE(){if(j1)return Kc;j1=1;var e=typeof Symbol<"u"&&Symbol,t=wE();return Kc=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},Kc}var Yc,U1;function Dm(){return U1||(U1=1,Yc=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Yc}var Xc,H1;function Sm(){if(H1)return Xc;H1=1;var e=_m();return Xc=e.getPrototypeOf||null,Xc}var Zc,z1;function AE(){if(z1)return Zc;z1=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,n=Math.max,r="[object Function]",i=function(g,h){for(var m=[],y=0;y<g.length;y+=1)m[y]=g[y];for(var C=0;C<h.length;C+=1)m[C+g.length]=h[C];return m},a=function(g,h){for(var m=[],y=h,C=0;y<g.length;y+=1,C+=1)m[C]=g[y];return m},c=function(u,g){for(var h="",m=0;m<u.length;m+=1)h+=u[m],m+1<u.length&&(h+=g);return h};return Zc=function(g){var h=this;if(typeof h!="function"||t.apply(h)!==r)throw new TypeError(e+h);for(var m=a(arguments,1),y,C=function(){if(this instanceof y){var I=h.apply(this,i(m,arguments));return Object(I)===I?I:this}return h.apply(g,i(m,arguments))},E=n(0,h.length-m.length),A=[],k=0;k<E;k++)A[k]="$"+k;if(y=Function("binder","return function ("+c(A,",")+"){ return binder.apply(this,arguments); }")(C),h.prototype){var D=function(){};D.prototype=h.prototype,y.prototype=new D,D.prototype=null}return y},Zc}var Jc,V1;function $0(){if(V1)return Jc;V1=1;var e=AE();return Jc=Function.prototype.bind||e,Jc}var ed,q1;function vx(){return q1||(q1=1,ed=Function.prototype.call),ed}var td,W1;function Fm(){return W1||(W1=1,td=Function.prototype.apply),td}var nd,G1;function BE(){return G1||(G1=1,nd=typeof Reflect<"u"&&Reflect&&Reflect.apply),nd}var rd,Q1;function _E(){if(Q1)return rd;Q1=1;var e=$0(),t=Fm(),n=vx(),r=BE();return rd=r||e.call(n,t),rd}var sd,K1;function Tm(){if(K1)return sd;K1=1;var e=$0(),t=$i(),n=vx(),r=_E();return sd=function(a){if(a.length<1||typeof a[0]!="function")throw new t("a function is required");return r(e,n,a)},sd}var od,Y1;function kE(){if(Y1)return od;Y1=1;var e=Tm(),t=km(),n;try{n=[].__proto__===Array.prototype}catch(c){if(!c||typeof c!="object"||!("code"in c)||c.code!=="ERR_PROTO_ACCESS")throw c}var r=!!n&&t&&t(Object.prototype,"__proto__"),i=Object,a=i.getPrototypeOf;return od=r&&typeof r.get=="function"?e([r.get]):typeof a=="function"?function(u){return a(u==null?u:i(u))}:!1,od}var id,X1;function DE(){if(X1)return id;X1=1;var e=Dm(),t=Sm(),n=kE();return id=e?function(i){return e(i)}:t?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return t(i)}:n?function(i){return n(i)}:null,id}var ad,Z1;function SE(){if(Z1)return ad;Z1=1;const e=(async function(){}).constructor;return ad=()=>e,ad}var ld,J1;function FE(){if(J1)return ld;J1=1;const e=(function*(){}).constructor;return ld=()=>e,ld}var cd,eh;function TE(){if(eh)return cd;eh=1;const e=(async function*(){}).constructor;return cd=()=>e,cd}var dd,th;function ME(){if(th)return dd;th=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,n=$0();return dd=n.call(e,t),dd}var ud,nh;function Ex(){if(nh)return ud;nh=1;var e,t=_m(),n=iE(),r=aE(),i=lE(),a=cE(),c=dE(),u=$i(),g=uE(),h=xE(),m=fE(),y=hE(),C=gE(),E=pE(),A=mE(),k=bE(),D=km(),I=EE(),$=function(){throw new u},P=D?(function(){try{return arguments.callee,$}catch{try{return D(arguments,"callee").get}catch{return $}}})():$,S=CE()(),M=DE(),j=Sm(),L=Dm(),q=Fm(),T=vx(),Q={},oe=typeof Uint8Array>"u"||!M?e:M(Uint8Array),Y={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":S&&M?M([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":Q,"%AsyncGenerator%":Q,"%AsyncGeneratorFunction%":Q,"%AsyncIteratorPrototype%":Q,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":r,"%Float16Array%":typeof Float16Array>"u"?e:Float16Array,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":Function,"%GeneratorFunction%":Q,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":S&&M?M(M([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!S||!M?e:M(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":D,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":i,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!S||!M?e:M(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":S&&M?M(""[Symbol.iterator]()):e,"%Symbol%":S?Symbol:e,"%SyntaxError%":c,"%ThrowTypeError%":P,"%TypedArray%":oe,"%TypeError%":u,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":g,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet,"%Function.prototype.call%":T,"%Function.prototype.apply%":q,"%Object.defineProperty%":I,"%Object.getPrototypeOf%":j,"%Math.abs%":h,"%Math.floor%":m,"%Math.max%":y,"%Math.min%":C,"%Math.pow%":E,"%Math.round%":A,"%Math.sign%":k,"%Reflect.getPrototypeOf%":L};if(M)try{null.error}catch(Pe){var le=M(M(Pe));Y["%Error.prototype%"]=le}var ye=SE(),re=FE(),Ee=TE(),ve=function Pe(te){var _e;if(te==="%AsyncFunction%")_e=ye()||void 0;else if(te==="%GeneratorFunction%")_e=re()||void 0;else if(te==="%AsyncGeneratorFunction%")_e=Ee()||void 0;else if(te==="%AsyncGenerator%"){var J=Pe("%AsyncGeneratorFunction%");J&&(_e=J.prototype)}else if(te==="%AsyncIteratorPrototype%"){var z=Pe("%AsyncGenerator%");z&&M&&(_e=M(z.prototype))}return Y[te]=_e,_e},Ce={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},he=$0(),ae=ME(),ee=he.call(T,Array.prototype.concat),Ie=he.call(q,Array.prototype.splice),$e=he.call(T,String.prototype.replace),Ne=he.call(T,String.prototype.slice),tt=he.call(T,RegExp.prototype.exec),Re=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,et=/\\(\\)?/g,Xe=function(te){var _e=Ne(te,0,1),J=Ne(te,-1);if(_e==="%"&&J!=="%")throw new c("invalid intrinsic syntax, expected closing `%`");if(J==="%"&&_e!=="%")throw new c("invalid intrinsic syntax, expected opening `%`");var z=[];return $e(te,Re,function(F,X,ce,se){z[z.length]=ce?$e(se,et,"$1"):X||F}),z},rt=function(te,_e){var J=te,z;if(ae(Ce,J)&&(z=Ce[J],J="%"+z[0]+"%"),ae(Y,J)){var F=Y[J];if(F===Q&&(F=ve(J)),typeof F>"u"&&!_e)throw new u("intrinsic "+te+" exists, but is not available. Please file an issue!");return{alias:z,name:J,value:F}}throw new c("intrinsic "+te+" does not exist!")};return ud=function(te,_e){if(typeof te!="string"||te.length===0)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof _e!="boolean")throw new u('"allowMissing" argument must be a boolean');if(tt(/^%?[^%]*%?$/,te)===null)throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var J=Xe(te),z=J.length>0?J[0]:"",F=rt("%"+z+"%",_e),X=F.name,ce=F.value,se=!1,we=F.alias;we&&(z=we[0],Ie(J,ee([0,1],we)));for(var N=1,w=!0;N<J.length;N+=1){var _=J[N],H=Ne(_,0,1),K=Ne(_,-1);if((H==='"'||H==="'"||H==="`"||K==='"'||K==="'"||K==="`")&&H!==K)throw new c("property names with quotes must have matching quotes");if((_==="constructor"||!w)&&(se=!0),z+="."+_,X="%"+z+"%",ae(Y,X))ce=Y[X];else if(ce!=null){if(!(_ in ce)){if(!_e)throw new u("base intrinsic for "+te+" exists, but the property is not available.");return}if(D&&N+1>=J.length){var de=D(ce,_);w=!!de,w&&"get"in de&&!("originalValue"in de.get)?ce=de.get:ce=ce[_]}else w=ae(ce,_),ce=ce[_];w&&!se&&(Y[X]=ce)}}return ce},ud}var xd,rh;function Mm(){if(rh)return xd;rh=1;var e=Ex(),t=Tm(),n=t([e("%String.prototype.indexOf%")]);return xd=function(i,a){var c=e(i,!!a);return typeof c=="function"&&n(i,".prototype.")>-1?t([c]):c},xd}var fd,sh;function Im(){if(sh)return fd;sh=1;var e=Ex(),t=Mm(),n=L0(),r=$i(),i=e("%Map%",!0),a=t("Map.prototype.get",!0),c=t("Map.prototype.set",!0),u=t("Map.prototype.has",!0),g=t("Map.prototype.delete",!0),h=t("Map.prototype.size",!0);return fd=!!i&&function(){var y,C={assert:function(E){if(!C.has(E))throw new r("Side channel does not contain "+n(E))},delete:function(E){if(y){var A=g(y,E);return h(y)===0&&(y=void 0),A}return!1},get:function(E){if(y)return a(y,E)},has:function(E){return y?u(y,E):!1},set:function(E,A){y||(y=new i),c(y,E,A)}};return C},fd}var hd,oh;function IE(){if(oh)return hd;oh=1;var e=Ex(),t=Mm(),n=L0(),r=Im(),i=$i(),a=e("%WeakMap%",!0),c=t("WeakMap.prototype.get",!0),u=t("WeakMap.prototype.set",!0),g=t("WeakMap.prototype.has",!0),h=t("WeakMap.prototype.delete",!0);return hd=a?function(){var y,C,E={assert:function(A){if(!E.has(A))throw new i("Side channel does not contain "+n(A))},delete:function(A){if(a&&A&&(typeof A=="object"||typeof A=="function")){if(y)return h(y,A)}else if(r&&C)return C.delete(A);return!1},get:function(A){return a&&A&&(typeof A=="object"||typeof A=="function")&&y?c(y,A):C&&C.get(A)},has:function(A){return a&&A&&(typeof A=="object"||typeof A=="function")&&y?g(y,A):!!C&&C.has(A)},set:function(A,k){a&&A&&(typeof A=="object"||typeof A=="function")?(y||(y=new a),u(y,A,k)):r&&(C||(C=r()),C.set(A,k))}};return E}:r,hd}var gd,ih;function PE(){if(ih)return gd;ih=1;var e=$i(),t=L0(),n=oE(),r=Im(),i=IE(),a=i||r||n;return gd=function(){var u,g={assert:function(h){if(!g.has(h))throw new e("Side channel does not contain "+t(h))},delete:function(h){return!!u&&u.delete(h)},get:function(h){return u&&u.get(h)},has:function(h){return!!u&&u.has(h)},set:function(h,m){u||(u=a()),u.set(h,m)}};return g},gd}var pd,ah;function wx(){if(ah)return pd;ah=1;var e=String.prototype.replace,t=/%20/g,n={RFC1738:"RFC1738",RFC3986:"RFC3986"};return pd={default:n.RFC3986,formatters:{RFC1738:function(r){return e.call(r,t,"+")},RFC3986:function(r){return String(r)}},RFC1738:n.RFC1738,RFC3986:n.RFC3986},pd}var md,lh;function Pm(){if(lh)return md;lh=1;var e=wx(),t=Object.prototype.hasOwnProperty,n=Array.isArray,r=(function(){for(var D=[],I=0;I<256;++I)D.push("%"+((I<16?"0":"")+I.toString(16)).toUpperCase());return D})(),i=function(I){for(;I.length>1;){var $=I.pop(),P=$.obj[$.prop];if(n(P)){for(var S=[],M=0;M<P.length;++M)typeof P[M]<"u"&&S.push(P[M]);$.obj[$.prop]=S}}},a=function(I,$){for(var P=$&&$.plainObjects?{__proto__:null}:{},S=0;S<I.length;++S)typeof I[S]<"u"&&(P[S]=I[S]);return P},c=function D(I,$,P){if(!$)return I;if(typeof $!="object"&&typeof $!="function"){if(n(I))I.push($);else if(I&&typeof I=="object")(P&&(P.plainObjects||P.allowPrototypes)||!t.call(Object.prototype,$))&&(I[$]=!0);else return[I,$];return I}if(!I||typeof I!="object")return[I].concat($);var S=I;return n(I)&&!n($)&&(S=a(I,P)),n(I)&&n($)?($.forEach(function(M,j){if(t.call(I,j)){var L=I[j];L&&typeof L=="object"&&M&&typeof M=="object"?I[j]=D(L,M,P):I.push(M)}else I[j]=M}),I):Object.keys($).reduce(function(M,j){var L=$[j];return t.call(M,j)?M[j]=D(M[j],L,P):M[j]=L,M},S)},u=function(I,$){return Object.keys($).reduce(function(P,S){return P[S]=$[S],P},I)},g=function(D,I,$){var P=D.replace(/\+/g," ");if($==="iso-8859-1")return P.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(P)}catch{return P}},h=1024,m=function(I,$,P,S,M){if(I.length===0)return I;var j=I;if(typeof I=="symbol"?j=Symbol.prototype.toString.call(I):typeof I!="string"&&(j=String(I)),P==="iso-8859-1")return escape(j).replace(/%u[0-9a-f]{4}/gi,function(le){return"%26%23"+parseInt(le.slice(2),16)+"%3B"});for(var L="",q=0;q<j.length;q+=h){for(var T=j.length>=h?j.slice(q,q+h):j,Q=[],oe=0;oe<T.length;++oe){var Y=T.charCodeAt(oe);if(Y===45||Y===46||Y===95||Y===126||Y>=48&&Y<=57||Y>=65&&Y<=90||Y>=97&&Y<=122||M===e.RFC1738&&(Y===40||Y===41)){Q[Q.length]=T.charAt(oe);continue}if(Y<128){Q[Q.length]=r[Y];continue}if(Y<2048){Q[Q.length]=r[192|Y>>6]+r[128|Y&63];continue}if(Y<55296||Y>=57344){Q[Q.length]=r[224|Y>>12]+r[128|Y>>6&63]+r[128|Y&63];continue}oe+=1,Y=65536+((Y&1023)<<10|T.charCodeAt(oe)&1023),Q[Q.length]=r[240|Y>>18]+r[128|Y>>12&63]+r[128|Y>>6&63]+r[128|Y&63]}L+=Q.join("")}return L},y=function(I){for(var $=[{obj:{o:I},prop:"o"}],P=[],S=0;S<$.length;++S)for(var M=$[S],j=M.obj[M.prop],L=Object.keys(j),q=0;q<L.length;++q){var T=L[q],Q=j[T];typeof Q=="object"&&Q!==null&&P.indexOf(Q)===-1&&($.push({obj:j,prop:T}),P.push(Q))}return i($),I},C=function(I){return Object.prototype.toString.call(I)==="[object RegExp]"},E=function(I){return!I||typeof I!="object"?!1:!!(I.constructor&&I.constructor.isBuffer&&I.constructor.isBuffer(I))},A=function(I,$){return[].concat(I,$)},k=function(I,$){if(n(I)){for(var P=[],S=0;S<I.length;S+=1)P.push($(I[S]));return P}return $(I)};return md={arrayToObject:a,assign:u,combine:A,compact:y,decode:g,encode:m,isBuffer:E,isRegExp:C,maybeMap:k,merge:c},md}var yd,ch;function RE(){if(ch)return yd;ch=1;var e=PE(),t=Pm(),n=wx(),r=Object.prototype.hasOwnProperty,i={brackets:function(D){return D+"[]"},comma:"comma",indices:function(D,I){return D+"["+I+"]"},repeat:function(D){return D}},a=Array.isArray,c=Array.prototype.push,u=function(k,D){c.apply(k,a(D)?D:[D])},g=Date.prototype.toISOString,h=n.default,m={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:t.encode,encodeValuesOnly:!1,filter:void 0,format:h,formatter:n.formatters[h],indices:!1,serializeDate:function(D){return g.call(D)},skipNulls:!1,strictNullHandling:!1},y=function(D){return typeof D=="string"||typeof D=="number"||typeof D=="boolean"||typeof D=="symbol"||typeof D=="bigint"},C={},E=function k(D,I,$,P,S,M,j,L,q,T,Q,oe,Y,le,ye,re,Ee,ve){for(var Ce=D,he=ve,ae=0,ee=!1;(he=he.get(C))!==void 0&&!ee;){var Ie=he.get(D);if(ae+=1,typeof Ie<"u"){if(Ie===ae)throw new RangeError("Cyclic object value");ee=!0}typeof he.get(C)>"u"&&(ae=0)}if(typeof T=="function"?Ce=T(I,Ce):Ce instanceof Date?Ce=Y(Ce):$==="comma"&&a(Ce)&&(Ce=t.maybeMap(Ce,function(F){return F instanceof Date?Y(F):F})),Ce===null){if(M)return q&&!re?q(I,m.encoder,Ee,"key",le):I;Ce=""}if(y(Ce)||t.isBuffer(Ce)){if(q){var $e=re?I:q(I,m.encoder,Ee,"key",le);return[ye($e)+"="+ye(q(Ce,m.encoder,Ee,"value",le))]}return[ye(I)+"="+ye(String(Ce))]}var Ne=[];if(typeof Ce>"u")return Ne;var tt;if($==="comma"&&a(Ce))re&&q&&(Ce=t.maybeMap(Ce,q)),tt=[{value:Ce.length>0?Ce.join(",")||null:void 0}];else if(a(T))tt=T;else{var Re=Object.keys(Ce);tt=Q?Re.sort(Q):Re}var et=L?String(I).replace(/\./g,"%2E"):String(I),Xe=P&&a(Ce)&&Ce.length===1?et+"[]":et;if(S&&a(Ce)&&Ce.length===0)return Xe+"[]";for(var rt=0;rt<tt.length;++rt){var Pe=tt[rt],te=typeof Pe=="object"&&Pe&&typeof Pe.value<"u"?Pe.value:Ce[Pe];if(!(j&&te===null)){var _e=oe&&L?String(Pe).replace(/\./g,"%2E"):String(Pe),J=a(Ce)?typeof $=="function"?$(Xe,_e):Xe:Xe+(oe?"."+_e:"["+_e+"]");ve.set(D,ae);var z=e();z.set(C,ve),u(Ne,k(te,J,$,P,S,M,j,L,$==="comma"&&re&&a(Ce)?null:q,T,Q,oe,Y,le,ye,re,Ee,z))}}return Ne},A=function(D){if(!D)return m;if(typeof D.allowEmptyArrays<"u"&&typeof D.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof D.encodeDotInKeys<"u"&&typeof D.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(D.encoder!==null&&typeof D.encoder<"u"&&typeof D.encoder!="function")throw new TypeError("Encoder has to be a function.");var I=D.charset||m.charset;if(typeof D.charset<"u"&&D.charset!=="utf-8"&&D.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var $=n.default;if(typeof D.format<"u"){if(!r.call(n.formatters,D.format))throw new TypeError("Unknown format option provided.");$=D.format}var P=n.formatters[$],S=m.filter;(typeof D.filter=="function"||a(D.filter))&&(S=D.filter);var M;if(D.arrayFormat in i?M=D.arrayFormat:"indices"in D?M=D.indices?"indices":"repeat":M=m.arrayFormat,"commaRoundTrip"in D&&typeof D.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var j=typeof D.allowDots>"u"?D.encodeDotInKeys===!0?!0:m.allowDots:!!D.allowDots;return{addQueryPrefix:typeof D.addQueryPrefix=="boolean"?D.addQueryPrefix:m.addQueryPrefix,allowDots:j,allowEmptyArrays:typeof D.allowEmptyArrays=="boolean"?!!D.allowEmptyArrays:m.allowEmptyArrays,arrayFormat:M,charset:I,charsetSentinel:typeof D.charsetSentinel=="boolean"?D.charsetSentinel:m.charsetSentinel,commaRoundTrip:!!D.commaRoundTrip,delimiter:typeof D.delimiter>"u"?m.delimiter:D.delimiter,encode:typeof D.encode=="boolean"?D.encode:m.encode,encodeDotInKeys:typeof D.encodeDotInKeys=="boolean"?D.encodeDotInKeys:m.encodeDotInKeys,encoder:typeof D.encoder=="function"?D.encoder:m.encoder,encodeValuesOnly:typeof D.encodeValuesOnly=="boolean"?D.encodeValuesOnly:m.encodeValuesOnly,filter:S,format:$,formatter:P,serializeDate:typeof D.serializeDate=="function"?D.serializeDate:m.serializeDate,skipNulls:typeof D.skipNulls=="boolean"?D.skipNulls:m.skipNulls,sort:typeof D.sort=="function"?D.sort:null,strictNullHandling:typeof D.strictNullHandling=="boolean"?D.strictNullHandling:m.strictNullHandling}};return yd=function(k,D){var I=k,$=A(D),P,S;typeof $.filter=="function"?(S=$.filter,I=S("",I)):a($.filter)&&(S=$.filter,P=S);var M=[];if(typeof I!="object"||I===null)return"";var j=i[$.arrayFormat],L=j==="comma"&&$.commaRoundTrip;P||(P=Object.keys(I)),$.sort&&P.sort($.sort);for(var q=e(),T=0;T<P.length;++T){var Q=P[T],oe=I[Q];$.skipNulls&&oe===null||u(M,E(oe,Q,j,L,$.allowEmptyArrays,$.strictNullHandling,$.skipNulls,$.encodeDotInKeys,$.encode?$.encoder:null,$.filter,$.sort,$.allowDots,$.serializeDate,$.format,$.formatter,$.encodeValuesOnly,$.charset,q))}var Y=M.join($.delimiter),le=$.addQueryPrefix===!0?"?":"";return $.charsetSentinel&&($.charset==="iso-8859-1"?le+="utf8=%26%2310003%3B&":le+="utf8=%E2%9C%93&"),Y.length>0?le+Y:""},yd}var bd,dh;function OE(){if(dh)return bd;dh=1;var e=Pm(),t=Object.prototype.hasOwnProperty,n=Array.isArray,r={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:e.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},i=function(C){return C.replace(/&#(\d+);/g,function(E,A){return String.fromCharCode(parseInt(A,10))})},a=function(C,E,A){if(C&&typeof C=="string"&&E.comma&&C.indexOf(",")>-1)return C.split(",");if(E.throwOnLimitExceeded&&A>=E.arrayLimit)throw new RangeError("Array limit exceeded. Only "+E.arrayLimit+" element"+(E.arrayLimit===1?"":"s")+" allowed in an array.");return C},c="utf8=%26%2310003%3B",u="utf8=%E2%9C%93",g=function(E,A){var k={__proto__:null},D=A.ignoreQueryPrefix?E.replace(/^\?/,""):E;D=D.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var I=A.parameterLimit===1/0?void 0:A.parameterLimit,$=D.split(A.delimiter,A.throwOnLimitExceeded?I+1:I);if(A.throwOnLimitExceeded&&$.length>I)throw new RangeError("Parameter limit exceeded. Only "+I+" parameter"+(I===1?"":"s")+" allowed.");var P=-1,S,M=A.charset;if(A.charsetSentinel)for(S=0;S<$.length;++S)$[S].indexOf("utf8=")===0&&($[S]===u?M="utf-8":$[S]===c&&(M="iso-8859-1"),P=S,S=$.length);for(S=0;S<$.length;++S)if(S!==P){var j=$[S],L=j.indexOf("]="),q=L===-1?j.indexOf("="):L+1,T,Q;q===-1?(T=A.decoder(j,r.decoder,M,"key"),Q=A.strictNullHandling?null:""):(T=A.decoder(j.slice(0,q),r.decoder,M,"key"),Q=e.maybeMap(a(j.slice(q+1),A,n(k[T])?k[T].length:0),function(Y){return A.decoder(Y,r.decoder,M,"value")})),Q&&A.interpretNumericEntities&&M==="iso-8859-1"&&(Q=i(String(Q))),j.indexOf("[]=")>-1&&(Q=n(Q)?[Q]:Q);var oe=t.call(k,T);oe&&A.duplicates==="combine"?k[T]=e.combine(k[T],Q):(!oe||A.duplicates==="last")&&(k[T]=Q)}return k},h=function(C,E,A,k){var D=0;if(C.length>0&&C[C.length-1]==="[]"){var I=C.slice(0,-1).join("");D=Array.isArray(E)&&E[I]?E[I].length:0}for(var $=k?E:a(E,A,D),P=C.length-1;P>=0;--P){var S,M=C[P];if(M==="[]"&&A.parseArrays)S=A.allowEmptyArrays&&($===""||A.strictNullHandling&&$===null)?[]:e.combine([],$);else{S=A.plainObjects?{__proto__:null}:{};var j=M.charAt(0)==="["&&M.charAt(M.length-1)==="]"?M.slice(1,-1):M,L=A.decodeDotInKeys?j.replace(/%2E/g,"."):j,q=parseInt(L,10);!A.parseArrays&&L===""?S={0:$}:!isNaN(q)&&M!==L&&String(q)===L&&q>=0&&A.parseArrays&&q<=A.arrayLimit?(S=[],S[q]=$):L!=="__proto__"&&(S[L]=$)}$=S}return $},m=function(E,A,k,D){if(E){var I=k.allowDots?E.replace(/\.([^.[]+)/g,"[$1]"):E,$=/(\[[^[\]]*])/,P=/(\[[^[\]]*])/g,S=k.depth>0&&$.exec(I),M=S?I.slice(0,S.index):I,j=[];if(M){if(!k.plainObjects&&t.call(Object.prototype,M)&&!k.allowPrototypes)return;j.push(M)}for(var L=0;k.depth>0&&(S=P.exec(I))!==null&&L<k.depth;){if(L+=1,!k.plainObjects&&t.call(Object.prototype,S[1].slice(1,-1))&&!k.allowPrototypes)return;j.push(S[1])}if(S){if(k.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+k.depth+" and strictDepth is true");j.push("["+I.slice(S.index)+"]")}return h(j,A,k,D)}},y=function(E){if(!E)return r;if(typeof E.allowEmptyArrays<"u"&&typeof E.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof E.decodeDotInKeys<"u"&&typeof E.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(E.decoder!==null&&typeof E.decoder<"u"&&typeof E.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof E.charset<"u"&&E.charset!=="utf-8"&&E.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof E.throwOnLimitExceeded<"u"&&typeof E.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var A=typeof E.charset>"u"?r.charset:E.charset,k=typeof E.duplicates>"u"?r.duplicates:E.duplicates;if(k!=="combine"&&k!=="first"&&k!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var D=typeof E.allowDots>"u"?E.decodeDotInKeys===!0?!0:r.allowDots:!!E.allowDots;return{allowDots:D,allowEmptyArrays:typeof E.allowEmptyArrays=="boolean"?!!E.allowEmptyArrays:r.allowEmptyArrays,allowPrototypes:typeof E.allowPrototypes=="boolean"?E.allowPrototypes:r.allowPrototypes,allowSparse:typeof E.allowSparse=="boolean"?E.allowSparse:r.allowSparse,arrayLimit:typeof E.arrayLimit=="number"?E.arrayLimit:r.arrayLimit,charset:A,charsetSentinel:typeof E.charsetSentinel=="boolean"?E.charsetSentinel:r.charsetSentinel,comma:typeof E.comma=="boolean"?E.comma:r.comma,decodeDotInKeys:typeof E.decodeDotInKeys=="boolean"?E.decodeDotInKeys:r.decodeDotInKeys,decoder:typeof E.decoder=="function"?E.decoder:r.decoder,delimiter:typeof E.delimiter=="string"||e.isRegExp(E.delimiter)?E.delimiter:r.delimiter,depth:typeof E.depth=="number"||E.depth===!1?+E.depth:r.depth,duplicates:k,ignoreQueryPrefix:E.ignoreQueryPrefix===!0,interpretNumericEntities:typeof E.interpretNumericEntities=="boolean"?E.interpretNumericEntities:r.interpretNumericEntities,parameterLimit:typeof E.parameterLimit=="number"?E.parameterLimit:r.parameterLimit,parseArrays:E.parseArrays!==!1,plainObjects:typeof E.plainObjects=="boolean"?E.plainObjects:r.plainObjects,strictDepth:typeof E.strictDepth=="boolean"?!!E.strictDepth:r.strictDepth,strictNullHandling:typeof E.strictNullHandling=="boolean"?E.strictNullHandling:r.strictNullHandling,throwOnLimitExceeded:typeof E.throwOnLimitExceeded=="boolean"?E.throwOnLimitExceeded:!1}};return bd=function(C,E){var A=y(E);if(C===""||C===null||typeof C>"u")return A.plainObjects?{__proto__:null}:{};for(var k=typeof C=="string"?g(C,A):C,D=A.plainObjects?{__proto__:null}:{},I=Object.keys(k),$=0;$<I.length;++$){var P=I[$],S=m(P,k[P],A,typeof C=="string");D=e.merge(D,S,A)}return A.allowSparse===!0?D:e.compact(D)},bd}var vd,uh;function NE(){if(uh)return vd;uh=1;var e=RE(),t=OE(),n=wx();return vd={formats:n,parse:t,stringify:e},vd}var xh=NE();function Rm(e,t){return function(){return e.apply(t,arguments)}}const{toString:LE}=Object.prototype,{getPrototypeOf:Cx}=Object,{iterator:j0,toStringTag:Om}=Symbol,U0=(e=>t=>{const n=LE.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Zr=e=>(e=e.toLowerCase(),t=>U0(t)===e),H0=e=>t=>typeof t===e,{isArray:ji}=Array,Ti=H0("undefined");function Xa(e){return e!==null&&!Ti(e)&&e.constructor!==null&&!Ti(e.constructor)&&ur(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Nm=Zr("ArrayBuffer");function $E(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Nm(e.buffer),t}const jE=H0("string"),ur=H0("function"),Lm=H0("number"),Za=e=>e!==null&&typeof e=="object",UE=e=>e===!0||e===!1,Vl=e=>{if(U0(e)!=="object")return!1;const t=Cx(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Om in e)&&!(j0 in e)},HE=e=>{if(!Za(e)||Xa(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},zE=Zr("Date"),VE=Zr("File"),qE=Zr("Blob"),WE=Zr("FileList"),GE=e=>Za(e)&&ur(e.pipe),QE=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ur(e.append)&&((t=U0(e))==="formdata"||t==="object"&&ur(e.toString)&&e.toString()==="[object FormData]"))},KE=Zr("URLSearchParams"),[YE,XE,ZE,JE]=["ReadableStream","Request","Response","Headers"].map(Zr),ew=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ja(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),ji(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{if(Xa(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),c=a.length;let u;for(r=0;r<c;r++)u=a[r],t.call(null,e[u],u,e)}}function $m(e,t){if(Xa(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const Io=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,jm=e=>!Ti(e)&&e!==Io;function _u(){const{caseless:e,skipUndefined:t}=jm(this)&&this||{},n={},r=(i,a)=>{const c=e&&$m(n,a)||a;Vl(n[c])&&Vl(i)?n[c]=_u(n[c],i):Vl(i)?n[c]=_u({},i):ji(i)?n[c]=i.slice():(!t||!Ti(i))&&(n[c]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Ja(arguments[i],r);return n}const tw=(e,t,n,{allOwnKeys:r}={})=>(Ja(t,(i,a)=>{n&&ur(i)?e[a]=Rm(i,n):e[a]=i},{allOwnKeys:r}),e),nw=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),rw=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},sw=(e,t,n,r)=>{let i,a,c;const u={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)c=i[a],(!r||r(c,e,t))&&!u[c]&&(t[c]=e[c],u[c]=!0);e=n!==!1&&Cx(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},ow=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},iw=e=>{if(!e)return null;if(ji(e))return e;let t=e.length;if(!Lm(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},aw=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Cx(Uint8Array)),lw=(e,t)=>{const r=(e&&e[j0]).call(e);let i;for(;(i=r.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},cw=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},dw=Zr("HTMLFormElement"),uw=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),fh=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),xw=Zr("RegExp"),Um=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ja(n,(i,a)=>{let c;(c=t(i,a,e))!==!1&&(r[a]=c||i)}),Object.defineProperties(e,r)},fw=e=>{Um(e,(t,n)=>{if(ur(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(ur(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},hw=(e,t)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return ji(e)?r(e):r(String(e).split(t)),n},gw=()=>{},pw=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function mw(e){return!!(e&&ur(e.append)&&e[Om]==="FormData"&&e[j0])}const yw=e=>{const t=new Array(10),n=(r,i)=>{if(Za(r)){if(t.indexOf(r)>=0)return;if(Xa(r))return r;if(!("toJSON"in r)){t[i]=r;const a=ji(r)?[]:{};return Ja(r,(c,u)=>{const g=n(c,i+1);!Ti(g)&&(a[u]=g)}),t[i]=void 0,a}}return r};return n(e,0)},bw=Zr("AsyncFunction"),vw=e=>e&&(Za(e)||ur(e))&&ur(e.then)&&ur(e.catch),Hm=((e,t)=>e?setImmediate:t?((n,r)=>(Io.addEventListener("message",({source:i,data:a})=>{i===Io&&a===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Io.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ur(Io.postMessage)),Ew=typeof queueMicrotask<"u"?queueMicrotask.bind(Io):typeof process<"u"&&process.nextTick||Hm,ww=e=>e!=null&&ur(e[j0]),Me={isArray:ji,isArrayBuffer:Nm,isBuffer:Xa,isFormData:QE,isArrayBufferView:$E,isString:jE,isNumber:Lm,isBoolean:UE,isObject:Za,isPlainObject:Vl,isEmptyObject:HE,isReadableStream:YE,isRequest:XE,isResponse:ZE,isHeaders:JE,isUndefined:Ti,isDate:zE,isFile:VE,isBlob:qE,isRegExp:xw,isFunction:ur,isStream:GE,isURLSearchParams:KE,isTypedArray:aw,isFileList:WE,forEach:Ja,merge:_u,extend:tw,trim:ew,stripBOM:nw,inherits:rw,toFlatObject:sw,kindOf:U0,kindOfTest:Zr,endsWith:ow,toArray:iw,forEachEntry:lw,matchAll:cw,isHTMLForm:dw,hasOwnProperty:fh,hasOwnProp:fh,reduceDescriptors:Um,freezeMethods:fw,toObjectSet:hw,toCamelCase:uw,noop:gw,toFiniteNumber:pw,findKey:$m,global:Io,isContextDefined:jm,isSpecCompliantForm:mw,toJSONObject:yw,isAsyncFn:bw,isThenable:vw,setImmediate:Hm,asap:Ew,isIterable:ww};function bt(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Me.inherits(bt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Me.toJSONObject(this.config),code:this.code,status:this.status}}});const zm=bt.prototype,Vm={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Vm[e]={value:e}});Object.defineProperties(bt,Vm);Object.defineProperty(zm,"isAxiosError",{value:!0});bt.from=(e,t,n,r,i,a)=>{const c=Object.create(zm);Me.toFlatObject(e,c,function(m){return m!==Error.prototype},h=>h!=="isAxiosError");const u=e&&e.message?e.message:"Error",g=t==null&&e?e.code:t;return bt.call(c,u,g,n,r,i),e&&c.cause==null&&Object.defineProperty(c,"cause",{value:e,configurable:!0}),c.name=e&&e.name||"Error",a&&Object.assign(c,a),c};const Cw=null;function ku(e){return Me.isPlainObject(e)||Me.isArray(e)}function qm(e){return Me.endsWith(e,"[]")?e.slice(0,-2):e}function hh(e,t,n){return e?e.concat(t).map(function(i,a){return i=qm(i),!n&&a?"["+i+"]":i}).join(n?".":""):t}function Aw(e){return Me.isArray(e)&&!e.some(ku)}const Bw=Me.toFlatObject(Me,{},null,function(t){return/^is[A-Z]/.test(t)});function z0(e,t,n){if(!Me.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Me.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,D){return!Me.isUndefined(D[k])});const r=n.metaTokens,i=n.visitor||m,a=n.dots,c=n.indexes,g=(n.Blob||typeof Blob<"u"&&Blob)&&Me.isSpecCompliantForm(t);if(!Me.isFunction(i))throw new TypeError("visitor must be a function");function h(A){if(A===null)return"";if(Me.isDate(A))return A.toISOString();if(Me.isBoolean(A))return A.toString();if(!g&&Me.isBlob(A))throw new bt("Blob is not supported. Use a Buffer instead.");return Me.isArrayBuffer(A)||Me.isTypedArray(A)?g&&typeof Blob=="function"?new Blob([A]):Buffer.from(A):A}function m(A,k,D){let I=A;if(A&&!D&&typeof A=="object"){if(Me.endsWith(k,"{}"))k=r?k:k.slice(0,-2),A=JSON.stringify(A);else if(Me.isArray(A)&&Aw(A)||(Me.isFileList(A)||Me.endsWith(k,"[]"))&&(I=Me.toArray(A)))return k=qm(k),I.forEach(function(P,S){!(Me.isUndefined(P)||P===null)&&t.append(c===!0?hh([k],S,a):c===null?k:k+"[]",h(P))}),!1}return ku(A)?!0:(t.append(hh(D,k,a),h(A)),!1)}const y=[],C=Object.assign(Bw,{defaultVisitor:m,convertValue:h,isVisitable:ku});function E(A,k){if(!Me.isUndefined(A)){if(y.indexOf(A)!==-1)throw Error("Circular reference detected in "+k.join("."));y.push(A),Me.forEach(A,function(I,$){(!(Me.isUndefined(I)||I===null)&&i.call(t,I,Me.isString($)?$.trim():$,k,C))===!0&&E(I,k?k.concat($):[$])}),y.pop()}}if(!Me.isObject(e))throw new TypeError("data must be an object");return E(e),t}function gh(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Ax(e,t){this._pairs=[],e&&z0(e,this,t)}const Wm=Ax.prototype;Wm.append=function(t,n){this._pairs.push([t,n])};Wm.toString=function(t){const n=t?function(r){return t.call(this,r,gh)}:gh;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function _w(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Gm(e,t,n){if(!t)return e;const r=n&&n.encode||_w;Me.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(t,n):a=Me.isURLSearchParams(t)?t.toString():new Ax(t,n).toString(r),a){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class ph{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Me.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Qm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kw=typeof URLSearchParams<"u"?URLSearchParams:Ax,Dw=typeof FormData<"u"?FormData:null,Sw=typeof Blob<"u"?Blob:null,Fw={isBrowser:!0,classes:{URLSearchParams:kw,FormData:Dw,Blob:Sw},protocols:["http","https","file","blob","url","data"]},Bx=typeof window<"u"&&typeof document<"u",Du=typeof navigator=="object"&&navigator||void 0,Tw=Bx&&(!Du||["ReactNative","NativeScript","NS"].indexOf(Du.product)<0),Mw=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Iw=Bx&&window.location.href||"http://localhost",Pw=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Bx,hasStandardBrowserEnv:Tw,hasStandardBrowserWebWorkerEnv:Mw,navigator:Du,origin:Iw},Symbol.toStringTag,{value:"Module"})),Vn={...Pw,...Fw};function Rw(e,t){return z0(e,new Vn.classes.URLSearchParams,{visitor:function(n,r,i,a){return Vn.isNode&&Me.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function Ow(e){return Me.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Nw(e){const t={},n=Object.keys(e);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],t[a]=e[a];return t}function Km(e){function t(n,r,i,a){let c=n[a++];if(c==="__proto__")return!0;const u=Number.isFinite(+c),g=a>=n.length;return c=!c&&Me.isArray(i)?i.length:c,g?(Me.hasOwnProp(i,c)?i[c]=[i[c],r]:i[c]=r,!u):((!i[c]||!Me.isObject(i[c]))&&(i[c]=[]),t(n,r,i[c],a)&&Me.isArray(i[c])&&(i[c]=Nw(i[c])),!u)}if(Me.isFormData(e)&&Me.isFunction(e.entries)){const n={};return Me.forEachEntry(e,(r,i)=>{t(Ow(r),i,n,0)}),n}return null}function Lw(e,t,n){if(Me.isString(e))try{return(t||JSON.parse)(e),Me.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const el={transitional:Qm,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=Me.isObject(t);if(a&&Me.isHTMLForm(t)&&(t=new FormData(t)),Me.isFormData(t))return i?JSON.stringify(Km(t)):t;if(Me.isArrayBuffer(t)||Me.isBuffer(t)||Me.isStream(t)||Me.isFile(t)||Me.isBlob(t)||Me.isReadableStream(t))return t;if(Me.isArrayBufferView(t))return t.buffer;if(Me.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Rw(t,this.formSerializer).toString();if((u=Me.isFileList(t))||r.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return z0(u?{"files[]":t}:t,g&&new g,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),Lw(t)):t}],transformResponse:[function(t){const n=this.transitional||el.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Me.isResponse(t)||Me.isReadableStream(t))return t;if(t&&Me.isString(t)&&(r&&!this.responseType||i)){const c=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(u){if(c)throw u.name==="SyntaxError"?bt.from(u,bt.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vn.classes.FormData,Blob:Vn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Me.forEach(["delete","get","head","post","put","patch"],e=>{el.headers[e]={}});const $w=Me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jw=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(c){i=c.indexOf(":"),n=c.substring(0,i).trim().toLowerCase(),r=c.substring(i+1).trim(),!(!n||t[n]&&$w[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},mh=Symbol("internals");function na(e){return e&&String(e).trim().toLowerCase()}function ql(e){return e===!1||e==null?e:Me.isArray(e)?e.map(ql):String(e)}function Uw(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Hw=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ed(e,t,n,r,i){if(Me.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!Me.isString(t)){if(Me.isString(r))return t.indexOf(r)!==-1;if(Me.isRegExp(r))return r.test(t)}}function zw(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Vw(e,t){const n=Me.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,a,c){return this[r].call(this,t,i,a,c)},configurable:!0})})}let xr=class{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function a(u,g,h){const m=na(g);if(!m)throw new Error("header name must be a non-empty string");const y=Me.findKey(i,m);(!y||i[y]===void 0||h===!0||h===void 0&&i[y]!==!1)&&(i[y||g]=ql(u))}const c=(u,g)=>Me.forEach(u,(h,m)=>a(h,m,g));if(Me.isPlainObject(t)||t instanceof this.constructor)c(t,n);else if(Me.isString(t)&&(t=t.trim())&&!Hw(t))c(jw(t),n);else if(Me.isObject(t)&&Me.isIterable(t)){let u={},g,h;for(const m of t){if(!Me.isArray(m))throw TypeError("Object iterator must return a key-value pair");u[h=m[0]]=(g=u[h])?Me.isArray(g)?[...g,m[1]]:[g,m[1]]:m[1]}c(u,n)}else t!=null&&a(n,t,r);return this}get(t,n){if(t=na(t),t){const r=Me.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return Uw(i);if(Me.isFunction(n))return n.call(this,i,r);if(Me.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=na(t),t){const r=Me.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Ed(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function a(c){if(c=na(c),c){const u=Me.findKey(r,c);u&&(!n||Ed(r,r[u],u,n))&&(delete r[u],i=!0)}}return Me.isArray(t)?t.forEach(a):a(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!t||Ed(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const n=this,r={};return Me.forEach(this,(i,a)=>{const c=Me.findKey(r,a);if(c){n[c]=ql(i),delete n[a];return}const u=t?zw(a):String(a).trim();u!==a&&delete n[a],n[u]=ql(i),r[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Me.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&Me.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[mh]=this[mh]={accessors:{}}).accessors,i=this.prototype;function a(c){const u=na(c);r[u]||(Vw(i,c),r[u]=!0)}return Me.isArray(t)?t.forEach(a):a(t),this}};xr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Me.reduceDescriptors(xr.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});Me.freezeMethods(xr);function wd(e,t){const n=this||el,r=t||n,i=xr.from(r.headers);let a=r.data;return Me.forEach(e,function(u){a=u.call(n,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function Ym(e){return!!(e&&e.__CANCEL__)}function Ui(e,t,n){bt.call(this,e??"canceled",bt.ERR_CANCELED,t,n),this.name="CanceledError"}Me.inherits(Ui,bt,{__CANCEL__:!0});function Xm(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new bt("Request failed with status code "+n.status,[bt.ERR_BAD_REQUEST,bt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function qw(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Ww(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,a=0,c;return t=t!==void 0?t:1e3,function(g){const h=Date.now(),m=r[a];c||(c=h),n[i]=g,r[i]=h;let y=a,C=0;for(;y!==i;)C+=n[y++],y=y%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),h-c<t)return;const E=m&&h-m;return E?Math.round(C*1e3/E):void 0}}function Gw(e,t){let n=0,r=1e3/t,i,a;const c=(h,m=Date.now())=>{n=m,i=null,a&&(clearTimeout(a),a=null),e(...h)};return[(...h)=>{const m=Date.now(),y=m-n;y>=r?c(h,m):(i=h,a||(a=setTimeout(()=>{a=null,c(i)},r-y)))},()=>i&&c(i)]}const f0=(e,t,n=3)=>{let r=0;const i=Ww(50,250);return Gw(a=>{const c=a.loaded,u=a.lengthComputable?a.total:void 0,g=c-r,h=i(g),m=c<=u;r=c;const y={loaded:c,total:u,progress:u?c/u:void 0,bytes:g,rate:h||void 0,estimated:h&&u&&m?(u-c)/h:void 0,event:a,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(y)},n)},yh=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},bh=e=>(...t)=>Me.asap(()=>e(...t)),Qw=Vn.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Vn.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Vn.origin),Vn.navigator&&/(msie|trident)/i.test(Vn.navigator.userAgent)):()=>!0,Kw=Vn.hasStandardBrowserEnv?{write(e,t,n,r,i,a){const c=[e+"="+encodeURIComponent(t)];Me.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),Me.isString(r)&&c.push("path="+r),Me.isString(i)&&c.push("domain="+i),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Yw(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Xw(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Zm(e,t,n){let r=!Yw(t);return e&&(r||n==!1)?Xw(e,t):t}const vh=e=>e instanceof xr?{...e}:e;function Go(e,t){t=t||{};const n={};function r(h,m,y,C){return Me.isPlainObject(h)&&Me.isPlainObject(m)?Me.merge.call({caseless:C},h,m):Me.isPlainObject(m)?Me.merge({},m):Me.isArray(m)?m.slice():m}function i(h,m,y,C){if(Me.isUndefined(m)){if(!Me.isUndefined(h))return r(void 0,h,y,C)}else return r(h,m,y,C)}function a(h,m){if(!Me.isUndefined(m))return r(void 0,m)}function c(h,m){if(Me.isUndefined(m)){if(!Me.isUndefined(h))return r(void 0,h)}else return r(void 0,m)}function u(h,m,y){if(y in t)return r(h,m);if(y in e)return r(void 0,h)}const g={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u,headers:(h,m,y)=>i(vh(h),vh(m),y,!0)};return Me.forEach(Object.keys({...e,...t}),function(m){const y=g[m]||i,C=y(e[m],t[m],m);Me.isUndefined(C)&&y!==u||(n[m]=C)}),n}const Jm=e=>{const t=Go({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:c,auth:u}=t;if(t.headers=c=xr.from(c),t.url=Gm(Zm(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&c.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),Me.isFormData(n)){if(Vn.hasStandardBrowserEnv||Vn.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(Me.isFunction(n.getHeaders)){const g=n.getHeaders(),h=["content-type","content-length"];Object.entries(g).forEach(([m,y])=>{h.includes(m.toLowerCase())&&c.set(m,y)})}}if(Vn.hasStandardBrowserEnv&&(r&&Me.isFunction(r)&&(r=r(t)),r||r!==!1&&Qw(t.url))){const g=i&&a&&Kw.read(a);g&&c.set(i,g)}return t},Zw=typeof XMLHttpRequest<"u",Jw=Zw&&function(e){return new Promise(function(n,r){const i=Jm(e);let a=i.data;const c=xr.from(i.headers).normalize();let{responseType:u,onUploadProgress:g,onDownloadProgress:h}=i,m,y,C,E,A;function k(){E&&E(),A&&A(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let D=new XMLHttpRequest;D.open(i.method.toUpperCase(),i.url,!0),D.timeout=i.timeout;function I(){if(!D)return;const P=xr.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),M={data:!u||u==="text"||u==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:P,config:e,request:D};Xm(function(L){n(L),k()},function(L){r(L),k()},M),D=null}"onloadend"in D?D.onloadend=I:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(I)},D.onabort=function(){D&&(r(new bt("Request aborted",bt.ECONNABORTED,e,D)),D=null)},D.onerror=function(S){const M=S&&S.message?S.message:"Network Error",j=new bt(M,bt.ERR_NETWORK,e,D);j.event=S||null,r(j),D=null},D.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const M=i.transitional||Qm;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),r(new bt(S,M.clarifyTimeoutError?bt.ETIMEDOUT:bt.ECONNABORTED,e,D)),D=null},a===void 0&&c.setContentType(null),"setRequestHeader"in D&&Me.forEach(c.toJSON(),function(S,M){D.setRequestHeader(M,S)}),Me.isUndefined(i.withCredentials)||(D.withCredentials=!!i.withCredentials),u&&u!=="json"&&(D.responseType=i.responseType),h&&([C,A]=f0(h,!0),D.addEventListener("progress",C)),g&&D.upload&&([y,E]=f0(g),D.upload.addEventListener("progress",y),D.upload.addEventListener("loadend",E)),(i.cancelToken||i.signal)&&(m=P=>{D&&(r(!P||P.type?new Ui(null,e,D):P),D.abort(),D=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const $=qw(i.url);if($&&Vn.protocols.indexOf($)===-1){r(new bt("Unsupported protocol "+$+":",bt.ERR_BAD_REQUEST,e));return}D.send(a||null)})},eC=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const a=function(h){if(!i){i=!0,u();const m=h instanceof Error?h:this.reason;r.abort(m instanceof bt?m:new Ui(m instanceof Error?m.message:m))}};let c=t&&setTimeout(()=>{c=null,a(new bt(`timeout ${t} of ms exceeded`,bt.ETIMEDOUT))},t);const u=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(a):h.removeEventListener("abort",a)}),e=null)};e.forEach(h=>h.addEventListener("abort",a));const{signal:g}=r;return g.unsubscribe=()=>Me.asap(u),g}},tC=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},nC=async function*(e,t){for await(const n of rC(e))yield*tC(n,t)},rC=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Eh=(e,t,n,r)=>{const i=nC(e,t);let a=0,c,u=g=>{c||(c=!0,r&&r(g))};return new ReadableStream({async pull(g){try{const{done:h,value:m}=await i.next();if(h){u(),g.close();return}let y=m.byteLength;if(n){let C=a+=y;n(C)}g.enqueue(new Uint8Array(m))}catch(h){throw u(h),h}},cancel(g){return u(g),i.return()}},{highWaterMark:2})},wh=64*1024,{isFunction:El}=Me,sC=(({Request:e,Response:t})=>({Request:e,Response:t}))(Me.global),{ReadableStream:Ch,TextEncoder:Ah}=Me.global,Bh=(e,...t)=>{try{return!!e(...t)}catch{return!1}},oC=e=>{e=Me.merge.call({skipUndefined:!0},sC,e);const{fetch:t,Request:n,Response:r}=e,i=t?El(t):typeof fetch=="function",a=El(n),c=El(r);if(!i)return!1;const u=i&&El(Ch),g=i&&(typeof Ah=="function"?(A=>k=>A.encode(k))(new Ah):async A=>new Uint8Array(await new n(A).arrayBuffer())),h=a&&u&&Bh(()=>{let A=!1;const k=new n(Vn.origin,{body:new Ch,method:"POST",get duplex(){return A=!0,"half"}}).headers.has("Content-Type");return A&&!k}),m=c&&u&&Bh(()=>Me.isReadableStream(new r("").body)),y={stream:m&&(A=>A.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(A=>{!y[A]&&(y[A]=(k,D)=>{let I=k&&k[A];if(I)return I.call(k);throw new bt(`Response type '${A}' is not supported`,bt.ERR_NOT_SUPPORT,D)})});const C=async A=>{if(A==null)return 0;if(Me.isBlob(A))return A.size;if(Me.isSpecCompliantForm(A))return(await new n(Vn.origin,{method:"POST",body:A}).arrayBuffer()).byteLength;if(Me.isArrayBufferView(A)||Me.isArrayBuffer(A))return A.byteLength;if(Me.isURLSearchParams(A)&&(A=A+""),Me.isString(A))return(await g(A)).byteLength},E=async(A,k)=>{const D=Me.toFiniteNumber(A.getContentLength());return D??C(k)};return async A=>{let{url:k,method:D,data:I,signal:$,cancelToken:P,timeout:S,onDownloadProgress:M,onUploadProgress:j,responseType:L,headers:q,withCredentials:T="same-origin",fetchOptions:Q}=Jm(A),oe=t||fetch;L=L?(L+"").toLowerCase():"text";let Y=eC([$,P&&P.toAbortSignal()],S),le=null;const ye=Y&&Y.unsubscribe&&(()=>{Y.unsubscribe()});let re;try{if(j&&h&&D!=="get"&&D!=="head"&&(re=await E(q,I))!==0){let ee=new n(k,{method:"POST",body:I,duplex:"half"}),Ie;if(Me.isFormData(I)&&(Ie=ee.headers.get("content-type"))&&q.setContentType(Ie),ee.body){const[$e,Ne]=yh(re,f0(bh(j)));I=Eh(ee.body,wh,$e,Ne)}}Me.isString(T)||(T=T?"include":"omit");const Ee=a&&"credentials"in n.prototype,ve={...Q,signal:Y,method:D.toUpperCase(),headers:q.normalize().toJSON(),body:I,duplex:"half",credentials:Ee?T:void 0};le=a&&new n(k,ve);let Ce=await(a?oe(le,Q):oe(k,ve));const he=m&&(L==="stream"||L==="response");if(m&&(M||he&&ye)){const ee={};["status","statusText","headers"].forEach(tt=>{ee[tt]=Ce[tt]});const Ie=Me.toFiniteNumber(Ce.headers.get("content-length")),[$e,Ne]=M&&yh(Ie,f0(bh(M),!0))||[];Ce=new r(Eh(Ce.body,wh,$e,()=>{Ne&&Ne(),ye&&ye()}),ee)}L=L||"text";let ae=await y[Me.findKey(y,L)||"text"](Ce,A);return!he&&ye&&ye(),await new Promise((ee,Ie)=>{Xm(ee,Ie,{data:ae,headers:xr.from(Ce.headers),status:Ce.status,statusText:Ce.statusText,config:A,request:le})})}catch(Ee){throw ye&&ye(),Ee&&Ee.name==="TypeError"&&/Load failed|fetch/i.test(Ee.message)?Object.assign(new bt("Network Error",bt.ERR_NETWORK,A,le),{cause:Ee.cause||Ee}):bt.from(Ee,Ee&&Ee.code,A,le)}}},iC=new Map,ey=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:i}=t,a=[r,i,n];let c=a.length,u=c,g,h,m=iC;for(;u--;)g=a[u],h=m.get(g),h===void 0&&m.set(g,h=u?new Map:oC(t)),m=h;return h};ey();const Su={http:Cw,xhr:Jw,fetch:{get:ey}};Me.forEach(Su,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const _h=e=>`- ${e}`,aC=e=>Me.isFunction(e)||e===null||e===!1,ty={getAdapter:(e,t)=>{e=Me.isArray(e)?e:[e];const{length:n}=e;let r,i;const a={};for(let c=0;c<n;c++){r=e[c];let u;if(i=r,!aC(r)&&(i=Su[(u=String(r)).toLowerCase()],i===void 0))throw new bt(`Unknown adapter '${u}'`);if(i&&(Me.isFunction(i)||(i=i.get(t))))break;a[u||"#"+c]=i}if(!i){const c=Object.entries(a).map(([g,h])=>`adapter ${g} `+(h===!1?"is not supported by the environment":"is not available in the build"));let u=n?c.length>1?`since :
`+c.map(_h).join(`
`):" "+_h(c[0]):"as no adapter specified";throw new bt("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i},adapters:Su};function Cd(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ui(null,e)}function kh(e){return Cd(e),e.headers=xr.from(e.headers),e.data=wd.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ty.getAdapter(e.adapter||el.adapter,e)(e).then(function(r){return Cd(e),r.data=wd.call(e,e.transformResponse,r),r.headers=xr.from(r.headers),r},function(r){return Ym(r)||(Cd(e),r&&r.response&&(r.response.data=wd.call(e,e.transformResponse,r.response),r.response.headers=xr.from(r.response.headers))),Promise.reject(r)})}const ny="1.12.2",V0={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{V0[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Dh={};V0.transitional=function(t,n,r){function i(a,c){return"[Axios v"+ny+"] Transitional option '"+a+"'"+c+(r?". "+r:"")}return(a,c,u)=>{if(t===!1)throw new bt(i(c," has been removed"+(n?" in "+n:"")),bt.ERR_DEPRECATED);return n&&!Dh[c]&&(Dh[c]=!0,console.warn(i(c," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,c,u):!0}};V0.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function lC(e,t,n){if(typeof e!="object")throw new bt("options must be an object",bt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],c=t[a];if(c){const u=e[a],g=u===void 0||c(u,a,e);if(g!==!0)throw new bt("option "+a+" must be "+g,bt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new bt("Unknown option "+a,bt.ERR_BAD_OPTION)}}const Wl={assertOptions:lC,validators:V0},ss=Wl.validators;let jo=class{constructor(t){this.defaults=t||{},this.interceptors={request:new ph,response:new ph}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Go(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&Wl.assertOptions(r,{silentJSONParsing:ss.transitional(ss.boolean),forcedJSONParsing:ss.transitional(ss.boolean),clarifyTimeoutError:ss.transitional(ss.boolean)},!1),i!=null&&(Me.isFunction(i)?n.paramsSerializer={serialize:i}:Wl.assertOptions(i,{encode:ss.function,serialize:ss.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Wl.assertOptions(n,{baseUrl:ss.spelling("baseURL"),withXsrfToken:ss.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=a&&Me.merge(a.common,a[n.method]);a&&Me.forEach(["delete","get","head","post","put","patch","common"],A=>{delete a[A]}),n.headers=xr.concat(c,a);const u=[];let g=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(n)===!1||(g=g&&k.synchronous,u.unshift(k.fulfilled,k.rejected))});const h=[];this.interceptors.response.forEach(function(k){h.push(k.fulfilled,k.rejected)});let m,y=0,C;if(!g){const A=[kh.bind(this),void 0];for(A.unshift(...u),A.push(...h),C=A.length,m=Promise.resolve(n);y<C;)m=m.then(A[y++],A[y++]);return m}C=u.length;let E=n;for(;y<C;){const A=u[y++],k=u[y++];try{E=A(E)}catch(D){k.call(this,D);break}}try{m=kh.call(this,E)}catch(A){return Promise.reject(A)}for(y=0,C=h.length;y<C;)m=m.then(h[y++],h[y++]);return m}getUri(t){t=Go(this.defaults,t);const n=Zm(t.baseURL,t.url,t.allowAbsoluteUrls);return Gm(n,t.params,t.paramsSerializer)}};Me.forEach(["delete","get","head","options"],function(t){jo.prototype[t]=function(n,r){return this.request(Go(r||{},{method:t,url:n,data:(r||{}).data}))}});Me.forEach(["post","put","patch"],function(t){function n(r){return function(a,c,u){return this.request(Go(u||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}jo.prototype[t]=n(),jo.prototype[t+"Form"]=n(!0)});let cC=class ry{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const c=new Promise(u=>{r.subscribe(u),a=u}).then(i);return c.cancel=function(){r.unsubscribe(a)},c},t(function(a,c,u){r.reason||(r.reason=new Ui(a,c,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new ry(function(i){t=i}),cancel:t}}};function dC(e){return function(n){return e.apply(null,n)}}function uC(e){return Me.isObject(e)&&e.isAxiosError===!0}const Fu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Fu).forEach(([e,t])=>{Fu[t]=e});function sy(e){const t=new jo(e),n=Rm(jo.prototype.request,t);return Me.extend(n,jo.prototype,t,{allOwnKeys:!0}),Me.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return sy(Go(e,i))},n}const Bt=sy(el);Bt.Axios=jo;Bt.CanceledError=Ui;Bt.CancelToken=cC;Bt.isCancel=Ym;Bt.VERSION=ny;Bt.toFormData=z0;Bt.AxiosError=bt;Bt.Cancel=Bt.CanceledError;Bt.all=function(t){return Promise.all(t)};Bt.spread=dC;Bt.isAxiosError=uC;Bt.mergeConfig=Go;Bt.AxiosHeaders=xr;Bt.formToJSON=e=>Km(Me.isHTMLForm(e)?new FormData(e):e);Bt.getAdapter=ty.getAdapter;Bt.HttpStatusCode=Fu;Bt.default=Bt;const{Axios:loe,AxiosError:coe,CanceledError:doe,isCancel:uoe,CancelToken:xoe,VERSION:foe,all:hoe,Cancel:goe,isAxiosError:poe,spread:moe,toFormData:yoe,AxiosHeaders:boe,HttpStatusCode:voe,formToJSON:Eoe,getAdapter:woe,mergeConfig:Coe}=Bt;function Tu(e,t){let n;return function(...r){clearTimeout(n),n=setTimeout(()=>e.apply(this,r),t)}}function jr(e,t){return document.dispatchEvent(new CustomEvent(`inertia:${e}`,t))}var Sh=e=>jr("before",{cancelable:!0,detail:{visit:e}}),xC=e=>jr("error",{detail:{errors:e}}),fC=e=>jr("exception",{cancelable:!0,detail:{exception:e}}),hC=e=>jr("finish",{detail:{visit:e}}),gC=e=>jr("invalid",{cancelable:!0,detail:{response:e}}),pC=e=>jr("beforeUpdate",{detail:{page:e}}),wa=e=>jr("navigate",{detail:{page:e}}),mC=e=>jr("progress",{detail:{progress:e}}),yC=e=>jr("start",{detail:{visit:e}}),bC=e=>jr("success",{detail:{page:e}}),vC=(e,t)=>jr("prefetched",{detail:{fetchedAt:Date.now(),response:e.data,visit:t}}),EC=e=>jr("prefetching",{detail:{visit:e}}),er=class{static set(e,t){typeof window<"u"&&window.sessionStorage.setItem(e,JSON.stringify(t))}static get(e){if(typeof window<"u")return JSON.parse(window.sessionStorage.getItem(e)||"null")}static merge(e,t){const n=this.get(e);n===null?this.set(e,t):this.set(e,{...n,...t})}static remove(e){typeof window<"u"&&window.sessionStorage.removeItem(e)}static removeNested(e,t){const n=this.get(e);n!==null&&(delete n[t],this.set(e,n))}static exists(e){try{return this.get(e)!==null}catch{return!1}}static clear(){typeof window<"u"&&window.sessionStorage.clear()}};er.locationVisitKey="inertiaLocationVisit";var wC=async e=>{if(typeof window>"u")throw new Error("Unable to encrypt history");const t=oy(),n=await iy(),r=await DC(n);if(!r)throw new Error("Unable to encrypt history");return await AC(t,r,e)},Mi={key:"historyKey",iv:"historyIv"},CC=async e=>{const t=oy(),n=await iy();if(!n)throw new Error("Unable to decrypt history");return await BC(t,n,e)},AC=async(e,t,n)=>{if(typeof window>"u")throw new Error("Unable to encrypt history");if(typeof window.crypto.subtle>"u")return console.warn("Encryption is not supported in this environment. SSL is required."),Promise.resolve(n);const r=new TextEncoder,i=JSON.stringify(n),a=new Uint8Array(i.length*3),c=r.encodeInto(i,a);return window.crypto.subtle.encrypt({name:"AES-GCM",iv:e},t,a.subarray(0,c.written))},BC=async(e,t,n)=>{if(typeof window.crypto.subtle>"u")return console.warn("Decryption is not supported in this environment. SSL is required."),Promise.resolve(n);const r=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,n);return JSON.parse(new TextDecoder().decode(r))},oy=()=>{const e=er.get(Mi.iv);if(e)return new Uint8Array(e);const t=window.crypto.getRandomValues(new Uint8Array(12));return er.set(Mi.iv,Array.from(t)),t},_C=async()=>typeof window.crypto.subtle>"u"?(console.warn("Encryption is not supported in this environment. SSL is required."),Promise.resolve(null)):window.crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]),kC=async e=>{if(typeof window.crypto.subtle>"u")return console.warn("Encryption is not supported in this environment. SSL is required."),Promise.resolve();const t=await window.crypto.subtle.exportKey("raw",e);er.set(Mi.key,Array.from(new Uint8Array(t)))},DC=async e=>{if(e)return e;const t=await _C();return t?(await kC(t),t):null},iy=async()=>{const e=er.get(Mi.key);return e?await window.crypto.subtle.importKey("raw",new Uint8Array(e),{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]):null},Qr=class{static save(){Mt.saveScrollPositions(Array.from(this.regions()).map(e=>({top:e.scrollTop,left:e.scrollLeft})))}static regions(){return document.querySelectorAll("[scroll-region]")}static reset(){const e=typeof window<"u"?window.location.hash:null;e||window.scrollTo(0,0),this.regions().forEach(t=>{typeof t.scrollTo=="function"?t.scrollTo(0,0):(t.scrollTop=0,t.scrollLeft=0)}),this.save(),e&&setTimeout(()=>{const t=document.getElementById(e.slice(1));t?t.scrollIntoView():window.scrollTo(0,0)})}static restore(e){this.restoreDocument(),this.regions().forEach((t,n)=>{const r=e[n];r&&(typeof t.scrollTo=="function"?t.scrollTo(r.left,r.top):(t.scrollTop=r.top,t.scrollLeft=r.left))})}static restoreDocument(){const e=Mt.getDocumentScrollPosition();typeof window<"u"&&window.scrollTo(e.left,e.top)}static onScroll(e){const t=e.target;typeof t.hasAttribute=="function"&&t.hasAttribute("scroll-region")&&this.save()}static onWindowScroll(){Mt.saveDocumentScrollPosition({top:window.scrollY,left:window.scrollX})}};function Mu(e){return e instanceof File||e instanceof Blob||e instanceof FileList&&e.length>0||e instanceof FormData&&Array.from(e.values()).some(t=>Mu(t))||typeof e=="object"&&e!==null&&Object.values(e).some(t=>Mu(t))}var Iu=e=>e instanceof FormData;function ay(e,t=new FormData,n=null){e=e||{};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&cy(t,ly(n,r),e[r]);return t}function ly(e,t){return e?e+"["+t+"]":t}function cy(e,t,n){if(Array.isArray(n))return Array.from(n.keys()).forEach(r=>cy(e,ly(t,r.toString()),n[r]));if(n instanceof Date)return e.append(t,n.toISOString());if(n instanceof File)return e.append(t,n,n.name);if(n instanceof Blob)return e.append(t,n);if(typeof n=="boolean")return e.append(t,n?"1":"0");if(typeof n=="string")return e.append(t,n);if(typeof n=="number")return e.append(t,`${n}`);if(n==null)return e.append(t,"");ay(n,e,t)}function Js(e){return new URL(e.toString(),typeof window>"u"?void 0:window.location.toString())}var SC=(e,t,n,r,i)=>{let a=typeof e=="string"?Js(e):e;if((Mu(t)||r)&&!Iu(t)&&(t=ay(t)),Iu(t))return[a,t];const[c,u]=dy(n,a,t,i);return[Js(c),u]};function dy(e,t,n,r="brackets"){const i=e==="get"&&!Iu(n)&&Object.keys(n).length>0,a=/^[a-z][a-z0-9+.-]*:\/\//i.test(t.toString()),c=a||t.toString().startsWith("/")||t.toString()==="",u=!c&&!t.toString().startsWith("#")&&!t.toString().startsWith("?"),g=/^[.]{1,2}([/]|$)/.test(t.toString()),h=t.toString().includes("?")||i,m=t.toString().includes("#"),y=new URL(t.toString(),typeof window>"u"?"http://localhost":window.location.toString());if(i){const C={ignoreQueryPrefix:!0,parseArrays:!1};y.search=xh.stringify({...xh.parse(y.search,C),...n},{encodeValuesOnly:!0,arrayFormat:r})}return[[a?`${y.protocol}//${y.host}`:"",c?y.pathname:"",u?y.pathname.substring(g?0:1):"",h?y.search:"",m?y.hash:""].join(""),i?{}:n]}function h0(e){return e=new URL(e.href),e.hash="",e}var Fh=(e,t)=>{e.hash&&!t.hash&&h0(e).href===t.href&&(t.hash=e.hash)},Pu=(e,t)=>h0(e).href===h0(t).href;function g0(e){return e!==null&&typeof e=="object"&&e!==void 0&&"url"in e&&"method"in e}var FC=class{constructor(){this.componentId={},this.listeners=[],this.isFirstPageLoad=!0,this.cleared=!1,this.pendingDeferredProps=null}init({initialPage:e,swapComponent:t,resolveComponent:n}){return this.page=e,this.swapComponent=t,this.resolveComponent=n,this}set(e,{replace:t=!1,preserveScroll:n=!1,preserveState:r=!1}={}){Object.keys(e.deferredProps||{}).length&&(this.pendingDeferredProps={deferredProps:e.deferredProps,component:e.component,url:e.url}),this.componentId={};const i=this.componentId;return e.clearHistory&&Mt.clear(),this.resolve(e.component).then(a=>{if(i!==this.componentId)return;e.rememberedState??(e.rememberedState={});const c=typeof window<"u"?window.location:new URL(e.url);return t=t||Pu(Js(e.url),c),new Promise(u=>{t?Mt.replaceState(e,()=>u(null)):Mt.pushState(e,()=>u(null))}).then(()=>{const u=!this.isTheSame(e);return this.page=e,this.cleared=!1,u&&this.fireEventsFor("newComponent"),this.isFirstPageLoad&&this.fireEventsFor("firstLoad"),this.isFirstPageLoad=!1,this.swap({component:a,page:e,preserveState:r}).then(()=>{n||Qr.reset(),this.pendingDeferredProps&&this.pendingDeferredProps.component===e.component&&this.pendingDeferredProps.url===e.url&&Po.fireInternalEvent("loadDeferredProps",this.pendingDeferredProps.deferredProps),this.pendingDeferredProps=null,t||wa(e)})})})}setQuietly(e,{preserveState:t=!1}={}){return this.resolve(e.component).then(n=>(this.page=e,this.cleared=!1,Mt.setCurrent(e),this.swap({component:n,page:e,preserveState:t})))}clear(){this.cleared=!0}isCleared(){return this.cleared}get(){return this.page}merge(e){this.page={...this.page,...e}}setUrlHash(e){this.page.url.includes(e)||(this.page.url+=e)}remember(e){this.page.rememberedState=e}swap({component:e,page:t,preserveState:n}){return this.swapComponent({component:e,page:t,preserveState:n})}resolve(e){return Promise.resolve(this.resolveComponent(e))}isTheSame(e){return this.page.component===e.component}on(e,t){return this.listeners.push({event:e,callback:t}),()=>{this.listeners=this.listeners.filter(n=>n.event!==e&&n.callback!==t)}}fireEventsFor(e){this.listeners.filter(t=>t.event===e).forEach(t=>t.callback())}},dt=new FC,uy=class{constructor(){this.items=[],this.processingPromise=null}add(e){return this.items.push(e),this.process()}process(){return this.processingPromise??(this.processingPromise=this.processNext().finally(()=>{this.processingPromise=null})),this.processingPromise}processNext(){const e=this.items.shift();return e?Promise.resolve(e()).then(()=>this.processNext()):Promise.resolve()}},ua=typeof window>"u",ra=new uy,Th=!ua&&/CriOS/.test(window.navigator.userAgent),TC=class{constructor(){this.rememberedState="rememberedState",this.scrollRegions="scrollRegions",this.preserveUrl=!1,this.current={},this.initialState=null}remember(e,t){this.replaceState({...dt.get(),rememberedState:{...dt.get()?.rememberedState??{},[t]:e}})}restore(e){if(!ua)return this.current[this.rememberedState]?this.current[this.rememberedState]?.[e]:this.initialState?.[this.rememberedState]?.[e]}pushState(e,t=null){if(!ua){if(this.preserveUrl){t&&t();return}this.current=e,ra.add(()=>this.getPageData(e).then(n=>{const r=()=>{this.doPushState({page:n},e.url),t&&t()};Th?setTimeout(r):r()}))}}getPageData(e){return new Promise(t=>e.encryptHistory?wC(e).then(t):t(e))}processQueue(){return ra.process()}decrypt(e=null){if(ua)return Promise.resolve(e??dt.get());const t=e??window.history.state?.page;return this.decryptPageData(t).then(n=>{if(!n)throw new Error("Unable to decrypt history");return this.initialState===null?this.initialState=n??void 0:this.current=n??{},n})}decryptPageData(e){return e instanceof ArrayBuffer?CC(e):Promise.resolve(e)}saveScrollPositions(e){ra.add(()=>Promise.resolve().then(()=>{window.history.state?.page&&this.doReplaceState({page:window.history.state.page,scrollRegions:e})}))}saveDocumentScrollPosition(e){ra.add(()=>Promise.resolve().then(()=>{window.history.state?.page&&this.doReplaceState({page:window.history.state.page,documentScrollPosition:e})}))}getScrollRegions(){return window.history.state?.scrollRegions||[]}getDocumentScrollPosition(){return window.history.state?.documentScrollPosition||{top:0,left:0}}replaceState(e,t=null){if(dt.merge(e),!ua){if(this.preserveUrl){t&&t();return}this.current=e,ra.add(()=>this.getPageData(e).then(n=>{const r=()=>{this.doReplaceState({page:n},e.url),t&&t()};Th?setTimeout(r):r()}))}}doReplaceState(e,t){window.history.replaceState({...e,scrollRegions:e.scrollRegions??window.history.state?.scrollRegions,documentScrollPosition:e.documentScrollPosition??window.history.state?.documentScrollPosition},"",t)}doPushState(e,t){window.history.pushState(e,"",t)}getState(e,t){return this.current?.[e]??t}deleteState(e){this.current[e]!==void 0&&(delete this.current[e],this.replaceState(this.current))}clearInitialState(e){this.initialState&&this.initialState[e]!==void 0&&delete this.initialState[e]}hasAnyState(){return!!this.getAllState()}clear(){er.remove(Mi.key),er.remove(Mi.iv)}setCurrent(e){this.current=e}isValidState(e){return!!e.page}getAllState(){return this.current}};typeof window<"u"&&window.history.scrollRestoration&&(window.history.scrollRestoration="manual");var Mt=new TC,MC=class{constructor(){this.internalListeners=[]}init(){typeof window<"u"&&(window.addEventListener("popstate",this.handlePopstateEvent.bind(this)),window.addEventListener("scroll",Tu(Qr.onWindowScroll.bind(Qr),100),!0)),typeof document<"u"&&document.addEventListener("scroll",Tu(Qr.onScroll.bind(Qr),100),!0)}onGlobalEvent(e,t){const n=(r=>{const i=t(r);r.cancelable&&!r.defaultPrevented&&i===!1&&r.preventDefault()});return this.registerListener(`inertia:${e}`,n)}on(e,t){return this.internalListeners.push({event:e,listener:t}),()=>{this.internalListeners=this.internalListeners.filter(n=>n.listener!==t)}}onMissingHistoryItem(){dt.clear(),this.fireInternalEvent("missingHistoryItem")}fireInternalEvent(e,...t){this.internalListeners.filter(n=>n.event===e).forEach(n=>n.listener(...t))}registerListener(e,t){return document.addEventListener(e,t),()=>document.removeEventListener(e,t)}handlePopstateEvent(e){const t=e.state||null;if(t===null){const n=Js(dt.get().url);n.hash=window.location.hash,Mt.replaceState({...dt.get(),url:n.href}),Qr.reset();return}if(!Mt.isValidState(t))return this.onMissingHistoryItem();Mt.decrypt(t.page).then(n=>{if(dt.get().version!==n.version){this.onMissingHistoryItem();return}ft.cancelAll(),dt.setQuietly(n,{preserveState:!1}).then(()=>{window.requestAnimationFrame(()=>{Qr.restore(Mt.getScrollRegions())}),wa(dt.get())})}).catch(()=>{this.onMissingHistoryItem()})}},Po=new MC,IC=class{constructor(){this.type=this.resolveType()}resolveType(){return typeof window>"u"?"navigate":window.performance&&window.performance.getEntriesByType&&window.performance.getEntriesByType("navigation").length>0?window.performance.getEntriesByType("navigation")[0].type:"navigate"}get(){return this.type}isBackForward(){return this.type==="back_forward"}isReload(){return this.type==="reload"}},Ad=new IC,PC=class{static handle(){this.clearRememberedStateOnReload(),[this.handleBackForward,this.handleLocation,this.handleDefault].find(t=>t.bind(this)())}static clearRememberedStateOnReload(){Ad.isReload()&&(Mt.deleteState(Mt.rememberedState),Mt.clearInitialState(Mt.rememberedState))}static handleBackForward(){if(!Ad.isBackForward()||!Mt.hasAnyState())return!1;const e=Mt.getScrollRegions();return Mt.decrypt().then(t=>{dt.set(t,{preserveScroll:!0,preserveState:!0}).then(()=>{Qr.restore(e),wa(dt.get())})}).catch(()=>{Po.onMissingHistoryItem()}),!0}static handleLocation(){if(!er.exists(er.locationVisitKey))return!1;const e=er.get(er.locationVisitKey)||{};return er.remove(er.locationVisitKey),typeof window<"u"&&dt.setUrlHash(window.location.hash),Mt.decrypt(dt.get()).then(()=>{const t=Mt.getState(Mt.rememberedState,{}),n=Mt.getScrollRegions();dt.remember(t),dt.set(dt.get(),{preserveScroll:e.preserveScroll,preserveState:!0}).then(()=>{e.preserveScroll&&Qr.restore(n),wa(dt.get())})}).catch(()=>{Po.onMissingHistoryItem()}),!0}static handleDefault(){typeof window<"u"&&dt.setUrlHash(window.location.hash),dt.set(dt.get(),{preserveScroll:!0,preserveState:!0}).then(()=>{Ad.isReload()&&Qr.restore(Mt.getScrollRegions()),wa(dt.get())})}},RC=class{constructor(e,t,n){this.id=null,this.throttle=!1,this.keepAlive=!1,this.cbCount=0,this.keepAlive=n.keepAlive??!1,this.cb=t,this.interval=e,(n.autoStart??!0)&&this.start()}stop(){this.id&&clearInterval(this.id)}start(){typeof window>"u"||(this.stop(),this.id=window.setInterval(()=>{(!this.throttle||this.cbCount%10===0)&&this.cb(),this.throttle&&this.cbCount++},this.interval))}isInBackground(e){this.throttle=this.keepAlive?!1:e,this.throttle&&(this.cbCount=0)}},OC=class{constructor(){this.polls=[],this.setupVisibilityListener()}add(e,t,n){const r=new RC(e,t,n);return this.polls.push(r),{stop:()=>r.stop(),start:()=>r.start()}}clear(){this.polls.forEach(e=>e.stop()),this.polls=[]}setupVisibilityListener(){typeof document>"u"||document.addEventListener("visibilitychange",()=>{this.polls.forEach(e=>e.isInBackground(document.hidden))},!1)}},NC=new OC,xy=(e,t,n)=>{if(e===t)return!0;for(const r in e)if(!n.includes(r)&&e[r]!==t[r]&&!LC(e[r],t[r]))return!1;return!0},LC=(e,t)=>{switch(typeof e){case"object":return xy(e,t,[]);case"function":return e.toString()===t.toString();default:return e===t}},$C={ms:1,s:1e3,m:1e3*60,h:1e3*60*60,d:1e3*60*60*24},Mh=e=>{if(typeof e=="number")return e;for(const[t,n]of Object.entries($C))if(e.endsWith(t))return parseFloat(e)*n;return parseInt(e)},jC=class{constructor(){this.cached=[],this.inFlightRequests=[],this.removalTimers=[],this.currentUseId=null}add(e,t,{cacheFor:n,cacheTags:r}){if(this.findInFlight(e))return Promise.resolve();const a=this.findCached(e);if(!e.fresh&&a&&a.staleTimestamp>Date.now())return Promise.resolve();const[c,u]=this.extractStaleValues(n),g=new Promise((h,m)=>{t({...e,onCancel:()=>{this.remove(e),e.onCancel(),m()},onError:y=>{this.remove(e),e.onError(y),m()},onPrefetching(y){e.onPrefetching(y)},onPrefetched(y,C){e.onPrefetched(y,C)},onPrefetchResponse(y){h(y)},onPrefetchError(y){Es.removeFromInFlight(e),m(y)}})}).then(h=>(this.remove(e),this.cached.push({params:{...e},staleTimestamp:Date.now()+c,response:g,singleUse:u===0,timestamp:Date.now(),inFlight:!1,tags:Array.isArray(r)?r:[r]}),this.scheduleForRemoval(e,u),this.removeFromInFlight(e),h.handlePrefetch(),h));return this.inFlightRequests.push({params:{...e},response:g,staleTimestamp:null,inFlight:!0}),g}removeAll(){this.cached=[],this.removalTimers.forEach(e=>{clearTimeout(e.timer)}),this.removalTimers=[]}removeByTags(e){this.cached=this.cached.filter(t=>!t.tags.some(n=>e.includes(n)))}remove(e){this.cached=this.cached.filter(t=>!this.paramsAreEqual(t.params,e)),this.clearTimer(e)}removeFromInFlight(e){this.inFlightRequests=this.inFlightRequests.filter(t=>!this.paramsAreEqual(t.params,e))}extractStaleValues(e){const[t,n]=this.cacheForToStaleAndExpires(e);return[Mh(t),Mh(n)]}cacheForToStaleAndExpires(e){if(!Array.isArray(e))return[e,e];switch(e.length){case 0:return[0,0];case 1:return[e[0],e[0]];default:return[e[0],e[1]]}}clearTimer(e){const t=this.removalTimers.find(n=>this.paramsAreEqual(n.params,e));t&&(clearTimeout(t.timer),this.removalTimers=this.removalTimers.filter(n=>n!==t))}scheduleForRemoval(e,t){if(!(typeof window>"u")&&(this.clearTimer(e),t>0)){const n=window.setTimeout(()=>this.remove(e),t);this.removalTimers.push({params:e,timer:n})}}get(e){return this.findCached(e)||this.findInFlight(e)}use(e,t){const n=`${t.url.pathname}-${Date.now()}-${Math.random().toString(36).substring(7)}`;return this.currentUseId=n,e.response.then(r=>{if(this.currentUseId===n)return r.mergeParams({...t,onPrefetched:()=>{}}),this.removeSingleUseItems(t),r.handle()})}removeSingleUseItems(e){this.cached=this.cached.filter(t=>this.paramsAreEqual(t.params,e)?!t.singleUse:!0)}findCached(e){return this.cached.find(t=>this.paramsAreEqual(t.params,e))||null}findInFlight(e){return this.inFlightRequests.find(t=>this.paramsAreEqual(t.params,e))||null}withoutPurposePrefetchHeader(e){const t=ir(e);return t.headers.Purpose==="prefetch"&&delete t.headers.Purpose,t}paramsAreEqual(e,t){return xy(this.withoutPurposePrefetchHeader(e),this.withoutPurposePrefetchHeader(t),["showProgress","replace","prefetch","onBefore","onBeforeUpdate","onStart","onProgress","onFinish","onCancel","onSuccess","onError","onPrefetched","onCancelToken","onPrefetching","async"])}},Es=new jC,UC=class fy{constructor(t){if(this.callbacks=[],!t.prefetch)this.params=t;else{const n={onBefore:this.wrapCallback(t,"onBefore"),onBeforeUpdate:this.wrapCallback(t,"onBeforeUpdate"),onStart:this.wrapCallback(t,"onStart"),onProgress:this.wrapCallback(t,"onProgress"),onFinish:this.wrapCallback(t,"onFinish"),onCancel:this.wrapCallback(t,"onCancel"),onSuccess:this.wrapCallback(t,"onSuccess"),onError:this.wrapCallback(t,"onError"),onCancelToken:this.wrapCallback(t,"onCancelToken"),onPrefetched:this.wrapCallback(t,"onPrefetched"),onPrefetching:this.wrapCallback(t,"onPrefetching")};this.params={...t,...n,onPrefetchResponse:t.onPrefetchResponse||(()=>{}),onPrefetchError:t.onPrefetchError||(()=>{})}}}static create(t){return new fy(t)}data(){return this.params.method==="get"?null:this.params.data}queryParams(){return this.params.method==="get"?this.params.data:{}}isPartial(){return this.params.only.length>0||this.params.except.length>0||this.params.reset.length>0}onCancelToken(t){this.params.onCancelToken({cancel:t})}markAsFinished(){this.params.completed=!0,this.params.cancelled=!1,this.params.interrupted=!1}markAsCancelled({cancelled:t=!0,interrupted:n=!1}){this.params.onCancel(),this.params.completed=!1,this.params.cancelled=t,this.params.interrupted=n}wasCancelledAtAll(){return this.params.cancelled||this.params.interrupted}onFinish(){this.params.onFinish(this.params)}onStart(){this.params.onStart(this.params)}onPrefetching(){this.params.onPrefetching(this.params)}onPrefetchResponse(t){this.params.onPrefetchResponse&&this.params.onPrefetchResponse(t)}onPrefetchError(t){this.params.onPrefetchError&&this.params.onPrefetchError(t)}all(){return this.params}headers(){const t={...this.params.headers};this.isPartial()&&(t["X-Inertia-Partial-Component"]=dt.get().component);const n=this.params.only.concat(this.params.reset);return n.length>0&&(t["X-Inertia-Partial-Data"]=n.join(",")),this.params.except.length>0&&(t["X-Inertia-Partial-Except"]=this.params.except.join(",")),this.params.reset.length>0&&(t["X-Inertia-Reset"]=this.params.reset.join(",")),this.params.errorBag&&this.params.errorBag.length>0&&(t["X-Inertia-Error-Bag"]=this.params.errorBag),t}setPreserveOptions(t){this.params.preserveScroll=this.resolvePreserveOption(this.params.preserveScroll,t),this.params.preserveState=this.resolvePreserveOption(this.params.preserveState,t)}runCallbacks(){this.callbacks.forEach(({name:t,args:n})=>{this.params[t](...n)})}merge(t){this.params={...this.params,...t}}wrapCallback(t,n){return(...r)=>{this.recordCallback(n,r),t[n](...r)}}recordCallback(t,n){this.callbacks.push({name:t,args:n})}resolvePreserveOption(t,n){return typeof t=="function"?t(n):t==="errors"?Object.keys(n.props.errors||{}).length>0:t}},HC={modal:null,listener:null,show(e){typeof e=="object"&&(e=`All Inertia requests must receive a valid Inertia response, however a plain JSON response was received.<hr>${JSON.stringify(e)}`);const t=document.createElement("html");t.innerHTML=e,t.querySelectorAll("a").forEach(r=>r.setAttribute("target","_top")),this.modal=document.createElement("div"),this.modal.style.position="fixed",this.modal.style.width="100vw",this.modal.style.height="100vh",this.modal.style.padding="50px",this.modal.style.boxSizing="border-box",this.modal.style.backgroundColor="rgba(0, 0, 0, .6)",this.modal.style.zIndex=2e5,this.modal.addEventListener("click",()=>this.hide());const n=document.createElement("iframe");if(n.style.backgroundColor="white",n.style.borderRadius="5px",n.style.width="100%",n.style.height="100%",this.modal.appendChild(n),document.body.prepend(this.modal),document.body.style.overflow="hidden",!n.contentWindow)throw new Error("iframe not yet ready.");n.contentWindow.document.open(),n.contentWindow.document.write(t.outerHTML),n.contentWindow.document.close(),this.listener=this.hideOnEscape.bind(this),document.addEventListener("keydown",this.listener)},hide(){this.modal.outerHTML="",this.modal=null,document.body.style.overflow="visible",document.removeEventListener("keydown",this.listener)},hideOnEscape(e){e.keyCode===27&&this.hide()}},zC=new uy,Ih=class hy{constructor(t,n,r){this.requestParams=t,this.response=n,this.originatingPage=r,this.wasPrefetched=!1}static create(t,n,r){return new hy(t,n,r)}async handlePrefetch(){Pu(this.requestParams.all().url,window.location)&&this.handle()}async handle(){return zC.add(()=>this.process())}async process(){if(this.requestParams.all().prefetch)return this.wasPrefetched=!0,this.requestParams.all().prefetch=!1,this.requestParams.all().onPrefetched(this.response,this.requestParams.all()),vC(this.response,this.requestParams.all()),Promise.resolve();if(this.requestParams.runCallbacks(),!this.isInertiaResponse())return this.handleNonInertiaResponse();await Mt.processQueue(),Mt.preserveUrl=this.requestParams.all().preserveUrl,await this.setPage();const t=dt.get().props.errors||{};if(Object.keys(t).length>0){const n=this.getScopedErrors(t);return xC(n),this.requestParams.all().onError(n)}ft.flushByCacheTags(this.requestParams.all().invalidateCacheTags||[]),this.wasPrefetched||ft.flush(dt.get().url),bC(dt.get()),await this.requestParams.all().onSuccess(dt.get()),Mt.preserveUrl=!1}mergeParams(t){this.requestParams.merge(t)}async handleNonInertiaResponse(){if(this.isLocationVisit()){const n=Js(this.getHeader("x-inertia-location"));return Fh(this.requestParams.all().url,n),this.locationVisit(n)}const t={...this.response,data:this.getDataFromResponse(this.response.data)};if(gC(t))return HC.show(t.data)}isInertiaResponse(){return this.hasHeader("x-inertia")}hasStatus(t){return this.response.status===t}getHeader(t){return this.response.headers[t]}hasHeader(t){return this.getHeader(t)!==void 0}isLocationVisit(){return this.hasStatus(409)&&this.hasHeader("x-inertia-location")}locationVisit(t){try{if(er.set(er.locationVisitKey,{preserveScroll:this.requestParams.all().preserveScroll===!0}),typeof window>"u")return;Pu(window.location,t)?window.location.reload():window.location.href=t.href}catch{return!1}}async setPage(){const t=this.getDataFromResponse(this.response.data);return this.shouldSetPage(t)?(this.mergeProps(t),await this.setRememberedState(t),this.requestParams.setPreserveOptions(t),t.url=Mt.preserveUrl?dt.get().url:this.pageUrl(t),this.requestParams.all().onBeforeUpdate(t),pC(t),dt.set(t,{replace:this.requestParams.all().replace,preserveScroll:this.requestParams.all().preserveScroll,preserveState:this.requestParams.all().preserveState})):Promise.resolve()}getDataFromResponse(t){if(typeof t!="string")return t;try{return JSON.parse(t)}catch{return t}}shouldSetPage(t){if(!this.requestParams.all().async||this.originatingPage.component!==t.component)return!0;if(this.originatingPage.component!==dt.get().component)return!1;const n=Js(this.originatingPage.url),r=Js(dt.get().url);return n.origin===r.origin&&n.pathname===r.pathname}pageUrl(t){const n=Js(t.url);return Fh(this.requestParams.all().url,n),n.pathname+n.search+n.hash}mergeProps(t){if(!this.requestParams.isPartial()||t.component!==dt.get().component)return;const n=t.mergeProps||[],r=t.prependProps||[],i=t.deepMergeProps||[],a=t.matchPropsOn||[],c=(u,g)=>{const h=Ai(dt.get().props,u),m=Ai(t.props,u);if(Array.isArray(m)){const y=this.mergeOrMatchItems(h||[],m,u,a,g);Mo(t.props,u,y)}else if(typeof m=="object"&&m!==null){const y={...h||{},...m};Mo(t.props,u,y)}};n.forEach(u=>c(u,!0)),r.forEach(u=>c(u,!1)),i.forEach(u=>{const g=dt.get().props[u],h=t.props[u],m=(y,C,E)=>Array.isArray(C)?this.mergeOrMatchItems(y,C,E,a):typeof C=="object"&&C!==null?Object.keys(C).reduce((A,k)=>(A[k]=m(y?y[k]:void 0,C[k],`${E}.${k}`),A),{...y}):C;t.props[u]=m(g,h,u)}),t.props={...dt.get().props,...t.props},t.scrollProps&&(t.scrollProps={...dt.get().scrollProps||{},...t.scrollProps||{}})}mergeOrMatchItems(t,n,r,i,a=!0){const c=Array.isArray(t)?t:[],u=i.find(m=>m.split(".").slice(0,-1).join(".")===r);if(!u)return a?[...c,...n]:[...n,...c];const g=u.split(".").pop()||"",h=new Map;return n.forEach(m=>{this.hasUniqueProperty(m,g)&&h.set(m[g],m)}),a?this.appendWithMatching(c,n,h,g):this.prependWithMatching(c,n,h,g)}appendWithMatching(t,n,r,i){const a=t.map(u=>this.hasUniqueProperty(u,i)&&r.has(u[i])?r.get(u[i]):u),c=n.filter(u=>this.hasUniqueProperty(u,i)?!t.some(g=>this.hasUniqueProperty(g,i)&&g[i]===u[i]):!0);return[...a,...c]}prependWithMatching(t,n,r,i){const a=t.filter(c=>this.hasUniqueProperty(c,i)?!r.has(c[i]):!0);return[...n,...a]}hasUniqueProperty(t,n){return t&&typeof t=="object"&&n in t}async setRememberedState(t){const n=await Mt.getState(Mt.rememberedState,{});this.requestParams.all().preserveState&&n&&t.component===dt.get().component&&(t.rememberedState=n)}getScopedErrors(t){return this.requestParams.all().errorBag?t[this.requestParams.all().errorBag||""]||{}:t}},Ph=class gy{constructor(t,n){this.page=n,this.requestHasFinished=!1,this.requestParams=UC.create(t),this.cancelToken=new AbortController}static create(t,n){return new gy(t,n)}async send(){this.requestParams.onCancelToken(()=>this.cancel({cancelled:!0})),yC(this.requestParams.all()),this.requestParams.onStart(),this.requestParams.all().prefetch&&(this.requestParams.onPrefetching(),EC(this.requestParams.all()));const t=this.requestParams.all().prefetch;return Bt({method:this.requestParams.all().method,url:h0(this.requestParams.all().url).href,data:this.requestParams.data(),params:this.requestParams.queryParams(),signal:this.cancelToken.signal,headers:this.getHeaders(),onUploadProgress:this.onProgress.bind(this),responseType:"text"}).then(n=>(this.response=Ih.create(this.requestParams,n,this.page),this.response.handle())).catch(n=>n?.response?(this.response=Ih.create(this.requestParams,n.response,this.page),this.response.handle()):Promise.reject(n)).catch(n=>{if(!Bt.isCancel(n)&&fC(n))return t&&this.requestParams.onPrefetchError(n),Promise.reject(n)}).finally(()=>{this.finish(),t&&this.response&&this.requestParams.onPrefetchResponse(this.response)})}finish(){this.requestParams.wasCancelledAtAll()||(this.requestParams.markAsFinished(),this.fireFinishEvents())}fireFinishEvents(){this.requestHasFinished||(this.requestHasFinished=!0,hC(this.requestParams.all()),this.requestParams.onFinish())}cancel({cancelled:t=!1,interrupted:n=!1}){this.requestHasFinished||(this.cancelToken.abort(),this.requestParams.markAsCancelled({cancelled:t,interrupted:n}),this.fireFinishEvents())}onProgress(t){this.requestParams.data()instanceof FormData&&(t.percentage=t.progress?Math.round(t.progress*100):0,mC(t),this.requestParams.all().onProgress(t))}getHeaders(){const t={...this.requestParams.headers(),Accept:"text/html, application/xhtml+xml","X-Requested-With":"XMLHttpRequest","X-Inertia":!0};return dt.get().version&&(t["X-Inertia-Version"]=dt.get().version),t}},Rh=class{constructor({maxConcurrent:e,interruptible:t}){this.requests=[],this.maxConcurrent=e,this.interruptible=t}send(e){this.requests.push(e),e.send().then(()=>{this.requests=this.requests.filter(t=>t!==e)})}interruptInFlight(){this.cancel({interrupted:!0},!1)}cancelInFlight(){this.cancel({cancelled:!0},!0)}cancel({cancelled:e=!1,interrupted:t=!1}={},n){if(!this.shouldCancel(n))return;this.requests.shift()?.cancel({interrupted:t,cancelled:e})}shouldCancel(e){return e?!0:this.interruptible&&this.requests.length>=this.maxConcurrent}},VC=class{constructor(){this.syncRequestStream=new Rh({maxConcurrent:1,interruptible:!0}),this.asyncRequestStream=new Rh({maxConcurrent:1/0,interruptible:!1})}init({initialPage:e,resolveComponent:t,swapComponent:n}){dt.init({initialPage:e,resolveComponent:t,swapComponent:n}),PC.handle(),Po.init(),Po.on("missingHistoryItem",()=>{typeof window<"u"&&this.visit(window.location.href,{preserveState:!0,preserveScroll:!0,replace:!0})}),Po.on("loadDeferredProps",r=>{this.loadDeferredProps(r)})}get(e,t={},n={}){return this.visit(e,{...n,method:"get",data:t})}post(e,t={},n={}){return this.visit(e,{preserveState:!0,...n,method:"post",data:t})}put(e,t={},n={}){return this.visit(e,{preserveState:!0,...n,method:"put",data:t})}patch(e,t={},n={}){return this.visit(e,{preserveState:!0,...n,method:"patch",data:t})}delete(e,t={}){return this.visit(e,{preserveState:!0,...t,method:"delete"})}reload(e={}){if(!(typeof window>"u"))return this.visit(window.location.href,{...e,preserveScroll:!0,preserveState:!0,async:!0,headers:{...e.headers||{},"Cache-Control":"no-cache"}})}remember(e,t="default"){Mt.remember(e,t)}restore(e="default"){return Mt.restore(e)}on(e,t){return typeof window>"u"?()=>{}:Po.onGlobalEvent(e,t)}cancel(){this.syncRequestStream.cancelInFlight()}cancelAll(){this.asyncRequestStream.cancelInFlight(),this.syncRequestStream.cancelInFlight()}poll(e,t={},n={}){return NC.add(e,()=>this.reload(t),{autoStart:n.autoStart??!0,keepAlive:n.keepAlive??!1})}visit(e,t={}){const n=this.getPendingVisit(e,{...t,showProgress:t.showProgress??!t.async}),r=this.getVisitEvents(t);if(r.onBefore(n)===!1||!Sh(n))return;const i=n.async?this.asyncRequestStream:this.syncRequestStream;i.interruptInFlight(),!dt.isCleared()&&!n.preserveUrl&&Qr.save();const a={...n,...r},c=Es.get(a);c?(dr.reveal(c.inFlight),Es.use(c,a)):(dr.reveal(!0),i.send(Ph.create(a,dt.get())))}getCached(e,t={}){return Es.findCached(this.getPrefetchParams(e,t))}flush(e,t={}){Es.remove(this.getPrefetchParams(e,t))}flushAll(){Es.removeAll()}flushByCacheTags(e){Es.removeByTags(Array.isArray(e)?e:[e])}getPrefetching(e,t={}){return Es.findInFlight(this.getPrefetchParams(e,t))}prefetch(e,t={},n={}){if((t.method??(g0(e)?e.method:"get"))!=="get")throw new Error("Prefetch requests must use the GET method");const i=this.getPendingVisit(e,{...t,async:!0,showProgress:!1,prefetch:!0}),a=i.url.origin+i.url.pathname+i.url.search,c=window.location.origin+window.location.pathname+window.location.search;if(a===c)return;const u=this.getVisitEvents(t);if(u.onBefore(i)===!1||!Sh(i))return;dr.hide(),this.asyncRequestStream.interruptInFlight();const g={...i,...u};new Promise(m=>{const y=()=>{dt.get()?m():setTimeout(y,50)};y()}).then(()=>{Es.add(g,m=>{this.asyncRequestStream.send(Ph.create(m,dt.get()))},{cacheFor:3e4,cacheTags:[],...n})})}clearHistory(){Mt.clear()}decryptHistory(){return Mt.decrypt()}resolveComponent(e){return dt.resolve(e)}replace(e){this.clientVisit(e,{replace:!0})}replaceProp(e,t,n){this.replace({preserveScroll:!0,preserveState:!0,props(r){const i=typeof t=="function"?t(Ai(r,e),r):t;return Mo(ir(r),e,i)},...n||{}})}appendToProp(e,t,n){this.replaceProp(e,(r,i)=>{const a=typeof t=="function"?t(r,i):t;return Array.isArray(r)||(r=r!==void 0?[r]:[]),[...r,a]},n)}prependToProp(e,t,n){this.replaceProp(e,(r,i)=>{const a=typeof t=="function"?t(r,i):t;return Array.isArray(r)||(r=r!==void 0?[r]:[]),[a,...r]},n)}push(e){this.clientVisit(e)}clientVisit(e,{replace:t=!1}={}){const n=dt.get(),r=typeof e.props=="function"?e.props(n.props):e.props??n.props,{onError:i,onFinish:a,onSuccess:c,...u}=e;dt.set({...n,...u,props:r},{replace:t,preserveScroll:e.preserveScroll,preserveState:e.preserveState}).then(()=>{const g=dt.get().props.errors||{};if(Object.keys(g).length===0)return c?.(dt.get());const h=e.errorBag?g[e.errorBag||""]||{}:g;return i?.(h)}).finally(()=>a?.(e))}getPrefetchParams(e,t){return{...this.getPendingVisit(e,{...t,async:!0,showProgress:!1,prefetch:!0}),...this.getVisitEvents(t)}}getPendingVisit(e,t,n={}){if(g0(e)){const u=e;e=u.url,t.method=t.method??u.method}const r={method:"get",data:{},replace:!1,preserveScroll:!1,preserveState:!1,only:[],except:[],headers:{},errorBag:"",forceFormData:!1,queryStringArrayFormat:"brackets",async:!1,showProgress:!0,fresh:!1,reset:[],preserveUrl:!1,prefetch:!1,invalidateCacheTags:[],...t},[i,a]=SC(e,r.data,r.method,r.forceFormData,r.queryStringArrayFormat),c={cancelled:!1,completed:!1,interrupted:!1,...r,...n,url:i,data:a};return c.prefetch&&(c.headers.Purpose="prefetch"),c}getVisitEvents(e){return{onCancelToken:e.onCancelToken||(()=>{}),onBefore:e.onBefore||(()=>{}),onBeforeUpdate:e.onBeforeUpdate||(()=>{}),onStart:e.onStart||(()=>{}),onProgress:e.onProgress||(()=>{}),onFinish:e.onFinish||(()=>{}),onCancel:e.onCancel||(()=>{}),onSuccess:e.onSuccess||(()=>{}),onError:e.onError||(()=>{}),onPrefetched:e.onPrefetched||(()=>{}),onPrefetching:e.onPrefetching||(()=>{})}}loadDeferredProps(e){e&&Object.entries(e).forEach(([t,n])=>{this.reload({only:n})})}},qC={buildDOMElement(e){const t=document.createElement("template");t.innerHTML=e;const n=t.content.firstChild;if(!e.startsWith("<script "))return n;const r=document.createElement("script");return r.innerHTML=n.innerHTML,n.getAttributeNames().forEach(i=>{r.setAttribute(i,n.getAttribute(i)||"")}),r},isInertiaManagedElement(e){return e.nodeType===Node.ELEMENT_NODE&&e.getAttribute("inertia")!==null},findMatchingElementIndex(e,t){const n=e.getAttribute("inertia");return n!==null?t.findIndex(r=>r.getAttribute("inertia")===n):-1},update:Tu(function(e){const t=e.map(r=>this.buildDOMElement(r));Array.from(document.head.childNodes).filter(r=>this.isInertiaManagedElement(r)).forEach(r=>{const i=this.findMatchingElementIndex(r,t);if(i===-1){r?.parentNode?.removeChild(r);return}const a=t.splice(i,1)[0];a&&!r.isEqualNode(a)&&r?.parentNode?.replaceChild(a,r)}),t.forEach(r=>document.head.appendChild(r))},1)};function WC(e,t,n){const r={};let i=0;function a(){const y=i+=1;return r[y]=[],y.toString()}function c(y){y===null||Object.keys(r).indexOf(y)===-1||(delete r[y],m())}function u(y){Object.keys(r).indexOf(y)===-1&&(r[y]=[])}function g(y,C=[]){y!==null&&Object.keys(r).indexOf(y)>-1&&(r[y]=C),m()}function h(){const y=t(""),C={...y?{title:`<title inertia="">${y}</title>`}:{}},E=Object.values(r).reduce((A,k)=>A.concat(k),[]).reduce((A,k)=>{if(k.indexOf("<")===-1)return A;if(k.indexOf("<title ")===0){const I=k.match(/(<title [^>]+>)(.*?)(<\/title>)/);return A.title=I?`${I[1]}${t(I[2])}${I[3]}`:k,A}const D=k.match(/ inertia="[^"]+"/);return D?A[D[0]]=k:A[Object.keys(A).length]=k,A},C);return Object.values(E)}function m(){e?n(h()):qC.update(h())}return m(),{forceUpdate:m,createProvider:function(){const y=a();return{reconnect:()=>u(y),update:C=>g(y,C),disconnect:()=>c(y)}}}}function wl(e){const t=e.currentTarget.tagName.toLowerCase()==="a";return!(e.target&&(e?.target).isContentEditable||e.defaultPrevented||t&&e.altKey||t&&e.ctrlKey||t&&e.metaKey||t&&e.shiftKey||t&&"button"in e&&e.button!==0)}function Oh(e){const t=e.currentTarget.tagName.toLowerCase()==="button";return e.key==="Enter"||t&&e.key===" "}var vn="nprogress",Mr,Sn={minimum:.08,easing:"linear",positionUsing:"translate3d",speed:200,trickle:!0,trickleSpeed:200,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",color:"#29d",includeCSS:!0,template:['<div class="bar" role="bar">','<div class="peg"></div>',"</div>",'<div class="spinner" role="spinner">','<div class="spinner-icon"></div>',"</div>"].join("")},uo=null,GC=e=>{Object.assign(Sn,e),Sn.includeCSS&&JC(Sn.color),Mr=document.createElement("div"),Mr.id=vn,Mr.innerHTML=Sn.template},q0=e=>{const t=py();e=Ey(e,Sn.minimum,1),uo=e===1?null:e;const n=KC(!t),r=n.querySelector(Sn.barSelector),i=Sn.speed,a=Sn.easing;n.offsetWidth,ZC(c=>{const u=Sn.positionUsing==="translate3d"?{transition:`all ${i}ms ${a}`,transform:`translate3d(${Gl(e)}%,0,0)`}:Sn.positionUsing==="translate"?{transition:`all ${i}ms ${a}`,transform:`translate(${Gl(e)}%,0)`}:{marginLeft:`${Gl(e)}%`};for(const g in u)r.style[g]=u[g];if(e!==1)return setTimeout(c,i);n.style.transition="none",n.style.opacity="1",n.offsetWidth,setTimeout(()=>{n.style.transition=`all ${i}ms linear`,n.style.opacity="0",setTimeout(()=>{vy(),n.style.transition="",n.style.opacity="",c()},i)},i)})},py=()=>typeof uo=="number",my=()=>{uo||q0(0);const e=function(){setTimeout(function(){uo&&(yy(),e())},Sn.trickleSpeed)};Sn.trickle&&e()},QC=e=>{!e&&!uo||(yy(.3+.5*Math.random()),q0(1))},yy=e=>{const t=uo;if(t===null)return my();if(!(t>1))return e=typeof e=="number"?e:(()=>{const n={.1:[0,.2],.04:[.2,.5],.02:[.5,.8],.005:[.8,.99]};for(const r in n)if(t>=n[r][0]&&t<n[r][1])return parseFloat(r);return 0})(),q0(Ey(t+e,0,.994))},KC=e=>{if(YC())return document.getElementById(vn);document.documentElement.classList.add(`${vn}-busy`);const t=Mr.querySelector(Sn.barSelector),n=e?"-100":Gl(uo||0),r=by();return t.style.transition="all 0 linear",t.style.transform=`translate3d(${n}%,0,0)`,Sn.showSpinner||Mr.querySelector(Sn.spinnerSelector)?.remove(),r!==document.body&&r.classList.add(`${vn}-custom-parent`),r.appendChild(Mr),Mr},by=()=>XC(Sn.parent)?Sn.parent:document.querySelector(Sn.parent),vy=()=>{document.documentElement.classList.remove(`${vn}-busy`),by().classList.remove(`${vn}-custom-parent`),Mr?.remove()},YC=()=>document.getElementById(vn)!==null,XC=e=>typeof HTMLElement=="object"?e instanceof HTMLElement:e&&typeof e=="object"&&e.nodeType===1&&typeof e.nodeName=="string";function Ey(e,t,n){return e<t?t:e>n?n:e}var Gl=e=>(-1+e)*100,ZC=(()=>{const e=[],t=()=>{const n=e.shift();n&&n(t)};return n=>{e.push(n),e.length===1&&t()}})(),JC=e=>{const t=document.createElement("style");t.textContent=`
    #${vn} {
      pointer-events: none;
    }

    #${vn} .bar {
      background: ${e};

      position: fixed;
      z-index: 1031;
      top: 0;
      left: 0;

      width: 100%;
      height: 2px;
    }

    #${vn} .peg {
      display: block;
      position: absolute;
      right: 0px;
      width: 100px;
      height: 100%;
      box-shadow: 0 0 10px ${e}, 0 0 5px ${e};
      opacity: 1.0;

      transform: rotate(3deg) translate(0px, -4px);
    }

    #${vn} .spinner {
      display: block;
      position: fixed;
      z-index: 1031;
      top: 15px;
      right: 15px;
    }

    #${vn} .spinner-icon {
      width: 18px;
      height: 18px;
      box-sizing: border-box;

      border: solid 2px transparent;
      border-top-color: ${e};
      border-left-color: ${e};
      border-radius: 50%;

      animation: ${vn}-spinner 400ms linear infinite;
    }

    .${vn}-custom-parent {
      overflow: hidden;
      position: relative;
    }

    .${vn}-custom-parent #${vn} .spinner,
    .${vn}-custom-parent #${vn} .bar {
      position: absolute;
    }

    @keyframes ${vn}-spinner {
      0%   { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  `,document.head.appendChild(t)},eA=()=>{Mr&&(Mr.style.display="")},tA=()=>{Mr&&(Mr.style.display="none")},Vr={configure:GC,isStarted:py,done:QC,set:q0,remove:vy,start:my,status:uo,show:eA,hide:tA},nA=class{constructor(){this.hideCount=0}start(){Vr.start()}reveal(e=!1){this.hideCount=Math.max(0,this.hideCount-1),(e||this.hideCount===0)&&Vr.show()}hide(){this.hideCount++,Vr.hide()}set(e){Vr.set(Math.max(0,Math.min(1,e)))}finish(){Vr.done()}reset(){Vr.set(0)}remove(){Vr.done(),Vr.remove()}isStarted(){return Vr.isStarted()}getStatus(){return Vr.status}},dr=new nA;dr.reveal;dr.hide;function rA(e){document.addEventListener("inertia:start",t=>sA(t,e)),document.addEventListener("inertia:progress",oA)}function sA(e,t){e.detail.visit.showProgress||dr.hide();const n=setTimeout(()=>dr.start(),t);document.addEventListener("inertia:finish",r=>iA(r,n),{once:!0})}function oA(e){dr.isStarted()&&e.detail.progress?.percentage&&dr.set(Math.max(dr.getStatus(),e.detail.progress.percentage/100*.9))}function iA(e,t){clearTimeout(t),dr.isStarted()&&(e.detail.visit.completed?dr.finish():e.detail.visit.interrupted?dr.reset():e.detail.visit.cancelled&&dr.remove())}function aA({delay:e=250,color:t="#29d",includeCSS:n=!0,showSpinner:r=!1}={}){rA(e),Vr.configure({showSpinner:r,includeCSS:n,color:t})}var ft=new VC;/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */var lA={created(){if(!this.$options.remember)return;Array.isArray(this.$options.remember)&&(this.$options.remember={data:this.$options.remember}),typeof this.$options.remember=="string"&&(this.$options.remember={data:[this.$options.remember]}),typeof this.$options.remember.data=="string"&&(this.$options.remember={data:[this.$options.remember.data]});const e=this.$options.remember.key instanceof Function?this.$options.remember.key.call(this):this.$options.remember.key,t=ft.restore(e),n=this.$options.remember.data.filter(i=>!(this[i]!==null&&typeof this[i]=="object"&&this[i].__rememberable===!1)),r=i=>this[i]!==null&&typeof this[i]=="object"&&typeof this[i].__remember=="function"&&typeof this[i].__restore=="function";n.forEach(i=>{this[i]!==void 0&&t!==void 0&&t[i]!==void 0&&(r(i)?this[i].__restore(t[i]):this[i]=t[i]),this.$watch(i,()=>{ft.remember(n.reduce((a,c)=>({...a,[c]:ir(r(c)?this[c].__remember():this[c])}),{}),e)},{immediate:!0,deep:!0})})}},cA=lA;function tl(e,t){const n=typeof e=="string"?e:null,r=(typeof e=="string"?t:e)??{},i=n?ft.restore(n):null;let a=ir(typeof r=="function"?r():r),c=null,u=null,g=y=>y,h=!1;const m=po({...i?i.data:ir(a),isDirty:!1,errors:i?i.errors:{},hasErrors:!1,processing:!1,progress:null,wasSuccessful:!1,recentlySuccessful:!1,data(){return Object.keys(a).reduce((y,C)=>Mo(y,C,Ai(this,C)),{})},transform(y){return g=y,this},defaults(y,C){if(typeof r=="function")throw new Error("You cannot call `defaults()` when using a function to define your form data.");return h=!0,typeof y>"u"?(a=ir(this.data()),this.isDirty=!1):a=typeof y=="string"?Mo(ir(a),y,C):Object.assign({},ir(a),y),this},reset(...y){const C=ir(typeof r=="function"?r():a),E=ir(C);return y.length===0?(a=E,Object.assign(this,C)):y.filter(A=>Z3(E,A)).forEach(A=>{Mo(a,A,Ai(E,A)),Mo(this,A,Ai(C,A))}),this},setError(y,C){return Object.assign(this.errors,typeof y=="string"?{[y]:C}:y),this.hasErrors=Object.keys(this.errors).length>0,this},clearErrors(...y){return this.errors=Object.keys(this.errors).reduce((C,E)=>({...C,...y.length>0&&!y.includes(E)?{[E]:this.errors[E]}:{}}),{}),this.hasErrors=Object.keys(this.errors).length>0,this},resetAndClearErrors(...y){return this.reset(...y),this.clearErrors(...y),this},submit(...y){const C=y[0]!==null&&typeof y[0]=="object",E=C?y[0].method:y[0],A=C?y[0].url:y[1],k=(C?y[1]:y[2])??{};h=!1;const D=g(this.data()),I={...k,onCancelToken:$=>{if(c=$,k.onCancelToken)return k.onCancelToken($)},onBefore:$=>{if(this.wasSuccessful=!1,this.recentlySuccessful=!1,clearTimeout(u),k.onBefore)return k.onBefore($)},onStart:$=>{if(this.processing=!0,k.onStart)return k.onStart($)},onProgress:$=>{if(this.progress=$,k.onProgress)return k.onProgress($)},onSuccess:async $=>{this.processing=!1,this.progress=null,this.clearErrors(),this.wasSuccessful=!0,this.recentlySuccessful=!0,u=setTimeout(()=>this.recentlySuccessful=!1,2e3);const P=k.onSuccess?await k.onSuccess($):null;return h||(a=ir(this.data()),this.isDirty=!1),P},onError:$=>{if(this.processing=!1,this.progress=null,this.clearErrors().setError($),k.onError)return k.onError($)},onCancel:()=>{if(this.processing=!1,this.progress=null,k.onCancel)return k.onCancel()},onFinish:$=>{if(this.processing=!1,this.progress=null,c=null,k.onFinish)return k.onFinish($)}};E==="delete"?ft.delete(A,{...I,data:D}):ft[E](A,D,I)},get(y,C){this.submit("get",y,C)},post(y,C){this.submit("post",y,C)},put(y,C){this.submit("put",y,C)},patch(y,C){this.submit("patch",y,C)},delete(y,C){this.submit("delete",y,C)},cancel(){c&&c.cancel()},__rememberable:n===null,__remember(){return{data:this.data(),errors:this.errors}},__restore(y){Object.assign(this,y.data),this.setError(y.errors)}});return En(m,y=>{m.isDirty=!J3(m.data(),a),n&&ft.remember(ir(y.__remember()),n)},{immediate:!0,deep:!0}),m}var gr=pe(null),Pn=pe(null),Bd=nx(null),Cl=pe(null),Ru=null,dA=$r({name:"Inertia",props:{initialPage:{type:Object,required:!0},initialComponent:{type:Object,required:!1},resolveComponent:{type:Function,required:!1},titleCallback:{type:Function,required:!1,default:e=>e},onHeadUpdate:{type:Function,required:!1,default:()=>()=>{}}},setup({initialPage:e,initialComponent:t,resolveComponent:n,titleCallback:r,onHeadUpdate:i}){gr.value=t?fu(t):null,Pn.value=e,Cl.value=null;const a=typeof window>"u";return Ru=WC(a,r,i),a||(ft.init({initialPage:e,resolveComponent:n,swapComponent:async c=>{gr.value=fu(c.component),Pn.value=c.page,Cl.value=c.preserveState?Cl.value:Date.now()}}),ft.on("navigate",()=>Ru.forceUpdate())),()=>{if(gr.value){gr.value.inheritAttrs=!!gr.value.inheritAttrs;const c=cr(gr.value,{...Pn.value.props,key:Cl.value});return Bd.value&&(gr.value.layout=Bd.value,Bd.value=null),gr.value.layout?typeof gr.value.layout=="function"?gr.value.layout(cr,c):(Array.isArray(gr.value.layout)?gr.value.layout:[gr.value.layout]).concat(c).reverse().reduce((u,g)=>(g.inheritAttrs=!!g.inheritAttrs,cr(g,{...Pn.value.props},()=>u))):c}}}}),uA=dA,xA={install(e){ft.form=tl,Object.defineProperty(e.config.globalProperties,"$inertia",{get:()=>ft}),Object.defineProperty(e.config.globalProperties,"$page",{get:()=>Pn.value}),Object.defineProperty(e.config.globalProperties,"$headManager",{get:()=>Ru}),e.mixin(cA)}};function xo(){return po({props:Ke(()=>Pn.value?.props),url:Ke(()=>Pn.value?.url),component:Ke(()=>Pn.value?.component),version:Ke(()=>Pn.value?.version),clearHistory:Ke(()=>Pn.value?.clearHistory),deferredProps:Ke(()=>Pn.value?.deferredProps),mergeProps:Ke(()=>Pn.value?.mergeProps),prependProps:Ke(()=>Pn.value?.prependProps),deepMergeProps:Ke(()=>Pn.value?.deepMergeProps),matchPropsOn:Ke(()=>Pn.value?.matchPropsOn),rememberedState:Ke(()=>Pn.value?.rememberedState),encryptHistory:Ke(()=>Pn.value?.encryptHistory)})}async function fA({id:e="app",resolve:t,setup:n,title:r,progress:i={},page:a,render:c}){const u=typeof window>"u",g=u?null:document.getElementById(e),h=a||JSON.parse(g.dataset.page),m=E=>Promise.resolve(t(E)).then(A=>A.default||A);let y=[];const C=await Promise.all([m(h.component),ft.decryptHistory().catch(()=>{})]).then(([E])=>n({el:g,App:uA,props:{initialPage:h,initialComponent:E,resolveComponent:m,titleCallback:r,onHeadUpdate:u?A=>y=A:null},plugin:xA}));if(!u&&i&&aA(i),u){const E=await c(Lv({render:()=>cr("div",{id:e,"data-page":JSON.stringify(h),innerHTML:C?c(C):""})}));return{head:y,body:E}}}var os=()=>{},hA=$r({name:"Link",props:{as:{type:[String,Object],default:"a"},data:{type:Object,default:()=>({})},href:{type:[String,Object],default:""},method:{type:String,default:"get"},replace:{type:Boolean,default:!1},preserveScroll:{type:Boolean,default:!1},preserveState:{type:Boolean,default:null},only:{type:Array,default:()=>[]},except:{type:Array,default:()=>[]},headers:{type:Object,default:()=>({})},queryStringArrayFormat:{type:String,default:"brackets"},async:{type:Boolean,default:!1},prefetch:{type:[Boolean,String,Array],default:!1},cacheFor:{type:[Number,String,Array],default:0},onStart:{type:Function,default:os},onProgress:{type:Function,default:os},onFinish:{type:Function,default:os},onBefore:{type:Function,default:os},onCancel:{type:Function,default:os},onSuccess:{type:Function,default:os},onError:{type:Function,default:os},onCancelToken:{type:Function,default:os},onPrefetching:{type:Function,default:os},onPrefetched:{type:Function,default:os},cacheTags:{type:[String,Array],default:()=>[]}},setup(e,{slots:t,attrs:n}){const r=pe(0),i=pe(null),a=Ke(()=>e.prefetch===!0?["hover"]:e.prefetch===!1?[]:Array.isArray(e.prefetch)?e.prefetch:[e.prefetch]),c=Ke(()=>e.cacheFor!==0?e.cacheFor:a.value.length===1&&a.value[0]==="click"?0:3e4);Qn(()=>{a.value.includes("mount")&&k()}),Vo(()=>{clearTimeout(i.value)});const u=Ke(()=>g0(e.href)?e.href.method:e.method.toLowerCase()),g=Ke(()=>typeof e.as!="string"||e.as.toLowerCase()!=="a"?e.as:u.value!=="get"?"button":e.as.toLowerCase()),h=Ke(()=>dy(u.value,g0(e.href)?e.href.url:e.href,e.data,e.queryStringArrayFormat)),m=Ke(()=>h.value[0]),y=Ke(()=>h.value[1]),C=Ke(()=>g.value==="button"?{type:"button"}:g.value==="a"||typeof g.value!="string"?{href:m.value}:{}),E=Ke(()=>({data:y.value,method:u.value,replace:e.replace,preserveScroll:e.preserveScroll,preserveState:e.preserveState??u.value!=="get",only:e.only,except:e.except,headers:e.headers,async:e.async})),A=Ke(()=>({...E.value,onCancelToken:e.onCancelToken,onBefore:e.onBefore,onStart:P=>{r.value++,e.onStart(P)},onProgress:e.onProgress,onFinish:P=>{r.value--,e.onFinish(P)},onCancel:e.onCancel,onSuccess:e.onSuccess,onError:e.onError})),k=()=>{ft.prefetch(m.value,{...E.value,onPrefetching:e.onPrefetching,onPrefetched:e.onPrefetched},{cacheFor:c.value,cacheTags:e.cacheTags})},D={onClick:P=>{wl(P)&&(P.preventDefault(),ft.visit(m.value,A.value))}},I={onMouseenter:()=>{i.value=setTimeout(()=>{k()},75)},onMouseleave:()=>{clearTimeout(i.value)},onClick:D.onClick},$={onMousedown:P=>{wl(P)&&(P.preventDefault(),k())},onKeydown:P=>{wl(P)&&Oh(P)&&(P.preventDefault(),k())},onMouseup:P=>{P.preventDefault(),ft.visit(m.value,A.value)},onKeyup:P=>{Oh(P)&&(P.preventDefault(),ft.visit(m.value,A.value))},onClick:P=>{wl(P)&&P.preventDefault()}};return()=>cr(g.value,{...n,...C.value,"data-loading":r.value>0?"":void 0,...a.value.includes("hover")?I:a.value.includes("click")?$:D},t)}}),fn=hA;const gA={class:"min-h-screen flex items-center justify-center bg-gradient-to-br px-4 py-8",style:{"background-color":"#035930"}},pA={class:"max-w-md w-full"},mA={class:"bg-white rounded-2xl shadow-2xl p-8"},yA={class:"relative"},bA={key:0,class:"text-red-500 text-sm mt-1 flex items-center"},vA={class:"relative"},EA=["type"],wA={key:0,class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},CA={key:1,class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},AA={class:"flex items-center justify-between"},BA={class:"flex items-center cursor-pointer"},_A=["disabled"],kA={key:0,class:"flex items-center justify-center"},DA={key:1,class:"flex items-center justify-center"},SA={class:"mt-6 text-center"},FA={class:"text-sm text-gray-600"},TA={__name:"Login",setup(e){const t=pe(!1),n=tl({identifier:"",password:"",remember:!1}),r=()=>{n.post("/login",{onFinish:()=>{Object.keys(n.errors).length>0&&(n.password="")}})};return(i,a)=>(U(),V("div",gA,[s("div",pA,[s("div",mA,[a[17]||(a[17]=s("h2",{class:"text-2xl font-bold text-gray-800 mb-6 text-center"},"Login",-1)),s("form",{onSubmit:Jn(r,["prevent"]),class:"space-y-5"},[s("div",null,[a[6]||(a[6]=s("label",{class:"block text-gray-700 text-sm font-semibold mb-2"}," NIK atau Email ",-1)),s("div",yA,[a[4]||(a[4]=s("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[s("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),me(s("input",{"onUpdate:modelValue":a[0]||(a[0]=c=>Ge(n).identifier=c),type:"text",class:Se(["w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",{"border-red-500":Ge(n).errors.identifier}]),placeholder:"Masukkan NIK atau Email",required:""},null,2),[[Oe,Ge(n).identifier]])]),Ge(n).errors.identifier?(U(),V("div",bA,[a[5]||(a[5]=s("svg",{class:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)),Ve(" "+R(Ge(n).errors.identifier),1)])):xe("",!0)]),s("div",null,[a[10]||(a[10]=s("label",{class:"block text-gray-700 text-sm font-semibold mb-2"}," Password ",-1)),s("div",vA,[a[9]||(a[9]=s("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[s("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])],-1)),me(s("input",{"onUpdate:modelValue":a[1]||(a[1]=c=>Ge(n).password=c),type:t.value?"text":"password",class:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"Masukkan password",required:""},null,8,EA),[[Fv,Ge(n).password]]),s("button",{type:"button",onClick:a[2]||(a[2]=c=>t.value=!t.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600"},[t.value?(U(),V("svg",CA,[...a[8]||(a[8]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)])])):(U(),V("svg",wA,[...a[7]||(a[7]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])])]),s("div",AA,[s("label",BA,[me(s("input",{"onUpdate:modelValue":a[3]||(a[3]=c=>Ge(n).remember=c),type:"checkbox",class:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,512),[[qo,Ge(n).remember]]),a[11]||(a[11]=s("span",{class:"ml-2 text-sm text-gray-700"},"Ingat Saya",-1))]),a[12]||(a[12]=s("a",{href:"#",class:"text-sm text-blue-600 hover:text-blue-800 hover:underline"}," Lupa Password? ",-1))]),s("button",{type:"submit",disabled:Ge(n).processing,class:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-4 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"},[Ge(n).processing?(U(),V("span",kA,[...a[13]||(a[13]=[s("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),Ve(" Memproses... ",-1)])])):(U(),V("span",DA,[...a[14]||(a[14]=[s("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})],-1),Ve(" Login ",-1)])]))],8,_A)],32),s("div",SA,[s("p",FA,[a[16]||(a[16]=Ve(" Belum punya akun? ",-1)),Ft(Ge(fn),{href:"/register",class:"text-blue-600 hover:text-blue-800 font-semibold hover:underline"},{default:vt(()=>[...a[15]||(a[15]=[Ve(" Daftar Sekarang ",-1)])]),_:1})])])]),a[18]||(a[18]=s("div",{class:"text-center mt-8 text-blue-100 text-sm"},[s("p",null," 2025 Gondowangi WMS. All rights reserved.")],-1))])]))}},MA=Object.freeze(Object.defineProperty({__proto__:null,default:TA},Symbol.toStringTag,{value:"Module"})),IA={class:"min-h-screen flex items-center justify-center bg-gray-100"},PA={class:"max-w-md w-full bg-white rounded-lg shadow-md p-8"},RA={class:"mb-4"},OA={key:0,class:"text-red-500 text-sm mt-1"},NA={class:"mb-4"},LA={key:0,class:"text-red-500 text-sm mt-1"},$A={class:"mb-4"},jA={key:0,class:"text-red-500 text-sm mt-1"},UA={class:"mb-4"},HA={key:0,class:"text-red-500 text-sm mt-1"},zA={class:"mb-4"},VA={key:0,class:"text-red-500 text-sm mt-1"},qA={class:"mb-4"},WA={key:0,class:"text-red-500 text-sm mt-1"},GA={class:"mb-6"},QA=["disabled"],KA={key:0},YA={key:1},XA={class:"text-center mt-4"},ZA={__name:"Register",setup(e){const t=tl({nik:"",nama_lengkap:"",email:"",departement:"",jabatan:"",password:"",password_confirmation:""}),n=()=>{t.post("/register")};return(r,i)=>(U(),V("div",IA,[s("div",PA,[i[15]||(i[15]=s("h2",{class:"text-2xl font-bold text-center mb-6"},"Daftar Akun WMS [test git]",-1)),s("form",{onSubmit:Jn(n,["prevent"])},[s("div",RA,[i[7]||(i[7]=s("label",{class:"block text-gray-700 text-sm font-bold mb-2"},[Ve(" NIK "),s("span",{class:"text-red-500"},"*")],-1)),me(s("input",{"onUpdate:modelValue":i[0]||(i[0]=a=>Ge(t).nik=a),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Masukkan NIK",required:""},null,512),[[Oe,Ge(t).nik]]),Ge(t).errors.nik?(U(),V("div",OA,R(Ge(t).errors.nik),1)):xe("",!0)]),s("div",NA,[i[8]||(i[8]=s("label",{class:"block text-gray-700 text-sm font-bold mb-2"},[Ve(" Nama Lengkap "),s("span",{class:"text-red-500"},"*")],-1)),me(s("input",{"onUpdate:modelValue":i[1]||(i[1]=a=>Ge(t).nama_lengkap=a),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Masukkan nama lengkap",required:""},null,512),[[Oe,Ge(t).nama_lengkap]]),Ge(t).errors.nama_lengkap?(U(),V("div",LA,R(Ge(t).errors.nama_lengkap),1)):xe("",!0)]),s("div",$A,[i[9]||(i[9]=s("label",{class:"block text-gray-700 text-sm font-bold mb-2"},[Ve(" Email "),s("span",{class:"text-red-500"},"*")],-1)),me(s("input",{"onUpdate:modelValue":i[2]||(i[2]=a=>Ge(t).email=a),type:"email",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Masukkan email",required:""},null,512),[[Oe,Ge(t).email]]),Ge(t).errors.email?(U(),V("div",jA,R(Ge(t).errors.email),1)):xe("",!0)]),s("div",UA,[i[10]||(i[10]=s("label",{class:"block text-gray-700 text-sm font-bold mb-2"}," Departement ",-1)),me(s("input",{"onUpdate:modelValue":i[3]||(i[3]=a=>Ge(t).departement=a),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Contoh: Produksi, Warehouse, QC"},null,512),[[Oe,Ge(t).departement]]),Ge(t).errors.departement?(U(),V("div",HA,R(Ge(t).errors.departement),1)):xe("",!0)]),s("div",zA,[i[11]||(i[11]=s("label",{class:"block text-gray-700 text-sm font-bold mb-2"}," Jabatan ",-1)),me(s("input",{"onUpdate:modelValue":i[4]||(i[4]=a=>Ge(t).jabatan=a),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Contoh: Staff, Supervisor, Manager"},null,512),[[Oe,Ge(t).jabatan]]),Ge(t).errors.jabatan?(U(),V("div",VA,R(Ge(t).errors.jabatan),1)):xe("",!0)]),s("div",qA,[i[12]||(i[12]=s("label",{class:"block text-gray-700 text-sm font-bold mb-2"},[Ve(" Password "),s("span",{class:"text-red-500"},"*")],-1)),me(s("input",{"onUpdate:modelValue":i[5]||(i[5]=a=>Ge(t).password=a),type:"password",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Minimal 8 karakter",required:""},null,512),[[Oe,Ge(t).password]]),Ge(t).errors.password?(U(),V("div",WA,R(Ge(t).errors.password),1)):xe("",!0)]),s("div",GA,[i[13]||(i[13]=s("label",{class:"block text-gray-700 text-sm font-bold mb-2"},[Ve(" Konfirmasi Password "),s("span",{class:"text-red-500"},"*")],-1)),me(s("input",{"onUpdate:modelValue":i[6]||(i[6]=a=>Ge(t).password_confirmation=a),type:"password",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ulangi password",required:""},null,512),[[Oe,Ge(t).password_confirmation]])]),s("button",{type:"submit",disabled:Ge(t).processing,class:"w-full bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 transition duration-200 disabled:opacity-50"},[Ge(t).processing?(U(),V("span",KA,"Loading...")):(U(),V("span",YA,"Daftar"))],8,QA),s("div",XA,[Ft(Ge(fn),{href:"/login",class:"text-blue-500 hover:underline text-sm"},{default:vt(()=>[...i[14]||(i[14]=[Ve(" Sudah punya akun? Login ",-1)])]),_:1})])],32)])]))}},JA=Object.freeze(Object.defineProperty({__proto__:null,default:ZA},Symbol.toStringTag,{value:"Module"}));function e7(){const e=xo(),t=Ke(()=>e.props.permissions||[]),n=a=>t.value.includes(a);return{permissions:t,hasPermission:n,hasAnyPermission:a=>a.some(c=>n(c)),hasAllPermissions:a=>a.every(c=>n(c))}}const t7={class:"h-screen flex bg-gray-100 overflow-hidden"},n7={class:"p-4 border-b border-gray-200 flex items-center justify-between"},r7={class:"flex items-center space-x-2"},s7={class:"flex items-center space-x-2"},o7={class:"flex-1 overflow-y-auto py-4"},i7={class:"space-y-1 px-2"},a7={class:"font-medium"},l7={class:"font-medium"},c7={class:"font-medium"},d7={class:"font-medium"},u7={class:"font-medium"},x7={key:5,class:"my-4 px-2"},f7={class:"mt-3 mb-2 px-2"},h7={class:"font-medium"},g7={class:"font-medium"},p7={class:"font-medium"},m7={class:"font-medium"},y7={class:"font-medium"},b7={class:"font-medium"},v7={class:"font-medium"},E7={key:13,class:"my-4 px-2"},w7={class:"mt-3 mb-2 px-2"},C7={class:"font-medium"},A7={class:"font-medium"},B7={class:"border-t border-gray-200 p-4"},_7={class:"flex items-center space-x-3"},k7={class:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0"},D7={class:"text-white font-semibold text-sm"},S7={class:"flex-1 min-w-0"},F7={class:"text-sm font-medium text-gray-800 truncate"},T7={class:"text-xs text-gray-500 truncate"},M7={class:"flex-1 flex flex-col min-w-0"},I7={class:"bg-white shadow-sm"},P7={class:"px-6 py-4 flex items-center justify-between"},R7={class:"text-2xl font-bold text-gray-800"},O7={class:"text-sm text-gray-500 mt-1"},N7={class:"flex items-center space-x-4"},L7={class:"flex items-center space-x-2 px-3 py-2 bg-gray-50 rounded-lg"},$7={class:"text-right"},j7={class:"text-sm font-medium text-gray-800"},U7={class:"text-xs text-gray-500"},H7={class:"flex-1 overflow-y-auto p-6 bg-gray-50"},Kn={__name:"AppLayout",props:{pageTitle:{type:String,default:"Dashboard"},pageDescription:{type:String,default:"Selamat datang di Warehouse Management System"}},setup(e){const t=xo(),{hasAnyPermission:n}=e7(),r=pe(!0),i=Ke(()=>n(["incoming.view","incoming.create","qc.view","qc.input_qc_result","putaway.view","putaway.kerjakan_to","reservation.view","reservation.create_request","picking.view","picking.kerjakan_picking","return.view","return.create_return"])),a=Ke(()=>{const g=t.props.auth.user.name,h=g.split(" ");return h.length>=2?h[0][0]+h[1][0]:g.substring(0,2).toUpperCase()}),c=()=>{ft.post("/logout")},u=g=>{const h=t.url.split("?")[0],m=h===g||h.startsWith(g+"/"),y="flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200";return m?`${y} bg-[#157347] text-white shadow-lg`:`${y} text-gray-700 hover:bg-gray-100`};return(g,h)=>(U(),V("div",t7,[s("aside",{class:Se(["bg-white text-gray-800 shadow-lg","transition-all duration-300 flex flex-col","border-r border-gray-200",r.value?"w-64":"w-20"])},[s("div",n7,[me(s("div",r7,[...h[1]||(h[1]=[s("svg",{class:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})],-1),s("span",{class:"text-xl font-bold text-gray-800"},"WMS",-1)])],512),[[sn,r.value]]),s("div",s7,[s("button",{onClick:h[0]||(h[0]=m=>r.value=!r.value),class:"p-2 rounded hover:bg-gray-100 transition"},[...h[2]||(h[2]=[s("svg",{class:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])])])]),s("nav",o7,[s("div",i7,[Ge(n)(["incoming.view","qc.view"])?(U(),wt(Ge(fn),{key:0,href:"/wms-dashboard",class:Se(u("/wms-dashboard"))},{default:vt(()=>[h[3]||(h[3]=s("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),me(s("span",a7,"Dashboard",512),[[sn,r.value]])]),_:1},8,["class"])):xe("",!0),Ge(n)(["incoming.view","qc.view","putaway.view","picking.view","reservation.view","return.view","central_data.user_management_view"])?(U(),wt(Ge(fn),{key:1,href:"/dashboard",class:Se(u("/dashboard"))},{default:vt(()=>[h[4]||(h[4]=s("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1)),me(s("span",l7,"On Hand",512),[[sn,r.value]])]),_:1},8,["class"])):xe("",!0),Ge(n)(["return.view","return.create_return","return.approve_return"])?(U(),wt(Ge(fn),{key:2,href:"/transaction/cycle-count",class:Se(u("/transaction/cycle-count"))},{default:vt(()=>[h[5]||(h[5]=s("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v6h6M20 20v-6h-6"})],-1)),me(s("span",c7,"Cycle Count",512),[[sn,r.value]])]),_:1},8,["class"])):xe("",!0),Ge(n)(["incoming.view","qc.view","putaway.view","picking.view","reservation.view","return.view"])?(U(),wt(Ge(fn),{key:3,href:"/activity-log",class:Se(u("/activity-log"))},{default:vt(()=>[h[6]||(h[6]=s("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),me(s("span",d7,"Riwayat Aktivitas",512),[[sn,r.value]])]),_:1},8,["class"])):xe("",!0),Ge(n)(["central_data.role_management_admin"])?(U(),wt(Ge(fn),{key:4,href:"/it-dashboard",class:Se(u("/it-dashboard"))},{default:vt(()=>[h[7]||(h[7]=s("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),me(s("span",u7,"IT Dashboard",512),[[sn,r.value]])]),_:1},8,["class"])):xe("",!0),i.value?(U(),V("div",x7,[h[9]||(h[9]=s("div",{class:"border-t border-gray-200"},null,-1)),me(s("div",f7,[...h[8]||(h[8]=[s("span",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wider"}," Transaksi ",-1)])],512),[[sn,r.value]])])):xe("",!0),Ge(n)(["incoming.view","incoming.create","incoming.edit"])?(U(),wt(Ge(fn),{key:6,href:"/transaction/goods-receipt",class:Se(u("/transaction/goods-receipt"))},{default:vt(()=>[h[10]||(h[10]=s("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1)),me(s("span",h7,"Penerimaan Barang",512),[[sn,r.value]])]),_:1},8,["class"])):xe("",!0),Ge(n)(["qc.view","qc.input_qc_result","qc.approve"])?(U(),wt(Ge(fn),{key:7,href:"/transaction/quality-control",class:Se(u("/transaction/quality-control"))},{default:vt(()=>[h[11]||(h[11]=s("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2l4-4"}),s("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2",fill:"none"})],-1)),me(s("span",g7,"Quality Control",512),[[sn,r.value]])]),_:1},8,["class"])):xe("",!0),Ge(n)(["putaway.view","putaway.kerjakan_to"])?(U(),wt(Ge(fn),{key:8,href:"/transaction/putaway-transfer",class:Se(u("/transaction/putaway-transfer"))},{default:vt(()=>[h[12]||(h[12]=s("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7"})],-1)),me(s("span",p7,"PutAway",512),[[sn,r.value]])]),_:1},8,["class"])):xe("",!0),Ge(n)(["bin-to-bin.view","bin-to-bin.pindah_barang"])?(U(),wt(Ge(fn),{key:9,href:"/transaction/bin-to-bin",class:Se(u("/transaction/bin-to-bin"))},{default:vt(()=>[h[13]||(h[13]=s("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1)),me(s("span",m7,"Bin to Bin",512),[[sn,r.value]])]),_:1},8,["class"])):xe("",!0),Ge(n)(["reservation.view","reservation.create_request","reservation.approve_request"])?(U(),wt(Ge(fn),{key:10,href:"/transaction/reservation",class:Se(u("/transaction/reservation"))},{default:vt(()=>[h[14]||(h[14]=s("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",stroke:"currentColor","stroke-width":"2",fill:"none"}),s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 2v4M8 2v4"})],-1)),me(s("span",y7,"Reservation",512),[[sn,r.value]])]),_:1},8,["class"])):xe("",!0),Ge(n)(["picking.view","picking.kerjakan_picking"])?(U(),wt(Ge(fn),{key:11,href:"/transaction/picking-list",class:Se(u("/transaction/picking-list"))},{default:vt(()=>[h[15]||(h[15]=s("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",stroke:"currentColor","stroke-width":"2",fill:"none"}),s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 9h6M9 13h6"})],-1)),me(s("span",b7,"Picking List",512),[[sn,r.value]])]),_:1},8,["class"])):xe("",!0),Ge(n)(["return.view","return.create_return","return.approve_return"])?(U(),wt(Ge(fn),{key:12,href:"/transaction/return",class:Se(u("/transaction/return"))},{default:vt(()=>[h[16]||(h[16]=s("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h5M20 20v-5h-5m-1 5a8 8 0 01-14.8-3h-2m.2-2h-2m14-3h-2m-1 5a8 8 0 01-14.8-3"})],-1)),me(s("span",v7,"Return",512),[[sn,r.value]])]),_:1},8,["class"])):xe("",!0),i.value?(U(),V("div",E7,[h[18]||(h[18]=s("div",{class:"border-t border-gray-200"},null,-1)),me(s("div",w7,[...h[17]||(h[17]=[s("span",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wider"}," Kelola ",-1)])],512),[[sn,r.value]])])):xe("",!0),Ge(n)(["central_data.sku_management_view","central_data.supplier_management_view","central_data.bin_management_view"])?(U(),wt(Ge(fn),{key:14,href:"/master-data",class:Se(u("/master-data"))},{default:vt(()=>[h[19]||(h[19]=s("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"})],-1)),me(s("span",C7,"Master Data",512),[[sn,r.value]])]),_:1},8,["class"])):xe("",!0),Ge(n)(["central_data.role_management_view","central_data.role_management_admin"])?(U(),wt(Ge(fn),{key:15,href:"/role-permission",class:Se(u("/role-permission"))},{default:vt(()=>[h[20]||(h[20]=s("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"})],-1)),me(s("span",A7,"Role Permission",512),[[sn,r.value]])]),_:1},8,["class"])):xe("",!0)])]),s("div",B7,[s("div",_7,[s("div",k7,[s("span",D7,R(a.value),1)]),me(s("div",S7,[s("p",F7,R(g.$page.props.auth.user.name),1),s("p",T7,R(g.$page.props.auth.user.role?.name||"Staff"),1)],512),[[sn,r.value]])]),me(s("button",{onClick:c,class:"mt-3 w-full flex items-center justify-center space-x-2 px-3 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition text-sm text-white"},[...h[21]||(h[21]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),s("span",null,"Logout",-1)])],512),[[sn,r.value]])])],2),s("div",M7,[s("header",I7,[s("div",P7,[s("div",null,[s("h1",R7,R(e.pageTitle),1),s("p",O7,R(e.pageDescription),1)]),s("div",N7,[h[22]||(h[22]=s("button",{class:"relative p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition"},[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})]),s("span",{class:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})],-1)),s("div",L7,[s("div",$7,[s("p",j7,R(g.$page.props.auth.user.name),1),s("p",U7,R(g.$page.props.auth.user.nik),1)])])])])]),s("main",H7,[h9(g.$slots,"default")])])]))}};var Ql={exports:{}},z7=Ql.exports,Nh;function V7(){return Nh||(Nh=1,(function(e,t){(function(r,i){e.exports=i()})(typeof self<"u"?self:z7,function(){return(function(n){var r={};function i(a){if(r[a])return r[a].exports;var c=r[a]={i:a,l:!1,exports:{}};return n[a].call(c.exports,c,c.exports,i),c.l=!0,c.exports}return i.m=n,i.c=r,i.d=function(a,c,u){i.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:u})},i.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(c,"a",c),c},i.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)},i.p="",i(i.s=3)})([(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function c(u,g){this.width=g,this.height=u.length/g,this.data=u}return c.createEmpty=function(u,g){return new c(new Uint8ClampedArray(u*g),u)},c.prototype.get=function(u,g){return u<0||u>=this.width||g<0||g>=this.height?!1:!!this.data[g*this.width+u]},c.prototype.set=function(u,g,h){this.data[g*this.width+u]=h?1:0},c.prototype.setRegion=function(u,g,h,m,y){for(var C=g;C<g+m;C++)for(var E=u;E<u+h;E++)this.set(E,C,!!y)},c})();r.BitMatrix=a}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(2);function c(g,h){return g^h}r.addOrSubtractGF=c;var u=(function(){function g(h,m,y){this.primitive=h,this.size=m,this.generatorBase=y,this.expTable=new Array(this.size),this.logTable=new Array(this.size);for(var C=1,E=0;E<this.size;E++)this.expTable[E]=C,C=C*2,C>=this.size&&(C=(C^this.primitive)&this.size-1);for(var E=0;E<this.size-1;E++)this.logTable[this.expTable[E]]=E;this.zero=new a.default(this,Uint8ClampedArray.from([0])),this.one=new a.default(this,Uint8ClampedArray.from([1]))}return g.prototype.multiply=function(h,m){return h===0||m===0?0:this.expTable[(this.logTable[h]+this.logTable[m])%(this.size-1)]},g.prototype.inverse=function(h){if(h===0)throw new Error("Can't invert 0");return this.expTable[this.size-this.logTable[h]-1]},g.prototype.buildMonomial=function(h,m){if(h<0)throw new Error("Invalid monomial degree less than 0");if(m===0)return this.zero;var y=new Uint8ClampedArray(h+1);return y[0]=m,new a.default(this,y)},g.prototype.log=function(h){if(h===0)throw new Error("Can't take log(0)");return this.logTable[h]},g.prototype.exp=function(h){return this.expTable[h]},g})();r.default=u}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),c=(function(){function u(g,h){if(h.length===0)throw new Error("No coefficients.");this.field=g;var m=h.length;if(m>1&&h[0]===0){for(var y=1;y<m&&h[y]===0;)y++;if(y===m)this.coefficients=g.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(m-y);for(var C=0;C<this.coefficients.length;C++)this.coefficients[C]=h[y+C]}}else this.coefficients=h}return u.prototype.degree=function(){return this.coefficients.length-1},u.prototype.isZero=function(){return this.coefficients[0]===0},u.prototype.getCoefficient=function(g){return this.coefficients[this.coefficients.length-1-g]},u.prototype.addOrSubtract=function(g){var h;if(this.isZero())return g;if(g.isZero())return this;var m=this.coefficients,y=g.coefficients;m.length>y.length&&(h=[y,m],m=h[0],y=h[1]);for(var C=new Uint8ClampedArray(y.length),E=y.length-m.length,A=0;A<E;A++)C[A]=y[A];for(var A=E;A<y.length;A++)C[A]=a.addOrSubtractGF(m[A-E],y[A]);return new u(this.field,C)},u.prototype.multiply=function(g){if(g===0)return this.field.zero;if(g===1)return this;for(var h=this.coefficients.length,m=new Uint8ClampedArray(h),y=0;y<h;y++)m[y]=this.field.multiply(this.coefficients[y],g);return new u(this.field,m)},u.prototype.multiplyPoly=function(g){if(this.isZero()||g.isZero())return this.field.zero;for(var h=this.coefficients,m=h.length,y=g.coefficients,C=y.length,E=new Uint8ClampedArray(m+C-1),A=0;A<m;A++)for(var k=h[A],D=0;D<C;D++)E[A+D]=a.addOrSubtractGF(E[A+D],this.field.multiply(k,y[D]));return new u(this.field,E)},u.prototype.multiplyByMonomial=function(g,h){if(g<0)throw new Error("Invalid degree less than 0");if(h===0)return this.field.zero;for(var m=this.coefficients.length,y=new Uint8ClampedArray(m+g),C=0;C<m;C++)y[C]=this.field.multiply(this.coefficients[C],h);return new u(this.field,y)},u.prototype.evaluateAt=function(g){var h=0;if(g===0)return this.getCoefficient(0);var m=this.coefficients.length;if(g===1)return this.coefficients.forEach(function(C){h=a.addOrSubtractGF(h,C)}),h;h=this.coefficients[0];for(var y=1;y<m;y++)h=a.addOrSubtractGF(this.field.multiply(g,h),this.coefficients[y]);return h},u})();r.default=c}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(4),c=i(5),u=i(11),g=i(12);function h(C){var E=g.locate(C);if(!E)return null;for(var A=0,k=E;A<k.length;A++){var D=k[A],I=u.extract(C,D),$=c.decode(I.matrix);if($)return{binaryData:$.bytes,data:$.text,chunks:$.chunks,version:$.version,location:{topRightCorner:I.mappingFunction(D.dimension,0),topLeftCorner:I.mappingFunction(0,0),bottomRightCorner:I.mappingFunction(D.dimension,D.dimension),bottomLeftCorner:I.mappingFunction(0,D.dimension),topRightFinderPattern:D.topRight,topLeftFinderPattern:D.topLeft,bottomLeftFinderPattern:D.bottomLeft,bottomRightAlignmentPattern:D.alignmentPattern}}}return null}var m={inversionAttempts:"attemptBoth"};function y(C,E,A,k){k===void 0&&(k={});var D=m;Object.keys(D||{}).forEach(function(L){D[L]=k[L]||D[L]});var I=D.inversionAttempts==="attemptBoth"||D.inversionAttempts==="invertFirst",$=D.inversionAttempts==="onlyInvert"||D.inversionAttempts==="invertFirst",P=a.binarize(C,E,A,I),S=P.binarized,M=P.inverted,j=h($?M:S);return!j&&(D.inversionAttempts==="attemptBoth"||D.inversionAttempts==="invertFirst")&&(j=h($?S:M)),j}y.default=y,r.default=y}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(0),c=8,u=24;function g(y,C,E){return y<C?C:y>E?E:y}var h=(function(){function y(C,E){this.width=C,this.data=new Uint8ClampedArray(C*E)}return y.prototype.get=function(C,E){return this.data[E*this.width+C]},y.prototype.set=function(C,E,A){this.data[E*this.width+C]=A},y})();function m(y,C,E,A){if(y.length!==C*E*4)throw new Error("Malformed data passed to binarizer.");for(var k=new h(C,E),D=0;D<C;D++)for(var I=0;I<E;I++){var $=y[(I*C+D)*4+0],P=y[(I*C+D)*4+1],S=y[(I*C+D)*4+2];k.set(D,I,.2126*$+.7152*P+.0722*S)}for(var M=Math.ceil(C/c),j=Math.ceil(E/c),L=new h(M,j),q=0;q<j;q++)for(var T=0;T<M;T++){for(var Q=0,oe=1/0,Y=0,I=0;I<c;I++)for(var D=0;D<c;D++){var le=k.get(T*c+D,q*c+I);Q+=le,oe=Math.min(oe,le),Y=Math.max(Y,le)}var ye=Q/Math.pow(c,2);if(Y-oe<=u&&(ye=oe/2,q>0&&T>0)){var re=(L.get(T,q-1)+2*L.get(T-1,q)+L.get(T-1,q-1))/4;oe<re&&(ye=re)}L.set(T,q,ye)}var Ee=a.BitMatrix.createEmpty(C,E),ve=null;A&&(ve=a.BitMatrix.createEmpty(C,E));for(var q=0;q<j;q++)for(var T=0;T<M;T++){for(var Ce=g(T,2,M-3),he=g(q,2,j-3),Q=0,ae=-2;ae<=2;ae++)for(var ee=-2;ee<=2;ee++)Q+=L.get(Ce+ae,he+ee);for(var Ie=Q/25,ae=0;ae<c;ae++)for(var ee=0;ee<c;ee++){var D=T*c+ae,I=q*c+ee,$e=k.get(D,I);Ee.set(D,I,$e<=Ie),A&&ve.set(D,I,!($e<=Ie))}}return A?{binarized:Ee,inverted:ve}:{binarized:Ee}}r.binarize=m}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(0),c=i(6),u=i(9),g=i(10);function h(S,M){for(var j=S^M,L=0;j;)L++,j&=j-1;return L}function m(S,M){return M<<1|S}var y=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],C=[function(S){return(S.y+S.x)%2===0},function(S){return S.y%2===0},function(S){return S.x%3===0},function(S){return(S.y+S.x)%3===0},function(S){return(Math.floor(S.y/2)+Math.floor(S.x/3))%2===0},function(S){return S.x*S.y%2+S.x*S.y%3===0},function(S){return(S.y*S.x%2+S.y*S.x%3)%2===0},function(S){return((S.y+S.x)%2+S.y*S.x%3)%2===0}];function E(S){var M=17+4*S.versionNumber,j=a.BitMatrix.createEmpty(M,M);j.setRegion(0,0,9,9,!0),j.setRegion(M-8,0,8,9,!0),j.setRegion(0,M-8,9,8,!0);for(var L=0,q=S.alignmentPatternCenters;L<q.length;L++)for(var T=q[L],Q=0,oe=S.alignmentPatternCenters;Q<oe.length;Q++){var Y=oe[Q];T===6&&Y===6||T===6&&Y===M-7||T===M-7&&Y===6||j.setRegion(T-2,Y-2,5,5,!0)}return j.setRegion(6,9,1,M-17,!0),j.setRegion(9,6,M-17,1,!0),S.versionNumber>6&&(j.setRegion(M-11,0,3,6,!0),j.setRegion(0,M-11,6,3,!0)),j}function A(S,M,j){for(var L=C[j.dataMask],q=S.height,T=E(M),Q=[],oe=0,Y=0,le=!0,ye=q-1;ye>0;ye-=2){ye===6&&ye--;for(var re=0;re<q;re++)for(var Ee=le?q-1-re:re,ve=0;ve<2;ve++){var Ce=ye-ve;if(!T.get(Ce,Ee)){Y++;var he=S.get(Ce,Ee);L({y:Ee,x:Ce})&&(he=!he),oe=m(he,oe),Y===8&&(Q.push(oe),Y=0,oe=0)}}le=!le}return Q}function k(S){var M=S.height,j=Math.floor((M-17)/4);if(j<=6)return g.VERSIONS[j-1];for(var L=0,q=5;q>=0;q--)for(var T=M-9;T>=M-11;T--)L=m(S.get(T,q),L);for(var Q=0,T=5;T>=0;T--)for(var q=M-9;q>=M-11;q--)Q=m(S.get(T,q),Q);for(var oe=1/0,Y,le=0,ye=g.VERSIONS;le<ye.length;le++){var re=ye[le];if(re.infoBits===L||re.infoBits===Q)return re;var Ee=h(L,re.infoBits);Ee<oe&&(Y=re,oe=Ee),Ee=h(Q,re.infoBits),Ee<oe&&(Y=re,oe=Ee)}if(oe<=3)return Y}function D(S){for(var M=0,j=0;j<=8;j++)j!==6&&(M=m(S.get(j,8),M));for(var L=7;L>=0;L--)L!==6&&(M=m(S.get(8,L),M));for(var q=S.height,T=0,L=q-1;L>=q-7;L--)T=m(S.get(8,L),T);for(var j=q-8;j<q;j++)T=m(S.get(j,8),T);for(var Q=1/0,oe=null,Y=0,le=y;Y<le.length;Y++){var ye=le[Y],re=ye.bits,Ee=ye.formatInfo;if(re===M||re===T)return Ee;var ve=h(M,re);ve<Q&&(oe=Ee,Q=ve),M!==T&&(ve=h(T,re),ve<Q&&(oe=Ee,Q=ve))}return Q<=3?oe:null}function I(S,M,j){var L=M.errorCorrectionLevels[j],q=[],T=0;if(L.ecBlocks.forEach(function(he){for(var ae=0;ae<he.numBlocks;ae++)q.push({numDataCodewords:he.dataCodewordsPerBlock,codewords:[]}),T+=he.dataCodewordsPerBlock+L.ecCodewordsPerBlock}),S.length<T)return null;S=S.slice(0,T);for(var Q=L.ecBlocks[0].dataCodewordsPerBlock,oe=0;oe<Q;oe++)for(var Y=0,le=q;Y<le.length;Y++){var ye=le[Y];ye.codewords.push(S.shift())}if(L.ecBlocks.length>1)for(var re=L.ecBlocks[0].numBlocks,Ee=L.ecBlocks[1].numBlocks,oe=0;oe<Ee;oe++)q[re+oe].codewords.push(S.shift());for(;S.length>0;)for(var ve=0,Ce=q;ve<Ce.length;ve++){var ye=Ce[ve];ye.codewords.push(S.shift())}return q}function $(S){var M=k(S);if(!M)return null;var j=D(S);if(!j)return null;var L=A(S,M,j),q=I(L,M,j.errorCorrectionLevel);if(!q)return null;for(var T=q.reduce(function(ve,Ce){return ve+Ce.numDataCodewords},0),Q=new Uint8ClampedArray(T),oe=0,Y=0,le=q;Y<le.length;Y++){var ye=le[Y],re=u.decode(ye.codewords,ye.codewords.length-ye.numDataCodewords);if(!re)return null;for(var Ee=0;Ee<ye.numDataCodewords;Ee++)Q[oe++]=re[Ee]}try{return c.decode(Q,M.versionNumber)}catch{return null}}function P(S){if(S==null)return null;var M=$(S);if(M)return M;for(var j=0;j<S.width;j++)for(var L=j+1;L<S.height;L++)S.get(j,L)!==S.get(L,j)&&(S.set(j,L,!S.get(j,L)),S.set(L,j,!S.get(L,j)));return $(S)}r.decode=P}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(7),c=i(8),u;(function(k){k.Numeric="numeric",k.Alphanumeric="alphanumeric",k.Byte="byte",k.Kanji="kanji",k.ECI="eci"})(u=r.Mode||(r.Mode={}));var g;(function(k){k[k.Terminator=0]="Terminator",k[k.Numeric=1]="Numeric",k[k.Alphanumeric=2]="Alphanumeric",k[k.Byte=4]="Byte",k[k.Kanji=8]="Kanji",k[k.ECI=7]="ECI"})(g||(g={}));function h(k,D){for(var I=[],$="",P=[10,12,14][D],S=k.readBits(P);S>=3;){var M=k.readBits(10);if(M>=1e3)throw new Error("Invalid numeric value above 999");var j=Math.floor(M/100),L=Math.floor(M/10)%10,q=M%10;I.push(48+j,48+L,48+q),$+=j.toString()+L.toString()+q.toString(),S-=3}if(S===2){var M=k.readBits(7);if(M>=100)throw new Error("Invalid numeric value above 99");var j=Math.floor(M/10),L=M%10;I.push(48+j,48+L),$+=j.toString()+L.toString()}else if(S===1){var M=k.readBits(4);if(M>=10)throw new Error("Invalid numeric value above 9");I.push(48+M),$+=M.toString()}return{bytes:I,text:$}}var m=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function y(k,D){for(var I=[],$="",P=[9,11,13][D],S=k.readBits(P);S>=2;){var M=k.readBits(11),j=Math.floor(M/45),L=M%45;I.push(m[j].charCodeAt(0),m[L].charCodeAt(0)),$+=m[j]+m[L],S-=2}if(S===1){var j=k.readBits(6);I.push(m[j].charCodeAt(0)),$+=m[j]}return{bytes:I,text:$}}function C(k,D){for(var I=[],$="",P=[8,16,16][D],S=k.readBits(P),M=0;M<S;M++){var j=k.readBits(8);I.push(j)}try{$+=decodeURIComponent(I.map(function(L){return"%"+("0"+L.toString(16)).substr(-2)}).join(""))}catch{}return{bytes:I,text:$}}function E(k,D){for(var I=[],$="",P=[8,10,12][D],S=k.readBits(P),M=0;M<S;M++){var j=k.readBits(13),L=Math.floor(j/192)<<8|j%192;L<7936?L+=33088:L+=49472,I.push(L>>8,L&255),$+=String.fromCharCode(c.shiftJISTable[L])}return{bytes:I,text:$}}function A(k,D){for(var I,$,P,S,M=new a.BitStream(k),j=D<=9?0:D<=26?1:2,L={text:"",bytes:[],chunks:[],version:D};M.available()>=4;){var q=M.readBits(4);if(q===g.Terminator)return L;if(q===g.ECI)M.readBits(1)===0?L.chunks.push({type:u.ECI,assignmentNumber:M.readBits(7)}):M.readBits(1)===0?L.chunks.push({type:u.ECI,assignmentNumber:M.readBits(14)}):M.readBits(1)===0?L.chunks.push({type:u.ECI,assignmentNumber:M.readBits(21)}):L.chunks.push({type:u.ECI,assignmentNumber:-1});else if(q===g.Numeric){var T=h(M,j);L.text+=T.text,(I=L.bytes).push.apply(I,T.bytes),L.chunks.push({type:u.Numeric,text:T.text})}else if(q===g.Alphanumeric){var Q=y(M,j);L.text+=Q.text,($=L.bytes).push.apply($,Q.bytes),L.chunks.push({type:u.Alphanumeric,text:Q.text})}else if(q===g.Byte){var oe=C(M,j);L.text+=oe.text,(P=L.bytes).push.apply(P,oe.bytes),L.chunks.push({type:u.Byte,bytes:oe.bytes,text:oe.text})}else if(q===g.Kanji){var Y=E(M,j);L.text+=Y.text,(S=L.bytes).push.apply(S,Y.bytes),L.chunks.push({type:u.Kanji,bytes:Y.bytes,text:Y.text})}}if(M.available()===0||M.readBits(M.available())===0)return L}r.decode=A}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function c(u){this.byteOffset=0,this.bitOffset=0,this.bytes=u}return c.prototype.readBits=function(u){if(u<1||u>32||u>this.available())throw new Error("Cannot read "+u.toString()+" bits");var g=0;if(this.bitOffset>0){var h=8-this.bitOffset,m=u<h?u:h,y=h-m,C=255>>8-m<<y;g=(this.bytes[this.byteOffset]&C)>>y,u-=m,this.bitOffset+=m,this.bitOffset===8&&(this.bitOffset=0,this.byteOffset++)}if(u>0){for(;u>=8;)g=g<<8|this.bytes[this.byteOffset]&255,this.byteOffset++,u-=8;if(u>0){var y=8-u,C=255>>y<<y;g=g<<u|(this.bytes[this.byteOffset]&C)>>y,this.bitOffset+=u}}return g},c.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},c})();r.BitStream=a}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.shiftJISTable={32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:165,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:8254,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:92,33120:12316,33121:8214,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:8722,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:162,33170:163,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:172,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081}}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),c=i(2);function u(y,C,E,A){var k;C.degree()<E.degree()&&(k=[E,C],C=k[0],E=k[1]);for(var D=C,I=E,$=y.zero,P=y.one;I.degree()>=A/2;){var S=D,M=$;if(D=I,$=P,D.isZero())return null;I=S;for(var j=y.zero,L=D.getCoefficient(D.degree()),q=y.inverse(L);I.degree()>=D.degree()&&!I.isZero();){var T=I.degree()-D.degree(),Q=y.multiply(I.getCoefficient(I.degree()),q);j=j.addOrSubtract(y.buildMonomial(T,Q)),I=I.addOrSubtract(D.multiplyByMonomial(T,Q))}if(P=j.multiplyPoly($).addOrSubtract(M),I.degree()>=D.degree())return null}var oe=P.getCoefficient(0);if(oe===0)return null;var Y=y.inverse(oe);return[P.multiply(Y),I.multiply(Y)]}function g(y,C){var E=C.degree();if(E===1)return[C.getCoefficient(1)];for(var A=new Array(E),k=0,D=1;D<y.size&&k<E;D++)C.evaluateAt(D)===0&&(A[k]=y.inverse(D),k++);return k!==E?null:A}function h(y,C,E){for(var A=E.length,k=new Array(A),D=0;D<A;D++){for(var I=y.inverse(E[D]),$=1,P=0;P<A;P++)D!==P&&($=y.multiply($,a.addOrSubtractGF(1,y.multiply(E[P],I))));k[D]=y.multiply(C.evaluateAt(I),y.inverse($)),y.generatorBase!==0&&(k[D]=y.multiply(k[D],I))}return k}function m(y,C){var E=new Uint8ClampedArray(y.length);E.set(y);for(var A=new a.default(285,256,0),k=new c.default(A,E),D=new Uint8ClampedArray(C),I=!1,$=0;$<C;$++){var P=k.evaluateAt(A.exp($+A.generatorBase));D[D.length-1-$]=P,P!==0&&(I=!0)}if(!I)return E;var S=new c.default(A,D),M=u(A,A.buildMonomial(C,1),S,C);if(M===null)return null;var j=g(A,M[0]);if(j==null)return null;for(var L=h(A,M[1],j),q=0;q<j.length;q++){var T=E.length-1-A.log(j[q]);if(T<0)return null;E[T]=a.addOrSubtractGF(E[T],L[q])}return E}r.decode=m}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.VERSIONS=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}]}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(0);function c(m,y,C,E){var A=m.x-y.x+C.x-E.x,k=m.y-y.y+C.y-E.y;if(A===0&&k===0)return{a11:y.x-m.x,a12:y.y-m.y,a13:0,a21:C.x-y.x,a22:C.y-y.y,a23:0,a31:m.x,a32:m.y,a33:1};var D=y.x-C.x,I=E.x-C.x,$=y.y-C.y,P=E.y-C.y,S=D*P-I*$,M=(A*P-I*k)/S,j=(D*k-A*$)/S;return{a11:y.x-m.x+M*y.x,a12:y.y-m.y+M*y.y,a13:M,a21:E.x-m.x+j*E.x,a22:E.y-m.y+j*E.y,a23:j,a31:m.x,a32:m.y,a33:1}}function u(m,y,C,E){var A=c(m,y,C,E);return{a11:A.a22*A.a33-A.a23*A.a32,a12:A.a13*A.a32-A.a12*A.a33,a13:A.a12*A.a23-A.a13*A.a22,a21:A.a23*A.a31-A.a21*A.a33,a22:A.a11*A.a33-A.a13*A.a31,a23:A.a13*A.a21-A.a11*A.a23,a31:A.a21*A.a32-A.a22*A.a31,a32:A.a12*A.a31-A.a11*A.a32,a33:A.a11*A.a22-A.a12*A.a21}}function g(m,y){return{a11:m.a11*y.a11+m.a21*y.a12+m.a31*y.a13,a12:m.a12*y.a11+m.a22*y.a12+m.a32*y.a13,a13:m.a13*y.a11+m.a23*y.a12+m.a33*y.a13,a21:m.a11*y.a21+m.a21*y.a22+m.a31*y.a23,a22:m.a12*y.a21+m.a22*y.a22+m.a32*y.a23,a23:m.a13*y.a21+m.a23*y.a22+m.a33*y.a23,a31:m.a11*y.a31+m.a21*y.a32+m.a31*y.a33,a32:m.a12*y.a31+m.a22*y.a32+m.a32*y.a33,a33:m.a13*y.a31+m.a23*y.a32+m.a33*y.a33}}function h(m,y){for(var C=u({x:3.5,y:3.5},{x:y.dimension-3.5,y:3.5},{x:y.dimension-6.5,y:y.dimension-6.5},{x:3.5,y:y.dimension-3.5}),E=c(y.topLeft,y.topRight,y.alignmentPattern,y.bottomLeft),A=g(E,C),k=a.BitMatrix.createEmpty(y.dimension,y.dimension),D=function(j,L){var q=A.a13*j+A.a23*L+A.a33;return{x:(A.a11*j+A.a21*L+A.a31)/q,y:(A.a12*j+A.a22*L+A.a32)/q}},I=0;I<y.dimension;I++)for(var $=0;$<y.dimension;$++){var P=$+.5,S=I+.5,M=D(P,S);k.set($,I,m.get(Math.floor(M.x),Math.floor(M.y)))}return{matrix:k,mappingFunction:D}}r.extract=h}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=4,c=.5,u=1.5,g=function(P,S){return Math.sqrt(Math.pow(S.x-P.x,2)+Math.pow(S.y-P.y,2))};function h(P){return P.reduce(function(S,M){return S+M})}function m(P,S,M){var j,L,q,T,Q=g(P,S),oe=g(S,M),Y=g(P,M),le,ye,re;return oe>=Q&&oe>=Y?(j=[S,P,M],le=j[0],ye=j[1],re=j[2]):Y>=oe&&Y>=Q?(L=[P,S,M],le=L[0],ye=L[1],re=L[2]):(q=[P,M,S],le=q[0],ye=q[1],re=q[2]),(re.x-ye.x)*(le.y-ye.y)-(re.y-ye.y)*(le.x-ye.x)<0&&(T=[re,le],le=T[0],re=T[1]),{bottomLeft:le,topLeft:ye,topRight:re}}function y(P,S,M,j){var L=(h(E(P,M,j,5))/7+h(E(P,S,j,5))/7+h(E(M,P,j,5))/7+h(E(S,P,j,5))/7)/4;if(L<1)throw new Error("Invalid module size");var q=Math.round(g(P,S)/L),T=Math.round(g(P,M)/L),Q=Math.floor((q+T)/2)+7;switch(Q%4){case 0:Q++;break;case 2:Q--;break}return{dimension:Q,moduleSize:L}}function C(P,S,M,j){var L=[{x:Math.floor(P.x),y:Math.floor(P.y)}],q=Math.abs(S.y-P.y)>Math.abs(S.x-P.x),T,Q,oe,Y;q?(T=Math.floor(P.y),Q=Math.floor(P.x),oe=Math.floor(S.y),Y=Math.floor(S.x)):(T=Math.floor(P.x),Q=Math.floor(P.y),oe=Math.floor(S.x),Y=Math.floor(S.y));for(var le=Math.abs(oe-T),ye=Math.abs(Y-Q),re=Math.floor(-le/2),Ee=T<oe?1:-1,ve=Q<Y?1:-1,Ce=!0,he=T,ae=Q;he!==oe+Ee;he+=Ee){var ee=q?ae:he,Ie=q?he:ae;if(M.get(ee,Ie)!==Ce&&(Ce=!Ce,L.push({x:ee,y:Ie}),L.length===j+1))break;if(re+=ye,re>0){if(ae===Y)break;ae+=ve,re-=le}}for(var $e=[],Ne=0;Ne<j;Ne++)L[Ne]&&L[Ne+1]?$e.push(g(L[Ne],L[Ne+1])):$e.push(0);return $e}function E(P,S,M,j){var L,q=S.y-P.y,T=S.x-P.x,Q=C(P,S,M,Math.ceil(j/2)),oe=C(P,{x:P.x-T,y:P.y-q},M,Math.ceil(j/2)),Y=Q.shift()+oe.shift()-1;return(L=oe.concat(Y)).concat.apply(L,Q)}function A(P,S){var M=h(P)/h(S),j=0;return S.forEach(function(L,q){j+=Math.pow(P[q]-L*M,2)}),{averageSize:M,error:j}}function k(P,S,M){try{var j=E(P,{x:-1,y:P.y},M,S.length),L=E(P,{x:P.x,y:-1},M,S.length),q={x:Math.max(0,P.x-P.y)-1,y:Math.max(0,P.y-P.x)-1},T=E(P,q,M,S.length),Q={x:Math.min(M.width,P.x+P.y)+1,y:Math.min(M.height,P.y+P.x)+1},oe=E(P,Q,M,S.length),Y=A(j,S),le=A(L,S),ye=A(T,S),re=A(oe,S),Ee=Math.sqrt(Y.error*Y.error+le.error*le.error+ye.error*ye.error+re.error*re.error),ve=(Y.averageSize+le.averageSize+ye.averageSize+re.averageSize)/4,Ce=(Math.pow(Y.averageSize-ve,2)+Math.pow(le.averageSize-ve,2)+Math.pow(ye.averageSize-ve,2)+Math.pow(re.averageSize-ve,2))/ve;return Ee+Ce}catch{return 1/0}}function D(P,S){for(var M=Math.round(S.x);P.get(M,Math.round(S.y));)M--;for(var j=Math.round(S.x);P.get(j,Math.round(S.y));)j++;for(var L=(M+j)/2,q=Math.round(S.y);P.get(Math.round(L),q);)q--;for(var T=Math.round(S.y);P.get(Math.round(L),T);)T++;var Q=(q+T)/2;return{x:L,y:Q}}function I(P){for(var S=[],M=[],j=[],L=[],q=function(ee){for(var Ie=0,$e=!1,Ne=[0,0,0,0,0],tt=function(et){var Xe=P.get(et,ee);if(Xe===$e)Ie++;else{Ne=[Ne[1],Ne[2],Ne[3],Ne[4],Ie],Ie=1,$e=Xe;var rt=h(Ne)/7,Pe=Math.abs(Ne[0]-rt)<rt&&Math.abs(Ne[1]-rt)<rt&&Math.abs(Ne[2]-3*rt)<3*rt&&Math.abs(Ne[3]-rt)<rt&&Math.abs(Ne[4]-rt)<rt&&!Xe,te=h(Ne.slice(-3))/3,_e=Math.abs(Ne[2]-te)<te&&Math.abs(Ne[3]-te)<te&&Math.abs(Ne[4]-te)<te&&Xe;if(Pe){var J=et-Ne[3]-Ne[4],z=J-Ne[2],F={startX:z,endX:J,y:ee},X=M.filter(function(we){return z>=we.bottom.startX&&z<=we.bottom.endX||J>=we.bottom.startX&&z<=we.bottom.endX||z<=we.bottom.startX&&J>=we.bottom.endX&&Ne[2]/(we.bottom.endX-we.bottom.startX)<u&&Ne[2]/(we.bottom.endX-we.bottom.startX)>c});X.length>0?X[0].bottom=F:M.push({top:F,bottom:F})}if(_e){var ce=et-Ne[4],se=ce-Ne[3],F={startX:se,y:ee,endX:ce},X=L.filter(function(w){return se>=w.bottom.startX&&se<=w.bottom.endX||ce>=w.bottom.startX&&se<=w.bottom.endX||se<=w.bottom.startX&&ce>=w.bottom.endX&&Ne[2]/(w.bottom.endX-w.bottom.startX)<u&&Ne[2]/(w.bottom.endX-w.bottom.startX)>c});X.length>0?X[0].bottom=F:L.push({top:F,bottom:F})}}},Re=-1;Re<=P.width;Re++)tt(Re);S.push.apply(S,M.filter(function(et){return et.bottom.y!==ee&&et.bottom.y-et.top.y>=2})),M=M.filter(function(et){return et.bottom.y===ee}),j.push.apply(j,L.filter(function(et){return et.bottom.y!==ee})),L=L.filter(function(et){return et.bottom.y===ee})},T=0;T<=P.height;T++)q(T);S.push.apply(S,M.filter(function(ee){return ee.bottom.y-ee.top.y>=2})),j.push.apply(j,L);var Q=S.filter(function(ee){return ee.bottom.y-ee.top.y>=2}).map(function(ee){var Ie=(ee.top.startX+ee.top.endX+ee.bottom.startX+ee.bottom.endX)/4,$e=(ee.top.y+ee.bottom.y+1)/2;if(P.get(Math.round(Ie),Math.round($e))){var Ne=[ee.top.endX-ee.top.startX,ee.bottom.endX-ee.bottom.startX,ee.bottom.y-ee.top.y+1],tt=h(Ne)/Ne.length,Re=k({x:Math.round(Ie),y:Math.round($e)},[1,1,3,1,1],P);return{score:Re,x:Ie,y:$e,size:tt}}}).filter(function(ee){return!!ee}).sort(function(ee,Ie){return ee.score-Ie.score}).map(function(ee,Ie,$e){if(Ie>a)return null;var Ne=$e.filter(function(Re,et){return Ie!==et}).map(function(Re){return{x:Re.x,y:Re.y,score:Re.score+Math.pow(Re.size-ee.size,2)/ee.size,size:Re.size}}).sort(function(Re,et){return Re.score-et.score});if(Ne.length<2)return null;var tt=ee.score+Ne[0].score+Ne[1].score;return{points:[ee].concat(Ne.slice(0,2)),score:tt}}).filter(function(ee){return!!ee}).sort(function(ee,Ie){return ee.score-Ie.score});if(Q.length===0)return null;var oe=m(Q[0].points[0],Q[0].points[1],Q[0].points[2]),Y=oe.topRight,le=oe.topLeft,ye=oe.bottomLeft,re=$(P,j,Y,le,ye),Ee=[];re&&Ee.push({alignmentPattern:{x:re.alignmentPattern.x,y:re.alignmentPattern.y},bottomLeft:{x:ye.x,y:ye.y},dimension:re.dimension,topLeft:{x:le.x,y:le.y},topRight:{x:Y.x,y:Y.y}});var ve=D(P,Y),Ce=D(P,le),he=D(P,ye),ae=$(P,j,ve,Ce,he);return ae&&Ee.push({alignmentPattern:{x:ae.alignmentPattern.x,y:ae.alignmentPattern.y},bottomLeft:{x:he.x,y:he.y},topLeft:{x:Ce.x,y:Ce.y},topRight:{x:ve.x,y:ve.y},dimension:ae.dimension}),Ee.length===0?null:Ee}r.locate=I;function $(P,S,M,j,L){var q,T,Q;try{q=y(j,M,L,P),T=q.dimension,Q=q.moduleSize}catch{return null}var oe={x:M.x-j.x+L.x,y:M.y-j.y+L.y},Y=(g(j,L)+g(j,M))/2/Q,le=1-3/Y,ye={x:j.x+le*(oe.x-j.x),y:j.y+le*(oe.y-j.y)},re=S.map(function(ve){var Ce=(ve.top.startX+ve.top.endX+ve.bottom.startX+ve.bottom.endX)/4,he=(ve.top.y+ve.bottom.y+1)/2;if(P.get(Math.floor(Ce),Math.floor(he))){var ae=[ve.top.endX-ve.top.startX,ve.bottom.endX-ve.bottom.startX,ve.bottom.y-ve.top.y+1];h(ae)/ae.length;var ee=k({x:Math.floor(Ce),y:Math.floor(he)},[1,1,1],P),Ie=ee+g({x:Ce,y:he},ye);return{x:Ce,y:he,score:Ie}}}).filter(function(ve){return!!ve}).sort(function(ve,Ce){return ve.score-Ce.score}),Ee=Y>=15&&re.length?re[0]:ye;return{alignmentPattern:Ee,dimension:T}}})]).default})})(Ql)),Ql.exports}var q7=V7();const W7=bx(q7),Hi=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},G7={class:"py-8 bg-gradient-to-br from-slate-50 via-blue-50 to-slate-100 min-h-screen"},Q7={class:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8"},K7={class:"mb-8 flex flex-col md:flex-row items-start md:items-center justify-between gap-4"},Y7={class:"flex flex-wrap items-center gap-4 w-full md:w-auto"},X7={key:0,class:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center animate-pulse"},Z7={class:"hidden md:block bg-white px-6 py-3 rounded-xl shadow-lg border border-gray-200"},J7={class:"font-semibold text-gray-900"},eB={class:"space-y-6"},tB={class:"bg-white rounded-2xl shadow-lg p-6 border border-gray-200"},nB={class:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 md:gap-0"},rB={class:"flex flex-col md:flex-row items-start md:items-center flex-1 w-full"},sB={key:0},oB={key:1,class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},iB={key:0},aB={key:1,class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},lB={class:"bg-gradient-to-br from-white to-blue-50 rounded-2xl shadow-2xl p-4 md:p-8 border-2 border-blue-200"},cB={class:"flex items-center justify-between mb-6"},dB={class:"text-2xl font-bold text-gray-900 mb-1"},uB={class:"text-gray-600"},xB={key:0,class:"mb-6"},fB={class:"bg-black rounded-2xl overflow-hidden relative border-4 border-blue-500 shadow-2xl"},hB={class:"absolute inset-0 flex items-center justify-center pointer-events-none"},gB={class:"relative"},pB={class:"w-64 h-40 md:w-80 md:h-48 border-4 border-red-500 rounded-xl relative"},mB={key:0,class:"absolute inset-0"},yB={class:"mt-4 text-center"},bB={class:"text-white text-lg font-bold bg-black bg-opacity-70 px-6 py-3 rounded-full inline-block"},vB={key:1,class:"mb-6"},EB={class:"relative"},wB=["placeholder","disabled"],CB={class:"absolute right-4 top-1/2 transform -translate-y-1/2"},AB={key:0,class:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"},BB={key:1,class:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_B={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},kB=["disabled"],DB=["disabled"],SB={key:0},FB={key:1},TB={class:"text-3xl mr-3"},MB={class:"flex-1"},IB={key:0,class:"bg-white rounded-2xl shadow-2xl overflow-hidden border-2 border-gray-200"},PB={class:"p-8 space-y-6"},RB={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},OB={class:"bg-gradient-to-br from-blue-50 to-indigo-100 p-6 rounded-2xl border-2 border-blue-300 shadow-lg"},NB={class:"text-4xl font-black text-blue-600"},LB={class:"bg-gradient-to-br from-green-50 to-emerald-100 p-6 rounded-2xl border-2 border-green-300 shadow-lg"},$B={class:"text-4xl font-black text-green-600"},jB={class:"text-2xl"},UB={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},HB={class:"bg-gradient-to-br from-gray-50 to-gray-100 p-5 rounded-xl border-2 border-gray-200 shadow"},zB={class:"font-bold text-gray-900 text-lg"},VB={class:"bg-gradient-to-br from-gray-50 to-gray-100 p-5 rounded-xl border-2 border-gray-200 shadow"},qB={class:"inline-block px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg text-sm font-bold shadow-md"},WB={class:"bg-gradient-to-br from-gray-50 to-gray-100 p-5 rounded-xl border-2 border-gray-200 shadow"},GB={class:"font-bold text-gray-900 text-lg"},QB={class:"bg-gradient-to-br from-gray-50 to-gray-100 p-5 rounded-xl border-2 border-gray-200 shadow"},KB={class:"font-bold text-gray-900 text-lg"},YB={class:"bg-gradient-to-r from-amber-50 via-yellow-50 to-orange-50 p-8 rounded-2xl border-3 border-amber-300 shadow-xl"},XB={class:"flex flex-col md:flex-row items-center justify-between gap-6 md:gap-0"},ZB={class:"flex-1 w-full text-center md:text-left"},JB={class:"bg-white px-8 py-6 rounded-2xl shadow-lg border-3 border-amber-400"},e_={class:"text-4xl font-black text-amber-600"},t_={class:"flex-1 w-full text-center md:text-left"},n_={key:0,class:"bg-white px-8 py-6 rounded-2xl shadow-lg border-3 border-green-400"},r_={class:"text-4xl font-black text-green-600"},s_={key:1,class:"bg-gray-100 px-8 py-6 rounded-2xl shadow-lg border-3 border-gray-300"},o_={key:0,class:"pt-2"},i_={key:0,class:"fixed top-0 right-0 h-full w-full md:w-[600px] lg:w-[800px] bg-white shadow-2xl z-50 overflow-y-auto"},a_={class:"grid gap-6"},l_={class:"bg-white rounded-2xl shadow-xl p-6 border border-gray-200"},c_={class:"flex items-center justify-between mb-4"},d_={class:"px-3 py-1 bg-gray-100 rounded-lg text-sm font-semibold text-gray-600"},u_={key:0,class:"text-center py-12"},x_={key:1,class:"space-y-3 max-h-[800px] overflow-y-auto custom-scrollbar"},f_={class:"flex justify-between items-start mb-3"},h_={class:"flex-1"},g_={class:"font-bold text-gray-900 mb-1"},p_={class:"text-xs text-gray-500 font-mono"},m_={class:"text-xs text-gray-500 bg-white px-2 py-1 rounded-lg"},y_={class:"flex items-center justify-between bg-white p-3 rounded-lg mb-2"},b_={class:"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-lg text-sm font-bold"},v_={class:"px-3 py-1 bg-green-100 text-green-800 rounded-lg text-sm font-bold"},E_={class:"flex items-center justify-between text-sm"},w_={class:"font-bold text-gray-900"},C_={__name:"Bintobin",props:{title:String,initialBins:Array,initialTransferHistory:Array,scannedMaterial:Object,destinationBin:String,errors:Object},setup(e){const t=e,n=xo(),r=pe(!1),i=()=>r.value=!r.value,a=()=>r.value=!1,c=pe(""),u=pe(null),g=pe("scan_material"),h=pe(""),m=pe("success"),y=pe(!1),C=pe(!1),E=pe(null),A=pe(null),k=pe(null),D=pe(null),I=pe(!1),$=pe(t.initialTransferHistory),P=pe(t.initialBins),S=pe(t.scannedMaterial),M=pe(t.destinationBin),j=tl({from_bin_id:null,to_bin_id:null,stock_id:null,quantity:null});En(()=>t.scannedMaterial,ae=>{S.value=ae}),En(()=>t.destinationBin,ae=>{M.value=ae}),En(()=>t.initialTransferHistory,ae=>{$.value=ae}),En(()=>t.initialBins,ae=>{P.value=ae}),En(()=>n.props.flash,ae=>{ae?.success?Y(ae.success,"success"):ae?.error&&Y(ae.error,"error")},{deep:!0}),R9(()=>{S.value&&M.value?(g.value="complete",j.stock_id=S.value.stock_id,j.from_bin_id=S.value.current_bin_id,j.quantity=S.value.quantity,j.to_bin_id=M.value.id):S.value?(g.value="scan_destination",!h.value&&!n.props.flash?.error&&Y(` Material ${S.value.name} (Batch: ${S.value.batchNo}) berhasil di-scan! Silakan scan bin tujuan.`,"success")):g.value="scan_material"});const L=Ke(()=>new Date().toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),q=()=>{if(y.value||!c.value.trim()){c.value.trim()||Y("Silakan scan atau masukkan kode barcode","error");return}const ae=c.value.trim();y.value=!0,h.value="";let ee={},Ie="/transaction/bin-to-bin",$e=ae.toUpperCase(),Ne=!1;try{const tt=JSON.parse(ae);tt&&tt.bin_code&&($e=String(tt.bin_code).toUpperCase(),Ne=!0,Y(` Menganalisis Kode: Mengurai Bin Code dari JSON: ${$e}`,"success"))}catch{}if(g.value==="scan_material"){if(!Ne&&ae.includes("|")&&ae.length>20)try{const tt=ae.split("|");tt.length>=3&&($e=tt[2].trim().toUpperCase(),Y(` Menganalisis Batch: ${$e} dari QR Code material...`,"success"))}catch{}ee={material_batch:$e}}else if(g.value==="scan_destination"){if(S.value&&$e===S.value.currentBin.toUpperCase()){y.value=!1,Y(` Gagal: Bin Tujuan tidak boleh sama dengan Bin Sumber (${S.value.currentBin})!`,"error");return}ee={material_batch:S.value.batchNo,bin_code:$e}}ft.get(Ie,ee,{preserveState:!0,preserveScroll:!0,onFinish:()=>{y.value=!1,c.value="",le()},onError:tt=>{}})},T=()=>{q()},Q=()=>{j.processing||j.post("/transaction/bin-to-bin/transfer",{preserveScroll:!0,onSuccess:()=>{},onError:ae=>{const ee=Object.values(ae).join(` 
`);Y(` Gagal Konfirmasi: ${ee}`,"error")}})},oe=()=>{ft.get("/bin-to-bin",{},{preserveState:!1})},Y=(ae,ee)=>{h.value=ae,m.value=ee,setTimeout(()=>{h.value===ae&&(h.value="")},6e3)},le=()=>{br(()=>{u.value&&!C.value&&u.value.focus()})},ye=async()=>{C.value?Ee():await re()},re=async()=>{try{const ae=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}});k.value=ae,C.value=!0,await br(),E.value&&(E.value.srcObject=ae,E.value.play(),ve(),Y(" Kamera aktif! Arahkan barcode ke kamera.","success"))}catch(ae){console.error("Camera error:",ae),ae.name==="NotAllowedError"?Y(" Izin kamera ditolak. Harap izinkan akses kamera di browser Anda.","error"):Y(" Tidak dapat mengakses kamera. Pastikan Anda menggunakan HTTPS.","error")}},Ee=()=>{k.value&&(k.value.getTracks().forEach(ae=>ae.stop()),k.value=null),D.value&&(cancelAnimationFrame(D.value),D.value=null),C.value=!1,I.value=!1,E.value&&(E.value.srcObject=null),le()},ve=()=>{if(!(!C.value||!E.value||!A.value)){if(I.value=!1,E.value.readyState===E.value.HAVE_ENOUGH_DATA){const ae=A.value,ee=ae.getContext("2d",{willReadFrequently:!0});ae.height=E.value.videoHeight,ae.width=E.value.videoWidth,ee.drawImage(E.value,0,0,ae.width,ae.height);const Ie=ee.getImageData(0,0,ae.width,ae.height),$e=W7(Ie.data,Ie.width,Ie.height,{inversionAttempts:"dontInvert"});if(I.value=!0,$e){I.value=!1,Ee(),c.value=$e.data,q();return}}D.value=requestAnimationFrame(ve)}},Ce=Ke(()=>m.value==="success"?"bg-green-500 text-white border-2 border-green-600":"bg-red-500 text-white border-2 border-red-600");Qn(()=>{le(),window.addEventListener("keydown",ae=>{ae.key==="Escape"&&r.value&&a()}),n.props.flash?.success?Y(n.props.flash.success,"success"):n.props.flash?.error&&Y(n.props.flash.error,"error")});const he=()=>{Ee()};return typeof window<"u"&&window.addEventListener("beforeunload",he),(ae,ee)=>(U(),wt(Kn,{title:"Bin to Bin Transfer"},{default:vt(()=>[s("div",G7,[s("div",Q7,[s("div",K7,[ee[6]||(ee[6]=s("div",null,[s("h1",{class:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent mb-2"}," Sistem Bin to Bin Transfer "),s("p",{class:"text-gray-600 text-base md:text-lg"},"Real-time warehouse material movement tracking system")],-1)),s("div",Y7,[s("button",{onClick:i,class:"relative flex-1 md:flex-none px-6 py-3 bg-white rounded-xl shadow-lg border border-gray-200 hover:bg-gray-50 transition-all flex items-center justify-center space-x-2 group"},[ee[2]||(ee[2]=s("svg",{class:"w-6 h-6 text-gray-700 group-hover:text-blue-600 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),ee[3]||(ee[3]=s("span",{class:"font-semibold text-gray-700 group-hover:text-blue-600"},"Dashboard",-1)),$.value.length>0?(U(),V("span",X7,R($.value.length),1)):xe("",!0)]),s("div",Z7,[ee[4]||(ee[4]=s("div",{class:"text-xs text-gray-500 mb-1"},"Tanggal",-1)),s("div",J7,R(L.value),1)]),ee[5]||(ee[5]=s("div",{class:"hidden md:block bg-gradient-to-r from-green-500 to-emerald-500 px-6 py-3 rounded-xl shadow-lg text-white"},[s("div",{class:"text-xs opacity-90 mb-1"},"Status Sistem"),s("div",{class:"font-bold flex items-center"},[s("span",{class:"w-2 h-2 bg-white rounded-full mr-2 animate-pulse"}),Ve(" ONLINE ")])],-1))])]),s("div",eB,[s("div",tB,[s("div",nB,[s("div",rB,[s("div",{class:Se(["flex items-center w-full md:w-auto mb-4 md:mb-0",g.value==="scan_material"||g.value==="scan_destination"||g.value==="complete"?"text-blue-600":"text-gray-400"])},[s("div",{class:Se(["w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg border-2 shrink-0",g.value==="scan_material"||g.value==="scan_destination"||g.value==="complete"?"bg-blue-600 text-white border-blue-600":"bg-gray-200 text-gray-400 border-gray-300"])},[g.value==="scan_material"?(U(),V("span",sB,"1")):(U(),V("svg",oB,[...ee[7]||(ee[7]=[s("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])]))],2),ee[8]||(ee[8]=s("div",{class:"ml-3"},[s("p",{class:"font-bold"},"Scan Material"),s("p",{class:"text-xs"},"Scan kode material")],-1))],2),s("div",{class:Se(["hidden md:block flex-1 h-1 mx-4",g.value==="scan_destination"||g.value==="complete"?"bg-blue-600":"bg-gray-300"])},null,2),s("div",{class:Se(["md:hidden w-1 h-8 ml-5",g.value==="scan_destination"||g.value==="complete"?"bg-blue-600":"bg-gray-300"])},null,2),s("div",{class:Se(["flex items-center w-full md:w-auto mb-4 md:mb-0",g.value==="scan_destination"||g.value==="complete"?"text-blue-600":"text-gray-400"])},[s("div",{class:Se(["w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg border-2 shrink-0",g.value==="scan_destination"||g.value==="complete"?"bg-blue-600 text-white border-blue-600":"bg-gray-200 text-gray-400 border-gray-300"])},[g.value!=="complete"?(U(),V("span",iB,"2")):(U(),V("svg",aB,[...ee[9]||(ee[9]=[s("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])]))],2),ee[10]||(ee[10]=s("div",{class:"ml-3"},[s("p",{class:"font-bold"},"Scan Bin Tujuan"),s("p",{class:"text-xs"},"Scan lokasi tujuan")],-1))],2),s("div",{class:Se(["hidden md:block flex-1 h-1 mx-4",g.value==="complete"?"bg-green-600":"bg-gray-300"])},null,2),s("div",{class:Se(["md:hidden w-1 h-8 ml-5",g.value==="complete"?"bg-green-600":"bg-gray-300"])},null,2),s("div",{class:Se(["flex items-center w-full md:w-auto",g.value==="complete"?"text-green-600":"text-gray-400"])},[s("div",{class:Se(["w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg border-2 shrink-0",g.value==="complete"?"bg-green-600 text-white border-green-600":"bg-gray-200 text-gray-400 border-gray-300"])},"  ",2),ee[11]||(ee[11]=s("div",{class:"ml-3"},[s("p",{class:"font-bold"},"Konfirmasi"),s("p",{class:"text-xs"},"Selesaikan transfer")],-1))],2)])])]),s("div",lB,[s("div",cB,[s("div",null,[s("h2",dB,R(g.value==="scan_material"?" Scan Material":g.value==="scan_destination"?" Scan Bin Tujuan":" Siap Konfirmasi"),1),s("p",uB,R(g.value==="scan_material"?"Pilih metode scanning untuk material":g.value==="scan_destination"?"Pilih metode scanning untuk bin tujuan":"Klik tombol konfirmasi untuk menyelesaikan"),1)])]),C.value?(U(),V("div",xB,[s("div",fB,[s("video",{ref_key:"videoElement",ref:E,autoplay:"",playsinline:"",class:"w-full h-64 md:h-96 object-cover"},null,512),s("div",hB,[s("div",gB,[s("div",pB,[ee[13]||(ee[13]=s("div",{class:"absolute -top-1 -left-1 w-8 h-8 border-t-8 border-l-8 border-red-500 rounded-tl-xl"},null,-1)),ee[14]||(ee[14]=s("div",{class:"absolute -top-1 -right-1 w-8 h-8 border-t-8 border-r-8 border-red-500 rounded-tr-xl"},null,-1)),ee[15]||(ee[15]=s("div",{class:"absolute -bottom-1 -left-1 w-8 h-8 border-b-8 border-l-8 border-red-500 rounded-bl-xl"},null,-1)),ee[16]||(ee[16]=s("div",{class:"absolute -bottom-1 -right-1 w-8 h-8 border-b-8 border-r-8 border-red-500 rounded-br-xl"},null,-1)),I.value?(U(),V("div",mB,[...ee[12]||(ee[12]=[s("div",{class:"camera-scan-line"},null,-1)])])):xe("",!0)]),s("div",yB,[s("p",bB,R(I.value?" Scanning...":" Arahkan Barcode ke Frame"),1)])])]),s("canvas",{ref_key:"canvasElement",ref:A,class:"hidden"},null,512),s("div",{class:"absolute top-4 right-4 flex space-x-2"},[s("button",{onClick:Ee,class:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-all shadow-lg flex items-center"},[...ee[17]||(ee[17]=[s("svg",{class:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),Ve(" Tutup ",-1)])])])]),ee[18]||(ee[18]=s("p",{class:"text-center text-gray-600 mt-4 text-sm flex items-center justify-center"},[s("span",{class:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),Ve(" Kamera Aktif - Deteksi barcode otomatis ")],-1))])):xe("",!0),C.value?xe("",!0):(U(),V("div",vB,[ee[20]||(ee[20]=s("label",{class:"block text-sm font-semibold text-gray-700 mb-3"},"  Input Manual - Ketik kode barcode ",-1)),s("div",EB,[me(s("input",{"onUpdate:modelValue":ee[0]||(ee[0]=Ie=>c.value=Ie),onKeyup:Ni(T,["enter"]),type:"text",placeholder:g.value==="scan_material"?"Contoh: MAT001, MAT002, MAT003...":"Contoh: A1, B2, C3...",class:"w-full px-6 py-5 bg-white border-3 border-gray-300 rounded-xl focus:ring-4 focus:ring-blue-500 focus:border-blue-500 text-gray-900 text-xl font-mono placeholder-gray-400 transition-all shadow-inner",disabled:g.value==="complete"||y.value,ref_key:"barcodeInputRef",ref:u},null,40,wB),[[Oe,c.value]]),s("div",CB,[y.value?(U(),V("div",AB)):(U(),V("svg",BB,[...ee[19]||(ee[19]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"},null,-1)])]))])])])),s("div",_B,[s("button",{onClick:ye,disabled:g.value==="complete",class:Se(["py-5 px-6 rounded-xl font-bold text-lg transition-all duration-200 shadow-lg flex items-center justify-center",g.value==="complete"?"bg-gray-300 text-gray-500 cursor-not-allowed":C.value?"bg-red-600 hover:bg-red-700 text-white transform hover:scale-105":"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white transform hover:scale-105"])},[ee[21]||(ee[21]=s("svg",{class:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),Ve(" "+R(C.value?"Stop Kamera":"Buka Kamera"),1)],10,kB),s("button",{onClick:T,disabled:!c.value||g.value==="complete"||y.value||C.value,class:Se(["py-5 px-6 rounded-xl font-bold text-lg transition-all duration-200 shadow-lg flex items-center justify-center",!c.value||g.value==="complete"||y.value||C.value?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white transform hover:scale-105"])},[ee[22]||(ee[22]=s("svg",{class:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),y.value?(U(),V("span",FB,"Processing...")):(U(),V("span",SB,"Scan Manual"))],10,DB)]),e.scannedMaterial&&g.value!=="complete"?(U(),V("button",{key:2,onClick:oe,class:"w-full mt-4 py-4 px-6 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white font-bold rounded-xl transition-all transform hover:scale-105 shadow-lg flex items-center justify-center"},[...ee[23]||(ee[23]=[s("svg",{class:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),Ve(" Reset Transfer ",-1)])])):xe("",!0),Ft(yl,{name:"slide-fade"},{default:vt(()=>[h.value?(U(),V("div",{key:0,class:Se(["mt-6 p-5 rounded-xl font-semibold flex items-center shadow-lg border-2",Ce.value])},[s("span",TB,R(m.value==="success"?"":""),1),s("span",MB,R(h.value),1),s("button",{onClick:ee[1]||(ee[1]=Ie=>h.value=""),class:"ml-2 hover:opacity-70"},[...ee[24]||(ee[24]=[s("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)])])],2)):xe("",!0)]),_:1})]),Ft(yl,{name:"scale-fade"},{default:vt(()=>[e.scannedMaterial?(U(),V("div",IB,[ee[37]||(ee[37]=s("div",{class:"bg-gradient-to-r from-indigo-600 to-blue-600 p-6"},[s("h3",{class:"text-2xl font-bold text-white flex items-center"},[s("span",{class:"w-12 h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center mr-3 text-3xl"},""),Ve(" Informasi Material ")])],-1)),s("div",PB,[s("div",RB,[s("div",OB,[ee[25]||(ee[25]=s("p",{class:"text-sm text-blue-700 mb-2 font-bold uppercase tracking-wide"},"Kode Material",-1)),s("p",NB,R(e.scannedMaterial.code),1)]),s("div",LB,[ee[26]||(ee[26]=s("p",{class:"text-sm text-green-700 mb-2 font-bold uppercase tracking-wide"},"Jumlah ",-1)),s("p",$B,[Ve(R(e.scannedMaterial.quantity)+" ",1),s("span",jB,R(e.scannedMaterial.unit),1)])])]),s("div",UB,[s("div",HB,[ee[27]||(ee[27]=s("div",{class:"flex items-center mb-2"},[s("span",{class:"w-3 h-3 bg-purple-500 rounded-full mr-2"}),s("p",{class:"text-xs text-gray-600 font-bold uppercase tracking-wide"},"Nama Material")],-1)),s("p",zB,R(e.scannedMaterial.name),1)]),s("div",VB,[ee[28]||(ee[28]=s("div",{class:"flex items-center mb-2"},[s("span",{class:"w-3 h-3 bg-pink-500 rounded-full mr-2"}),s("p",{class:"text-xs text-gray-600 font-bold uppercase tracking-wide"},"Kategori ")],-1)),s("span",qB,R(e.scannedMaterial.category),1)]),s("div",WB,[ee[29]||(ee[29]=s("div",{class:"flex items-center mb-2"},[s("span",{class:"w-3 h-3 bg-blue-500 rounded-full mr-2"}),s("p",{class:"text-xs text-gray-600 font-bold uppercase tracking-wide"},"Batch Number")],-1)),s("p",GB,R(e.scannedMaterial.batchNo),1)]),s("div",QB,[ee[30]||(ee[30]=s("div",{class:"flex items-center mb-2"},[s("span",{class:"w-3 h-3 bg-orange-500 rounded-full mr-2"}),s("p",{class:"text-xs text-gray-600 font-bold uppercase tracking-wide"},"Tanggal Kadaluarsa")],-1)),s("p",KB,R(e.scannedMaterial.expiryDate),1)])]),s("div",YB,[ee[35]||(ee[35]=s("p",{class:"text-sm font-bold text-amber-900 mb-6 uppercase tracking-wider flex items-center"},[s("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})]),Ve(" Rute Perpindahan ")],-1)),s("div",XB,[s("div",ZB,[ee[31]||(ee[31]=s("p",{class:"text-xs text-amber-700 mb-3 font-semibold uppercase"},"Dari Bin",-1)),s("div",JB,[s("p",e_,R(e.scannedMaterial.currentBin),1)])]),ee[34]||(ee[34]=s("div",{class:"px-6 transform rotate-90 md:rotate-0"},[s("svg",{class:"w-16 h-16 text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M13 7l5 5m0 0l-5 5m5-5H6"})])],-1)),s("div",t_,[ee[33]||(ee[33]=s("p",{class:"text-xs text-amber-700 mb-3 font-semibold uppercase"},"Ke Bin",-1)),e.destinationBin?(U(),V("div",n_,[s("p",r_,R(e.destinationBin.code),1)])):(U(),V("div",s_,[...ee[32]||(ee[32]=[s("p",{class:"text-4xl font-black text-gray-400"},"???",-1)])]))])])]),e.destinationBin&&g.value==="complete"?(U(),V("div",o_,[s("button",{onClick:Q,class:"w-full py-6 px-8 bg-gradient-to-r from-green-600 via-emerald-600 to-teal-600 hover:from-green-700 hover:via-emerald-700 hover:to-teal-700 text-white font-black text-2xl rounded-2xl transition-all duration-200 transform hover:scale-105 active:scale-95 shadow-2xl flex items-center justify-center"},[...ee[36]||(ee[36]=[s("svg",{class:"w-10 h-10 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"})],-1),Ve(" KONFIRMASI TRANSFER ",-1)])])])):xe("",!0)])])):xe("",!0)]),_:1}),ee[38]||(ee[38]=s("div",{class:"bg-gradient-to-br from-white to-blue-50 rounded-2xl shadow-2xl p-8 border-2 border-blue-200"},[s("div",{class:"text-center py-12"},[s("p",{class:"text-gray-500"},"Scanner Card Content - Gunakan kode yang sudah ada")])],-1))])])]),Ft(yl,{name:"fade"},{default:vt(()=>[r.value?(U(),V("div",{key:0,onClick:a,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm z-40 transition-all duration-300",style:{"background-color":"#00000054"}})):xe("",!0)]),_:1}),Ft(yl,{name:"slide"},{default:vt(()=>[r.value?(U(),V("div",i_,[s("div",{class:"sticky top-0 p-6 flex items-center justify-between z-10 shadow-lg"},[ee[40]||(ee[40]=s("div",{class:"flex items-center space-x-3"},[s("div",{class:"w-12 h-12 bg-green bg-opacity-20 rounded-xl flex items-center justify-center"},[s("svg",{class:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])]),s("div",null,[s("h2",{class:"text-2xl font-bold"},"Dashboard"),s("p",{class:"text-black-100 text-sm"},"Real-time Statistics")])],-1)),s("button",{onClick:a,class:"w-10 h-10 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg flex items-center justify-center transition-all"},[...ee[39]||(ee[39]=[s("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),s("div",a_,[s("div",l_,[s("div",c_,[ee[41]||(ee[41]=s("h3",{class:"text-lg font-bold text-gray-800 flex items-center"},[s("span",{class:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center mr-2"},""),Ve(" Riwayat Transfer ")],-1)),s("span",d_,R($.value.length),1)]),$.value.length===0?(U(),V("div",u_,[...ee[42]||(ee[42]=[s("div",{class:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4"},[s("svg",{class:"w-10 h-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1),s("p",{class:"text-gray-400 font-semibold"},"Belum ada transfer",-1),s("p",{class:"text-gray-400 text-sm mt-1"},"Mulai scan untuk membuat transfer",-1)])])):(U(),V("div",x_,[Ft(Av,{name:"list"},{default:vt(()=>[(U(!0),V(je,null,nt($.value.slice().reverse(),(Ie,$e)=>(U(),V("div",{key:$e,class:"p-4 bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl border-2 border-gray-200 hover:border-blue-300 hover:shadow-lg transition-all duration-200"},[s("div",f_,[s("div",h_,[s("p",g_,R(Ie.materialName),1),s("p",p_,R(Ie.materialCode),1)]),s("span",m_,R(Ie.timestamp),1)]),s("div",y_,[s("span",b_,R(Ie.fromBin),1),ee[43]||(ee[43]=s("svg",{class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1)),s("span",v_,R(Ie.toBin),1)]),s("div",E_,[ee[44]||(ee[44]=s("span",{class:"text-gray-600"},"Qty:",-1)),s("span",w_,R(Ie.quantity)+" "+R(Ie.unit),1)])]))),128))]),_:1})]))])])])):xe("",!0)]),_:1})]),_:1}))}},A_=Hi(C_,[["__scopeId","data-v-7f90dc94"]]),B_=Object.freeze(Object.defineProperty({__proto__:null,default:A_},Symbol.toStringTag,{value:"Module"})),__={__name:"CentralData",setup(e){return(t,n)=>(U(),wt(Kn,{title:"Riwayat Aktivitas"},{default:vt(()=>[...n[0]||(n[0]=[s("div",{class:"py-12"},[s("div",{class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},[s("h1",{class:"text-2xl font-bold mb-4"},"Role Permission"),s("p",null,"Role n Permission")])],-1)])]),_:1}))}},k_=Object.freeze(Object.defineProperty({__proto__:null,default:__},Symbol.toStringTag,{value:"Module"}));var Je;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Je||(Je={}));var Lh=new Map([[Je.QR_CODE,"QR_CODE"],[Je.AZTEC,"AZTEC"],[Je.CODABAR,"CODABAR"],[Je.CODE_39,"CODE_39"],[Je.CODE_93,"CODE_93"],[Je.CODE_128,"CODE_128"],[Je.DATA_MATRIX,"DATA_MATRIX"],[Je.MAXICODE,"MAXICODE"],[Je.ITF,"ITF"],[Je.EAN_13,"EAN_13"],[Je.EAN_8,"EAN_8"],[Je.PDF_417,"PDF_417"],[Je.RSS_14,"RSS_14"],[Je.RSS_EXPANDED,"RSS_EXPANDED"],[Je.UPC_A,"UPC_A"],[Je.UPC_E,"UPC_E"],[Je.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),$h;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})($h||($h={}));function D_(e){return Object.values(Je).includes(e)}var fo;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(fo||(fo={}));var qr=(function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[fo.SCAN_TYPE_CAMERA,fo.SCAN_TYPE_FILE],e})(),wy=(function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Lh.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,Lh.get(t))},e})(),jh=(function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e})(),Ou;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Ou||(Ou={}));var Cy=(function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Ou.UNKWOWN_ERROR}},e})(),Ay=(function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e})();function us(e){return typeof e>"u"||e===null}function S_(e,t,n){return e>n?n:e<t?t:e}var mi=(function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e})(),jt=(function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e})(),Uh=(function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e})(),By=(function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),c=Object.keys(t),u=0,g=c;u<g.length;u++){var h=g[u];if(a.has(h))return n.logError("".concat(h," is not supported videoConstaints."),!0),!1}return!0},e})(),xa={exports:{}},F_=xa.exports,Hh;function T_(){return Hh||(Hh=1,(function(e,t){(function(n,r){r(t)})(F_,(function(n){function r(W){return W==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,o){W.__proto__=o}||function(W,o){for(var l in o)o.hasOwnProperty(l)&&(W[l]=o[l])};function a(W,o){i(W,o);function l(){this.constructor=W}W.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}function c(W,o){var l=Object.setPrototypeOf;l?l(W,o):W.__proto__=o}function u(W,o){o===void 0&&(o=W.constructor);var l=Error.captureStackTrace;l&&l(W,o)}var g=(function(W){a(o,W);function o(l){var d=this.constructor,x=W.call(this,l)||this;return Object.defineProperty(x,"name",{value:d.name,enumerable:!1}),c(x,d.prototype),u(x),x}return o})(Error);class h extends g{constructor(o=void 0){super(o),this.message=o}getKind(){return this.constructor.kind}}h.kind="Exception";class m extends h{}m.kind="ArgumentException";class y extends h{}y.kind="IllegalArgumentException";class C{constructor(o){if(this.binarizer=o,o===null)throw new y("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(o,l){return this.binarizer.getBlackRow(o,l)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(o,l,d,x){const f=this.binarizer.getLuminanceSource().crop(o,l,d,x);return new C(this.binarizer.createBinarizer(f))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new C(this.binarizer.createBinarizer(o))}rotateCounterClockwise45(){const o=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new C(this.binarizer.createBinarizer(o))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class E extends h{static getChecksumInstance(){return new E}}E.kind="ChecksumException";class A{constructor(o){this.source=o}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class k{static arraycopy(o,l,d,x,f){for(;f--;)d[x++]=o[l++]}static currentTimeMillis(){return Date.now()}}class D extends h{}D.kind="IndexOutOfBoundsException";class I extends D{constructor(o=void 0,l=void 0){super(l),this.index=o,this.message=l}}I.kind="ArrayIndexOutOfBoundsException";class ${static fill(o,l){for(let d=0,x=o.length;d<x;d++)o[d]=l}static fillWithin(o,l,d,x){$.rangeCheck(o.length,l,d);for(let f=l;f<d;f++)o[f]=x}static rangeCheck(o,l,d){if(l>d)throw new y("fromIndex("+l+") > toIndex("+d+")");if(l<0)throw new I(l);if(d>o)throw new I(d)}static asList(...o){return o}static create(o,l,d){return Array.from({length:o}).map(f=>Array.from({length:l}).fill(d))}static createInt32Array(o,l,d){return Array.from({length:o}).map(f=>Int32Array.from({length:l}).fill(d))}static equals(o,l){if(!o||!l||!o.length||!l.length||o.length!==l.length)return!1;for(let d=0,x=o.length;d<x;d++)if(o[d]!==l[d])return!1;return!0}static hashCode(o){if(o===null)return 0;let l=1;for(const d of o)l=31*l+d;return l}static fillUint8Array(o,l){for(let d=0;d!==o.length;d++)o[d]=l}static copyOf(o,l){return o.slice(0,l)}static copyOfUint8Array(o,l){if(o.length<=l){const d=new Uint8Array(l);return d.set(o),d}return o.slice(0,l)}static copyOfRange(o,l,d){const x=d-l,f=new Int32Array(x);return k.arraycopy(o,l,f,0,x),f}static binarySearch(o,l,d){d===void 0&&(d=$.numberComparator);let x=0,f=o.length-1;for(;x<=f;){const p=f+x>>1,b=d(l,o[p]);if(b>0)x=p+1;else if(b<0)f=p-1;else return p}return-x-1}static numberComparator(o,l){return o-l}}class P{static numberOfTrailingZeros(o){let l;if(o===0)return 32;let d=31;return l=o<<16,l!==0&&(d-=16,o=l),l=o<<8,l!==0&&(d-=8,o=l),l=o<<4,l!==0&&(d-=4,o=l),l=o<<2,l!==0&&(d-=2,o=l),d-(o<<1>>>31)}static numberOfLeadingZeros(o){if(o===0)return 32;let l=1;return o>>>16||(l+=16,o<<=16),o>>>24||(l+=8,o<<=8),o>>>28||(l+=4,o<<=4),o>>>30||(l+=2,o<<=2),l-=o>>>31,l}static toHexString(o){return o.toString(16)}static toBinaryString(o){return String(parseInt(String(o),2))}static bitCount(o){return o=o-(o>>>1&1431655765),o=(o&858993459)+(o>>>2&858993459),o=o+(o>>>4)&252645135,o=o+(o>>>8),o=o+(o>>>16),o&63}static truncDivision(o,l){return Math.trunc(o/l)}static parseInt(o,l=void 0){return parseInt(o,l)}}P.MIN_VALUE_32_BITS=-2147483648,P.MAX_VALUE=Number.MAX_SAFE_INTEGER;class S{constructor(o,l){o===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=o,l==null?this.bits=S.makeArray(o):this.bits=l)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(o){if(o>this.bits.length*32){const l=S.makeArray(o);k.arraycopy(this.bits,0,l,0,this.bits.length),this.bits=l}}get(o){return(this.bits[Math.floor(o/32)]&1<<(o&31))!==0}set(o){this.bits[Math.floor(o/32)]|=1<<(o&31)}flip(o){this.bits[Math.floor(o/32)]^=1<<(o&31)}getNextSet(o){const l=this.size;if(o>=l)return l;const d=this.bits;let x=Math.floor(o/32),f=d[x];f&=~((1<<(o&31))-1);const p=d.length;for(;f===0;){if(++x===p)return l;f=d[x]}const b=x*32+P.numberOfTrailingZeros(f);return b>l?l:b}getNextUnset(o){const l=this.size;if(o>=l)return l;const d=this.bits;let x=Math.floor(o/32),f=~d[x];f&=~((1<<(o&31))-1);const p=d.length;for(;f===0;){if(++x===p)return l;f=~d[x]}const b=x*32+P.numberOfTrailingZeros(f);return b>l?l:b}setBulk(o,l){this.bits[Math.floor(o/32)]=l}setRange(o,l){if(l<o||o<0||l>this.size)throw new y;if(l===o)return;l--;const d=Math.floor(o/32),x=Math.floor(l/32),f=this.bits;for(let p=d;p<=x;p++){const b=p>d?0:o&31,B=(2<<(p<x?31:l&31))-(1<<b);f[p]|=B}}clear(){const o=this.bits.length,l=this.bits;for(let d=0;d<o;d++)l[d]=0}isRange(o,l,d){if(l<o||o<0||l>this.size)throw new y;if(l===o)return!0;l--;const x=Math.floor(o/32),f=Math.floor(l/32),p=this.bits;for(let b=x;b<=f;b++){const v=b>x?0:o&31,O=(2<<(b<f?31:l&31))-(1<<v)&4294967295;if((p[b]&O)!==(d?O:0))return!1}return!0}appendBit(o){this.ensureCapacity(this.size+1),o&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(o,l){if(l<0||l>32)throw new y("Num bits must be between 0 and 32");this.ensureCapacity(this.size+l);for(let d=l;d>0;d--)this.appendBit((o>>d-1&1)===1)}appendBitArray(o){const l=o.size;this.ensureCapacity(this.size+l);for(let d=0;d<l;d++)this.appendBit(o.get(d))}xor(o){if(this.size!==o.size)throw new y("Sizes don't match");const l=this.bits;for(let d=0,x=l.length;d<x;d++)l[d]^=o.bits[d]}toBytes(o,l,d,x){for(let f=0;f<x;f++){let p=0;for(let b=0;b<8;b++)this.get(o)&&(p|=1<<7-b),o++;l[d+f]=p}}getBitArray(){return this.bits}reverse(){const o=new Int32Array(this.bits.length),l=Math.floor((this.size-1)/32),d=l+1,x=this.bits;for(let f=0;f<d;f++){let p=x[f];p=p>>1&1431655765|(p&1431655765)<<1,p=p>>2&858993459|(p&858993459)<<2,p=p>>4&252645135|(p&252645135)<<4,p=p>>8&16711935|(p&16711935)<<8,p=p>>16&65535|(p&65535)<<16,o[l-f]=p}if(this.size!==d*32){const f=d*32-this.size;let p=o[0]>>>f;for(let b=1;b<d;b++){const v=o[b];p|=v<<32-f,o[b-1]=p,p=v>>>f}o[d-1]=p}this.bits=o}static makeArray(o){return new Int32Array(Math.floor((o+31)/32))}equals(o){if(!(o instanceof S))return!1;const l=o;return this.size===l.size&&$.equals(this.bits,l.bits)}hashCode(){return 31*this.size+$.hashCode(this.bits)}toString(){let o="";for(let l=0,d=this.size;l<d;l++)(l&7)===0&&(o+=" "),o+=this.get(l)?"X":".";return o}clone(){return new S(this.size,this.bits.slice())}}var M;(function(W){W[W.OTHER=0]="OTHER",W[W.PURE_BARCODE=1]="PURE_BARCODE",W[W.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",W[W.TRY_HARDER=3]="TRY_HARDER",W[W.CHARACTER_SET=4]="CHARACTER_SET",W[W.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",W[W.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",W[W.ASSUME_GS1=7]="ASSUME_GS1",W[W.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",W[W.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",W[W.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(M||(M={}));var j=M;class L extends h{static getFormatInstance(){return new L}}L.kind="FormatException";var q;(function(W){W[W.Cp437=0]="Cp437",W[W.ISO8859_1=1]="ISO8859_1",W[W.ISO8859_2=2]="ISO8859_2",W[W.ISO8859_3=3]="ISO8859_3",W[W.ISO8859_4=4]="ISO8859_4",W[W.ISO8859_5=5]="ISO8859_5",W[W.ISO8859_6=6]="ISO8859_6",W[W.ISO8859_7=7]="ISO8859_7",W[W.ISO8859_8=8]="ISO8859_8",W[W.ISO8859_9=9]="ISO8859_9",W[W.ISO8859_10=10]="ISO8859_10",W[W.ISO8859_11=11]="ISO8859_11",W[W.ISO8859_13=12]="ISO8859_13",W[W.ISO8859_14=13]="ISO8859_14",W[W.ISO8859_15=14]="ISO8859_15",W[W.ISO8859_16=15]="ISO8859_16",W[W.SJIS=16]="SJIS",W[W.Cp1250=17]="Cp1250",W[W.Cp1251=18]="Cp1251",W[W.Cp1252=19]="Cp1252",W[W.Cp1256=20]="Cp1256",W[W.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",W[W.UTF8=22]="UTF8",W[W.ASCII=23]="ASCII",W[W.Big5=24]="Big5",W[W.GB18030=25]="GB18030",W[W.EUC_KR=26]="EUC_KR"})(q||(q={}));class T{constructor(o,l,d,...x){this.valueIdentifier=o,this.name=d,typeof l=="number"?this.values=Int32Array.from([l]):this.values=l,this.otherEncodingNames=x,T.VALUE_IDENTIFIER_TO_ECI.set(o,this),T.NAME_TO_ECI.set(d,this);const f=this.values;for(let p=0,b=f.length;p!==b;p++){const v=f[p];T.VALUES_TO_ECI.set(v,this)}for(const p of x)T.NAME_TO_ECI.set(p,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(o){if(o<0||o>=900)throw new L("incorect value");const l=T.VALUES_TO_ECI.get(o);if(l===void 0)throw new L("incorect value");return l}static getCharacterSetECIByName(o){const l=T.NAME_TO_ECI.get(o);if(l===void 0)throw new L("incorect value");return l}equals(o){if(!(o instanceof T))return!1;const l=o;return this.getName()===l.getName()}}T.VALUE_IDENTIFIER_TO_ECI=new Map,T.VALUES_TO_ECI=new Map,T.NAME_TO_ECI=new Map,T.Cp437=new T(q.Cp437,Int32Array.from([0,2]),"Cp437"),T.ISO8859_1=new T(q.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),T.ISO8859_2=new T(q.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),T.ISO8859_3=new T(q.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),T.ISO8859_4=new T(q.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),T.ISO8859_5=new T(q.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),T.ISO8859_6=new T(q.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),T.ISO8859_7=new T(q.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),T.ISO8859_8=new T(q.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),T.ISO8859_9=new T(q.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),T.ISO8859_10=new T(q.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),T.ISO8859_11=new T(q.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),T.ISO8859_13=new T(q.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),T.ISO8859_14=new T(q.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),T.ISO8859_15=new T(q.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),T.ISO8859_16=new T(q.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),T.SJIS=new T(q.SJIS,20,"SJIS","Shift_JIS"),T.Cp1250=new T(q.Cp1250,21,"Cp1250","windows-1250"),T.Cp1251=new T(q.Cp1251,22,"Cp1251","windows-1251"),T.Cp1252=new T(q.Cp1252,23,"Cp1252","windows-1252"),T.Cp1256=new T(q.Cp1256,24,"Cp1256","windows-1256"),T.UnicodeBigUnmarked=new T(q.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),T.UTF8=new T(q.UTF8,26,"UTF8","UTF-8"),T.ASCII=new T(q.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),T.Big5=new T(q.Big5,28,"Big5"),T.GB18030=new T(q.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),T.EUC_KR=new T(q.EUC_KR,30,"EUC_KR","EUC-KR");class Q extends h{}Q.kind="UnsupportedOperationException";class oe{static decode(o,l){const d=this.encodingName(l);return this.customDecoder?this.customDecoder(o,d):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(d)?this.decodeFallback(o,d):new TextDecoder(d).decode(o)}static shouldDecodeOnFallback(o){return!oe.isBrowser()&&o==="ISO-8859-1"}static encode(o,l){const d=this.encodingName(l);return this.customEncoder?this.customEncoder(o,d):typeof TextEncoder>"u"?this.encodeFallback(o):new TextEncoder().encode(o)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(o){return typeof o=="string"?o:o.getName()}static encodingCharacterSet(o){return o instanceof T?o:T.getCharacterSetECIByName(o)}static decodeFallback(o,l){const d=this.encodingCharacterSet(l);if(oe.isDecodeFallbackSupported(d)){let x="";for(let f=0,p=o.length;f<p;f++){let b=o[f].toString(16);b.length<2&&(b="0"+b),x+="%"+b}return decodeURIComponent(x)}if(d.equals(T.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(o.buffer));throw new Q(`Encoding ${this.encodingName(l)} not supported by fallback.`)}static isDecodeFallbackSupported(o){return o.equals(T.UTF8)||o.equals(T.ISO8859_1)||o.equals(T.ASCII)}static encodeFallback(o){const d=btoa(unescape(encodeURIComponent(o))).split(""),x=[];for(let f=0;f<d.length;f++)x.push(d[f].charCodeAt(0));return new Uint8Array(x)}}class Y{static castAsNonUtf8Char(o,l=null){const d=l?l.getName():this.ISO88591;return oe.decode(new Uint8Array([o]),d)}static guessEncoding(o,l){if(l!=null&&l.get(j.CHARACTER_SET)!==void 0)return l.get(j.CHARACTER_SET).toString();const d=o.length;let x=!0,f=!0,p=!0,b=0,v=0,B=0,O=0,G=0,Z=0,ie=0,fe=0,ge=0,Be=0,Te=0;const ze=o.length>3&&o[0]===239&&o[1]===187&&o[2]===191;for(let qe=0;qe<d&&(x||f||p);qe++){const Ue=o[qe]&255;p&&(b>0?(Ue&128)===0?p=!1:b--:(Ue&128)!==0&&((Ue&64)===0?p=!1:(b++,(Ue&32)===0?v++:(b++,(Ue&16)===0?B++:(b++,(Ue&8)===0?O++:p=!1))))),x&&(Ue>127&&Ue<160?x=!1:Ue>159&&(Ue<192||Ue===215||Ue===247)&&Te++),f&&(G>0?Ue<64||Ue===127||Ue>252?f=!1:G--:Ue===128||Ue===160||Ue>239?f=!1:Ue>160&&Ue<224?(Z++,fe=0,ie++,ie>ge&&(ge=ie)):Ue>127?(G++,ie=0,fe++,fe>Be&&(Be=fe)):(ie=0,fe=0))}return p&&b>0&&(p=!1),f&&G>0&&(f=!1),p&&(ze||v+B+O>0)?Y.UTF8:f&&(Y.ASSUME_SHIFT_JIS||ge>=3||Be>=3)?Y.SHIFT_JIS:x&&f?ge===2&&Z===2||Te*10>=d?Y.SHIFT_JIS:Y.ISO88591:x?Y.ISO88591:f?Y.SHIFT_JIS:p?Y.UTF8:Y.PLATFORM_DEFAULT_ENCODING}static format(o,...l){let d=-1;function x(p,b,v,B,O,G){if(p==="%%")return"%";if(l[++d]===void 0)return;p=B?parseInt(B.substr(1)):void 0;let Z=O?parseInt(O.substr(1)):void 0,ie;switch(G){case"s":ie=l[d];break;case"c":ie=l[d][0];break;case"f":ie=parseFloat(l[d]).toFixed(p);break;case"p":ie=parseFloat(l[d]).toPrecision(p);break;case"e":ie=parseFloat(l[d]).toExponential(p);break;case"x":ie=parseInt(l[d]).toString(Z||16);break;case"d":ie=parseFloat(parseInt(l[d],Z||10).toPrecision(p)).toFixed(0);break}ie=typeof ie=="object"?JSON.stringify(ie):(+ie).toString(Z);let fe=parseInt(v),ge=v&&v[0]+""=="0"?"0":" ";for(;ie.length<fe;)ie=b!==void 0?ie+ge:ge+ie;return ie}let f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(f,x)}static getBytes(o,l){return oe.encode(o,l)}static getCharCode(o,l=0){return o.charCodeAt(l)}static getCharAt(o){return String.fromCharCode(o)}}Y.SHIFT_JIS=T.SJIS.getName(),Y.GB2312="GB2312",Y.ISO88591=T.ISO8859_1.getName(),Y.EUC_JP="EUC_JP",Y.UTF8=T.UTF8.getName(),Y.PLATFORM_DEFAULT_ENCODING=Y.UTF8,Y.ASSUME_SHIFT_JIS=!1;class le{constructor(o=""){this.value=o}enableDecoding(o){return this.encoding=o,this}append(o){return typeof o=="string"?this.value+=o.toString():this.encoding?this.value+=Y.castAsNonUtf8Char(o,this.encoding):this.value+=String.fromCharCode(o),this}appendChars(o,l,d){for(let x=l;l<l+d;x++)this.append(o[x]);return this}length(){return this.value.length}charAt(o){return this.value.charAt(o)}deleteCharAt(o){this.value=this.value.substr(0,o)+this.value.substring(o+1)}setCharAt(o,l){this.value=this.value.substr(0,o)+l+this.value.substr(o+1)}substring(o,l){return this.value.substring(o,l)}setLengthToZero(){this.value=""}toString(){return this.value}insert(o,l){this.value=this.value.substr(0,o)+l+this.value.substr(o+l.length)}}class ye{constructor(o,l,d,x){if(this.width=o,this.height=l,this.rowSize=d,this.bits=x,l==null&&(l=o),this.height=l,o<1||l<1)throw new y("Both dimensions must be greater than 0");d==null&&(d=Math.floor((o+31)/32)),this.rowSize=d,x==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(o){const l=o.length,d=o[0].length,x=new ye(d,l);for(let f=0;f<l;f++){const p=o[f];for(let b=0;b<d;b++)p[b]&&x.set(b,f)}return x}static parseFromString(o,l,d){if(o===null)throw new y("stringRepresentation cannot be null");const x=new Array(o.length);let f=0,p=0,b=-1,v=0,B=0;for(;B<o.length;)if(o.charAt(B)===`
`||o.charAt(B)==="\r"){if(f>p){if(b===-1)b=f-p;else if(f-p!==b)throw new y("row lengths do not match");p=f,v++}B++}else if(o.substring(B,B+l.length)===l)B+=l.length,x[f]=!0,f++;else if(o.substring(B,B+d.length)===d)B+=d.length,x[f]=!1,f++;else throw new y("illegal character encountered: "+o.substring(B));if(f>p){if(b===-1)b=f-p;else if(f-p!==b)throw new y("row lengths do not match");v++}const O=new ye(b,v);for(let G=0;G<f;G++)x[G]&&O.set(Math.floor(G%b),Math.floor(G/b));return O}get(o,l){const d=l*this.rowSize+Math.floor(o/32);return(this.bits[d]>>>(o&31)&1)!==0}set(o,l){const d=l*this.rowSize+Math.floor(o/32);this.bits[d]|=1<<(o&31)&4294967295}unset(o,l){const d=l*this.rowSize+Math.floor(o/32);this.bits[d]&=~(1<<(o&31)&4294967295)}flip(o,l){const d=l*this.rowSize+Math.floor(o/32);this.bits[d]^=1<<(o&31)&4294967295}xor(o){if(this.width!==o.getWidth()||this.height!==o.getHeight()||this.rowSize!==o.getRowSize())throw new y("input matrix dimensions do not match");const l=new S(Math.floor(this.width/32)+1),d=this.rowSize,x=this.bits;for(let f=0,p=this.height;f<p;f++){const b=f*d,v=o.getRow(f,l).getBitArray();for(let B=0;B<d;B++)x[b+B]^=v[B]}}clear(){const o=this.bits,l=o.length;for(let d=0;d<l;d++)o[d]=0}setRegion(o,l,d,x){if(l<0||o<0)throw new y("Left and top must be nonnegative");if(x<1||d<1)throw new y("Height and width must be at least 1");const f=o+d,p=l+x;if(p>this.height||f>this.width)throw new y("The region must fit inside the matrix");const b=this.rowSize,v=this.bits;for(let B=l;B<p;B++){const O=B*b;for(let G=o;G<f;G++)v[O+Math.floor(G/32)]|=1<<(G&31)&4294967295}}getRow(o,l){l==null||l.getSize()<this.width?l=new S(this.width):l.clear();const d=this.rowSize,x=this.bits,f=o*d;for(let p=0;p<d;p++)l.setBulk(p*32,x[f+p]);return l}setRow(o,l){k.arraycopy(l.getBitArray(),0,this.bits,o*this.rowSize,this.rowSize)}rotate180(){const o=this.getWidth(),l=this.getHeight();let d=new S(o),x=new S(o);for(let f=0,p=Math.floor((l+1)/2);f<p;f++)d=this.getRow(f,d),x=this.getRow(l-1-f,x),d.reverse(),x.reverse(),this.setRow(f,x),this.setRow(l-1-f,d)}getEnclosingRectangle(){const o=this.width,l=this.height,d=this.rowSize,x=this.bits;let f=o,p=l,b=-1,v=-1;for(let B=0;B<l;B++)for(let O=0;O<d;O++){const G=x[B*d+O];if(G!==0){if(B<p&&(p=B),B>v&&(v=B),O*32<f){let Z=0;for(;(G<<31-Z&4294967295)===0;)Z++;O*32+Z<f&&(f=O*32+Z)}if(O*32+31>b){let Z=31;for(;!(G>>>Z);)Z--;O*32+Z>b&&(b=O*32+Z)}}}return b<f||v<p?null:Int32Array.from([f,p,b-f+1,v-p+1])}getTopLeftOnBit(){const o=this.rowSize,l=this.bits;let d=0;for(;d<l.length&&l[d]===0;)d++;if(d===l.length)return null;const x=d/o;let f=d%o*32;const p=l[d];let b=0;for(;(p<<31-b&4294967295)===0;)b++;return f+=b,Int32Array.from([f,x])}getBottomRightOnBit(){const o=this.rowSize,l=this.bits;let d=l.length-1;for(;d>=0&&l[d]===0;)d--;if(d<0)return null;const x=Math.floor(d/o);let f=Math.floor(d%o)*32;const p=l[d];let b=31;for(;!(p>>>b);)b--;return f+=b,Int32Array.from([f,x])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(o){if(!(o instanceof ye))return!1;const l=o;return this.width===l.width&&this.height===l.height&&this.rowSize===l.rowSize&&$.equals(this.bits,l.bits)}hashCode(){let o=this.width;return o=31*o+this.width,o=31*o+this.height,o=31*o+this.rowSize,o=31*o+$.hashCode(this.bits),o}toString(o="X ",l="  ",d=`
`){return this.buildToString(o,l,d)}buildToString(o,l,d){let x=new le;for(let f=0,p=this.height;f<p;f++){for(let b=0,v=this.width;b<v;b++)x.append(this.get(b,f)?o:l);x.append(d)}return x.toString()}clone(){return new ye(this.width,this.height,this.rowSize,this.bits.slice())}}class re extends h{static getNotFoundInstance(){return new re}}re.kind="NotFoundException";class Ee extends A{constructor(o){super(o),this.luminances=Ee.EMPTY,this.buckets=new Int32Array(Ee.LUMINANCE_BUCKETS)}getBlackRow(o,l){const d=this.getLuminanceSource(),x=d.getWidth();l==null||l.getSize()<x?l=new S(x):l.clear(),this.initArrays(x);const f=d.getRow(o,this.luminances),p=this.buckets;for(let v=0;v<x;v++)p[(f[v]&255)>>Ee.LUMINANCE_SHIFT]++;const b=Ee.estimateBlackPoint(p);if(x<3)for(let v=0;v<x;v++)(f[v]&255)<b&&l.set(v);else{let v=f[0]&255,B=f[1]&255;for(let O=1;O<x-1;O++){const G=f[O+1]&255;(B*4-v-G)/2<b&&l.set(O),v=B,B=G}}return l}getBlackMatrix(){const o=this.getLuminanceSource(),l=o.getWidth(),d=o.getHeight(),x=new ye(l,d);this.initArrays(l);const f=this.buckets;for(let v=1;v<5;v++){const B=Math.floor(d*v/5),O=o.getRow(B,this.luminances),G=Math.floor(l*4/5);for(let Z=Math.floor(l/5);Z<G;Z++){const ie=O[Z]&255;f[ie>>Ee.LUMINANCE_SHIFT]++}}const p=Ee.estimateBlackPoint(f),b=o.getMatrix();for(let v=0;v<d;v++){const B=v*l;for(let O=0;O<l;O++)(b[B+O]&255)<p&&x.set(O,v)}return x}createBinarizer(o){return new Ee(o)}initArrays(o){this.luminances.length<o&&(this.luminances=new Uint8ClampedArray(o));const l=this.buckets;for(let d=0;d<Ee.LUMINANCE_BUCKETS;d++)l[d]=0}static estimateBlackPoint(o){const l=o.length;let d=0,x=0,f=0;for(let O=0;O<l;O++)o[O]>f&&(x=O,f=o[O]),o[O]>d&&(d=o[O]);let p=0,b=0;for(let O=0;O<l;O++){const G=O-x,Z=o[O]*G*G;Z>b&&(p=O,b=Z)}if(x>p){const O=x;x=p,p=O}if(p-x<=l/16)throw new re;let v=p-1,B=-1;for(let O=p-1;O>x;O--){const G=O-x,Z=G*G*(p-O)*(d-o[O]);Z>B&&(v=O,B=Z)}return v<<Ee.LUMINANCE_SHIFT}}Ee.LUMINANCE_BITS=5,Ee.LUMINANCE_SHIFT=8-Ee.LUMINANCE_BITS,Ee.LUMINANCE_BUCKETS=1<<Ee.LUMINANCE_BITS,Ee.EMPTY=Uint8ClampedArray.from([0]);class ve extends Ee{constructor(o){super(o),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const o=this.getLuminanceSource(),l=o.getWidth(),d=o.getHeight();if(l>=ve.MINIMUM_DIMENSION&&d>=ve.MINIMUM_DIMENSION){const x=o.getMatrix();let f=l>>ve.BLOCK_SIZE_POWER;(l&ve.BLOCK_SIZE_MASK)!==0&&f++;let p=d>>ve.BLOCK_SIZE_POWER;(d&ve.BLOCK_SIZE_MASK)!==0&&p++;const b=ve.calculateBlackPoints(x,f,p,l,d),v=new ye(l,d);ve.calculateThresholdForBlock(x,f,p,l,d,b,v),this.matrix=v}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(o){return new ve(o)}static calculateThresholdForBlock(o,l,d,x,f,p,b){const v=f-ve.BLOCK_SIZE,B=x-ve.BLOCK_SIZE;for(let O=0;O<d;O++){let G=O<<ve.BLOCK_SIZE_POWER;G>v&&(G=v);const Z=ve.cap(O,2,d-3);for(let ie=0;ie<l;ie++){let fe=ie<<ve.BLOCK_SIZE_POWER;fe>B&&(fe=B);const ge=ve.cap(ie,2,l-3);let Be=0;for(let ze=-2;ze<=2;ze++){const qe=p[Z+ze];Be+=qe[ge-2]+qe[ge-1]+qe[ge]+qe[ge+1]+qe[ge+2]}const Te=Be/25;ve.thresholdBlock(o,fe,G,Te,x,b)}}}static cap(o,l,d){return o<l?l:o>d?d:o}static thresholdBlock(o,l,d,x,f,p){for(let b=0,v=d*f+l;b<ve.BLOCK_SIZE;b++,v+=f)for(let B=0;B<ve.BLOCK_SIZE;B++)(o[v+B]&255)<=x&&p.set(l+B,d+b)}static calculateBlackPoints(o,l,d,x,f){const p=f-ve.BLOCK_SIZE,b=x-ve.BLOCK_SIZE,v=new Array(d);for(let B=0;B<d;B++){v[B]=new Int32Array(l);let O=B<<ve.BLOCK_SIZE_POWER;O>p&&(O=p);for(let G=0;G<l;G++){let Z=G<<ve.BLOCK_SIZE_POWER;Z>b&&(Z=b);let ie=0,fe=255,ge=0;for(let Te=0,ze=O*x+Z;Te<ve.BLOCK_SIZE;Te++,ze+=x){for(let qe=0;qe<ve.BLOCK_SIZE;qe++){const Ue=o[ze+qe]&255;ie+=Ue,Ue<fe&&(fe=Ue),Ue>ge&&(ge=Ue)}if(ge-fe>ve.MIN_DYNAMIC_RANGE)for(Te++,ze+=x;Te<ve.BLOCK_SIZE;Te++,ze+=x)for(let qe=0;qe<ve.BLOCK_SIZE;qe++)ie+=o[ze+qe]&255}let Be=ie>>ve.BLOCK_SIZE_POWER*2;if(ge-fe<=ve.MIN_DYNAMIC_RANGE&&(Be=fe/2,B>0&&G>0)){const Te=(v[B-1][G]+2*v[B][G-1]+v[B-1][G-1])/4;fe<Te&&(Be=Te)}v[B][G]=Be}}return v}}ve.BLOCK_SIZE_POWER=3,ve.BLOCK_SIZE=1<<ve.BLOCK_SIZE_POWER,ve.BLOCK_SIZE_MASK=ve.BLOCK_SIZE-1,ve.MINIMUM_DIMENSION=ve.BLOCK_SIZE*5,ve.MIN_DYNAMIC_RANGE=24;class Ce{constructor(o,l){this.width=o,this.height=l}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(o,l,d,x){throw new Q("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Q("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Q("This luminance source does not support rotation by 45 degrees.")}toString(){const o=new Uint8ClampedArray(this.width);let l=new le;for(let d=0;d<this.height;d++){const x=this.getRow(d,o);for(let f=0;f<this.width;f++){const p=x[f]&255;let b;p<64?b="#":p<128?b="+":p<192?b=".":b=" ",l.append(b)}l.append(`
`)}return l.toString()}}class he extends Ce{constructor(o){super(o.getWidth(),o.getHeight()),this.delegate=o}getRow(o,l){const d=this.delegate.getRow(o,l),x=this.getWidth();for(let f=0;f<x;f++)d[f]=255-(d[f]&255);return d}getMatrix(){const o=this.delegate.getMatrix(),l=this.getWidth()*this.getHeight(),d=new Uint8ClampedArray(l);for(let x=0;x<l;x++)d[x]=255-(o[x]&255);return d}isCropSupported(){return this.delegate.isCropSupported()}crop(o,l,d,x){return new he(this.delegate.crop(o,l,d,x))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new he(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new he(this.delegate.rotateCounterClockwise45())}}class ae extends Ce{constructor(o){super(o.width,o.height),this.canvas=o,this.tempCanvasElement=null,this.buffer=ae.makeBufferFromCanvasImageData(o)}static makeBufferFromCanvasImageData(o){const l=o.getContext("2d").getImageData(0,0,o.width,o.height);return ae.toGrayscaleBuffer(l.data,o.width,o.height)}static toGrayscaleBuffer(o,l,d){const x=new Uint8ClampedArray(l*d);for(let f=0,p=0,b=o.length;f<b;f+=4,p++){let v;if(o[f+3]===0)v=255;else{const O=o[f],G=o[f+1],Z=o[f+2];v=306*O+601*G+117*Z+512>>10}x[p]=v}return x}getRow(o,l){if(o<0||o>=this.getHeight())throw new y("Requested row is outside the image: "+o);const d=this.getWidth(),x=o*d;return l===null?l=this.buffer.slice(x,x+d):(l.length<d&&(l=new Uint8ClampedArray(d)),l.set(this.buffer.slice(x,x+d))),l}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(o,l,d,x){return super.crop(o,l,d,x),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const o=this.canvas.ownerDocument.createElement("canvas");o.width=this.canvas.width,o.height=this.canvas.height,this.tempCanvasElement=o}return this.tempCanvasElement}rotate(o){const l=this.getTempCanvasElement(),d=l.getContext("2d"),x=o*ae.DEGREE_TO_RADIANS,f=this.canvas.width,p=this.canvas.height,b=Math.ceil(Math.abs(Math.cos(x))*f+Math.abs(Math.sin(x))*p),v=Math.ceil(Math.abs(Math.sin(x))*f+Math.abs(Math.cos(x))*p);return l.width=b,l.height=v,d.translate(b/2,v/2),d.rotate(x),d.drawImage(this.canvas,f/-2,p/-2),this.buffer=ae.makeBufferFromCanvasImageData(l),this}invert(){return new he(this)}}ae.DEGREE_TO_RADIANS=Math.PI/180;class ee{constructor(o,l,d){this.deviceId=o,this.label=l,this.kind="videoinput",this.groupId=d||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ie=(globalThis||pi||self||window||void 0)&&(globalThis||pi||self||window||void 0).__awaiter||function(W,o,l,d){function x(f){return f instanceof l?f:new l(function(p){p(f)})}return new(l||(l=Promise))(function(f,p){function b(O){try{B(d.next(O))}catch(G){p(G)}}function v(O){try{B(d.throw(O))}catch(G){p(G)}}function B(O){O.done?f(O.value):x(O.value).then(b,v)}B((d=d.apply(W,o||[])).next())})};class $e{constructor(o,l=500,d){this.reader=o,this.timeBetweenScansMillis=l,this._hints=d,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(o){this._timeBetweenDecodingAttempts=o<0?0:o}set hints(o){this._hints=o||null}get hints(){return this._hints}listVideoInputDevices(){return Ie(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const o=yield navigator.mediaDevices.enumerateDevices(),l=[];for(const d of o){const x=d.kind==="video"?"videoinput":d.kind;if(x!=="videoinput")continue;const f=d.deviceId||d.id,p=d.label||`Video device ${l.length+1}`,b=d.groupId,v={deviceId:f,label:p,kind:x,groupId:b};l.push(v)}return l})}getVideoInputDevices(){return Ie(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(l=>new ee(l.deviceId,l.label))})}findDeviceById(o){return Ie(this,void 0,void 0,function*(){const l=yield this.listVideoInputDevices();return l?l.find(d=>d.deviceId===o):null})}decodeFromInputVideoDevice(o,l){return Ie(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(o,l)})}decodeOnceFromVideoDevice(o,l){return Ie(this,void 0,void 0,function*(){this.reset();let d;o?d={deviceId:{exact:o}}:d={facingMode:"environment"};const x={video:d};return yield this.decodeOnceFromConstraints(x,l)})}decodeOnceFromConstraints(o,l){return Ie(this,void 0,void 0,function*(){const d=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeOnceFromStream(d,l)})}decodeOnceFromStream(o,l){return Ie(this,void 0,void 0,function*(){this.reset();const d=yield this.attachStreamToVideo(o,l);return yield this.decodeOnce(d)})}decodeFromInputVideoDeviceContinuously(o,l,d){return Ie(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(o,l,d)})}decodeFromVideoDevice(o,l,d){return Ie(this,void 0,void 0,function*(){let x;o?x={deviceId:{exact:o}}:x={facingMode:"environment"};const f={video:x};return yield this.decodeFromConstraints(f,l,d)})}decodeFromConstraints(o,l,d){return Ie(this,void 0,void 0,function*(){const x=yield navigator.mediaDevices.getUserMedia(o);return yield this.decodeFromStream(x,l,d)})}decodeFromStream(o,l,d){return Ie(this,void 0,void 0,function*(){this.reset();const x=yield this.attachStreamToVideo(o,l);return yield this.decodeContinuously(x,d)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(o,l){return Ie(this,void 0,void 0,function*(){const d=this.prepareVideoElement(l);return this.addVideoSource(d,o),this.videoElement=d,this.stream=o,yield this.playVideoOnLoadAsync(d),d})}playVideoOnLoadAsync(o){return new Promise((l,d)=>this.playVideoOnLoad(o,()=>l()))}playVideoOnLoad(o,l){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(o),o.addEventListener("ended",this.videoEndedListener),o.addEventListener("canplay",this.videoCanPlayListener),o.addEventListener("playing",l),this.tryPlayVideo(o)}isVideoPlaying(o){return o.currentTime>0&&!o.paused&&!o.ended&&o.readyState>2}tryPlayVideo(o){return Ie(this,void 0,void 0,function*(){if(this.isVideoPlaying(o)){console.warn("Trying to play video that is already playing.");return}try{yield o.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(o,l){const d=document.getElementById(o);if(!d)throw new m(`element with id '${o}' not found`);if(d.nodeName.toLowerCase()!==l.toLowerCase())throw new m(`element with id '${o}' must be an ${l} element`);return d}decodeFromImage(o,l){if(!o&&!l)throw new m("either imageElement with a src set or an url must be provided");return l&&!o?this.decodeFromImageUrl(l):this.decodeFromImageElement(o)}decodeFromVideo(o,l){if(!o&&!l)throw new m("Either an element with a src set or an URL must be provided");return l&&!o?this.decodeFromVideoUrl(l):this.decodeFromVideoElement(o)}decodeFromVideoContinuously(o,l,d){if(o===void 0&&l===void 0)throw new m("Either an element with a src set or an URL must be provided");return l&&!o?this.decodeFromVideoUrlContinuously(l,d):this.decodeFromVideoElementContinuously(o,d)}decodeFromImageElement(o){if(!o)throw new m("An image element must be provided.");this.reset();const l=this.prepareImageElement(o);this.imageElement=l;let d;return this.isImageLoaded(l)?d=this.decodeOnce(l,!1,!0):d=this._decodeOnLoadImage(l),d}decodeFromVideoElement(o){const l=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideo(l)}decodeFromVideoElementContinuously(o,l){const d=this._decodeFromVideoElementSetup(o);return this._decodeOnLoadVideoContinuously(d,l)}_decodeFromVideoElementSetup(o){if(!o)throw new m("A video element must be provided.");this.reset();const l=this.prepareVideoElement(o);return this.videoElement=l,l}decodeFromImageUrl(o){if(!o)throw new m("An URL must be provided.");this.reset();const l=this.prepareImageElement();this.imageElement=l;const d=this._decodeOnLoadImage(l);return l.src=o,d}decodeFromVideoUrl(o){if(!o)throw new m("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),d=this.decodeFromVideoElement(l);return l.src=o,d}decodeFromVideoUrlContinuously(o,l){if(!o)throw new m("An URL must be provided.");this.reset();const d=this.prepareVideoElement(),x=this.decodeFromVideoElementContinuously(d,l);return d.src=o,x}_decodeOnLoadImage(o){return new Promise((l,d)=>{this.imageLoadedListener=()=>this.decodeOnce(o,!1,!0).then(l,d),o.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(o){return Ie(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(o),yield this.decodeOnce(o)})}_decodeOnLoadVideoContinuously(o,l){return Ie(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(o),this.decodeContinuously(o,l)})}isImageLoaded(o){return!(!o.complete||o.naturalWidth===0)}prepareImageElement(o){let l;return typeof o>"u"&&(l=document.createElement("img"),l.width=200,l.height=200),typeof o=="string"&&(l=this.getMediaElement(o,"img")),o instanceof HTMLImageElement&&(l=o),l}prepareVideoElement(o){let l;return!o&&typeof document<"u"&&(l=document.createElement("video"),l.width=200,l.height=200),typeof o=="string"&&(l=this.getMediaElement(o,"video")),o instanceof HTMLVideoElement&&(l=o),l.setAttribute("autoplay","true"),l.setAttribute("muted","true"),l.setAttribute("playsinline","true"),l}decodeOnce(o,l=!0,d=!0){this._stopAsyncDecode=!1;const x=(f,p)=>{if(this._stopAsyncDecode){p(new re("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const b=this.decode(o);f(b)}catch(b){const v=l&&b instanceof re,O=(b instanceof E||b instanceof L)&&d;if(v||O)return setTimeout(x,this._timeBetweenDecodingAttempts,f,p);p(b)}};return new Promise((f,p)=>x(f,p))}decodeContinuously(o,l){this._stopContinuousDecode=!1;const d=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const x=this.decode(o);l(x,null),setTimeout(d,this.timeBetweenScansMillis)}catch(x){l(null,x);const f=x instanceof E||x instanceof L,p=x instanceof re;(f||p)&&setTimeout(d,this._timeBetweenDecodingAttempts)}};d()}decode(o){const l=this.createBinaryBitmap(o);return this.decodeBitmap(l)}_isHTMLVideoElement(o){return o.videoWidth!==0}drawFrameOnCanvas(o,l,d){l||(l={sx:0,sy:0,sWidth:o.videoWidth,sHeight:o.videoHeight,dx:0,dy:0,dWidth:o.videoWidth,dHeight:o.videoHeight}),d||(d=this.captureCanvasContext),d.drawImage(o,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}drawImageOnCanvas(o,l,d=this.captureCanvasContext){l||(l={sx:0,sy:0,sWidth:o.naturalWidth,sHeight:o.naturalHeight,dx:0,dy:0,dWidth:o.naturalWidth,dHeight:o.naturalHeight}),d||(d=this.captureCanvasContext),d.drawImage(o,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}createBinaryBitmap(o){this.getCaptureCanvasContext(o),this._isHTMLVideoElement(o)?this.drawFrameOnCanvas(o):this.drawImageOnCanvas(o);const l=this.getCaptureCanvas(o),d=new ae(l),x=new ve(d);return new C(x)}getCaptureCanvasContext(o){if(!this.captureCanvasContext){const d=this.getCaptureCanvas(o).getContext("2d");this.captureCanvasContext=d}return this.captureCanvasContext}getCaptureCanvas(o){if(!this.captureCanvas){const l=this.createCaptureCanvas(o);this.captureCanvas=l}return this.captureCanvas}decodeBitmap(o){return this.reader.decode(o,this._hints)}createCaptureCanvas(o){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const l=document.createElement("canvas");let d,x;return typeof o<"u"&&(o instanceof HTMLVideoElement?(d=o.videoWidth,x=o.videoHeight):o instanceof HTMLImageElement&&(d=o.naturalWidth||o.width,x=o.naturalHeight||o.height)),l.style.width=d+"px",l.style.height=x+"px",l.width=d,l.height=x,l}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(o=>o.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(o,l){try{o.srcObject=l}catch{o.src=URL.createObjectURL(l)}}cleanVideoSource(o){try{o.srcObject=null}catch{o.src=""}this.videoElement.removeAttribute("src")}}class Ne{constructor(o,l,d=l==null?0:8*l.length,x,f,p=k.currentTimeMillis()){this.text=o,this.rawBytes=l,this.numBits=d,this.resultPoints=x,this.format=f,this.timestamp=p,this.text=o,this.rawBytes=l,d==null?this.numBits=l==null?0:8*l.length:this.numBits=d,this.resultPoints=x,this.format=f,this.resultMetadata=null,p==null?this.timestamp=k.currentTimeMillis():this.timestamp=p}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(o,l){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(o,l)}putAllMetadata(o){o!==null&&(this.resultMetadata===null?this.resultMetadata=o:this.resultMetadata=new Map(o))}addResultPoints(o){const l=this.resultPoints;if(l===null)this.resultPoints=o;else if(o!==null&&o.length>0){const d=new Array(l.length+o.length);k.arraycopy(l,0,d,0,l.length),k.arraycopy(o,0,d,l.length,o.length),this.resultPoints=d}}getTimestamp(){return this.timestamp}toString(){return this.text}}var tt;(function(W){W[W.AZTEC=0]="AZTEC",W[W.CODABAR=1]="CODABAR",W[W.CODE_39=2]="CODE_39",W[W.CODE_93=3]="CODE_93",W[W.CODE_128=4]="CODE_128",W[W.DATA_MATRIX=5]="DATA_MATRIX",W[W.EAN_8=6]="EAN_8",W[W.EAN_13=7]="EAN_13",W[W.ITF=8]="ITF",W[W.MAXICODE=9]="MAXICODE",W[W.PDF_417=10]="PDF_417",W[W.QR_CODE=11]="QR_CODE",W[W.RSS_14=12]="RSS_14",W[W.RSS_EXPANDED=13]="RSS_EXPANDED",W[W.UPC_A=14]="UPC_A",W[W.UPC_E=15]="UPC_E",W[W.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(tt||(tt={}));var Re=tt,et;(function(W){W[W.OTHER=0]="OTHER",W[W.ORIENTATION=1]="ORIENTATION",W[W.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",W[W.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",W[W.ISSUE_NUMBER=4]="ISSUE_NUMBER",W[W.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",W[W.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",W[W.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",W[W.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",W[W.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",W[W.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(et||(et={}));var Xe=et;class rt{constructor(o,l,d,x,f=-1,p=-1){this.rawBytes=o,this.text=l,this.byteSegments=d,this.ecLevel=x,this.structuredAppendSequenceNumber=f,this.structuredAppendParity=p,this.numBits=o==null?0:8*o.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(o){this.numBits=o}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(o){this.errorsCorrected=o}getErasures(){return this.erasures}setErasures(o){this.erasures=o}getOther(){return this.other}setOther(o){this.other=o}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Pe{exp(o){return this.expTable[o]}log(o){if(o===0)throw new y;return this.logTable[o]}static addOrSubtract(o,l){return o^l}}class te{constructor(o,l){if(l.length===0)throw new y;this.field=o;const d=l.length;if(d>1&&l[0]===0){let x=1;for(;x<d&&l[x]===0;)x++;x===d?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(d-x),k.arraycopy(l,x,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);const l=this.coefficients;let d;if(o===1){d=0;for(let p=0,b=l.length;p!==b;p++){const v=l[p];d=Pe.addOrSubtract(d,v)}return d}d=l[0];const x=l.length,f=this.field;for(let p=1;p<x;p++)d=Pe.addOrSubtract(f.multiply(o,d),l[p]);return d}addOrSubtract(o){if(!this.field.equals(o.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero())return o;if(o.isZero())return this;let l=this.coefficients,d=o.coefficients;if(l.length>d.length){const p=l;l=d,d=p}let x=new Int32Array(d.length);const f=d.length-l.length;k.arraycopy(d,0,x,0,f);for(let p=f;p<d.length;p++)x[p]=Pe.addOrSubtract(l[p-f],d[p]);return new te(this.field,x)}multiply(o){if(!this.field.equals(o.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero()||o.isZero())return this.field.getZero();const l=this.coefficients,d=l.length,x=o.coefficients,f=x.length,p=new Int32Array(d+f-1),b=this.field;for(let v=0;v<d;v++){const B=l[v];for(let O=0;O<f;O++)p[v+O]=Pe.addOrSubtract(p[v+O],b.multiply(B,x[O]))}return new te(b,p)}multiplyScalar(o){if(o===0)return this.field.getZero();if(o===1)return this;const l=this.coefficients.length,d=this.field,x=new Int32Array(l),f=this.coefficients;for(let p=0;p<l;p++)x[p]=d.multiply(f[p],o);return new te(d,x)}multiplyByMonomial(o,l){if(o<0)throw new y;if(l===0)return this.field.getZero();const d=this.coefficients,x=d.length,f=new Int32Array(x+o),p=this.field;for(let b=0;b<x;b++)f[b]=p.multiply(d[b],l);return new te(p,f)}divide(o){if(!this.field.equals(o.field))throw new y("GenericGFPolys do not have same GenericGF field");if(o.isZero())throw new y("Divide by 0");const l=this.field;let d=l.getZero(),x=this;const f=o.getCoefficient(o.getDegree()),p=l.inverse(f);for(;x.getDegree()>=o.getDegree()&&!x.isZero();){const b=x.getDegree()-o.getDegree(),v=l.multiply(x.getCoefficient(x.getDegree()),p),B=o.multiplyByMonomial(b,v),O=l.buildMonomial(b,v);d=d.addOrSubtract(O),x=x.addOrSubtract(B)}return[d,x]}toString(){let o="";for(let l=this.getDegree();l>=0;l--){let d=this.getCoefficient(l);if(d!==0){if(d<0?(o+=" - ",d=-d):o.length>0&&(o+=" + "),l===0||d!==1){const x=this.field.log(d);x===0?o+="1":x===1?o+="a":(o+="a^",o+=x)}l!==0&&(l===1?o+="x":(o+="x^",o+=l))}}return o}}class _e extends h{}_e.kind="ArithmeticException";class J extends Pe{constructor(o,l,d){super(),this.primitive=o,this.size=l,this.generatorBase=d;const x=new Int32Array(l);let f=1;for(let b=0;b<l;b++)x[b]=f,f*=2,f>=l&&(f^=o,f&=l-1);this.expTable=x;const p=new Int32Array(l);for(let b=0;b<l-1;b++)p[x[b]]=b;this.logTable=p,this.zero=new te(this,Int32Array.from([0])),this.one=new te(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,l){if(o<0)throw new y;if(l===0)return this.zero;const d=new Int32Array(o+1);return d[0]=l,new te(this,d)}inverse(o){if(o===0)throw new _e;return this.expTable[this.size-this.logTable[o]-1]}multiply(o,l){return o===0||l===0?0:this.expTable[(this.logTable[o]+this.logTable[l])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+P.toHexString(this.primitive)+","+this.size+")"}equals(o){return o===this}}J.AZTEC_DATA_12=new J(4201,4096,1),J.AZTEC_DATA_10=new J(1033,1024,1),J.AZTEC_DATA_6=new J(67,64,1),J.AZTEC_PARAM=new J(19,16,1),J.QR_CODE_FIELD_256=new J(285,256,0),J.DATA_MATRIX_FIELD_256=new J(301,256,1),J.AZTEC_DATA_8=J.DATA_MATRIX_FIELD_256,J.MAXICODE_FIELD_64=J.AZTEC_DATA_6;class z extends h{}z.kind="ReedSolomonException";class F extends h{}F.kind="IllegalStateException";class X{constructor(o){this.field=o}decode(o,l){const d=this.field,x=new te(d,o),f=new Int32Array(l);let p=!0;for(let ie=0;ie<l;ie++){const fe=x.evaluateAt(d.exp(ie+d.getGeneratorBase()));f[f.length-1-ie]=fe,fe!==0&&(p=!1)}if(p)return;const b=new te(d,f),v=this.runEuclideanAlgorithm(d.buildMonomial(l,1),b,l),B=v[0],O=v[1],G=this.findErrorLocations(B),Z=this.findErrorMagnitudes(O,G);for(let ie=0;ie<G.length;ie++){const fe=o.length-1-d.log(G[ie]);if(fe<0)throw new z("Bad error location");o[fe]=J.addOrSubtract(o[fe],Z[ie])}}runEuclideanAlgorithm(o,l,d){if(o.getDegree()<l.getDegree()){const ie=o;o=l,l=ie}const x=this.field;let f=o,p=l,b=x.getZero(),v=x.getOne();for(;p.getDegree()>=(d/2|0);){let ie=f,fe=b;if(f=p,b=v,f.isZero())throw new z("r_{i-1} was zero");p=ie;let ge=x.getZero();const Be=f.getCoefficient(f.getDegree()),Te=x.inverse(Be);for(;p.getDegree()>=f.getDegree()&&!p.isZero();){const ze=p.getDegree()-f.getDegree(),qe=x.multiply(p.getCoefficient(p.getDegree()),Te);ge=ge.addOrSubtract(x.buildMonomial(ze,qe)),p=p.addOrSubtract(f.multiplyByMonomial(ze,qe))}if(v=ge.multiply(b).addOrSubtract(fe),p.getDegree()>=f.getDegree())throw new F("Division algorithm failed to reduce polynomial?")}const B=v.getCoefficient(0);if(B===0)throw new z("sigmaTilde(0) was zero");const O=x.inverse(B),G=v.multiplyScalar(O),Z=p.multiplyScalar(O);return[G,Z]}findErrorLocations(o){const l=o.getDegree();if(l===1)return Int32Array.from([o.getCoefficient(1)]);const d=new Int32Array(l);let x=0;const f=this.field;for(let p=1;p<f.getSize()&&x<l;p++)o.evaluateAt(p)===0&&(d[x]=f.inverse(p),x++);if(x!==l)throw new z("Error locator degree does not match number of roots");return d}findErrorMagnitudes(o,l){const d=l.length,x=new Int32Array(d),f=this.field;for(let p=0;p<d;p++){const b=f.inverse(l[p]);let v=1;for(let B=0;B<d;B++)if(p!==B){const O=f.multiply(l[B],b),G=(O&1)===0?O|1:O&-2;v=f.multiply(v,G)}x[p]=f.multiply(o.evaluateAt(b),f.inverse(v)),f.getGeneratorBase()!==0&&(x[p]=f.multiply(x[p],b))}return x}}var ce;(function(W){W[W.UPPER=0]="UPPER",W[W.LOWER=1]="LOWER",W[W.MIXED=2]="MIXED",W[W.DIGIT=3]="DIGIT",W[W.PUNCT=4]="PUNCT",W[W.BINARY=5]="BINARY"})(ce||(ce={}));class se{decode(o){this.ddata=o;let l=o.getBits(),d=this.extractBits(l),x=this.correctBits(d),f=se.convertBoolArrayToByteArray(x),p=se.getEncodedData(x),b=new rt(f,p,null,null);return b.setNumBits(x.length),b}static highLevelDecode(o){return this.getEncodedData(o)}static getEncodedData(o){let l=o.length,d=ce.UPPER,x=ce.UPPER,f="",p=0;for(;p<l;)if(x===ce.BINARY){if(l-p<5)break;let b=se.readCode(o,p,5);if(p+=5,b===0){if(l-p<11)break;b=se.readCode(o,p,11)+31,p+=11}for(let v=0;v<b;v++){if(l-p<8){p=l;break}const B=se.readCode(o,p,8);f+=Y.castAsNonUtf8Char(B),p+=8}x=d}else{let b=x===ce.DIGIT?4:5;if(l-p<b)break;let v=se.readCode(o,p,b);p+=b;let B=se.getCharacter(x,v);B.startsWith("CTRL_")?(d=x,x=se.getTable(B.charAt(5)),B.charAt(6)==="L"&&(d=x)):(f+=B,x=d)}return f}static getTable(o){switch(o){case"L":return ce.LOWER;case"P":return ce.PUNCT;case"M":return ce.MIXED;case"D":return ce.DIGIT;case"B":return ce.BINARY;case"U":default:return ce.UPPER}}static getCharacter(o,l){switch(o){case ce.UPPER:return se.UPPER_TABLE[l];case ce.LOWER:return se.LOWER_TABLE[l];case ce.MIXED:return se.MIXED_TABLE[l];case ce.PUNCT:return se.PUNCT_TABLE[l];case ce.DIGIT:return se.DIGIT_TABLE[l];default:throw new F("Bad table")}}correctBits(o){let l,d;this.ddata.getNbLayers()<=2?(d=6,l=J.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(d=8,l=J.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(d=10,l=J.AZTEC_DATA_10):(d=12,l=J.AZTEC_DATA_12);let x=this.ddata.getNbDatablocks(),f=o.length/d;if(f<x)throw new L;let p=o.length%d,b=new Int32Array(f);for(let Z=0;Z<f;Z++,p+=d)b[Z]=se.readCode(o,p,d);try{new X(l).decode(b,f-x)}catch(Z){throw new L(Z)}let v=(1<<d)-1,B=0;for(let Z=0;Z<x;Z++){let ie=b[Z];if(ie===0||ie===v)throw new L;(ie===1||ie===v-1)&&B++}let O=new Array(x*d-B),G=0;for(let Z=0;Z<x;Z++){let ie=b[Z];if(ie===1||ie===v-1)O.fill(ie>1,G,G+d-1),G+=d-1;else for(let fe=d-1;fe>=0;--fe)O[G++]=(ie&1<<fe)!==0}return O}extractBits(o){let l=this.ddata.isCompact(),d=this.ddata.getNbLayers(),x=(l?11:14)+d*4,f=new Int32Array(x),p=new Array(this.totalBitsInLayer(d,l));if(l)for(let b=0;b<f.length;b++)f[b]=b;else{let b=x+1+2*P.truncDivision(P.truncDivision(x,2)-1,15),v=x/2,B=P.truncDivision(b,2);for(let O=0;O<v;O++){let G=O+P.truncDivision(O,15);f[v-O-1]=B-G-1,f[v+O]=B+G+1}}for(let b=0,v=0;b<d;b++){let B=(d-b)*4+(l?9:12),O=b*2,G=x-1-O;for(let Z=0;Z<B;Z++){let ie=Z*2;for(let fe=0;fe<2;fe++)p[v+ie+fe]=o.get(f[O+fe],f[O+Z]),p[v+2*B+ie+fe]=o.get(f[O+Z],f[G-fe]),p[v+4*B+ie+fe]=o.get(f[G-fe],f[G-Z]),p[v+6*B+ie+fe]=o.get(f[G-Z],f[O+fe])}v+=B*8}return p}static readCode(o,l,d){let x=0;for(let f=l;f<l+d;f++)x<<=1,o[f]&&(x|=1);return x}static readByte(o,l){let d=o.length-l;return d>=8?se.readCode(o,l,8):se.readCode(o,l,d)<<8-d}static convertBoolArrayToByteArray(o){let l=new Uint8Array((o.length+7)/8);for(let d=0;d<l.length;d++)l[d]=se.readByte(o,8*d);return l}totalBitsInLayer(o,l){return((l?88:112)+16*o)*o}}se.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],se.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],se.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],se.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],se.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class we{constructor(){}static round(o){return o===NaN?0:o<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:o>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:o+(o<0?-.5:.5)|0}static distance(o,l,d,x){const f=o-d,p=l-x;return Math.sqrt(f*f+p*p)}static sum(o){let l=0;for(let d=0,x=o.length;d!==x;d++){const f=o[d];l+=f}return l}}class N{static floatToIntBits(o){return o}}N.MAX_VALUE=Number.MAX_SAFE_INTEGER;class w{constructor(o,l){this.x=o,this.y=l}getX(){return this.x}getY(){return this.y}equals(o){if(o instanceof w){const l=o;return this.x===l.x&&this.y===l.y}return!1}hashCode(){return 31*N.floatToIntBits(this.x)+N.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(o){const l=this.distance(o[0],o[1]),d=this.distance(o[1],o[2]),x=this.distance(o[0],o[2]);let f,p,b;if(d>=l&&d>=x?(p=o[0],f=o[1],b=o[2]):x>=d&&x>=l?(p=o[1],f=o[0],b=o[2]):(p=o[2],f=o[0],b=o[1]),this.crossProductZ(f,p,b)<0){const v=f;f=b,b=v}o[0]=f,o[1]=p,o[2]=b}static distance(o,l){return we.distance(o.x,o.y,l.x,l.y)}static crossProductZ(o,l,d){const x=l.x,f=l.y;return(d.x-x)*(o.y-f)-(d.y-f)*(o.x-x)}}class _{constructor(o,l){this.bits=o,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class H extends _{constructor(o,l,d,x,f){super(o,l),this.compact=d,this.nbDatablocks=x,this.nbLayers=f}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class K{constructor(o,l,d,x){this.image=o,this.height=o.getHeight(),this.width=o.getWidth(),l==null&&(l=K.INIT_SIZE),d==null&&(d=o.getWidth()/2|0),x==null&&(x=o.getHeight()/2|0);const f=l/2|0;if(this.leftInit=d-f,this.rightInit=d+f,this.upInit=x-f,this.downInit=x+f,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new re}detect(){let o=this.leftInit,l=this.rightInit,d=this.upInit,x=this.downInit,f=!1,p=!0,b=!1,v=!1,B=!1,O=!1,G=!1;const Z=this.width,ie=this.height;for(;p;){p=!1;let fe=!0;for(;(fe||!v)&&l<Z;)fe=this.containsBlackPoint(d,x,l,!1),fe?(l++,p=!0,v=!0):v||l++;if(l>=Z){f=!0;break}let ge=!0;for(;(ge||!B)&&x<ie;)ge=this.containsBlackPoint(o,l,x,!0),ge?(x++,p=!0,B=!0):B||x++;if(x>=ie){f=!0;break}let Be=!0;for(;(Be||!O)&&o>=0;)Be=this.containsBlackPoint(d,x,o,!1),Be?(o--,p=!0,O=!0):O||o--;if(o<0){f=!0;break}let Te=!0;for(;(Te||!G)&&d>=0;)Te=this.containsBlackPoint(o,l,d,!0),Te?(d--,p=!0,G=!0):G||d--;if(d<0){f=!0;break}p&&(b=!0)}if(!f&&b){const fe=l-o;let ge=null;for(let qe=1;ge===null&&qe<fe;qe++)ge=this.getBlackPointOnSegment(o,x-qe,o+qe,x);if(ge==null)throw new re;let Be=null;for(let qe=1;Be===null&&qe<fe;qe++)Be=this.getBlackPointOnSegment(o,d+qe,o+qe,d);if(Be==null)throw new re;let Te=null;for(let qe=1;Te===null&&qe<fe;qe++)Te=this.getBlackPointOnSegment(l,d+qe,l-qe,d);if(Te==null)throw new re;let ze=null;for(let qe=1;ze===null&&qe<fe;qe++)ze=this.getBlackPointOnSegment(l,x-qe,l-qe,x);if(ze==null)throw new re;return this.centerEdges(ze,ge,Te,Be)}else throw new re}getBlackPointOnSegment(o,l,d,x){const f=we.round(we.distance(o,l,d,x)),p=(d-o)/f,b=(x-l)/f,v=this.image;for(let B=0;B<f;B++){const O=we.round(o+B*p),G=we.round(l+B*b);if(v.get(O,G))return new w(O,G)}return null}centerEdges(o,l,d,x){const f=o.getX(),p=o.getY(),b=l.getX(),v=l.getY(),B=d.getX(),O=d.getY(),G=x.getX(),Z=x.getY(),ie=K.CORR;return f<this.width/2?[new w(G-ie,Z+ie),new w(b+ie,v+ie),new w(B-ie,O-ie),new w(f+ie,p-ie)]:[new w(G+ie,Z+ie),new w(b+ie,v-ie),new w(B-ie,O+ie),new w(f-ie,p-ie)]}containsBlackPoint(o,l,d,x){const f=this.image;if(x){for(let p=o;p<=l;p++)if(f.get(p,d))return!0}else for(let p=o;p<=l;p++)if(f.get(d,p))return!0;return!1}}K.INIT_SIZE=10,K.CORR=1;class de{static checkAndNudgePoints(o,l){const d=o.getWidth(),x=o.getHeight();let f=!0;for(let p=0;p<l.length&&f;p+=2){const b=Math.floor(l[p]),v=Math.floor(l[p+1]);if(b<-1||b>d||v<-1||v>x)throw new re;f=!1,b===-1?(l[p]=0,f=!0):b===d&&(l[p]=d-1,f=!0),v===-1?(l[p+1]=0,f=!0):v===x&&(l[p+1]=x-1,f=!0)}f=!0;for(let p=l.length-2;p>=0&&f;p-=2){const b=Math.floor(l[p]),v=Math.floor(l[p+1]);if(b<-1||b>d||v<-1||v>x)throw new re;f=!1,b===-1?(l[p]=0,f=!0):b===d&&(l[p]=d-1,f=!0),v===-1?(l[p+1]=0,f=!0):v===x&&(l[p+1]=x-1,f=!0)}}}class ue{constructor(o,l,d,x,f,p,b,v,B){this.a11=o,this.a21=l,this.a31=d,this.a12=x,this.a22=f,this.a32=p,this.a13=b,this.a23=v,this.a33=B}static quadrilateralToQuadrilateral(o,l,d,x,f,p,b,v,B,O,G,Z,ie,fe,ge,Be){const Te=ue.quadrilateralToSquare(o,l,d,x,f,p,b,v);return ue.squareToQuadrilateral(B,O,G,Z,ie,fe,ge,Be).times(Te)}transformPoints(o){const l=o.length,d=this.a11,x=this.a12,f=this.a13,p=this.a21,b=this.a22,v=this.a23,B=this.a31,O=this.a32,G=this.a33;for(let Z=0;Z<l;Z+=2){const ie=o[Z],fe=o[Z+1],ge=f*ie+v*fe+G;o[Z]=(d*ie+p*fe+B)/ge,o[Z+1]=(x*ie+b*fe+O)/ge}}transformPointsWithValues(o,l){const d=this.a11,x=this.a12,f=this.a13,p=this.a21,b=this.a22,v=this.a23,B=this.a31,O=this.a32,G=this.a33,Z=o.length;for(let ie=0;ie<Z;ie++){const fe=o[ie],ge=l[ie],Be=f*fe+v*ge+G;o[ie]=(d*fe+p*ge+B)/Be,l[ie]=(x*fe+b*ge+O)/Be}}static squareToQuadrilateral(o,l,d,x,f,p,b,v){const B=o-d+f-b,O=l-x+p-v;if(B===0&&O===0)return new ue(d-o,f-d,o,x-l,p-x,l,0,0,1);{const G=d-f,Z=b-f,ie=x-p,fe=v-p,ge=G*fe-Z*ie,Be=(B*fe-Z*O)/ge,Te=(G*O-B*ie)/ge;return new ue(d-o+Be*d,b-o+Te*b,o,x-l+Be*x,v-l+Te*v,l,Be,Te,1)}}static quadrilateralToSquare(o,l,d,x,f,p,b,v){return ue.squareToQuadrilateral(o,l,d,x,f,p,b,v).buildAdjoint()}buildAdjoint(){return new ue(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(o){return new ue(this.a11*o.a11+this.a21*o.a12+this.a31*o.a13,this.a11*o.a21+this.a21*o.a22+this.a31*o.a23,this.a11*o.a31+this.a21*o.a32+this.a31*o.a33,this.a12*o.a11+this.a22*o.a12+this.a32*o.a13,this.a12*o.a21+this.a22*o.a22+this.a32*o.a23,this.a12*o.a31+this.a22*o.a32+this.a32*o.a33,this.a13*o.a11+this.a23*o.a12+this.a33*o.a13,this.a13*o.a21+this.a23*o.a22+this.a33*o.a23,this.a13*o.a31+this.a23*o.a32+this.a33*o.a33)}}class ke extends de{sampleGrid(o,l,d,x,f,p,b,v,B,O,G,Z,ie,fe,ge,Be,Te,ze,qe){const Ue=ue.quadrilateralToQuadrilateral(x,f,p,b,v,B,O,G,Z,ie,fe,ge,Be,Te,ze,qe);return this.sampleGridWithTransform(o,l,d,Ue)}sampleGridWithTransform(o,l,d,x){if(l<=0||d<=0)throw new re;const f=new ye(l,d),p=new Float32Array(2*l);for(let b=0;b<d;b++){const v=p.length,B=b+.5;for(let O=0;O<v;O+=2)p[O]=O/2+.5,p[O+1]=B;x.transformPoints(p),de.checkAndNudgePoints(o,p);try{for(let O=0;O<v;O+=2)o.get(Math.floor(p[O]),Math.floor(p[O+1]))&&f.set(O/2,b)}catch{throw new re}}return f}}class Ye{static setGridSampler(o){Ye.gridSampler=o}static getInstance(){return Ye.gridSampler}}Ye.gridSampler=new ke;class Qe{constructor(o,l){this.x=o,this.y=l}toResultPoint(){return new w(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ht{constructor(o){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=o}detect(){return this.detectMirror(!1)}detectMirror(o){let l=this.getMatrixCenter(),d=this.getBullsEyeCorners(l);if(o){let p=d[0];d[0]=d[2],d[2]=p}this.extractParameters(d);let x=this.sampleGrid(this.image,d[this.shift%4],d[(this.shift+1)%4],d[(this.shift+2)%4],d[(this.shift+3)%4]),f=this.getMatrixCornerPoints(d);return new H(x,f,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(o){if(!this.isValidPoint(o[0])||!this.isValidPoint(o[1])||!this.isValidPoint(o[2])||!this.isValidPoint(o[3]))throw new re;let l=2*this.nbCenterLayers,d=new Int32Array([this.sampleLine(o[0],o[1],l),this.sampleLine(o[1],o[2],l),this.sampleLine(o[2],o[3],l),this.sampleLine(o[3],o[0],l)]);this.shift=this.getRotation(d,l);let x=0;for(let p=0;p<4;p++){let b=d[(this.shift+p)%4];this.compact?(x<<=7,x+=b>>1&127):(x<<=10,x+=(b>>2&992)+(b>>1&31))}let f=this.getCorrectedParameterData(x,this.compact);this.compact?(this.nbLayers=(f>>6)+1,this.nbDataBlocks=(f&63)+1):(this.nbLayers=(f>>11)+1,this.nbDataBlocks=(f&2047)+1)}getRotation(o,l){let d=0;o.forEach((x,f,p)=>{let b=(x>>l-2<<1)+(x&1);d=(d<<3)+b}),d=((d&1)<<11)+(d>>1);for(let x=0;x<4;x++)if(P.bitCount(d^this.EXPECTED_CORNER_BITS[x])<=2)return x;throw new re}getCorrectedParameterData(o,l){let d,x;l?(d=7,x=2):(d=10,x=4);let f=d-x,p=new Int32Array(d);for(let v=d-1;v>=0;--v)p[v]=o&15,o>>=4;try{new X(J.AZTEC_PARAM).decode(p,f)}catch{throw new re}let b=0;for(let v=0;v<x;v++)b=(b<<4)+p[v];return b}getBullsEyeCorners(o){let l=o,d=o,x=o,f=o,p=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let G=this.getFirstDifferent(l,p,1,-1),Z=this.getFirstDifferent(d,p,1,1),ie=this.getFirstDifferent(x,p,-1,1),fe=this.getFirstDifferent(f,p,-1,-1);if(this.nbCenterLayers>2){let ge=this.distancePoint(fe,G)*this.nbCenterLayers/(this.distancePoint(f,l)*(this.nbCenterLayers+2));if(ge<.75||ge>1.25||!this.isWhiteOrBlackRectangle(G,Z,ie,fe))break}l=G,d=Z,x=ie,f=fe,p=!p}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new re;this.compact=this.nbCenterLayers===5;let b=new w(l.getX()+.5,l.getY()-.5),v=new w(d.getX()+.5,d.getY()+.5),B=new w(x.getX()-.5,x.getY()+.5),O=new w(f.getX()-.5,f.getY()-.5);return this.expandSquare([b,v,B,O],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let o,l,d,x;try{let b=new K(this.image).detect();o=b[0],l=b[1],d=b[2],x=b[3]}catch{let v=this.image.getWidth()/2,B=this.image.getHeight()/2;o=this.getFirstDifferent(new Qe(v+7,B-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new Qe(v+7,B+7),!1,1,1).toResultPoint(),d=this.getFirstDifferent(new Qe(v-7,B+7),!1,-1,1).toResultPoint(),x=this.getFirstDifferent(new Qe(v-7,B-7),!1,-1,-1).toResultPoint()}let f=we.round((o.getX()+x.getX()+l.getX()+d.getX())/4),p=we.round((o.getY()+x.getY()+l.getY()+d.getY())/4);try{let b=new K(this.image,15,f,p).detect();o=b[0],l=b[1],d=b[2],x=b[3]}catch{o=this.getFirstDifferent(new Qe(f+7,p-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new Qe(f+7,p+7),!1,1,1).toResultPoint(),d=this.getFirstDifferent(new Qe(f-7,p+7),!1,-1,1).toResultPoint(),x=this.getFirstDifferent(new Qe(f-7,p-7),!1,-1,-1).toResultPoint()}return f=we.round((o.getX()+x.getX()+l.getX()+d.getX())/4),p=we.round((o.getY()+x.getY()+l.getY()+d.getY())/4),new Qe(f,p)}getMatrixCornerPoints(o){return this.expandSquare(o,2*this.nbCenterLayers,this.getDimension())}sampleGrid(o,l,d,x,f){let p=Ye.getInstance(),b=this.getDimension(),v=b/2-this.nbCenterLayers,B=b/2+this.nbCenterLayers;return p.sampleGrid(o,b,b,v,v,B,v,B,B,v,B,l.getX(),l.getY(),d.getX(),d.getY(),x.getX(),x.getY(),f.getX(),f.getY())}sampleLine(o,l,d){let x=0,f=this.distanceResultPoint(o,l),p=f/d,b=o.getX(),v=o.getY(),B=p*(l.getX()-o.getX())/f,O=p*(l.getY()-o.getY())/f;for(let G=0;G<d;G++)this.image.get(we.round(b+G*B),we.round(v+G*O))&&(x|=1<<d-G-1);return x}isWhiteOrBlackRectangle(o,l,d,x){let f=3;o=new Qe(o.getX()-f,o.getY()+f),l=new Qe(l.getX()-f,l.getY()-f),d=new Qe(d.getX()+f,d.getY()-f),x=new Qe(x.getX()+f,x.getY()+f);let p=this.getColor(x,o);if(p===0)return!1;let b=this.getColor(o,l);return b!==p||(b=this.getColor(l,d),b!==p)?!1:(b=this.getColor(d,x),b===p)}getColor(o,l){let d=this.distancePoint(o,l),x=(l.getX()-o.getX())/d,f=(l.getY()-o.getY())/d,p=0,b=o.getX(),v=o.getY(),B=this.image.get(o.getX(),o.getY()),O=Math.ceil(d);for(let Z=0;Z<O;Z++)b+=x,v+=f,this.image.get(we.round(b),we.round(v))!==B&&p++;let G=p/d;return G>.1&&G<.9?0:G<=.1===B?1:-1}getFirstDifferent(o,l,d,x){let f=o.getX()+d,p=o.getY()+x;for(;this.isValid(f,p)&&this.image.get(f,p)===l;)f+=d,p+=x;for(f-=d,p-=x;this.isValid(f,p)&&this.image.get(f,p)===l;)f+=d;for(f-=d;this.isValid(f,p)&&this.image.get(f,p)===l;)p+=x;return p-=x,new Qe(f,p)}expandSquare(o,l,d){let x=d/(2*l),f=o[0].getX()-o[2].getX(),p=o[0].getY()-o[2].getY(),b=(o[0].getX()+o[2].getX())/2,v=(o[0].getY()+o[2].getY())/2,B=new w(b+x*f,v+x*p),O=new w(b-x*f,v-x*p);f=o[1].getX()-o[3].getX(),p=o[1].getY()-o[3].getY(),b=(o[1].getX()+o[3].getX())/2,v=(o[1].getY()+o[3].getY())/2;let G=new w(b+x*f,v+x*p),Z=new w(b-x*f,v-x*p);return[B,G,O,Z]}isValid(o,l){return o>=0&&o<this.image.getWidth()&&l>0&&l<this.image.getHeight()}isValidPoint(o){let l=we.round(o.getX()),d=we.round(o.getY());return this.isValid(l,d)}distancePoint(o,l){return we.distance(o.getX(),o.getY(),l.getX(),l.getY())}distanceResultPoint(o,l){return we.distance(o.getX(),o.getY(),l.getX(),l.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(P.truncDivision(this.nbLayers-4,8)+1)+15}}class ut{decode(o,l=null){let d=null,x=new ht(o.getBlackMatrix()),f=null,p=null;try{let O=x.detectMirror(!1);f=O.getPoints(),this.reportFoundResultPoints(l,f),p=new se().decode(O)}catch(O){d=O}if(p==null)try{let O=x.detectMirror(!0);f=O.getPoints(),this.reportFoundResultPoints(l,f),p=new se().decode(O)}catch(O){throw d??O}let b=new Ne(p.getText(),p.getRawBytes(),p.getNumBits(),f,Re.AZTEC,k.currentTimeMillis()),v=p.getByteSegments();v!=null&&b.putMetadata(Xe.BYTE_SEGMENTS,v);let B=p.getECLevel();return B!=null&&b.putMetadata(Xe.ERROR_CORRECTION_LEVEL,B),b}reportFoundResultPoints(o,l){if(o!=null){let d=o.get(j.NEED_RESULT_POINT_CALLBACK);d!=null&&l.forEach((x,f,p)=>{d.foundPossibleResultPoint(x)})}}reset(){}}class gt extends $e{constructor(o=500){super(new ut,o)}}class xt{decode(o,l){try{return this.doDecode(o,l)}catch{if(l&&l.get(j.TRY_HARDER)===!0&&o.isRotateSupported()){const f=o.rotateCounterClockwise(),p=this.doDecode(f,l),b=p.getResultMetadata();let v=270;b!==null&&b.get(Xe.ORIENTATION)===!0&&(v=v+b.get(Xe.ORIENTATION)%360),p.putMetadata(Xe.ORIENTATION,v);const B=p.getResultPoints();if(B!==null){const O=f.getHeight();for(let G=0;G<B.length;G++)B[G]=new w(O-B[G].getY()-1,B[G].getX())}return p}else throw new re}}reset(){}doDecode(o,l){const d=o.getWidth(),x=o.getHeight();let f=new S(d);const p=l&&l.get(j.TRY_HARDER)===!0,b=Math.max(1,x>>(p?8:5));let v;p?v=x:v=15;const B=Math.trunc(x/2);for(let O=0;O<v;O++){const G=Math.trunc((O+1)/2),Z=(O&1)===0,ie=B+b*(Z?G:-G);if(ie<0||ie>=x)break;try{f=o.getBlackRow(ie,f)}catch{continue}for(let fe=0;fe<2;fe++){if(fe===1&&(f.reverse(),l&&l.get(j.NEED_RESULT_POINT_CALLBACK)===!0)){const ge=new Map;l.forEach((Be,Te)=>ge.set(Te,Be)),ge.delete(j.NEED_RESULT_POINT_CALLBACK),l=ge}try{const ge=this.decodeRow(ie,f,l);if(fe===1){ge.putMetadata(Xe.ORIENTATION,180);const Be=ge.getResultPoints();Be!==null&&(Be[0]=new w(d-Be[0].getX()-1,Be[0].getY()),Be[1]=new w(d-Be[1].getX()-1,Be[1].getY()))}return ge}catch{}}}throw new re}static recordPattern(o,l,d){const x=d.length;for(let B=0;B<x;B++)d[B]=0;const f=o.getSize();if(l>=f)throw new re;let p=!o.get(l),b=0,v=l;for(;v<f;){if(o.get(v)!==p)d[b]++;else{if(++b===x)break;d[b]=1,p=!p}v++}if(!(b===x||b===x-1&&v===f))throw new re}static recordPatternInReverse(o,l,d){let x=d.length,f=o.get(l);for(;l>0&&x>=0;)o.get(--l)!==f&&(x--,f=!f);if(x>=0)throw new re;xt.recordPattern(o,l+1,d)}static patternMatchVariance(o,l,d){const x=o.length;let f=0,p=0;for(let B=0;B<x;B++)f+=o[B],p+=l[B];if(f<p)return Number.POSITIVE_INFINITY;const b=f/p;d*=b;let v=0;for(let B=0;B<x;B++){const O=o[B],G=l[B]*b,Z=O>G?O-G:G-O;if(Z>d)return Number.POSITIVE_INFINITY;v+=Z}return v/f}}class He extends xt{static findStartPattern(o){const l=o.getSize(),d=o.getNextSet(0);let x=0,f=Int32Array.from([0,0,0,0,0,0]),p=d,b=!1;const v=6;for(let B=d;B<l;B++)if(o.get(B)!==b)f[x]++;else{if(x===v-1){let O=He.MAX_AVG_VARIANCE,G=-1;for(let Z=He.CODE_START_A;Z<=He.CODE_START_C;Z++){const ie=xt.patternMatchVariance(f,He.CODE_PATTERNS[Z],He.MAX_INDIVIDUAL_VARIANCE);ie<O&&(O=ie,G=Z)}if(G>=0&&o.isRange(Math.max(0,p-(B-p)/2),p,!1))return Int32Array.from([p,B,G]);p+=f[0]+f[1],f=f.slice(2,f.length-1),f[x-1]=0,f[x]=0,x--}else x++;f[x]=1,b=!b}throw new re}static decodeCode(o,l,d){xt.recordPattern(o,d,l);let x=He.MAX_AVG_VARIANCE,f=-1;for(let p=0;p<He.CODE_PATTERNS.length;p++){const b=He.CODE_PATTERNS[p],v=this.patternMatchVariance(l,b,He.MAX_INDIVIDUAL_VARIANCE);v<x&&(x=v,f=p)}if(f>=0)return f;throw new re}decodeRow(o,l,d){const x=d&&d.get(j.ASSUME_GS1)===!0,f=He.findStartPattern(l),p=f[2];let b=0;const v=new Uint8Array(20);v[b++]=p;let B;switch(p){case He.CODE_START_A:B=He.CODE_CODE_A;break;case He.CODE_START_B:B=He.CODE_CODE_B;break;case He.CODE_START_C:B=He.CODE_CODE_C;break;default:throw new L}let O=!1,G=!1,Z="",ie=f[0],fe=f[1];const ge=Int32Array.from([0,0,0,0,0,0]);let Be=0,Te=0,ze=p,qe=0,Ue=!0,_t=!1,yt=!1;for(;!O;){const li=G;switch(G=!1,Be=Te,Te=He.decodeCode(l,ge,fe),v[b++]=Te,Te!==He.CODE_STOP&&(Ue=!0),Te!==He.CODE_STOP&&(qe++,ze+=qe*Te),ie=fe,fe+=ge.reduce((n8,r8)=>n8+r8,0),Te){case He.CODE_START_A:case He.CODE_START_B:case He.CODE_START_C:throw new L}switch(B){case He.CODE_CODE_A:if(Te<64)yt===_t?Z+=String.fromCharCode(32+Te):Z+=String.fromCharCode(32+Te+128),yt=!1;else if(Te<96)yt===_t?Z+=String.fromCharCode(Te-64):Z+=String.fromCharCode(Te+64),yt=!1;else switch(Te!==He.CODE_STOP&&(Ue=!1),Te){case He.CODE_FNC_1:x&&(Z.length===0?Z+="]C1":Z+="");break;case He.CODE_FNC_2:case He.CODE_FNC_3:break;case He.CODE_FNC_4_A:!_t&&yt?(_t=!0,yt=!1):_t&&yt?(_t=!1,yt=!1):yt=!0;break;case He.CODE_SHIFT:G=!0,B=He.CODE_CODE_B;break;case He.CODE_CODE_B:B=He.CODE_CODE_B;break;case He.CODE_CODE_C:B=He.CODE_CODE_C;break;case He.CODE_STOP:O=!0;break}break;case He.CODE_CODE_B:if(Te<96)yt===_t?Z+=String.fromCharCode(32+Te):Z+=String.fromCharCode(32+Te+128),yt=!1;else switch(Te!==He.CODE_STOP&&(Ue=!1),Te){case He.CODE_FNC_1:x&&(Z.length===0?Z+="]C1":Z+="");break;case He.CODE_FNC_2:case He.CODE_FNC_3:break;case He.CODE_FNC_4_B:!_t&&yt?(_t=!0,yt=!1):_t&&yt?(_t=!1,yt=!1):yt=!0;break;case He.CODE_SHIFT:G=!0,B=He.CODE_CODE_A;break;case He.CODE_CODE_A:B=He.CODE_CODE_A;break;case He.CODE_CODE_C:B=He.CODE_CODE_C;break;case He.CODE_STOP:O=!0;break}break;case He.CODE_CODE_C:if(Te<100)Te<10&&(Z+="0"),Z+=Te;else switch(Te!==He.CODE_STOP&&(Ue=!1),Te){case He.CODE_FNC_1:x&&(Z.length===0?Z+="]C1":Z+="");break;case He.CODE_CODE_A:B=He.CODE_CODE_A;break;case He.CODE_CODE_B:B=He.CODE_CODE_B;break;case He.CODE_STOP:O=!0;break}break}li&&(B=B===He.CODE_CODE_A?He.CODE_CODE_B:He.CODE_CODE_A)}const rr=fe-ie;if(fe=l.getNextUnset(fe),!l.isRange(fe,Math.min(l.getSize(),fe+(fe-ie)/2),!1))throw new re;if(ze-=qe*Be,ze%103!==Be)throw new E;const zr=Z.length;if(zr===0)throw new re;zr>0&&Ue&&(B===He.CODE_CODE_C?Z=Z.substring(0,zr-2):Z=Z.substring(0,zr-1));const sr=(f[1]+f[0])/2,Wt=ie+rr/2,In=v.length,hr=new Uint8Array(In);for(let li=0;li<In;li++)hr[li]=v[li];const ai=[new w(sr,o),new w(Wt,o)];return new Ne(Z,hr,0,ai,Re.CODE_128,new Date().getTime())}}He.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],He.MAX_AVG_VARIANCE=.25,He.MAX_INDIVIDUAL_VARIANCE=.7,He.CODE_SHIFT=98,He.CODE_CODE_C=99,He.CODE_CODE_B=100,He.CODE_CODE_A=101,He.CODE_FNC_1=102,He.CODE_FNC_2=97,He.CODE_FNC_3=96,He.CODE_FNC_4_A=101,He.CODE_FNC_4_B=100,He.CODE_START_A=103,He.CODE_START_B=104,He.CODE_START_C=105,He.CODE_STOP=106;class Pt extends xt{constructor(o=!1,l=!1){super(),this.usingCheckDigit=o,this.extendedMode=l,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(o,l,d){let x=this.counters;x.fill(0),this.decodeRowResult="";let f=Pt.findAsteriskPattern(l,x),p=l.getNextSet(f[1]),b=l.getSize(),v,B;do{Pt.recordPattern(l,p,x);let ge=Pt.toNarrowWidePattern(x);if(ge<0)throw new re;v=Pt.patternToChar(ge),this.decodeRowResult+=v,B=p;for(let Be of x)p+=Be;p=l.getNextSet(p)}while(v!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let O=0;for(let ge of x)O+=ge;let G=p-B-O;if(p!==b&&G*2<O)throw new re;if(this.usingCheckDigit){let ge=this.decodeRowResult.length-1,Be=0;for(let Te=0;Te<ge;Te++)Be+=Pt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Te));if(this.decodeRowResult.charAt(ge)!==Pt.ALPHABET_STRING.charAt(Be%43))throw new E;this.decodeRowResult=this.decodeRowResult.substring(0,ge)}if(this.decodeRowResult.length===0)throw new re;let Z;this.extendedMode?Z=Pt.decodeExtended(this.decodeRowResult):Z=this.decodeRowResult;let ie=(f[1]+f[0])/2,fe=B+O/2;return new Ne(Z,null,0,[new w(ie,o),new w(fe,o)],Re.CODE_39,new Date().getTime())}static findAsteriskPattern(o,l){let d=o.getSize(),x=o.getNextSet(0),f=0,p=x,b=!1,v=l.length;for(let B=x;B<d;B++)if(o.get(B)!==b)l[f]++;else{if(f===v-1){if(this.toNarrowWidePattern(l)===Pt.ASTERISK_ENCODING&&o.isRange(Math.max(0,p-Math.floor((B-p)/2)),p,!1))return[p,B];p+=l[0]+l[1],l.copyWithin(0,2,2+f-1),l[f-1]=0,l[f]=0,f--}else f++;l[f]=1,b=!b}throw new re}static toNarrowWidePattern(o){let l=o.length,d=0,x;do{let f=2147483647;for(let v of o)v<f&&v>d&&(f=v);d=f,x=0;let p=0,b=0;for(let v=0;v<l;v++){let B=o[v];B>d&&(b|=1<<l-1-v,x++,p+=B)}if(x===3){for(let v=0;v<l&&x>0;v++){let B=o[v];if(B>d&&(x--,B*2>=p))return-1}return b}}while(x>3);return-1}static patternToChar(o){for(let l=0;l<Pt.CHARACTER_ENCODINGS.length;l++)if(Pt.CHARACTER_ENCODINGS[l]===o)return Pt.ALPHABET_STRING.charAt(l);if(o===Pt.ASTERISK_ENCODING)return"*";throw new re}static decodeExtended(o){let l=o.length,d="";for(let x=0;x<l;x++){let f=o.charAt(x);if(f==="+"||f==="$"||f==="%"||f==="/"){let p=o.charAt(x+1),b="\0";switch(f){case"+":if(p>="A"&&p<="Z")b=String.fromCharCode(p.charCodeAt(0)+32);else throw new L;break;case"$":if(p>="A"&&p<="Z")b=String.fromCharCode(p.charCodeAt(0)-64);else throw new L;break;case"%":if(p>="A"&&p<="E")b=String.fromCharCode(p.charCodeAt(0)-38);else if(p>="F"&&p<="J")b=String.fromCharCode(p.charCodeAt(0)-11);else if(p>="K"&&p<="O")b=String.fromCharCode(p.charCodeAt(0)+16);else if(p>="P"&&p<="T")b=String.fromCharCode(p.charCodeAt(0)+43);else if(p==="U")b="\0";else if(p==="V")b="@";else if(p==="W")b="`";else if(p==="X"||p==="Y"||p==="Z")b="";else throw new L;break;case"/":if(p>="A"&&p<="O")b=String.fromCharCode(p.charCodeAt(0)-32);else if(p==="Z")b=":";else throw new L;break}d+=b,x++}else d+=f}return d}}Pt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Pt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Pt.ASTERISK_ENCODING=148;class be extends xt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(o,l,d){let x=this.decodeStart(l),f=this.decodeEnd(l),p=new le;be.decodeMiddle(l,x[1],f[0],p);let b=p.toString(),v=null;d!=null&&(v=d.get(j.ALLOWED_LENGTHS)),v==null&&(v=be.DEFAULT_ALLOWED_LENGTHS);let B=b.length,O=!1,G=0;for(let fe of v){if(B===fe){O=!0;break}fe>G&&(G=fe)}if(!O&&B>G&&(O=!0),!O)throw new L;const Z=[new w(x[1],o),new w(f[0],o)];return new Ne(b,null,0,Z,Re.ITF,new Date().getTime())}static decodeMiddle(o,l,d,x){let f=new Int32Array(10),p=new Int32Array(5),b=new Int32Array(5);for(f.fill(0),p.fill(0),b.fill(0);l<d;){xt.recordPattern(o,l,f);for(let B=0;B<5;B++){let O=2*B;p[B]=f[O],b[B]=f[O+1]}let v=be.decodeDigit(p);x.append(v.toString()),v=this.decodeDigit(b),x.append(v.toString()),f.forEach(function(B){l+=B})}}decodeStart(o){let l=be.skipWhiteSpace(o),d=be.findGuardPattern(o,l,be.START_PATTERN);return this.narrowLineWidth=(d[1]-d[0])/4,this.validateQuietZone(o,d[0]),d}validateQuietZone(o,l){let d=this.narrowLineWidth*10;d=d<l?d:l;for(let x=l-1;d>0&&x>=0&&!o.get(x);x--)d--;if(d!==0)throw new re}static skipWhiteSpace(o){const l=o.getSize(),d=o.getNextSet(0);if(d===l)throw new re;return d}decodeEnd(o){o.reverse();try{let l=be.skipWhiteSpace(o),d;try{d=be.findGuardPattern(o,l,be.END_PATTERN_REVERSED[0])}catch(f){f instanceof re&&(d=be.findGuardPattern(o,l,be.END_PATTERN_REVERSED[1]))}this.validateQuietZone(o,d[0]);let x=d[0];return d[0]=o.getSize()-d[1],d[1]=o.getSize()-x,d}finally{o.reverse()}}static findGuardPattern(o,l,d){let x=d.length,f=new Int32Array(x),p=o.getSize(),b=!1,v=0,B=l;f.fill(0);for(let O=l;O<p;O++)if(o.get(O)!==b)f[v]++;else{if(v===x-1){if(xt.patternMatchVariance(f,d,be.MAX_INDIVIDUAL_VARIANCE)<be.MAX_AVG_VARIANCE)return[B,O];B+=f[0]+f[1],k.arraycopy(f,2,f,0,v-1),f[v-1]=0,f[v]=0,v--}else v++;f[v]=1,b=!b}throw new re}static decodeDigit(o){let l=be.MAX_AVG_VARIANCE,d=-1,x=be.PATTERNS.length;for(let f=0;f<x;f++){let p=be.PATTERNS[f],b=xt.patternMatchVariance(o,p,be.MAX_INDIVIDUAL_VARIANCE);b<l?(l=b,d=f):b===l&&(d=-1)}if(d>=0)return d%10;throw new re}}be.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],be.MAX_AVG_VARIANCE=.38,be.MAX_INDIVIDUAL_VARIANCE=.5,be.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],be.START_PATTERN=Int32Array.from([1,1,1,1]),be.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ae extends xt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(o){let l=!1,d,x=0,f=Int32Array.from([0,0,0]);for(;!l;){f=Int32Array.from([0,0,0]),d=Ae.findGuardPattern(o,x,!1,this.START_END_PATTERN,f);let p=d[0];x=d[1];let b=p-(x-p);b>=0&&(l=o.isRange(b,p,!1))}return d}static checkChecksum(o){return Ae.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let l=o.length;if(l===0)return!1;let d=parseInt(o.charAt(l-1),10);return Ae.getStandardUPCEANChecksum(o.substring(0,l-1))===d}static getStandardUPCEANChecksum(o){let l=o.length,d=0;for(let x=l-1;x>=0;x-=2){let f=o.charAt(x).charCodeAt(0)-48;if(f<0||f>9)throw new L;d+=f}d*=3;for(let x=l-2;x>=0;x-=2){let f=o.charAt(x).charCodeAt(0)-48;if(f<0||f>9)throw new L;d+=f}return(1e3-d)%10}static decodeEnd(o,l){return Ae.findGuardPattern(o,l,!1,Ae.START_END_PATTERN,new Int32Array(Ae.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(o,l,d,x){return this.findGuardPattern(o,l,d,x,new Int32Array(x.length))}static findGuardPattern(o,l,d,x,f){let p=o.getSize();l=d?o.getNextUnset(l):o.getNextSet(l);let b=0,v=l,B=x.length,O=d;for(let G=l;G<p;G++)if(o.get(G)!==O)f[b]++;else{if(b===B-1){if(xt.patternMatchVariance(f,x,Ae.MAX_INDIVIDUAL_VARIANCE)<Ae.MAX_AVG_VARIANCE)return Int32Array.from([v,G]);v+=f[0]+f[1];let Z=f.slice(2,f.length-1);for(let ie=0;ie<b-1;ie++)f[ie]=Z[ie];f[b-1]=0,f[b]=0,b--}else b++;f[b]=1,O=!O}throw new re}static decodeDigit(o,l,d,x){this.recordPattern(o,d,l);let f=this.MAX_AVG_VARIANCE,p=-1,b=x.length;for(let v=0;v<b;v++){let B=x[v],O=xt.patternMatchVariance(l,B,Ae.MAX_INDIVIDUAL_VARIANCE);O<f&&(f=O,p=v)}if(p>=0)return p;throw new re}}Ae.MAX_AVG_VARIANCE=.48,Ae.MAX_INDIVIDUAL_VARIANCE=.7,Ae.START_END_PATTERN=Int32Array.from([1,1,1]),Ae.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ae.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ae.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class pt{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,l,d){let x=this.decodeRowStringBuffer,f=this.decodeMiddle(l,d,x),p=x.toString(),b=pt.parseExtensionString(p),v=[new w((d[0]+d[1])/2,o),new w(f,o)],B=new Ne(p,null,0,v,Re.UPC_EAN_EXTENSION,new Date().getTime());return b!=null&&B.putAllMetadata(b),B}decodeMiddle(o,l,d){let x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let f=o.getSize(),p=l[1],b=0;for(let B=0;B<5&&p<f;B++){let O=Ae.decodeDigit(o,x,p,Ae.L_AND_G_PATTERNS);d+=String.fromCharCode(48+O%10);for(let G of x)p+=G;O>=10&&(b|=1<<4-B),B!==4&&(p=o.getNextSet(p),p=o.getNextUnset(p))}if(d.length!==5)throw new re;let v=this.determineCheckDigit(b);if(pt.extensionChecksum(d.toString())!==v)throw new re;return p}static extensionChecksum(o){let l=o.length,d=0;for(let x=l-2;x>=0;x-=2)d+=o.charAt(x).charCodeAt(0)-48;d*=3;for(let x=l-1;x>=0;x-=2)d+=o.charAt(x).charCodeAt(0)-48;return d*=3,d%10}determineCheckDigit(o){for(let l=0;l<10;l++)if(o===this.CHECK_DIGIT_ENCODINGS[l])return l;throw new re}static parseExtensionString(o){if(o.length!==5)return null;let l=pt.parseExtension5String(o);return l==null?null:new Map([[Xe.SUGGESTED_PRICE,l]])}static parseExtension5String(o){let l;switch(o.charAt(0)){case"0":l="";break;case"5":l="$";break;case"9":switch(o){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}l="";break;default:l="";break}let d=parseInt(o.substring(1)),x=(d/100).toString(),f=d%100,p=f<10?"0"+f:f.toString();return l+x+"."+p}}class kt{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(o,l,d){let x=this.decodeRowStringBuffer,f=this.decodeMiddle(l,d,x),p=x.toString(),b=kt.parseExtensionString(p),v=[new w((d[0]+d[1])/2,o),new w(f,o)],B=new Ne(p,null,0,v,Re.UPC_EAN_EXTENSION,new Date().getTime());return b!=null&&B.putAllMetadata(b),B}decodeMiddle(o,l,d){let x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let f=o.getSize(),p=l[1],b=0;for(let v=0;v<2&&p<f;v++){let B=Ae.decodeDigit(o,x,p,Ae.L_AND_G_PATTERNS);d+=String.fromCharCode(48+B%10);for(let O of x)p+=O;B>=10&&(b|=1<<1-v),v!==1&&(p=o.getNextSet(p),p=o.getNextUnset(p))}if(d.length!==2)throw new re;if(parseInt(d.toString())%4!==b)throw new re;return p}static parseExtensionString(o){return o.length!==2?null:new Map([[Xe.ISSUE_NUMBER,parseInt(o)]])}}class Ot{static decodeRow(o,l,d){let x=Ae.findGuardPattern(l,d,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new pt().decodeRow(o,l,x)}catch{return new kt().decodeRow(o,l,x)}}}Ot.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class We extends Ae{constructor(){super(),this.decodeRowStringBuffer="",We.L_AND_G_PATTERNS=We.L_PATTERNS.map(o=>Int32Array.from(o));for(let o=10;o<20;o++){let l=We.L_PATTERNS[o-10],d=new Int32Array(l.length);for(let x=0;x<l.length;x++)d[x]=l[l.length-x-1];We.L_AND_G_PATTERNS[o]=d}}decodeRow(o,l,d){let x=We.findStartGuardPattern(l),f=d==null?null:d.get(j.NEED_RESULT_POINT_CALLBACK);if(f!=null){const Ue=new w((x[0]+x[1])/2,o);f.foundPossibleResultPoint(Ue)}let p=this.decodeMiddle(l,x,this.decodeRowStringBuffer),b=p.rowOffset,v=p.resultString;if(f!=null){const Ue=new w(b,o);f.foundPossibleResultPoint(Ue)}let B=this.decodeEnd(l,b);if(f!=null){const Ue=new w((B[0]+B[1])/2,o);f.foundPossibleResultPoint(Ue)}let O=B[1],G=O+(O-B[0]);if(G>=l.getSize()||!l.isRange(O,G,!1))throw new re;let Z=v.toString();if(Z.length<8)throw new L;if(!We.checkChecksum(Z))throw new E;let ie=(x[1]+x[0])/2,fe=(B[1]+B[0])/2,ge=this.getBarcodeFormat(),Be=[new w(ie,o),new w(fe,o)],Te=new Ne(Z,null,0,Be,ge,new Date().getTime()),ze=0;try{let Ue=Ot.decodeRow(o,l,B[1]);Te.putMetadata(Xe.UPC_EAN_EXTENSION,Ue.getText()),Te.putAllMetadata(Ue.getResultMetadata()),Te.addResultPoints(Ue.getResultPoints()),ze=Ue.getText().length}catch{}let qe=d==null?null:d.get(j.ALLOWED_EAN_EXTENSIONS);if(qe!=null){let Ue=!1;for(let _t in qe)if(ze.toString()===_t){Ue=!0;break}if(!Ue)throw new re}return Te}decodeEnd(o,l){return We.findGuardPattern(o,l,!1,We.START_END_PATTERN,new Int32Array(We.START_END_PATTERN.length).fill(0))}static checkChecksum(o){return We.checkStandardUPCEANChecksum(o)}static checkStandardUPCEANChecksum(o){let l=o.length;if(l===0)return!1;let d=parseInt(o.charAt(l-1),10);return We.getStandardUPCEANChecksum(o.substring(0,l-1))===d}static getStandardUPCEANChecksum(o){let l=o.length,d=0;for(let x=l-1;x>=0;x-=2){let f=o.charAt(x).charCodeAt(0)-48;if(f<0||f>9)throw new L;d+=f}d*=3;for(let x=l-2;x>=0;x-=2){let f=o.charAt(x).charCodeAt(0)-48;if(f<0||f>9)throw new L;d+=f}return(1e3-d)%10}}class pn extends We{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,l,d){let x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let f=o.getSize(),p=l[1],b=0;for(let B=0;B<6&&p<f;B++){let O=We.decodeDigit(o,x,p,We.L_AND_G_PATTERNS);d+=String.fromCharCode(48+O%10);for(let G of x)p+=G;O>=10&&(b|=1<<5-B)}d=pn.determineFirstDigit(d,b),p=We.findGuardPattern(o,p,!0,We.MIDDLE_PATTERN,new Int32Array(We.MIDDLE_PATTERN.length).fill(0))[1];for(let B=0;B<6&&p<f;B++){let O=We.decodeDigit(o,x,p,We.L_PATTERNS);d+=String.fromCharCode(48+O);for(let G of x)p+=G}return{rowOffset:p,resultString:d}}getBarcodeFormat(){return Re.EAN_13}static determineFirstDigit(o,l){for(let d=0;d<10;d++)if(l===this.FIRST_DIGIT_ENCODINGS[d])return o=String.fromCharCode(48+d)+o,o;throw new re}}pn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Yn extends We{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(o,l,d){const x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let f=o.getSize(),p=l[1];for(let v=0;v<4&&p<f;v++){let B=We.decodeDigit(o,x,p,We.L_PATTERNS);d+=String.fromCharCode(48+B);for(let O of x)p+=O}p=We.findGuardPattern(o,p,!0,We.MIDDLE_PATTERN,new Int32Array(We.MIDDLE_PATTERN.length).fill(0))[1];for(let v=0;v<4&&p<f;v++){let B=We.decodeDigit(o,x,p,We.L_PATTERNS);d+=String.fromCharCode(48+B);for(let O of x)p+=O}return{rowOffset:p,resultString:d}}getBarcodeFormat(){return Re.EAN_8}}class Bn extends We{constructor(){super(...arguments),this.ean13Reader=new pn}getBarcodeFormat(){return Re.UPC_A}decode(o,l){return this.maybeReturnResult(this.ean13Reader.decode(o))}decodeRow(o,l,d){return this.maybeReturnResult(this.ean13Reader.decodeRow(o,l,d))}decodeMiddle(o,l,d){return this.ean13Reader.decodeMiddle(o,l,d)}maybeReturnResult(o){let l=o.getText();if(l.charAt(0)==="0"){let d=new Ne(l.substring(1),null,null,o.getResultPoints(),Re.UPC_A);return o.getResultMetadata()!=null&&d.putAllMetadata(o.getResultMetadata()),d}else throw new re}reset(){this.ean13Reader.reset()}}class Zt extends We{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(o,l,d){const x=this.decodeMiddleCounters.map(B=>B);x[0]=0,x[1]=0,x[2]=0,x[3]=0;const f=o.getSize();let p=l[1],b=0;for(let B=0;B<6&&p<f;B++){const O=Zt.decodeDigit(o,x,p,Zt.L_AND_G_PATTERNS);d+=String.fromCharCode(48+O%10);for(let G of x)p+=G;O>=10&&(b|=1<<5-B)}let v=Zt.determineNumSysAndCheckDigit(d,b);return{rowOffset:p,resultString:v}}decodeEnd(o,l){return Zt.findGuardPatternWithoutCounters(o,l,!0,Zt.MIDDLE_END_PATTERN)}checkChecksum(o){return We.checkChecksum(Zt.convertUPCEtoUPCA(o))}static determineNumSysAndCheckDigit(o,l){for(let d=0;d<=1;d++)for(let x=0;x<10;x++)if(l===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[d][x]){let f=String.fromCharCode(48+d),p=String.fromCharCode(48+x);return f+o+p}throw re.getNotFoundInstance()}getBarcodeFormat(){return Re.UPC_E}static convertUPCEtoUPCA(o){const l=o.slice(1,7).split("").map(f=>f.charCodeAt(0)),d=new le;d.append(o.charAt(0));let x=l[5];switch(x){case 0:case 1:case 2:d.appendChars(l,0,2),d.append(x),d.append("0000"),d.appendChars(l,2,3);break;case 3:d.appendChars(l,0,3),d.append("00000"),d.appendChars(l,3,2);break;case 4:d.appendChars(l,0,4),d.append("00000"),d.append(l[4]);break;default:d.appendChars(l,0,5),d.append("0000"),d.append(x);break}return o.length>=8&&d.append(o.charAt(7)),d.toString()}}Zt.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Zt.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ur extends xt{constructor(o){super();let l=o==null?null:o.get(j.POSSIBLE_FORMATS),d=[];r(l)?(d.push(new pn),d.push(new Bn),d.push(new Yn),d.push(new Zt)):(l.indexOf(Re.EAN_13)>-1&&d.push(new pn),l.indexOf(Re.UPC_A)>-1&&d.push(new Bn),l.indexOf(Re.EAN_8)>-1&&d.push(new Yn),l.indexOf(Re.UPC_E)>-1&&d.push(new Zt)),this.readers=d}decodeRow(o,l,d){for(let x of this.readers)try{const f=x.decodeRow(o,l,d),p=f.getBarcodeFormat()===Re.EAN_13&&f.getText().charAt(0)==="0",b=d==null?null:d.get(j.POSSIBLE_FORMATS),v=b==null||b.includes(Re.UPC_A);if(p&&v){const B=f.getRawBytes(),O=new Ne(f.getText().substring(1),B,B?B.length:null,f.getResultPoints(),Re.UPC_A);return O.putAllMetadata(f.getResultMetadata()),O}return f}catch{}throw new re}reset(){for(let o of this.readers)o.reset()}}class Qt extends xt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(o,l){for(let d=0;d<l.length;d++)if(xt.patternMatchVariance(o,l[d],Qt.MAX_INDIVIDUAL_VARIANCE)<Qt.MAX_AVG_VARIANCE)return d;throw new re}static count(o){return we.sum(new Int32Array(o))}static increment(o,l){let d=0,x=l[0];for(let f=1;f<o.length;f++)l[f]>x&&(x=l[f],d=f);o[d]++}static decrement(o,l){let d=0,x=l[0];for(let f=1;f<o.length;f++)l[f]<x&&(x=l[f],d=f);o[d]--}static isFinderPattern(o){let l=o[0]+o[1],d=l+o[2]+o[3],x=l/d;if(x>=Qt.MIN_FINDER_PATTERN_RATIO&&x<=Qt.MAX_FINDER_PATTERN_RATIO){let f=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;for(let b of o)b>p&&(p=b),b<f&&(f=b);return p<10*f}return!1}}Qt.MAX_AVG_VARIANCE=.2,Qt.MAX_INDIVIDUAL_VARIANCE=.45,Qt.MIN_FINDER_PATTERN_RATIO=9.5/12,Qt.MAX_FINDER_PATTERN_RATIO=12.5/14;class on{constructor(o,l){this.value=o,this.checksumPortion=l}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(o){if(!(o instanceof on))return!1;const l=o;return this.value===l.value&&this.checksumPortion===l.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Jr{constructor(o,l,d,x,f){this.value=o,this.startEnd=l,this.value=o,this.startEnd=l,this.resultPoints=new Array,this.resultPoints.push(new w(d,f)),this.resultPoints.push(new w(x,f))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(o){if(!(o instanceof Jr))return!1;const l=o;return this.value===l.value}hashCode(){return this.value}}class Ln{constructor(){}static getRSSvalue(o,l,d){let x=0;for(let v of o)x+=v;let f=0,p=0,b=o.length;for(let v=0;v<b-1;v++){let B;for(B=1,p|=1<<v;B<o[v];B++,p&=~(1<<v)){let O=Ln.combins(x-B-1,b-v-2);if(d&&p===0&&x-B-(b-v-1)>=b-v-1&&(O-=Ln.combins(x-B-(b-v),b-v-2)),b-v-1>1){let G=0;for(let Z=x-B-(b-v-2);Z>l;Z--)G+=Ln.combins(x-B-Z-1,b-v-3);O-=G*(b-1-v)}else x-B>l&&O--;f+=O}x-=B}return f}static combins(o,l){let d,x;o-l>l?(x=l,d=o-l):(x=o-l,d=l);let f=1,p=1;for(let b=o;b>d;b--)f*=b,p<=x&&(f/=p,p++);for(;p<=x;)f/=p,p++;return f}}class sl{static buildBitArray(o){let l=o.length*2-1;o[o.length-1].getRightChar()==null&&(l-=1);let d=12*l,x=new S(d),f=0,b=o[0].getRightChar().getValue();for(let v=11;v>=0;--v)(b&1<<v)!=0&&x.set(f),f++;for(let v=1;v<o.length;++v){let B=o[v],O=B.getLeftChar().getValue();for(let G=11;G>=0;--G)(O&1<<G)!=0&&x.set(f),f++;if(B.getRightChar()!=null){let G=B.getRightChar().getValue();for(let Z=11;Z>=0;--Z)(G&1<<Z)!=0&&x.set(f),f++}}return x}}class fr{constructor(o,l){l?this.decodedInformation=null:(this.finished=o,this.decodedInformation=l)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class mo{constructor(o){this.newPosition=o}getNewPosition(){return this.newPosition}}class mn extends mo{constructor(o,l){super(o),this.value=l}getValue(){return this.value}isFNC1(){return this.value===mn.FNC1}}mn.FNC1="$";class Hr extends mo{constructor(o,l,d){super(o),d?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=l}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class $n extends mo{constructor(o,l,d){if(super(o),l<0||l>10||d<0||d>10)throw new L;this.firstDigit=l,this.secondDigit=d}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===$n.FNC1}isSecondDigitFNC1(){return this.secondDigit===$n.FNC1}isAnyFNC1(){return this.firstDigit===$n.FNC1||this.secondDigit===$n.FNC1}}$n.FNC1=10;class Ze{constructor(){}static parseFieldsInGeneralPurpose(o){if(!o)return null;if(o.length<2)throw new re;let l=o.substring(0,2);for(let f of Ze.TWO_DIGIT_DATA_LENGTH)if(f[0]===l)return f[1]===Ze.VARIABLE_LENGTH?Ze.processVariableAI(2,f[2],o):Ze.processFixedAI(2,f[1],o);if(o.length<3)throw new re;let d=o.substring(0,3);for(let f of Ze.THREE_DIGIT_DATA_LENGTH)if(f[0]===d)return f[1]===Ze.VARIABLE_LENGTH?Ze.processVariableAI(3,f[2],o):Ze.processFixedAI(3,f[1],o);for(let f of Ze.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(f[0]===d)return f[1]===Ze.VARIABLE_LENGTH?Ze.processVariableAI(4,f[2],o):Ze.processFixedAI(4,f[1],o);if(o.length<4)throw new re;let x=o.substring(0,4);for(let f of Ze.FOUR_DIGIT_DATA_LENGTH)if(f[0]===x)return f[1]===Ze.VARIABLE_LENGTH?Ze.processVariableAI(4,f[2],o):Ze.processFixedAI(4,f[1],o);throw new re}static processFixedAI(o,l,d){if(d.length<o)throw new re;let x=d.substring(0,o);if(d.length<o+l)throw new re;let f=d.substring(o,o+l),p=d.substring(o+l),b="("+x+")"+f,v=Ze.parseFieldsInGeneralPurpose(p);return v==null?b:b+v}static processVariableAI(o,l,d){let x=d.substring(0,o),f;d.length<o+l?f=d.length:f=o+l;let p=d.substring(o,f),b=d.substring(f),v="("+x+")"+p,B=Ze.parseFieldsInGeneralPurpose(b);return B==null?v:v+B}}Ze.VARIABLE_LENGTH=[],Ze.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ze.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ze.VARIABLE_LENGTH,20],["22",Ze.VARIABLE_LENGTH,29],["30",Ze.VARIABLE_LENGTH,8],["37",Ze.VARIABLE_LENGTH,8],["90",Ze.VARIABLE_LENGTH,30],["91",Ze.VARIABLE_LENGTH,30],["92",Ze.VARIABLE_LENGTH,30],["93",Ze.VARIABLE_LENGTH,30],["94",Ze.VARIABLE_LENGTH,30],["95",Ze.VARIABLE_LENGTH,30],["96",Ze.VARIABLE_LENGTH,30],["97",Ze.VARIABLE_LENGTH,3],["98",Ze.VARIABLE_LENGTH,30],["99",Ze.VARIABLE_LENGTH,30]],Ze.THREE_DIGIT_DATA_LENGTH=[["240",Ze.VARIABLE_LENGTH,30],["241",Ze.VARIABLE_LENGTH,30],["242",Ze.VARIABLE_LENGTH,6],["250",Ze.VARIABLE_LENGTH,30],["251",Ze.VARIABLE_LENGTH,30],["253",Ze.VARIABLE_LENGTH,17],["254",Ze.VARIABLE_LENGTH,20],["400",Ze.VARIABLE_LENGTH,30],["401",Ze.VARIABLE_LENGTH,30],["402",17],["403",Ze.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ze.VARIABLE_LENGTH,20],["421",Ze.VARIABLE_LENGTH,15],["422",3],["423",Ze.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ze.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ze.VARIABLE_LENGTH,15],["391",Ze.VARIABLE_LENGTH,18],["392",Ze.VARIABLE_LENGTH,15],["393",Ze.VARIABLE_LENGTH,18],["703",Ze.VARIABLE_LENGTH,30]],Ze.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ze.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ze.VARIABLE_LENGTH,20],["8003",Ze.VARIABLE_LENGTH,30],["8004",Ze.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ze.VARIABLE_LENGTH,30],["8008",Ze.VARIABLE_LENGTH,12],["8018",18],["8020",Ze.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ze.VARIABLE_LENGTH,70],["8200",Ze.VARIABLE_LENGTH,70]];class ys{constructor(o){this.buffer=new le,this.information=o}decodeAllCodes(o,l){let d=l,x=null;do{let f=this.decodeGeneralPurposeField(d,x),p=Ze.parseFieldsInGeneralPurpose(f.getNewString());if(p!=null&&o.append(p),f.isRemaining()?x=""+f.getRemainingValue():x=null,d===f.getNewPosition())break;d=f.getNewPosition()}while(!0);return o.toString()}isStillNumeric(o){if(o+7>this.information.getSize())return o+4<=this.information.getSize();for(let l=o;l<o+3;++l)if(this.information.get(l))return!0;return this.information.get(o+3)}decodeNumeric(o){if(o+7>this.information.getSize()){let f=this.extractNumericValueFromBitArray(o,4);return f===0?new $n(this.information.getSize(),$n.FNC1,$n.FNC1):new $n(this.information.getSize(),f-1,$n.FNC1)}let l=this.extractNumericValueFromBitArray(o,7),d=(l-8)/11,x=(l-8)%11;return new $n(o+7,d,x)}extractNumericValueFromBitArray(o,l){return ys.extractNumericValueFromBitArray(this.information,o,l)}static extractNumericValueFromBitArray(o,l,d){let x=0;for(let f=0;f<d;++f)o.get(l+f)&&(x|=1<<d-f-1);return x}decodeGeneralPurposeField(o,l){this.buffer.setLengthToZero(),l!=null&&this.buffer.append(l),this.current.setPosition(o);let d=this.parseBlocks();return d!=null&&d.isRemaining()?new Hr(this.current.getPosition(),this.buffer.toString(),d.getRemainingValue()):new Hr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let o,l;do{let d=this.current.getPosition();if(this.current.isAlpha()?(l=this.parseAlphaBlock(),o=l.isFinished()):this.current.isIsoIec646()?(l=this.parseIsoIec646Block(),o=l.isFinished()):(l=this.parseNumericBlock(),o=l.isFinished()),!(d!==this.current.getPosition())&&!o)break}while(!o);return l.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let o=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFirstDigitFNC1()){let l;return o.isSecondDigitFNC1()?l=new Hr(this.current.getPosition(),this.buffer.toString()):l=new Hr(this.current.getPosition(),this.buffer.toString(),o.getSecondDigit()),new fr(!0,l)}if(this.buffer.append(o.getFirstDigit()),o.isSecondDigitFNC1()){let l=new Hr(this.current.getPosition(),this.buffer.toString());return new fr(!0,l)}this.buffer.append(o.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new fr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let o=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let l=new Hr(this.current.getPosition(),this.buffer.toString());return new fr(!0,l)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new fr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let o=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(o.getNewPosition()),o.isFNC1()){let l=new Hr(this.current.getPosition(),this.buffer.toString());return new fr(!0,l)}this.buffer.append(o.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new fr(!1)}isStillIsoIec646(o){if(o+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(o,5);if(l>=5&&l<16)return!0;if(o+7>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(o,7);if(d>=64&&d<116)return!0;if(o+8>this.information.getSize())return!1;let x=this.extractNumericValueFromBitArray(o,8);return x>=232&&x<253}decodeIsoIec646(o){let l=this.extractNumericValueFromBitArray(o,5);if(l===15)return new mn(o+5,mn.FNC1);if(l>=5&&l<15)return new mn(o+5,"0"+(l-5));let d=this.extractNumericValueFromBitArray(o,7);if(d>=64&&d<90)return new mn(o+7,""+(d+1));if(d>=90&&d<116)return new mn(o+7,""+(d+7));let x=this.extractNumericValueFromBitArray(o,8),f;switch(x){case 232:f="!";break;case 233:f='"';break;case 234:f="%";break;case 235:f="&";break;case 236:f="'";break;case 237:f="(";break;case 238:f=")";break;case 239:f="*";break;case 240:f="+";break;case 241:f=",";break;case 242:f="-";break;case 243:f=".";break;case 244:f="/";break;case 245:f=":";break;case 246:f=";";break;case 247:f="<";break;case 248:f="=";break;case 249:f=">";break;case 250:f="?";break;case 251:f="_";break;case 252:f=" ";break;default:throw new L}return new mn(o+8,f)}isStillAlpha(o){if(o+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(o,5);if(l>=5&&l<16)return!0;if(o+6>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(o,6);return d>=16&&d<63}decodeAlphanumeric(o){let l=this.extractNumericValueFromBitArray(o,5);if(l===15)return new mn(o+5,mn.FNC1);if(l>=5&&l<15)return new mn(o+5,"0"+(l-5));let d=this.extractNumericValueFromBitArray(o,6);if(d>=32&&d<58)return new mn(o+6,""+(d+33));let x;switch(d){case 58:x="*";break;case 59:x=",";break;case 60:x="-";break;case 61:x=".";break;case 62:x="/";break;default:throw new F("Decoding invalid alphanumeric value: "+d)}return new mn(o+6,x)}isAlphaTo646ToAlphaLatch(o){if(o+1>this.information.getSize())return!1;for(let l=0;l<5&&l+o<this.information.getSize();++l)if(l===2){if(!this.information.get(o+2))return!1}else if(this.information.get(o+l))return!1;return!0}isAlphaOr646ToNumericLatch(o){if(o+3>this.information.getSize())return!1;for(let l=o;l<o+3;++l)if(this.information.get(l))return!1;return!0}isNumericToAlphaNumericLatch(o){if(o+1>this.information.getSize())return!1;for(let l=0;l<4&&l+o<this.information.getSize();++l)if(this.information.get(o+l))return!1;return!0}}class yo{constructor(o){this.information=o,this.generalDecoder=new ys(o)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Fn extends yo{constructor(o){super(o)}encodeCompressedGtin(o,l){o.append("(01)");let d=o.length();o.append("9"),this.encodeCompressedGtinWithoutAI(o,l,d)}encodeCompressedGtinWithoutAI(o,l,d){for(let x=0;x<4;++x){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(l+10*x,10);f/100===0&&o.append("0"),f/10===0&&o.append("0"),o.append(f)}Fn.appendCheckDigit(o,d)}static appendCheckDigit(o,l){let d=0;for(let x=0;x<13;x++){let f=o.charAt(x+l).charCodeAt(0)-48;d+=(x&1)===0?3*f:f}d=10-d%10,d===10&&(d=0),o.append(d)}}Fn.GTIN_SIZE=40;class es extends Fn{constructor(o){super(o)}parseInformation(){let o=new le;o.append("(01)");let l=o.length(),d=this.getGeneralDecoder().extractNumericValueFromBitArray(es.HEADER_SIZE,4);return o.append(d),this.encodeCompressedGtinWithoutAI(o,es.HEADER_SIZE+4,l),this.getGeneralDecoder().decodeAllCodes(o,es.HEADER_SIZE+44)}}es.HEADER_SIZE=4;class bo extends yo{constructor(o){super(o)}parseInformation(){let o=new le;return this.getGeneralDecoder().decodeAllCodes(o,bo.HEADER_SIZE)}}bo.HEADER_SIZE=5;class ti extends Fn{constructor(o){super(o)}encodeCompressedWeight(o,l,d){let x=this.getGeneralDecoder().extractNumericValueFromBitArray(l,d);this.addWeightCode(o,x);let f=this.checkWeight(x),p=1e5;for(let b=0;b<5;++b)f/p===0&&o.append("0"),p/=10;o.append(f)}}class tr extends ti{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()!=tr.HEADER_SIZE+ti.GTIN_SIZE+tr.WEIGHT_SIZE)throw new re;let o=new le;return this.encodeCompressedGtin(o,tr.HEADER_SIZE),this.encodeCompressedWeight(o,tr.HEADER_SIZE+ti.GTIN_SIZE,tr.WEIGHT_SIZE),o.toString()}}tr.HEADER_SIZE=5,tr.WEIGHT_SIZE=15;class js extends tr{constructor(o){super(o)}addWeightCode(o,l){o.append("(3103)")}checkWeight(o){return o}}class ni extends tr{constructor(o){super(o)}addWeightCode(o,l){l<1e4?o.append("(3202)"):o.append("(3203)")}checkWeight(o){return o<1e4?o:o-1e4}}class Ar extends Fn{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<Ar.HEADER_SIZE+Fn.GTIN_SIZE)throw new re;let o=new le;this.encodeCompressedGtin(o,Ar.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(Ar.HEADER_SIZE+Fn.GTIN_SIZE,Ar.LAST_DIGIT_SIZE);o.append("(392"),o.append(l),o.append(")");let d=this.getGeneralDecoder().decodeGeneralPurposeField(Ar.HEADER_SIZE+Fn.GTIN_SIZE+Ar.LAST_DIGIT_SIZE,null);return o.append(d.getNewString()),o.toString()}}Ar.HEADER_SIZE=8,Ar.LAST_DIGIT_SIZE=2;class _n extends Fn{constructor(o){super(o)}parseInformation(){if(this.getInformation().getSize()<_n.HEADER_SIZE+Fn.GTIN_SIZE)throw new re;let o=new le;this.encodeCompressedGtin(o,_n.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(_n.HEADER_SIZE+Fn.GTIN_SIZE,_n.LAST_DIGIT_SIZE);o.append("(393"),o.append(l),o.append(")");let d=this.getGeneralDecoder().extractNumericValueFromBitArray(_n.HEADER_SIZE+Fn.GTIN_SIZE+_n.LAST_DIGIT_SIZE,_n.FIRST_THREE_DIGITS_SIZE);d/100==0&&o.append("0"),d/10==0&&o.append("0"),o.append(d);let x=this.getGeneralDecoder().decodeGeneralPurposeField(_n.HEADER_SIZE+Fn.GTIN_SIZE+_n.LAST_DIGIT_SIZE+_n.FIRST_THREE_DIGITS_SIZE,null);return o.append(x.getNewString()),o.toString()}}_n.HEADER_SIZE=8,_n.LAST_DIGIT_SIZE=2,_n.FIRST_THREE_DIGITS_SIZE=10;class rn extends ti{constructor(o,l,d){super(o),this.dateCode=d,this.firstAIdigits=l}parseInformation(){if(this.getInformation().getSize()!=rn.HEADER_SIZE+rn.GTIN_SIZE+rn.WEIGHT_SIZE+rn.DATE_SIZE)throw new re;let o=new le;return this.encodeCompressedGtin(o,rn.HEADER_SIZE),this.encodeCompressedWeight(o,rn.HEADER_SIZE+rn.GTIN_SIZE,rn.WEIGHT_SIZE),this.encodeCompressedDate(o,rn.HEADER_SIZE+rn.GTIN_SIZE+rn.WEIGHT_SIZE),o.toString()}encodeCompressedDate(o,l){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(l,rn.DATE_SIZE);if(d==38400)return;o.append("("),o.append(this.dateCode),o.append(")");let x=d%32;d/=32;let f=d%12+1;d/=12;let p=d;p/10==0&&o.append("0"),o.append(p),f/10==0&&o.append("0"),o.append(f),x/10==0&&o.append("0"),o.append(x)}addWeightCode(o,l){o.append("("),o.append(this.firstAIdigits),o.append(l/1e5),o.append(")")}checkWeight(o){return o%1e5}}rn.HEADER_SIZE=8,rn.WEIGHT_SIZE=20,rn.DATE_SIZE=16;function Wx(W){try{if(W.get(1))return new es(W);if(!W.get(2))return new bo(W);switch(ys.extractNumericValueFromBitArray(W,1,4)){case 4:return new js(W);case 5:return new ni(W)}switch(ys.extractNumericValueFromBitArray(W,1,5)){case 12:return new Ar(W);case 13:return new _n(W)}switch(ys.extractNumericValueFromBitArray(W,1,7)){case 56:return new rn(W,"310","11");case 57:return new rn(W,"320","11");case 58:return new rn(W,"310","13");case 59:return new rn(W,"320","13");case 60:return new rn(W,"310","15");case 61:return new rn(W,"320","15");case 62:return new rn(W,"310","17");case 63:return new rn(W,"320","17")}}catch(o){throw console.log(o),new F("unknown decoder: "+W)}}class Us{constructor(o,l,d,x){this.leftchar=o,this.rightchar=l,this.finderpattern=d,this.maybeLast=x}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(o,l){return o instanceof Us?Us.equalsOrNull(o.leftchar,l.leftchar)&&Us.equalsOrNull(o.rightchar,l.rightchar)&&Us.equalsOrNull(o.finderpattern,l.finderpattern):!1}static equalsOrNull(o,l){return o===null?l===null:Us.equals(o,l)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class X0{constructor(o,l,d){this.pairs=o,this.rowNumber=l,this.wasReversed=d}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(o){return this.checkEqualitity(this,o)}toString(){return"{ "+this.pairs+" }"}equals(o,l){return o instanceof X0?this.checkEqualitity(o,l)&&o.wasReversed===l.wasReversed:!1}checkEqualitity(o,l){if(!o||!l)return;let d;return o.forEach((x,f)=>{l.forEach(p=>{x.getLeftChar().getValue()===p.getLeftChar().getValue()&&x.getRightChar().getValue()===p.getRightChar().getValue()&&x.getFinderPatter().getValue()===p.getFinderPatter().getValue()&&(d=!0)})}),d}}class Le extends Qt{constructor(o){super(...arguments),this.pairs=new Array(Le.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=o===!0}decodeRow(o,l,d){this.pairs.length=0,this.startFromEven=!1;try{return Le.constructResult(this.decodeRow2pairs(o,l))}catch(x){this.verbose&&console.log(x)}return this.pairs.length=0,this.startFromEven=!0,Le.constructResult(this.decodeRow2pairs(o,l))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(o,l){let d=!1;for(;!d;)try{this.pairs.push(this.retrieveNextPair(l,this.pairs,o))}catch(f){if(f instanceof re){if(!this.pairs.length)throw new re;d=!0}}if(this.checkChecksum())return this.pairs;let x;if(this.rows.length?x=!0:x=!1,this.storeRow(o,!1),x){let f=this.checkRowsBoolean(!1);if(f!=null||(f=this.checkRowsBoolean(!0),f!=null))return f}throw new re}checkRowsBoolean(o){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,o&&(this.rows=this.rows.reverse());let l=null;try{l=this.checkRows(new Array,0)}catch(d){this.verbose&&console.log(d)}return o&&(this.rows=this.rows.reverse()),l}checkRows(o,l){for(let d=l;d<this.rows.length;d++){let x=this.rows[d];this.pairs.length=0;for(let p of o)this.pairs.push(p.getPairs());if(this.pairs.push(x.getPairs()),!Le.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let f=new Array(o);f.push(x);try{return this.checkRows(f,d+1)}catch(p){this.verbose&&console.log(p)}}throw new re}static isValidSequence(o){for(let l of Le.FINDER_PATTERN_SEQUENCES){if(o.length>l.length)continue;let d=!0;for(let x=0;x<o.length;x++)if(o[x].getFinderPattern().getValue()!=l[x]){d=!1;break}if(d)return!0}return!1}storeRow(o,l){let d=0,x=!1,f=!1;for(;d<this.rows.length;){let p=this.rows[d];if(p.getRowNumber()>o){f=p.isEquivalent(this.pairs);break}x=p.isEquivalent(this.pairs),d++}f||x||Le.isPartialRow(this.pairs,this.rows)||(this.rows.push(d,new X0(this.pairs,o,l)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(o,l){for(let d of l)if(d.getPairs().length!==o.length){for(let x of d.getPairs())for(let f of o)if(Us.equals(x,f))break}}static isPartialRow(o,l){for(let d of l){let x=!0;for(let f of o){let p=!1;for(let b of d.getPairs())if(f.equals(b)){p=!0;break}if(!p){x=!1;break}}if(x)return!0}return!1}getRows(){return this.rows}static constructResult(o){let l=sl.buildBitArray(o),x=Wx(l).parseInformation(),f=o[0].getFinderPattern().getResultPoints(),p=o[o.length-1].getFinderPattern().getResultPoints(),b=[f[0],f[1],p[0],p[1]];return new Ne(x,null,null,b,Re.RSS_EXPANDED,null)}checkChecksum(){let o=this.pairs.get(0),l=o.getLeftChar(),d=o.getRightChar();if(d==null)return!1;let x=d.getChecksumPortion(),f=2;for(let b=1;b<this.pairs.size();++b){let v=this.pairs.get(b);x+=v.getLeftChar().getChecksumPortion(),f++;let B=v.getRightChar();B!=null&&(x+=B.getChecksumPortion(),f++)}return x%=211,211*(f-4)+x==l.getValue()}static getNextSecondBar(o,l){let d;return o.get(l)?(d=o.getNextUnset(l),d=o.getNextSet(d)):(d=o.getNextSet(l),d=o.getNextUnset(d)),d}retrieveNextPair(o,l,d){let x=l.length%2==0;this.startFromEven&&(x=!x);let f,p=!0,b=-1;do this.findNextPair(o,l,b),f=this.parseFoundFinderPattern(o,d,x),f==null?b=Le.getNextSecondBar(o,this.startEnd[0]):p=!1;while(p);let v=this.decodeDataCharacter(o,f,x,!0);if(!this.isEmptyPair(l)&&l[l.length-1].mustBeLast())throw new re;let B;try{B=this.decodeDataCharacter(o,f,x,!1)}catch(O){B=null,this.verbose&&console.log(O)}return new Us(v,B,f,!0)}isEmptyPair(o){return o.length===0}findNextPair(o,l,d){let x=this.getDecodeFinderCounters();x[0]=0,x[1]=0,x[2]=0,x[3]=0;let f=o.getSize(),p;d>=0?p=d:this.isEmptyPair(l)?p=0:p=l[l.length-1].getFinderPattern().getStartEnd()[1];let b=l.length%2!=0;this.startFromEven&&(b=!b);let v=!1;for(;p<f&&(v=!o.get(p),!!v);)p++;let B=0,O=p;for(let G=p;G<f;G++)if(o.get(G)!=v)x[B]++;else{if(B==3){if(b&&Le.reverseCounters(x),Le.isFinderPattern(x)){this.startEnd[0]=O,this.startEnd[1]=G;return}b&&Le.reverseCounters(x),O+=x[0]+x[1],x[0]=x[2],x[1]=x[3],x[2]=0,x[3]=0,B--}else B++;x[B]=1,v=!v}throw new re}static reverseCounters(o){let l=o.length;for(let d=0;d<l/2;++d){let x=o[d];o[d]=o[l-d-1],o[l-d-1]=x}}parseFoundFinderPattern(o,l,d){let x,f,p;if(d){let B=this.startEnd[0]-1;for(;B>=0&&!o.get(B);)B--;B++,x=this.startEnd[0]-B,f=B,p=this.startEnd[1]}else f=this.startEnd[0],p=o.getNextUnset(this.startEnd[1]+1),x=p-this.startEnd[1];let b=this.getDecodeFinderCounters();k.arraycopy(b,0,b,1,b.length-1),b[0]=x;let v;try{v=this.parseFinderValue(b,Le.FINDER_PATTERNS)}catch{return null}return new Jr(v,[f,p],f,p,l)}decodeDataCharacter(o,l,d,x){let f=this.getDataCharacterCounters();for(let Wt=0;Wt<f.length;Wt++)f[Wt]=0;if(x)Le.recordPatternInReverse(o,l.getStartEnd()[0],f);else{Le.recordPattern(o,l.getStartEnd()[1],f);for(let Wt=0,In=f.length-1;Wt<In;Wt++,In--){let hr=f[Wt];f[Wt]=f[In],f[In]=hr}}let p=17,b=we.sum(new Int32Array(f))/p,v=(l.getStartEnd()[1]-l.getStartEnd()[0])/15;if(Math.abs(b-v)/v>.3)throw new re;let B=this.getOddCounts(),O=this.getEvenCounts(),G=this.getOddRoundingErrors(),Z=this.getEvenRoundingErrors();for(let Wt=0;Wt<f.length;Wt++){let In=1*f[Wt]/b,hr=In+.5;if(hr<1){if(In<.3)throw new re;hr=1}else if(hr>8){if(In>8.7)throw new re;hr=8}let ai=Wt/2;(Wt&1)==0?(B[ai]=hr,G[ai]=In-hr):(O[ai]=hr,Z[ai]=In-hr)}this.adjustOddEvenCounts(p);let ie=4*l.getValue()+(d?0:2)+(x?0:1)-1,fe=0,ge=0;for(let Wt=B.length-1;Wt>=0;Wt--){if(Le.isNotA1left(l,d,x)){let In=Le.WEIGHTS[ie][2*Wt];ge+=B[Wt]*In}fe+=B[Wt]}let Be=0;for(let Wt=O.length-1;Wt>=0;Wt--)if(Le.isNotA1left(l,d,x)){let In=Le.WEIGHTS[ie][2*Wt+1];Be+=O[Wt]*In}let Te=ge+Be;if((fe&1)!=0||fe>13||fe<4)throw new re;let ze=(13-fe)/2,qe=Le.SYMBOL_WIDEST[ze],Ue=9-qe,_t=Ln.getRSSvalue(B,qe,!0),yt=Ln.getRSSvalue(O,Ue,!1),rr=Le.EVEN_TOTAL_SUBSET[ze],zr=Le.GSUM[ze],sr=_t*rr+yt+zr;return new on(sr,Te)}static isNotA1left(o,l,d){return!(o.getValue()==0&&l&&d)}adjustOddEvenCounts(o){let l=we.sum(new Int32Array(this.getOddCounts())),d=we.sum(new Int32Array(this.getEvenCounts())),x=!1,f=!1;l>13?f=!0:l<4&&(x=!0);let p=!1,b=!1;d>13?b=!0:d<4&&(p=!0);let v=l+d-o,B=(l&1)==1,O=(d&1)==0;if(v==1)if(B){if(O)throw new re;f=!0}else{if(!O)throw new re;b=!0}else if(v==-1)if(B){if(O)throw new re;x=!0}else{if(!O)throw new re;p=!0}else if(v==0){if(B){if(!O)throw new re;l<d?(x=!0,b=!0):(f=!0,p=!0)}else if(O)throw new re}else throw new re;if(x){if(f)throw new re;Le.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&Le.decrement(this.getOddCounts(),this.getOddRoundingErrors()),p){if(b)throw new re;Le.increment(this.getEvenCounts(),this.getOddRoundingErrors())}b&&Le.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Le.SYMBOL_WIDEST=[7,5,4,3,1],Le.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Le.GSUM=[0,348,1388,2948,3988],Le.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Le.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Le.FINDER_PAT_A=0,Le.FINDER_PAT_B=1,Le.FINDER_PAT_C=2,Le.FINDER_PAT_D=3,Le.FINDER_PAT_E=4,Le.FINDER_PAT_F=5,Le.FINDER_PATTERN_SEQUENCES=[[Le.FINDER_PAT_A,Le.FINDER_PAT_A],[Le.FINDER_PAT_A,Le.FINDER_PAT_B,Le.FINDER_PAT_B],[Le.FINDER_PAT_A,Le.FINDER_PAT_C,Le.FINDER_PAT_B,Le.FINDER_PAT_D],[Le.FINDER_PAT_A,Le.FINDER_PAT_E,Le.FINDER_PAT_B,Le.FINDER_PAT_D,Le.FINDER_PAT_C],[Le.FINDER_PAT_A,Le.FINDER_PAT_E,Le.FINDER_PAT_B,Le.FINDER_PAT_D,Le.FINDER_PAT_D,Le.FINDER_PAT_F],[Le.FINDER_PAT_A,Le.FINDER_PAT_E,Le.FINDER_PAT_B,Le.FINDER_PAT_D,Le.FINDER_PAT_E,Le.FINDER_PAT_F,Le.FINDER_PAT_F],[Le.FINDER_PAT_A,Le.FINDER_PAT_A,Le.FINDER_PAT_B,Le.FINDER_PAT_B,Le.FINDER_PAT_C,Le.FINDER_PAT_C,Le.FINDER_PAT_D,Le.FINDER_PAT_D],[Le.FINDER_PAT_A,Le.FINDER_PAT_A,Le.FINDER_PAT_B,Le.FINDER_PAT_B,Le.FINDER_PAT_C,Le.FINDER_PAT_C,Le.FINDER_PAT_D,Le.FINDER_PAT_E,Le.FINDER_PAT_E],[Le.FINDER_PAT_A,Le.FINDER_PAT_A,Le.FINDER_PAT_B,Le.FINDER_PAT_B,Le.FINDER_PAT_C,Le.FINDER_PAT_C,Le.FINDER_PAT_D,Le.FINDER_PAT_E,Le.FINDER_PAT_F,Le.FINDER_PAT_F],[Le.FINDER_PAT_A,Le.FINDER_PAT_A,Le.FINDER_PAT_B,Le.FINDER_PAT_B,Le.FINDER_PAT_C,Le.FINDER_PAT_D,Le.FINDER_PAT_D,Le.FINDER_PAT_E,Le.FINDER_PAT_E,Le.FINDER_PAT_F,Le.FINDER_PAT_F]],Le.MAX_PAIRS=11;class Tb extends on{constructor(o,l,d){super(o,l),this.count=0,this.finderPattern=d}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ln extends Qt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(o,l,d){const x=this.decodePair(l,!1,o,d);ln.addOrTally(this.possibleLeftPairs,x),l.reverse();let f=this.decodePair(l,!0,o,d);ln.addOrTally(this.possibleRightPairs,f),l.reverse();for(let p of this.possibleLeftPairs)if(p.getCount()>1){for(let b of this.possibleRightPairs)if(b.getCount()>1&&ln.checkChecksum(p,b))return ln.constructResult(p,b)}throw new re}static addOrTally(o,l){if(l==null)return;let d=!1;for(let x of o)if(x.getValue()===l.getValue()){x.incrementCount(),d=!0;break}d||o.push(l)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(o,l){let d=4537077*o.getValue()+l.getValue(),x=new String(d).toString(),f=new le;for(let B=13-x.length;B>0;B--)f.append("0");f.append(x);let p=0;for(let B=0;B<13;B++){let O=f.charAt(B).charCodeAt(0)-48;p+=(B&1)===0?3*O:O}p=10-p%10,p===10&&(p=0),f.append(p.toString());let b=o.getFinderPattern().getResultPoints(),v=l.getFinderPattern().getResultPoints();return new Ne(f.toString(),null,0,[b[0],b[1],v[0],v[1]],Re.RSS_14,new Date().getTime())}static checkChecksum(o,l){let d=(o.getChecksumPortion()+16*l.getChecksumPortion())%79,x=9*o.getFinderPattern().getValue()+l.getFinderPattern().getValue();return x>72&&x--,x>8&&x--,d===x}decodePair(o,l,d,x){try{let f=this.findFinderPattern(o,l),p=this.parseFoundFinderPattern(o,d,l,f),b=x==null?null:x.get(j.NEED_RESULT_POINT_CALLBACK);if(b!=null){let O=(f[0]+f[1])/2;l&&(O=o.getSize()-1-O),b.foundPossibleResultPoint(new w(O,d))}let v=this.decodeDataCharacter(o,p,!0),B=this.decodeDataCharacter(o,p,!1);return new Tb(1597*v.getValue()+B.getValue(),v.getChecksumPortion()+4*B.getChecksumPortion(),p)}catch{return null}}decodeDataCharacter(o,l,d){let x=this.getDataCharacterCounters();for(let Be=0;Be<x.length;Be++)x[Be]=0;if(d)xt.recordPatternInReverse(o,l.getStartEnd()[0],x);else{xt.recordPattern(o,l.getStartEnd()[1]+1,x);for(let Be=0,Te=x.length-1;Be<Te;Be++,Te--){let ze=x[Be];x[Be]=x[Te],x[Te]=ze}}let f=d?16:15,p=we.sum(new Int32Array(x))/f,b=this.getOddCounts(),v=this.getEvenCounts(),B=this.getOddRoundingErrors(),O=this.getEvenRoundingErrors();for(let Be=0;Be<x.length;Be++){let Te=x[Be]/p,ze=Math.floor(Te+.5);ze<1?ze=1:ze>8&&(ze=8);let qe=Math.floor(Be/2);(Be&1)===0?(b[qe]=ze,B[qe]=Te-ze):(v[qe]=ze,O[qe]=Te-ze)}this.adjustOddEvenCounts(d,f);let G=0,Z=0;for(let Be=b.length-1;Be>=0;Be--)Z*=9,Z+=b[Be],G+=b[Be];let ie=0,fe=0;for(let Be=v.length-1;Be>=0;Be--)ie*=9,ie+=v[Be],fe+=v[Be];let ge=Z+3*ie;if(d){if((G&1)!==0||G>12||G<4)throw new re;let Be=(12-G)/2,Te=ln.OUTSIDE_ODD_WIDEST[Be],ze=9-Te,qe=Ln.getRSSvalue(b,Te,!1),Ue=Ln.getRSSvalue(v,ze,!0),_t=ln.OUTSIDE_EVEN_TOTAL_SUBSET[Be],yt=ln.OUTSIDE_GSUM[Be];return new on(qe*_t+Ue+yt,ge)}else{if((fe&1)!==0||fe>10||fe<4)throw new re;let Be=(10-fe)/2,Te=ln.INSIDE_ODD_WIDEST[Be],ze=9-Te,qe=Ln.getRSSvalue(b,Te,!0),Ue=Ln.getRSSvalue(v,ze,!1),_t=ln.INSIDE_ODD_TOTAL_SUBSET[Be],yt=ln.INSIDE_GSUM[Be];return new on(Ue*_t+qe+yt,ge)}}findFinderPattern(o,l){let d=this.getDecodeFinderCounters();d[0]=0,d[1]=0,d[2]=0,d[3]=0;let x=o.getSize(),f=!1,p=0;for(;p<x&&(f=!o.get(p),l!==f);)p++;let b=0,v=p;for(let B=p;B<x;B++)if(o.get(B)!==f)d[b]++;else{if(b===3){if(Qt.isFinderPattern(d))return[v,B];v+=d[0]+d[1],d[0]=d[2],d[1]=d[3],d[2]=0,d[3]=0,b--}else b++;d[b]=1,f=!f}throw new re}parseFoundFinderPattern(o,l,d,x){let f=o.get(x[0]),p=x[0]-1;for(;p>=0&&f!==o.get(p);)p--;p++;const b=x[0]-p,v=this.getDecodeFinderCounters(),B=new Int32Array(v.length);k.arraycopy(v,0,B,1,v.length-1),B[0]=b;const O=this.parseFinderValue(B,ln.FINDER_PATTERNS);let G=p,Z=x[1];return d&&(G=o.getSize()-1-G,Z=o.getSize()-1-Z),new Jr(O,[p,x[1]],G,Z,l)}adjustOddEvenCounts(o,l){let d=we.sum(new Int32Array(this.getOddCounts())),x=we.sum(new Int32Array(this.getEvenCounts())),f=!1,p=!1,b=!1,v=!1;o?(d>12?p=!0:d<4&&(f=!0),x>12?v=!0:x<4&&(b=!0)):(d>11?p=!0:d<5&&(f=!0),x>10?v=!0:x<4&&(b=!0));let B=d+x-l,O=(d&1)===(o?1:0),G=(x&1)===1;if(B===1)if(O){if(G)throw new re;p=!0}else{if(!G)throw new re;v=!0}else if(B===-1)if(O){if(G)throw new re;f=!0}else{if(!G)throw new re;b=!0}else if(B===0){if(O){if(!G)throw new re;d<x?(f=!0,v=!0):(p=!0,b=!0)}else if(G)throw new re}else throw new re;if(f){if(p)throw new re;Qt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(p&&Qt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),b){if(v)throw new re;Qt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}v&&Qt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ln.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ln.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ln.OUTSIDE_GSUM=[0,161,961,2015,2715],ln.INSIDE_GSUM=[0,336,1036,1516],ln.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ln.INSIDE_ODD_WIDEST=[2,4,6,8],ln.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ri extends xt{constructor(o,l){super(),this.readers=[],this.verbose=l===!0;const d=o?o.get(j.POSSIBLE_FORMATS):null,x=o&&o.get(j.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;d?((d.includes(Re.EAN_13)||d.includes(Re.UPC_A)||d.includes(Re.EAN_8)||d.includes(Re.UPC_E))&&this.readers.push(new Ur(o)),d.includes(Re.CODE_39)&&this.readers.push(new Pt(x)),d.includes(Re.CODE_128)&&this.readers.push(new He),d.includes(Re.ITF)&&this.readers.push(new be),d.includes(Re.RSS_14)&&this.readers.push(new ln),d.includes(Re.RSS_EXPANDED)&&this.readers.push(new Le(this.verbose))):(this.readers.push(new Ur(o)),this.readers.push(new Pt),this.readers.push(new Ur(o)),this.readers.push(new He),this.readers.push(new be),this.readers.push(new ln),this.readers.push(new Le(this.verbose)))}decodeRow(o,l,d){for(let x=0;x<this.readers.length;x++)try{return this.readers[x].decodeRow(o,l,d)}catch{}throw new re}reset(){this.readers.forEach(o=>o.reset())}}class Mb extends $e{constructor(o=500,l){super(new ri(l),o,l)}}class Nt{constructor(o,l,d){this.ecCodewords=o,this.ecBlocks=[l],d&&this.ecBlocks.push(d)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Rt{constructor(o,l){this.count=o,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Dt{constructor(o,l,d,x,f,p){this.versionNumber=o,this.symbolSizeRows=l,this.symbolSizeColumns=d,this.dataRegionSizeRows=x,this.dataRegionSizeColumns=f,this.ecBlocks=p;let b=0;const v=p.getECCodewords(),B=p.getECBlocks();for(let O of B)b+=O.getCount()*(O.getDataCodewords()+v);this.totalCodewords=b}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(o,l){if((o&1)!==0||(l&1)!==0)throw new L;for(let d of Dt.VERSIONS)if(d.symbolSizeRows===o&&d.symbolSizeColumns===l)return d;throw new L}toString(){return""+this.versionNumber}static buildVersions(){return[new Dt(1,10,10,8,8,new Nt(5,new Rt(1,3))),new Dt(2,12,12,10,10,new Nt(7,new Rt(1,5))),new Dt(3,14,14,12,12,new Nt(10,new Rt(1,8))),new Dt(4,16,16,14,14,new Nt(12,new Rt(1,12))),new Dt(5,18,18,16,16,new Nt(14,new Rt(1,18))),new Dt(6,20,20,18,18,new Nt(18,new Rt(1,22))),new Dt(7,22,22,20,20,new Nt(20,new Rt(1,30))),new Dt(8,24,24,22,22,new Nt(24,new Rt(1,36))),new Dt(9,26,26,24,24,new Nt(28,new Rt(1,44))),new Dt(10,32,32,14,14,new Nt(36,new Rt(1,62))),new Dt(11,36,36,16,16,new Nt(42,new Rt(1,86))),new Dt(12,40,40,18,18,new Nt(48,new Rt(1,114))),new Dt(13,44,44,20,20,new Nt(56,new Rt(1,144))),new Dt(14,48,48,22,22,new Nt(68,new Rt(1,174))),new Dt(15,52,52,24,24,new Nt(42,new Rt(2,102))),new Dt(16,64,64,14,14,new Nt(56,new Rt(2,140))),new Dt(17,72,72,16,16,new Nt(36,new Rt(4,92))),new Dt(18,80,80,18,18,new Nt(48,new Rt(4,114))),new Dt(19,88,88,20,20,new Nt(56,new Rt(4,144))),new Dt(20,96,96,22,22,new Nt(68,new Rt(4,174))),new Dt(21,104,104,24,24,new Nt(56,new Rt(6,136))),new Dt(22,120,120,18,18,new Nt(68,new Rt(6,175))),new Dt(23,132,132,20,20,new Nt(62,new Rt(8,163))),new Dt(24,144,144,22,22,new Nt(62,new Rt(8,156),new Rt(2,155))),new Dt(25,8,18,6,16,new Nt(7,new Rt(1,5))),new Dt(26,8,32,6,14,new Nt(11,new Rt(1,10))),new Dt(27,12,26,10,24,new Nt(14,new Rt(1,16))),new Dt(28,12,36,10,16,new Nt(18,new Rt(1,22))),new Dt(29,16,36,14,16,new Nt(24,new Rt(1,32))),new Dt(30,16,48,14,22,new Nt(28,new Rt(1,49)))]}}Dt.VERSIONS=Dt.buildVersions();class Z0{constructor(o){const l=o.getHeight();if(l<8||l>144||(l&1)!==0)throw new L;this.version=Z0.readVersion(o),this.mappingBitMatrix=this.extractDataRegion(o),this.readMappingMatrix=new ye(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(o){const l=o.getHeight(),d=o.getWidth();return Dt.getVersionForDimensions(l,d)}readCodewords(){const o=new Int8Array(this.version.getTotalCodewords());let l=0,d=4,x=0;const f=this.mappingBitMatrix.getHeight(),p=this.mappingBitMatrix.getWidth();let b=!1,v=!1,B=!1,O=!1;do if(d===f&&x===0&&!b)o[l++]=this.readCorner1(f,p)&255,d-=2,x+=2,b=!0;else if(d===f-2&&x===0&&(p&3)!==0&&!v)o[l++]=this.readCorner2(f,p)&255,d-=2,x+=2,v=!0;else if(d===f+4&&x===2&&(p&7)===0&&!B)o[l++]=this.readCorner3(f,p)&255,d-=2,x+=2,B=!0;else if(d===f-2&&x===0&&(p&7)===4&&!O)o[l++]=this.readCorner4(f,p)&255,d-=2,x+=2,O=!0;else{do d<f&&x>=0&&!this.readMappingMatrix.get(x,d)&&(o[l++]=this.readUtah(d,x,f,p)&255),d-=2,x+=2;while(d>=0&&x<p);d+=1,x+=3;do d>=0&&x<p&&!this.readMappingMatrix.get(x,d)&&(o[l++]=this.readUtah(d,x,f,p)&255),d+=2,x-=2;while(d<f&&x>=0);d+=3,x+=1}while(d<f||x<p);if(l!==this.version.getTotalCodewords())throw new L;return o}readModule(o,l,d,x){return o<0&&(o+=d,l+=4-(d+4&7)),l<0&&(l+=x,o+=4-(x+4&7)),this.readMappingMatrix.set(l,o),this.mappingBitMatrix.get(l,o)}readUtah(o,l,d,x){let f=0;return this.readModule(o-2,l-2,d,x)&&(f|=1),f<<=1,this.readModule(o-2,l-1,d,x)&&(f|=1),f<<=1,this.readModule(o-1,l-2,d,x)&&(f|=1),f<<=1,this.readModule(o-1,l-1,d,x)&&(f|=1),f<<=1,this.readModule(o-1,l,d,x)&&(f|=1),f<<=1,this.readModule(o,l-2,d,x)&&(f|=1),f<<=1,this.readModule(o,l-1,d,x)&&(f|=1),f<<=1,this.readModule(o,l,d,x)&&(f|=1),f}readCorner1(o,l){let d=0;return this.readModule(o-1,0,o,l)&&(d|=1),d<<=1,this.readModule(o-1,1,o,l)&&(d|=1),d<<=1,this.readModule(o-1,2,o,l)&&(d|=1),d<<=1,this.readModule(0,l-2,o,l)&&(d|=1),d<<=1,this.readModule(0,l-1,o,l)&&(d|=1),d<<=1,this.readModule(1,l-1,o,l)&&(d|=1),d<<=1,this.readModule(2,l-1,o,l)&&(d|=1),d<<=1,this.readModule(3,l-1,o,l)&&(d|=1),d}readCorner2(o,l){let d=0;return this.readModule(o-3,0,o,l)&&(d|=1),d<<=1,this.readModule(o-2,0,o,l)&&(d|=1),d<<=1,this.readModule(o-1,0,o,l)&&(d|=1),d<<=1,this.readModule(0,l-4,o,l)&&(d|=1),d<<=1,this.readModule(0,l-3,o,l)&&(d|=1),d<<=1,this.readModule(0,l-2,o,l)&&(d|=1),d<<=1,this.readModule(0,l-1,o,l)&&(d|=1),d<<=1,this.readModule(1,l-1,o,l)&&(d|=1),d}readCorner3(o,l){let d=0;return this.readModule(o-1,0,o,l)&&(d|=1),d<<=1,this.readModule(o-1,l-1,o,l)&&(d|=1),d<<=1,this.readModule(0,l-3,o,l)&&(d|=1),d<<=1,this.readModule(0,l-2,o,l)&&(d|=1),d<<=1,this.readModule(0,l-1,o,l)&&(d|=1),d<<=1,this.readModule(1,l-3,o,l)&&(d|=1),d<<=1,this.readModule(1,l-2,o,l)&&(d|=1),d<<=1,this.readModule(1,l-1,o,l)&&(d|=1),d}readCorner4(o,l){let d=0;return this.readModule(o-3,0,o,l)&&(d|=1),d<<=1,this.readModule(o-2,0,o,l)&&(d|=1),d<<=1,this.readModule(o-1,0,o,l)&&(d|=1),d<<=1,this.readModule(0,l-2,o,l)&&(d|=1),d<<=1,this.readModule(0,l-1,o,l)&&(d|=1),d<<=1,this.readModule(1,l-1,o,l)&&(d|=1),d<<=1,this.readModule(2,l-1,o,l)&&(d|=1),d<<=1,this.readModule(3,l-1,o,l)&&(d|=1),d}extractDataRegion(o){const l=this.version.getSymbolSizeRows(),d=this.version.getSymbolSizeColumns();if(o.getHeight()!==l)throw new y("Dimension of bitMatrix must match the version size");const x=this.version.getDataRegionSizeRows(),f=this.version.getDataRegionSizeColumns(),p=l/x|0,b=d/f|0,v=p*x,B=b*f,O=new ye(B,v);for(let G=0;G<p;++G){const Z=G*x;for(let ie=0;ie<b;++ie){const fe=ie*f;for(let ge=0;ge<x;++ge){const Be=G*(x+2)+1+ge,Te=Z+ge;for(let ze=0;ze<f;++ze){const qe=ie*(f+2)+1+ze;if(o.get(qe,Be)){const Ue=fe+ze;O.set(Ue,Te)}}}}}return O}}class J0{constructor(o,l){this.numDataCodewords=o,this.codewords=l}static getDataBlocks(o,l){const d=l.getECBlocks();let x=0;const f=d.getECBlocks();for(let ge of f)x+=ge.getCount();const p=new Array(x);let b=0;for(let ge of f)for(let Be=0;Be<ge.getCount();Be++){const Te=ge.getDataCodewords(),ze=d.getECCodewords()+Te;p[b++]=new J0(Te,new Uint8Array(ze))}const B=p[0].codewords.length-d.getECCodewords(),O=B-1;let G=0;for(let ge=0;ge<O;ge++)for(let Be=0;Be<b;Be++)p[Be].codewords[ge]=o[G++];const Z=l.getVersionNumber()===24,ie=Z?8:b;for(let ge=0;ge<ie;ge++)p[ge].codewords[B-1]=o[G++];const fe=p[0].codewords.length;for(let ge=B;ge<fe;ge++)for(let Be=0;Be<b;Be++){const Te=Z?(Be+8)%b:Be,ze=Z&&Te>7?ge-1:ge;p[Te].codewords[ze]=o[G++]}if(G!==o.length)throw new y;return p}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class ec{constructor(o){this.bytes=o,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(o){if(o<1||o>32||o>this.available())throw new y(""+o);let l=0,d=this.bitOffset,x=this.byteOffset;const f=this.bytes;if(d>0){const p=8-d,b=o<p?o:p,v=p-b,B=255>>8-b<<v;l=(f[x]&B)>>v,o-=b,d+=b,d===8&&(d=0,x++)}if(o>0){for(;o>=8;)l=l<<8|f[x]&255,x++,o-=8;if(o>0){const p=8-o,b=255>>p<<p;l=l<<o|(f[x]&b)>>p,d+=o}}return this.bitOffset=d,this.byteOffset=x,l}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var yn;(function(W){W[W.PAD_ENCODE=0]="PAD_ENCODE",W[W.ASCII_ENCODE=1]="ASCII_ENCODE",W[W.C40_ENCODE=2]="C40_ENCODE",W[W.TEXT_ENCODE=3]="TEXT_ENCODE",W[W.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",W[W.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",W[W.BASE256_ENCODE=6]="BASE256_ENCODE"})(yn||(yn={}));class Hs{static decode(o){const l=new ec(o),d=new le,x=new le,f=new Array;let p=yn.ASCII_ENCODE;do if(p===yn.ASCII_ENCODE)p=this.decodeAsciiSegment(l,d,x);else{switch(p){case yn.C40_ENCODE:this.decodeC40Segment(l,d);break;case yn.TEXT_ENCODE:this.decodeTextSegment(l,d);break;case yn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(l,d);break;case yn.EDIFACT_ENCODE:this.decodeEdifactSegment(l,d);break;case yn.BASE256_ENCODE:this.decodeBase256Segment(l,d,f);break;default:throw new L}p=yn.ASCII_ENCODE}while(p!==yn.PAD_ENCODE&&l.available()>0);return x.length()>0&&d.append(x.toString()),new rt(o,d.toString(),f.length===0?null:f,null)}static decodeAsciiSegment(o,l,d){let x=!1;do{let f=o.readBits(8);if(f===0)throw new L;if(f<=128)return x&&(f+=128),l.append(String.fromCharCode(f-1)),yn.ASCII_ENCODE;if(f===129)return yn.PAD_ENCODE;if(f<=229){const p=f-130;p<10&&l.append("0"),l.append(""+p)}else switch(f){case 230:return yn.C40_ENCODE;case 231:return yn.BASE256_ENCODE;case 232:l.append("");break;case 233:case 234:break;case 235:x=!0;break;case 236:l.append("[)>05"),d.insert(0,"");break;case 237:l.append("[)>06"),d.insert(0,"");break;case 238:return yn.ANSIX12_ENCODE;case 239:return yn.TEXT_ENCODE;case 240:return yn.EDIFACT_ENCODE;case 241:break;default:if(f!==254||o.available()!==0)throw new L;break}}while(o.available()>0);return yn.ASCII_ENCODE}static decodeC40Segment(o,l){let d=!1;const x=[];let f=0;do{if(o.available()===8)return;const p=o.readBits(8);if(p===254)return;this.parseTwoBytes(p,o.readBits(8),x);for(let b=0;b<3;b++){const v=x[b];switch(f){case 0:if(v<3)f=v+1;else if(v<this.C40_BASIC_SET_CHARS.length){const B=this.C40_BASIC_SET_CHARS[v];d?(l.append(String.fromCharCode(B.charCodeAt(0)+128)),d=!1):l.append(B)}else throw new L;break;case 1:d?(l.append(String.fromCharCode(v+128)),d=!1):l.append(String.fromCharCode(v)),f=0;break;case 2:if(v<this.C40_SHIFT2_SET_CHARS.length){const B=this.C40_SHIFT2_SET_CHARS[v];d?(l.append(String.fromCharCode(B.charCodeAt(0)+128)),d=!1):l.append(B)}else switch(v){case 27:l.append("");break;case 30:d=!0;break;default:throw new L}f=0;break;case 3:d?(l.append(String.fromCharCode(v+224)),d=!1):l.append(String.fromCharCode(v+96)),f=0;break;default:throw new L}}}while(o.available()>0)}static decodeTextSegment(o,l){let d=!1,x=[],f=0;do{if(o.available()===8)return;const p=o.readBits(8);if(p===254)return;this.parseTwoBytes(p,o.readBits(8),x);for(let b=0;b<3;b++){const v=x[b];switch(f){case 0:if(v<3)f=v+1;else if(v<this.TEXT_BASIC_SET_CHARS.length){const B=this.TEXT_BASIC_SET_CHARS[v];d?(l.append(String.fromCharCode(B.charCodeAt(0)+128)),d=!1):l.append(B)}else throw new L;break;case 1:d?(l.append(String.fromCharCode(v+128)),d=!1):l.append(String.fromCharCode(v)),f=0;break;case 2:if(v<this.TEXT_SHIFT2_SET_CHARS.length){const B=this.TEXT_SHIFT2_SET_CHARS[v];d?(l.append(String.fromCharCode(B.charCodeAt(0)+128)),d=!1):l.append(B)}else switch(v){case 27:l.append("");break;case 30:d=!0;break;default:throw new L}f=0;break;case 3:if(v<this.TEXT_SHIFT3_SET_CHARS.length){const B=this.TEXT_SHIFT3_SET_CHARS[v];d?(l.append(String.fromCharCode(B.charCodeAt(0)+128)),d=!1):l.append(B),f=0}else throw new L;break;default:throw new L}}}while(o.available()>0)}static decodeAnsiX12Segment(o,l){const d=[];do{if(o.available()===8)return;const x=o.readBits(8);if(x===254)return;this.parseTwoBytes(x,o.readBits(8),d);for(let f=0;f<3;f++){const p=d[f];switch(p){case 0:l.append("\r");break;case 1:l.append("*");break;case 2:l.append(">");break;case 3:l.append(" ");break;default:if(p<14)l.append(String.fromCharCode(p+44));else if(p<40)l.append(String.fromCharCode(p+51));else throw new L;break}}}while(o.available()>0)}static parseTwoBytes(o,l,d){let x=(o<<8)+l-1,f=Math.floor(x/1600);d[0]=f,x-=f*1600,f=Math.floor(x/40),d[1]=f,d[2]=x-f*40}static decodeEdifactSegment(o,l){do{if(o.available()<=16)return;for(let d=0;d<4;d++){let x=o.readBits(6);if(x===31){const f=8-o.getBitOffset();f!==8&&o.readBits(f);return}(x&32)===0&&(x|=64),l.append(String.fromCharCode(x))}}while(o.available()>0)}static decodeBase256Segment(o,l,d){let x=1+o.getByteOffset();const f=this.unrandomize255State(o.readBits(8),x++);let p;if(f===0?p=o.available()/8|0:f<250?p=f:p=250*(f-249)+this.unrandomize255State(o.readBits(8),x++),p<0)throw new L;const b=new Uint8Array(p);for(let v=0;v<p;v++){if(o.available()<8)throw new L;b[v]=this.unrandomize255State(o.readBits(8),x++)}d.push(b);try{l.append(oe.decode(b,Y.ISO88591))}catch(v){throw new F("Platform does not support required encoding: "+v.message)}}static unrandomize255State(o,l){const d=149*l%255+1,x=o-d;return x>=0?x:x+256}}Hs.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Hs.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Hs.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Hs.TEXT_SHIFT2_SET_CHARS=Hs.C40_SHIFT2_SET_CHARS,Hs.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Ib{constructor(){this.rsDecoder=new X(J.DATA_MATRIX_FIELD_256)}decode(o){const l=new Z0(o),d=l.getVersion(),x=l.readCodewords(),f=J0.getDataBlocks(x,d);let p=0;for(let B of f)p+=B.getNumDataCodewords();const b=new Uint8Array(p),v=f.length;for(let B=0;B<v;B++){const O=f[B],G=O.getCodewords(),Z=O.getNumDataCodewords();this.correctErrors(G,Z);for(let ie=0;ie<Z;ie++)b[ie*v+B]=G[ie]}return Hs.decode(b)}correctErrors(o,l){const d=new Int32Array(o);try{this.rsDecoder.decode(d,o.length-l)}catch{throw new E}for(let x=0;x<l;x++)o[x]=d[x]}}class xn{constructor(o){this.image=o,this.rectangleDetector=new K(this.image)}detect(){const o=this.rectangleDetector.detect();let l=this.detectSolid1(o);if(l=this.detectSolid2(l),l[3]=this.correctTopRight(l),!l[3])throw new re;l=this.shiftToModuleCenter(l);const d=l[0],x=l[1],f=l[2],p=l[3];let b=this.transitionsBetween(d,p)+1,v=this.transitionsBetween(f,p)+1;(b&1)===1&&(b+=1),(v&1)===1&&(v+=1),4*b<7*v&&4*v<7*b&&(b=v=Math.max(b,v));let B=xn.sampleGrid(this.image,d,x,f,p,b,v);return new _(B,[d,x,f,p])}static shiftPoint(o,l,d){let x=(l.getX()-o.getX())/(d+1),f=(l.getY()-o.getY())/(d+1);return new w(o.getX()+x,o.getY()+f)}static moveAway(o,l,d){let x=o.getX(),f=o.getY();return x<l?x-=1:x+=1,f<d?f-=1:f+=1,new w(x,f)}detectSolid1(o){let l=o[0],d=o[1],x=o[3],f=o[2],p=this.transitionsBetween(l,d),b=this.transitionsBetween(d,x),v=this.transitionsBetween(x,f),B=this.transitionsBetween(f,l),O=p,G=[f,l,d,x];return O>b&&(O=b,G[0]=l,G[1]=d,G[2]=x,G[3]=f),O>v&&(O=v,G[0]=d,G[1]=x,G[2]=f,G[3]=l),O>B&&(G[0]=x,G[1]=f,G[2]=l,G[3]=d),G}detectSolid2(o){let l=o[0],d=o[1],x=o[2],f=o[3],p=this.transitionsBetween(l,f),b=xn.shiftPoint(d,x,(p+1)*4),v=xn.shiftPoint(x,d,(p+1)*4),B=this.transitionsBetween(b,l),O=this.transitionsBetween(v,f);return B<O?(o[0]=l,o[1]=d,o[2]=x,o[3]=f):(o[0]=d,o[1]=x,o[2]=f,o[3]=l),o}correctTopRight(o){let l=o[0],d=o[1],x=o[2],f=o[3],p=this.transitionsBetween(l,f),b=this.transitionsBetween(d,f),v=xn.shiftPoint(l,d,(b+1)*4),B=xn.shiftPoint(x,d,(p+1)*4);p=this.transitionsBetween(v,f),b=this.transitionsBetween(B,f);let O=new w(f.getX()+(x.getX()-d.getX())/(p+1),f.getY()+(x.getY()-d.getY())/(p+1)),G=new w(f.getX()+(l.getX()-d.getX())/(b+1),f.getY()+(l.getY()-d.getY())/(b+1));if(!this.isValid(O))return this.isValid(G)?G:null;if(!this.isValid(G))return O;let Z=this.transitionsBetween(v,O)+this.transitionsBetween(B,O),ie=this.transitionsBetween(v,G)+this.transitionsBetween(B,G);return Z>ie?O:G}shiftToModuleCenter(o){let l=o[0],d=o[1],x=o[2],f=o[3],p=this.transitionsBetween(l,f)+1,b=this.transitionsBetween(x,f)+1,v=xn.shiftPoint(l,d,b*4),B=xn.shiftPoint(x,d,p*4);p=this.transitionsBetween(v,f)+1,b=this.transitionsBetween(B,f)+1,(p&1)===1&&(p+=1),(b&1)===1&&(b+=1);let O=(l.getX()+d.getX()+x.getX()+f.getX())/4,G=(l.getY()+d.getY()+x.getY()+f.getY())/4;l=xn.moveAway(l,O,G),d=xn.moveAway(d,O,G),x=xn.moveAway(x,O,G),f=xn.moveAway(f,O,G);let Z,ie;return v=xn.shiftPoint(l,d,b*4),v=xn.shiftPoint(v,f,p*4),Z=xn.shiftPoint(d,l,b*4),Z=xn.shiftPoint(Z,x,p*4),B=xn.shiftPoint(x,f,b*4),B=xn.shiftPoint(B,d,p*4),ie=xn.shiftPoint(f,x,b*4),ie=xn.shiftPoint(ie,l,p*4),[v,Z,B,ie]}isValid(o){return o.getX()>=0&&o.getX()<this.image.getWidth()&&o.getY()>0&&o.getY()<this.image.getHeight()}static sampleGrid(o,l,d,x,f,p,b){return Ye.getInstance().sampleGrid(o,p,b,.5,.5,p-.5,.5,p-.5,b-.5,.5,b-.5,l.getX(),l.getY(),f.getX(),f.getY(),x.getX(),x.getY(),d.getX(),d.getY())}transitionsBetween(o,l){let d=Math.trunc(o.getX()),x=Math.trunc(o.getY()),f=Math.trunc(l.getX()),p=Math.trunc(l.getY()),b=Math.abs(p-x)>Math.abs(f-d);if(b){let ge=d;d=x,x=ge,ge=f,f=p,p=ge}let v=Math.abs(f-d),B=Math.abs(p-x),O=-v/2,G=x<p?1:-1,Z=d<f?1:-1,ie=0,fe=this.image.get(b?x:d,b?d:x);for(let ge=d,Be=x;ge!==f;ge+=Z){let Te=this.image.get(b?Be:ge,b?ge:Be);if(Te!==fe&&(ie++,fe=Te),O+=B,O>0){if(Be===p)break;Be+=G,O-=v}}return ie}}class zs{constructor(){this.decoder=new Ib}decode(o,l=null){let d,x;if(l!=null&&l.has(j.PURE_BARCODE)){const B=zs.extractPureBits(o.getBlackMatrix());d=this.decoder.decode(B),x=zs.NO_POINTS}else{const B=new xn(o.getBlackMatrix()).detect();d=this.decoder.decode(B.getBits()),x=B.getPoints()}const f=d.getRawBytes(),p=new Ne(d.getText(),f,8*f.length,x,Re.DATA_MATRIX,k.currentTimeMillis()),b=d.getByteSegments();b!=null&&p.putMetadata(Xe.BYTE_SEGMENTS,b);const v=d.getECLevel();return v!=null&&p.putMetadata(Xe.ERROR_CORRECTION_LEVEL,v),p}reset(){}static extractPureBits(o){const l=o.getTopLeftOnBit(),d=o.getBottomRightOnBit();if(l==null||d==null)throw new re;const x=this.moduleSize(l,o);let f=l[1];const p=d[1];let b=l[0];const B=(d[0]-b+1)/x,O=(p-f+1)/x;if(B<=0||O<=0)throw new re;const G=x/2;f+=G,b+=G;const Z=new ye(B,O);for(let ie=0;ie<O;ie++){const fe=f+ie*x;for(let ge=0;ge<B;ge++)o.get(b+ge*x,fe)&&Z.set(ge,ie)}return Z}static moduleSize(o,l){const d=l.getWidth();let x=o[0];const f=o[1];for(;x<d&&l.get(x,f);)x++;if(x===d)throw new re;const p=x-o[0];if(p===0)throw new re;return p}}zs.NO_POINTS=[];class Pb extends $e{constructor(o=500){super(new zs,o)}}var si;(function(W){W[W.L=0]="L",W[W.M=1]="M",W[W.Q=2]="Q",W[W.H=3]="H"})(si||(si={}));class Kt{constructor(o,l,d){this.value=o,this.stringValue=l,this.bits=d,Kt.FOR_BITS.set(d,this),Kt.FOR_VALUE.set(o,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(o){switch(o){case"L":return Kt.L;case"M":return Kt.M;case"Q":return Kt.Q;case"H":return Kt.H;default:throw new m(o+"not available")}}toString(){return this.stringValue}equals(o){if(!(o instanceof Kt))return!1;const l=o;return this.value===l.value}static forBits(o){if(o<0||o>=Kt.FOR_BITS.size)throw new y;return Kt.FOR_BITS.get(o)}}Kt.FOR_BITS=new Map,Kt.FOR_VALUE=new Map,Kt.L=new Kt(si.L,"L",1),Kt.M=new Kt(si.M,"M",0),Kt.Q=new Kt(si.Q,"Q",3),Kt.H=new Kt(si.H,"H",2);class jn{constructor(o){this.errorCorrectionLevel=Kt.forBits(o>>3&3),this.dataMask=o&7}static numBitsDiffering(o,l){return P.bitCount(o^l)}static decodeFormatInformation(o,l){const d=jn.doDecodeFormatInformation(o,l);return d!==null?d:jn.doDecodeFormatInformation(o^jn.FORMAT_INFO_MASK_QR,l^jn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(o,l){let d=Number.MAX_SAFE_INTEGER,x=0;for(const f of jn.FORMAT_INFO_DECODE_LOOKUP){const p=f[0];if(p===o||p===l)return new jn(f[1]);let b=jn.numBitsDiffering(o,p);b<d&&(x=f[1],d=b),o!==l&&(b=jn.numBitsDiffering(l,p),b<d&&(x=f[1],d=b))}return d<=3?new jn(x):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(o){if(!(o instanceof jn))return!1;const l=o;return this.errorCorrectionLevel===l.errorCorrectionLevel&&this.dataMask===l.dataMask}}jn.FORMAT_INFO_MASK_QR=21522,jn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class De{constructor(o,...l){this.ecCodewordsPerBlock=o,this.ecBlocks=l}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let o=0;const l=this.ecBlocks;for(const d of l)o+=d.getCount();return o}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ne{constructor(o,l){this.count=o,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class st{constructor(o,l,...d){this.versionNumber=o,this.alignmentPatternCenters=l,this.ecBlocks=d;let x=0;const f=d[0].getECCodewordsPerBlock(),p=d[0].getECBlocks();for(const b of p)x+=b.getCount()*(b.getDataCodewords()+f);this.totalCodewords=x}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(o){return this.ecBlocks[o.getValue()]}static getProvisionalVersionForDimension(o){if(o%4!==1)throw new L;try{return this.getVersionForNumber((o-17)/4)}catch{throw new L}}static getVersionForNumber(o){if(o<1||o>40)throw new y;return st.VERSIONS[o-1]}static decodeVersionInformation(o){let l=Number.MAX_SAFE_INTEGER,d=0;for(let x=0;x<st.VERSION_DECODE_INFO.length;x++){const f=st.VERSION_DECODE_INFO[x];if(f===o)return st.getVersionForNumber(x+7);const p=jn.numBitsDiffering(o,f);p<l&&(d=x+7,l=p)}return l<=3?st.getVersionForNumber(d):null}buildFunctionPattern(){const o=this.getDimensionForVersion(),l=new ye(o);l.setRegion(0,0,9,9),l.setRegion(o-8,0,8,9),l.setRegion(0,o-8,9,8);const d=this.alignmentPatternCenters.length;for(let x=0;x<d;x++){const f=this.alignmentPatternCenters[x]-2;for(let p=0;p<d;p++)x===0&&(p===0||p===d-1)||x===d-1&&p===0||l.setRegion(this.alignmentPatternCenters[p]-2,f,5,5)}return l.setRegion(6,9,1,o-17),l.setRegion(9,6,o-17,1),this.versionNumber>6&&(l.setRegion(o-11,0,3,6),l.setRegion(0,o-11,6,3)),l}toString(){return""+this.versionNumber}}st.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),st.VERSIONS=[new st(1,new Int32Array(0),new De(7,new ne(1,19)),new De(10,new ne(1,16)),new De(13,new ne(1,13)),new De(17,new ne(1,9))),new st(2,Int32Array.from([6,18]),new De(10,new ne(1,34)),new De(16,new ne(1,28)),new De(22,new ne(1,22)),new De(28,new ne(1,16))),new st(3,Int32Array.from([6,22]),new De(15,new ne(1,55)),new De(26,new ne(1,44)),new De(18,new ne(2,17)),new De(22,new ne(2,13))),new st(4,Int32Array.from([6,26]),new De(20,new ne(1,80)),new De(18,new ne(2,32)),new De(26,new ne(2,24)),new De(16,new ne(4,9))),new st(5,Int32Array.from([6,30]),new De(26,new ne(1,108)),new De(24,new ne(2,43)),new De(18,new ne(2,15),new ne(2,16)),new De(22,new ne(2,11),new ne(2,12))),new st(6,Int32Array.from([6,34]),new De(18,new ne(2,68)),new De(16,new ne(4,27)),new De(24,new ne(4,19)),new De(28,new ne(4,15))),new st(7,Int32Array.from([6,22,38]),new De(20,new ne(2,78)),new De(18,new ne(4,31)),new De(18,new ne(2,14),new ne(4,15)),new De(26,new ne(4,13),new ne(1,14))),new st(8,Int32Array.from([6,24,42]),new De(24,new ne(2,97)),new De(22,new ne(2,38),new ne(2,39)),new De(22,new ne(4,18),new ne(2,19)),new De(26,new ne(4,14),new ne(2,15))),new st(9,Int32Array.from([6,26,46]),new De(30,new ne(2,116)),new De(22,new ne(3,36),new ne(2,37)),new De(20,new ne(4,16),new ne(4,17)),new De(24,new ne(4,12),new ne(4,13))),new st(10,Int32Array.from([6,28,50]),new De(18,new ne(2,68),new ne(2,69)),new De(26,new ne(4,43),new ne(1,44)),new De(24,new ne(6,19),new ne(2,20)),new De(28,new ne(6,15),new ne(2,16))),new st(11,Int32Array.from([6,30,54]),new De(20,new ne(4,81)),new De(30,new ne(1,50),new ne(4,51)),new De(28,new ne(4,22),new ne(4,23)),new De(24,new ne(3,12),new ne(8,13))),new st(12,Int32Array.from([6,32,58]),new De(24,new ne(2,92),new ne(2,93)),new De(22,new ne(6,36),new ne(2,37)),new De(26,new ne(4,20),new ne(6,21)),new De(28,new ne(7,14),new ne(4,15))),new st(13,Int32Array.from([6,34,62]),new De(26,new ne(4,107)),new De(22,new ne(8,37),new ne(1,38)),new De(24,new ne(8,20),new ne(4,21)),new De(22,new ne(12,11),new ne(4,12))),new st(14,Int32Array.from([6,26,46,66]),new De(30,new ne(3,115),new ne(1,116)),new De(24,new ne(4,40),new ne(5,41)),new De(20,new ne(11,16),new ne(5,17)),new De(24,new ne(11,12),new ne(5,13))),new st(15,Int32Array.from([6,26,48,70]),new De(22,new ne(5,87),new ne(1,88)),new De(24,new ne(5,41),new ne(5,42)),new De(30,new ne(5,24),new ne(7,25)),new De(24,new ne(11,12),new ne(7,13))),new st(16,Int32Array.from([6,26,50,74]),new De(24,new ne(5,98),new ne(1,99)),new De(28,new ne(7,45),new ne(3,46)),new De(24,new ne(15,19),new ne(2,20)),new De(30,new ne(3,15),new ne(13,16))),new st(17,Int32Array.from([6,30,54,78]),new De(28,new ne(1,107),new ne(5,108)),new De(28,new ne(10,46),new ne(1,47)),new De(28,new ne(1,22),new ne(15,23)),new De(28,new ne(2,14),new ne(17,15))),new st(18,Int32Array.from([6,30,56,82]),new De(30,new ne(5,120),new ne(1,121)),new De(26,new ne(9,43),new ne(4,44)),new De(28,new ne(17,22),new ne(1,23)),new De(28,new ne(2,14),new ne(19,15))),new st(19,Int32Array.from([6,30,58,86]),new De(28,new ne(3,113),new ne(4,114)),new De(26,new ne(3,44),new ne(11,45)),new De(26,new ne(17,21),new ne(4,22)),new De(26,new ne(9,13),new ne(16,14))),new st(20,Int32Array.from([6,34,62,90]),new De(28,new ne(3,107),new ne(5,108)),new De(26,new ne(3,41),new ne(13,42)),new De(30,new ne(15,24),new ne(5,25)),new De(28,new ne(15,15),new ne(10,16))),new st(21,Int32Array.from([6,28,50,72,94]),new De(28,new ne(4,116),new ne(4,117)),new De(26,new ne(17,42)),new De(28,new ne(17,22),new ne(6,23)),new De(30,new ne(19,16),new ne(6,17))),new st(22,Int32Array.from([6,26,50,74,98]),new De(28,new ne(2,111),new ne(7,112)),new De(28,new ne(17,46)),new De(30,new ne(7,24),new ne(16,25)),new De(24,new ne(34,13))),new st(23,Int32Array.from([6,30,54,78,102]),new De(30,new ne(4,121),new ne(5,122)),new De(28,new ne(4,47),new ne(14,48)),new De(30,new ne(11,24),new ne(14,25)),new De(30,new ne(16,15),new ne(14,16))),new st(24,Int32Array.from([6,28,54,80,106]),new De(30,new ne(6,117),new ne(4,118)),new De(28,new ne(6,45),new ne(14,46)),new De(30,new ne(11,24),new ne(16,25)),new De(30,new ne(30,16),new ne(2,17))),new st(25,Int32Array.from([6,32,58,84,110]),new De(26,new ne(8,106),new ne(4,107)),new De(28,new ne(8,47),new ne(13,48)),new De(30,new ne(7,24),new ne(22,25)),new De(30,new ne(22,15),new ne(13,16))),new st(26,Int32Array.from([6,30,58,86,114]),new De(28,new ne(10,114),new ne(2,115)),new De(28,new ne(19,46),new ne(4,47)),new De(28,new ne(28,22),new ne(6,23)),new De(30,new ne(33,16),new ne(4,17))),new st(27,Int32Array.from([6,34,62,90,118]),new De(30,new ne(8,122),new ne(4,123)),new De(28,new ne(22,45),new ne(3,46)),new De(30,new ne(8,23),new ne(26,24)),new De(30,new ne(12,15),new ne(28,16))),new st(28,Int32Array.from([6,26,50,74,98,122]),new De(30,new ne(3,117),new ne(10,118)),new De(28,new ne(3,45),new ne(23,46)),new De(30,new ne(4,24),new ne(31,25)),new De(30,new ne(11,15),new ne(31,16))),new st(29,Int32Array.from([6,30,54,78,102,126]),new De(30,new ne(7,116),new ne(7,117)),new De(28,new ne(21,45),new ne(7,46)),new De(30,new ne(1,23),new ne(37,24)),new De(30,new ne(19,15),new ne(26,16))),new st(30,Int32Array.from([6,26,52,78,104,130]),new De(30,new ne(5,115),new ne(10,116)),new De(28,new ne(19,47),new ne(10,48)),new De(30,new ne(15,24),new ne(25,25)),new De(30,new ne(23,15),new ne(25,16))),new st(31,Int32Array.from([6,30,56,82,108,134]),new De(30,new ne(13,115),new ne(3,116)),new De(28,new ne(2,46),new ne(29,47)),new De(30,new ne(42,24),new ne(1,25)),new De(30,new ne(23,15),new ne(28,16))),new st(32,Int32Array.from([6,34,60,86,112,138]),new De(30,new ne(17,115)),new De(28,new ne(10,46),new ne(23,47)),new De(30,new ne(10,24),new ne(35,25)),new De(30,new ne(19,15),new ne(35,16))),new st(33,Int32Array.from([6,30,58,86,114,142]),new De(30,new ne(17,115),new ne(1,116)),new De(28,new ne(14,46),new ne(21,47)),new De(30,new ne(29,24),new ne(19,25)),new De(30,new ne(11,15),new ne(46,16))),new st(34,Int32Array.from([6,34,62,90,118,146]),new De(30,new ne(13,115),new ne(6,116)),new De(28,new ne(14,46),new ne(23,47)),new De(30,new ne(44,24),new ne(7,25)),new De(30,new ne(59,16),new ne(1,17))),new st(35,Int32Array.from([6,30,54,78,102,126,150]),new De(30,new ne(12,121),new ne(7,122)),new De(28,new ne(12,47),new ne(26,48)),new De(30,new ne(39,24),new ne(14,25)),new De(30,new ne(22,15),new ne(41,16))),new st(36,Int32Array.from([6,24,50,76,102,128,154]),new De(30,new ne(6,121),new ne(14,122)),new De(28,new ne(6,47),new ne(34,48)),new De(30,new ne(46,24),new ne(10,25)),new De(30,new ne(2,15),new ne(64,16))),new st(37,Int32Array.from([6,28,54,80,106,132,158]),new De(30,new ne(17,122),new ne(4,123)),new De(28,new ne(29,46),new ne(14,47)),new De(30,new ne(49,24),new ne(10,25)),new De(30,new ne(24,15),new ne(46,16))),new st(38,Int32Array.from([6,32,58,84,110,136,162]),new De(30,new ne(4,122),new ne(18,123)),new De(28,new ne(13,46),new ne(32,47)),new De(30,new ne(48,24),new ne(14,25)),new De(30,new ne(42,15),new ne(32,16))),new st(39,Int32Array.from([6,26,54,82,110,138,166]),new De(30,new ne(20,117),new ne(4,118)),new De(28,new ne(40,47),new ne(7,48)),new De(30,new ne(43,24),new ne(22,25)),new De(30,new ne(10,15),new ne(67,16))),new st(40,Int32Array.from([6,30,58,86,114,142,170]),new De(30,new ne(19,118),new ne(6,119)),new De(28,new ne(18,47),new ne(31,48)),new De(30,new ne(34,24),new ne(34,25)),new De(30,new ne(20,15),new ne(61,16)))];var kn;(function(W){W[W.DATA_MASK_000=0]="DATA_MASK_000",W[W.DATA_MASK_001=1]="DATA_MASK_001",W[W.DATA_MASK_010=2]="DATA_MASK_010",W[W.DATA_MASK_011=3]="DATA_MASK_011",W[W.DATA_MASK_100=4]="DATA_MASK_100",W[W.DATA_MASK_101=5]="DATA_MASK_101",W[W.DATA_MASK_110=6]="DATA_MASK_110",W[W.DATA_MASK_111=7]="DATA_MASK_111"})(kn||(kn={}));class Br{constructor(o,l){this.value=o,this.isMasked=l}unmaskBitMatrix(o,l){for(let d=0;d<l;d++)for(let x=0;x<l;x++)this.isMasked(d,x)&&o.flip(x,d)}}Br.values=new Map([[kn.DATA_MASK_000,new Br(kn.DATA_MASK_000,(W,o)=>(W+o&1)===0)],[kn.DATA_MASK_001,new Br(kn.DATA_MASK_001,(W,o)=>(W&1)===0)],[kn.DATA_MASK_010,new Br(kn.DATA_MASK_010,(W,o)=>o%3===0)],[kn.DATA_MASK_011,new Br(kn.DATA_MASK_011,(W,o)=>(W+o)%3===0)],[kn.DATA_MASK_100,new Br(kn.DATA_MASK_100,(W,o)=>(Math.floor(W/2)+Math.floor(o/3)&1)===0)],[kn.DATA_MASK_101,new Br(kn.DATA_MASK_101,(W,o)=>W*o%6===0)],[kn.DATA_MASK_110,new Br(kn.DATA_MASK_110,(W,o)=>W*o%6<3)],[kn.DATA_MASK_111,new Br(kn.DATA_MASK_111,(W,o)=>(W+o+W*o%3&1)===0)]]);class Rb{constructor(o){const l=o.getHeight();if(l<21||(l&3)!==1)throw new L;this.bitMatrix=o}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let o=0;for(let f=0;f<6;f++)o=this.copyBit(f,8,o);o=this.copyBit(7,8,o),o=this.copyBit(8,8,o),o=this.copyBit(8,7,o);for(let f=5;f>=0;f--)o=this.copyBit(8,f,o);const l=this.bitMatrix.getHeight();let d=0;const x=l-7;for(let f=l-1;f>=x;f--)d=this.copyBit(8,f,d);for(let f=l-8;f<l;f++)d=this.copyBit(f,8,d);if(this.parsedFormatInfo=jn.decodeFormatInformation(o,d),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new L}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const o=this.bitMatrix.getHeight(),l=Math.floor((o-17)/4);if(l<=6)return st.getVersionForNumber(l);let d=0;const x=o-11;for(let p=5;p>=0;p--)for(let b=o-9;b>=x;b--)d=this.copyBit(b,p,d);let f=st.decodeVersionInformation(d);if(f!==null&&f.getDimensionForVersion()===o)return this.parsedVersion=f,f;d=0;for(let p=5;p>=0;p--)for(let b=o-9;b>=x;b--)d=this.copyBit(p,b,d);if(f=st.decodeVersionInformation(d),f!==null&&f.getDimensionForVersion()===o)return this.parsedVersion=f,f;throw new L}copyBit(o,l,d){return(this.isMirror?this.bitMatrix.get(l,o):this.bitMatrix.get(o,l))?d<<1|1:d<<1}readCodewords(){const o=this.readFormatInformation(),l=this.readVersion(),d=Br.values.get(o.getDataMask()),x=this.bitMatrix.getHeight();d.unmaskBitMatrix(this.bitMatrix,x);const f=l.buildFunctionPattern();let p=!0;const b=new Uint8Array(l.getTotalCodewords());let v=0,B=0,O=0;for(let G=x-1;G>0;G-=2){G===6&&G--;for(let Z=0;Z<x;Z++){const ie=p?x-1-Z:Z;for(let fe=0;fe<2;fe++)f.get(G-fe,ie)||(O++,B<<=1,this.bitMatrix.get(G-fe,ie)&&(B|=1),O===8&&(b[v++]=B,O=0,B=0))}p=!p}if(v!==l.getTotalCodewords())throw new L;return b}remask(){if(this.parsedFormatInfo===null)return;const o=Br.values[this.parsedFormatInfo.getDataMask()],l=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,l)}setMirror(o){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=o}mirror(){const o=this.bitMatrix;for(let l=0,d=o.getWidth();l<d;l++)for(let x=l+1,f=o.getHeight();x<f;x++)o.get(l,x)!==o.get(x,l)&&(o.flip(x,l),o.flip(l,x))}}class tc{constructor(o,l){this.numDataCodewords=o,this.codewords=l}static getDataBlocks(o,l,d){if(o.length!==l.getTotalCodewords())throw new y;const x=l.getECBlocksForLevel(d);let f=0;const p=x.getECBlocks();for(const fe of p)f+=fe.getCount();const b=new Array(f);let v=0;for(const fe of p)for(let ge=0;ge<fe.getCount();ge++){const Be=fe.getDataCodewords(),Te=x.getECCodewordsPerBlock()+Be;b[v++]=new tc(Be,new Uint8Array(Te))}const B=b[0].codewords.length;let O=b.length-1;for(;O>=0&&b[O].codewords.length!==B;)O--;O++;const G=B-x.getECCodewordsPerBlock();let Z=0;for(let fe=0;fe<G;fe++)for(let ge=0;ge<v;ge++)b[ge].codewords[fe]=o[Z++];for(let fe=O;fe<v;fe++)b[fe].codewords[G]=o[Z++];const ie=b[0].codewords.length;for(let fe=G;fe<ie;fe++)for(let ge=0;ge<v;ge++){const Be=ge<O?fe:fe+1;b[ge].codewords[Be]=o[Z++]}return b}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var _r;(function(W){W[W.TERMINATOR=0]="TERMINATOR",W[W.NUMERIC=1]="NUMERIC",W[W.ALPHANUMERIC=2]="ALPHANUMERIC",W[W.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",W[W.BYTE=4]="BYTE",W[W.ECI=5]="ECI",W[W.KANJI=6]="KANJI",W[W.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",W[W.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",W[W.HANZI=9]="HANZI"})(_r||(_r={}));class ot{constructor(o,l,d,x){this.value=o,this.stringValue=l,this.characterCountBitsForVersions=d,this.bits=x,ot.FOR_BITS.set(x,this),ot.FOR_VALUE.set(o,this)}static forBits(o){const l=ot.FOR_BITS.get(o);if(l===void 0)throw new y;return l}getCharacterCountBits(o){const l=o.getVersionNumber();let d;return l<=9?d=0:l<=26?d=1:d=2,this.characterCountBitsForVersions[d]}getValue(){return this.value}getBits(){return this.bits}equals(o){if(!(o instanceof ot))return!1;const l=o;return this.value===l.value}toString(){return this.stringValue}}ot.FOR_BITS=new Map,ot.FOR_VALUE=new Map,ot.TERMINATOR=new ot(_r.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ot.NUMERIC=new ot(_r.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ot.ALPHANUMERIC=new ot(_r.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ot.STRUCTURED_APPEND=new ot(_r.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ot.BYTE=new ot(_r.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ot.ECI=new ot(_r.ECI,"ECI",Int32Array.from([0,0,0]),7),ot.KANJI=new ot(_r.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ot.FNC1_FIRST_POSITION=new ot(_r.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ot.FNC1_SECOND_POSITION=new ot(_r.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ot.HANZI=new ot(_r.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class an{static decode(o,l,d,x){const f=new ec(o);let p=new le;const b=new Array;let v=-1,B=-1;try{let O=null,G=!1,Z;do{if(f.available()<4)Z=ot.TERMINATOR;else{const ie=f.readBits(4);Z=ot.forBits(ie)}switch(Z){case ot.TERMINATOR:break;case ot.FNC1_FIRST_POSITION:case ot.FNC1_SECOND_POSITION:G=!0;break;case ot.STRUCTURED_APPEND:if(f.available()<16)throw new L;v=f.readBits(8),B=f.readBits(8);break;case ot.ECI:const ie=an.parseECIValue(f);if(O=T.getCharacterSetECIByValue(ie),O===null)throw new L;break;case ot.HANZI:const fe=f.readBits(4),ge=f.readBits(Z.getCharacterCountBits(l));fe===an.GB2312_SUBSET&&an.decodeHanziSegment(f,p,ge);break;default:const Be=f.readBits(Z.getCharacterCountBits(l));switch(Z){case ot.NUMERIC:an.decodeNumericSegment(f,p,Be);break;case ot.ALPHANUMERIC:an.decodeAlphanumericSegment(f,p,Be,G);break;case ot.BYTE:an.decodeByteSegment(f,p,Be,O,b,x);break;case ot.KANJI:an.decodeKanjiSegment(f,p,Be);break;default:throw new L}break}}while(Z!==ot.TERMINATOR)}catch{throw new L}return new rt(o,p.toString(),b.length===0?null:b,d===null?null:d.toString(),v,B)}static decodeHanziSegment(o,l,d){if(d*13>o.available())throw new L;const x=new Uint8Array(2*d);let f=0;for(;d>0;){const p=o.readBits(13);let b=p/96<<8&4294967295|p%96;b<959?b+=41377:b+=42657,x[f]=b>>8&255,x[f+1]=b&255,f+=2,d--}try{l.append(oe.decode(x,Y.GB2312))}catch(p){throw new L(p)}}static decodeKanjiSegment(o,l,d){if(d*13>o.available())throw new L;const x=new Uint8Array(2*d);let f=0;for(;d>0;){const p=o.readBits(13);let b=p/192<<8&4294967295|p%192;b<7936?b+=33088:b+=49472,x[f]=b>>8,x[f+1]=b,f+=2,d--}try{l.append(oe.decode(x,Y.SHIFT_JIS))}catch(p){throw new L(p)}}static decodeByteSegment(o,l,d,x,f,p){if(8*d>o.available())throw new L;const b=new Uint8Array(d);for(let B=0;B<d;B++)b[B]=o.readBits(8);let v;x===null?v=Y.guessEncoding(b,p):v=x.getName();try{l.append(oe.decode(b,v))}catch(B){throw new L(B)}f.push(b)}static toAlphaNumericChar(o){if(o>=an.ALPHANUMERIC_CHARS.length)throw new L;return an.ALPHANUMERIC_CHARS[o]}static decodeAlphanumericSegment(o,l,d,x){const f=l.length();for(;d>1;){if(o.available()<11)throw new L;const p=o.readBits(11);l.append(an.toAlphaNumericChar(Math.floor(p/45))),l.append(an.toAlphaNumericChar(p%45)),d-=2}if(d===1){if(o.available()<6)throw new L;l.append(an.toAlphaNumericChar(o.readBits(6)))}if(x)for(let p=f;p<l.length();p++)l.charAt(p)==="%"&&(p<l.length()-1&&l.charAt(p+1)==="%"?l.deleteCharAt(p+1):l.setCharAt(p,""))}static decodeNumericSegment(o,l,d){for(;d>=3;){if(o.available()<10)throw new L;const x=o.readBits(10);if(x>=1e3)throw new L;l.append(an.toAlphaNumericChar(Math.floor(x/100))),l.append(an.toAlphaNumericChar(Math.floor(x/10)%10)),l.append(an.toAlphaNumericChar(x%10)),d-=3}if(d===2){if(o.available()<7)throw new L;const x=o.readBits(7);if(x>=100)throw new L;l.append(an.toAlphaNumericChar(Math.floor(x/10))),l.append(an.toAlphaNumericChar(x%10))}else if(d===1){if(o.available()<4)throw new L;const x=o.readBits(4);if(x>=10)throw new L;l.append(an.toAlphaNumericChar(x))}}static parseECIValue(o){const l=o.readBits(8);if((l&128)===0)return l&127;if((l&192)===128){const d=o.readBits(8);return(l&63)<<8&4294967295|d}if((l&224)===192){const d=o.readBits(16);return(l&31)<<16&4294967295|d}throw new L}}an.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",an.GB2312_SUBSET=1;class Gx{constructor(o){this.mirrored=o}isMirrored(){return this.mirrored}applyMirroredCorrection(o){if(!this.mirrored||o===null||o.length<3)return;const l=o[0];o[0]=o[2],o[2]=l}}class Ob{constructor(){this.rsDecoder=new X(J.QR_CODE_FIELD_256)}decodeBooleanArray(o,l){return this.decodeBitMatrix(ye.parseFromBooleanArray(o),l)}decodeBitMatrix(o,l){const d=new Rb(o);let x=null;try{return this.decodeBitMatrixParser(d,l)}catch(f){x=f}try{d.remask(),d.setMirror(!0),d.readVersion(),d.readFormatInformation(),d.mirror();const f=this.decodeBitMatrixParser(d,l);return f.setOther(new Gx(!0)),f}catch(f){throw x!==null?x:f}}decodeBitMatrixParser(o,l){const d=o.readVersion(),x=o.readFormatInformation().getErrorCorrectionLevel(),f=o.readCodewords(),p=tc.getDataBlocks(f,d,x);let b=0;for(const O of p)b+=O.getNumDataCodewords();const v=new Uint8Array(b);let B=0;for(const O of p){const G=O.getCodewords(),Z=O.getNumDataCodewords();this.correctErrors(G,Z);for(let ie=0;ie<Z;ie++)v[B++]=G[ie]}return an.decode(v,d,x,l)}correctErrors(o,l){const d=new Int32Array(o);try{this.rsDecoder.decode(d,o.length-l)}catch{throw new E}for(let x=0;x<l;x++)o[x]=d[x]}}class nc extends w{constructor(o,l,d){super(o,l),this.estimatedModuleSize=d}aboutEquals(o,l,d){if(Math.abs(l-this.getY())<=o&&Math.abs(d-this.getX())<=o){const x=Math.abs(o-this.estimatedModuleSize);return x<=1||x<=this.estimatedModuleSize}return!1}combineEstimate(o,l,d){const x=(this.getX()+l)/2,f=(this.getY()+o)/2,p=(this.estimatedModuleSize+d)/2;return new nc(x,f,p)}}class ol{constructor(o,l,d,x,f,p,b){this.image=o,this.startX=l,this.startY=d,this.width=x,this.height=f,this.moduleSize=p,this.resultPointCallback=b,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const o=this.startX,l=this.height,d=this.width,x=o+d,f=this.startY+l/2,p=new Int32Array(3),b=this.image;for(let v=0;v<l;v++){const B=f+((v&1)===0?Math.floor((v+1)/2):-Math.floor((v+1)/2));p[0]=0,p[1]=0,p[2]=0;let O=o;for(;O<x&&!b.get(O,B);)O++;let G=0;for(;O<x;){if(b.get(O,B))if(G===1)p[1]++;else if(G===2){if(this.foundPatternCross(p)){const Z=this.handlePossibleCenter(p,B,O);if(Z!==null)return Z}p[0]=p[2],p[1]=1,p[2]=0,G=1}else p[++G]++;else G===1&&G++,p[G]++;O++}if(this.foundPatternCross(p)){const Z=this.handlePossibleCenter(p,B,x);if(Z!==null)return Z}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new re}static centerFromEnd(o,l){return l-o[2]-o[1]/2}foundPatternCross(o){const l=this.moduleSize,d=l/2;for(let x=0;x<3;x++)if(Math.abs(l-o[x])>=d)return!1;return!0}crossCheckVertical(o,l,d,x){const f=this.image,p=f.getHeight(),b=this.crossCheckStateCount;b[0]=0,b[1]=0,b[2]=0;let v=o;for(;v>=0&&f.get(l,v)&&b[1]<=d;)b[1]++,v--;if(v<0||b[1]>d)return NaN;for(;v>=0&&!f.get(l,v)&&b[0]<=d;)b[0]++,v--;if(b[0]>d)return NaN;for(v=o+1;v<p&&f.get(l,v)&&b[1]<=d;)b[1]++,v++;if(v===p||b[1]>d)return NaN;for(;v<p&&!f.get(l,v)&&b[2]<=d;)b[2]++,v++;if(b[2]>d)return NaN;const B=b[0]+b[1]+b[2];return 5*Math.abs(B-x)>=2*x?NaN:this.foundPatternCross(b)?ol.centerFromEnd(b,v):NaN}handlePossibleCenter(o,l,d){const x=o[0]+o[1]+o[2],f=ol.centerFromEnd(o,d),p=this.crossCheckVertical(l,f,2*o[1],x);if(!isNaN(p)){const b=(o[0]+o[1]+o[2])/3;for(const B of this.possibleCenters)if(B.aboutEquals(b,p,f))return B.combineEstimate(p,f,b);const v=new nc(f,p,b);this.possibleCenters.push(v),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(v)}return null}}class rc extends w{constructor(o,l,d,x){super(o,l),this.estimatedModuleSize=d,this.count=x,x===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(o,l,d){if(Math.abs(l-this.getY())<=o&&Math.abs(d-this.getX())<=o){const x=Math.abs(o-this.estimatedModuleSize);return x<=1||x<=this.estimatedModuleSize}return!1}combineEstimate(o,l,d){const x=this.count+1,f=(this.count*this.getX()+l)/x,p=(this.count*this.getY()+o)/x,b=(this.count*this.estimatedModuleSize+d)/x;return new rc(f,p,b,x)}}class Nb{constructor(o){this.bottomLeft=o[0],this.topLeft=o[1],this.topRight=o[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Dn{constructor(o,l){this.image=o,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=l}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(o){const l=o!=null&&o.get(j.TRY_HARDER)!==void 0,d=o!=null&&o.get(j.PURE_BARCODE)!==void 0,x=this.image,f=x.getHeight(),p=x.getWidth();let b=Math.floor(3*f/(4*Dn.MAX_MODULES));(b<Dn.MIN_SKIP||l)&&(b=Dn.MIN_SKIP);let v=!1;const B=new Int32Array(5);for(let G=b-1;G<f&&!v;G+=b){B[0]=0,B[1]=0,B[2]=0,B[3]=0,B[4]=0;let Z=0;for(let ie=0;ie<p;ie++)if(x.get(ie,G))(Z&1)===1&&Z++,B[Z]++;else if((Z&1)===0)if(Z===4)if(Dn.foundPatternCross(B)){if(this.handlePossibleCenter(B,G,ie,d)===!0)if(b=2,this.hasSkipped===!0)v=this.haveMultiplyConfirmedCenters();else{const ge=this.findRowSkip();ge>B[2]&&(G+=ge-B[2]-b,ie=p-1)}else{B[0]=B[2],B[1]=B[3],B[2]=B[4],B[3]=1,B[4]=0,Z=3;continue}Z=0,B[0]=0,B[1]=0,B[2]=0,B[3]=0,B[4]=0}else B[0]=B[2],B[1]=B[3],B[2]=B[4],B[3]=1,B[4]=0,Z=3;else B[++Z]++;else B[Z]++;Dn.foundPatternCross(B)&&this.handlePossibleCenter(B,G,p,d)===!0&&(b=B[0],this.hasSkipped&&(v=this.haveMultiplyConfirmedCenters()))}const O=this.selectBestPatterns();return w.orderBestPatterns(O),new Nb(O)}static centerFromEnd(o,l){return l-o[4]-o[3]-o[2]/2}static foundPatternCross(o){let l=0;for(let f=0;f<5;f++){const p=o[f];if(p===0)return!1;l+=p}if(l<7)return!1;const d=l/7,x=d/2;return Math.abs(d-o[0])<x&&Math.abs(d-o[1])<x&&Math.abs(3*d-o[2])<3*x&&Math.abs(d-o[3])<x&&Math.abs(d-o[4])<x}getCrossCheckStateCount(){const o=this.crossCheckStateCount;return o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o}crossCheckDiagonal(o,l,d,x){const f=this.getCrossCheckStateCount();let p=0;const b=this.image;for(;o>=p&&l>=p&&b.get(l-p,o-p);)f[2]++,p++;if(o<p||l<p)return!1;for(;o>=p&&l>=p&&!b.get(l-p,o-p)&&f[1]<=d;)f[1]++,p++;if(o<p||l<p||f[1]>d)return!1;for(;o>=p&&l>=p&&b.get(l-p,o-p)&&f[0]<=d;)f[0]++,p++;if(f[0]>d)return!1;const v=b.getHeight(),B=b.getWidth();for(p=1;o+p<v&&l+p<B&&b.get(l+p,o+p);)f[2]++,p++;if(o+p>=v||l+p>=B)return!1;for(;o+p<v&&l+p<B&&!b.get(l+p,o+p)&&f[3]<d;)f[3]++,p++;if(o+p>=v||l+p>=B||f[3]>=d)return!1;for(;o+p<v&&l+p<B&&b.get(l+p,o+p)&&f[4]<d;)f[4]++,p++;if(f[4]>=d)return!1;const O=f[0]+f[1]+f[2]+f[3]+f[4];return Math.abs(O-x)<2*x&&Dn.foundPatternCross(f)}crossCheckVertical(o,l,d,x){const f=this.image,p=f.getHeight(),b=this.getCrossCheckStateCount();let v=o;for(;v>=0&&f.get(l,v);)b[2]++,v--;if(v<0)return NaN;for(;v>=0&&!f.get(l,v)&&b[1]<=d;)b[1]++,v--;if(v<0||b[1]>d)return NaN;for(;v>=0&&f.get(l,v)&&b[0]<=d;)b[0]++,v--;if(b[0]>d)return NaN;for(v=o+1;v<p&&f.get(l,v);)b[2]++,v++;if(v===p)return NaN;for(;v<p&&!f.get(l,v)&&b[3]<d;)b[3]++,v++;if(v===p||b[3]>=d)return NaN;for(;v<p&&f.get(l,v)&&b[4]<d;)b[4]++,v++;if(b[4]>=d)return NaN;const B=b[0]+b[1]+b[2]+b[3]+b[4];return 5*Math.abs(B-x)>=2*x?NaN:Dn.foundPatternCross(b)?Dn.centerFromEnd(b,v):NaN}crossCheckHorizontal(o,l,d,x){const f=this.image,p=f.getWidth(),b=this.getCrossCheckStateCount();let v=o;for(;v>=0&&f.get(v,l);)b[2]++,v--;if(v<0)return NaN;for(;v>=0&&!f.get(v,l)&&b[1]<=d;)b[1]++,v--;if(v<0||b[1]>d)return NaN;for(;v>=0&&f.get(v,l)&&b[0]<=d;)b[0]++,v--;if(b[0]>d)return NaN;for(v=o+1;v<p&&f.get(v,l);)b[2]++,v++;if(v===p)return NaN;for(;v<p&&!f.get(v,l)&&b[3]<d;)b[3]++,v++;if(v===p||b[3]>=d)return NaN;for(;v<p&&f.get(v,l)&&b[4]<d;)b[4]++,v++;if(b[4]>=d)return NaN;const B=b[0]+b[1]+b[2]+b[3]+b[4];return 5*Math.abs(B-x)>=x?NaN:Dn.foundPatternCross(b)?Dn.centerFromEnd(b,v):NaN}handlePossibleCenter(o,l,d,x){const f=o[0]+o[1]+o[2]+o[3]+o[4];let p=Dn.centerFromEnd(o,d),b=this.crossCheckVertical(l,Math.floor(p),o[2],f);if(!isNaN(b)&&(p=this.crossCheckHorizontal(Math.floor(p),Math.floor(b),o[2],f),!isNaN(p)&&(!x||this.crossCheckDiagonal(Math.floor(b),Math.floor(p),o[2],f)))){const v=f/7;let B=!1;const O=this.possibleCenters;for(let G=0,Z=O.length;G<Z;G++){const ie=O[G];if(ie.aboutEquals(v,b,p)){O[G]=ie.combineEstimate(b,p,v),B=!0;break}}if(!B){const G=new rc(p,b,v);O.push(G),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(G)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let l=null;for(const d of this.possibleCenters)if(d.getCount()>=Dn.CENTER_QUORUM)if(l==null)l=d;else return this.hasSkipped=!0,Math.floor((Math.abs(l.getX()-d.getX())-Math.abs(l.getY()-d.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let o=0,l=0;const d=this.possibleCenters.length;for(const p of this.possibleCenters)p.getCount()>=Dn.CENTER_QUORUM&&(o++,l+=p.getEstimatedModuleSize());if(o<3)return!1;const x=l/d;let f=0;for(const p of this.possibleCenters)f+=Math.abs(p.getEstimatedModuleSize()-x);return f<=.05*l}selectBestPatterns(){const o=this.possibleCenters.length;if(o<3)throw new re;const l=this.possibleCenters;let d;if(o>3){let x=0,f=0;for(const v of this.possibleCenters){const B=v.getEstimatedModuleSize();x+=B,f+=B*B}d=x/o;let p=Math.sqrt(f/o-d*d);l.sort((v,B)=>{const O=Math.abs(B.getEstimatedModuleSize()-d),G=Math.abs(v.getEstimatedModuleSize()-d);return O<G?-1:O>G?1:0});const b=Math.max(.2*d,p);for(let v=0;v<l.length&&l.length>3;v++){const B=l[v];Math.abs(B.getEstimatedModuleSize()-d)>b&&(l.splice(v,1),v--)}}if(l.length>3){let x=0;for(const f of l)x+=f.getEstimatedModuleSize();d=x/l.length,l.sort((f,p)=>{if(p.getCount()===f.getCount()){const b=Math.abs(p.getEstimatedModuleSize()-d),v=Math.abs(f.getEstimatedModuleSize()-d);return b<v?1:b>v?-1:0}else return p.getCount()-f.getCount()}),l.splice(3)}return[l[0],l[1],l[2]]}}Dn.CENTER_QUORUM=2,Dn.MIN_SKIP=3,Dn.MAX_MODULES=57;class Vi{constructor(o){this.image=o}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(o){this.resultPointCallback=o==null?null:o.get(j.NEED_RESULT_POINT_CALLBACK);const d=new Dn(this.image,this.resultPointCallback).find(o);return this.processFinderPatternInfo(d)}processFinderPatternInfo(o){const l=o.getTopLeft(),d=o.getTopRight(),x=o.getBottomLeft(),f=this.calculateModuleSize(l,d,x);if(f<1)throw new re("No pattern found in proccess finder.");const p=Vi.computeDimension(l,d,x,f),b=st.getProvisionalVersionForDimension(p),v=b.getDimensionForVersion()-7;let B=null;if(b.getAlignmentPatternCenters().length>0){const ie=d.getX()-l.getX()+x.getX(),fe=d.getY()-l.getY()+x.getY(),ge=1-3/v,Be=Math.floor(l.getX()+ge*(ie-l.getX())),Te=Math.floor(l.getY()+ge*(fe-l.getY()));for(let ze=4;ze<=16;ze<<=1)try{B=this.findAlignmentInRegion(f,Be,Te,ze);break}catch(qe){if(!(qe instanceof re))throw qe}}const O=Vi.createTransform(l,d,x,B,p),G=Vi.sampleGrid(this.image,O,p);let Z;return B===null?Z=[x,l,d]:Z=[x,l,d,B],new _(G,Z)}static createTransform(o,l,d,x,f){const p=f-3.5;let b,v,B,O;return x!==null?(b=x.getX(),v=x.getY(),B=p-3,O=B):(b=l.getX()-o.getX()+d.getX(),v=l.getY()-o.getY()+d.getY(),B=p,O=p),ue.quadrilateralToQuadrilateral(3.5,3.5,p,3.5,B,O,3.5,p,o.getX(),o.getY(),l.getX(),l.getY(),b,v,d.getX(),d.getY())}static sampleGrid(o,l,d){return Ye.getInstance().sampleGridWithTransform(o,d,d,l)}static computeDimension(o,l,d,x){const f=we.round(w.distance(o,l)/x),p=we.round(w.distance(o,d)/x);let b=Math.floor((f+p)/2)+7;switch(b&3){case 0:b++;break;case 2:b--;break;case 3:throw new re("Dimensions could be not found.")}return b}calculateModuleSize(o,l,d){return(this.calculateModuleSizeOneWay(o,l)+this.calculateModuleSizeOneWay(o,d))/2}calculateModuleSizeOneWay(o,l){const d=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(l.getX()),Math.floor(l.getY())),x=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(o.getX()),Math.floor(o.getY()));return isNaN(d)?x/7:isNaN(x)?d/7:(d+x)/14}sizeOfBlackWhiteBlackRunBothWays(o,l,d,x){let f=this.sizeOfBlackWhiteBlackRun(o,l,d,x),p=1,b=o-(d-o);b<0?(p=o/(o-b),b=0):b>=this.image.getWidth()&&(p=(this.image.getWidth()-1-o)/(b-o),b=this.image.getWidth()-1);let v=Math.floor(l-(x-l)*p);return p=1,v<0?(p=l/(l-v),v=0):v>=this.image.getHeight()&&(p=(this.image.getHeight()-1-l)/(v-l),v=this.image.getHeight()-1),b=Math.floor(o+(b-o)*p),f+=this.sizeOfBlackWhiteBlackRun(o,l,b,v),f-1}sizeOfBlackWhiteBlackRun(o,l,d,x){const f=Math.abs(x-l)>Math.abs(d-o);if(f){let ie=o;o=l,l=ie,ie=d,d=x,x=ie}const p=Math.abs(d-o),b=Math.abs(x-l);let v=-p/2;const B=o<d?1:-1,O=l<x?1:-1;let G=0;const Z=d+B;for(let ie=o,fe=l;ie!==Z;ie+=B){const ge=f?fe:ie,Be=f?ie:fe;if(G===1===this.image.get(ge,Be)){if(G===2)return we.distance(ie,fe,o,l);G++}if(v+=b,v>0){if(fe===x)break;fe+=O,v-=p}}return G===2?we.distance(d+B,x,o,l):NaN}findAlignmentInRegion(o,l,d,x){const f=Math.floor(x*o),p=Math.max(0,l-f),b=Math.min(this.image.getWidth()-1,l+f);if(b-p<o*3)throw new re("Alignment top exceeds estimated module size.");const v=Math.max(0,d-f),B=Math.min(this.image.getHeight()-1,d+f);if(B-v<o*3)throw new re("Alignment bottom exceeds estimated module size.");return new ol(this.image,p,v,b-p,B-v,o,this.resultPointCallback).find()}}class Vs{constructor(){this.decoder=new Ob}getDecoder(){return this.decoder}decode(o,l){let d,x;if(l!=null&&l.get(j.PURE_BARCODE)!==void 0){const v=Vs.extractPureBits(o.getBlackMatrix());d=this.decoder.decodeBitMatrix(v,l),x=Vs.NO_POINTS}else{const v=new Vi(o.getBlackMatrix()).detect(l);d=this.decoder.decodeBitMatrix(v.getBits(),l),x=v.getPoints()}d.getOther()instanceof Gx&&d.getOther().applyMirroredCorrection(x);const f=new Ne(d.getText(),d.getRawBytes(),void 0,x,Re.QR_CODE,void 0),p=d.getByteSegments();p!==null&&f.putMetadata(Xe.BYTE_SEGMENTS,p);const b=d.getECLevel();return b!==null&&f.putMetadata(Xe.ERROR_CORRECTION_LEVEL,b),d.hasStructuredAppend()&&(f.putMetadata(Xe.STRUCTURED_APPEND_SEQUENCE,d.getStructuredAppendSequenceNumber()),f.putMetadata(Xe.STRUCTURED_APPEND_PARITY,d.getStructuredAppendParity())),f}reset(){}static extractPureBits(o){const l=o.getTopLeftOnBit(),d=o.getBottomRightOnBit();if(l===null||d===null)throw new re;const x=this.moduleSize(l,o);let f=l[1],p=d[1],b=l[0],v=d[0];if(b>=v||f>=p)throw new re;if(p-f!==v-b&&(v=b+(p-f),v>=o.getWidth()))throw new re;const B=Math.round((v-b+1)/x),O=Math.round((p-f+1)/x);if(B<=0||O<=0)throw new re;if(O!==B)throw new re;const G=Math.floor(x/2);f+=G,b+=G;const Z=b+Math.floor((B-1)*x)-v;if(Z>0){if(Z>G)throw new re;b-=Z}const ie=f+Math.floor((O-1)*x)-p;if(ie>0){if(ie>G)throw new re;f-=ie}const fe=new ye(B,O);for(let ge=0;ge<O;ge++){const Be=f+Math.floor(ge*x);for(let Te=0;Te<B;Te++)o.get(b+Math.floor(Te*x),Be)&&fe.set(Te,ge)}return fe}static moduleSize(o,l){const d=l.getHeight(),x=l.getWidth();let f=o[0],p=o[1],b=!0,v=0;for(;f<x&&p<d;){if(b!==l.get(f,p)){if(++v===5)break;b=!b}f++,p++}if(f===x||p===d)throw new re;return(f-o[0])/7}}Vs.NO_POINTS=new Array;class ct{PDF417Common(){}static getBitCountSum(o){return we.sum(o)}static toIntArray(o){if(o==null||!o.length)return ct.EMPTY_INT_ARRAY;const l=new Int32Array(o.length);let d=0;for(const x of o)l[d++]=x;return l}static getCodeword(o){const l=$.binarySearch(ct.SYMBOL_TABLE,o&262143);return l<0?-1:(ct.CODEWORD_TABLE[l]-1)%ct.NUMBER_OF_CODEWORDS}}ct.NUMBER_OF_CODEWORDS=929,ct.MAX_CODEWORDS_IN_BARCODE=ct.NUMBER_OF_CODEWORDS-1,ct.MIN_ROWS_IN_BARCODE=3,ct.MAX_ROWS_IN_BARCODE=90,ct.MODULES_IN_CODEWORD=17,ct.MODULES_IN_STOP_PATTERN=18,ct.BARS_IN_MODULE=8,ct.EMPTY_INT_ARRAY=new Int32Array([]),ct.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),ct.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Lb{constructor(o,l){this.bits=o,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class Et{static detectMultiple(o,l,d){let x=o.getBlackMatrix(),f=Et.detect(d,x);return f.length||(x=x.clone(),x.rotate180(),f=Et.detect(d,x)),new Lb(x,f)}static detect(o,l){const d=new Array;let x=0,f=0,p=!1;for(;x<l.getHeight();){const b=Et.findVertices(l,x,f);if(b[0]==null&&b[3]==null){if(!p)break;p=!1,f=0;for(const v of d)v[1]!=null&&(x=Math.trunc(Math.max(x,v[1].getY()))),v[3]!=null&&(x=Math.max(x,Math.trunc(v[3].getY())));x+=Et.ROW_STEP;continue}if(p=!0,d.push(b),!o)break;b[2]!=null?(f=Math.trunc(b[2].getX()),x=Math.trunc(b[2].getY())):(f=Math.trunc(b[4].getX()),x=Math.trunc(b[4].getY()))}return d}static findVertices(o,l,d){const x=o.getHeight(),f=o.getWidth(),p=new Array(8);return Et.copyToResult(p,Et.findRowsWithPattern(o,x,f,l,d,Et.START_PATTERN),Et.INDEXES_START_PATTERN),p[4]!=null&&(d=Math.trunc(p[4].getX()),l=Math.trunc(p[4].getY())),Et.copyToResult(p,Et.findRowsWithPattern(o,x,f,l,d,Et.STOP_PATTERN),Et.INDEXES_STOP_PATTERN),p}static copyToResult(o,l,d){for(let x=0;x<d.length;x++)o[d[x]]=l[x]}static findRowsWithPattern(o,l,d,x,f,p){const b=new Array(4);let v=!1;const B=new Int32Array(p.length);for(;x<l;x+=Et.ROW_STEP){let G=Et.findGuardPattern(o,f,x,d,!1,p,B);if(G!=null){for(;x>0;){const Z=Et.findGuardPattern(o,f,--x,d,!1,p,B);if(Z!=null)G=Z;else{x++;break}}b[0]=new w(G[0],x),b[1]=new w(G[1],x),v=!0;break}}let O=x+1;if(v){let G=0,Z=Int32Array.from([Math.trunc(b[0].getX()),Math.trunc(b[1].getX())]);for(;O<l;O++){const ie=Et.findGuardPattern(o,Z[0],O,d,!1,p,B);if(ie!=null&&Math.abs(Z[0]-ie[0])<Et.MAX_PATTERN_DRIFT&&Math.abs(Z[1]-ie[1])<Et.MAX_PATTERN_DRIFT)Z=ie,G=0;else{if(G>Et.SKIPPED_ROW_COUNT_MAX)break;G++}}O-=G+1,b[2]=new w(Z[0],O),b[3]=new w(Z[1],O)}return O-x<Et.BARCODE_MIN_HEIGHT&&$.fill(b,null),b}static findGuardPattern(o,l,d,x,f,p,b){$.fillWithin(b,0,b.length,0);let v=l,B=0;for(;o.get(v,d)&&v>0&&B++<Et.MAX_PIXEL_DRIFT;)v--;let O=v,G=0,Z=p.length;for(let ie=f;O<x;O++)if(o.get(O,d)!==ie)b[G]++;else{if(G===Z-1){if(Et.patternMatchVariance(b,p,Et.MAX_INDIVIDUAL_VARIANCE)<Et.MAX_AVG_VARIANCE)return new Int32Array([v,O]);v+=b[0]+b[1],k.arraycopy(b,2,b,0,G-1),b[G-1]=0,b[G]=0,G--}else G++;b[G]=1,ie=!ie}return G===Z-1&&Et.patternMatchVariance(b,p,Et.MAX_INDIVIDUAL_VARIANCE)<Et.MAX_AVG_VARIANCE?new Int32Array([v,O-1]):null}static patternMatchVariance(o,l,d){let x=o.length,f=0,p=0;for(let B=0;B<x;B++)f+=o[B],p+=l[B];if(f<p)return 1/0;let b=f/p;d*=b;let v=0;for(let B=0;B<x;B++){let O=o[B],G=l[B]*b,Z=O>G?O-G:G-O;if(Z>d)return 1/0;v+=Z}return v/f}}Et.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Et.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Et.MAX_AVG_VARIANCE=.42,Et.MAX_INDIVIDUAL_VARIANCE=.8,Et.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Et.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Et.MAX_PIXEL_DRIFT=3,Et.MAX_PATTERN_DRIFT=5,Et.SKIPPED_ROW_COUNT_MAX=25,Et.ROW_STEP=5,Et.BARCODE_MIN_HEIGHT=10;class Tn{constructor(o,l){if(l.length===0)throw new y;this.field=o;let d=l.length;if(d>1&&l[0]===0){let x=1;for(;x<d&&l[x]===0;)x++;x===d?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(d-x),k.arraycopy(l,x,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(o){return this.coefficients[this.coefficients.length-1-o]}evaluateAt(o){if(o===0)return this.getCoefficient(0);if(o===1){let x=0;for(let f of this.coefficients)x=this.field.add(x,f);return x}let l=this.coefficients[0],d=this.coefficients.length;for(let x=1;x<d;x++)l=this.field.add(this.field.multiply(o,l),this.coefficients[x]);return l}add(o){if(!this.field.equals(o.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero())return o;if(o.isZero())return this;let l=this.coefficients,d=o.coefficients;if(l.length>d.length){let p=l;l=d,d=p}let x=new Int32Array(d.length),f=d.length-l.length;k.arraycopy(d,0,x,0,f);for(let p=f;p<d.length;p++)x[p]=this.field.add(l[p-f],d[p]);return new Tn(this.field,x)}subtract(o){if(!this.field.equals(o.field))throw new y("ModulusPolys do not have same ModulusGF field");return o.isZero()?this:this.add(o.negative())}multiply(o){return o instanceof Tn?this.multiplyOther(o):this.multiplyScalar(o)}multiplyOther(o){if(!this.field.equals(o.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero()||o.isZero())return new Tn(this.field,new Int32Array([0]));let l=this.coefficients,d=l.length,x=o.coefficients,f=x.length,p=new Int32Array(d+f-1);for(let b=0;b<d;b++){let v=l[b];for(let B=0;B<f;B++)p[b+B]=this.field.add(p[b+B],this.field.multiply(v,x[B]))}return new Tn(this.field,p)}negative(){let o=this.coefficients.length,l=new Int32Array(o);for(let d=0;d<o;d++)l[d]=this.field.subtract(0,this.coefficients[d]);return new Tn(this.field,l)}multiplyScalar(o){if(o===0)return new Tn(this.field,new Int32Array([0]));if(o===1)return this;let l=this.coefficients.length,d=new Int32Array(l);for(let x=0;x<l;x++)d[x]=this.field.multiply(this.coefficients[x],o);return new Tn(this.field,d)}multiplyByMonomial(o,l){if(o<0)throw new y;if(l===0)return new Tn(this.field,new Int32Array([0]));let d=this.coefficients.length,x=new Int32Array(d+o);for(let f=0;f<d;f++)x[f]=this.field.multiply(this.coefficients[f],l);return new Tn(this.field,x)}toString(){let o=new le;for(let l=this.getDegree();l>=0;l--){let d=this.getCoefficient(l);d!==0&&(d<0?(o.append(" - "),d=-d):o.length()>0&&o.append(" + "),(l===0||d!==1)&&o.append(d),l!==0&&(l===1?o.append("x"):(o.append("x^"),o.append(l))))}return o.toString()}}class $b{add(o,l){return(o+l)%this.modulus}subtract(o,l){return(this.modulus+o-l)%this.modulus}exp(o){return this.expTable[o]}log(o){if(o===0)throw new y;return this.logTable[o]}inverse(o){if(o===0)throw new _e;return this.expTable[this.modulus-this.logTable[o]-1]}multiply(o,l){return o===0||l===0?0:this.expTable[(this.logTable[o]+this.logTable[l])%(this.modulus-1)]}getSize(){return this.modulus}equals(o){return o===this}}class sc extends $b{constructor(o,l){super(),this.modulus=o,this.expTable=new Int32Array(o),this.logTable=new Int32Array(o);let d=1;for(let x=0;x<o;x++)this.expTable[x]=d,d=d*l%o;for(let x=0;x<o-1;x++)this.logTable[this.expTable[x]]=x;this.zero=new Tn(this,new Int32Array([0])),this.one=new Tn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(o,l){if(o<0)throw new y;if(l===0)return this.zero;let d=new Int32Array(o+1);return d[0]=l,new Tn(this,d)}}sc.PDF417_GF=new sc(ct.NUMBER_OF_CODEWORDS,3);class Qx{constructor(){this.field=sc.PDF417_GF}decode(o,l,d){let x=new Tn(this.field,o),f=new Int32Array(l),p=!1;for(let fe=l;fe>0;fe--){let ge=x.evaluateAt(this.field.exp(fe));f[l-fe]=ge,ge!==0&&(p=!0)}if(!p)return 0;let b=this.field.getOne();if(d!=null)for(const fe of d){let ge=this.field.exp(o.length-1-fe),Be=new Tn(this.field,new Int32Array([this.field.subtract(0,ge),1]));b=b.multiply(Be)}let v=new Tn(this.field,f),B=this.runEuclideanAlgorithm(this.field.buildMonomial(l,1),v,l),O=B[0],G=B[1],Z=this.findErrorLocations(O),ie=this.findErrorMagnitudes(G,O,Z);for(let fe=0;fe<Z.length;fe++){let ge=o.length-1-this.field.log(Z[fe]);if(ge<0)throw E.getChecksumInstance();o[ge]=this.field.subtract(o[ge],ie[fe])}return Z.length}runEuclideanAlgorithm(o,l,d){if(o.getDegree()<l.getDegree()){let Z=o;o=l,l=Z}let x=o,f=l,p=this.field.getZero(),b=this.field.getOne();for(;f.getDegree()>=Math.round(d/2);){let Z=x,ie=p;if(x=f,p=b,x.isZero())throw E.getChecksumInstance();f=Z;let fe=this.field.getZero(),ge=x.getCoefficient(x.getDegree()),Be=this.field.inverse(ge);for(;f.getDegree()>=x.getDegree()&&!f.isZero();){let Te=f.getDegree()-x.getDegree(),ze=this.field.multiply(f.getCoefficient(f.getDegree()),Be);fe=fe.add(this.field.buildMonomial(Te,ze)),f=f.subtract(x.multiplyByMonomial(Te,ze))}b=fe.multiply(p).subtract(ie).negative()}let v=b.getCoefficient(0);if(v===0)throw E.getChecksumInstance();let B=this.field.inverse(v),O=b.multiply(B),G=f.multiply(B);return[O,G]}findErrorLocations(o){let l=o.getDegree(),d=new Int32Array(l),x=0;for(let f=1;f<this.field.getSize()&&x<l;f++)o.evaluateAt(f)===0&&(d[x]=this.field.inverse(f),x++);if(x!==l)throw E.getChecksumInstance();return d}findErrorMagnitudes(o,l,d){let x=l.getDegree(),f=new Int32Array(x);for(let B=1;B<=x;B++)f[x-B]=this.field.multiply(B,l.getCoefficient(B));let p=new Tn(this.field,f),b=d.length,v=new Int32Array(b);for(let B=0;B<b;B++){let O=this.field.inverse(d[B]),G=this.field.subtract(0,o.evaluateAt(O)),Z=this.field.inverse(p.evaluateAt(O));v[B]=this.field.multiply(G,Z)}return v}}class vo{constructor(o,l,d,x,f){o instanceof vo?this.constructor_2(o):this.constructor_1(o,l,d,x,f)}constructor_1(o,l,d,x,f){const p=l==null||d==null,b=x==null||f==null;if(p&&b)throw new re;p?(l=new w(0,x.getY()),d=new w(0,f.getY())):b&&(x=new w(o.getWidth()-1,l.getY()),f=new w(o.getWidth()-1,d.getY())),this.image=o,this.topLeft=l,this.bottomLeft=d,this.topRight=x,this.bottomRight=f,this.minX=Math.trunc(Math.min(l.getX(),d.getX())),this.maxX=Math.trunc(Math.max(x.getX(),f.getX())),this.minY=Math.trunc(Math.min(l.getY(),x.getY())),this.maxY=Math.trunc(Math.max(d.getY(),f.getY()))}constructor_2(o){this.image=o.image,this.topLeft=o.getTopLeft(),this.bottomLeft=o.getBottomLeft(),this.topRight=o.getTopRight(),this.bottomRight=o.getBottomRight(),this.minX=o.getMinX(),this.maxX=o.getMaxX(),this.minY=o.getMinY(),this.maxY=o.getMaxY()}static merge(o,l){return o==null?l:l==null?o:new vo(o.image,o.topLeft,o.bottomLeft,l.topRight,l.bottomRight)}addMissingRows(o,l,d){let x=this.topLeft,f=this.bottomLeft,p=this.topRight,b=this.bottomRight;if(o>0){let v=d?this.topLeft:this.topRight,B=Math.trunc(v.getY()-o);B<0&&(B=0);let O=new w(v.getX(),B);d?x=O:p=O}if(l>0){let v=d?this.bottomLeft:this.bottomRight,B=Math.trunc(v.getY()+l);B>=this.image.getHeight()&&(B=this.image.getHeight()-1);let O=new w(v.getX(),B);d?f=O:b=O}return new vo(this.image,x,f,p,b)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class jb{constructor(o,l,d,x){this.columnCount=o,this.errorCorrectionLevel=x,this.rowCountUpperPart=l,this.rowCountLowerPart=d,this.rowCount=l+d}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class qi{constructor(){this.buffer=""}static form(o,l){let d=-1;function x(p,b,v,B,O,G){if(p==="%%")return"%";if(l[++d]===void 0)return;p=B?parseInt(B.substr(1)):void 0;let Z=O?parseInt(O.substr(1)):void 0,ie;switch(G){case"s":ie=l[d];break;case"c":ie=l[d][0];break;case"f":ie=parseFloat(l[d]).toFixed(p);break;case"p":ie=parseFloat(l[d]).toPrecision(p);break;case"e":ie=parseFloat(l[d]).toExponential(p);break;case"x":ie=parseInt(l[d]).toString(Z||16);break;case"d":ie=parseFloat(parseInt(l[d],Z||10).toPrecision(p)).toFixed(0);break}ie=typeof ie=="object"?JSON.stringify(ie):(+ie).toString(Z);let fe=parseInt(v),ge=v&&v[0]+""=="0"?"0":" ";for(;ie.length<fe;)ie=b!==void 0?ie+ge:ge+ie;return ie}let f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return o.replace(f,x)}format(o,...l){this.buffer+=qi.form(o,l)}toString(){return this.buffer}}class Wi{constructor(o){this.boundingBox=new vo(o),this.codewords=new Array(o.getMaxY()-o.getMinY()+1)}getCodewordNearby(o){let l=this.getCodeword(o);if(l!=null)return l;for(let d=1;d<Wi.MAX_NEARBY_DISTANCE;d++){let x=this.imageRowToCodewordIndex(o)-d;if(x>=0&&(l=this.codewords[x],l!=null)||(x=this.imageRowToCodewordIndex(o)+d,x<this.codewords.length&&(l=this.codewords[x],l!=null)))return l}return null}imageRowToCodewordIndex(o){return o-this.boundingBox.getMinY()}setCodeword(o,l){this.codewords[this.imageRowToCodewordIndex(o)]=l}getCodeword(o){return this.codewords[this.imageRowToCodewordIndex(o)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const o=new qi;let l=0;for(const d of this.codewords){if(d==null){o.format("%3d:    |   %n",l++);continue}o.format("%3d: %3d|%3d%n",l++,d.getRowNumber(),d.getValue())}return o.toString()}}Wi.MAX_NEARBY_DISTANCE=5;class Gi{constructor(){this.values=new Map}setValue(o){o=Math.trunc(o);let l=this.values.get(o);l==null&&(l=0),l++,this.values.set(o,l)}getValue(){let o=-1,l=new Array;for(const[d,x]of this.values.entries()){const f={getKey:()=>d,getValue:()=>x};f.getValue()>o?(o=f.getValue(),l=[],l.push(f.getKey())):f.getValue()===o&&l.push(f.getKey())}return ct.toIntArray(l)}getConfidence(o){return this.values.get(o)}}class Kx extends Wi{constructor(o,l){super(o),this._isLeft=l}setRowNumbers(){for(let o of this.getCodewords())o?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(o){let l=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(l,o);let d=this.getBoundingBox(),x=this._isLeft?d.getTopLeft():d.getTopRight(),f=this._isLeft?d.getBottomLeft():d.getBottomRight(),p=this.imageRowToCodewordIndex(Math.trunc(x.getY())),b=this.imageRowToCodewordIndex(Math.trunc(f.getY())),v=-1,B=1,O=0;for(let G=p;G<b;G++){if(l[G]==null)continue;let Z=l[G],ie=Z.getRowNumber()-v;if(ie===0)O++;else if(ie===1)B=Math.max(B,O),O=1,v=Z.getRowNumber();else if(ie<0||Z.getRowNumber()>=o.getRowCount()||ie>G)l[G]=null;else{let fe;B>2?fe=(B-2)*ie:fe=ie;let ge=fe>=G;for(let Be=1;Be<=fe&&!ge;Be++)ge=l[G-Be]!=null;ge?l[G]=null:(v=Z.getRowNumber(),O=1)}}}getRowHeights(){let o=this.getBarcodeMetadata();if(o==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(o);let l=new Int32Array(o.getRowCount());for(let d of this.getCodewords())if(d!=null){let x=d.getRowNumber();if(x>=l.length)continue;l[x]++}return l}adjustIncompleteIndicatorColumnRowNumbers(o){let l=this.getBoundingBox(),d=this._isLeft?l.getTopLeft():l.getTopRight(),x=this._isLeft?l.getBottomLeft():l.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(d.getY())),p=this.imageRowToCodewordIndex(Math.trunc(x.getY())),b=this.getCodewords(),v=-1;for(let B=f;B<p;B++){if(b[B]==null)continue;let O=b[B];O.setRowNumberAsRowIndicatorColumn();let G=O.getRowNumber()-v;G===0||(G===1?v=O.getRowNumber():O.getRowNumber()>=o.getRowCount()?b[B]=null:v=O.getRowNumber())}}getBarcodeMetadata(){let o=this.getCodewords(),l=new Gi,d=new Gi,x=new Gi,f=new Gi;for(let b of o){if(b==null)continue;b.setRowNumberAsRowIndicatorColumn();let v=b.getValue()%30,B=b.getRowNumber();switch(this._isLeft||(B+=2),B%3){case 0:d.setValue(v*3+1);break;case 1:f.setValue(v/3),x.setValue(v%3);break;case 2:l.setValue(v+1);break}}if(l.getValue().length===0||d.getValue().length===0||x.getValue().length===0||f.getValue().length===0||l.getValue()[0]<1||d.getValue()[0]+x.getValue()[0]<ct.MIN_ROWS_IN_BARCODE||d.getValue()[0]+x.getValue()[0]>ct.MAX_ROWS_IN_BARCODE)return null;let p=new jb(l.getValue()[0],d.getValue()[0],x.getValue()[0],f.getValue()[0]);return this.removeIncorrectCodewords(o,p),p}removeIncorrectCodewords(o,l){for(let d=0;d<o.length;d++){let x=o[d];if(o[d]==null)continue;let f=x.getValue()%30,p=x.getRowNumber();if(p>l.getRowCount()){o[d]=null;continue}switch(this._isLeft||(p+=2),p%3){case 0:f*3+1!==l.getRowCountUpperPart()&&(o[d]=null);break;case 1:(Math.trunc(f/3)!==l.getErrorCorrectionLevel()||f%3!==l.getRowCountLowerPart())&&(o[d]=null);break;case 2:f+1!==l.getColumnCount()&&(o[d]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Qi{constructor(o,l){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=o,this.barcodeColumnCount=o.getColumnCount(),this.boundingBox=l,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let o=ct.MAX_CODEWORDS_IN_BARCODE,l;do l=o,o=this.adjustRowNumbersAndGetCount();while(o>0&&o<l);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(o){o?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let o=this.adjustRowNumbersByRow();if(o===0)return 0;for(let l=1;l<this.barcodeColumnCount+1;l++){let d=this.detectionResultColumns[l].getCodewords();for(let x=0;x<d.length;x++)d[x]!=null&&(d[x].hasValidRowNumber()||this.adjustRowNumbers(l,x,d))}return o}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let o=this.detectionResultColumns[0].getCodewords(),l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let d=0;d<o.length;d++)if(o[d]!=null&&l[d]!=null&&o[d].getRowNumber()===l[d].getRowNumber())for(let x=1;x<=this.barcodeColumnCount;x++){let f=this.detectionResultColumns[x].getCodewords()[d];f!=null&&(f.setRowNumber(o[d].getRowNumber()),f.hasValidRowNumber()||(this.detectionResultColumns[x].getCodewords()[d]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let o=0,l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let d=0;d<l.length;d++){if(l[d]==null)continue;let x=l[d].getRowNumber(),f=0;for(let p=this.barcodeColumnCount+1;p>0&&f<this.ADJUST_ROW_NUMBER_SKIP;p--){let b=this.detectionResultColumns[p].getCodewords()[d];b!=null&&(f=Qi.adjustRowNumberIfValid(x,f,b),b.hasValidRowNumber()||o++)}}return o}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let o=0,l=this.detectionResultColumns[0].getCodewords();for(let d=0;d<l.length;d++){if(l[d]==null)continue;let x=l[d].getRowNumber(),f=0;for(let p=1;p<this.barcodeColumnCount+1&&f<this.ADJUST_ROW_NUMBER_SKIP;p++){let b=this.detectionResultColumns[p].getCodewords()[d];b!=null&&(f=Qi.adjustRowNumberIfValid(x,f,b),b.hasValidRowNumber()||o++)}}return o}static adjustRowNumberIfValid(o,l,d){return d==null||d.hasValidRowNumber()||(d.isValidRowNumber(o)?(d.setRowNumber(o),l=0):++l),l}adjustRowNumbers(o,l,d){if(!this.detectionResultColumns[o-1])return;let x=d[l],f=this.detectionResultColumns[o-1].getCodewords(),p=f;this.detectionResultColumns[o+1]!=null&&(p=this.detectionResultColumns[o+1].getCodewords());let b=new Array(14);b[2]=f[l],b[3]=p[l],l>0&&(b[0]=d[l-1],b[4]=f[l-1],b[5]=p[l-1]),l>1&&(b[8]=d[l-2],b[10]=f[l-2],b[11]=p[l-2]),l<d.length-1&&(b[1]=d[l+1],b[6]=f[l+1],b[7]=p[l+1]),l<d.length-2&&(b[9]=d[l+2],b[12]=f[l+2],b[13]=p[l+2]);for(let v of b)if(Qi.adjustRowNumber(x,v))return}static adjustRowNumber(o,l){return l==null?!1:l.hasValidRowNumber()&&l.getBucket()===o.getBucket()?(o.setRowNumber(l.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(o){this.boundingBox=o}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(o,l){this.detectionResultColumns[o]=l}getDetectionResultColumn(o){return this.detectionResultColumns[o]}toString(){let o=this.detectionResultColumns[0];o==null&&(o=this.detectionResultColumns[this.barcodeColumnCount+1]);let l=new qi;for(let d=0;d<o.getCodewords().length;d++){l.format("CW %3d:",d);for(let x=0;x<this.barcodeColumnCount+2;x++){if(this.detectionResultColumns[x]==null){l.format("    |   ");continue}let f=this.detectionResultColumns[x].getCodewords()[d];if(f==null){l.format("    |   ");continue}l.format(" %3d|%3d",f.getRowNumber(),f.getValue())}l.format("%n")}return l.toString()}}class Ki{constructor(o,l,d,x){this.rowNumber=Ki.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(o),this.endX=Math.trunc(l),this.bucket=Math.trunc(d),this.value=Math.trunc(x)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(o){return o!==Ki.BARCODE_ROW_UNKNOWN&&this.bucket===o%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(o){this.rowNumber=o}toString(){return this.rowNumber+"|"+this.value}}Ki.BARCODE_ROW_UNKNOWN=-1;class nr{static initialize(){for(let o=0;o<ct.SYMBOL_TABLE.length;o++){let l=ct.SYMBOL_TABLE[o],d=l&1;for(let x=0;x<ct.BARS_IN_MODULE;x++){let f=0;for(;(l&1)===d;)f+=1,l>>=1;d=l&1,nr.RATIOS_TABLE[o]||(nr.RATIOS_TABLE[o]=new Array(ct.BARS_IN_MODULE)),nr.RATIOS_TABLE[o][ct.BARS_IN_MODULE-x-1]=Math.fround(f/ct.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(o){let l=nr.getDecodedCodewordValue(nr.sampleBitCounts(o));return l!==-1?l:nr.getClosestDecodedValue(o)}static sampleBitCounts(o){let l=we.sum(o),d=new Int32Array(ct.BARS_IN_MODULE),x=0,f=0;for(let p=0;p<ct.MODULES_IN_CODEWORD;p++){let b=l/(2*ct.MODULES_IN_CODEWORD)+p*l/ct.MODULES_IN_CODEWORD;f+o[x]<=b&&(f+=o[x],x++),d[x]++}return d}static getDecodedCodewordValue(o){let l=nr.getBitValue(o);return ct.getCodeword(l)===-1?-1:l}static getBitValue(o){let l=0;for(let d=0;d<o.length;d++)for(let x=0;x<o[d];x++)l=l<<1|(d%2===0?1:0);return Math.trunc(l)}static getClosestDecodedValue(o){let l=we.sum(o),d=new Array(ct.BARS_IN_MODULE);if(l>1)for(let p=0;p<d.length;p++)d[p]=Math.fround(o[p]/l);let x=N.MAX_VALUE,f=-1;this.bSymbolTableReady||nr.initialize();for(let p=0;p<nr.RATIOS_TABLE.length;p++){let b=0,v=nr.RATIOS_TABLE[p];for(let B=0;B<ct.BARS_IN_MODULE;B++){let O=Math.fround(v[B]-d[B]);if(b+=Math.fround(O*O),b>=x)break}b<x&&(x=b,f=ct.SYMBOL_TABLE[p])}return f}}nr.bSymbolTableReady=!1,nr.RATIOS_TABLE=new Array(ct.SYMBOL_TABLE.length).map(W=>new Array(ct.BARS_IN_MODULE));class Yx{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(o){this.segmentIndex=o}getFileId(){return this.fileId}setFileId(o){this.fileId=o}getOptionalData(){return this.optionalData}setOptionalData(o){this.optionalData=o}isLastSegment(){return this.lastSegment}setLastSegment(o){this.lastSegment=o}getSegmentCount(){return this.segmentCount}setSegmentCount(o){this.segmentCount=o}getSender(){return this.sender||null}setSender(o){this.sender=o}getAddressee(){return this.addressee||null}setAddressee(o){this.addressee=o}getFileName(){return this.fileName}setFileName(o){this.fileName=o}getFileSize(){return this.fileSize}setFileSize(o){this.fileSize=o}getChecksum(){return this.checksum}setChecksum(o){this.checksum=o}getTimestamp(){return this.timestamp}setTimestamp(o){this.timestamp=o}}class Xx{static parseLong(o,l=void 0){return parseInt(o,l)}}class Zx extends h{}Zx.kind="NullPointerException";class Ub{writeBytes(o){this.writeBytesOffset(o,0,o.length)}writeBytesOffset(o,l,d){if(o==null)throw new Zx;if(l<0||l>o.length||d<0||l+d>o.length||l+d<0)throw new D;if(d===0)return;for(let x=0;x<d;x++)this.write(o[l+x])}flush(){}close(){}}class Hb extends h{}class zb extends Ub{constructor(o=32){if(super(),this.count=0,o<0)throw new y("Negative initial size: "+o);this.buf=new Uint8Array(o)}ensureCapacity(o){o-this.buf.length>0&&this.grow(o)}grow(o){let d=this.buf.length<<1;if(d-o<0&&(d=o),d<0){if(o<0)throw new Hb;d=P.MAX_VALUE}this.buf=$.copyOfUint8Array(this.buf,d)}write(o){this.ensureCapacity(this.count+1),this.buf[this.count]=o,this.count+=1}writeBytesOffset(o,l,d){if(l<0||l>o.length||d<0||l+d-o.length>0)throw new D;this.ensureCapacity(this.count+d),k.arraycopy(o,l,this.buf,this.count,d),this.count+=d}writeTo(o){o.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return $.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(o){return o?typeof o=="string"?this.toString_string(o):this.toString_number(o):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(o){return new String(this.buf).toString()}toString_number(o){return new String(this.buf).toString()}close(){}}var zt;(function(W){W[W.ALPHA=0]="ALPHA",W[W.LOWER=1]="LOWER",W[W.MIXED=2]="MIXED",W[W.PUNCT=3]="PUNCT",W[W.ALPHA_SHIFT=4]="ALPHA_SHIFT",W[W.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(zt||(zt={}));function Jx(){if(typeof window<"u")return window.BigInt||null;if(typeof pi<"u")return pi.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let il;function qs(W){if(typeof il>"u"&&(il=Jx()),il===null)throw new Error("BigInt is not supported!");return il(W)}function Vb(){let W=[];W[0]=qs(1);let o=qs(900);W[1]=o;for(let l=2;l<16;l++)W[l]=W[l-1]*o;return W}class Fe{static decode(o,l){let d=new le(""),x=T.ISO8859_1;d.enableDecoding(x);let f=1,p=o[f++],b=new Yx;for(;f<o[0];){switch(p){case Fe.TEXT_COMPACTION_MODE_LATCH:f=Fe.textCompaction(o,f,d);break;case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:f=Fe.byteCompaction(p,o,x,f,d);break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(o[f++]);break;case Fe.NUMERIC_COMPACTION_MODE_LATCH:f=Fe.numericCompaction(o,f,d);break;case Fe.ECI_CHARSET:T.getCharacterSetECIByValue(o[f++]);break;case Fe.ECI_GENERAL_PURPOSE:f+=2;break;case Fe.ECI_USER_DEFINED:f++;break;case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:f=Fe.decodeMacroBlock(o,f,b);break;case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:throw new L;default:f--,f=Fe.textCompaction(o,f,d);break}if(f<o.length)p=o[f++];else throw L.getFormatInstance()}if(d.length()===0)throw L.getFormatInstance();let v=new rt(null,d.toString(),null,l);return v.setOther(b),v}static decodeMacroBlock(o,l,d){if(l+Fe.NUMBER_OF_SEQUENCE_CODEWORDS>o[0])throw L.getFormatInstance();let x=new Int32Array(Fe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let b=0;b<Fe.NUMBER_OF_SEQUENCE_CODEWORDS;b++,l++)x[b]=o[l];d.setSegmentIndex(P.parseInt(Fe.decodeBase900toBase10(x,Fe.NUMBER_OF_SEQUENCE_CODEWORDS)));let f=new le;l=Fe.textCompaction(o,l,f),d.setFileId(f.toString());let p=-1;for(o[l]===Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(p=l+1);l<o[0];)switch(o[l]){case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(l++,o[l]){case Fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let b=new le;l=Fe.textCompaction(o,l+1,b),d.setFileName(b.toString());break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let v=new le;l=Fe.textCompaction(o,l+1,v),d.setSender(v.toString());break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let B=new le;l=Fe.textCompaction(o,l+1,B),d.setAddressee(B.toString());break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let O=new le;l=Fe.numericCompaction(o,l+1,O),d.setSegmentCount(P.parseInt(O.toString()));break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let G=new le;l=Fe.numericCompaction(o,l+1,G),d.setTimestamp(Xx.parseLong(G.toString()));break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let Z=new le;l=Fe.numericCompaction(o,l+1,Z),d.setChecksum(P.parseInt(Z.toString()));break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let ie=new le;l=Fe.numericCompaction(o,l+1,ie),d.setFileSize(Xx.parseLong(ie.toString()));break;default:throw L.getFormatInstance()}break;case Fe.MACRO_PDF417_TERMINATOR:l++,d.setLastSegment(!0);break;default:throw L.getFormatInstance()}if(p!==-1){let b=l-p;d.isLastSegment()&&b--,d.setOptionalData($.copyOfRange(o,p,p+b))}return l}static textCompaction(o,l,d){let x=new Int32Array((o[0]-l)*2),f=new Int32Array((o[0]-l)*2),p=0,b=!1;for(;l<o[0]&&!b;){let v=o[l++];if(v<Fe.TEXT_COMPACTION_MODE_LATCH)x[p]=v/30,x[p+1]=v%30,p+=2;else switch(v){case Fe.TEXT_COMPACTION_MODE_LATCH:x[p++]=Fe.TEXT_COMPACTION_MODE_LATCH;break;case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:case Fe.NUMERIC_COMPACTION_MODE_LATCH:case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:l--,b=!0;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x[p]=Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,v=o[l++],f[p]=v,p++;break}}return Fe.decodeTextCompaction(x,f,p,d),l}static decodeTextCompaction(o,l,d,x){let f=zt.ALPHA,p=zt.ALPHA,b=0;for(;b<d;){let v=o[b],B="";switch(f){case zt.ALPHA:if(v<26)B=String.fromCharCode(65+v);else switch(v){case 26:B=" ";break;case Fe.LL:f=zt.LOWER;break;case Fe.ML:f=zt.MIXED;break;case Fe.PS:p=f,f=zt.PUNCT_SHIFT;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(l[b]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:f=zt.ALPHA;break}break;case zt.LOWER:if(v<26)B=String.fromCharCode(97+v);else switch(v){case 26:B=" ";break;case Fe.AS:p=f,f=zt.ALPHA_SHIFT;break;case Fe.ML:f=zt.MIXED;break;case Fe.PS:p=f,f=zt.PUNCT_SHIFT;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(l[b]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:f=zt.ALPHA;break}break;case zt.MIXED:if(v<Fe.PL)B=Fe.MIXED_CHARS[v];else switch(v){case Fe.PL:f=zt.PUNCT;break;case 26:B=" ";break;case Fe.LL:f=zt.LOWER;break;case Fe.AL:f=zt.ALPHA;break;case Fe.PS:p=f,f=zt.PUNCT_SHIFT;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(l[b]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:f=zt.ALPHA;break}break;case zt.PUNCT:if(v<Fe.PAL)B=Fe.PUNCT_CHARS[v];else switch(v){case Fe.PAL:f=zt.ALPHA;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(l[b]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:f=zt.ALPHA;break}break;case zt.ALPHA_SHIFT:if(f=p,v<26)B=String.fromCharCode(65+v);else switch(v){case 26:B=" ";break;case Fe.TEXT_COMPACTION_MODE_LATCH:f=zt.ALPHA;break}break;case zt.PUNCT_SHIFT:if(f=p,v<Fe.PAL)B=Fe.PUNCT_CHARS[v];else switch(v){case Fe.PAL:f=zt.ALPHA;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(l[b]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:f=zt.ALPHA;break}break}B!==""&&x.append(B),b++}}static byteCompaction(o,l,d,x,f){let p=new zb,b=0,v=0,B=!1;switch(o){case Fe.BYTE_COMPACTION_MODE_LATCH:let O=new Int32Array(6),G=l[x++];for(;x<l[0]&&!B;)switch(O[b++]=G,v=900*v+G,G=l[x++],G){case Fe.TEXT_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.NUMERIC_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:x--,B=!0;break;default:if(b%5===0&&b>0){for(let Z=0;Z<6;++Z)p.write(Number(qs(v)>>qs(8*(5-Z))));v=0,b=0}break}x===l[0]&&G<Fe.TEXT_COMPACTION_MODE_LATCH&&(O[b++]=G);for(let Z=0;Z<b;Z++)p.write(O[Z]);break;case Fe.BYTE_COMPACTION_MODE_LATCH_6:for(;x<l[0]&&!B;){let Z=l[x++];if(Z<Fe.TEXT_COMPACTION_MODE_LATCH)b++,v=900*v+Z;else switch(Z){case Fe.TEXT_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.NUMERIC_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:x--,B=!0;break}if(b%5===0&&b>0){for(let ie=0;ie<6;++ie)p.write(Number(qs(v)>>qs(8*(5-ie))));v=0,b=0}}break}return f.append(oe.decode(p.toByteArray(),d)),x}static numericCompaction(o,l,d){let x=0,f=!1,p=new Int32Array(Fe.MAX_NUMERIC_CODEWORDS);for(;l<o[0]&&!f;){let b=o[l++];if(l===o[0]&&(f=!0),b<Fe.TEXT_COMPACTION_MODE_LATCH)p[x]=b,x++;else switch(b){case Fe.TEXT_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:l--,f=!0;break}(x%Fe.MAX_NUMERIC_CODEWORDS===0||b===Fe.NUMERIC_COMPACTION_MODE_LATCH||f)&&x>0&&(d.append(Fe.decodeBase900toBase10(p,x)),x=0)}return l}static decodeBase900toBase10(o,l){let d=qs(0);for(let f=0;f<l;f++)d+=Fe.EXP900[l-f-1]*qs(o[f]);let x=d.toString();if(x.charAt(0)!=="1")throw new L;return x.substring(1)}}Fe.TEXT_COMPACTION_MODE_LATCH=900,Fe.BYTE_COMPACTION_MODE_LATCH=901,Fe.NUMERIC_COMPACTION_MODE_LATCH=902,Fe.BYTE_COMPACTION_MODE_LATCH_6=924,Fe.ECI_USER_DEFINED=925,Fe.ECI_GENERAL_PURPOSE=926,Fe.ECI_CHARSET=927,Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Fe.MACRO_PDF417_TERMINATOR=922,Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Fe.MAX_NUMERIC_CODEWORDS=15,Fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Fe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Fe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Fe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Fe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Fe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Fe.PL=25,Fe.LL=27,Fe.AS=27,Fe.ML=28,Fe.AL=28,Fe.PS=29,Fe.PAL=29,Fe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Fe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Fe.EXP900=Jx()?Vb():[],Fe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ct{constructor(){}static decode(o,l,d,x,f,p,b){let v=new vo(o,l,d,x,f),B=null,O=null,G;for(let fe=!0;;fe=!1){if(l!=null&&(B=Ct.getRowIndicatorColumn(o,v,l,!0,p,b)),x!=null&&(O=Ct.getRowIndicatorColumn(o,v,x,!1,p,b)),G=Ct.merge(B,O),G==null)throw re.getNotFoundInstance();let ge=G.getBoundingBox();if(fe&&ge!=null&&(ge.getMinY()<v.getMinY()||ge.getMaxY()>v.getMaxY()))v=ge;else break}G.setBoundingBox(v);let Z=G.getBarcodeColumnCount()+1;G.setDetectionResultColumn(0,B),G.setDetectionResultColumn(Z,O);let ie=B!=null;for(let fe=1;fe<=Z;fe++){let ge=ie?fe:Z-fe;if(G.getDetectionResultColumn(ge)!==void 0)continue;let Be;ge===0||ge===Z?Be=new Kx(v,ge===0):Be=new Wi(v),G.setDetectionResultColumn(ge,Be);let Te=-1,ze=Te;for(let qe=v.getMinY();qe<=v.getMaxY();qe++){if(Te=Ct.getStartColumn(G,ge,qe,ie),Te<0||Te>v.getMaxX()){if(ze===-1)continue;Te=ze}let Ue=Ct.detectCodeword(o,v.getMinX(),v.getMaxX(),ie,Te,qe,p,b);Ue!=null&&(Be.setCodeword(qe,Ue),ze=Te,p=Math.min(p,Ue.getWidth()),b=Math.max(b,Ue.getWidth()))}}return Ct.createDecoderResult(G)}static merge(o,l){if(o==null&&l==null)return null;let d=Ct.getBarcodeMetadata(o,l);if(d==null)return null;let x=vo.merge(Ct.adjustBoundingBox(o),Ct.adjustBoundingBox(l));return new Qi(d,x)}static adjustBoundingBox(o){if(o==null)return null;let l=o.getRowHeights();if(l==null)return null;let d=Ct.getMax(l),x=0;for(let b of l)if(x+=d-b,b>0)break;let f=o.getCodewords();for(let b=0;x>0&&f[b]==null;b++)x--;let p=0;for(let b=l.length-1;b>=0&&(p+=d-l[b],!(l[b]>0));b--);for(let b=f.length-1;p>0&&f[b]==null;b--)p--;return o.getBoundingBox().addMissingRows(x,p,o.isLeft())}static getMax(o){let l=-1;for(let d of o)l=Math.max(l,d);return l}static getBarcodeMetadata(o,l){let d;if(o==null||(d=o.getBarcodeMetadata())==null)return l==null?null:l.getBarcodeMetadata();let x;return l==null||(x=l.getBarcodeMetadata())==null?d:d.getColumnCount()!==x.getColumnCount()&&d.getErrorCorrectionLevel()!==x.getErrorCorrectionLevel()&&d.getRowCount()!==x.getRowCount()?null:d}static getRowIndicatorColumn(o,l,d,x,f,p){let b=new Kx(l,x);for(let v=0;v<2;v++){let B=v===0?1:-1,O=Math.trunc(Math.trunc(d.getX()));for(let G=Math.trunc(Math.trunc(d.getY()));G<=l.getMaxY()&&G>=l.getMinY();G+=B){let Z=Ct.detectCodeword(o,0,o.getWidth(),x,O,G,f,p);Z!=null&&(b.setCodeword(G,Z),x?O=Z.getStartX():O=Z.getEndX())}}return b}static adjustCodewordCount(o,l){let d=l[0][1],x=d.getValue(),f=o.getBarcodeColumnCount()*o.getBarcodeRowCount()-Ct.getNumberOfECCodeWords(o.getBarcodeECLevel());if(x.length===0){if(f<1||f>ct.MAX_CODEWORDS_IN_BARCODE)throw re.getNotFoundInstance();d.setValue(f)}else x[0]!==f&&d.setValue(f)}static createDecoderResult(o){let l=Ct.createBarcodeMatrix(o);Ct.adjustCodewordCount(o,l);let d=new Array,x=new Int32Array(o.getBarcodeRowCount()*o.getBarcodeColumnCount()),f=[],p=new Array;for(let v=0;v<o.getBarcodeRowCount();v++)for(let B=0;B<o.getBarcodeColumnCount();B++){let O=l[v][B+1].getValue(),G=v*o.getBarcodeColumnCount()+B;O.length===0?d.push(G):O.length===1?x[G]=O[0]:(p.push(G),f.push(O))}let b=new Array(f.length);for(let v=0;v<b.length;v++)b[v]=f[v];return Ct.createDecoderResultFromAmbiguousValues(o.getBarcodeECLevel(),x,ct.toIntArray(d),ct.toIntArray(p),b)}static createDecoderResultFromAmbiguousValues(o,l,d,x,f){let p=new Int32Array(x.length),b=100;for(;b-- >0;){for(let v=0;v<p.length;v++)l[x[v]]=f[v][p[v]];try{return Ct.decodeCodewords(l,o,d)}catch(v){if(!(v instanceof E))throw v}if(p.length===0)throw E.getChecksumInstance();for(let v=0;v<p.length;v++)if(p[v]<f[v].length-1){p[v]++;break}else if(p[v]=0,v===p.length-1)throw E.getChecksumInstance()}throw E.getChecksumInstance()}static createBarcodeMatrix(o){let l=Array.from({length:o.getBarcodeRowCount()},()=>new Array(o.getBarcodeColumnCount()+2));for(let x=0;x<l.length;x++)for(let f=0;f<l[x].length;f++)l[x][f]=new Gi;let d=0;for(let x of o.getDetectionResultColumns()){if(x!=null){for(let f of x.getCodewords())if(f!=null){let p=f.getRowNumber();if(p>=0){if(p>=l.length)continue;l[p][d].setValue(f.getValue())}}}d++}return l}static isValidBarcodeColumn(o,l){return l>=0&&l<=o.getBarcodeColumnCount()+1}static getStartColumn(o,l,d,x){let f=x?1:-1,p=null;if(Ct.isValidBarcodeColumn(o,l-f)&&(p=o.getDetectionResultColumn(l-f).getCodeword(d)),p!=null)return x?p.getEndX():p.getStartX();if(p=o.getDetectionResultColumn(l).getCodewordNearby(d),p!=null)return x?p.getStartX():p.getEndX();if(Ct.isValidBarcodeColumn(o,l-f)&&(p=o.getDetectionResultColumn(l-f).getCodewordNearby(d)),p!=null)return x?p.getEndX():p.getStartX();let b=0;for(;Ct.isValidBarcodeColumn(o,l-f);){l-=f;for(let v of o.getDetectionResultColumn(l).getCodewords())if(v!=null)return(x?v.getEndX():v.getStartX())+f*b*(v.getEndX()-v.getStartX());b++}return x?o.getBoundingBox().getMinX():o.getBoundingBox().getMaxX()}static detectCodeword(o,l,d,x,f,p,b,v){f=Ct.adjustCodewordStartColumn(o,l,d,x,f,p);let B=Ct.getModuleBitCount(o,l,d,x,f,p);if(B==null)return null;let O,G=we.sum(B);if(x)O=f+G;else{for(let fe=0;fe<B.length/2;fe++){let ge=B[fe];B[fe]=B[B.length-1-fe],B[B.length-1-fe]=ge}O=f,f=O-G}if(!Ct.checkCodewordSkew(G,b,v))return null;let Z=nr.getDecodedValue(B),ie=ct.getCodeword(Z);return ie===-1?null:new Ki(f,O,Ct.getCodewordBucketNumber(Z),ie)}static getModuleBitCount(o,l,d,x,f,p){let b=f,v=new Int32Array(8),B=0,O=x?1:-1,G=x;for(;(x?b<d:b>=l)&&B<v.length;)o.get(b,p)===G?(v[B]++,b+=O):(B++,G=!G);return B===v.length||b===(x?d:l)&&B===v.length-1?v:null}static getNumberOfECCodeWords(o){return 2<<o}static adjustCodewordStartColumn(o,l,d,x,f,p){let b=f,v=x?-1:1;for(let B=0;B<2;B++){for(;(x?b>=l:b<d)&&x===o.get(b,p);){if(Math.abs(f-b)>Ct.CODEWORD_SKEW_SIZE)return f;b+=v}v=-v,x=!x}return b}static checkCodewordSkew(o,l,d){return l-Ct.CODEWORD_SKEW_SIZE<=o&&o<=d+Ct.CODEWORD_SKEW_SIZE}static decodeCodewords(o,l,d){if(o.length===0)throw L.getFormatInstance();let x=1<<l+1,f=Ct.correctErrors(o,d,x);Ct.verifyCodewordCount(o,x);let p=Fe.decode(o,""+l);return p.setErrorsCorrected(f),p.setErasures(d.length),p}static correctErrors(o,l,d){if(l!=null&&l.length>d/2+Ct.MAX_ERRORS||d<0||d>Ct.MAX_EC_CODEWORDS)throw E.getChecksumInstance();return Ct.errorCorrection.decode(o,d,l)}static verifyCodewordCount(o,l){if(o.length<4)throw L.getFormatInstance();let d=o[0];if(d>o.length)throw L.getFormatInstance();if(d===0)if(l<o.length)o[0]=o.length-l;else throw L.getFormatInstance()}static getBitCountForCodeword(o){let l=new Int32Array(8),d=0,x=l.length-1;for(;!((o&1)!==d&&(d=o&1,x--,x<0));)l[x]++,o>>=1;return l}static getCodewordBucketNumber(o){return o instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(o):this.getCodewordBucketNumber_number(o)}static getCodewordBucketNumber_number(o){return Ct.getCodewordBucketNumber(Ct.getBitCountForCodeword(o))}static getCodewordBucketNumber_Int32Array(o){return(o[0]-o[2]+o[4]-o[6]+9)%9}static toString(o){let l=new qi;for(let d=0;d<o.length;d++){l.format("Row %2d: ",d);for(let x=0;x<o[d].length;x++){let f=o[d][x];f.getValue().length===0?l.format("        ",null):l.format("%4d(%2d)",f.getValue()[0],f.getConfidence(f.getValue()[0]))}l.format("%n")}return l.toString()}}Ct.CODEWORD_SKEW_SIZE=2,Ct.MAX_ERRORS=3,Ct.MAX_EC_CODEWORDS=512,Ct.errorCorrection=new Qx;class Mn{decode(o,l=null){let d=Mn.decode(o,l,!1);if(d==null||d.length===0||d[0]==null)throw re.getNotFoundInstance();return d[0]}decodeMultiple(o,l=null){try{return Mn.decode(o,l,!0)}catch(d){throw d instanceof L||d instanceof E?re.getNotFoundInstance():d}}static decode(o,l,d){const x=new Array,f=Et.detectMultiple(o,l,d);for(const p of f.getPoints()){const b=Ct.decode(f.getBits(),p[4],p[5],p[6],p[7],Mn.getMinCodewordWidth(p),Mn.getMaxCodewordWidth(p)),v=new Ne(b.getText(),b.getRawBytes(),void 0,p,Re.PDF_417);v.putMetadata(Xe.ERROR_CORRECTION_LEVEL,b.getECLevel());const B=b.getOther();B!=null&&v.putMetadata(Xe.PDF417_EXTRA_METADATA,B),x.push(v)}return x.map(p=>p)}static getMaxWidth(o,l){return o==null||l==null?0:Math.trunc(Math.abs(o.getX()-l.getX()))}static getMinWidth(o,l){return o==null||l==null?P.MAX_VALUE:Math.trunc(Math.abs(o.getX()-l.getX()))}static getMaxCodewordWidth(o){return Math.floor(Math.max(Math.max(Mn.getMaxWidth(o[0],o[4]),Mn.getMaxWidth(o[6],o[2])*ct.MODULES_IN_CODEWORD/ct.MODULES_IN_STOP_PATTERN),Math.max(Mn.getMaxWidth(o[1],o[5]),Mn.getMaxWidth(o[7],o[3])*ct.MODULES_IN_CODEWORD/ct.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(o){return Math.floor(Math.min(Math.min(Mn.getMinWidth(o[0],o[4]),Mn.getMinWidth(o[6],o[2])*ct.MODULES_IN_CODEWORD/ct.MODULES_IN_STOP_PATTERN),Math.min(Mn.getMinWidth(o[1],o[5]),Mn.getMinWidth(o[7],o[3])*ct.MODULES_IN_CODEWORD/ct.MODULES_IN_STOP_PATTERN)))}reset(){}}class al extends h{}al.kind="ReaderException";class ef{constructor(o,l){this.verbose=o===!0,l&&this.setHints(l)}decode(o,l){return l&&this.setHints(l),this.decodeInternal(o)}decodeWithState(o){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(o)}setHints(o){this.hints=o;const l=!r(o)&&o.get(j.TRY_HARDER)===!0,d=r(o)?null:o.get(j.POSSIBLE_FORMATS),x=new Array;if(!r(d)){const f=d.some(p=>p===Re.UPC_A||p===Re.UPC_E||p===Re.EAN_13||p===Re.EAN_8||p===Re.CODABAR||p===Re.CODE_39||p===Re.CODE_93||p===Re.CODE_128||p===Re.ITF||p===Re.RSS_14||p===Re.RSS_EXPANDED);f&&!l&&x.push(new ri(o,this.verbose)),d.includes(Re.QR_CODE)&&x.push(new Vs),d.includes(Re.DATA_MATRIX)&&x.push(new zs),d.includes(Re.AZTEC)&&x.push(new ut),d.includes(Re.PDF_417)&&x.push(new Mn),f&&l&&x.push(new ri(o,this.verbose))}x.length===0&&(l||x.push(new ri(o,this.verbose)),x.push(new Vs),x.push(new zs),x.push(new ut),x.push(new Mn),l&&x.push(new ri(o,this.verbose))),this.readers=x}reset(){if(this.readers!==null)for(const o of this.readers)o.reset()}decodeInternal(o){if(this.readers===null)throw new al("No readers where selected, nothing can be read.");for(const l of this.readers)try{return l.decode(o,this.hints)}catch(d){if(d instanceof al)continue}throw new re("No MultiFormat Readers were able to detect the code.")}}class qb extends $e{constructor(o=null,l=500){const d=new ef;d.setHints(o),super(d,l)}decodeBitmap(o){return this.reader.decodeWithState(o)}}class Wb extends $e{constructor(o=500){super(new Mn,o)}}class Gb extends $e{constructor(o=500){super(new Vs,o)}}var oc;(function(W){W[W.ERROR_CORRECTION=0]="ERROR_CORRECTION",W[W.CHARACTER_SET=1]="CHARACTER_SET",W[W.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",W[W.MIN_SIZE=3]="MIN_SIZE",W[W.MAX_SIZE=4]="MAX_SIZE",W[W.MARGIN=5]="MARGIN",W[W.PDF417_COMPACT=6]="PDF417_COMPACT",W[W.PDF417_COMPACTION=7]="PDF417_COMPACTION",W[W.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",W[W.AZTEC_LAYERS=9]="AZTEC_LAYERS",W[W.QR_VERSION=10]="QR_VERSION"})(oc||(oc={}));var bn=oc;class ic{constructor(o){this.field=o,this.cachedGenerators=[],this.cachedGenerators.push(new te(o,Int32Array.from([1])))}buildGenerator(o){const l=this.cachedGenerators;if(o>=l.length){let d=l[l.length-1];const x=this.field;for(let f=l.length;f<=o;f++){const p=d.multiply(new te(x,Int32Array.from([1,x.exp(f-1+x.getGeneratorBase())])));l.push(p),d=p}}return l[o]}encode(o,l){if(l===0)throw new y("No error correction bytes");const d=o.length-l;if(d<=0)throw new y("No data bytes provided");const x=this.buildGenerator(l),f=new Int32Array(d);k.arraycopy(o,0,f,0,d);let p=new te(this.field,f);p=p.multiplyByMonomial(l,1);const v=p.divide(x)[1].getCoefficients(),B=l-v.length;for(let O=0;O<B;O++)o[d+O]=0;k.arraycopy(v,0,o,d+B,v.length)}}class cn{constructor(){}static applyMaskPenaltyRule1(o){return cn.applyMaskPenaltyRule1Internal(o,!0)+cn.applyMaskPenaltyRule1Internal(o,!1)}static applyMaskPenaltyRule2(o){let l=0;const d=o.getArray(),x=o.getWidth(),f=o.getHeight();for(let p=0;p<f-1;p++){const b=d[p];for(let v=0;v<x-1;v++){const B=b[v];B===b[v+1]&&B===d[p+1][v]&&B===d[p+1][v+1]&&l++}}return cn.N2*l}static applyMaskPenaltyRule3(o){let l=0;const d=o.getArray(),x=o.getWidth(),f=o.getHeight();for(let p=0;p<f;p++)for(let b=0;b<x;b++){const v=d[p];b+6<x&&v[b]===1&&v[b+1]===0&&v[b+2]===1&&v[b+3]===1&&v[b+4]===1&&v[b+5]===0&&v[b+6]===1&&(cn.isWhiteHorizontal(v,b-4,b)||cn.isWhiteHorizontal(v,b+7,b+11))&&l++,p+6<f&&d[p][b]===1&&d[p+1][b]===0&&d[p+2][b]===1&&d[p+3][b]===1&&d[p+4][b]===1&&d[p+5][b]===0&&d[p+6][b]===1&&(cn.isWhiteVertical(d,b,p-4,p)||cn.isWhiteVertical(d,b,p+7,p+11))&&l++}return l*cn.N3}static isWhiteHorizontal(o,l,d){l=Math.max(l,0),d=Math.min(d,o.length);for(let x=l;x<d;x++)if(o[x]===1)return!1;return!0}static isWhiteVertical(o,l,d,x){d=Math.max(d,0),x=Math.min(x,o.length);for(let f=d;f<x;f++)if(o[f][l]===1)return!1;return!0}static applyMaskPenaltyRule4(o){let l=0;const d=o.getArray(),x=o.getWidth(),f=o.getHeight();for(let v=0;v<f;v++){const B=d[v];for(let O=0;O<x;O++)B[O]===1&&l++}const p=o.getHeight()*o.getWidth();return Math.floor(Math.abs(l*2-p)*10/p)*cn.N4}static getDataMaskBit(o,l,d){let x,f;switch(o){case 0:x=d+l&1;break;case 1:x=d&1;break;case 2:x=l%3;break;case 3:x=(d+l)%3;break;case 4:x=Math.floor(d/2)+Math.floor(l/3)&1;break;case 5:f=d*l,x=(f&1)+f%3;break;case 6:f=d*l,x=(f&1)+f%3&1;break;case 7:f=d*l,x=f%3+(d+l&1)&1;break;default:throw new y("Invalid mask pattern: "+o)}return x===0}static applyMaskPenaltyRule1Internal(o,l){let d=0;const x=l?o.getHeight():o.getWidth(),f=l?o.getWidth():o.getHeight(),p=o.getArray();for(let b=0;b<x;b++){let v=0,B=-1;for(let O=0;O<f;O++){const G=l?p[b][O]:p[O][b];G===B?v++:(v>=5&&(d+=cn.N1+(v-5)),v=1,B=G)}v>=5&&(d+=cn.N1+(v-5))}return d}}cn.N1=3,cn.N2=3,cn.N3=40,cn.N4=10;class ll{constructor(o,l){this.width=o,this.height=l;const d=new Array(l);for(let x=0;x!==l;x++)d[x]=new Uint8Array(o);this.bytes=d}getHeight(){return this.height}getWidth(){return this.width}get(o,l){return this.bytes[l][o]}getArray(){return this.bytes}setNumber(o,l,d){this.bytes[l][o]=d}setBoolean(o,l,d){this.bytes[l][o]=d?1:0}clear(o){for(const l of this.bytes)$.fill(l,o)}equals(o){if(!(o instanceof ll))return!1;const l=o;if(this.width!==l.width||this.height!==l.height)return!1;for(let d=0,x=this.height;d<x;++d){const f=this.bytes[d],p=l.bytes[d];for(let b=0,v=this.width;b<v;++b)if(f[b]!==p[b])return!1}return!0}toString(){const o=new le;for(let l=0,d=this.height;l<d;++l){const x=this.bytes[l];for(let f=0,p=this.width;f<p;++f)switch(x[f]){case 0:o.append(" 0");break;case 1:o.append(" 1");break;default:o.append("  ");break}o.append(`
`)}return o.toString()}}class Eo{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const o=new le;return o.append(`<<
`),o.append(" mode: "),o.append(this.mode?this.mode.toString():"null"),o.append(`
 ecLevel: `),o.append(this.ecLevel?this.ecLevel.toString():"null"),o.append(`
 version: `),o.append(this.version?this.version.toString():"null"),o.append(`
 maskPattern: `),o.append(this.maskPattern.toString()),this.matrix?(o.append(`
 matrix:
`),o.append(this.matrix.toString())):o.append(`
 matrix: null
`),o.append(`>>
`),o.toString()}setMode(o){this.mode=o}setECLevel(o){this.ecLevel=o}setVersion(o){this.version=o}setMaskPattern(o){this.maskPattern=o}setMatrix(o){this.matrix=o}static isValidMaskPattern(o){return o>=0&&o<Eo.NUM_MASK_PATTERNS}}Eo.NUM_MASK_PATTERNS=8;class qt extends h{}qt.kind="WriterException";class at{constructor(){}static clearMatrix(o){o.clear(255)}static buildMatrix(o,l,d,x,f){at.clearMatrix(f),at.embedBasicPatterns(d,f),at.embedTypeInfo(l,x,f),at.maybeEmbedVersionInfo(d,f),at.embedDataBits(o,x,f)}static embedBasicPatterns(o,l){at.embedPositionDetectionPatternsAndSeparators(l),at.embedDarkDotAtLeftBottomCorner(l),at.maybeEmbedPositionAdjustmentPatterns(o,l),at.embedTimingPatterns(l)}static embedTypeInfo(o,l,d){const x=new S;at.makeTypeInfoBits(o,l,x);for(let f=0,p=x.getSize();f<p;++f){const b=x.get(x.getSize()-1-f),v=at.TYPE_INFO_COORDINATES[f],B=v[0],O=v[1];if(d.setBoolean(B,O,b),f<8){const G=d.getWidth()-f-1;d.setBoolean(G,8,b)}else{const Z=d.getHeight()-7+(f-8);d.setBoolean(8,Z,b)}}}static maybeEmbedVersionInfo(o,l){if(o.getVersionNumber()<7)return;const d=new S;at.makeVersionInfoBits(o,d);let x=17;for(let f=0;f<6;++f)for(let p=0;p<3;++p){const b=d.get(x);x--,l.setBoolean(f,l.getHeight()-11+p,b),l.setBoolean(l.getHeight()-11+p,f,b)}}static embedDataBits(o,l,d){let x=0,f=-1,p=d.getWidth()-1,b=d.getHeight()-1;for(;p>0;){for(p===6&&(p-=1);b>=0&&b<d.getHeight();){for(let v=0;v<2;++v){const B=p-v;if(!at.isEmpty(d.get(B,b)))continue;let O;x<o.getSize()?(O=o.get(x),++x):O=!1,l!==255&&cn.getDataMaskBit(l,B,b)&&(O=!O),d.setBoolean(B,b,O)}b+=f}f=-f,b+=f,p-=2}if(x!==o.getSize())throw new qt("Not all bits consumed: "+x+"/"+o.getSize())}static findMSBSet(o){return 32-P.numberOfLeadingZeros(o)}static calculateBCHCode(o,l){if(l===0)throw new y("0 polynomial");const d=at.findMSBSet(l);for(o<<=d-1;at.findMSBSet(o)>=d;)o^=l<<at.findMSBSet(o)-d;return o}static makeTypeInfoBits(o,l,d){if(!Eo.isValidMaskPattern(l))throw new qt("Invalid mask pattern");const x=o.getBits()<<3|l;d.appendBits(x,5);const f=at.calculateBCHCode(x,at.TYPE_INFO_POLY);d.appendBits(f,10);const p=new S;if(p.appendBits(at.TYPE_INFO_MASK_PATTERN,15),d.xor(p),d.getSize()!==15)throw new qt("should not happen but we got: "+d.getSize())}static makeVersionInfoBits(o,l){l.appendBits(o.getVersionNumber(),6);const d=at.calculateBCHCode(o.getVersionNumber(),at.VERSION_INFO_POLY);if(l.appendBits(d,12),l.getSize()!==18)throw new qt("should not happen but we got: "+l.getSize())}static isEmpty(o){return o===255}static embedTimingPatterns(o){for(let l=8;l<o.getWidth()-8;++l){const d=(l+1)%2;at.isEmpty(o.get(l,6))&&o.setNumber(l,6,d),at.isEmpty(o.get(6,l))&&o.setNumber(6,l,d)}}static embedDarkDotAtLeftBottomCorner(o){if(o.get(8,o.getHeight()-8)===0)throw new qt;o.setNumber(8,o.getHeight()-8,1)}static embedHorizontalSeparationPattern(o,l,d){for(let x=0;x<8;++x){if(!at.isEmpty(d.get(o+x,l)))throw new qt;d.setNumber(o+x,l,0)}}static embedVerticalSeparationPattern(o,l,d){for(let x=0;x<7;++x){if(!at.isEmpty(d.get(o,l+x)))throw new qt;d.setNumber(o,l+x,0)}}static embedPositionAdjustmentPattern(o,l,d){for(let x=0;x<5;++x){const f=at.POSITION_ADJUSTMENT_PATTERN[x];for(let p=0;p<5;++p)d.setNumber(o+p,l+x,f[p])}}static embedPositionDetectionPattern(o,l,d){for(let x=0;x<7;++x){const f=at.POSITION_DETECTION_PATTERN[x];for(let p=0;p<7;++p)d.setNumber(o+p,l+x,f[p])}}static embedPositionDetectionPatternsAndSeparators(o){const l=at.POSITION_DETECTION_PATTERN[0].length;at.embedPositionDetectionPattern(0,0,o),at.embedPositionDetectionPattern(o.getWidth()-l,0,o),at.embedPositionDetectionPattern(0,o.getWidth()-l,o);const d=8;at.embedHorizontalSeparationPattern(0,d-1,o),at.embedHorizontalSeparationPattern(o.getWidth()-d,d-1,o),at.embedHorizontalSeparationPattern(0,o.getWidth()-d,o);const x=7;at.embedVerticalSeparationPattern(x,0,o),at.embedVerticalSeparationPattern(o.getHeight()-x-1,0,o),at.embedVerticalSeparationPattern(x,o.getHeight()-x,o)}static maybeEmbedPositionAdjustmentPatterns(o,l){if(o.getVersionNumber()<2)return;const d=o.getVersionNumber()-1,x=at.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[d];for(let f=0,p=x.length;f!==p;f++){const b=x[f];if(b>=0)for(let v=0;v!==p;v++){const B=x[v];B>=0&&at.isEmpty(l.get(B,b))&&at.embedPositionAdjustmentPattern(B-2,b-2,l)}}}}at.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),at.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),at.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),at.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),at.VERSION_INFO_POLY=7973,at.TYPE_INFO_POLY=1335,at.TYPE_INFO_MASK_PATTERN=21522;class Qb{constructor(o,l){this.dataBytes=o,this.errorCorrectionBytes=l}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Jt{constructor(){}static calculateMaskPenalty(o){return cn.applyMaskPenaltyRule1(o)+cn.applyMaskPenaltyRule2(o)+cn.applyMaskPenaltyRule3(o)+cn.applyMaskPenaltyRule4(o)}static encode(o,l,d=null){let x=Jt.DEFAULT_BYTE_MODE_ENCODING;const f=d!==null&&d.get(bn.CHARACTER_SET)!==void 0;f&&(x=d.get(bn.CHARACTER_SET).toString());const p=this.chooseMode(o,x),b=new S;if(p===ot.BYTE&&(f||Jt.DEFAULT_BYTE_MODE_ENCODING!==x)){const qe=T.getCharacterSetECIByName(x);qe!==void 0&&this.appendECI(qe,b)}this.appendModeInfo(p,b);const v=new S;this.appendBytes(o,p,v,x);let B;if(d!==null&&d.get(bn.QR_VERSION)!==void 0){const qe=Number.parseInt(d.get(bn.QR_VERSION).toString(),10);B=st.getVersionForNumber(qe);const Ue=this.calculateBitsNeeded(p,b,v,B);if(!this.willFit(Ue,B,l))throw new qt("Data too big for requested version")}else B=this.recommendVersion(l,p,b,v);const O=new S;O.appendBitArray(b);const G=p===ot.BYTE?v.getSizeInBytes():o.length;this.appendLengthInfo(G,B,p,O),O.appendBitArray(v);const Z=B.getECBlocksForLevel(l),ie=B.getTotalCodewords()-Z.getTotalECCodewords();this.terminateBits(ie,O);const fe=this.interleaveWithECBytes(O,B.getTotalCodewords(),ie,Z.getNumBlocks()),ge=new Eo;ge.setECLevel(l),ge.setMode(p),ge.setVersion(B);const Be=B.getDimensionForVersion(),Te=new ll(Be,Be),ze=this.chooseMaskPattern(fe,l,B,Te);return ge.setMaskPattern(ze),at.buildMatrix(fe,l,B,ze,Te),ge.setMatrix(Te),ge}static recommendVersion(o,l,d,x){const f=this.calculateBitsNeeded(l,d,x,st.getVersionForNumber(1)),p=this.chooseVersion(f,o),b=this.calculateBitsNeeded(l,d,x,p);return this.chooseVersion(b,o)}static calculateBitsNeeded(o,l,d,x){return l.getSize()+o.getCharacterCountBits(x)+d.getSize()}static getAlphanumericCode(o){return o<Jt.ALPHANUMERIC_TABLE.length?Jt.ALPHANUMERIC_TABLE[o]:-1}static chooseMode(o,l=null){if(T.SJIS.getName()===l&&this.isOnlyDoubleByteKanji(o))return ot.KANJI;let d=!1,x=!1;for(let f=0,p=o.length;f<p;++f){const b=o.charAt(f);if(Jt.isDigit(b))d=!0;else if(this.getAlphanumericCode(b.charCodeAt(0))!==-1)x=!0;else return ot.BYTE}return x?ot.ALPHANUMERIC:d?ot.NUMERIC:ot.BYTE}static isOnlyDoubleByteKanji(o){let l;try{l=oe.encode(o,T.SJIS)}catch{return!1}const d=l.length;if(d%2!==0)return!1;for(let x=0;x<d;x+=2){const f=l[x]&255;if((f<129||f>159)&&(f<224||f>235))return!1}return!0}static chooseMaskPattern(o,l,d,x){let f=Number.MAX_SAFE_INTEGER,p=-1;for(let b=0;b<Eo.NUM_MASK_PATTERNS;b++){at.buildMatrix(o,l,d,b,x);let v=this.calculateMaskPenalty(x);v<f&&(f=v,p=b)}return p}static chooseVersion(o,l){for(let d=1;d<=40;d++){const x=st.getVersionForNumber(d);if(Jt.willFit(o,x,l))return x}throw new qt("Data too big")}static willFit(o,l,d){const x=l.getTotalCodewords(),p=l.getECBlocksForLevel(d).getTotalECCodewords(),b=x-p,v=(o+7)/8;return b>=v}static terminateBits(o,l){const d=o*8;if(l.getSize()>d)throw new qt("data bits cannot fit in the QR Code"+l.getSize()+" > "+d);for(let p=0;p<4&&l.getSize()<d;++p)l.appendBit(!1);const x=l.getSize()&7;if(x>0)for(let p=x;p<8;p++)l.appendBit(!1);const f=o-l.getSizeInBytes();for(let p=0;p<f;++p)l.appendBits((p&1)===0?236:17,8);if(l.getSize()!==d)throw new qt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(o,l,d,x,f,p){if(x>=d)throw new qt("Block ID too large");const b=o%d,v=d-b,B=Math.floor(o/d),O=B+1,G=Math.floor(l/d),Z=G+1,ie=B-G,fe=O-Z;if(ie!==fe)throw new qt("EC bytes mismatch");if(d!==v+b)throw new qt("RS blocks mismatch");if(o!==(G+ie)*v+(Z+fe)*b)throw new qt("Total bytes mismatch");x<v?(f[0]=G,p[0]=ie):(f[0]=Z,p[0]=fe)}static interleaveWithECBytes(o,l,d,x){if(o.getSizeInBytes()!==d)throw new qt("Number of bits and data bytes does not match");let f=0,p=0,b=0;const v=new Array;for(let O=0;O<x;++O){const G=new Int32Array(1),Z=new Int32Array(1);Jt.getNumDataBytesAndNumECBytesForBlockID(l,d,x,O,G,Z);const ie=G[0],fe=new Uint8Array(ie);o.toBytes(8*f,fe,0,ie);const ge=Jt.generateECBytes(fe,Z[0]);v.push(new Qb(fe,ge)),p=Math.max(p,ie),b=Math.max(b,ge.length),f+=G[0]}if(d!==f)throw new qt("Data bytes does not match offset");const B=new S;for(let O=0;O<p;++O)for(const G of v){const Z=G.getDataBytes();O<Z.length&&B.appendBits(Z[O],8)}for(let O=0;O<b;++O)for(const G of v){const Z=G.getErrorCorrectionBytes();O<Z.length&&B.appendBits(Z[O],8)}if(l!==B.getSizeInBytes())throw new qt("Interleaving error: "+l+" and "+B.getSizeInBytes()+" differ.");return B}static generateECBytes(o,l){const d=o.length,x=new Int32Array(d+l);for(let p=0;p<d;p++)x[p]=o[p]&255;new ic(J.QR_CODE_FIELD_256).encode(x,l);const f=new Uint8Array(l);for(let p=0;p<l;p++)f[p]=x[d+p];return f}static appendModeInfo(o,l){l.appendBits(o.getBits(),4)}static appendLengthInfo(o,l,d,x){const f=d.getCharacterCountBits(l);if(o>=1<<f)throw new qt(o+" is bigger than "+((1<<f)-1));x.appendBits(o,f)}static appendBytes(o,l,d,x){switch(l){case ot.NUMERIC:Jt.appendNumericBytes(o,d);break;case ot.ALPHANUMERIC:Jt.appendAlphanumericBytes(o,d);break;case ot.BYTE:Jt.append8BitBytes(o,d,x);break;case ot.KANJI:Jt.appendKanjiBytes(o,d);break;default:throw new qt("Invalid mode: "+l)}}static getDigit(o){return o.charCodeAt(0)-48}static isDigit(o){const l=Jt.getDigit(o);return l>=0&&l<=9}static appendNumericBytes(o,l){const d=o.length;let x=0;for(;x<d;){const f=Jt.getDigit(o.charAt(x));if(x+2<d){const p=Jt.getDigit(o.charAt(x+1)),b=Jt.getDigit(o.charAt(x+2));l.appendBits(f*100+p*10+b,10),x+=3}else if(x+1<d){const p=Jt.getDigit(o.charAt(x+1));l.appendBits(f*10+p,7),x+=2}else l.appendBits(f,4),x++}}static appendAlphanumericBytes(o,l){const d=o.length;let x=0;for(;x<d;){const f=Jt.getAlphanumericCode(o.charCodeAt(x));if(f===-1)throw new qt;if(x+1<d){const p=Jt.getAlphanumericCode(o.charCodeAt(x+1));if(p===-1)throw new qt;l.appendBits(f*45+p,11),x+=2}else l.appendBits(f,6),x++}}static append8BitBytes(o,l,d){let x;try{x=oe.encode(o,d)}catch(f){throw new qt(f)}for(let f=0,p=x.length;f!==p;f++){const b=x[f];l.appendBits(b,8)}}static appendKanjiBytes(o,l){let d;try{d=oe.encode(o,T.SJIS)}catch(f){throw new qt(f)}const x=d.length;for(let f=0;f<x;f+=2){const p=d[f]&255,b=d[f+1]&255,v=p<<8&4294967295|b;let B=-1;if(v>=33088&&v<=40956?B=v-33088:v>=57408&&v<=60351&&(B=v-49472),B===-1)throw new qt("Invalid byte sequence");const O=(B>>8)*192+(B&255);l.appendBits(O,13)}}static appendECI(o,l){l.appendBits(ot.ECI.getBits(),4),l.appendBits(o.getValue(),8)}}Jt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Jt.DEFAULT_BYTE_MODE_ENCODING=T.UTF8.getName();class wo{write(o,l,d,x=null){if(o.length===0)throw new y("Found empty contents");if(l<0||d<0)throw new y("Requested dimensions are too small: "+l+"x"+d);let f=Kt.L,p=wo.QUIET_ZONE_SIZE;x!==null&&(x.get(bn.ERROR_CORRECTION)!==void 0&&(f=Kt.fromString(x.get(bn.ERROR_CORRECTION).toString())),x.get(bn.MARGIN)!==void 0&&(p=Number.parseInt(x.get(bn.MARGIN).toString(),10)));const b=Jt.encode(o,f,x);return this.renderResult(b,l,d,p)}writeToDom(o,l,d,x,f=null){typeof o=="string"&&(o=document.querySelector(o));const p=this.write(l,d,x,f);o&&o.appendChild(p)}renderResult(o,l,d,x){const f=o.getMatrix();if(f===null)throw new F;const p=f.getWidth(),b=f.getHeight(),v=p+x*2,B=b+x*2,O=Math.max(l,v),G=Math.max(d,B),Z=Math.min(Math.floor(O/v),Math.floor(G/B)),ie=Math.floor((O-p*Z)/2),fe=Math.floor((G-b*Z)/2),ge=this.createSVGElement(O,G);for(let Be=0,Te=fe;Be<b;Be++,Te+=Z)for(let ze=0,qe=ie;ze<p;ze++,qe+=Z)if(f.get(ze,Be)===1){const Ue=this.createSvgRectElement(qe,Te,Z,Z);ge.appendChild(Ue)}return ge}createSVGElement(o,l){const d=document.createElementNS(wo.SVG_NS,"svg");return d.setAttributeNS(null,"height",o.toString()),d.setAttributeNS(null,"width",l.toString()),d}createSvgRectElement(o,l,d,x){const f=document.createElementNS(wo.SVG_NS,"rect");return f.setAttributeNS(null,"x",o.toString()),f.setAttributeNS(null,"y",l.toString()),f.setAttributeNS(null,"height",d.toString()),f.setAttributeNS(null,"width",x.toString()),f.setAttributeNS(null,"fill","#000000"),f}}wo.QUIET_ZONE_SIZE=4,wo.SVG_NS="http://www.w3.org/2000/svg";class oi{encode(o,l,d,x,f){if(o.length===0)throw new y("Found empty contents");if(l!==Re.QR_CODE)throw new y("Can only encode QR_CODE, but got "+l);if(d<0||x<0)throw new y(`Requested dimensions are too small: ${d}x${x}`);let p=Kt.L,b=oi.QUIET_ZONE_SIZE;f!==null&&(f.get(bn.ERROR_CORRECTION)!==void 0&&(p=Kt.fromString(f.get(bn.ERROR_CORRECTION).toString())),f.get(bn.MARGIN)!==void 0&&(b=Number.parseInt(f.get(bn.MARGIN).toString(),10)));const v=Jt.encode(o,p,f);return oi.renderResult(v,d,x,b)}static renderResult(o,l,d,x){const f=o.getMatrix();if(f===null)throw new F;const p=f.getWidth(),b=f.getHeight(),v=p+x*2,B=b+x*2,O=Math.max(l,v),G=Math.max(d,B),Z=Math.min(Math.floor(O/v),Math.floor(G/B)),ie=Math.floor((O-p*Z)/2),fe=Math.floor((G-b*Z)/2),ge=new ye(O,G);for(let Be=0,Te=fe;Be<b;Be++,Te+=Z)for(let ze=0,qe=ie;ze<p;ze++,qe+=Z)f.get(ze,Be)===1&&ge.setRegion(qe,Te,Z,Z);return ge}}oi.QUIET_ZONE_SIZE=4;class Kb{encode(o,l,d,x,f){let p;switch(l){case Re.QR_CODE:p=new oi;break;default:throw new y("No encoder available for format "+l)}return p.encode(o,l,d,x,f)}}class ts extends Ce{constructor(o,l,d,x,f,p,b,v){if(super(p,b),this.yuvData=o,this.dataWidth=l,this.dataHeight=d,this.left=x,this.top=f,x+p>l||f+b>d)throw new y("Crop rectangle does not fit within image data.");v&&this.reverseHorizontal(p,b)}getRow(o,l){if(o<0||o>=this.getHeight())throw new y("Requested row is outside the image: "+o);const d=this.getWidth();(l==null||l.length<d)&&(l=new Uint8ClampedArray(d));const x=(o+this.top)*this.dataWidth+this.left;return k.arraycopy(this.yuvData,x,l,0,d),l}getMatrix(){const o=this.getWidth(),l=this.getHeight();if(o===this.dataWidth&&l===this.dataHeight)return this.yuvData;const d=o*l,x=new Uint8ClampedArray(d);let f=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return k.arraycopy(this.yuvData,f,x,0,d),x;for(let p=0;p<l;p++){const b=p*o;k.arraycopy(this.yuvData,f,x,b,o),f+=this.dataWidth}return x}isCropSupported(){return!0}crop(o,l,d,x){return new ts(this.yuvData,this.dataWidth,this.dataHeight,this.left+o,this.top+l,d,x,!1)}renderThumbnail(){const o=this.getWidth()/ts.THUMBNAIL_SCALE_FACTOR,l=this.getHeight()/ts.THUMBNAIL_SCALE_FACTOR,d=new Int32Array(o*l),x=this.yuvData;let f=this.top*this.dataWidth+this.left;for(let p=0;p<l;p++){const b=p*o;for(let v=0;v<o;v++){const B=x[f+v*ts.THUMBNAIL_SCALE_FACTOR]&255;d[b+v]=4278190080|B*65793}f+=this.dataWidth*ts.THUMBNAIL_SCALE_FACTOR}return d}getThumbnailWidth(){return this.getWidth()/ts.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/ts.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(o,l){const d=this.yuvData;for(let x=0,f=this.top*this.dataWidth+this.left;x<l;x++,f+=this.dataWidth){const p=f+o/2;for(let b=f,v=f+o-1;b<p;b++,v--){const B=d[b];d[b]=d[v],d[v]=B}}}invert(){return new he(this)}}ts.THUMBNAIL_SCALE_FACTOR=2;class ac extends Ce{constructor(o,l,d,x,f,p,b){if(super(l,d),this.dataWidth=x,this.dataHeight=f,this.left=p,this.top=b,o.BYTES_PER_ELEMENT===4){const v=l*d,B=new Uint8ClampedArray(v);for(let O=0;O<v;O++){const G=o[O],Z=G>>16&255,ie=G>>7&510,fe=G&255;B[O]=(Z+ie+fe)/4&255}this.luminances=B}else this.luminances=o;if(x===void 0&&(this.dataWidth=l),f===void 0&&(this.dataHeight=d),p===void 0&&(this.left=0),b===void 0&&(this.top=0),this.left+l>this.dataWidth||this.top+d>this.dataHeight)throw new y("Crop rectangle does not fit within image data.")}getRow(o,l){if(o<0||o>=this.getHeight())throw new y("Requested row is outside the image: "+o);const d=this.getWidth();(l==null||l.length<d)&&(l=new Uint8ClampedArray(d));const x=(o+this.top)*this.dataWidth+this.left;return k.arraycopy(this.luminances,x,l,0,d),l}getMatrix(){const o=this.getWidth(),l=this.getHeight();if(o===this.dataWidth&&l===this.dataHeight)return this.luminances;const d=o*l,x=new Uint8ClampedArray(d);let f=this.top*this.dataWidth+this.left;if(o===this.dataWidth)return k.arraycopy(this.luminances,f,x,0,d),x;for(let p=0;p<l;p++){const b=p*o;k.arraycopy(this.luminances,f,x,b,o),f+=this.dataWidth}return x}isCropSupported(){return!0}crop(o,l,d,x){return new ac(this.luminances,d,x,this.dataWidth,this.dataHeight,this.left+o,this.top+l)}invert(){return new he(this)}}class tf extends T{static forName(o){return this.getCharacterSetECIByName(o)}}class lc{}lc.ISO_8859_1=T.ISO8859_1;class nf{isCompact(){return this.compact}setCompact(o){this.compact=o}getSize(){return this.size}setSize(o){this.size=o}getLayers(){return this.layers}setLayers(o){this.layers=o}getCodeWords(){return this.codeWords}setCodeWords(o){this.codeWords=o}getMatrix(){return this.matrix}setMatrix(o){this.matrix=o}}class rf{static singletonList(o){return[o]}static min(o,l){return o.sort(l)[0]}}class Yb{constructor(o){this.previous=o}getPrevious(){return this.previous}}class ii extends Yb{constructor(o,l,d){super(o),this.value=l,this.bitCount=d}appendTo(o,l){o.appendBits(this.value,this.bitCount)}add(o,l){return new ii(this,o,l)}addBinaryShift(o,l){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ii(this,o,l)}toString(){let o=this.value&(1<<this.bitCount)-1;return o|=1<<this.bitCount,"<"+P.toBinaryString(o|1<<this.bitCount).substring(1)+">"}}class cc extends ii{constructor(o,l,d){super(o,0,0),this.binaryShiftStart=l,this.binaryShiftByteCount=d}appendTo(o,l){for(let d=0;d<this.binaryShiftByteCount;d++)(d===0||d===31&&this.binaryShiftByteCount<=62)&&(o.appendBits(31,5),this.binaryShiftByteCount>62?o.appendBits(this.binaryShiftByteCount-31,16):d===0?o.appendBits(Math.min(this.binaryShiftByteCount,31),5):o.appendBits(this.binaryShiftByteCount-31,5)),o.appendBits(l[this.binaryShiftStart+d],8)}addBinaryShift(o,l){return new cc(this,o,l)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Xb(W,o,l){return new cc(W,o,l)}function Yi(W,o,l){return new ii(W,o,l)}const Zb=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ws=0,cl=1,kr=2,sf=3,ns=4,Jb=new ii(null,0,0),dc=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function e8(W){for(let o of W)$.fill(o,-1);return W[Ws][ns]=0,W[cl][ns]=0,W[cl][Ws]=28,W[sf][ns]=0,W[kr][ns]=0,W[kr][Ws]=15,W}const of=e8($.createInt32Array(6,6));class rs{constructor(o,l,d,x){this.token=o,this.mode=l,this.binaryShiftByteCount=d,this.bitCount=x}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(o,l){let d=this.bitCount,x=this.token;if(o!==this.mode){let p=dc[this.mode][o];x=Yi(x,p&65535,p>>16),d+=p>>16}let f=o===kr?4:5;return x=Yi(x,l,f),new rs(x,o,0,d+f)}shiftAndAppend(o,l){let d=this.token,x=this.mode===kr?4:5;return d=Yi(d,of[this.mode][o],x),d=Yi(d,l,5),new rs(d,this.mode,0,this.bitCount+x+5)}addBinaryShiftChar(o){let l=this.token,d=this.mode,x=this.bitCount;if(this.mode===ns||this.mode===kr){let b=dc[d][Ws];l=Yi(l,b&65535,b>>16),x+=b>>16,d=Ws}let f=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,p=new rs(l,d,this.binaryShiftByteCount+1,x+f);return p.binaryShiftByteCount===2078&&(p=p.endBinaryShift(o+1)),p}endBinaryShift(o){if(this.binaryShiftByteCount===0)return this;let l=this.token;return l=Xb(l,o-this.binaryShiftByteCount,this.binaryShiftByteCount),new rs(l,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(o){let l=this.bitCount+(dc[this.mode][o.mode]>>16);return this.binaryShiftByteCount<o.binaryShiftByteCount?l+=rs.calculateBinaryShiftCost(o)-rs.calculateBinaryShiftCost(this):this.binaryShiftByteCount>o.binaryShiftByteCount&&o.binaryShiftByteCount>0&&(l+=10),l<=o.bitCount}toBitArray(o){let l=[];for(let x=this.endBinaryShift(o.length).token;x!==null;x=x.getPrevious())l.unshift(x);let d=new S;for(const x of l)x.appendTo(d,o);return d}toString(){return Y.format("%s bits=%d bytes=%d",Zb[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(o){return o.binaryShiftByteCount>62?21:o.binaryShiftByteCount>31?20:o.binaryShiftByteCount>0?10:0}}rs.INITIAL_STATE=new rs(Jb,Ws,0,0);function t8(W){const o=Y.getCharCode(" "),l=Y.getCharCode("."),d=Y.getCharCode(",");W[Ws][o]=1;const x=Y.getCharCode("Z"),f=Y.getCharCode("A");for(let Z=f;Z<=x;Z++)W[Ws][Z]=Z-f+2;W[cl][o]=1;const p=Y.getCharCode("z"),b=Y.getCharCode("a");for(let Z=b;Z<=p;Z++)W[cl][Z]=Z-b+2;W[kr][o]=1;const v=Y.getCharCode("9"),B=Y.getCharCode("0");for(let Z=B;Z<=v;Z++)W[kr][Z]=Z-B+2;W[kr][d]=12,W[kr][l]=13;const O=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let Z=0;Z<O.length;Z++)W[sf][Y.getCharCode(O[Z])]=Z;const G=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let Z=0;Z<G.length;Z++)Y.getCharCode(G[Z])>0&&(W[ns][Y.getCharCode(G[Z])]=Z);return W}const uc=t8($.createInt32Array(5,256));class Xi{constructor(o){this.text=o}encode(){const o=Y.getCharCode(" "),l=Y.getCharCode(`
`);let d=rf.singletonList(rs.INITIAL_STATE);for(let f=0;f<this.text.length;f++){let p,b=f+1<this.text.length?this.text[f+1]:0;switch(this.text[f]){case Y.getCharCode("\r"):p=b===l?2:0;break;case Y.getCharCode("."):p=b===o?3:0;break;case Y.getCharCode(","):p=b===o?4:0;break;case Y.getCharCode(":"):p=b===o?5:0;break;default:p=0}p>0?(d=Xi.updateStateListForPair(d,f,p),f++):d=this.updateStateListForChar(d,f)}return rf.min(d,(f,p)=>f.getBitCount()-p.getBitCount()).toBitArray(this.text)}updateStateListForChar(o,l){const d=[];for(let x of o)this.updateStateForChar(x,l,d);return Xi.simplifyStates(d)}updateStateForChar(o,l,d){let x=this.text[l]&255,f=uc[o.getMode()][x]>0,p=null;for(let b=0;b<=ns;b++){let v=uc[b][x];if(v>0){if(p==null&&(p=o.endBinaryShift(l)),!f||b===o.getMode()||b===kr){const B=p.latchAndAppend(b,v);d.push(B)}if(!f&&of[o.getMode()][b]>=0){const B=p.shiftAndAppend(b,v);d.push(B)}}}if(o.getBinaryShiftByteCount()>0||uc[o.getMode()][x]===0){let b=o.addBinaryShiftChar(l);d.push(b)}}static updateStateListForPair(o,l,d){const x=[];for(let f of o)this.updateStateForPair(f,l,d,x);return this.simplifyStates(x)}static updateStateForPair(o,l,d,x){let f=o.endBinaryShift(l);if(x.push(f.latchAndAppend(ns,d)),o.getMode()!==ns&&x.push(f.shiftAndAppend(ns,d)),d===3||d===4){let p=f.latchAndAppend(kr,16-d).latchAndAppend(kr,1);x.push(p)}if(o.getBinaryShiftByteCount()>0){let p=o.addBinaryShiftChar(l).addBinaryShiftChar(l+1);x.push(p)}}static simplifyStates(o){let l=[];for(const d of o){let x=!0;for(const f of l){if(f.isBetterThanOrEqualTo(d)){x=!1;break}d.isBetterThanOrEqualTo(f)&&(l=l.filter(p=>p!==f))}x&&l.push(d)}return l}}class Tt{constructor(){}static encodeBytes(o){return Tt.encode(o,Tt.DEFAULT_EC_PERCENT,Tt.DEFAULT_AZTEC_LAYERS)}static encode(o,l,d){let x=new Xi(o).encode(),f=P.truncDivision(x.getSize()*l,100)+11,p=x.getSize()+f,b,v,B,O,G;if(d!==Tt.DEFAULT_AZTEC_LAYERS){if(b=d<0,v=Math.abs(d),v>(b?Tt.MAX_NB_BITS_COMPACT:Tt.MAX_NB_BITS))throw new y(Y.format("Illegal value %s for layers",d));B=Tt.totalBitsInLayer(v,b),O=Tt.WORD_SIZE[v];let Ue=B-B%O;if(G=Tt.stuffBits(x,O),G.getSize()+f>Ue)throw new y("Data to large for user specified layer");if(b&&G.getSize()>O*64)throw new y("Data to large for user specified layer")}else{O=0,G=null;for(let Ue=0;;Ue++){if(Ue>Tt.MAX_NB_BITS)throw new y("Data too large for an Aztec code");if(b=Ue<=3,v=b?Ue+1:Ue,B=Tt.totalBitsInLayer(v,b),p>B)continue;(G==null||O!==Tt.WORD_SIZE[v])&&(O=Tt.WORD_SIZE[v],G=Tt.stuffBits(x,O));let _t=B-B%O;if(!(b&&G.getSize()>O*64)&&G.getSize()+f<=_t)break}}let Z=Tt.generateCheckWords(G,B,O),ie=G.getSize()/O,fe=Tt.generateModeMessage(b,v,ie),ge=(b?11:14)+v*4,Be=new Int32Array(ge),Te;if(b){Te=ge;for(let Ue=0;Ue<Be.length;Ue++)Be[Ue]=Ue}else{Te=ge+1+2*P.truncDivision(P.truncDivision(ge,2)-1,15);let Ue=P.truncDivision(ge,2),_t=P.truncDivision(Te,2);for(let yt=0;yt<Ue;yt++){let rr=yt+P.truncDivision(yt,15);Be[Ue-yt-1]=_t-rr-1,Be[Ue+yt]=_t+rr+1}}let ze=new ye(Te);for(let Ue=0,_t=0;Ue<v;Ue++){let yt=(v-Ue)*4+(b?9:12);for(let rr=0;rr<yt;rr++){let zr=rr*2;for(let sr=0;sr<2;sr++)Z.get(_t+zr+sr)&&ze.set(Be[Ue*2+sr],Be[Ue*2+rr]),Z.get(_t+yt*2+zr+sr)&&ze.set(Be[Ue*2+rr],Be[ge-1-Ue*2-sr]),Z.get(_t+yt*4+zr+sr)&&ze.set(Be[ge-1-Ue*2-sr],Be[ge-1-Ue*2-rr]),Z.get(_t+yt*6+zr+sr)&&ze.set(Be[ge-1-Ue*2-rr],Be[Ue*2+sr])}_t+=yt*8}if(Tt.drawModeMessage(ze,b,Te,fe),b)Tt.drawBullsEye(ze,P.truncDivision(Te,2),5);else{Tt.drawBullsEye(ze,P.truncDivision(Te,2),7);for(let Ue=0,_t=0;Ue<P.truncDivision(ge,2)-1;Ue+=15,_t+=16)for(let yt=P.truncDivision(Te,2)&1;yt<Te;yt+=2)ze.set(P.truncDivision(Te,2)-_t,yt),ze.set(P.truncDivision(Te,2)+_t,yt),ze.set(yt,P.truncDivision(Te,2)-_t),ze.set(yt,P.truncDivision(Te,2)+_t)}let qe=new nf;return qe.setCompact(b),qe.setSize(Te),qe.setLayers(v),qe.setCodeWords(ie),qe.setMatrix(ze),qe}static drawBullsEye(o,l,d){for(let x=0;x<d;x+=2)for(let f=l-x;f<=l+x;f++)o.set(f,l-x),o.set(f,l+x),o.set(l-x,f),o.set(l+x,f);o.set(l-d,l-d),o.set(l-d+1,l-d),o.set(l-d,l-d+1),o.set(l+d,l-d),o.set(l+d,l-d+1),o.set(l+d,l+d-1)}static generateModeMessage(o,l,d){let x=new S;return o?(x.appendBits(l-1,2),x.appendBits(d-1,6),x=Tt.generateCheckWords(x,28,4)):(x.appendBits(l-1,5),x.appendBits(d-1,11),x=Tt.generateCheckWords(x,40,4)),x}static drawModeMessage(o,l,d,x){let f=P.truncDivision(d,2);if(l)for(let p=0;p<7;p++){let b=f-3+p;x.get(p)&&o.set(b,f-5),x.get(p+7)&&o.set(f+5,b),x.get(20-p)&&o.set(b,f+5),x.get(27-p)&&o.set(f-5,b)}else for(let p=0;p<10;p++){let b=f-5+p+P.truncDivision(p,5);x.get(p)&&o.set(b,f-7),x.get(p+10)&&o.set(f+7,b),x.get(29-p)&&o.set(b,f+7),x.get(39-p)&&o.set(f-7,b)}}static generateCheckWords(o,l,d){let x=o.getSize()/d,f=new ic(Tt.getGF(d)),p=P.truncDivision(l,d),b=Tt.bitsToWords(o,d,p);f.encode(b,p-x);let v=l%d,B=new S;B.appendBits(0,v);for(const O of Array.from(b))B.appendBits(O,d);return B}static bitsToWords(o,l,d){let x=new Int32Array(d),f,p;for(f=0,p=o.getSize()/l;f<p;f++){let b=0;for(let v=0;v<l;v++)b|=o.get(f*l+v)?1<<l-v-1:0;x[f]=b}return x}static getGF(o){switch(o){case 4:return J.AZTEC_PARAM;case 6:return J.AZTEC_DATA_6;case 8:return J.AZTEC_DATA_8;case 10:return J.AZTEC_DATA_10;case 12:return J.AZTEC_DATA_12;default:throw new y("Unsupported word size "+o)}}static stuffBits(o,l){let d=new S,x=o.getSize(),f=(1<<l)-2;for(let p=0;p<x;p+=l){let b=0;for(let v=0;v<l;v++)(p+v>=x||o.get(p+v))&&(b|=1<<l-1-v);(b&f)===f?(d.appendBits(b&f,l),p--):(b&f)===0?(d.appendBits(b|1,l),p--):d.appendBits(b,l)}return d}static totalBitsInLayer(o,l){return((l?88:112)+16*o)*o}}Tt.DEFAULT_EC_PERCENT=33,Tt.DEFAULT_AZTEC_LAYERS=0,Tt.MAX_NB_BITS=32,Tt.MAX_NB_BITS_COMPACT=4,Tt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class dl{encode(o,l,d,x){return this.encodeWithHints(o,l,d,x,null)}encodeWithHints(o,l,d,x,f){let p=lc.ISO_8859_1,b=Tt.DEFAULT_EC_PERCENT,v=Tt.DEFAULT_AZTEC_LAYERS;return f!=null&&(f.has(bn.CHARACTER_SET)&&(p=tf.forName(f.get(bn.CHARACTER_SET).toString())),f.has(bn.ERROR_CORRECTION)&&(b=P.parseInt(f.get(bn.ERROR_CORRECTION).toString())),f.has(bn.AZTEC_LAYERS)&&(v=P.parseInt(f.get(bn.AZTEC_LAYERS).toString()))),dl.encodeLayers(o,l,d,x,p,b,v)}static encodeLayers(o,l,d,x,f,p,b){if(l!==Re.AZTEC)throw new y("Can only encode AZTEC, but got "+l);let v=Tt.encode(Y.getBytes(o,f),p,b);return dl.renderResult(v,d,x)}static renderResult(o,l,d){let x=o.getMatrix();if(x==null)throw new F;let f=x.getWidth(),p=x.getHeight(),b=Math.max(l,f),v=Math.max(d,p),B=Math.min(b/f,v/p),O=(b-f*B)/2,G=(v-p*B)/2,Z=new ye(b,v);for(let ie=0,fe=G;ie<p;ie++,fe+=B)for(let ge=0,Be=O;ge<f;ge++,Be+=B)x.get(ge,ie)&&Z.setRegion(Be,fe,B,B);return Z}}n.AbstractExpandedDecoder=yo,n.ArgumentException=m,n.ArithmeticException=_e,n.AztecCode=nf,n.AztecCodeReader=ut,n.AztecCodeWriter=dl,n.AztecDecoder=se,n.AztecDetector=ht,n.AztecDetectorResult=H,n.AztecEncoder=Tt,n.AztecHighLevelEncoder=Xi,n.AztecPoint=Qe,n.BarcodeFormat=Re,n.Binarizer=A,n.BinaryBitmap=C,n.BitArray=S,n.BitMatrix=ye,n.BitSource=ec,n.BrowserAztecCodeReader=gt,n.BrowserBarcodeReader=Mb,n.BrowserCodeReader=$e,n.BrowserDatamatrixCodeReader=Pb,n.BrowserMultiFormatReader=qb,n.BrowserPDF417Reader=Wb,n.BrowserQRCodeReader=Gb,n.BrowserQRCodeSvgWriter=wo,n.CharacterSetECI=T,n.ChecksumException=E,n.Code128Reader=He,n.Code39Reader=Pt,n.DataMatrixDecodedBitStreamParser=Hs,n.DataMatrixReader=zs,n.DecodeHintType=j,n.DecoderResult=rt,n.DefaultGridSampler=ke,n.DetectorResult=_,n.EAN13Reader=pn,n.EncodeHintType=bn,n.Exception=h,n.FormatException=L,n.GenericGF=J,n.GenericGFPoly=te,n.GlobalHistogramBinarizer=Ee,n.GridSampler=de,n.GridSamplerInstance=Ye,n.HTMLCanvasElementLuminanceSource=ae,n.HybridBinarizer=ve,n.ITFReader=be,n.IllegalArgumentException=y,n.IllegalStateException=F,n.InvertedLuminanceSource=he,n.LuminanceSource=Ce,n.MathUtils=we,n.MultiFormatOneDReader=ri,n.MultiFormatReader=ef,n.MultiFormatWriter=Kb,n.NotFoundException=re,n.OneDReader=xt,n.PDF417DecodedBitStreamParser=Fe,n.PDF417DecoderErrorCorrection=Qx,n.PDF417Reader=Mn,n.PDF417ResultMetadata=Yx,n.PerspectiveTransform=ue,n.PlanarYUVLuminanceSource=ts,n.QRCodeByteMatrix=ll,n.QRCodeDataMask=Br,n.QRCodeDecodedBitStreamParser=an,n.QRCodeDecoderErrorCorrectionLevel=Kt,n.QRCodeDecoderFormatInformation=jn,n.QRCodeEncoder=Jt,n.QRCodeEncoderQRCode=Eo,n.QRCodeMaskUtil=cn,n.QRCodeMatrixUtil=at,n.QRCodeMode=ot,n.QRCodeReader=Vs,n.QRCodeVersion=st,n.QRCodeWriter=oi,n.RGBLuminanceSource=ac,n.RSS14Reader=ln,n.RSSExpandedReader=Le,n.ReaderException=al,n.ReedSolomonDecoder=X,n.ReedSolomonEncoder=ic,n.ReedSolomonException=z,n.Result=Ne,n.ResultMetadataType=Xe,n.ResultPoint=w,n.StringUtils=Y,n.UnsupportedOperationException=Q,n.VideoInputDevice=ee,n.WhiteRectangleDetector=K,n.WriterException=qt,n.ZXingArrays=$,n.ZXingCharset=tf,n.ZXingInteger=P,n.ZXingStandardCharsets=lc,n.ZXingStringBuilder=le,n.ZXingStringEncoding=oe,n.ZXingSystem=k,n.createAbstractExpandedDecoder=Wx,Object.defineProperty(n,"__esModule",{value:!0})}))})(xa,xa.exports)),xa.exports}var en=T_();const M_=bx(en),I_=o8({__proto__:null,default:M_},[en]);var zh=(function(){function e(t,n,r){if(this.formatMap=new Map([[Je.QR_CODE,en.BarcodeFormat.QR_CODE],[Je.AZTEC,en.BarcodeFormat.AZTEC],[Je.CODABAR,en.BarcodeFormat.CODABAR],[Je.CODE_39,en.BarcodeFormat.CODE_39],[Je.CODE_93,en.BarcodeFormat.CODE_93],[Je.CODE_128,en.BarcodeFormat.CODE_128],[Je.DATA_MATRIX,en.BarcodeFormat.DATA_MATRIX],[Je.MAXICODE,en.BarcodeFormat.MAXICODE],[Je.ITF,en.BarcodeFormat.ITF],[Je.EAN_13,en.BarcodeFormat.EAN_13],[Je.EAN_8,en.BarcodeFormat.EAN_8],[Je.PDF_417,en.BarcodeFormat.PDF_417],[Je.RSS_14,en.BarcodeFormat.RSS_14],[Je.RSS_EXPANDED,en.BarcodeFormat.RSS_EXPANDED],[Je.UPC_A,en.BarcodeFormat.UPC_A],[Je.UPC_E,en.BarcodeFormat.UPC_E],[Je.UPC_EAN_EXTENSION,en.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!I_)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(t),a=new Map;a.set(en.DecodeHintType.POSSIBLE_FORMATS,i),a.set(en.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,i){try{r(n.decode(t))}catch(a){i(a)}})},e.prototype.decode=function(t){var n=new en.MultiFormatReader(this.verbose,this.hints),r=new en.HTMLCanvasElementLuminanceSource(t),i=new en.BinaryBitmap(new en.HybridBinarizer(r)),a=n.decode(i);return{text:a.text,format:wy.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e})(),P_=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{h(r.next(m))}catch(y){c(y)}}function g(m){try{h(r.throw(m))}catch(y){c(y)}}function h(m){m.done?a(m.value):i(m.value).then(u,g)}h((r=r.apply(e,t||[])).next())})},R_=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(h){return function(m){return g([h,m])}}function g(h){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){n.label=h[1];break}if(h[0]===6&&n.label<a[1]){n.label=a[1],a=h;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(h);break}a[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(m){h=[6,m],i=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Vh=(function(){function e(t,n,r){if(this.formatMap=new Map([[Je.QR_CODE,"qr_code"],[Je.AZTEC,"aztec"],[Je.CODABAR,"codabar"],[Je.CODE_39,"code_39"],[Je.CODE_93,"code_93"],[Je.CODE_128,"code_128"],[Je.DATA_MATRIX,"data_matrix"],[Je.ITF,"itf"],[Je.EAN_13,"ean_13"],[Je.EAN_8,"ean_8"],[Je.PDF_417,"pdf417"],[Je.UPC_A,"upc_a"],[Je.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return P_(this,void 0,void 0,function(){var n,r;return R_(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:wy.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,i=0,a=t;i<a.length;i++){var c=a[i],u=c.boundingBox.width*c.boundingBox.height;u>r&&(r=u,n=c)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e})(),qh=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{h(r.next(m))}catch(y){c(y)}}function g(m){try{h(r.throw(m))}catch(y){c(y)}}function h(m){m.done?a(m.value):i(m.value).then(u,g)}h((r=r.apply(e,t||[])).next())})},Wh=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(h){return function(m){return g([h,m])}}function g(h){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){n.label=h[1];break}if(h[0]===6&&n.label<a[1]){n.label=a[1],a=h;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(h);break}a[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(m){h=[6,m],i=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},O_=(function(){function e(t,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&Vh.isSupported()?(this.primaryDecoder=new Vh(t,r,i),this.secondaryDecoder=new zh(t,r,i)):this.primaryDecoder=new zh(t,r,i)}return e.prototype.decodeAsync=function(t){return qh(this,void 0,void 0,function(){var n;return Wh(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return qh(this,void 0,void 0,function(){var n,r;return Wh(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];t+=i}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e})(),_x=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),p0=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{h(r.next(m))}catch(y){c(y)}}function g(m){try{h(r.throw(m))}catch(y){c(y)}}function h(m){m.done?a(m.value):i(m.value).then(u,g)}h((r=r.apply(e,t||[])).next())})},m0=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(h){return function(m){return g([h,m])}}function g(h){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){n.label=h[1];break}if(h[0]===6&&n.label<a[1]){n.label=a[1],a=h;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(h);break}a[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(m){h=[6,m],i=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},_y=(function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e})(),N_=(function(e){_x(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t})(_y),L_=(function(e){_x(t,e);function t(n){return e.call(this,"zoom",n)||this}return t})(N_),$_=(function(e){_x(t,e);function t(n){return e.call(this,"torch",n)||this}return t})(_y),j_=(function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new L_(this.track)},e.prototype.torchFeature=function(){return new $_(this.track)},e})(),U_=(function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,i),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,i){return p0(this,void 0,void 0,function(){var a,c;return m0(this,function(u){switch(u.label){case 0:return a=new e(t,n,i),r.aspectRatio?(c={aspectRatio:r.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:u.sent(),u.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return p0(this,void 0,void 0,function(){return m0(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var i=t.mediaStream.getVideoTracks(),a=i.length,c=0;t.mediaStream.getVideoTracks().forEach(function(u){t.mediaStream.removeTrack(u),u.stop(),++c,c>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new j_(this.getFirstTrackOrFail())},e})(),H_=(function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return p0(this,void 0,void 0,function(){return m0(this,function(i){return[2,U_.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return p0(this,void 0,void 0,function(){var n,r;return m0(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new e(r)]}})})},e})(),Gh=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{h(r.next(m))}catch(y){c(y)}}function g(m){try{h(r.throw(m))}catch(y){c(y)}}function h(m){m.done?a(m.value):i(m.value).then(u,g)}h((r=r.apply(e,t||[])).next())})},Qh=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(h){return function(m){return g([h,m])}}function g(h){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){n.label=h[1];break}if(h[0]===6&&n.label<a[1]){n.label=a[1],a=h;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(h);break}a[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(m){h=[6,m],i=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},z_=(function(){function e(){}return e.failIfNotSupported=function(){return Gh(this,void 0,void 0,function(){return Qh(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Gh(this,void 0,void 0,function(){return Qh(this,function(n){return[2,H_.create(t)]})})},e})(),V_=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{h(r.next(m))}catch(y){c(y)}}function g(m){try{h(r.throw(m))}catch(y){c(y)}}function h(m){m.done?a(m.value):i(m.value).then(u,g)}h((r=r.apply(e,t||[])).next())})},q_=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(h){return function(m){return g([h,m])}}function g(h){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){n.label=h[1];break}if(h[0]===6&&n.label<a[1]){n.label=a[1],a=h;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(h);break}a[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(m){h=[6,m],i=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},W_=(function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=mi.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=mi.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return V_(this,void 0,void 0,function(){var t,n,r,i,a,c,u;return q_(this,function(g){switch(g.label){case 0:return t=function(h){for(var m=h.getVideoTracks(),y=0,C=m;y<C.length;y++){var E=C[y];E.enabled=!1,E.stop(),h.removeTrack(E)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=g.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=g.sent(),i=[],a=0,c=r;a<c.length;a++)u=c[a],u.kind==="videoinput"&&i.push({id:u.deviceId,label:u.label});return t(n),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(a){for(var c=[],u=0,g=a;u<g.length;u++){var h=g[u];h.kind==="video"&&c.push({id:h.id,label:h.label})}t(c)},i=MediaStreamTrack;i.getSources(r)})},e})(),dn;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(dn||(dn={}));var G_=(function(){function e(){this.state=dn.NOT_STARTED,this.onGoingTransactionNewState=dn.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===dn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=dn.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===dn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=dn.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==dn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case dn.UNKNOWN:throw"Transition from unknown is not allowed";case dn.NOT_STARTED:this.failIfNewStateIs(t,[dn.PAUSED]);break;case dn.SCANNING:break;case dn.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,i=n;r<i.length;r++){var a=i[r];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e})(),Q_=(function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===dn.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==dn.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===dn.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===dn.PAUSED},e})(),K_=(function(){function e(){}return e.create=function(){return new Q_(new G_)},e})(),Y_=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),mr=(function(e){Y_(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t})(qr),X_=(function(){function e(t,n){this.logger=n,this.fps=mr.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=mr.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?By.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!us(this.qrbox)},e.create=function(t,n){return new e(t,n)},e})(),Na=(function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new Ay(this.verbose),this.qrcode=new O_(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=K_.create()}return e.prototype.start=function(t,n,r,i){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var c;i?c=i:c=this.verbose?this.logger.log:function(){};var u=X_.create(n,this.logger);this.clearElement();var g=!1;u.videoConstraints&&(u.isMediaStreamConstraintsValid()?g=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var h=g,m=document.getElementById(this.elementId);m.clientWidth?m.clientWidth:mr.DEFAULT_WIDTH,m.style.position="relative",this.shouldScan=!0,this.element=m;var y=this,C=this.stateManagerProxy.startTransition(dn.SCANNING);return new Promise(function(E,A){var k=h?u.videoConstraints:y.createVideoConstraints(t);if(!k){C.cancel(),A("videoConstraints should be defined");return}var D={};(!h||u.aspectRatio)&&(D.aspectRatio=u.aspectRatio);var I={onRenderSurfaceReady:function($,P){y.setupUi($,P,u),y.isScanning=!0,y.foreverScan(u,r,c)}};z_.failIfNotSupported().then(function($){$.create(k).then(function(P){return P.render(a.element,D,I).then(function(S){y.renderedCamera=S,C.execute(),E(null)}).catch(function(S){C.cancel(),A(S)})}).catch(function(P){C.cancel(),A(mi.errorGettingUserMedia(P))})}).catch(function($){C.cancel(),A(mi.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(dn.PAUSED),this.showPausedState(),(us(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(dn.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(dn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var a=document.getElementById(mr.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(us(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var c=new Image;c.onload=function(){var u=c.width,g=c.height,h=document.getElementById(r.elementId),m=h.clientWidth?h.clientWidth:mr.DEFAULT_WIDTH,y=Math.max(h.clientHeight?h.clientHeight:g,mr.FILE_SCAN_MIN_HEIGHT),C=r.computeCanvasDrawConfig(u,g,m,y);if(n){var E=r.createCanvasElement(m,y,"qr-canvas-visible");E.style.display="inline-block",h.appendChild(E);var A=E.getContext("2d");if(!A)throw"Unable to get 2d context from canvas";A.canvas.width=m,A.canvas.height=y,A.drawImage(c,0,0,u,g,C.x,C.y,C.width,C.height)}var k=mr.FILE_SCAN_HIDDEN_CANVAS_PADDING,D=Math.max(c.width,C.width),I=Math.max(c.height,C.height),$=D+2*k,P=I+2*k,S=r.createCanvasElement($,P);h.appendChild(S);var M=S.getContext("2d");if(!M)throw"Unable to get 2d context from canvas";M.canvas.width=$,M.canvas.height=P,M.drawImage(c,0,0,u,g,k,k,D,I);try{r.qrcode.decodeRobustlyAsync(S).then(function(j){i(jh.createFromQrcodeResult(j))}).catch(a)}catch(j){a("QR code parse error, error = ".concat(j))}},c.onerror=a,c.onabort=a,c.onstalled=a,c.onsuspend=a,c.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return W_.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!By.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[Je.QR_CODE,Je.AZTEC,Je.CODABAR,Je.CODE_39,Je.CODE_93,Je.CODE_128,Je.DATA_MATRIX,Je.MAXICODE,Je.ITF,Je.EAN_13,Je.EAN_8,Je.PDF_417,Je.RSS_14,Je.RSS_EXPANDED,Je.UPC_A,Je.UPC_E,Je.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,a=t.formatsToSupport;i<a.length;i++){var c=a[i];D_(c)?r.push(c):this.logger.warn("Invalid format: ".concat(c," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(us(t))return!0;if(!us(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(us(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return us(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var i=this,a=r.qrbox;this.validateQrboxConfig(a);var c=this.toQrdimensions(t,n,a),u=function(h){if(h<mr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(mr.MIN_QR_BOX_SIZE,"px.")},g=function(h){return h>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),h=t),h};u(c.width),u(c.height),c.width=g(c.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var i=us(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(t,n,i);a.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=r.isShadedBoxEnabled()&&a.height<=n,u={x:0,y:0,width:t,height:n},g=c?this.getShadedRegionBounds(t,n,a):u,h=this.createCanvasElement(g.width,g.height),m={willReadFrequently:!0},y=h.getContext("2d",m);y.canvas.width=g.width,y.canvas.height=g.height,this.element.append(h),c&&this.possiblyInsertShadingElement(this.element,t,n,a),this.createScannerPausedUiElement(this.element),this.qrRegion=g,this.context=y,this.canvasElement=h},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=mi.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,jh.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var a=mi.codeParseError(i);return n(a,Cy.createFrom(a)),!1})},e.prototype.foreverScan=function(t,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),c=a.videoWidth/a.clientWidth,u=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var g=this.qrRegion.width*c,h=this.qrRegion.height*u,m=this.qrRegion.x*c,y=this.qrRegion.y*u;this.context.drawImage(a,m,y,g,h,0,0,this.qrRegion.width,this.qrRegion.height);var C=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,n,r)},i.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(E){!E&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){C()})):C()}).catch(function(E){i.logger.logError("Error happend while scanning context",E),C()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},a="exact",c=function(A){if(A in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(A,"'")},u=Object.keys(t);if(u.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(u.length," keys");var g=Object.keys(t)[0];if(g!==n&&g!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(g===n){var h=t.facingMode;if(typeof h=="string"){if(c(h))return{facingMode:h}}else if(typeof h=="object")if(a in h){if(c(h["".concat(a)]))return{facingMode:{exact:h["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var m=typeof h;throw"Invalid type of 'facingMode' = ".concat(m)}}else{var y=t.deviceId;if(typeof y=="string")return{deviceId:y};if(typeof y=="object"){if(a in y)return{deviceId:{exact:y["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var C=typeof y;throw"Invalid type of 'deviceId' = ".concat(C)}}}var E=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(E)},e.prototype.computeCanvasDrawConfig=function(t,n,r,i){if(t<=r&&n<=i){var a=(r-t)/2,c=(i-n)/2;return{x:a,y:c,width:t,height:n}}else{var u=t,g=n;return t>r&&(n=r/t*n,t=r),n>i&&(t=i/n*t,n=i),this.logger.log("Image downsampled from "+"".concat(u,"X").concat(g)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?mr.BORDER_SHADER_MATCH_COLOR:mr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var i=t,a=n,c=document.createElement("canvas");return c.style.width="".concat(i,"px"),c.style.height="".concat(a,"px"),c.style.display="none",c.id=us(r)?"qr-canvas":r,c},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,i){if(!(n-i.width<1||r-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var c=(n-i.width)/2,u=(r-i.height)/2;if(a.style.borderLeft="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(mr.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var g=5,h=40;this.insertShaderBorders(a,h,g,-g,null,0,!0),this.insertShaderBorders(a,h,g,-g,null,0,!1),this.insertShaderBorders(a,h,g,null,-g,0,!0),this.insertShaderBorders(a,h,g,null,-g,0,!1),this.insertShaderBorders(a,g,h+g,-g,null,-g,!0),this.insertShaderBorders(a,g,h+g,null,-g,-g,!0),this.insertShaderBorders(a,g,h+g,-g,null,-g,!1),this.insertShaderBorders(a,g,h+g,null,-g,-g,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,n,r,i,a,c,u){var g=document.createElement("div");g.style.position="absolute",g.style.backgroundColor=mr.BORDER_SHADER_DEFAULT_COLOR,g.style.width="".concat(n,"px"),g.style.height="".concat(r,"px"),i!==null&&(g.style.top="".concat(i,"px")),a!==null&&(g.style.bottom="".concat(a,"px")),u?g.style.left="".concat(c,"px"):g.style.right="".concat(c,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(g),t.appendChild(g)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e})(),kx="data:image/svg+xml;base64,",Z_=kx+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",J_=kx+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Kh=kx+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",ek="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Yh=(function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e})(),tk=(function(){function e(){this.data=Yh.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=Yh.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e})(),nk=(function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Uh.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(i);var a=document.createElement("a");a.innerText=Uh.reportIssues(),a.href="https://github.com/mebjas/html5-qrcode/issues",a.target="new",a.style.color="white",this.infoDiv.appendChild(a),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e})(),rk=(function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Kh,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=ek,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Kh,this.infoIcon.style.opacity="0.6")},e})(),sk=(function(){function e(){var t=this;this.infoDiv=new nk,this.infoIcon=new rk(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e})(),ok=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{h(r.next(m))}catch(y){c(y)}}function g(m){try{h(r.throw(m))}catch(y){c(y)}}function h(m){m.done?a(m.value):i(m.value).then(u,g)}h((r=r.apply(e,t||[])).next())})},ik=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(h){return function(m){return g([h,m])}}function g(h){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){n.label=h[1];break}if(h[0]===6&&n.label<a[1]){n.label=a[1],a=h;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(h);break}a[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(m){h=[6,m],i=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Xh=(function(){function e(){}return e.hasPermissions=function(){return ok(this,void 0,void 0,function(){var t,n,r,i;return ik(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=a.sent(),n=0,r=t;n<r.length;n++)if(i=r[n],i.kind==="videoinput"&&i.label)return[2,!0];return[2,!1]}})})},e})(),Qs=(function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(t){return t===fo.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===fo.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return qr.DEFAULT_SUPPORTED_SCAN_TYPE;var n=qr.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,i=t;r<i.length;r++){var a=i[r];if(!qr.DEFAULT_SUPPORTED_SCAN_TYPE.includes(a))throw"Unsupported scan type ".concat(a)}return t},e})(),vr=(function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e})(),Fs=(function(){function e(){}return e.createElement=function(t,n){var r=document.createElement(t);return r.id=n,r.classList.add(vr.ALL_ELEMENT_CLASS),t==="button"&&r.setAttribute("type","button"),r},e})(),ky=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{h(r.next(m))}catch(y){c(y)}}function g(m){try{h(r.throw(m))}catch(y){c(y)}}function h(m){m.done?a(m.value):i(m.value).then(u,g)}h((r=r.apply(e,t||[])).next())})},Dy=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(h){return function(m){return g([h,m])}}function g(h){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){n.label=h[1];break}if(h[0]===6&&n.label<a[1]){n.label=a[1],a=h;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(h);break}a[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(m){h=[6,m],i=0}finally{r=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Zh=(function(){function e(t,n,r){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return ky(this,void 0,void 0,function(){var t,n;return Dy(this,function(r){switch(r.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=r.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?jt.torchOffButton():jt.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var r=t?jt.torchOnFailedMessage():jt.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e})(),ak=(function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=Fs.createElement("button",vr.TORCH_BUTTON_ID),this.torchController=new Zh(t,this,n)}return e.prototype.render=function(t,n){var r=this;this.torchButton.innerText=jt.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var i=this;this.torchButton.addEventListener("click",function(a){return ky(r,void 0,void 0,function(){return Dy(this,function(c){switch(c.label){case 0:return[4,i.torchController.flipState()];case 1:return c.sent(),i.torchController.isTorchEnabled()?(i.torchButton.classList.remove(vr.TORCH_BUTTON_CLASS_TORCH_OFF),i.torchButton.classList.add(vr.TORCH_BUTTON_CLASS_TORCH_ON)):(i.torchButton.classList.remove(vr.TORCH_BUTTON_CLASS_TORCH_ON),i.torchButton.classList.add(vr.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new Zh(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=jt.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,i){var a=new e(n,i);return a.render(t,r),a},e})(),lk=(function(){function e(t,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var i=document.createElement("label");i.setAttribute("for",this.getFileScanInputId()),i.style.display="inline-block",this.fileBasedScanRegion.appendChild(i),this.fileSelectionButton=Fs.createElement("button",vr.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(u){i.click()}),i.append(this.fileSelectionButton),this.fileScanInput=Fs.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",i.appendChild(this.fileScanInput);var a=this;this.fileScanInput.addEventListener("change",function(u){if(!(u==null||u.target==null)){var g=u.target;if(!(g.files&&g.files.length===0)){var h=g.files,m=h[0],y=m.name;a.setImageNameToButton(y),r(m)}}});var c=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(c),this.fileBasedScanRegion.addEventListener("dragenter",function(u){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(u){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(u){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(u){u.stopPropagation(),u.preventDefault(),a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder();var g=u.dataTransfer;if(g){var h=g.files;if(!h||h.length===0)return;for(var m=!1,y=0;y<h.length;++y){var C=h.item(y);if(C){var E=/image.*/;if(C.type.match(E)){m=!0;var A=C.name;a.setImageNameToButton(A),r(C),c.innerText=jt.dragAndDropMessage();break}}}m||(c.innerText=jt.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=jt.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var r=t.substring(0,8),i=t.length,a=t.substring(i-8,i);t="".concat(r,"....").concat(a)}var c=jt.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=c},e.prototype.setInitialValueToButton=function(){var t=jt.fileSelectionChooseImage()+" - "+jt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){var i=new e(t,n,r);return i},e})(),ck=(function(){function e(t){this.selectElement=Fs.createElement("select",vr.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var i=jt.selectCamera();n.innerText="".concat(i," (").concat(this.cameras.length,")  ")}for(var a=1,c=0,u=this.cameras;c<u.length;c++){var g=u[c],h=g.id,m=g.label==null?h:g.label;(!m||m==="")&&(m=[jt.anonymousCameraPrefix(),a++].join(" "));var y=document.createElement("option");y.value=h,y.innerText=m,this.options.push(y),this.selectElement.appendChild(y)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,r=this.options;n<r.length;n++){var i=r[n];if(i.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e})(),dk=(function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Fs.createElement("input",vr.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=jt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var i=this;this.rangeInput.addEventListener("input",function(){return i.onValueChange()}),this.rangeInput.addEventListener("change",function(){return i.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=jt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,r,i){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=i.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e})(),yr;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(yr||(yr={}));function uk(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function xk(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var fk=(function(){function e(t,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Qs(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Ay(this.verbose),this.persistedDataManager=new tk,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(a,c){if(t)t(a,c);else{if(r.lastMatchFound===a)return;r.lastMatchFound=a,r.setHeaderMessage(jt.lastMatch(a),yr.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(a,c){n&&n(a,c)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new Na(this.getScanRegionId(),xk(this.config,this.verbose))},e.prototype.pause=function(t){(us(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var r=document.getElementById(t.elementId);r&&(r.innerHTML="",t.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,i){if(!t.html5Qrcode){r();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(a){if(!t.html5Qrcode){r();return}t.html5Qrcode.clear(),n(),r()}).catch(function(a){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",a),i(a)}):(t.html5Qrcode.clear(),n(),r())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=qr.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!qr.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=qr.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=qr.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:qr.SCAN_DEFAULT_FPS,rememberLastUsedCamera:qr.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:qr.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),Qs.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var i=document.createElement("div"),a=this.getDashboardId();i.id=a,i.style.width="100%",t.appendChild(i),this.setupInitialDashboard(i)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var r=new sk;r.renderInto(n);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",n.appendChild(i)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,r){var i=this;i.showHideScanTypeSwapLink(!1),i.setHeaderMessage(jt.cameraPermissionRequesting());var a=function(){r||i.createPermissionButton(t,n)};Na.getCameras().then(function(c){i.persistedDataManager.setHasPermission(!0),i.showHideScanTypeSwapLink(!0),i.resetHeaderMessage(),c&&c.length>0?(t.removeChild(n),i.renderCameraSelection(c)):(i.setHeaderMessage(jt.noCameraFound(),yr.STATUS_WARNING),a())}).catch(function(c){i.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:a(),i.setHeaderMessage(c,yr.STATUS_WARNING),i.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var r=this,i=Fs.createElement("button",this.getCameraPermissionButtonId());i.innerText=jt.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,r.createCameraListUi(t,n,i)}),n.appendChild(i)},e.prototype.createPermissionsUi=function(t,n){var r=this;if(Qs.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Xh.hasPermissions().then(function(i){i?r.createCameraListUi(t,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n))}).catch(function(i){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=Qs.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var i=document.createElement("div");i.style.textAlign="center",r.appendChild(i),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,i),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=Qs.isFileScanType(this.currentScanType),r=this,i=function(a){if(!r.html5Qrcode)throw"html5Qrcode not defined";Qs.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(jt.loadingImage()),r.html5Qrcode.scanFileV2(a,!0).then(function(c){r.resetHeaderMessage(),r.qrCodeSuccessCallback(c.decodedText,c)}).catch(function(c){r.setHeaderMessage(c,yr.STATUS_WARNING),r.qrCodeErrorCallback(c,Cy.createFrom(c))}))};this.fileSelectionUi=lk.create(t,n,i)},e.prototype.renderCameraSelection=function(t){var n=this,r=this,i=document.getElementById(this.getDashboardSectionCameraScanRegionId());i.style.textAlign="center";var a=dk.create(i,!1),c=function(k){var D=k.zoomFeature();if(D.isSupported()){a.setOnCameraZoomValueChangeCallback(function($){D.apply($)});var I=1;n.config.defaultZoomValueIfSupported&&(I=n.config.defaultZoomValueIfSupported),I=S_(I,D.min(),D.max()),a.setValues(D.min(),D.max(),I,D.step()),a.show()}},u=ck.create(i,t),g=document.createElement("span"),h=Fs.createElement("button",vr.CAMERA_START_BUTTON_ID);h.innerText=jt.scanButtonStartScanningText(),g.appendChild(h);var m=Fs.createElement("button",vr.CAMERA_STOP_BUTTON_ID);m.innerText=jt.scanButtonStopScanningText(),m.style.display="none",m.disabled=!0,g.appendChild(m);var y,C=function(k){if(!k.torchFeature().isSupported()){y&&y.hide();return}y?y.updateTorchCapability(k.torchFeature()):y=ak.create(g,k.torchFeature(),{display:"none",marginLeft:"5px"},function(D){r.setHeaderMessage(D,yr.STATUS_WARNING)}),y.show()};i.appendChild(g);var E=function(k){k||(h.style.display="none"),h.innerText=jt.scanButtonStartScanningText(),h.style.opacity="1",h.disabled=!1,k&&(h.style.display="inline-block")};if(h.addEventListener("click",function(k){h.innerText=jt.scanButtonScanningStarting(),u.disable(),h.disabled=!0,h.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var D=u.getValue();r.persistedDataManager.setLastUsedCameraId(D),r.html5Qrcode.start(D,uk(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(I){m.disabled=!1,m.style.display="inline-block",E(!1);var $=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&C($),n.config.showZoomSliderIfSupported===!0&&c($)}).catch(function(I){r.showHideScanTypeSwapLink(!0),u.enable(),E(!0),r.setHeaderMessage(I,yr.STATUS_WARNING)})}),u.hasSingleItem()&&h.click(),m.addEventListener("click",function(k){if(!r.html5Qrcode)throw"html5Qrcode not defined";m.disabled=!0,r.html5Qrcode.stop().then(function(D){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),u.enable(),h.disabled=!1,m.style.display="none",h.style.display="inline-block",y&&(y.reset(),y.hide()),a.removeOnCameraZoomValueChangeCallback(),a.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(D){m.disabled=!1,r.setHeaderMessage(D,yr.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var A=r.persistedDataManager.getLastUsedCameraId();u.hasValue(A)?(u.setValue(A),h.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=jt.textIfCameraScanSelected(),r=jt.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");a.style.textAlign="center";var c=Fs.createElement("span",this.getDashboardSectionSwapLinkId());c.style.textDecoration="underline",c.style.cursor="pointer",c.innerText=Qs.isCameraScanType(this.currentScanType)?n:r,c.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Qs.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),c.innerText=r,t.currentScanType=fo.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),c.innerText=n,t.currentScanType=fo.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),a.appendChild(c),i.appendChild(a)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){Xh.hasPermissions().then(function(r){if(r){var i=document.getElementById(n.getCameraPermissionButtonId());if(!i)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";i.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=yr.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=t,r.style.display="block",n){case yr.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case yr.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case yr.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=Z_,this.cameraScanImage.alt=jt.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=J_,this.fileScanImage.alt=jt.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return vr.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return vr.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e})();const hk={class:"min-h-screen bg-gray-50 p-2 sm:p-4 md:p-6 transition-colors duration-300"},gk={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"},pk={class:"bg-white rounded-xl shadow p-4 border-l-4 border-blue-500"},mk={class:"flex justify-between items-start"},yk={class:"text-2xl font-bold text-gray-800 mt-1"},bk={class:"bg-white rounded-xl shadow p-4 border-l-4 border-green-500"},vk={class:"flex justify-between items-start"},Ek={class:"text-2xl font-bold text-gray-800 mt-1"},wk={class:"text-xs font-normal text-gray-400"},Ck={class:"w-full bg-gray-200 rounded-full h-1.5 mt-2"},Ak={class:"flex justify-between items-start"},Bk={class:"flex justify-between items-start"},_k={class:"text-2xl font-bold text-orange-600 mt-1"},kk={class:"bg-white p-4 rounded-lg shadow mb-6 border border-gray-100"},Dk={class:"flex flex-col md:flex-row justify-between gap-4"},Sk={class:"flex flex-wrap gap-2 w-full md:w-3/4"},Fk={class:"flex flex-col sm:flex-row gap-2 w-full md:w-auto"},Tk={class:"relative flex-grow sm:flex-grow-0 flex gap-2"},Mk={class:"relative w-full sm:w-64"},Ik=["disabled"],Pk={key:0},Rk={key:1},Ok={class:"overflow-x-auto bg-white shadow-md rounded-lg"},Nk={class:"w-full border-collapse border border-blue-300 text-sm"},Lk={class:"bg-blue-200 text-gray-800 font-semibold text-center"},$k={rowspan:"2",class:"border border-blue-400 p-2 align-middle w-10"},jk=["disabled"],Uk={class:"border border-gray-300 p-2 text-center"},Hk=["value","disabled"],zk={class:"border border-gray-300 p-2 bg-gray-50 text-xs font-mono font-bold text-blue-900"},Vk=["title"],qk={class:"border border-gray-300 p-2 bg-gray-50 text-right whitespace-nowrap"},Wk={class:"font-bold text-gray-800"},Gk={class:"border border-gray-300 p-2 bg-gray-50 font-bold"},Qk={class:"border border-gray-300 p-1"},Kk=["onClick"],Yk={class:"truncate max-w-[80px]"},Xk={class:"border border-gray-300 p-1"},Zk=["onClick"],Jk={class:"truncate max-w-[80px]"},eD={class:"border border-gray-300 p-1"},tD=["onUpdate:modelValue","disabled"],nD={class:"border border-gray-300 p-1 bg-yellow-50"},rD=["onUpdate:modelValue"],sD={class:"border border-gray-300 p-1 bg-yellow-50 text-center align-middle"},oD={key:0,class:"flex flex-col items-center justify-center"},iD={key:0,class:"text-[9px] text-red-400 mt-1"},aD=["onClick"],lD={key:2,class:"text-green-600 font-bold text-[10px] border border-green-600 bg-green-50 px-2 py-0.5 rounded inline-block"},cD={key:3,class:"text-gray-400 text-[10px]"},dD={key:0,class:"bg-gray-50"},uD={colspan:"11",class:"border border-gray-300 p-2"},xD={class:"flex items-center justify-between"},fD=["onClick"],hD={key:1,class:"text-xs text-gray-500 italic"},gD=["onClick"],pD={key:0,class:"mt-3 overflow-x-auto"},mD={class:"w-full text-xs border border-gray-300"},yD={class:"border border-gray-300 p-2 text-center"},bD={class:"border border-gray-300 p-2 text-right"},vD={class:"border border-gray-300 p-2 text-right"},ED={class:"border border-gray-300 p-2 text-center"},wD={class:"border border-gray-300 p-2"},CD={key:0,class:"mb-4 p-4 bg-green-100 text-green-700 rounded border border-green-200"},AD={key:1,class:"fixed inset-0 z-[70] flex items-center justify-center bg-black/50 backdrop-blur-sm"},BD={class:"bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4 flex flex-col max-h-[90vh]"},_D={class:"p-4 border-b bg-gray-50 flex justify-between items-center rounded-t-lg"},kD={class:"p-6 overflow-y-auto"},DD={class:"text-sm text-gray-600 mb-4"},SD={class:"border rounded-lg overflow-hidden"},FD={class:"w-full text-sm"},TD={class:"divide-y divide-gray-200"},MD={class:"p-2"},ID={class:"p-2"},PD={class:"p-2"},RD={class:"p-2 text-right font-bold"},OD={class:"p-4 border-t bg-gray-50 flex justify-end gap-3 rounded-b-lg"},ND={key:2,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm transition-opacity"},LD={class:"bg-white rounded-lg shadow-2xl w-full max-w-sm mx-4 overflow-hidden relative animate-fade-in-down"},$D={class:"bg-gray-100 px-4 py-3 border-b flex justify-between items-center"},jD={class:"font-bold text-gray-800 text-sm"},UD={class:"text-blue-600"},HD={class:"p-0 bg-white relative"},zD={key:0,class:"absolute inset-0 flex items-center justify-center text-white text-xs"},VD={key:3,class:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 backdrop-blur-sm"},qD={class:"bg-white rounded-lg shadow-xl max-w-sm w-full mx-4 p-6 text-center animate-bounce-short"},WD={class:"text-sm text-gray-500 mb-6"},GD={key:0,class:"inline-flex items-center gap-2 text-gray-500"},QD={key:1,class:"text-xs text-gray-400 italic"},KD=$r({__name:"CycleCount",props:{initialStocks:Array,nextPageUrl:String,filters:Object,statistics:Object},setup(e){const t=e,n=tl({items:[]}),r=pe([]),i=pe(null),a=pe(t.nextPageUrl),c=pe(!1);let u=null;const g=po({search:t.filters?.search||"",status:t.filters?.status||"",frequency:t.filters?.frequency||""}),h=()=>{ft.get("/transaction/cycle-count",g,{preserveState:!0,replace:!0,onSuccess:()=>{}})},m=()=>{g.search="",g.status="",g.frequency="",h()},y=()=>{g.frequency="never",h()},C=z=>{z.target.checked?r.value=n.items.filter(F=>A(F)):r.value=[]},E=z=>r.value.some(F=>F.material_id===z.material_id&&F.bin_id===z.bin_id),A=z=>z.status==="APPROVED"||z.history_count&&z.history_count>0,k=()=>{r.value.length!==0&&(T.value=!0)},D=()=>{const z=r.value.map(F=>({material_id:F.material_id,bin_id:F.bin_id}));ft.post("/transaction/cycle-count/bulk-repeat",{targets:z},{onSuccess:()=>{T.value=!1,r.value=[],alert(`Berhasil membuat ${z.length} cycle count baru!`),ft.reload()},onError:F=>{console.error(F),alert("Gagal memproses permintaan bulk.")}})},I=pe(t.filters?.search||""),$=()=>{ft.get("/transaction/cycle-count",{search:I.value},{preserveState:!0,replace:!0})},P=()=>{I.value="",$()},S=pe(!1),M=pe(!1),j=pe(null),L=pe("");let q=null;const T=pe(!1),Q=pe(!1),oe=pe("");Qn(()=>{Y()});const Y=()=>{t.initialStocks&&(n.items=JSON.parse(JSON.stringify(t.initialStocks)),n.items.forEach(z=>{z.showHistory=!1}),r.value=[],a.value=t.nextPageUrl,le())};En(()=>t.initialStocks,()=>{Y()});const le=()=>{u&&u.disconnect(),a.value&&br(()=>{const z=i.value;z&&(u=new IntersectionObserver(F=>{F[0].isIntersecting&&!c.value&&a.value&&(console.log("Trigger Load More..."),ye())},{root:null,rootMargin:"100px",threshold:.1}),u.observe(z))})},ye=async()=>{if(!(c.value||!a.value)){c.value=!0;try{console.log("Fetching: "+a.value);const z=await Bt.get(a.value,{params:{...g},headers:{Accept:"application/json"}}),F=z.data.data,X=z.data.next_page_url;F&&F.length>0?(F.forEach(ce=>ce.showHistory=!1),n.items=[...n.items,...F],a.value=X,X?le():u&&u.disconnect()):a.value=null}catch(z){console.error("Gagal memuat data tambahan:",z),alert("Gagal memuat data. Periksa koneksi internet.")}finally{c.value=!1}}};I0(()=>{q&&q.clear().catch(z=>console.error(z)),u&&u.disconnect()});const re=z=>{if(!z)return"";const F=z.toString().trim().toUpperCase();if(F.includes("|")){const X=F.split("|");if(X.length>=3)return X[2]}return F},Ee=(z,F)=>{j.value=z,L.value=F,S.value=!0,M.value=!0,setTimeout(()=>{br(()=>{ve()})},300)},ve=()=>{if(!document.getElementById("reader"))return;const z={fps:10,qrbox:{width:200,height:200},aspectRatio:1,formatsToSupport:[Je.QR_CODE,Je.CODE_128,Je.CODE_39]};q&&q.clear().catch(F=>console.warn(F));try{q=new fk("reader",z,!1),q.render(Ce,()=>{}),M.value=!1}catch{alert("Error Camera"),he()}},Ce=z=>{let F=z.trim(),X=!1;try{const ce=JSON.parse(F);L.value==="scan_bin"&&ce.bin_code&&(F=ce.bin_code,X=!0)}catch{}if((L.value==="scan_serial"||L.value==="search")&&!X&&(F=re(F)),F=F.toUpperCase(),L.value==="search"){I.value=F,$(),he();return}if(j.value&&L.value){let ce="",se="";if(L.value==="scan_bin"?(ce=ae(j.value.location),se="Lokasi Bin"):L.value==="scan_serial"&&(ce=re(j.value.serial_number),se="Serial Number"),F!==ce){he(),oe.value=`Kode ${se} (${F}) TIDAK SESUAI target (${ce}).`,Q.value=!0;return}j.value[L.value]=F}he()},he=()=>{q?q.clear().catch(()=>{}).finally(()=>{q=null,S.value=!1}):S.value=!1},ae=z=>(z||"").toString().trim().toUpperCase(),ee=z=>{const F=ae(z.scan_serial),X=re(z.serial_number);return F===X&&F.length>0},Ie=z=>ae(z.scan_bin)===ae(z.location)&&!!z.scan_bin,$e=z=>ee(z)&&Ie(z),Ne=z=>new Intl.NumberFormat("en-US").format(z),tt=z=>{if(!$e(z))return"0.00";const F=z.physical_qty??0,X=z.onhand;return X?(F/X*100).toFixed(2):"0.00"},Re=z=>{if(!$e(z))return"0.00";const F=z.physical_qty;if(F==null||F==="")return"0.00";const X=z.onhand;return X?((F-X)/X*100).toFixed(2):"0.00"},et=z=>{if(!$e(z))return"text-gray-300";const F=parseFloat(tt(z));return F===100?"text-green-600":F>100?"text-blue-600":"text-red-600"},Xe=z=>parseFloat(Re(z))===0?"text-gray-400":"text-red-600",rt=z=>{switch(z){case"KARANTINA":return"bg-orange-100 text-orange-700 border-orange-300";case"RELEASED":return"bg-green-100 text-green-700 border-green-300";case"HOLD":return"bg-gray-100 text-gray-700 border-gray-300";case"REJECTED":return"bg-red-100 text-red-700 border-red-300";default:return"bg-gray-50 text-gray-500 border-gray-200"}},Pe=()=>{confirm("Simpan hasil opname?")&&n.post("/transaction/cycle-count/store",{onSuccess:()=>{alert("Berhasil disubmit ke Supervisor!")},onError:z=>{console.error(z),alert("Gagal menyimpan data.")}})},te=z=>{if(z.status!=="REVIEW_NEEDED"){alert("Item belum disubmit oleh Warehouseman!");return}!z.spv_note&&!confirm("Approve tanpa catatan?")||ft.post("/transaction/cycle-count/approve",{id:z.id,material_id:z.material_id,spv_note:z.spv_note},{onSuccess:()=>{z.status="APPROVED",alert("Item berhasil diapprove!")},onError:F=>{alert("Gagal: Item mungkin belum disubmit.")}})},_e=z=>{n.items[z].showHistory=!n.items[z].showHistory},J=z=>{confirm(`Apakah Anda yakin ingin mengulang cycle count untuk ${z.product_name}?`)&&ft.post("/transaction/cycle-count/repeat",{material_id:z.material_id,bin_id:z.bin_id},{onSuccess:()=>{alert("Cycle count baru berhasil dibuat!"),ft.reload()},onError:F=>{console.error(F),alert("Gagal membuat cycle count baru.")}})};return(z,F)=>(U(),wt(Kn,{title:"Cycle Count"},{default:vt(()=>[s("div",hk,[s("div",gk,[s("div",pk,[s("div",mk,[s("div",null,[F[9]||(F[9]=s("p",{class:"text-xs text-gray-500 uppercase font-bold"},"Total SKU (Stock)",-1)),s("h3",yk,R(Ne(e.statistics.total_sku)),1)]),F[10]||(F[10]=s("div",{class:"p-2 bg-blue-100 rounded-lg text-blue-600"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])],-1))])]),s("div",bk,[s("div",vk,[s("div",null,[F[11]||(F[11]=s("p",{class:"text-xs text-gray-500 uppercase font-bold"},"Sudah Opname (Bulan Ini)",-1)),s("h3",Ek,[Ve(R(Ne(e.statistics.counted_items))+" ",1),s("span",wk,"/ "+R(Ne(e.statistics.total_sku)),1)]),s("div",Ck,[s("div",{class:"bg-green-500 h-1.5 rounded-full",style:Oi(`width: ${e.statistics.progress_percentage}%`)},null,4)])]),F[12]||(F[12]=s("div",{class:"p-2 bg-green-100 rounded-lg text-green-600"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),s("div",{class:Se(["bg-white rounded-xl shadow p-4 border-l-4",e.statistics.avg_accuracy>=98?"border-indigo-500":"border-red-500"])},[s("div",Ak,[s("div",null,[F[13]||(F[13]=s("p",{class:"text-xs text-gray-500 uppercase font-bold"},"Rata-rata Akurasi",-1)),s("h3",{class:Se(["text-2xl font-bold mt-1",e.statistics.avg_accuracy>=98?"text-indigo-600":"text-red-600"])},R(e.statistics.avg_accuracy)+"% ",3),F[14]||(F[14]=s("p",{class:"text-[10px] text-gray-400 mt-1"},"Target: >98%",-1))]),s("div",{class:Se(["p-2 rounded-lg",e.statistics.avg_accuracy>=98?"bg-indigo-100 text-indigo-600":"bg-red-100 text-red-600"])},[...F[15]||(F[15]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})],-1)])],2)])],2),s("div",{class:"bg-white rounded-xl shadow p-4 border-l-4 border-orange-500 cursor-pointer hover:bg-orange-50 transition-colors",onClick:y},[s("div",Bk,[s("div",null,[F[16]||(F[16]=s("p",{class:"text-xs text-gray-500 uppercase font-bold"},"Belum Pernah Opname",-1)),s("h3",_k,R(Ne(e.statistics.never_counted)),1),F[17]||(F[17]=s("p",{class:"text-[10px] text-orange-400 mt-1 font-bold underline"},"Klik untuk filter",-1))]),F[18]||(F[18]=s("div",{class:"p-2 bg-orange-100 rounded-lg text-orange-600"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])])]),s("div",kk,[s("div",Dk,[s("div",Sk,[me(s("select",{"onUpdate:modelValue":F[0]||(F[0]=X=>g.status=X),onChange:h,class:"w-full sm:w-40 text-sm border rounded bg-gray-50 py-1.5"},[...F[19]||(F[19]=[s("option",{value:""},"Semua Status",-1),s("option",{value:"DRAFT"},"Draft / Progress",-1),s("option",{value:"REVIEW_NEEDED"},"Butuh Approval",-1),s("option",{value:"APPROVED"},"Selesai (Approved)",-1)])],544),[[lt,g.status]]),me(s("select",{"onUpdate:modelValue":F[1]||(F[1]=X=>g.frequency=X),onChange:h,class:"w-full sm:w-48 text-sm border border-orange-300 rounded bg-orange-50 py-1.5 text-orange-800 font-semibold"},[...F[20]||(F[20]=[s("option",{value:""},"Semua Frekuensi",-1),s("option",{value:"never"},"Belum Pernah Opname",-1),s("option",{value:"rare"},"Jarang (< 2x Opname)",-1),s("option",{value:"often"},"Sering (> 5x Opname)",-1)])],544),[[lt,g.frequency]]),s("button",{onClick:m,class:"px-3 py-1.5 text-sm text-gray-500 hover:text-red-500 underline"},"Reset")]),s("div",Fk,[r.value.length>0?(U(),V("button",{key:0,onClick:k,class:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg shadow transition-colors flex items-center justify-center gap-2 animate-pulse whitespace-nowrap"},[F[21]||(F[21]=s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)),s("span",null,"Ulangi ("+R(r.value.length)+")",1)])):xe("",!0),s("div",Tk,[s("button",{onClick:F[2]||(F[2]=X=>Ee(null,"search")),class:"bg-blue-200 hover:bg-blue-300 text-blue-700 p-2 rounded-lg shadow transition-colors flex items-center justify-center"},[...F[22]||(F[22]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})],-1)])]),s("div",Mk,[me(s("input",{type:"text","onUpdate:modelValue":F[3]||(F[3]=X=>I.value=X),onKeydown:Ni($,["enter"]),placeholder:"Scan QR Material / Cari...",class:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"},null,544),[[Oe,I.value]]),F[24]||(F[24]=s("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[s("svg",{class:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),I.value?(U(),V("button",{key:0,onClick:P,class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600"},[...F[23]||(F[23]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])):xe("",!0)])]),s("button",{onClick:Pe,disabled:Ge(n).processing,class:Se(["flex items-center justify-center gap-2 px-4 py-2 rounded shadow transition-colors whitespace-nowrap",Ge(n).processing?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"])},[Ge(n).processing?(U(),V("span",Pk,"Menyimpan...")):(U(),V("span",Rk,"Submit ke Supervisor"))],10,Ik)])])]),s("div",Ok,[s("table",Nk,[s("thead",Lk,[s("tr",null,[s("th",$k,[s("input",{type:"checkbox",onChange:F[4]||(F[4]=X=>C(X)),class:"rounded text-blue-600 focus:ring-blue-500 h-4 w-4",disabled:Ge(n).items.every(X=>!A(X))},null,40,jk)]),F[25]||(F[25]=s("th",{rowspan:"2",class:"border border-blue-400 p-2 align-middle"},"Serial Number",-1)),F[26]||(F[26]=s("th",{rowspan:"2",class:"border border-blue-400 p-2 align-middle"},"Product Name",-1)),F[27]||(F[27]=s("th",{rowspan:"2",class:"border border-blue-400 p-2 align-middle"},"Onhand",-1)),F[28]||(F[28]=s("th",{rowspan:"2",class:"border border-blue-400 p-2 align-middle"},"Loc",-1)),F[29]||(F[29]=s("th",{colspan:"3",class:"border border-blue-400 p-2 bg-blue-300"},"Input Warehouseman",-1)),F[30]||(F[30]=s("th",{colspan:"2",class:"border border-blue-400 p-2 bg-blue-300"},"Hasil",-1)),F[31]||(F[31]=s("th",{colspan:"2",class:"border border-blue-400 p-2 bg-yellow-200"},"Area Supervisor",-1))]),F[32]||(F[32]=s("tr",null,[s("th",{class:"border border-blue-400 p-2 bg-blue-100 w-32"},"Scan Serial"),s("th",{class:"border border-blue-400 p-2 bg-blue-100 w-24"},"Scan Bin"),s("th",{class:"border border-blue-400 p-2 bg-blue-100 w-20"},"Qty"),s("th",{class:"border border-blue-400 p-2 bg-blue-100 w-20"},"Acc"),s("th",{class:"border border-blue-400 p-2 bg-blue-100 w-20"},"In Acc"),s("th",{class:"border border-blue-400 p-2 bg-yellow-100 w-40"},"Note SPV"),s("th",{class:"border border-blue-400 p-2 bg-yellow-100 w-20"},"Action")],-1))]),s("tbody",null,[(U(!0),V(je,null,nt(Ge(n).items,(X,ce)=>(U(),V(je,{key:ce},[s("tr",{class:Se(["hover:bg-gray-50 text-center text-gray-700",E(X)?"bg-orange-50":""])},[s("td",Uk,[me(s("input",{type:"checkbox",value:X,"onUpdate:modelValue":F[5]||(F[5]=se=>r.value=se),disabled:!A(X),class:"rounded text-blue-600 focus:ring-blue-500 h-4 w-4 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed"},null,8,Hk),[[qo,r.value]])]),s("td",zk,R(re(X.serial_number)),1),s("td",{class:"border border-gray-300 p-2 text-left bg-gray-50 text-xs truncate max-w-[150px]",title:X.product_name},R(X.product_name),9,Vk),s("td",qk,[s("span",Wk,R(Ne(X.onhand))+" "+R(X.uom),1),X.inventory_status?(U(),V("span",{key:0,class:Se(["ml-2 text-[10px] px-1.5 py-0.5 rounded font-bold border",rt(X.inventory_status)])},R(X.inventory_status),3)):xe("",!0)]),s("td",Gk,R(X.location),1),s("td",Qk,[s("button",{type:"button",onClick:se=>Ee(X,"scan_serial"),class:Se(["w-full py-1 px-2 text-xs rounded border flex items-center justify-center gap-1 transition-colors",ee(X)?"bg-green-100 border-green-500 text-green-700 font-bold":"bg-white border-gray-300 hover:bg-gray-100"])},[F[33]||(F[33]=s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v1m6 11h2m-6 0h-2v4h2v-4zM6 6h12v12H6V6z"})],-1)),s("span",Yk,R(X.scan_serial?X.scan_serial:"Scan SN"),1)],10,Kk)]),s("td",Xk,[s("button",{type:"button",onClick:se=>Ee(X,"scan_bin"),class:Se(["w-full py-1 px-2 text-xs rounded border flex items-center justify-center gap-1 transition-colors",Ie(X)?"bg-green-100 border-green-500 text-green-700 font-bold":"bg-white border-gray-300 hover:bg-gray-100"])},[F[34]||(F[34]=s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),s("span",Jk,R(X.scan_bin?X.scan_bin:"Bin"),1)],10,Zk)]),s("td",eD,[me(s("input",{type:"number","onUpdate:modelValue":se=>X.physical_qty=se,disabled:!$e(X),class:Se(["w-full text-center border rounded text-xs py-1 font-bold",$e(X)?"bg-white border-blue-500 text-blue-800":"bg-gray-100 border-gray-200 text-gray-400 cursor-not-allowed"]),placeholder:"0"},null,10,tD),[[Oe,X.physical_qty,void 0,{number:!0}]])]),s("td",{class:Se(["border border-gray-300 p-2 text-xs font-bold",et(X)])},R(tt(X))+"%",3),s("td",{class:Se(["border border-gray-300 p-2 text-xs font-bold",Xe(X)])},R(Re(X))+"%",3),s("td",nD,[me(s("input",{type:"text","onUpdate:modelValue":se=>X.spv_note=se,class:"w-full text-xs border border-yellow-300 rounded px-1 py-1 bg-white focus:ring-yellow-500 focus:border-yellow-500",placeholder:"Catatan SPV..."},null,8,rD),[[Oe,X.spv_note]])]),s("td",sD,[X.status==="DRAFT"||!X.status?(U(),V("div",oD,[F[35]||(F[35]=s("span",{class:"text-gray-400 text-[10px] italic"},"Waiting Submit",-1)),$e(X)?xe("",!0):(U(),V("span",iD,"(Belum Scan)"))])):X.status==="REVIEW_NEEDED"?(U(),V("button",{key:1,onClick:se=>te(X),type:"button",class:"bg-blue-600 hover:bg-blue-700 text-white text-[10px] font-bold py-1 px-3 rounded shadow flex items-center justify-center gap-1 mx-auto transition-transform active:scale-95 animate-pulse"},[...F[36]||(F[36]=[s("span",null,"Approve",-1)])],8,aD)):X.status==="APPROVED"?(U(),V("span",lD," DONE ")):(U(),V("span",cD,"-"))])],2),X.status==="APPROVED"||X.history&&X.history_count>0?(U(),V("tr",dD,[s("td",uD,[s("div",xD,[X.history&&X.history_count>0?(U(),V("button",{key:0,onClick:se=>_e(ce),class:"flex items-center gap-2 text-xs text-blue-600 hover:text-blue-800 font-semibold"},[(U(),V("svg",{xmlns:"http://www.w3.org/2000/svg",class:Se(["h-4 w-4 transition-transform",X.showHistory?"rotate-180":""]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...F[37]||(F[37]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2)),s("span",null,R(X.showHistory?"Sembunyikan":"Lihat")+" Riwayat ("+R(X.history_count)+"x)",1)],8,fD)):(U(),V("span",hD," Material ini sudah selesai di-cycle count ")),s("button",{onClick:se=>J(X),class:"flex items-center gap-1 px-3 py-1 text-xs bg-orange-500 hover:bg-orange-600 text-white rounded shadow transition-colors"},[...F[38]||(F[38]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),s("span",null,"Ulangi Cycle Count",-1)])],8,gD)]),X.showHistory&&X.history&&X.history_count>0?(U(),V("div",pD,[s("table",mD,[F[39]||(F[39]=s("thead",{class:"bg-gray-200"},[s("tr",null,[s("th",{class:"border border-gray-300 p-2"},"Tanggal"),s("th",{class:"border border-gray-300 p-2"},"System Qty"),s("th",{class:"border border-gray-300 p-2"},"Physical Qty"),s("th",{class:"border border-gray-300 p-2"},"Accuracy"),s("th",{class:"border border-gray-300 p-2"},"Status"),s("th",{class:"border border-gray-300 p-2"},"Note SPV")])],-1)),s("tbody",null,[(U(!0),V(je,null,nt(X.history,(se,we)=>(U(),V("tr",{key:we,class:"hover:bg-gray-100"},[s("td",yD,R(se.count_date),1),s("td",bD,R(Ne(se.system_qty)),1),s("td",vD,R(Ne(se.physical_qty)),1),s("td",{class:Se(["border border-gray-300 p-2 text-center font-bold",se.accuracy===100?"text-green-600":"text-red-600"])},R(se.accuracy)+"%",3),s("td",ED,[s("span",{class:Se(["px-2 py-0.5 rounded text-[10px] font-bold",se.status==="APPROVED"?"bg-green-100 text-green-700 border border-green-500":"bg-gray-100 text-gray-600"])},R(se.status),3)]),s("td",wD,R(se.spv_note||"-"),1)]))),128))])])])):xe("",!0)])])):xe("",!0)],64))),128))])])]),z.$page.props.flash.success?(U(),V("div",CD,R(z.$page.props.flash.success),1)):xe("",!0),T.value?(U(),V("div",AD,[s("div",BD,[s("div",_D,[F[40]||(F[40]=s("h3",{class:"text-lg font-bold text-gray-800"},"Konfirmasi Cycle Count Ulang",-1)),s("button",{onClick:F[6]||(F[6]=X=>T.value=!1),class:"text-gray-500 hover:text-red-500 text-xl font-bold"},"")]),s("div",kD,[s("p",DD,[F[41]||(F[41]=Ve(" Anda akan mengulang cycle count untuk ",-1)),s("b",null,R(r.value.length)+" material",1),F[42]||(F[42]=Ve(" berikut. Data saat ini akan di-reset menjadi DRAFT dan Warehouseman harus melakukan scan ulang. ",-1))]),s("div",SD,[s("table",FD,[F[43]||(F[43]=s("thead",{class:"bg-gray-100"},[s("tr",null,[s("th",{class:"p-2 text-left"},"Kode Material"),s("th",{class:"p-2 text-left"},"Nama Produk"),s("th",{class:"p-2 text-left"},"Lokasi"),s("th",{class:"p-2 text-right"},"System Qty")])],-1)),s("tbody",TD,[(U(!0),V(je,null,nt(r.value,(X,ce)=>(U(),V("tr",{key:ce,class:"hover:bg-gray-50"},[s("td",MD,R(X.code),1),s("td",ID,R(X.product_name),1),s("td",PD,R(X.location),1),s("td",RD,R(Ne(X.onhand)),1)]))),128))])])])]),s("div",OD,[s("button",{onClick:F[7]||(F[7]=X=>T.value=!1),class:"px-4 py-2 bg-gray-300 hover:bg-gray-400 text-gray-800 rounded font-semibold transition-colors"}," Batal "),s("button",{onClick:D,class:"px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded font-semibold shadow transition-colors flex items-center gap-2"},[...F[44]||(F[44]=[s("span",null,"Konfirmasi & Buat Ulang",-1)])])])])])):xe("",!0),S.value?(U(),V("div",ND,[s("div",LD,[s("div",$D,[s("h3",jD,[F[45]||(F[45]=Ve("Scan: ",-1)),s("span",UD,R(L.value==="scan_serial"?"Serial Number":L.value==="scan_bin"?"Lokasi Bin":"Cari Material"),1)]),s("button",{onClick:he,class:"text-gray-400 hover:text-red-500 font-bold text-2xl leading-none"},"")]),s("div",HD,[F[46]||(F[46]=s("div",{id:"reader",class:"w-full",style:{"min-height":"300px"}},null,-1)),M.value?(U(),V("div",zD,"Memuat Kamera...")):xe("",!0)]),s("div",{class:"bg-white px-4 py-3 border-t text-center"},[s("button",{onClick:he,class:"w-full bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded shadow"},"Batal Scan")])])])):xe("",!0),Q.value?(U(),V("div",VD,[s("div",qD,[F[47]||(F[47]=s("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4"},[s("svg",{class:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})])],-1)),F[48]||(F[48]=s("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-2"},"Scan Ditolak!",-1)),s("p",WD,R(oe.value),1),s("button",{onClick:F[8]||(F[8]=X=>Q.value=!1),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 sm:text-sm"}," Tutup & Scan Ulang ")])])):xe("",!0),s("div",{ref_key:"scrollTrigger",ref:i,class:"py-6 text-center"},[c.value?(U(),V("div",GD,[...F[49]||(F[49]=[s("svg",{class:"animate-spin h-5 w-5 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),s("span",{class:"text-sm font-semibold"},"Memuat data berikutnya...",-1)])])):a.value?xe("",!0):(U(),V("div",QD," -- Semua data telah ditampilkan -- "))],512)])]),_:1}))}}),YD=Object.freeze(Object.defineProperty({__proto__:null,default:KD},Symbol.toStringTag,{value:"Module"}));var ui={},_d,Jh;function XD(){return Jh||(Jh=1,_d=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),_d}var kd={},Ks={},eg;function Zo(){if(eg)return Ks;eg=1;let e;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Ks.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},Ks.getSymbolTotalCodewords=function(r){return t[r]},Ks.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},Ks.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');e=r},Ks.isKanjiModeEnabled=function(){return typeof e<"u"},Ks.toSJIS=function(r){return e(r)},Ks}var Dd={},tg;function Dx(){return tg||(tg=1,(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,i){if(e.isValid(r))return r;try{return t(r)}catch{return i}}})(Dd)),Dd}var Sd,ng;function ZD(){if(ng)return Sd;ng=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(t){const n=Math.floor(t/8);return(this.buffer[n]>>>7-t%8&1)===1},put:function(t,n){for(let r=0;r<n;r++)this.putBit((t>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),t&&(this.buffer[n]|=128>>>this.length%8),this.length++}},Sd=e,Sd}var Fd,rg;function JD(){if(rg)return Fd;rg=1;function e(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}return e.prototype.set=function(t,n,r,i){const a=t*this.size+n;this.data[a]=r,i&&(this.reservedBit[a]=!0)},e.prototype.get=function(t,n){return this.data[t*this.size+n]},e.prototype.xor=function(t,n,r){this.data[t*this.size+n]^=r},e.prototype.isReserved=function(t,n){return this.reservedBit[t*this.size+n]},Fd=e,Fd}var Td={},sg;function eS(){return sg||(sg=1,(function(e){const t=Zo().getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,a=t(r),c=a===145?26:Math.ceil((a-13)/(2*i-2))*2,u=[a-7];for(let g=1;g<i-1;g++)u[g]=u[g-1]-c;return u.push(6),u.reverse()},e.getPositions=function(r){const i=[],a=e.getRowColCoords(r),c=a.length;for(let u=0;u<c;u++)for(let g=0;g<c;g++)u===0&&g===0||u===0&&g===c-1||u===c-1&&g===0||i.push([a[u],a[g]]);return i}})(Td)),Td}var Md={},og;function tS(){if(og)return Md;og=1;const e=Zo().getSymbolSize,t=7;return Md.getPositions=function(r){const i=e(r);return[[0,0],[i-t,0],[0,i-t]]},Md}var Id={},ig;function nS(){return ig||(ig=1,(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const a=i.size;let c=0,u=0,g=0,h=null,m=null;for(let y=0;y<a;y++){u=g=0,h=m=null;for(let C=0;C<a;C++){let E=i.get(y,C);E===h?u++:(u>=5&&(c+=t.N1+(u-5)),h=E,u=1),E=i.get(C,y),E===m?g++:(g>=5&&(c+=t.N1+(g-5)),m=E,g=1)}u>=5&&(c+=t.N1+(u-5)),g>=5&&(c+=t.N1+(g-5))}return c},e.getPenaltyN2=function(i){const a=i.size;let c=0;for(let u=0;u<a-1;u++)for(let g=0;g<a-1;g++){const h=i.get(u,g)+i.get(u,g+1)+i.get(u+1,g)+i.get(u+1,g+1);(h===4||h===0)&&c++}return c*t.N2},e.getPenaltyN3=function(i){const a=i.size;let c=0,u=0,g=0;for(let h=0;h<a;h++){u=g=0;for(let m=0;m<a;m++)u=u<<1&2047|i.get(h,m),m>=10&&(u===1488||u===93)&&c++,g=g<<1&2047|i.get(m,h),m>=10&&(g===1488||g===93)&&c++}return c*t.N3},e.getPenaltyN4=function(i){let a=0;const c=i.data.length;for(let g=0;g<c;g++)a+=i.data[g];return Math.abs(Math.ceil(a*100/c/5)-10)*t.N4};function n(r,i,a){switch(r){case e.Patterns.PATTERN000:return(i+a)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return a%3===0;case e.Patterns.PATTERN011:return(i+a)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(a/3))%2===0;case e.Patterns.PATTERN101:return i*a%2+i*a%3===0;case e.Patterns.PATTERN110:return(i*a%2+i*a%3)%2===0;case e.Patterns.PATTERN111:return(i*a%3+(i+a)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(i,a){const c=a.size;for(let u=0;u<c;u++)for(let g=0;g<c;g++)a.isReserved(g,u)||a.xor(g,u,n(i,g,u))},e.getBestMask=function(i,a){const c=Object.keys(e.Patterns).length;let u=0,g=1/0;for(let h=0;h<c;h++){a(h),e.applyMask(h,i);const m=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(h,i),m<g&&(g=m,u=h)}return u}})(Id)),Id}var Al={},ag;function Sy(){if(ag)return Al;ag=1;const e=Dx(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Al.getBlocksCount=function(i,a){switch(a){case e.L:return t[(i-1)*4+0];case e.M:return t[(i-1)*4+1];case e.Q:return t[(i-1)*4+2];case e.H:return t[(i-1)*4+3];default:return}},Al.getTotalCodewordsCount=function(i,a){switch(a){case e.L:return n[(i-1)*4+0];case e.M:return n[(i-1)*4+1];case e.Q:return n[(i-1)*4+2];case e.H:return n[(i-1)*4+3];default:return}},Al}var Pd={},sa={},lg;function rS(){if(lg)return sa;lg=1;const e=new Uint8Array(512),t=new Uint8Array(256);return(function(){let r=1;for(let i=0;i<255;i++)e[i]=r,t[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)e[i]=e[i-255]})(),sa.log=function(r){if(r<1)throw new Error("log("+r+")");return t[r]},sa.exp=function(r){return e[r]},sa.mul=function(r,i){return r===0||i===0?0:e[t[r]+t[i]]},sa}var cg;function sS(){return cg||(cg=1,(function(e){const t=rS();e.mul=function(r,i){const a=new Uint8Array(r.length+i.length-1);for(let c=0;c<r.length;c++)for(let u=0;u<i.length;u++)a[c+u]^=t.mul(r[c],i[u]);return a},e.mod=function(r,i){let a=new Uint8Array(r);for(;a.length-i.length>=0;){const c=a[0];for(let g=0;g<i.length;g++)a[g]^=t.mul(i[g],c);let u=0;for(;u<a.length&&a[u]===0;)u++;a=a.slice(u)}return a},e.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let a=0;a<r;a++)i=e.mul(i,new Uint8Array([1,t.exp(a)]));return i}})(Pd)),Pd}var Rd,dg;function oS(){if(dg)return Rd;dg=1;const e=sS();function t(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(r){this.degree=r,this.genPoly=e.generateECPolynomial(this.degree)},t.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const a=e.mod(i,this.genPoly),c=this.degree-a.length;if(c>0){const u=new Uint8Array(this.degree);return u.set(a,c),u}return a},Rd=t,Rd}var Od={},Nd={},Ld={},ug;function Fy(){return ug||(ug=1,Ld.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}),Ld}var is={},xg;function Ty(){if(xg)return is;xg=1;const e="[0-9]+",t="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;is.KANJI=new RegExp(n,"g"),is.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),is.BYTE=new RegExp(r,"g"),is.NUMERIC=new RegExp(e,"g"),is.ALPHANUMERIC=new RegExp(t,"g");const i=new RegExp("^"+n+"$"),a=new RegExp("^"+e+"$"),c=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return is.testKanji=function(g){return i.test(g)},is.testNumeric=function(g){return a.test(g)},is.testAlphanumeric=function(g){return c.test(g)},is}var fg;function Jo(){return fg||(fg=1,(function(e){const t=Fy(),n=Ty();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(a,c){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!t.isValid(c))throw new Error("Invalid version: "+c);return c>=1&&c<10?a.ccBits[0]:c<27?a.ccBits[1]:a.ccBits[2]},e.getBestModeForData=function(a){return n.testNumeric(a)?e.NUMERIC:n.testAlphanumeric(a)?e.ALPHANUMERIC:n.testKanji(a)?e.KANJI:e.BYTE},e.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},e.isValid=function(a){return a&&a.bit&&a.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(a,c){if(e.isValid(a))return a;try{return r(a)}catch{return c}}})(Nd)),Nd}var hg;function iS(){return hg||(hg=1,(function(e){const t=Zo(),n=Sy(),r=Dx(),i=Jo(),a=Fy(),c=7973,u=t.getBCHDigit(c);function g(C,E,A){for(let k=1;k<=40;k++)if(E<=e.getCapacity(k,A,C))return k}function h(C,E){return i.getCharCountIndicator(C,E)+4}function m(C,E){let A=0;return C.forEach(function(k){const D=h(k.mode,E);A+=D+k.getBitsLength()}),A}function y(C,E){for(let A=1;A<=40;A++)if(m(C,A)<=e.getCapacity(A,E,i.MIXED))return A}e.from=function(E,A){return a.isValid(E)?parseInt(E,10):A},e.getCapacity=function(E,A,k){if(!a.isValid(E))throw new Error("Invalid QR Code version");typeof k>"u"&&(k=i.BYTE);const D=t.getSymbolTotalCodewords(E),I=n.getTotalCodewordsCount(E,A),$=(D-I)*8;if(k===i.MIXED)return $;const P=$-h(k,E);switch(k){case i.NUMERIC:return Math.floor(P/10*3);case i.ALPHANUMERIC:return Math.floor(P/11*2);case i.KANJI:return Math.floor(P/13);case i.BYTE:default:return Math.floor(P/8)}},e.getBestVersionForData=function(E,A){let k;const D=r.from(A,r.M);if(Array.isArray(E)){if(E.length>1)return y(E,D);if(E.length===0)return 1;k=E[0]}else k=E;return g(k.mode,k.getLength(),D)},e.getEncodedBits=function(E){if(!a.isValid(E)||E<7)throw new Error("Invalid QR Code version");let A=E<<12;for(;t.getBCHDigit(A)-u>=0;)A^=c<<t.getBCHDigit(A)-u;return E<<12|A}})(Od)),Od}var $d={},gg;function aS(){if(gg)return $d;gg=1;const e=Zo(),t=1335,n=21522,r=e.getBCHDigit(t);return $d.getEncodedBits=function(a,c){const u=a.bit<<3|c;let g=u<<10;for(;e.getBCHDigit(g)-r>=0;)g^=t<<e.getBCHDigit(g)-r;return(u<<10|g)^n},$d}var jd={},Ud,pg;function lS(){if(pg)return Ud;pg=1;const e=Jo();function t(n){this.mode=e.NUMERIC,this.data=n.toString()}return t.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let i,a,c;for(i=0;i+3<=this.data.length;i+=3)a=this.data.substr(i,3),c=parseInt(a,10),r.put(c,10);const u=this.data.length-i;u>0&&(a=this.data.substr(i),c=parseInt(a,10),r.put(c,u*3+1))},Ud=t,Ud}var Hd,mg;function cS(){if(mg)return Hd;mg=1;const e=Jo(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=e.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let a;for(a=0;a+2<=this.data.length;a+=2){let c=t.indexOf(this.data[a])*45;c+=t.indexOf(this.data[a+1]),i.put(c,11)}this.data.length%2&&i.put(t.indexOf(this.data[a]),6)},Hd=n,Hd}var zd,yg;function dS(){if(yg)return zd;yg=1;const e=Jo();function t(n){this.mode=e.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return t.getBitsLength=function(r){return r*8},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){for(let r=0,i=this.data.length;r<i;r++)n.put(this.data[r],8)},zd=t,zd}var Vd,bg;function uS(){if(bg)return Vd;bg=1;const e=Jo(),t=Zo();function n(r){this.mode=e.KANJI,this.data=r}return n.getBitsLength=function(i){return i*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let a=t.toSJIS(this.data[i]);if(a>=33088&&a<=40956)a-=33088;else if(a>=57408&&a<=60351)a-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);a=(a>>>8&255)*192+(a&255),r.put(a,13)}},Vd=n,Vd}var qd={exports:{}},vg;function xS(){return vg||(vg=1,(function(e){var t={single_source_shortest_paths:function(n,r,i){var a={},c={};c[r]=0;var u=t.PriorityQueue.make();u.push(r,0);for(var g,h,m,y,C,E,A,k,D;!u.empty();){g=u.pop(),h=g.value,y=g.cost,C=n[h]||{};for(m in C)C.hasOwnProperty(m)&&(E=C[m],A=y+E,k=c[m],D=typeof c[m]>"u",(D||k>A)&&(c[m]=A,u.push(m,A),a[m]=h))}if(typeof i<"u"&&typeof c[i]>"u"){var I=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(I)}return a},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],a=r;a;)i.push(a),n[a],a=n[a];return i.reverse(),i},find_path:function(n,r,i){var a=t.single_source_shortest_paths(n,r,i);return t.extract_shortest_path_from_predecessor_list(a,i)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,i={},a;n=n||{};for(a in r)r.hasOwnProperty(a)&&(i[a]=r[a]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(qd)),qd.exports}var Eg;function fS(){return Eg||(Eg=1,(function(e){const t=Jo(),n=lS(),r=cS(),i=dS(),a=uS(),c=Ty(),u=Zo(),g=xS();function h(I){return unescape(encodeURIComponent(I)).length}function m(I,$,P){const S=[];let M;for(;(M=I.exec(P))!==null;)S.push({data:M[0],index:M.index,mode:$,length:M[0].length});return S}function y(I){const $=m(c.NUMERIC,t.NUMERIC,I),P=m(c.ALPHANUMERIC,t.ALPHANUMERIC,I);let S,M;return u.isKanjiModeEnabled()?(S=m(c.BYTE,t.BYTE,I),M=m(c.KANJI,t.KANJI,I)):(S=m(c.BYTE_KANJI,t.BYTE,I),M=[]),$.concat(P,S,M).sort(function(L,q){return L.index-q.index}).map(function(L){return{data:L.data,mode:L.mode,length:L.length}})}function C(I,$){switch($){case t.NUMERIC:return n.getBitsLength(I);case t.ALPHANUMERIC:return r.getBitsLength(I);case t.KANJI:return a.getBitsLength(I);case t.BYTE:return i.getBitsLength(I)}}function E(I){return I.reduce(function($,P){const S=$.length-1>=0?$[$.length-1]:null;return S&&S.mode===P.mode?($[$.length-1].data+=P.data,$):($.push(P),$)},[])}function A(I){const $=[];for(let P=0;P<I.length;P++){const S=I[P];switch(S.mode){case t.NUMERIC:$.push([S,{data:S.data,mode:t.ALPHANUMERIC,length:S.length},{data:S.data,mode:t.BYTE,length:S.length}]);break;case t.ALPHANUMERIC:$.push([S,{data:S.data,mode:t.BYTE,length:S.length}]);break;case t.KANJI:$.push([S,{data:S.data,mode:t.BYTE,length:h(S.data)}]);break;case t.BYTE:$.push([{data:S.data,mode:t.BYTE,length:h(S.data)}])}}return $}function k(I,$){const P={},S={start:{}};let M=["start"];for(let j=0;j<I.length;j++){const L=I[j],q=[];for(let T=0;T<L.length;T++){const Q=L[T],oe=""+j+T;q.push(oe),P[oe]={node:Q,lastCount:0},S[oe]={};for(let Y=0;Y<M.length;Y++){const le=M[Y];P[le]&&P[le].node.mode===Q.mode?(S[le][oe]=C(P[le].lastCount+Q.length,Q.mode)-C(P[le].lastCount,Q.mode),P[le].lastCount+=Q.length):(P[le]&&(P[le].lastCount=Q.length),S[le][oe]=C(Q.length,Q.mode)+4+t.getCharCountIndicator(Q.mode,$))}}M=q}for(let j=0;j<M.length;j++)S[M[j]].end=0;return{map:S,table:P}}function D(I,$){let P;const S=t.getBestModeForData(I);if(P=t.from($,S),P!==t.BYTE&&P.bit<S.bit)throw new Error('"'+I+'" cannot be encoded with mode '+t.toString(P)+`.
 Suggested mode is: `+t.toString(S));switch(P===t.KANJI&&!u.isKanjiModeEnabled()&&(P=t.BYTE),P){case t.NUMERIC:return new n(I);case t.ALPHANUMERIC:return new r(I);case t.KANJI:return new a(I);case t.BYTE:return new i(I)}}e.fromArray=function($){return $.reduce(function(P,S){return typeof S=="string"?P.push(D(S,null)):S.data&&P.push(D(S.data,S.mode)),P},[])},e.fromString=function($,P){const S=y($,u.isKanjiModeEnabled()),M=A(S),j=k(M,P),L=g.find_path(j.map,"start","end"),q=[];for(let T=1;T<L.length-1;T++)q.push(j.table[L[T]].node);return e.fromArray(E(q))},e.rawSplit=function($){return e.fromArray(y($,u.isKanjiModeEnabled()))}})(jd)),jd}var wg;function hS(){if(wg)return kd;wg=1;const e=Zo(),t=Dx(),n=ZD(),r=JD(),i=eS(),a=tS(),c=nS(),u=Sy(),g=oS(),h=iS(),m=aS(),y=Jo(),C=fS();function E(j,L){const q=j.size,T=a.getPositions(L);for(let Q=0;Q<T.length;Q++){const oe=T[Q][0],Y=T[Q][1];for(let le=-1;le<=7;le++)if(!(oe+le<=-1||q<=oe+le))for(let ye=-1;ye<=7;ye++)Y+ye<=-1||q<=Y+ye||(le>=0&&le<=6&&(ye===0||ye===6)||ye>=0&&ye<=6&&(le===0||le===6)||le>=2&&le<=4&&ye>=2&&ye<=4?j.set(oe+le,Y+ye,!0,!0):j.set(oe+le,Y+ye,!1,!0))}}function A(j){const L=j.size;for(let q=8;q<L-8;q++){const T=q%2===0;j.set(q,6,T,!0),j.set(6,q,T,!0)}}function k(j,L){const q=i.getPositions(L);for(let T=0;T<q.length;T++){const Q=q[T][0],oe=q[T][1];for(let Y=-2;Y<=2;Y++)for(let le=-2;le<=2;le++)Y===-2||Y===2||le===-2||le===2||Y===0&&le===0?j.set(Q+Y,oe+le,!0,!0):j.set(Q+Y,oe+le,!1,!0)}}function D(j,L){const q=j.size,T=h.getEncodedBits(L);let Q,oe,Y;for(let le=0;le<18;le++)Q=Math.floor(le/3),oe=le%3+q-8-3,Y=(T>>le&1)===1,j.set(Q,oe,Y,!0),j.set(oe,Q,Y,!0)}function I(j,L,q){const T=j.size,Q=m.getEncodedBits(L,q);let oe,Y;for(oe=0;oe<15;oe++)Y=(Q>>oe&1)===1,oe<6?j.set(oe,8,Y,!0):oe<8?j.set(oe+1,8,Y,!0):j.set(T-15+oe,8,Y,!0),oe<8?j.set(8,T-oe-1,Y,!0):oe<9?j.set(8,15-oe-1+1,Y,!0):j.set(8,15-oe-1,Y,!0);j.set(T-8,8,1,!0)}function $(j,L){const q=j.size;let T=-1,Q=q-1,oe=7,Y=0;for(let le=q-1;le>0;le-=2)for(le===6&&le--;;){for(let ye=0;ye<2;ye++)if(!j.isReserved(Q,le-ye)){let re=!1;Y<L.length&&(re=(L[Y]>>>oe&1)===1),j.set(Q,le-ye,re),oe--,oe===-1&&(Y++,oe=7)}if(Q+=T,Q<0||q<=Q){Q-=T,T=-T;break}}}function P(j,L,q){const T=new n;q.forEach(function(ye){T.put(ye.mode.bit,4),T.put(ye.getLength(),y.getCharCountIndicator(ye.mode,j)),ye.write(T)});const Q=e.getSymbolTotalCodewords(j),oe=u.getTotalCodewordsCount(j,L),Y=(Q-oe)*8;for(T.getLengthInBits()+4<=Y&&T.put(0,4);T.getLengthInBits()%8!==0;)T.putBit(0);const le=(Y-T.getLengthInBits())/8;for(let ye=0;ye<le;ye++)T.put(ye%2?17:236,8);return S(T,j,L)}function S(j,L,q){const T=e.getSymbolTotalCodewords(L),Q=u.getTotalCodewordsCount(L,q),oe=T-Q,Y=u.getBlocksCount(L,q),le=T%Y,ye=Y-le,re=Math.floor(T/Y),Ee=Math.floor(oe/Y),ve=Ee+1,Ce=re-Ee,he=new g(Ce);let ae=0;const ee=new Array(Y),Ie=new Array(Y);let $e=0;const Ne=new Uint8Array(j.buffer);for(let rt=0;rt<Y;rt++){const Pe=rt<ye?Ee:ve;ee[rt]=Ne.slice(ae,ae+Pe),Ie[rt]=he.encode(ee[rt]),ae+=Pe,$e=Math.max($e,Pe)}const tt=new Uint8Array(T);let Re=0,et,Xe;for(et=0;et<$e;et++)for(Xe=0;Xe<Y;Xe++)et<ee[Xe].length&&(tt[Re++]=ee[Xe][et]);for(et=0;et<Ce;et++)for(Xe=0;Xe<Y;Xe++)tt[Re++]=Ie[Xe][et];return tt}function M(j,L,q,T){let Q;if(Array.isArray(j))Q=C.fromArray(j);else if(typeof j=="string"){let re=L;if(!re){const Ee=C.rawSplit(j);re=h.getBestVersionForData(Ee,q)}Q=C.fromString(j,re||40)}else throw new Error("Invalid data");const oe=h.getBestVersionForData(Q,q);if(!oe)throw new Error("The amount of data is too big to be stored in a QR Code");if(!L)L=oe;else if(L<oe)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+oe+`.
`);const Y=P(L,q,Q),le=e.getSymbolSize(L),ye=new r(le);return E(ye,L),A(ye),k(ye,L),I(ye,q,0),L>=7&&D(ye,L),$(ye,Y),isNaN(T)&&(T=c.getBestMask(ye,I.bind(null,ye,q))),c.applyMask(T,ye),I(ye,q,T),{modules:ye,version:L,errorCorrectionLevel:q,maskPattern:T,segments:Q}}return kd.create=function(L,q){if(typeof L>"u"||L==="")throw new Error("No input text");let T=t.M,Q,oe;return typeof q<"u"&&(T=t.from(q.errorCorrectionLevel,t.M),Q=h.from(q.version),oe=c.from(q.maskPattern),q.toSJISFunc&&e.setToSJISFunction(q.toSJISFunc)),M(L,Q,T,oe)},kd}var Wd={},Gd={},Cg;function My(){return Cg||(Cg=1,(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(a){return[a,a]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,a=r.width&&r.width>=21?r.width:void 0,c=r.scale||4;return{width:a,scale:a?4:c,margin:i,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},e.getImageWidth=function(r,i){const a=e.getScale(r,i);return Math.floor((r+i.margin*2)*a)},e.qrToImageData=function(r,i,a){const c=i.modules.size,u=i.modules.data,g=e.getScale(c,a),h=Math.floor((c+a.margin*2)*g),m=a.margin*g,y=[a.color.light,a.color.dark];for(let C=0;C<h;C++)for(let E=0;E<h;E++){let A=(C*h+E)*4,k=a.color.light;if(C>=m&&E>=m&&C<h-m&&E<h-m){const D=Math.floor((C-m)/g),I=Math.floor((E-m)/g);k=y[u[D*c+I]?1:0]}r[A++]=k.r,r[A++]=k.g,r[A++]=k.b,r[A]=k.a}}})(Gd)),Gd}var Ag;function gS(){return Ag||(Ag=1,(function(e){const t=My();function n(i,a,c){i.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=c,a.width=c,a.style.height=c+"px",a.style.width=c+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(a,c,u){let g=u,h=c;typeof g>"u"&&(!c||!c.getContext)&&(g=c,c=void 0),c||(h=r()),g=t.getOptions(g);const m=t.getImageWidth(a.modules.size,g),y=h.getContext("2d"),C=y.createImageData(m,m);return t.qrToImageData(C.data,a,g),n(y,h,m),y.putImageData(C,0,0),h},e.renderToDataURL=function(a,c,u){let g=u;typeof g>"u"&&(!c||!c.getContext)&&(g=c,c=void 0),g||(g={});const h=e.render(a,c,g),m=g.type||"image/png",y=g.rendererOpts||{};return h.toDataURL(m,y.quality)}})(Wd)),Wd}var Qd={},Bg;function pS(){if(Bg)return Qd;Bg=1;const e=My();function t(i,a){const c=i.a/255,u=a+'="'+i.hex+'"';return c<1?u+" "+a+'-opacity="'+c.toFixed(2).slice(1)+'"':u}function n(i,a,c){let u=i+a;return typeof c<"u"&&(u+=" "+c),u}function r(i,a,c){let u="",g=0,h=!1,m=0;for(let y=0;y<i.length;y++){const C=Math.floor(y%a),E=Math.floor(y/a);!C&&!h&&(h=!0),i[y]?(m++,y>0&&C>0&&i[y-1]||(u+=h?n("M",C+c,.5+E+c):n("m",g,0),g=0,h=!1),C+1<a&&i[y+1]||(u+=n("h",m),m=0)):g++}return u}return Qd.render=function(a,c,u){const g=e.getOptions(c),h=a.modules.size,m=a.modules.data,y=h+g.margin*2,C=g.color.light.a?"<path "+t(g.color.light,"fill")+' d="M0 0h'+y+"v"+y+'H0z"/>':"",E="<path "+t(g.color.dark,"stroke")+' d="'+r(m,h,g.margin)+'"/>',A='viewBox="0 0 '+y+" "+y+'"',D='<svg xmlns="http://www.w3.org/2000/svg" '+(g.width?'width="'+g.width+'" height="'+g.width+'" ':"")+A+' shape-rendering="crispEdges">'+C+E+`</svg>
`;return typeof u=="function"&&u(null,D),D},Qd}var _g;function mS(){if(_g)return ui;_g=1;const e=XD(),t=hS(),n=gS(),r=pS();function i(a,c,u,g,h){const m=[].slice.call(arguments,1),y=m.length,C=typeof m[y-1]=="function";if(!C&&!e())throw new Error("Callback required as last argument");if(C){if(y<2)throw new Error("Too few arguments provided");y===2?(h=u,u=c,c=g=void 0):y===3&&(c.getContext&&typeof h>"u"?(h=g,g=void 0):(h=g,g=u,u=c,c=void 0))}else{if(y<1)throw new Error("Too few arguments provided");return y===1?(u=c,c=g=void 0):y===2&&!c.getContext&&(g=u,u=c,c=void 0),new Promise(function(E,A){try{const k=t.create(u,g);E(a(k,c,g))}catch(k){A(k)}})}try{const E=t.create(u,g);h(null,a(E,c,g))}catch(E){h(E)}}return ui.create=t.create,ui.toCanvas=i.bind(null,n.render),ui.toDataURL=i.bind(null,n.renderToDataURL),ui.toString=i.bind(null,function(a,c,u){return r.render(a,u)}),ui}var yS=mS();const y0=bx(yS),bS={class:"min-h-screen bg-gray-50 p-6"},vS={class:"mb-6"},ES={key:0,class:"mb-4 space-y-2"},wS=["onClick"],CS={class:"flex items-center space-x-2"},AS={key:0,class:"w-5 h-5 text-current",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},BS={key:1,class:"w-5 h-5 text-current",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_S={key:2,class:"w-5 h-5 text-current",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},kS=["onClick"],DS={key:1,class:"mb-6"},SS={class:"bg-gradient-to-r from-red-500 to-red-600 rounded-lg shadow-lg p-6 text-white"},FS={class:"flex items-center justify-between mb-4"},TS={class:"flex items-center space-x-4"},MS={class:"text-2xl font-bold mb-1"},IS=["disabled"],PS={class:"mt-4 pt-4 border-t border-white/20"},RS={class:"flex items-center justify-between mb-3"},OS={class:"grid grid-cols-1 md:grid-cols-2 gap-2 max-h-60 overflow-y-auto"},NS=["value"],LS={class:"flex-1 text-sm"},$S={class:"font-semibold flex items-center gap-2"},jS={key:0,class:"px-1.5 py-0.5 bg-orange-600 text-white text-[9px] font-bold rounded"},US={class:"text-red-100 text-xs mt-0.5"},HS={key:0,class:"text-orange-200 text-[10px] mt-1"},zS={key:0,class:"text-xs text-red-100 mt-2"},VS={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-4"},qS={class:"flex flex-wrap gap-4 items-center justify-between"},WS={class:"flex flex-wrap gap-4 items-center flex-1"},GS={class:"relative"},QS=["value"],KS={class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},YS={class:"overflow-x-auto"},XS={class:"w-full"},ZS={class:"bg-gray-50"},JS=["onClick"],eF={class:"flex items-center space-x-1"},tF={class:"bg-white divide-y divide-gray-200"},nF=["onClick"],rF={class:"px-4 py-3 whitespace-nowrap"},sF={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900"},oF={class:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900"},iF={class:"px-4 py-3 text-sm text-gray-900"},aF={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900"},lF={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900"},cF={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900"},dF={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900"},uF={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900"},xF={class:"px-4 py-3 whitespace-nowrap"},fF={class:"px-4 py-3 whitespace-nowrap text-sm space-x-2 flex items-center"},hF=["onClick"],gF=["onClick"],pF=["onClick"],mF={key:0,class:"text-center py-12"},yF={key:0,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[9999]"},bF={class:"bg-white rounded-lg p-6 w-full max-w-3xl max-h-screen overflow-y-auto"},vF={class:"bg-gray-50 rounded-lg p-4 mb-6"},EF={class:"grid grid-cols-2 gap-4 text-sm"},wF={class:"ml-2 font-medium text-gray-900"},CF={class:"ml-2 font-medium text-gray-900"},AF={class:"ml-2 font-medium text-gray-900"},BF={class:"ml-2 font-medium text-blue-600"},_F={class:"ml-2 font-medium text-gray-900"},kF={class:"space-y-4"},DF={class:"flex items-center space-x-2"},SF=["max"],FF={class:"text-gray-600"},TF={key:0,class:"text-red-500 text-xs mt-1"},MF={label:"Standard Storage"},IF=["value"],PF={label:"Hazardous Storage"},RF=["value"],OF={key:0,class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},NF={class:"space-y-1 text-sm text-blue-800"},LF={class:"flex justify-between"},$F={class:"font-medium"},jF={class:"flex justify-between"},UF={class:"font-medium"},HF={class:"flex justify-between"},zF={class:"font-medium"},VF={class:"flex justify-between"},qF={class:"flex gap-3 justify-end mt-6 pt-6 border-t border-gray-200"},WF=["disabled"],GF={class:"h-full flex flex-col"},QF={class:"flex-1 overflow-y-auto"},KF={class:"p-6 space-y-6"},YF={class:"space-y-2 text-sm"},XF={class:"flex justify-between"},ZF={class:"flex justify-between"},JF={class:"font-medium text-gray-900"},eT={class:"flex justify-between"},tT={class:"font-medium text-gray-900 text-right"},nT={class:"flex justify-between"},rT={class:"font-medium text-gray-900"},sT={class:"flex justify-between"},oT={class:"font-medium text-gray-900"},iT={class:"flex justify-between"},aT={class:"font-medium text-gray-900"},lT={class:"flex justify-between"},cT={class:"flex justify-between"},dT={class:"bg-gray-50 rounded-lg p-4 text-center"},uT={class:"w-32 h-32 bg-white mx-auto mb-2 flex items-center justify-center border-2 border-dashed border-gray-300 rounded-lg overflow-hidden"},xT=["src"],fT={key:1,class:"text-xs text-gray-400"},hT={class:"text-xs text-gray-500 mb-2"},gT={key:0,class:"space-y-3"},pT={class:"flex-1 text-sm"},mT={class:"flex justify-between items-start"},yT={class:"text-gray-900 font-medium"},bT={class:"text-gray-500 text-xs"},vT={class:"text-gray-600 text-xs mt-1"},ET={class:"text-gray-500 text-xs"},wT={key:1,class:"text-sm text-gray-500 italic p-3 bg-gray-50 rounded-lg"},CT={key:3,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[10000]"},AT={class:"bg-white rounded-lg p-6 w-full max-w-sm"},BT={class:"flex justify-between items-center mb-6 border-b pb-4"},_T={class:"text-xl font-semibold text-gray-900"},kT={class:"text-center space-y-4"},DT={id:"qr-code-to-print",class:"p-4 border border-gray-200 rounded-lg inline-block"},ST={class:"w-48 h-48 bg-white mx-auto flex items-center justify-center overflow-hidden"},FT=["src"],TT={key:1,class:"text-xs text-gray-600"},MT={class:"text-sm font-medium text-gray-700"},IT={class:"text-xs text-gray-500"},PT={class:"mt-6 flex justify-between gap-3"},RT={key:4,class:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-fadeIn"},OT={class:"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 overflow-hidden animate-slideUp"},NT={class:"p-6"},LT={class:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4"},$T={class:"text-sm text-red-800 whitespace-pre-line leading-relaxed"},jT=$r({__name:"Dashboard",props:{materialItems:{},alerts:{}},setup(e){const t=pe(""),n=e;pe(!1);const r=pe(""),i=pe(""),a=pe(""),c=pe(""),u=pe("kode"),g=pe("asc"),h=pe(null),m=pe(!1),y=pe(!1),C=pe(!1),E=pe(null),A=pe([...n.alerts]),k=pe("default");En(k,N=>{N==="newest"?(u.value="entry_date",g.value="desc"):N==="oldest"?(u.value="entry_date",g.value="asc"):(u.value="kode",g.value="asc")});const D=pe({material:null,qty:0,destinationBin:"",reason:"",notes:""}),I=pe([]);Qn(async()=>{try{const N=await Bt.get("/master-data/bins");I.value=N.data}catch(N){console.error("Error fetching bin locations:",N)}});const $=[{key:"type",label:"kategori"},{key:"subkategori",label:"Sub Kategori"},{key:"kode",label:"Kode"},{key:"nama",label:"Nama Material"},{key:"lot",label:"Serial/Lot"},{key:"lokasi",label:"Lokasi"},{key:"qty",label:"Qty"},{key:"uom",label:"UoM"},{key:"expiredDate",label:"Expired Date"},{key:"status",label:"Status"}],P=Ke(()=>[...new Set(n.materialItems.map(N=>N.lokasi))].sort()),S=Ke(()=>{const N=D.value.material?.lokasi;return{standard:I.value.filter(w=>w.type==="STD"&&w.code!==N),hazardous:I.value.filter(w=>w.type==="HAZ"&&w.code!==N)}}),M=Ke(()=>I.value.find(N=>N.code===D.value.destinationBin)),j=Ke(()=>D.value.material!==null&&D.value.qty>0&&D.value.qty<=(D.value.material?.qty||0)&&D.value.destinationBin!==""&&D.value.reason!==""),L=Ke(()=>{let N=n.materialItems;if(t.value==="putAwayRequired")N=N.filter(w=>w.requiresPutAway);else if(t.value==="requiresQC")N=N.filter(w=>w.requiresQC);else if(t.value==="expiringSoon"){const w=new Date,_=new Date;_.setDate(w.getDate()+30),N=N.filter(H=>{const K=new Date(H.expiredDate);return K>w&&K<=_})}if(r.value){const w=r.value.toLowerCase();N=N.filter(_=>_.kode.toLowerCase().includes(w)||_.nama.toLowerCase().includes(w)||_.lot.toLowerCase().includes(w))}return i.value&&(N=N.filter(w=>w.qr_type===i.value)),a.value&&(N=N.filter(w=>w.type===a.value)),c.value&&(N=N.filter(w=>w.lokasi===c.value)),N.sort((w,_)=>{let H=w[u.value],K=_[u.value];return typeof H=="string"&&(H=H.toLowerCase()),typeof K=="string"&&(K=K.toLowerCase()),H<K?g.value==="asc"?-1:1:H>K?g.value==="asc"?1:-1:0}),N}),q=Ke(()=>{const N=new Date,w=new Date;return w.setDate(N.getDate()+30),n.materialItems.filter(_=>new Date(_.expiredDate)<=w)}),T=Ke(()=>q.value.length),Q=pe([]),oe=pe(!1),Y=pe(""),le=()=>{Q.value.length===q.value.length?Q.value=[]:Q.value=q.value.map(N=>re(N)).filter(N=>N!==null)},ye=N=>["QRT-HALAL","QRT-NON HALAL","QRT-HALAL-AC"].includes(N),re=N=>{const w=N.id.match(/INV-(\d+)/);return w?w[1]:null},Ee=()=>{oe.value=!1,Y.value=""},ve=()=>{if(Q.value.length===0){Y.value="Pilih minimal 1 material untuk Re-QC",oe.value=!0;return}console.log(" Initiating Re-QC for:",Q.value),ft.post("/dashboard/reqc/initiate",{inventory_stock_ids:Q.value},{preserveState:!0,preserveScroll:!0,onStart:()=>{console.log(" Re-QC request started...")},onSuccess:N=>{console.log(" Re-QC initiated successfully",N)},onError:N=>{if(console.error(" Re-QC error:",N),N.message)Y.value=N.message;else{const w=Object.values(N).flat().join(`
`);Y.value=w||"Terjadi kesalahan. Silakan coba lagi."}oe.value=!0},onFinish:()=>{console.log(" Re-QC request finished")}})},Ce=N=>{t.value===N?t.value="":(t.value=N,i.value="",a.value="",c.value="",r.value="")},he=N=>{u.value===N?g.value=g.value==="asc"?"desc":"asc":(u.value=N,g.value="asc")},ae=N=>{const w=new Date,_=new Date(N.expiredDate),H=Math.ceil((_.getTime()-w.getTime())/(1e3*60*60*24));return H<0?"bg-red-50 dark:bg-red-900/20":H<=30?"bg-yellow-50 dark:bg-yellow-900/20":""},ee=N=>{const w=new Date,_=new Date(N),H=Math.ceil((_.getTime()-w.getTime())/(1e3*60*60*24));return H<0?"text-red-600 dark:text-red-400 font-semibold":H<=30?"text-yellow-600 dark:text-yellow-400 font-semibold":"text-gray-900"},Ie=N=>({"Waiting QC":"bg-yellow-100 text-yellow-800 border-yellow-300 dark:bg-yellow-900 dark:text-yellow-200",Karantina:"bg-orange-100 text-orange-800 border-orange-300 dark:bg-orange-900 dark:text-orange-200",Released:"bg-green-100 text-green-800 border-green-300 dark:bg-green-900 dark:text-green-200",Reject:"bg-red-100 text-red-800 border-red-300 dark:bg-red-900 dark:text-red-200","In Production":"bg-blue-100 text-blue-800 border-blue-300 dark:bg-blue-900 dark:text-blue-200",Returned:"bg-purple-100 text-purple-800 border-purple-300 dark:bg-purple-900 dark:text-purple-200",KARANTINA:"bg-orange-100 text-orange-800 border-orange-300 dark:bg-orange-900 dark:text-orange-200",RELEASED:"bg-green-100 text-green-800 border-green-300 dark:bg-green-900 dark:text-green-200",HOLD:"bg-gray-100 text-gray-800 border-gray-300 dark:bg-gray-700 dark:text-gray-200",REJECTED:"bg-red-100 text-red-800 border-red-300 dark:bg-red-900 dark:text-red-200",REJECT:"bg-red-100 text-red-800 border-red-300 dark:bg-red-900 dark:text-red-200"})[N]||"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-900 dark:text-gray-200",$e=N=>({error:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",info:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"})[N]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",Ne=N=>{if(!N)return"";const w=N.currentItems/N.maxItems*100;return w>=90?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":w>=70?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},tt=N=>{if(!N)return"";const w=N.currentItems/N.maxItems*100;return w>=90?"Hampir Penuh":w>=70?"Cukup Terisi":"Tersedia"},Re=N=>new Date(N).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),et=N=>new Date(N).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),Xe=async N=>{const w=N.status.toUpperCase(),_=`${N.kode}|${w}|${N.lot}|${N.qty}|${N.expiredDate}`;N.qr_data=_;try{const H=await y0.toDataURL(_,{width:200,margin:1,errorCorrectionLevel:"M"});N.qr_image_url=H}catch(H){console.error("Error generating QR:",H)}},rt=async N=>{h.value=N,m.value=!0,await Xe(N)},Pe=()=>{m.value=!1,setTimeout(()=>{h.value=null},300)},te=N=>{const w=A.value.findIndex(_=>_.id===N);w>-1&&A.value.splice(w,1)},_e=async N=>{E.value=N,C.value=!0,await Xe(N)},J=()=>{C.value=!1,E.value=null},z=N=>{D.value={material:{...N},qty:N.qty,destinationBin:"",reason:"",notes:""},y.value=!0},F=N=>{console.log(`Mempersiapkan cetak QR Code untuk: ${N.kode}-${N.lot} (Tipe: ${N.qr_type})`);const w=document.getElementById("qr-code-to-print")?.innerHTML;if(w){const _=window.open("","_blank");if(_){_.document.write("<html><head><title>Cetak QR Code</title>"),_.document.write("<style>"),_.document.write("body { font-family: sans-serif; margin: 0; padding: 10mm; }"),_.document.write("#qr-content { display: flex; flex-direction: column; align-items: center; text-align: center; border: 2px solid #3b82f6; padding: 2px; width: fit-content; margin: 0 auto; }"),_.document.write("h4 { margin-bottom: 5px; font-size: 14pt; }"),_.document.write("p { margin: 0; font-size: 8pt; }"),_.document.write(".qr-area { margin-bottom: 10px; }"),_.document.write("@media print { body { padding: 0; } #qr-content { border: none; padding: 0; } }"),_.document.write("</style>"),_.document.write("</head><body>");let H=N.status==="Karantina"?"QR KARANTINA":"QR RELEASED";_.document.write('<div id="qr-content">'),_.document.write(`<h4>${H}</h4>`),_.document.write('<div class="qr-area">'),_.document.write(w),_.document.write("</div>"),_.document.write(`<p>Kode Material: ${N.kode}</p>`),_.document.write(`<p>Lot/Serial: ${N.lot}</p>`),_.document.write(`<p>Qty: ${N.qty} ${N.uom}</p>`),_.document.write(`<p>Lokasi: ${N.lokasi}</p>`),_.document.write("</div>"),_.document.write("<script>window.onload = function() { window.print(); window.close(); }<\/script>"),_.document.write("</body></html>"),_.document.close()}}else alert("Gagal mengambil konten QR Code untuk dicetak.")},X=()=>{y.value=!1,D.value={material:null,qty:0,destinationBin:"",reason:"",notes:""}},ce=()=>{if(!j.value||!D.value.material)return;const N=`TO-B2B-${new Date().getFullYear()}-${String(Math.floor(Math.random()*1e3)).padStart(3,"0")}`,w={toNumber:N,type:"Bin to Bin Transfer",status:"Pending Approval",material:D.value.material,sourceBin:D.value.material.lokasi,destinationBin:D.value.destinationBin,qty:D.value.qty,reason:D.value.reason,notes:D.value.notes,createdBy:"Admin User",createdAt:new Date().toISOString(),approvalRequired:!0};console.log("Transfer Order Created:",w),alert(` Transfer Order ${N} berhasil dibuat!

Material: ${D.value.material.kode} - ${D.value.material.nama}
Dari: ${D.value.material.lokasi}
Ke: ${D.value.destinationBin}
Qty: ${D.value.qty} ${D.value.material.uom}

Status: Menunggu approval dari Manager/Admin`),X()},se=()=>{const N=JSON.stringify(L.value,null,2),w=new Blob([N],{type:"application/json"}),_=URL.createObjectURL(w),H=document.createElement("a");H.href=_,H.download=`wms_central_data_${new Date().toISOString().split("T")[0]}.json`,H.click(),URL.revokeObjectURL(_)},we=N=>{let w="";N.qr_type==="Karantina"?(w="QR KARANTINA (JANGAN DIGUNAKAN)",alert(`Print QR KARANTINA untuk ${N.kode} - ${N.lot}
Data QR: ${N.qr_data}`)):(w="QR RELEASED (SIAP PRODUKSI)",alert(`Print QR RELEASED untuk ${N.kode} - ${N.lot}
Data QR: ${N.qr_data}`)),console.log(`Logika cetak QR Code: ${w}`)};return(N,w)=>(U(),wt(Kn,{pageTitle:"Dashboard",pageDescription:"Ringkasan sistem warehouse management"},{default:vt(()=>[s("div",bS,[s("div",vS,[w[29]||(w[29]=s("div",{class:"flex justify-between items-center mb-4"},[s("div",null,[s("h1",{class:"text-3xl font-bold text-gray-900"},"Central Data WMS"),s("p",{class:"text-gray-600 mt-1"},"Kelola semua material di gudang")])],-1)),A.value.length>0?(U(),V("div",ES,[(U(!0),V(je,null,nt(A.value,_=>(U(),V("div",{key:_.id,class:Se([[$e(_.type),{"ring-2 ring-blue-500 ring-offset-2":t.value==="putAwayRequired"&&_.id==="0","ring-2 ring-orange-500 ring-offset-2":t.value==="requiresQC"&&_.id==="3","ring-2 ring-yellow-500 ring-offset-2":t.value==="expiringSoon"&&_.id==="1","cursor-pointer hover:shadow-md transition duration-150 ease-in-out":["0","3","1"].includes(_.id)}],"p-3 rounded-lg flex items-center justify-between"]),onClick:H=>_.id==="0"?Ce("putAwayRequired"):_.id==="3"?Ce("requiresQC"):_.id==="1"?Ce("expiringSoon"):null},[s("div",CS,[_.id==="0"?(U(),V("svg",AS,[...w[13]||(w[13]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"},null,-1)])])):xe("",!0),_.id==="3"?(U(),V("svg",BS,[...w[14]||(w[14]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.276a2 2 0 010 2.553l-3.52 3.52c-.144.144-.33.225-.53.225H12V7h3.707l-3.52-3.52a2 2 0 012.553 0l3.52 3.52z"},null,-1)])])):xe("",!0),_.id==="1"?(U(),V("svg",_S,[...w[15]||(w[15]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])):xe("",!0),s("span",null,R(_.message),1)]),s("button",{onClick:Jn(H=>te(_.id),["stop"]),class:"text-current opacity-70 hover:opacity-100 p-1"},[...w[16]||(w[16]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,kS)],10,wS))),128))])):xe("",!0),T.value>0?(U(),V("div",DS,[s("form",{onSubmit:Jn(ve,["prevent"]),method:"POST"},[s("div",SS,[s("div",FS,[s("div",TS,[w[19]||(w[19]=s("div",{class:"relative"},[s("div",{class:"absolute inset-0 bg-white/20 rounded-full animate-ping"}),s("div",{class:"relative bg-white/30 p-4 rounded-full"},[s("svg",{class:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])])],-1)),s("div",null,[s("h3",MS,R(T.value)+" Material Expired / Near Expiry!",1),w[17]||(w[17]=s("p",{class:"text-red-100 text-sm"},"Pilih material yang sudah/hampir expired (H-30) di bin QRT untuk proses Re-QC",-1)),w[18]||(w[18]=s("p",{class:"text-red-100 text-xs mt-1"},"Bin QRT: QRT-HALAL, QRT-NON HALAL, QRT-HALAL-AC",-1))])]),s("button",{type:"submit",disabled:Q.value.length===0,class:Se([Q.value.length>0?"bg-white hover:bg-red-50":"bg-white/50 cursor-not-allowed","text-red-600 px-6 py-3 rounded-lg font-semibold shadow-lg transition-all hover:scale-105 flex items-center space-x-2 group"])},[s("span",null,"Proses Re-QC ("+R(Q.value.length)+")",1),w[20]||(w[20]=s("svg",{class:"w-5 h-5 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1))],10,IS)]),s("div",PS,[s("div",RS,[w[21]||(w[21]=s("p",{class:"text-sm text-red-100"},"Pilih material untuk Re-QC:",-1)),s("button",{type:"button",onClick:le,class:"text-xs text-white hover:text-red-100 underline"},R(Q.value.length===q.value.length?"Batalkan Semua":"Pilih Semua"),1)]),s("div",OS,[(U(!0),V(je,null,nt(q.value,_=>(U(),V("label",{key:_.id,class:Se(["flex items-start gap-3 p-3 rounded cursor-pointer transition-colors",ye(_.lokasi)?"bg-white/10 hover:bg-white/20":"bg-orange-500/50 hover:bg-orange-500/60"])},[me(s("input",{type:"checkbox",value:re(_),"onUpdate:modelValue":w[0]||(w[0]=H=>Q.value=H),class:"mt-1 w-4 h-4 rounded"},null,8,NS),[[qo,Q.value]]),s("div",LS,[s("div",$S,[Ve(R(_.nama)+" ",1),ye(_.lokasi)?xe("",!0):(U(),V("span",jS," Belum QRT "))]),s("div",US," Exp: "+R(Re(_.expiredDate))+"  "+R(_.lokasi)+"  "+R(_.lot),1),ye(_.lokasi)?xe("",!0):(U(),V("div",HS,[...w[22]||(w[22]=[s("a",{href:"/transaction/bin-to-bin",class:"underline hover:text-white"},"Bin-to-Bin dulu ",-1)])]))])],2))),128))]),T.value>10?(U(),V("p",zS," +"+R(T.value-10)+" material lainnya (scroll untuk lihat semua) ",1)):xe("",!0)])])],32)])):xe("",!0),s("div",VS,[s("div",qS,[s("div",WS,[s("div",GS,[w[23]||(w[23]=s("svg",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),me(s("input",{"onUpdate:modelValue":w[1]||(w[1]=_=>r.value=_),type:"text",placeholder:"Cari kode, nama material, atau lot...",class:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg w-80 bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Oe,r.value]])]),me(s("select",{"onUpdate:modelValue":w[2]||(w[2]=_=>i.value=_),class:"px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900"},[...w[24]||(w[24]=[s("option",{value:""},"Semua Status",-1),s("option",{value:"KARANTINA"},"Karantina",-1),s("option",{value:"RELEASED"},"Released",-1),s("option",{value:"REJECTED"},"Rejected",-1)])],512),[[lt,i.value]]),me(s("select",{"onUpdate:modelValue":w[3]||(w[3]=_=>a.value=_),class:"px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900"},[...w[25]||(w[25]=[s("option",{value:""},"Semua Tipe",-1),s("option",{value:"Raw Material"},"Raw Material",-1),s("option",{value:"Packaging Material"},"Packaging Material",-1)])],512),[[lt,a.value]]),me(s("select",{"onUpdate:modelValue":w[4]||(w[4]=_=>c.value=_),class:"px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900"},[w[26]||(w[26]=s("option",{value:""},"Semua Lokasi",-1)),(U(!0),V(je,null,nt(P.value,_=>(U(),V("option",{key:_,value:_},R(_),9,QS))),128))],512),[[lt,c.value]]),me(s("select",{"onUpdate:modelValue":w[5]||(w[5]=_=>k.value=_),class:"px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900"},[...w[27]||(w[27]=[s("option",{value:"default"},"Default Sort (Kode)",-1),s("option",{value:"newest"},"Terbaru (Newest)",-1),s("option",{value:"oldest"},"Terlama (Oldest)",-1)])],512),[[lt,k.value]])]),s("div",{class:"flex gap-2"},[s("button",{onClick:se,class:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2"},[...w[28]||(w[28]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),s("span",null,"Export",-1)])])])])])]),s("div",KS,[s("div",YS,[s("table",XS,[s("thead",ZS,[s("tr",null,[(U(),V(je,null,nt($,_=>s("th",{key:_.key,onClick:H=>he(_.key),class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors"},[s("div",eF,[s("span",null,R(_.label),1),u.value===_.key?(U(),V("svg",{key:0,class:Se(["w-4 h-4",g.value==="asc"?"":"transform rotate-180"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...w[30]||(w[30]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"},null,-1)])],2)):xe("",!0)])],8,JS)),64)),w[31]||(w[31]=s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi",-1))])]),s("tbody",tF,[(U(!0),V(je,null,nt(L.value,_=>(U(),V("tr",{key:_.id,onClick:H=>rt(_),class:Se([ae(_),"hover:bg-gray-50 cursor-pointer transition-colors"])},[s("td",rF,[s("span",{class:Se([_.type==="Raw Material"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800","px-2 py-1 text-xs font-semibold rounded-full"])},R(_.type),3)]),s("td",sF,R(_.subkategori||"-"),1),s("td",oF,R(_.kode),1),s("td",iF,R(_.nama),1),s("td",aF,R(_.lot),1),s("td",lF,R(_.lokasi),1),s("td",cF,R(_.qty),1),s("td",dF,R(_.uom),1),s("td",uF,[s("span",{class:Se(ee(_.expiredDate))},R(Re(_.expiredDate)),3)]),s("td",xF,[s("span",{class:Se([Ie(_.qr_type),"px-2 py-1 text-xs font-semibold rounded-full border"])},R(_.status),3)]),s("td",fF,[_.requiresPutAway?(U(),V(je,{key:0},[s("button",{onClick:w[6]||(w[6]=Jn(H=>Ge(ft).get("/transaction/putaway-transfer"),["stop"])),class:"px-2 py-1 text-xs font-semibold bg-indigo-500 text-white rounded hover:bg-indigo-700 transition-colors flex items-center space-x-1",title:"Put Away Cepat ke lokasi permanen"},[...w[32]||(w[32]=[s("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1),s("span",null,"Put Away",-1)])]),s("button",{onClick:Jn(H=>_e(_),["stop"]),class:"text-blue-600 hover:text-blue-900 transition-colors ml-2",title:"Cetak/Lihat Detail QR"},[...w[33]||(w[33]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h2M4 4h5a3 3 0 000 6H4V4zm3 2h.01M8 16h.01"})],-1)])],8,hF)],64)):(U(),V(je,{key:1},[s("button",{onClick:Jn(H=>_e(_),["stop"]),class:"text-blue-600 hover:text-blue-900 transition-colors",title:"Cetak/Lihat Detail QR"},[...w[34]||(w[34]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h2M4 4h5a3 3 0 000 6H4V4zm3 2h.01M8 16h.01"})],-1)])],8,gF),s("button",{onClick:Jn(H=>z(_),["stop"]),class:"text-green-600 hover:text-green-900 transition-colors ml-2",title:"Bin to Bin Transfer"},[...w[35]||(w[35]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1)])],8,pF)],64))])],10,nF))),128))])])]),L.value.length===0?(U(),V("div",mF,[...w[36]||(w[36]=[s("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-4.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 009.586 13H7"})],-1),s("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Tidak ada data",-1),s("p",{class:"mt-1 text-sm text-gray-500"},"Data material tidak ditemukan atau filter terlalu spesifik",-1)])])):xe("",!0)]),y.value?(U(),V("div",yF,[s("div",bF,[s("div",{class:"flex justify-between items-center mb-6"},[w[38]||(w[38]=s("h3",{class:"text-xl font-semibold text-gray-900"},"Bin to Bin Transfer",-1)),s("button",{onClick:X,class:"text-gray-400 hover:text-gray-600"},[...w[37]||(w[37]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),s("div",vF,[w[44]||(w[44]=s("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Informasi Material",-1)),s("div",EF,[s("div",null,[w[39]||(w[39]=s("span",{class:"text-gray-600"},"Kode:",-1)),s("span",wF,R(D.value.material?.kode),1)]),s("div",null,[w[40]||(w[40]=s("span",{class:"text-gray-600"},"Nama:",-1)),s("span",CF,R(D.value.material?.nama),1)]),s("div",null,[w[41]||(w[41]=s("span",{class:"text-gray-600"},"Lot:",-1)),s("span",AF,R(D.value.material?.lot),1)]),s("div",null,[w[42]||(w[42]=s("span",{class:"text-gray-600"},"Lokasi Saat Ini:",-1)),s("span",BF,R(D.value.material?.lokasi),1)]),s("div",null,[w[43]||(w[43]=s("span",{class:"text-gray-600"},"Qty Tersedia:",-1)),s("span",_F,R(D.value.material?.qty)+" "+R(D.value.material?.uom),1)])])]),s("div",kF,[s("div",null,[w[45]||(w[45]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[Ve(" Quantity Transfer "),s("span",{class:"text-red-500"},"*")],-1)),s("div",DF,[me(s("input",{"onUpdate:modelValue":w[7]||(w[7]=_=>D.value.qty=_),type:"number",max:D.value.material?.qty,min:"0",class:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500",placeholder:"Masukkan qty yang akan di-transfer"},null,8,SF),[[Oe,D.value.qty,void 0,{number:!0}]]),s("span",FF,R(D.value.material?.uom),1)]),D.value.qty>(D.value.material?.qty||0)?(U(),V("p",TF," Qty transfer melebihi qty tersedia! ")):xe("",!0)]),s("div",null,[w[47]||(w[47]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[Ve(" Bin Tujuan "),s("span",{class:"text-red-500"},"*")],-1)),me(s("select",{"onUpdate:modelValue":w[8]||(w[8]=_=>D.value.destinationBin=_),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[w[46]||(w[46]=s("option",{value:""},"-- Pilih Bin Tujuan --",-1)),s("optgroup",MF,[(U(!0),V(je,null,nt(S.value.standard,_=>(U(),V("option",{key:_.code,value:_.code},R(_.code)+" - "+R(_.zone)+" ("+R(_.currentItems)+"/"+R(_.maxItems)+" items) ",9,IF))),128))]),s("optgroup",PF,[(U(!0),V(je,null,nt(S.value.hazardous,_=>(U(),V("option",{key:_.code,value:_.code},R(_.code)+" - "+R(_.zone)+" ("+R(_.currentItems)+"/"+R(_.maxItems)+" items) ",9,RF))),128))])],512),[[lt,D.value.destinationBin]])]),D.value.destinationBin?(U(),V("div",OF,[w[52]||(w[52]=s("h5",{class:"text-sm font-medium text-blue-900 mb-2"},"Detail Bin Tujuan",-1)),s("div",NF,[s("div",LF,[w[48]||(w[48]=s("span",null,"Kode Bin:",-1)),s("span",$F,R(M.value?.code),1)]),s("div",jF,[w[49]||(w[49]=s("span",null,"Zona:",-1)),s("span",UF,R(M.value?.zone),1)]),s("div",HF,[w[50]||(w[50]=s("span",null,"Kapasitas:",-1)),s("span",zF,R(M.value?.currentItems)+"/"+R(M.value?.maxItems)+" items",1)]),s("div",VF,[w[51]||(w[51]=s("span",null,"Status:",-1)),s("span",{class:Se([Ne(M.value),"px-2 py-0.5 text-xs rounded-full"])},R(tt(M.value)),3)])])])):xe("",!0),s("div",null,[w[54]||(w[54]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[Ve(" Alasan Transfer "),s("span",{class:"text-red-500"},"*")],-1)),me(s("select",{"onUpdate:modelValue":w[9]||(w[9]=_=>D.value.reason=_),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 mb-2"},[...w[53]||(w[53]=[s("option",{value:""},"-- Pilih Alasan --",-1),s("option",{value:"optimization"},"Optimasi Ruang Gudang",-1),s("option",{value:"consolidation"},"Konsolidasi Material",-1),s("option",{value:"reorganization"},"Reorganisasi Zona",-1),s("option",{value:"safety"},"Alasan Keamanan",-1),s("option",{value:"quality"},"Segregasi Quality",-1),s("option",{value:"other"},"Lainnya",-1)])],512),[[lt,D.value.reason]]),D.value.reason==="other"||D.value.reason?me((U(),V("textarea",{key:0,"onUpdate:modelValue":w[10]||(w[10]=_=>D.value.notes=_),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500",placeholder:"Catatan tambahan..."},null,512)),[[Oe,D.value.notes]]):xe("",!0)]),w[55]||(w[55]=s("div",{class:"bg-yellow-50 border border-yellow-200 rounded-lg p-4"},[s("div",{class:"flex items-start space-x-2"},[s("svg",{class:"w-5 h-5 text-yellow-600 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})]),s("div",{class:"flex-1"},[s("h5",{class:"text-sm font-medium text-yellow-900"},"Persetujuan Manager"),s("p",{class:"text-xs text-yellow-800 mt-1"}," Transfer Order Bin to Bin akan dibuat dan memerlukan approval dari manager/admin sebelum dapat dieksekusi. ")])])],-1))]),s("div",qF,[s("button",{onClick:X,class:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"}," Batal "),s("button",{onClick:ce,disabled:!j.value,class:Se([j.value?"bg-green-600 hover:bg-green-700":"bg-gray-400 cursor-not-allowed","px-4 py-2 text-white rounded-lg transition-colors flex items-center space-x-2"])},[...w[56]||(w[56]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),s("span",null,"Buat Transfer Order",-1)])],10,WF)])])])):xe("",!0),h.value?(U(),V("div",{key:1,class:Se(["fixed inset-y-0 right-0 w-96 bg-white shadow-xl z-[998] transform transition-transform duration-300 border-l border-gray-200",m.value?"translate-x-0":"translate-x-full"]),style:{"max-height":"100vh",overflow:"hidden"}},[s("div",GF,[s("div",{class:"px-6 py-4 bg-gray-50 border-b border-gray-200"},[s("div",{class:"flex items-center justify-between"},[w[58]||(w[58]=s("h3",{class:"text-lg font-medium text-gray-900"},"Detail Material",-1)),s("button",{onClick:Pe,class:"text-gray-400 hover:text-gray-600"},[...w[57]||(w[57]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),s("div",QF,[s("div",KF,[s("div",null,[w[67]||(w[67]=s("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Informasi Material",-1)),s("div",YF,[s("div",XF,[w[59]||(w[59]=s("span",{class:"text-gray-600"},"Tipe:",-1)),s("span",{class:Se([h.value.type==="RM"?"text-blue-600":"text-green-600","font-medium"])},R(h.value.type),3)]),s("div",ZF,[w[60]||(w[60]=s("span",{class:"text-gray-600"},"Kode:",-1)),s("span",JF,R(h.value.kode),1)]),s("div",eT,[w[61]||(w[61]=s("span",{class:"text-gray-600"},"Nama:",-1)),s("span",tT,R(h.value.nama),1)]),s("div",nT,[w[62]||(w[62]=s("span",{class:"text-gray-600"},"Lot/Serial:",-1)),s("span",rT,R(h.value.lot),1)]),s("div",sT,[w[63]||(w[63]=s("span",{class:"text-gray-600"},"Lokasi:",-1)),s("span",oT,R(h.value.lokasi),1)]),s("div",iT,[w[64]||(w[64]=s("span",{class:"text-gray-600"},"Qty:",-1)),s("span",aT,R(h.value.qty)+" "+R(h.value.uom),1)]),s("div",lT,[w[65]||(w[65]=s("span",{class:"text-gray-600"},"Expired:",-1)),s("span",{class:Se([ee(h.value.expiredDate),"font-medium"])},R(Re(h.value.expiredDate)),3)]),s("div",cT,[w[66]||(w[66]=s("span",{class:"text-gray-600"},"Status:",-1)),s("span",{class:Se([Ie(h.value.status),"px-2 py-1 text-xs font-semibold rounded-full"])},R(h.value.status),3)])])]),s("div",null,[w[68]||(w[68]=s("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"QR Code & Dokumen",-1)),s("div",dT,[s("div",uT,[h.value.qr_image_url?(U(),V("img",{key:0,src:h.value.qr_image_url,alt:"QR Code",class:"w-full h-full object-contain"},null,8,xT)):(U(),V("div",fT,"Generating..."))]),s("p",hT,R(h.value.kode)+"-"+R(h.value.lot),1),s("button",{onClick:w[11]||(w[11]=_=>we(h.value)),class:"text-blue-600 text-sm hover:underline font-medium"}," Print QR Code ")]),w[69]||(w[69]=s("div",{class:"mt-3 space-y-1 text-sm"},[s("div",{class:"flex justify-between"},[s("span",{class:"text-gray-600"},"PO Number:"),s("span",{class:"text-blue-600 cursor-pointer hover:underline"},"PO-2024-001")]),s("div",{class:"flex justify-between"},[s("span",{class:"text-gray-600"},"GR Number:"),s("span",{class:"text-blue-600 cursor-pointer hover:underline"},"GR-2024-001")])],-1))]),s("div",null,[w[71]||(w[71]=s("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Riwayat Pergerakan",-1)),h.value.history.length>0?(U(),V("div",gT,[(U(!0),V(je,null,nt(h.value.history,_=>(U(),V("div",{key:_.id,class:"flex items-start space-x-3"},[w[70]||(w[70]=s("div",{class:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"},null,-1)),s("div",pT,[s("div",mT,[s("span",yT,R(_.action),1),s("span",bT,R(et(_.date)),1)]),s("p",vT,R(_.detail),1),s("p",ET,"Oleh: "+R(_.user),1)])]))),128))])):(U(),V("div",wT," Belum ada riwayat pergerakan untuk item ini. "))])])])])],2)):xe("",!0),m.value?(U(),V("div",{key:2,onClick:Pe,class:"fixed inset-0 bg-black/40 backdrop-blur-sm z-[997]"})):xe("",!0),C.value&&E.value?(U(),V("div",CT,[s("div",AT,[s("div",BT,[s("h3",_T,[w[72]||(w[72]=Ve(" QR Code: ",-1)),s("span",{class:Se(E.value.qr_type==="Karantina"?"text-orange-600":"text-green-600")},R(E.value.qr_type),3)]),s("button",{onClick:J,class:"text-gray-400 hover:text-gray-600"},[...w[73]||(w[73]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),s("div",kT,[s("div",DT,[s("div",ST,[E.value.qr_image_url?(U(),V("img",{key:0,src:E.value.qr_image_url,alt:"QR Code",class:"w-full h-full object-contain"},null,8,FT)):(U(),V("span",TT,"Generating..."))])]),s("p",MT,"Kode: **"+R(E.value.kode)+"-"+R(E.value.lot)+"**",1),s("p",IT," Data Terenkripsi: `"+R(E.value.qr_data.substring(0,40))+"...` ",1),s("div",PT,[s("button",{onClick:J,class:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"}," Tutup "),s("button",{onClick:w[12]||(w[12]=_=>F(E.value)),class:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2"},[...w[74]||(w[74]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2v2H5v-2h2M17 17v-5H7v5m12 0a2 2 0 01-2 2H7a2 2 0 01-2-2m2-5V4a2 2 0 012-2h6a2 2 0 012 2v8M7 7h10"})],-1),s("span",null,"Cetak QR",-1)])])])])])])):xe("",!0),oe.value?(U(),V("div",RT,[s("div",OT,[w[76]||(w[76]=s("div",{class:"bg-gradient-to-r from-red-500 to-red-600 px-6 py-4"},[s("div",{class:"flex items-center gap-3"},[s("div",{class:"bg-white/20 p-2 rounded-full"},[s("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])]),s("h3",{class:"text-xl font-bold text-white"},"Validasi Gagal")])],-1)),s("div",NT,[s("div",LT,[s("p",$T,R(Y.value),1)]),w[75]||(w[75]=s("div",{class:"bg-blue-50 border border-blue-200 rounded-lg p-3 flex items-start gap-2"},[s("svg",{class:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})]),s("div",{class:"text-xs text-blue-800"},[s("p",{class:"font-semibold mb-1"},"Solusi:"),s("p",null,[Ve("Lakukan "),s("a",{href:"/transaction/bin-to-bin",class:"underline hover:text-blue-900 font-medium"},"Bin-to-Bin Transfer"),Ve(" terlebih dahulu ke bin QRT (QRT-HALAL, QRT-NON HALAL, atau QRT-HALAL-AC)")])])],-1))]),s("div",{class:"bg-gray-50 px-6 py-4 flex justify-end gap-3"},[s("button",{onClick:Ee,class:"px-6 py-2.5 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-semibold rounded-lg shadow-lg transition-all hover:scale-105 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2"}," Tutup ")])])])):xe("",!0)])]),_:1}))}}),UT=Hi(jT,[["__scopeId","data-v-0a6a277a"]]),HT=Object.freeze(Object.defineProperty({__proto__:null,default:UT},Symbol.toStringTag,{value:"Module"}));/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function nl(e){return e+.5|0}const eo=(e,t,n)=>Math.max(Math.min(e,n),t);function fa(e){return eo(nl(e*2.55),0,255)}function oo(e){return eo(nl(e*255),0,255)}function _s(e){return eo(nl(e/2.55)/100,0,1)}function kg(e){return eo(nl(e*100),0,100)}const Sr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Nu=[..."0123456789ABCDEF"],zT=e=>Nu[e&15],VT=e=>Nu[(e&240)>>4]+Nu[e&15],Bl=e=>(e&240)>>4===(e&15),qT=e=>Bl(e.r)&&Bl(e.g)&&Bl(e.b)&&Bl(e.a);function WT(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&Sr[e[1]]*17,g:255&Sr[e[2]]*17,b:255&Sr[e[3]]*17,a:t===5?Sr[e[4]]*17:255}:(t===7||t===9)&&(n={r:Sr[e[1]]<<4|Sr[e[2]],g:Sr[e[3]]<<4|Sr[e[4]],b:Sr[e[5]]<<4|Sr[e[6]],a:t===9?Sr[e[7]]<<4|Sr[e[8]]:255})),n}const GT=(e,t)=>e<255?t(e):"";function QT(e){var t=qT(e)?zT:VT;return e?"#"+t(e.r)+t(e.g)+t(e.b)+GT(e.a,t):void 0}const KT=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Iy(e,t,n){const r=t*Math.min(n,1-n),i=(a,c=(a+e/30)%12)=>n-r*Math.max(Math.min(c-3,9-c,1),-1);return[i(0),i(8),i(4)]}function YT(e,t,n){const r=(i,a=(i+e/60)%6)=>n-n*t*Math.max(Math.min(a,4-a,1),0);return[r(5),r(3),r(1)]}function XT(e,t,n){const r=Iy(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function ZT(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}function Sx(e){const n=e.r/255,r=e.g/255,i=e.b/255,a=Math.max(n,r,i),c=Math.min(n,r,i),u=(a+c)/2;let g,h,m;return a!==c&&(m=a-c,h=u>.5?m/(2-a-c):m/(a+c),g=ZT(n,r,i,m,a),g=g*60+.5),[g|0,h||0,u]}function Fx(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(oo)}function Tx(e,t,n){return Fx(Iy,e,t,n)}function JT(e,t,n){return Fx(XT,e,t,n)}function eM(e,t,n){return Fx(YT,e,t,n)}function Py(e){return(e%360+360)%360}function tM(e){const t=KT.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?fa(+t[5]):oo(+t[5]));const i=Py(+t[2]),a=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?r=JT(i,a,c):t[1]==="hsv"?r=eM(i,a,c):r=Tx(i,a,c),{r:r[0],g:r[1],b:r[2],a:n}}function nM(e,t){var n=Sx(e);n[0]=Py(n[0]+t),n=Tx(n),e.r=n[0],e.g=n[1],e.b=n[2]}function rM(e){if(!e)return;const t=Sx(e),n=t[0],r=kg(t[1]),i=kg(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${i}%, ${_s(e.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const Dg={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Sg={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function sM(){const e={},t=Object.keys(Sg),n=Object.keys(Dg);let r,i,a,c,u;for(r=0;r<t.length;r++){for(c=u=t[r],i=0;i<n.length;i++)a=n[i],u=u.replace(a,Dg[a]);a=parseInt(Sg[c],16),e[u]=[a>>16&255,a>>8&255,a&255]}return e}let _l;function oM(e){_l||(_l=sM(),_l.transparent=[0,0,0,0]);const t=_l[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const iM=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function aM(e){const t=iM.exec(e);let n=255,r,i,a;if(t){if(t[7]!==r){const c=+t[7];n=t[8]?fa(c):eo(c*255,0,255)}return r=+t[1],i=+t[3],a=+t[5],r=255&(t[2]?fa(r):eo(r,0,255)),i=255&(t[4]?fa(i):eo(i,0,255)),a=255&(t[6]?fa(a):eo(a,0,255)),{r,g:i,b:a,a:n}}}function lM(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${_s(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Kd=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,xi=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function cM(e,t,n){const r=xi(_s(e.r)),i=xi(_s(e.g)),a=xi(_s(e.b));return{r:oo(Kd(r+n*(xi(_s(t.r))-r))),g:oo(Kd(i+n*(xi(_s(t.g))-i))),b:oo(Kd(a+n*(xi(_s(t.b))-a))),a:e.a+n*(t.a-e.a)}}function kl(e,t,n){if(e){let r=Sx(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=Tx(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function Ry(e,t){return e&&Object.assign(t||{},e)}function Fg(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=oo(e[3]))):(t=Ry(e,{r:0,g:0,b:0,a:1}),t.a=oo(t.a)),t}function dM(e){return e.charAt(0)==="r"?aM(e):tM(e)}class La{constructor(t){if(t instanceof La)return t;const n=typeof t;let r;n==="object"?r=Fg(t):n==="string"&&(r=WT(t)||oM(t)||dM(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=Ry(this._rgb);return t&&(t.a=_s(t.a)),t}set rgb(t){this._rgb=Fg(t)}rgbString(){return this._valid?lM(this._rgb):void 0}hexString(){return this._valid?QT(this._rgb):void 0}hslString(){return this._valid?rM(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,i=t.rgb;let a;const c=n===a?.5:n,u=2*c-1,g=r.a-i.a,h=((u*g===-1?u:(u+g)/(1+u*g))+1)/2;a=1-h,r.r=255&h*r.r+a*i.r+.5,r.g=255&h*r.g+a*i.g+.5,r.b=255&h*r.b+a*i.b+.5,r.a=c*r.a+(1-c)*i.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=cM(this._rgb,t._rgb,n)),this}clone(){return new La(this.rgb)}alpha(t){return this._rgb.a=oo(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=nl(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return kl(this._rgb,2,t),this}darken(t){return kl(this._rgb,2,-t),this}saturate(t){return kl(this._rgb,1,t),this}desaturate(t){return kl(this._rgb,1,-t),this}rotate(t){return nM(this._rgb,t),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function vs(){}const uM=(()=>{let e=0;return()=>e++})();function $t(e){return e==null}function wn(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function It(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Nr(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function as(e,t){return Nr(e)?e:t}function At(e,t){return typeof e>"u"?t:e}const xM=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,Oy=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function nn(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Ut(e,t,n,r){let i,a,c;if(wn(e))for(a=e.length,i=0;i<a;i++)t.call(n,e[i],i);else if(It(e))for(c=Object.keys(e),a=c.length,i=0;i<a;i++)t.call(n,e[c[i]],c[i])}function b0(e,t){let n,r,i,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],a=t[n],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function v0(e){if(wn(e))return e.map(v0);if(It(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=v0(e[n[i]]);return t}return e}function Ny(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function fM(e,t,n,r){if(!Ny(e))return;const i=t[e],a=n[e];It(i)&&It(a)?$a(i,a,r):t[e]=v0(a)}function $a(e,t,n){const r=wn(t)?t:[t],i=r.length;if(!It(e))return e;n=n||{};const a=n.merger||fM;let c;for(let u=0;u<i;++u){if(c=r[u],!It(c))continue;const g=Object.keys(c);for(let h=0,m=g.length;h<m;++h)a(g[h],e,c,n)}return e}function Ca(e,t){return $a(e,t,{merger:hM})}function hM(e,t,n){if(!Ny(e))return;const r=t[e],i=n[e];It(r)&&It(i)?Ca(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=v0(i))}const Tg={"":e=>e,x:e=>e.x,y:e=>e.y};function gM(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function pM(e){const t=gM(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function Qo(e,t){return(Tg[t]||(Tg[t]=pM(t)))(e)}function Mx(e){return e.charAt(0).toUpperCase()+e.slice(1)}const ja=e=>typeof e<"u",ho=e=>typeof e=="function",Mg=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function mM(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Ht=Math.PI,un=2*Ht,yM=un+Ht,E0=Number.POSITIVE_INFINITY,bM=Ht/180,Cn=Ht/2,Bo=Ht/4,Ig=Ht*2/3,Ly=Math.log10,gs=Math.sign;function Aa(e,t,n){return Math.abs(e-t)<n}function Pg(e){const t=Math.round(e);e=Aa(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Ly(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function vM(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((i,a)=>i-a).pop(),t}function EM(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Ua(e){return!EM(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function wM(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function CM(e,t,n){let r,i,a;for(r=0,i=e.length;r<i;r++)a=e[r][n],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function Ts(e){return e*(Ht/180)}function AM(e){return e*(180/Ht)}function Rg(e){if(!Nr(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function $y(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let a=Math.atan2(r,n);return a<-.5*Ht&&(a+=un),{angle:a,distance:i}}function Lu(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function BM(e,t){return(e-t+yM)%un-Ht}function Wr(e){return(e%un+un)%un}function Ha(e,t,n,r){const i=Wr(e),a=Wr(t),c=Wr(n),u=Wr(a-i),g=Wr(c-i),h=Wr(i-a),m=Wr(i-c);return i===a||i===c||r&&a===c||u>g&&h<m}function qn(e,t,n){return Math.max(t,Math.min(n,e))}function _M(e){return qn(e,-32768,32767)}function to(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Ix(e,t,n){n=n||(c=>e[c]<t);let r=e.length-1,i=0,a;for(;r-i>1;)a=i+r>>1,n(a)?i=a:r=a;return{lo:i,hi:r}}const Ro=(e,t,n,r)=>Ix(e,n,r?i=>{const a=e[i][t];return a<n||a===n&&e[i+1][t]===n}:i=>e[i][t]<n),kM=(e,t,n)=>Ix(e,n,r=>e[r][t]>=n);function DM(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}const jy=["push","pop","shift","splice","unshift"];function SM(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),jy.forEach(n=>{const r="_onData"+Mx(n),i=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...a){const c=i.apply(this,a);return e._chartjs.listeners.forEach(u=>{typeof u[r]=="function"&&u[r](...a)}),c}})})}function Og(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);i!==-1&&r.splice(i,1),!(r.length>0)&&(jy.forEach(a=>{delete e[a]}),delete e._chartjs)}function Uy(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Hy=(function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame})();function zy(e,t){let n=[],r=!1;return function(...i){n=i,r||(r=!0,Hy.call(window,()=>{r=!1,e.apply(t,n)}))}}function FM(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const Px=e=>e==="start"?"left":e==="end"?"right":"center",Un=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,TM=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t;function MM(e,t,n){const r=t.length;let i=0,a=r;if(e._sorted){const{iScale:c,vScale:u,_parsed:g}=e,h=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,m=c.axis,{min:y,max:C,minDefined:E,maxDefined:A}=c.getUserBounds();if(E){if(i=Math.min(Ro(g,m,y).lo,n?r:Ro(t,m,c.getPixelForValue(y)).lo),h){const k=g.slice(0,i+1).reverse().findIndex(D=>!$t(D[u.axis]));i-=Math.max(0,k)}i=qn(i,0,r-1)}if(A){let k=Math.max(Ro(g,c.axis,C,!0).hi+1,n?0:Ro(t,m,c.getPixelForValue(C),!0).hi+1);if(h){const D=g.slice(k-1).findIndex(I=>!$t(I[u.axis]));k+=Math.max(0,D)}a=qn(k,i,r)-i}else a=r-i}return{start:i,count:a}}function IM(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const a=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),a}const Dl=e=>e===0||e===1,Ng=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*un/n)),Lg=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*un/n)+1,Ba={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Cn)+1,easeOutSine:e=>Math.sin(e*Cn),easeInOutSine:e=>-.5*(Math.cos(Ht*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Dl(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Dl(e)?e:Ng(e,.075,.3),easeOutElastic:e=>Dl(e)?e:Lg(e,.075,.3),easeInOutElastic(e){return Dl(e)?e:e<.5?.5*Ng(e*2,.1125,.45):.5+.5*Lg(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Ba.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Ba.easeInBounce(e*2)*.5:Ba.easeOutBounce(e*2-1)*.5+.5};function Rx(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function $g(e){return Rx(e)?e:new La(e)}function Yd(e){return Rx(e)?e:new La(e).saturate(.5).darken(.1).hexString()}const PM=["x","y","borderWidth","radius","tension"],RM=["color","borderColor","backgroundColor"];function OM(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:RM},numbers:{type:"number",properties:PM}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function NM(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const jg=new Map;function LM(e,t){t=t||{};const n=e+JSON.stringify(t);let r=jg.get(n);return r||(r=new Intl.NumberFormat(e,t),jg.set(n,r)),r}function Ox(e,t,n){return LM(t,n).format(e)}const $M={values(e){return wn(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let i,a=e;if(n.length>1){const h=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(h<1e-4||h>1e15)&&(i="scientific"),a=jM(e,n)}const c=Ly(Math.abs(a)),u=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),g={notation:i,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(g,this.options.ticks.format),Ox(e,r,g)}};function jM(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Vy={formatters:$M};function UM(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Vy.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ko=Object.create(null),$u=Object.create(null);function _a(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const a=n[r];e=e[a]||(e[a]=Object.create(null))}return e}function Xd(e,t,n){return typeof t=="string"?$a(_a(e,t),n):$a(_a(e,""),t)}class HM{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Yd(i.backgroundColor),this.hoverBorderColor=(r,i)=>Yd(i.borderColor),this.hoverColor=(r,i)=>Yd(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Xd(this,t,n)}get(t){return _a(this,t)}describe(t,n){return Xd($u,t,n)}override(t,n){return Xd(Ko,t,n)}route(t,n,r,i){const a=_a(this,t),c=_a(this,r),u="_"+n;Object.defineProperties(a,{[u]:{value:a[n],writable:!0},[n]:{enumerable:!0,get(){const g=this[u],h=c[i];return It(g)?Object.assign({},h,g):At(g,h)},set(g){this[u]=g}}})}apply(t){t.forEach(n=>n(this))}}var hn=new HM({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[OM,NM,UM]);function zM(e){return!e||$t(e.size)||$t(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Ug(e,t,n,r,i){let a=t[i];return a||(a=t[i]=e.measureText(i).width,n.push(i)),a>r&&(r=a),r}function _o(e,t,n){const r=e.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function Hg(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function ju(e,t,n,r){qy(e,t,n,r,null)}function qy(e,t,n,r,i){let a,c,u,g,h,m,y,C;const E=t.pointStyle,A=t.rotation,k=t.radius;let D=(A||0)*bM;if(E&&typeof E=="object"&&(a=E.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(D),e.drawImage(E,-E.width/2,-E.height/2,E.width,E.height),e.restore();return}if(!(isNaN(k)||k<=0)){switch(e.beginPath(),E){default:i?e.ellipse(n,r,i/2,k,0,0,un):e.arc(n,r,k,0,un),e.closePath();break;case"triangle":m=i?i/2:k,e.moveTo(n+Math.sin(D)*m,r-Math.cos(D)*k),D+=Ig,e.lineTo(n+Math.sin(D)*m,r-Math.cos(D)*k),D+=Ig,e.lineTo(n+Math.sin(D)*m,r-Math.cos(D)*k),e.closePath();break;case"rectRounded":h=k*.516,g=k-h,c=Math.cos(D+Bo)*g,y=Math.cos(D+Bo)*(i?i/2-h:g),u=Math.sin(D+Bo)*g,C=Math.sin(D+Bo)*(i?i/2-h:g),e.arc(n-y,r-u,h,D-Ht,D-Cn),e.arc(n+C,r-c,h,D-Cn,D),e.arc(n+y,r+u,h,D,D+Cn),e.arc(n-C,r+c,h,D+Cn,D+Ht),e.closePath();break;case"rect":if(!A){g=Math.SQRT1_2*k,m=i?i/2:g,e.rect(n-m,r-g,2*m,2*g);break}D+=Bo;case"rectRot":y=Math.cos(D)*(i?i/2:k),c=Math.cos(D)*k,u=Math.sin(D)*k,C=Math.sin(D)*(i?i/2:k),e.moveTo(n-y,r-u),e.lineTo(n+C,r-c),e.lineTo(n+y,r+u),e.lineTo(n-C,r+c),e.closePath();break;case"crossRot":D+=Bo;case"cross":y=Math.cos(D)*(i?i/2:k),c=Math.cos(D)*k,u=Math.sin(D)*k,C=Math.sin(D)*(i?i/2:k),e.moveTo(n-y,r-u),e.lineTo(n+y,r+u),e.moveTo(n+C,r-c),e.lineTo(n-C,r+c);break;case"star":y=Math.cos(D)*(i?i/2:k),c=Math.cos(D)*k,u=Math.sin(D)*k,C=Math.sin(D)*(i?i/2:k),e.moveTo(n-y,r-u),e.lineTo(n+y,r+u),e.moveTo(n+C,r-c),e.lineTo(n-C,r+c),D+=Bo,y=Math.cos(D)*(i?i/2:k),c=Math.cos(D)*k,u=Math.sin(D)*k,C=Math.sin(D)*(i?i/2:k),e.moveTo(n-y,r-u),e.lineTo(n+y,r+u),e.moveTo(n+C,r-c),e.lineTo(n-C,r+c);break;case"line":c=i?i/2:Math.cos(D)*k,u=Math.sin(D)*k,e.moveTo(n-c,r-u),e.lineTo(n+c,r+u);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(D)*(i?i/2:k),r+Math.sin(D)*k);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function za(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Nx(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Lx(e){e.restore()}function VM(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if(i==="middle"){const a=(t.x+n.x)/2;e.lineTo(a,t.y),e.lineTo(a,n.y)}else i==="after"!=!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function qM(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function WM(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),$t(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function GM(e,t,n,r,i){if(i.strikethrough||i.underline){const a=e.measureText(r),c=t-a.actualBoundingBoxLeft,u=t+a.actualBoundingBoxRight,g=n-a.actualBoundingBoxAscent,h=n+a.actualBoundingBoxDescent,m=i.strikethrough?(g+h)/2:h;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(c,m),e.lineTo(u,m),e.stroke()}}function QM(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Va(e,t,n,r,i,a={}){const c=wn(t)?t:[t],u=a.strokeWidth>0&&a.strokeColor!=="";let g,h;for(e.save(),e.font=i.string,WM(e,a),g=0;g<c.length;++g)h=c[g],a.backdrop&&QM(e,a.backdrop),u&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),$t(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(h,n,r,a.maxWidth)),e.fillText(h,n,r,a.maxWidth),GM(e,n,r,h,a),r+=Number(i.lineHeight);e.restore()}function w0(e,t){const{x:n,y:r,w:i,h:a,radius:c}=t;e.arc(n+c.topLeft,r+c.topLeft,c.topLeft,1.5*Ht,Ht,!0),e.lineTo(n,r+a-c.bottomLeft),e.arc(n+c.bottomLeft,r+a-c.bottomLeft,c.bottomLeft,Ht,Cn,!0),e.lineTo(n+i-c.bottomRight,r+a),e.arc(n+i-c.bottomRight,r+a-c.bottomRight,c.bottomRight,Cn,0,!0),e.lineTo(n+i,r+c.topRight),e.arc(n+i-c.topRight,r+c.topRight,c.topRight,0,-Cn,!0),e.lineTo(n+c.topLeft,r)}const KM=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,YM=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function XM(e,t){const n=(""+e).match(KM);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const ZM=e=>+e||0;function $x(e,t){const n={},r=It(t),i=r?Object.keys(t):t,a=It(e)?r?c=>At(e[c],e[t[c]]):c=>e[c]:()=>e;for(const c of i)n[c]=ZM(a(c));return n}function Wy(e){return $x(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Bi(e){return $x(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Lr(e){const t=Wy(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Wn(e,t){e=e||{},t=t||hn.font;let n=At(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=At(e.style,t.style);r&&!(""+r).match(YM)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:At(e.family,t.family),lineHeight:XM(At(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:At(e.weight,t.weight),string:""};return i.string=zM(i),i}function Sl(e,t,n,r){let i,a,c;for(i=0,a=e.length;i<a;++i)if(c=e[i],c!==void 0&&c!==void 0)return c}function JM(e,t,n){const{min:r,max:i}=e,a=Oy(t,(i-r)/2),c=(u,g)=>n&&u===0?0:u+g;return{min:c(r,-Math.abs(a)),max:c(i,a)}}function ei(e,t){return Object.assign(Object.create(e),t)}function jx(e,t=[""],n,r,i=()=>e[0]){const a=n||e;typeof r>"u"&&(r=Yy("_fallback",e));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:r,_getTarget:i,override:u=>jx([u,...e],t,a,r)};return new Proxy(c,{deleteProperty(u,g){return delete u[g],delete u._keys,delete e[0][g],!0},get(u,g){return Qy(u,g,()=>aI(g,t,e,u))},getOwnPropertyDescriptor(u,g){return Reflect.getOwnPropertyDescriptor(u._scopes[0],g)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(u,g){return Vg(u).includes(g)},ownKeys(u){return Vg(u)},set(u,g,h){const m=u._storage||(u._storage=i());return u[g]=m[g]=h,delete u._keys,!0}})}function Ii(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Gy(e,r),setContext:a=>Ii(e,a,n,r),override:a=>Ii(e.override(a),t,n,r)};return new Proxy(i,{deleteProperty(a,c){return delete a[c],delete e[c],!0},get(a,c,u){return Qy(a,c,()=>tI(a,c,u))},getOwnPropertyDescriptor(a,c){return a._descriptors.allKeys?Reflect.has(e,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,c)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(a,c){return Reflect.has(e,c)},ownKeys(){return Reflect.ownKeys(e)},set(a,c,u){return e[c]=u,delete a[c],!0}})}function Gy(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:ho(n)?n:()=>n,isIndexable:ho(r)?r:()=>r}}const eI=(e,t)=>e?e+Mx(t):t,Ux=(e,t)=>It(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Qy(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function tI(e,t,n){const{_proxy:r,_context:i,_subProxy:a,_descriptors:c}=e;let u=r[t];return ho(u)&&c.isScriptable(t)&&(u=nI(t,u,e,n)),wn(u)&&u.length&&(u=rI(t,u,e,c.isIndexable)),Ux(t,u)&&(u=Ii(u,i,a&&a[t],c)),u}function nI(e,t,n,r){const{_proxy:i,_context:a,_subProxy:c,_stack:u}=n;if(u.has(e))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+e);u.add(e);let g=t(a,c||r);return u.delete(e),Ux(e,g)&&(g=Hx(i._scopes,i,e,g)),g}function rI(e,t,n,r){const{_proxy:i,_context:a,_subProxy:c,_descriptors:u}=n;if(typeof a.index<"u"&&r(e))return t[a.index%t.length];if(It(t[0])){const g=t,h=i._scopes.filter(m=>m!==g);t=[];for(const m of g){const y=Hx(h,i,e,m);t.push(Ii(y,a,c&&c[e],u))}}return t}function Ky(e,t,n){return ho(e)?e(t,n):e}const sI=(e,t)=>e===!0?t:typeof e=="string"?Qo(t,e):void 0;function oI(e,t,n,r,i){for(const a of t){const c=sI(n,a);if(c){e.add(c);const u=Ky(c._fallback,n,i);if(typeof u<"u"&&u!==n&&u!==r)return u}else if(c===!1&&typeof r<"u"&&n!==r)return null}return!1}function Hx(e,t,n,r){const i=t._rootScopes,a=Ky(t._fallback,n,r),c=[...e,...i],u=new Set;u.add(r);let g=zg(u,c,n,a||n,r);return g===null||typeof a<"u"&&a!==n&&(g=zg(u,c,a,g,r),g===null)?!1:jx(Array.from(u),[""],i,a,()=>iI(t,n,r))}function zg(e,t,n,r,i){for(;n;)n=oI(e,t,n,r,i);return n}function iI(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];return wn(i)&&It(n)?n:i||{}}function aI(e,t,n,r){let i;for(const a of t)if(i=Yy(eI(a,e),n),typeof i<"u")return Ux(e,i)?Hx(n,r,e,i):i}function Yy(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function Vg(e){let t=e._keys;return t||(t=e._keys=lI(e._scopes)),t}function lI(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))t.add(r);return Array.from(t)}const cI=Number.EPSILON||1e-14,Pi=(e,t)=>t<e.length&&!e[t].skip&&e[t],Xy=e=>e==="x"?"y":"x";function dI(e,t,n,r){const i=e.skip?t:e,a=t,c=n.skip?t:n,u=Lu(a,i),g=Lu(c,a);let h=u/(u+g),m=g/(u+g);h=isNaN(h)?0:h,m=isNaN(m)?0:m;const y=r*h,C=r*m;return{previous:{x:a.x-y*(c.x-i.x),y:a.y-y*(c.y-i.y)},next:{x:a.x+C*(c.x-i.x),y:a.y+C*(c.y-i.y)}}}function uI(e,t,n){const r=e.length;let i,a,c,u,g,h=Pi(e,0);for(let m=0;m<r-1;++m)if(g=h,h=Pi(e,m+1),!(!g||!h)){if(Aa(t[m],0,cI)){n[m]=n[m+1]=0;continue}i=n[m]/t[m],a=n[m+1]/t[m],u=Math.pow(i,2)+Math.pow(a,2),!(u<=9)&&(c=3/Math.sqrt(u),n[m]=i*c*t[m],n[m+1]=a*c*t[m])}}function xI(e,t,n="x"){const r=Xy(n),i=e.length;let a,c,u,g=Pi(e,0);for(let h=0;h<i;++h){if(c=u,u=g,g=Pi(e,h+1),!u)continue;const m=u[n],y=u[r];c&&(a=(m-c[n])/3,u[`cp1${n}`]=m-a,u[`cp1${r}`]=y-a*t[h]),g&&(a=(g[n]-m)/3,u[`cp2${n}`]=m+a,u[`cp2${r}`]=y+a*t[h])}}function fI(e,t="x"){const n=Xy(t),r=e.length,i=Array(r).fill(0),a=Array(r);let c,u,g,h=Pi(e,0);for(c=0;c<r;++c)if(u=g,g=h,h=Pi(e,c+1),!!g){if(h){const m=h[t]-g[t];i[c]=m!==0?(h[n]-g[n])/m:0}a[c]=u?h?gs(i[c-1])!==gs(i[c])?0:(i[c-1]+i[c])/2:i[c-1]:i[c]}uI(e,i,a),xI(e,a,t)}function Fl(e,t,n){return Math.max(Math.min(e,n),t)}function hI(e,t){let n,r,i,a,c,u=za(e[0],t);for(n=0,r=e.length;n<r;++n)c=a,a=u,u=n<r-1&&za(e[n+1],t),a&&(i=e[n],c&&(i.cp1x=Fl(i.cp1x,t.left,t.right),i.cp1y=Fl(i.cp1y,t.top,t.bottom)),u&&(i.cp2x=Fl(i.cp2x,t.left,t.right),i.cp2y=Fl(i.cp2y,t.top,t.bottom)))}function gI(e,t,n,r,i){let a,c,u,g;if(t.spanGaps&&(e=e.filter(h=>!h.skip)),t.cubicInterpolationMode==="monotone")fI(e,i);else{let h=r?e[e.length-1]:e[0];for(a=0,c=e.length;a<c;++a)u=e[a],g=dI(h,u,e[Math.min(a+1,c-(r?0:1))%c],t.tension),u.cp1x=g.previous.x,u.cp1y=g.previous.y,u.cp2x=g.next.x,u.cp2y=g.next.y,h=u}t.capBezierPoints&&hI(e,n)}function zx(){return typeof window<"u"&&typeof document<"u"}function Vx(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function C0(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const W0=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function pI(e,t){return W0(e).getPropertyValue(t)}const mI=["top","right","bottom","left"];function Uo(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const a=mI[i];r[a]=parseFloat(e[t+"-"+a+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const yI=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function bI(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:a}=r;let c=!1,u,g;if(yI(i,a,e.target))u=i,g=a;else{const h=t.getBoundingClientRect();u=r.clientX-h.left,g=r.clientY-h.top,c=!0}return{x:u,y:g,box:c}}function So(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=W0(n),a=i.boxSizing==="border-box",c=Uo(i,"padding"),u=Uo(i,"border","width"),{x:g,y:h,box:m}=bI(e,n),y=c.left+(m&&u.left),C=c.top+(m&&u.top);let{width:E,height:A}=t;return a&&(E-=c.width+u.width,A-=c.height+u.height),{x:Math.round((g-y)/E*n.width/r),y:Math.round((h-C)/A*n.height/r)}}function vI(e,t,n){let r,i;if(t===void 0||n===void 0){const a=e&&Vx(e);if(!a)t=e.clientWidth,n=e.clientHeight;else{const c=a.getBoundingClientRect(),u=W0(a),g=Uo(u,"border","width"),h=Uo(u,"padding");t=c.width-h.width-g.width,n=c.height-h.height-g.height,r=C0(u.maxWidth,a,"clientWidth"),i=C0(u.maxHeight,a,"clientHeight")}}return{width:t,height:n,maxWidth:r||E0,maxHeight:i||E0}}const no=e=>Math.round(e*10)/10;function EI(e,t,n,r){const i=W0(e),a=Uo(i,"margin"),c=C0(i.maxWidth,e,"clientWidth")||E0,u=C0(i.maxHeight,e,"clientHeight")||E0,g=vI(e,t,n);let{width:h,height:m}=g;if(i.boxSizing==="content-box"){const C=Uo(i,"border","width"),E=Uo(i,"padding");h-=E.width+C.width,m-=E.height+C.height}return h=Math.max(0,h-a.width),m=Math.max(0,r?h/r:m-a.height),h=no(Math.min(h,c,g.maxWidth)),m=no(Math.min(m,u,g.maxHeight)),h&&!m&&(m=no(h/2)),(t!==void 0||n!==void 0)&&r&&g.height&&m>g.height&&(m=g.height,h=no(Math.floor(m*r))),{width:h,height:m}}function qg(e,t,n){const r=t||1,i=no(e.height*r),a=no(e.width*r);e.height=no(e.height),e.width=no(e.width);const c=e.canvas;return c.style&&(n||!c.style.height&&!c.style.width)&&(c.style.height=`${e.height}px`,c.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||c.height!==i||c.width!==a?(e.currentDevicePixelRatio=r,c.height=i,c.width=a,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const wI=(function(){let e=!1;try{const t={get passive(){return e=!0,!1}};zx()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e})();function Wg(e,t){const n=pI(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Fo(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function CI(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:r==="middle"?n<.5?e.y:t.y:r==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function AI(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},c=Fo(e,i,n),u=Fo(i,a,n),g=Fo(a,t,n),h=Fo(c,u,n),m=Fo(u,g,n);return Fo(h,m,n)}const BI=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},_I=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function _i(e,t,n){return e?BI(t,n):_I()}function Zy(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function Jy(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function eb(e){return e==="angle"?{between:Ha,compare:BM,normalize:Wr}:{between:to,compare:(t,n)=>t-n,normalize:t=>t}}function Gg({start:e,end:t,count:n,loop:r,style:i}){return{start:e%n,end:t%n,loop:r&&(t-e+1)%n===0,style:i}}function kI(e,t,n){const{property:r,start:i,end:a}=n,{between:c,normalize:u}=eb(r),g=t.length;let{start:h,end:m,loop:y}=e,C,E;if(y){for(h+=g,m+=g,C=0,E=g;C<E&&c(u(t[h%g][r]),i,a);++C)h--,m--;h%=g,m%=g}return m<h&&(m+=g),{start:h,end:m,loop:y,style:e.style}}function DI(e,t,n){if(!n)return[e];const{property:r,start:i,end:a}=n,c=t.length,{compare:u,between:g,normalize:h}=eb(r),{start:m,end:y,loop:C,style:E}=kI(e,t,n),A=[];let k=!1,D=null,I,$,P;const S=()=>g(i,P,I)&&u(i,P)!==0,M=()=>u(a,I)===0||g(a,P,I),j=()=>k||S(),L=()=>!k||M();for(let q=m,T=m;q<=y;++q)$=t[q%c],!$.skip&&(I=h($[r]),I!==P&&(k=g(I,i,a),D===null&&j()&&(D=u(I,i)===0?q:T),D!==null&&L()&&(A.push(Gg({start:D,end:q,loop:C,count:c,style:E})),D=null),T=q,P=I));return D!==null&&A.push(Gg({start:D,end:y,loop:C,count:c,style:E})),A}function SI(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const a=DI(r[i],e.points,t);a.length&&n.push(...a)}return n}function FI(e,t,n,r){let i=0,a=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(a+=i);a>i&&e[a%t].skip;)a--;return a%=t,{start:i,end:a}}function TI(e,t,n,r){const i=e.length,a=[];let c=t,u=e[t],g;for(g=t+1;g<=n;++g){const h=e[g%i];h.skip||h.stop?u.skip||(r=!1,a.push({start:t%i,end:(g-1)%i,loop:r}),t=c=h.stop?g:null):(c=g,u.skip&&(t=g)),u=h}return c!==null&&a.push({start:t%i,end:c%i,loop:r}),a}function MI(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const a=!!e._loop,{start:c,end:u}=FI(n,i,a,r);if(r===!0)return Qg(e,[{start:c,end:u,loop:a}],n,t);const g=u<c?u+i:u,h=!!e._fullLoop&&c===0&&u===i-1;return Qg(e,TI(n,c,g,h),n,t)}function Qg(e,t,n,r){return!r||!r.setContext||!n?t:II(e,t,n,r)}function II(e,t,n,r){const i=e._chart.getContext(),a=Kg(e.options),{_datasetIndex:c,options:{spanGaps:u}}=e,g=n.length,h=[];let m=a,y=t[0].start,C=y;function E(A,k,D,I){const $=u?-1:1;if(A!==k){for(A+=g;n[A%g].skip;)A-=$;for(;n[k%g].skip;)k+=$;A%g!==k%g&&(h.push({start:A%g,end:k%g,loop:D,style:I}),m=I,y=k%g)}}for(const A of t){y=u?y:A.start;let k=n[y%g],D;for(C=y+1;C<=A.end;C++){const I=n[C%g];D=Kg(r.setContext(ei(i,{type:"segment",p0:k,p1:I,p0DataIndex:(C-1)%g,p1DataIndex:C%g,datasetIndex:c}))),PI(D,m)&&E(y,C-1,A.loop,m),k=I,m=D}y<C-1&&E(y,C-1,A.loop,m)}return h}function Kg(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function PI(e,t){if(!t)return!1;const n=[],r=function(i,a){return Rx(a)?(n.includes(a)||n.push(a),n.indexOf(a)):a};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function Tl(e,t,n){return e.options.clip?e[n]:t[n]}function RI(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:Tl(n,t,"left"),right:Tl(n,t,"right"),top:Tl(r,t,"top"),bottom:Tl(r,t,"bottom")}:t}function OI(e,t){const n=t._clip;if(n.disabled)return!1;const r=RI(t,e.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class NI{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,i){const a=n.listeners[i],c=n.duration;a.forEach(u=>u({chart:t,initial:n.initial,numSteps:c,currentStep:Math.min(r-n.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=Hy.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const a=r.items;let c=a.length-1,u=!1,g;for(;c>=0;--c)g=a[c],g._active?(g._total>r.duration&&(r.duration=g._total),g.tick(t),u=!0):(a[c]=a[a.length-1],a.pop());u&&(i.draw(),this._notify(i,r,t,"progress")),a.length||(r.running=!1,this._notify(i,r,t,"complete"),r.initial=!1),n+=a.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ws=new NI;const Yg="transparent",LI={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=$g(e||Yg),i=r.valid&&$g(t||Yg);return i&&i.valid?i.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class $I{constructor(t,n,r,i){const a=n[r];i=Sl([t.to,i,a,t.from]);const c=Sl([t.from,a,i]);this._active=!0,this._fn=t.fn||LI[t.type||typeof c],this._easing=Ba[t.easing]||Ba.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=c,this._to=i,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],a=r-this._start,c=this._duration-a;this._start=r,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=Sl([t.to,n,i,t.from]),this._from=Sl([t.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,i=this._prop,a=this._from,c=this._loop,u=this._to;let g;if(this._active=a!==u&&(c||n<r),!this._active){this._target[i]=u,this._notify(!0);return}if(n<0){this._target[i]=a;return}g=n/r%2,g=c&&g>1?2-g:g,g=this._easing(Math.min(1,Math.max(0,g))),this._target[i]=this._fn(a,u,g)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class tb{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!It(t))return;const n=Object.keys(hn.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const a=t[i];if(!It(a))return;const c={};for(const u of n)c[u]=a[u];(wn(a.properties)&&a.properties||[i]).forEach(u=>{(u===i||!r.has(u))&&r.set(u,c)})})}_animateOptions(t,n){const r=n.options,i=UI(t,r);if(!i)return[];const a=this._createAnimations(i,r);return r.$shared&&jI(t.options.$animations,r).then(()=>{t.options=r},()=>{}),a}_createAnimations(t,n){const r=this._properties,i=[],a=t.$animations||(t.$animations={}),c=Object.keys(n),u=Date.now();let g;for(g=c.length-1;g>=0;--g){const h=c[g];if(h.charAt(0)==="$")continue;if(h==="options"){i.push(...this._animateOptions(t,n));continue}const m=n[h];let y=a[h];const C=r.get(h);if(y)if(C&&y.active()){y.update(C,m,u);continue}else y.cancel();if(!C||!C.duration){t[h]=m;continue}a[h]=y=new $I(C,t,h,m),i.push(y)}return i}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return ws.add(this._chart,r),!0}}function jI(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const a=e[r[i]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}function UI(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Xg(e,t){const n=e&&e.options||{},r=n.reverse,i=n.min===void 0?t:0,a=n.max===void 0?t:0;return{start:r?a:i,end:r?i:a}}function HI(e,t,n){if(n===!1)return!1;const r=Xg(e,n),i=Xg(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function zI(e){let t,n,r,i;return It(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:e===!1}}function nb(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,a;for(i=0,a=r.length;i<a;++i)n.push(r[i].index);return n}function Zg(e,t,n,r={}){const i=e.keys,a=r.mode==="single";let c,u,g,h;if(t===null)return;let m=!1;for(c=0,u=i.length;c<u;++c){if(g=+i[c],g===n){if(m=!0,r.all)continue;break}h=e.values[g],Nr(h)&&(a||t===0||gs(t)===gs(h))&&(t+=h)}return!m&&!r.all?0:t}function VI(e,t){const{iScale:n,vScale:r}=t,i=n.axis==="x"?"x":"y",a=r.axis==="x"?"x":"y",c=Object.keys(e),u=new Array(c.length);let g,h,m;for(g=0,h=c.length;g<h;++g)m=c[g],u[g]={[i]:m,[a]:e[m]};return u}function Zd(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function qI(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function WI(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function GI(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function Jg(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const a=e[i.index];if(n&&a>0||!n&&a<0)return i.index}return null}function ep(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:a,vScale:c,index:u}=r,g=a.axis,h=c.axis,m=qI(a,c,r),y=t.length;let C;for(let E=0;E<y;++E){const A=t[E],{[g]:k,[h]:D}=A,I=A._stacks||(A._stacks={});C=I[h]=GI(i,m,k),C[u]=D,C._top=Jg(C,c,!0,r.type),C._bottom=Jg(C,c,!1,r.type);const $=C._visualValues||(C._visualValues={});$[u]=D}}function Jd(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function QI(e,t){return ei(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function KI(e,t,n){return ei(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function oa(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const i of t){const a=i._stacks;if(!a||a[r]===void 0||a[r][n]===void 0)return;delete a[r][n],a[r]._visualValues!==void 0&&a[r]._visualValues[n]!==void 0&&delete a[r]._visualValues[n]}}}const eu=e=>e==="reset"||e==="none",tp=(e,t)=>t?e:Object.assign({},e),YI=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:nb(n,!0),values:null};class G0{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Zd(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&oa(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(y,C,E,A)=>y==="x"?C:y==="r"?A:E,a=n.xAxisID=At(r.xAxisID,Jd(t,"x")),c=n.yAxisID=At(r.yAxisID,Jd(t,"y")),u=n.rAxisID=At(r.rAxisID,Jd(t,"r")),g=n.indexAxis,h=n.iAxisID=i(g,a,c,u),m=n.vAxisID=i(g,c,a,u);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(c),n.rScale=this.getScaleForId(u),n.iScale=this.getScaleForId(h),n.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Og(this._data,this),t._stacked&&oa(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(It(n)){const i=this._cachedMeta;this._data=VI(n,i)}else if(r!==n){if(r){Og(r,this);const i=this._cachedMeta;oa(i),i._parsed=[]}n&&Object.isExtensible(n)&&SM(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const a=n._stacked;n._stacked=Zd(n.vScale,n),n.stack!==r.stack&&(i=!0,oa(n),n.stack=r.stack),this._resyncElements(t),(i||a!==n._stacked)&&(ep(this,n._parsed),n._stacked=Zd(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:i}=this,{iScale:a,_stacked:c}=r,u=a.axis;let g=t===0&&n===i.length?!0:r._sorted,h=t>0&&r._parsed[t-1],m,y,C;if(this._parsing===!1)r._parsed=i,r._sorted=!0,C=i;else{wn(i[t])?C=this.parseArrayData(r,i,t,n):It(i[t])?C=this.parseObjectData(r,i,t,n):C=this.parsePrimitiveData(r,i,t,n);const E=()=>y[u]===null||h&&y[u]<h[u];for(m=0;m<n;++m)r._parsed[m+t]=y=C[m],g&&(E()&&(g=!1),h=y);r._sorted=g}c&&ep(this,C)}parsePrimitiveData(t,n,r,i){const{iScale:a,vScale:c}=t,u=a.axis,g=c.axis,h=a.getLabels(),m=a===c,y=new Array(i);let C,E,A;for(C=0,E=i;C<E;++C)A=C+r,y[C]={[u]:m||a.parse(h[A],A),[g]:c.parse(n[A],A)};return y}parseArrayData(t,n,r,i){const{xScale:a,yScale:c}=t,u=new Array(i);let g,h,m,y;for(g=0,h=i;g<h;++g)m=g+r,y=n[m],u[g]={x:a.parse(y[0],m),y:c.parse(y[1],m)};return u}parseObjectData(t,n,r,i){const{xScale:a,yScale:c}=t,{xAxisKey:u="x",yAxisKey:g="y"}=this._parsing,h=new Array(i);let m,y,C,E;for(m=0,y=i;m<y;++m)C=m+r,E=n[C],h[m]={x:a.parse(Qo(E,u),C),y:c.parse(Qo(E,g),C)};return h}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const i=this.chart,a=this._cachedMeta,c=n[t.axis],u={keys:nb(i,!0),values:n._stacks[t.axis]._visualValues};return Zg(u,c,a.index,{mode:r})}updateRangeFromParsed(t,n,r,i){const a=r[n.axis];let c=a===null?NaN:a;const u=i&&r._stacks[n.axis];i&&u&&(i.values=u,c=Zg(i,a,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,n){const r=this._cachedMeta,i=r._parsed,a=r._sorted&&t===r.iScale,c=i.length,u=this._getOtherScale(t),g=YI(n,r,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:y}=WI(u);let C,E;function A(){E=i[C];const k=E[u.axis];return!Nr(E[t.axis])||m>k||y<k}for(C=0;C<c&&!(!A()&&(this.updateRangeFromParsed(h,t,E,g),a));++C);if(a){for(C=c-1;C>=0;--C)if(!A()){this.updateRangeFromParsed(h,t,E,g);break}}return h}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let i,a,c;for(i=0,a=n.length;i<a;++i)c=n[i][t.axis],Nr(c)&&r.push(c);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,i=n.vScale,a=this.getParsed(t);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=zI(At(this.options.clip,HI(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],a=n.chartArea,c=[],u=this._drawStart||0,g=this._drawCount||i.length-u,h=this.options.drawActiveElementsOnTop;let m;for(r.dataset&&r.dataset.draw(t,a,u,g),m=u;m<u+g;++m){const y=i[m];y.hidden||(y.active&&h?c.push(y):y.draw(t,a))}for(m=0;m<c.length;++m)c[m].draw(t,a)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const i=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];a=c.$context||(c.$context=KI(this.getContext(),t,c)),a.parsed=this.getParsed(t),a.raw=i.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=QI(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=r,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const i=n==="active",a=this._cachedDataOpts,c=t+"-"+n,u=a[c],g=this.enableOptionSharing&&ja(r);if(u)return tp(u,g);const h=this.chart.config,m=h.datasetElementScopeKeys(this._type,t),y=i?[`${t}Hover`,"hover",t,""]:[t,""],C=h.getOptionScopes(this.getDataset(),m),E=Object.keys(hn.elements[t]),A=()=>this.getContext(r,i,n),k=h.resolveNamedOptions(C,E,A,y);return k.$shared&&(k.$shared=g,a[c]=Object.freeze(tp(k,g))),k}_resolveAnimations(t,n,r){const i=this.chart,a=this._cachedDataOpts,c=`animation-${n}`,u=a[c];if(u)return u;let g;if(i.options.animation!==!1){const m=this.chart.config,y=m.datasetAnimationScopeKeys(this._type,n),C=m.getOptionScopes(this.getDataset(),y);g=m.createResolver(C,this.getContext(t,r,n))}const h=new tb(i,g&&g.animations);return g&&g._cacheable&&(a[c]=Object.freeze(h)),h}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||eu(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),i=this._sharedOptions,a=this.getSharedOptions(r),c=this.includeOptions(n,a)||a!==i;return this.updateSharedOptions(a,n,r),{sharedOptions:a,includeOptions:c}}updateElement(t,n,r,i){eu(i)?Object.assign(t,r):this._resolveAnimations(n,i).update(t,r)}updateSharedOptions(t,n,r){t&&!eu(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,i){t.active=i;const a=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(t,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[u,g,h]of this._syncList)this[u](g,h);this._syncList=[];const i=r.length,a=n.length,c=Math.min(a,i);c&&this.parse(0,c),a>i?this._insertElements(i,a-i,t):a<i&&this._removeElements(a,i-a)}_insertElements(t,n,r=!0){const i=this._cachedMeta,a=i.data,c=t+n;let u;const g=h=>{for(h.length+=n,u=h.length-1;u>=c;u--)h[u]=h[u-n]};for(g(a),u=t;u<c;++u)a[u]=new this.dataElementType;this._parsing&&g(i._parsed),this.parse(t,n),r&&this.updateElements(a,t,n,"reset")}updateElements(t,n,r,i){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(t,n);r._stacked&&oa(r,i)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,i]=t;this[n](r,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function XI(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let i=0,a=n.length;i<a;i++)r=r.concat(n[i].controller.getAllParsedValues(e));e._cache.$bar=Uy(r.sort((i,a)=>i-a))}return e._cache.$bar}function ZI(e){const t=e.iScale,n=XI(t,e.type);let r=t._length,i,a,c,u;const g=()=>{c===32767||c===-32768||(ja(u)&&(r=Math.min(r,Math.abs(c-u)||r)),u=c)};for(i=0,a=n.length;i<a;++i)c=t.getPixelForValue(n[i]),g();for(u=void 0,i=0,a=t.ticks.length;i<a;++i)c=t.getPixelForTick(i),g();return r}function JI(e,t,n,r){const i=n.barThickness;let a,c;return $t(i)?(a=t.min*n.categoryPercentage,c=n.barPercentage):(a=i*r,c=1),{chunk:a/r,ratio:c,start:t.pixels[e]-a/2}}function eP(e,t,n,r){const i=t.pixels,a=i[e];let c=e>0?i[e-1]:null,u=e<i.length-1?i[e+1]:null;const g=n.categoryPercentage;c===null&&(c=a-(u===null?t.end-t.start:u-a)),u===null&&(u=a+a-c);const h=a-(a-Math.min(c,u))/2*g;return{chunk:Math.abs(u-c)/2*g/r,ratio:n.barPercentage,start:h}}function tP(e,t,n,r){const i=n.parse(e[0],r),a=n.parse(e[1],r),c=Math.min(i,a),u=Math.max(i,a);let g=c,h=u;Math.abs(c)>Math.abs(u)&&(g=u,h=c),t[n.axis]=h,t._custom={barStart:g,barEnd:h,start:i,end:a,min:c,max:u}}function rb(e,t,n,r){return wn(e)?tP(e,t,n,r):t[n.axis]=n.parse(e,r),t}function np(e,t,n,r){const i=e.iScale,a=e.vScale,c=i.getLabels(),u=i===a,g=[];let h,m,y,C;for(h=n,m=n+r;h<m;++h)C=t[h],y={},y[i.axis]=u||i.parse(c[h],h),g.push(rb(C,y,a,h));return g}function tu(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function nP(e,t,n){return e!==0?gs(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function rP(e){let t,n,r,i,a;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",a="start"):(i="start",a="end"),{start:n,end:r,reverse:t,top:i,bottom:a}}function sP(e,t,n,r){let i=t.borderSkipped;const a={};if(!i){e.borderSkipped=a;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:u,reverse:g,top:h,bottom:m}=rP(e);i==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=h:(n._bottom||0)===r?i=m:(a[rp(m,c,u,g)]=!0,i=h)),a[rp(i,c,u,g)]=!0,e.borderSkipped=a}function rp(e,t,n,r){return r?(e=oP(e,t,n),e=sp(e,n,t)):e=sp(e,t,n),e}function oP(e,t,n){return e===t?n:e===n?t:e}function sp(e,t,n){return e==="start"?t:e==="end"?n:e}function iP(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class aP extends G0{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,n,r,i){return np(t,n,r,i)}parseArrayData(t,n,r,i){return np(t,n,r,i)}parseObjectData(t,n,r,i){const{iScale:a,vScale:c}=t,{xAxisKey:u="x",yAxisKey:g="y"}=this._parsing,h=a.axis==="x"?u:g,m=c.axis==="x"?u:g,y=[];let C,E,A,k;for(C=r,E=r+i;C<E;++C)k=n[C],A={},A[a.axis]=a.parse(Qo(k,h),C),y.push(rb(Qo(k,m),A,c,C));return y}updateRangeFromParsed(t,n,r,i){super.updateRangeFromParsed(t,n,r,i);const a=r._custom;a&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:r,vScale:i}=n,a=this.getParsed(t),c=a._custom,u=tu(c)?"["+c.start+", "+c.end+"]":""+i.getLabelForValue(a[i.axis]);return{label:""+r.getLabelForValue(a[r.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,r,i){const a=i==="reset",{index:c,_cachedMeta:{vScale:u}}=this,g=u.getBasePixel(),h=u.isHorizontal(),m=this._getRuler(),{sharedOptions:y,includeOptions:C}=this._getSharedOptions(n,i);for(let E=n;E<n+r;E++){const A=this.getParsed(E),k=a||$t(A[u.axis])?{base:g,head:g}:this._calculateBarValuePixels(E),D=this._calculateBarIndexPixels(E,m),I=(A._stacks||{})[u.axis],$={horizontal:h,base:k.base,enableBorderRadius:!I||tu(A._custom)||c===I._top||c===I._bottom,x:h?k.head:D.center,y:h?D.center:k.head,height:h?D.size:Math.abs(k.size),width:h?Math.abs(k.size):D.size};C&&($.options=y||this.resolveDataElementOptions(E,t[E].active?"active":i));const P=$.options||t[E].options;sP($,P,I,c),iP($,P,m.ratio),this.updateElement(t[E],E,$,i)}}_getStacks(t,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),a=r.options.stacked,c=[],u=this._cachedMeta.controller.getParsed(n),g=u&&u[r.axis],h=m=>{const y=m._parsed.find(E=>E[r.axis]===g),C=y&&y[m.vScale.axis];if($t(C)||isNaN(C))return!0};for(const m of i)if(!(n!==void 0&&h(m))&&((a===!1||c.indexOf(m.stack)===-1||a===void 0&&m.stack===void 0)&&c.push(m.stack),m.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(r=>t[r].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)t[At(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,r){const i=this._getStacks(t,r),a=n!==void 0?i.indexOf(n):-1;return a===-1?i.length-1:a}_getRuler(){const t=this.options,n=this._cachedMeta,r=n.iScale,i=[];let a,c;for(a=0,c=n.data.length;a<c;++a)i.push(r.getPixelForValue(this.getParsed(a)[r.axis],a));const u=t.barThickness;return{min:u||ZI(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:a,minBarLength:c}}=this,u=a||0,g=this.getParsed(t),h=g._custom,m=tu(h);let y=g[n.axis],C=0,E=r?this.applyStack(n,g,r):y,A,k;E!==y&&(C=E-y,E=y),m&&(y=h.barStart,E=h.barEnd-h.barStart,y!==0&&gs(y)!==gs(h.barEnd)&&(C=0),C+=y);const D=!$t(a)&&!m?a:C;let I=n.getPixelForValue(D);if(this.chart.getDataVisibility(t)?A=n.getPixelForValue(C+E):A=I,k=A-I,Math.abs(k)<c){k=nP(k,n,u)*c,y===u&&(I-=k/2);const $=n.getPixelForDecimal(0),P=n.getPixelForDecimal(1),S=Math.min($,P),M=Math.max($,P);I=Math.max(Math.min(I,M),S),A=I+k,r&&!m&&(g._stacks[n.axis]._visualValues[i]=n.getValueForPixel(A)-n.getValueForPixel(I))}if(I===n.getPixelForValue(u)){const $=gs(k)*n.getLineWidthForValue(u)/2;I+=$,k-=$}return{size:k,base:I,head:A,center:A+k/2}}_calculateBarIndexPixels(t,n){const r=n.scale,i=this.options,a=i.skipNull,c=At(i.maxBarThickness,1/0);let u,g;const h=this._getAxisCount();if(n.grouped){const m=a?this._getStackCount(t):n.stackCount,y=i.barThickness==="flex"?eP(t,n,i,m*h):JI(t,n,i,m*h),C=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,E=this._getAxis().indexOf(At(C,this.getFirstScaleIdForIndexAxis())),A=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0)+E;u=y.start+y.chunk*A+y.chunk/2,g=Math.min(c,y.chunk*y.ratio)}else u=r.getPixelForValue(this.getParsed(t)[r.axis],t),g=Math.min(c,n.min*n.ratio);return{base:u-g/2,head:u+g/2,center:u,size:g}}draw(){const t=this._cachedMeta,n=t.vScale,r=t.data,i=r.length;let a=0;for(;a<i;++a)this.getParsed(a)[n.axis]!==null&&!r[a].hidden&&r[a].draw(this._ctx)}}function lP(e,t,n){let r=1,i=1,a=0,c=0;if(t<un){const u=e,g=u+t,h=Math.cos(u),m=Math.sin(u),y=Math.cos(g),C=Math.sin(g),E=(P,S,M)=>Ha(P,u,g,!0)?1:Math.max(S,S*n,M,M*n),A=(P,S,M)=>Ha(P,u,g,!0)?-1:Math.min(S,S*n,M,M*n),k=E(0,h,y),D=E(Cn,m,C),I=A(Ht,h,y),$=A(Ht+Cn,m,C);r=(k-I)/2,i=(D-$)/2,a=-(k+I)/2,c=-(D+$)/2}return{ratioX:r,ratioY:i,offsetX:a,offsetY:c}}class sb extends G0{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data,{labels:{pointStyle:r,textAlign:i,color:a,useBorderRadius:c,borderRadius:u}}=t.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((g,h)=>{const y=t.getDatasetMeta(0).controller.getStyle(h);return{text:g,fillStyle:y.backgroundColor,fontColor:a,hidden:!t.getDataVisibility(h),lineDash:y.borderDash,lineDashOffset:y.borderDashOffset,lineJoin:y.borderJoinStyle,lineWidth:y.borderWidth,strokeStyle:y.borderColor,textAlign:i,pointStyle:r,borderRadius:c&&(u||y.borderRadius),index:h}}):[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let a=g=>+r[g];if(It(r[t])){const{key:g="value"}=this._parsing;a=h=>+Qo(r[h],g)}let c,u;for(c=t,u=t+n;c<u;++c)i._parsed[c]=a(c)}}_getRotation(){return Ts(this.options.rotation-90)}_getCircumference(){return Ts(this.options.circumference)}_getRotationExtents(){let t=un,n=-un;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,a=i._getRotation(),c=i._getCircumference();t=Math.min(t,a),n=Math.max(n,a+c)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,a=i.data,c=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,u=Math.max((Math.min(r.width,r.height)-c)/2,0),g=Math.min(xM(this.options.cutout,u),1),h=this._getRingWeight(this.index),{circumference:m,rotation:y}=this._getRotationExtents(),{ratioX:C,ratioY:E,offsetX:A,offsetY:k}=lP(y,m,g),D=(r.width-c)/C,I=(r.height-c)/E,$=Math.max(Math.min(D,I)/2,0),P=Oy(this.options.radius,$),S=Math.max(P*g,0),M=(P-S)/this._getVisibleDatasetWeightTotal();this.offsetX=A*P,this.offsetY=k*P,i.total=this.calculateTotal(),this.outerRadius=P-M*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-M*h,0),this.updateElements(a,0,a.length,t)}_circumference(t,n){const r=this.options,i=this._cachedMeta,a=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*a/un)}updateElements(t,n,r,i){const a=i==="reset",c=this.chart,u=c.chartArea,h=c.options.animation,m=(u.left+u.right)/2,y=(u.top+u.bottom)/2,C=a&&h.animateScale,E=C?0:this.innerRadius,A=C?0:this.outerRadius,{sharedOptions:k,includeOptions:D}=this._getSharedOptions(n,i);let I=this._getRotation(),$;for($=0;$<n;++$)I+=this._circumference($,a);for($=n;$<n+r;++$){const P=this._circumference($,a),S=t[$],M={x:m+this.offsetX,y:y+this.offsetY,startAngle:I,endAngle:I+P,circumference:P,outerRadius:A,innerRadius:E};D&&(M.options=k||this.resolveDataElementOptions($,S.active?"active":i)),I+=P,this.updateElement(S,$,M,i)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let r=0,i;for(i=0;i<n.length;i++){const a=t._parsed[i];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(a))}return r}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?un*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],a=Ox(n._parsed[t],r.options.locale);return{label:i[t]||"",value:a}}getMaxBorderWidth(t){let n=0;const r=this.chart;let i,a,c,u,g;if(!t){for(i=0,a=r.data.datasets.length;i<a;++i)if(r.isDatasetVisible(i)){c=r.getDatasetMeta(i),t=c.data,u=c.controller;break}}if(!t)return 0;for(i=0,a=t.length;i<a;++i)g=u.resolveDataElementOptions(i),g.borderAlign!=="inner"&&(n=Math.max(n,g.borderWidth||0,g.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let r=0,i=t.length;r<i;++r){const a=this.resolveDataElementOptions(r);n=Math.max(n,a.offset||0,a.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(t){return Math.max(At(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class cP extends G0{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:a}=n,c=this.chart._animationsDisabled;let{start:u,count:g}=MM(n,i,c);this._drawStart=u,this._drawCount=g,IM(n)&&(u=0,g=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=i;const h=this.resolveDatasetElementOptions(t);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(r,void 0,{animated:!c,options:h},t),this.updateElements(i,u,g,t)}updateElements(t,n,r,i){const a=i==="reset",{iScale:c,vScale:u,_stacked:g,_dataset:h}=this._cachedMeta,{sharedOptions:m,includeOptions:y}=this._getSharedOptions(n,i),C=c.axis,E=u.axis,{spanGaps:A,segment:k}=this.options,D=Ua(A)?A:Number.POSITIVE_INFINITY,I=this.chart._animationsDisabled||a||i==="none",$=n+r,P=t.length;let S=n>0&&this.getParsed(n-1);for(let M=0;M<P;++M){const j=t[M],L=I?j:{};if(M<n||M>=$){L.skip=!0;continue}const q=this.getParsed(M),T=$t(q[E]),Q=L[C]=c.getPixelForValue(q[C],M),oe=L[E]=a||T?u.getBasePixel():u.getPixelForValue(g?this.applyStack(u,q,g):q[E],M);L.skip=isNaN(Q)||isNaN(oe)||T,L.stop=M>0&&Math.abs(q[C]-S[C])>D,k&&(L.parsed=q,L.raw=h.data[M]),y&&(L.options=m||this.resolveDataElementOptions(M,j.active?"active":i)),I||this.updateElement(j,M,L,i),S=q}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,r=n.options&&n.options.borderWidth||0,i=t.data||[];if(!i.length)return r;const a=i[0].size(this.resolveDataElementOptions(0)),c=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,a,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class dP extends sb{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function ko(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class qx{static override(t){Object.assign(qx.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return ko()}parse(){return ko()}format(){return ko()}add(){return ko()}diff(){return ko()}startOf(){return ko()}endOf(){return ko()}}var uP={_date:qx};function xP(e,t,n,r){const{controller:i,data:a,_sorted:c}=e,u=i._cachedMeta.iScale,g=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&c&&a.length){const h=u._reversePixels?kM:Ro;if(r){if(i._sharedOptions){const m=a[0],y=typeof m.getRange=="function"&&m.getRange(t);if(y){const C=h(a,t,n-y),E=h(a,t,n+y);return{lo:C.lo,hi:E.hi}}}}else{const m=h(a,t,n);if(g){const{vScale:y}=i._cachedMeta,{_parsed:C}=e,E=C.slice(0,m.lo+1).reverse().findIndex(k=>!$t(k[y.axis]));m.lo-=Math.max(0,E);const A=C.slice(m.hi).findIndex(k=>!$t(k[y.axis]));m.hi+=Math.max(0,A)}return m}}return{lo:0,hi:a.length-1}}function Q0(e,t,n,r,i){const a=e.getSortedVisibleDatasetMetas(),c=n[t];for(let u=0,g=a.length;u<g;++u){const{index:h,data:m}=a[u],{lo:y,hi:C}=xP(a[u],t,c,i);for(let E=y;E<=C;++E){const A=m[E];A.skip||r(A,h,E)}}}function fP(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,i){const a=t?Math.abs(r.x-i.x):0,c=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(c,2))}}function nu(e,t,n,r,i){const a=[];return!i&&!e.isPointInArea(t)||Q0(e,n,t,function(u,g,h){!i&&!za(u,e.chartArea,0)||u.inRange(t.x,t.y,r)&&a.push({element:u,datasetIndex:g,index:h})},!0),a}function hP(e,t,n,r){let i=[];function a(c,u,g){const{startAngle:h,endAngle:m}=c.getProps(["startAngle","endAngle"],r),{angle:y}=$y(c,{x:t.x,y:t.y});Ha(y,h,m)&&i.push({element:c,datasetIndex:u,index:g})}return Q0(e,n,t,a),i}function gP(e,t,n,r,i,a){let c=[];const u=fP(n);let g=Number.POSITIVE_INFINITY;function h(m,y,C){const E=m.inRange(t.x,t.y,i);if(r&&!E)return;const A=m.getCenterPoint(i);if(!(!!a||e.isPointInArea(A))&&!E)return;const D=u(t,A);D<g?(c=[{element:m,datasetIndex:y,index:C}],g=D):D===g&&c.push({element:m,datasetIndex:y,index:C})}return Q0(e,n,t,h),c}function ru(e,t,n,r,i,a){return!a&&!e.isPointInArea(t)?[]:n==="r"&&!r?hP(e,t,n,i):gP(e,t,n,r,i,a)}function op(e,t,n,r,i){const a=[],c=n==="x"?"inXRange":"inYRange";let u=!1;return Q0(e,n,t,(g,h,m)=>{g[c]&&g[c](t[n],i)&&(a.push({element:g,datasetIndex:h,index:m}),u=u||g.inRange(t.x,t.y,i))}),r&&!u?[]:a}var pP={modes:{index(e,t,n,r){const i=So(t,e),a=n.axis||"x",c=n.includeInvisible||!1,u=n.intersect?nu(e,i,a,r,c):ru(e,i,a,!1,r,c),g=[];return u.length?(e.getSortedVisibleDatasetMetas().forEach(h=>{const m=u[0].index,y=h.data[m];y&&!y.skip&&g.push({element:y,datasetIndex:h.index,index:m})}),g):[]},dataset(e,t,n,r){const i=So(t,e),a=n.axis||"xy",c=n.includeInvisible||!1;let u=n.intersect?nu(e,i,a,r,c):ru(e,i,a,!1,r,c);if(u.length>0){const g=u[0].datasetIndex,h=e.getDatasetMeta(g).data;u=[];for(let m=0;m<h.length;++m)u.push({element:h[m],datasetIndex:g,index:m})}return u},point(e,t,n,r){const i=So(t,e),a=n.axis||"xy",c=n.includeInvisible||!1;return nu(e,i,a,r,c)},nearest(e,t,n,r){const i=So(t,e),a=n.axis||"xy",c=n.includeInvisible||!1;return ru(e,i,a,n.intersect,r,c)},x(e,t,n,r){const i=So(t,e);return op(e,i,"x",n.intersect,r)},y(e,t,n,r){const i=So(t,e);return op(e,i,"y",n.intersect,r)}}};const ob=["left","top","right","bottom"];function ia(e,t){return e.filter(n=>n.pos===t)}function ip(e,t){return e.filter(n=>ob.indexOf(n.pos)===-1&&n.box.axis===t)}function aa(e,t){return e.sort((n,r)=>{const i=t?r:n,a=t?n:r;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function mP(e){const t=[];let n,r,i,a,c,u;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],{position:a,options:{stack:c,stackWeight:u=1}}=i,t.push({index:n,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:c&&a+c,stackWeight:u});return t}function yP(e){const t={};for(const n of e){const{stack:r,pos:i,stackWeight:a}=n;if(!r||!ob.includes(i))continue;const c=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=a}return t}function bP(e,t){const n=yP(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let a,c,u;for(a=0,c=e.length;a<c;++a){u=e[a];const{fullSize:g}=u.box,h=n[u.stack],m=h&&u.stackWeight/h.weight;u.horizontal?(u.width=m?m*r:g&&t.availableWidth,u.height=i):(u.width=r,u.height=m?m*i:g&&t.availableHeight)}return n}function vP(e){const t=mP(e),n=aa(t.filter(h=>h.box.fullSize),!0),r=aa(ia(t,"left"),!0),i=aa(ia(t,"right")),a=aa(ia(t,"top"),!0),c=aa(ia(t,"bottom")),u=ip(t,"x"),g=ip(t,"y");return{fullSize:n,leftAndTop:r.concat(a),rightAndBottom:i.concat(g).concat(c).concat(u),chartArea:ia(t,"chartArea"),vertical:r.concat(i).concat(g),horizontal:a.concat(c).concat(u)}}function ap(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function ib(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function EP(e,t,n,r){const{pos:i,box:a}=n,c=e.maxPadding;if(!It(i)){n.size&&(e[i]-=n.size);const y=r[n.stack]||{size:0,count:1};y.size=Math.max(y.size,n.horizontal?a.height:a.width),n.size=y.size/y.count,e[i]+=n.size}a.getPadding&&ib(c,a.getPadding());const u=Math.max(0,t.outerWidth-ap(c,e,"left","right")),g=Math.max(0,t.outerHeight-ap(c,e,"top","bottom")),h=u!==e.w,m=g!==e.h;return e.w=u,e.h=g,n.horizontal?{same:h,other:m}:{same:m,other:h}}function wP(e){const t=e.maxPadding;function n(r){const i=Math.max(t[r]-e[r],0);return e[r]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function CP(e,t){const n=t.maxPadding;function r(i){const a={left:0,top:0,right:0,bottom:0};return i.forEach(c=>{a[c]=Math.max(t[c],n[c])}),a}return r(e?["left","right"]:["top","bottom"])}function ha(e,t,n,r){const i=[];let a,c,u,g,h,m;for(a=0,c=e.length,h=0;a<c;++a){u=e[a],g=u.box,g.update(u.width||t.w,u.height||t.h,CP(u.horizontal,t));const{same:y,other:C}=EP(t,n,u,r);h|=y&&i.length,m=m||C,g.fullSize||i.push(u)}return h&&ha(i,t,n,r)||m}function Ml(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function lp(e,t,n,r){const i=n.padding;let{x:a,y:c}=t;for(const u of e){const g=u.box,h=r[u.stack]||{placed:0,weight:1},m=u.stackWeight/h.weight||1;if(u.horizontal){const y=t.w*m,C=h.size||g.height;ja(h.start)&&(c=h.start),g.fullSize?Ml(g,i.left,c,n.outerWidth-i.right-i.left,C):Ml(g,t.left+h.placed,c,y,C),h.start=c,h.placed+=y,c=g.bottom}else{const y=t.h*m,C=h.size||g.width;ja(h.start)&&(a=h.start),g.fullSize?Ml(g,a,i.top,C,n.outerHeight-i.bottom-i.top):Ml(g,a,t.top+h.placed,C,y),h.start=a,h.placed+=y,a=g.right}}t.x=a,t.y=c}var Ir={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=Lr(e.options.layout.padding),a=Math.max(t-i.width,0),c=Math.max(n-i.height,0),u=vP(e.boxes),g=u.vertical,h=u.horizontal;Ut(e.boxes,k=>{typeof k.beforeLayout=="function"&&k.beforeLayout()});const m=g.reduce((k,D)=>D.box.options&&D.box.options.display===!1?k:k+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:a,availableHeight:c,vBoxMaxWidth:a/2/m,hBoxMaxHeight:c/2}),C=Object.assign({},i);ib(C,Lr(r));const E=Object.assign({maxPadding:C,w:a,h:c,x:i.left,y:i.top},i),A=bP(g.concat(h),y);ha(u.fullSize,E,y,A),ha(g,E,y,A),ha(h,E,y,A)&&ha(g,E,y,A),wP(E),lp(u.leftAndTop,E,y,A),E.x+=E.w,E.y+=E.h,lp(u.rightAndBottom,E,y,A),e.chartArea={left:E.left,top:E.top,right:E.left+E.w,bottom:E.top+E.h,height:E.h,width:E.w},Ut(u.chartArea,k=>{const D=k.box;Object.assign(D,e.chartArea),D.update(E.w,E.h,{left:0,top:0,right:0,bottom:0})})}};class ab{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,i){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(t){return!0}updateConfig(t){}}class AP extends ab{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Kl="$chartjs",BP={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},cp=e=>e===null||e==="";function _P(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[Kl]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",cp(i)){const a=Wg(e,"width");a!==void 0&&(e.width=a)}if(cp(r))if(e.style.height==="")e.height=e.width/(t||2);else{const a=Wg(e,"height");a!==void 0&&(e.height=a)}return e}const lb=wI?{passive:!0}:!1;function kP(e,t,n){e&&e.addEventListener(t,n,lb)}function DP(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,lb)}function SP(e,t){const n=BP[e.type]||e.type,{x:r,y:i}=So(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:i!==void 0?i:null}}function A0(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function FP(e,t,n){const r=e.canvas,i=new MutationObserver(a=>{let c=!1;for(const u of a)c=c||A0(u.addedNodes,r),c=c&&!A0(u.removedNodes,r);c&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function TP(e,t,n){const r=e.canvas,i=new MutationObserver(a=>{let c=!1;for(const u of a)c=c||A0(u.removedNodes,r),c=c&&!A0(u.addedNodes,r);c&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const qa=new Map;let dp=0;function cb(){const e=window.devicePixelRatio;e!==dp&&(dp=e,qa.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function MP(e,t){qa.size||window.addEventListener("resize",cb),qa.set(e,t)}function IP(e){qa.delete(e),qa.size||window.removeEventListener("resize",cb)}function PP(e,t,n){const r=e.canvas,i=r&&Vx(r);if(!i)return;const a=zy((u,g)=>{const h=i.clientWidth;n(u,g),h<i.clientWidth&&n()},window),c=new ResizeObserver(u=>{const g=u[0],h=g.contentRect.width,m=g.contentRect.height;h===0&&m===0||a(h,m)});return c.observe(i),MP(e,a),c}function su(e,t,n){n&&n.disconnect(),t==="resize"&&IP(e)}function RP(e,t,n){const r=e.canvas,i=zy(a=>{e.ctx!==null&&n(SP(a,e))},e);return kP(r,t,i),i}class OP extends ab{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(_P(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[Kl])return!1;const r=n[Kl].initial;["height","width"].forEach(a=>{const c=r[a];$t(c)?n.removeAttribute(a):n.setAttribute(a,c)});const i=r.style||{};return Object.keys(i).forEach(a=>{n.style[a]=i[a]}),n.width=n.width,delete n[Kl],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const i=t.$proxies||(t.$proxies={}),c={attach:FP,detach:TP,resize:PP}[n]||RP;i[n]=c(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),i=r[n];if(!i)return;({attach:su,detach:su,resize:su}[n]||DP)(t,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,i){return EI(t,n,r,i)}isAttached(t){const n=t&&Vx(t);return!!(n&&n.isConnected)}}function NP(e){return!zx()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?AP:OP}let $s=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return Ua(this.x)&&Ua(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const i={};return t.forEach(a=>{i[a]=r[a]&&r[a].active()?r[a]._to:this[a]}),i}};function LP(e,t){const n=e.options.ticks,r=$P(e),i=Math.min(n.maxTicksLimit||r,r),a=n.major.enabled?UP(t):[],c=a.length,u=a[0],g=a[c-1],h=[];if(c>i)return HP(t,h,a,c/i),h;const m=jP(a,t,i);if(c>0){let y,C;const E=c>1?Math.round((g-u)/(c-1)):null;for(Il(t,h,m,$t(E)?0:u-E,u),y=0,C=c-1;y<C;y++)Il(t,h,m,a[y],a[y+1]);return Il(t,h,m,g,$t(E)?t.length:g+E),h}return Il(t,h,m),h}function $P(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}function jP(e,t,n){const r=zP(e),i=t.length/n;if(!r)return Math.max(i,1);const a=vM(r);for(let c=0,u=a.length-1;c<u;c++){const g=a[c];if(g>i)return g}return Math.max(i,1)}function UP(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function HP(e,t,n,r){let i=0,a=n[0],c;for(r=Math.ceil(r),c=0;c<e.length;c++)c===a&&(t.push(e[c]),i++,a=n[i*r])}function Il(e,t,n,r,i){const a=At(r,0),c=Math.min(At(i,e.length),e.length);let u=0,g,h,m;for(n=Math.ceil(n),i&&(g=i-r,n=g/Math.floor(g/n)),m=a;m<0;)u++,m=Math.round(a+u*n);for(h=Math.max(a,0);h<c;h++)h===m&&(t.push(e[h]),u++,m=Math.round(a+u*n))}function zP(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const VP=e=>e==="left"?"right":e==="right"?"left":e,up=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,xp=(e,t)=>Math.min(t||e,e);function fp(e,t){const n=[],r=e.length/t,i=e.length;let a=0;for(;a<i;a+=r)n.push(e[Math.floor(a)]);return n}function qP(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),a=e._startPixel,c=e._endPixel,u=1e-6;let g=e.getPixelForTick(i),h;if(!(n&&(r===1?h=Math.max(g-a,c-g):t===0?h=(e.getPixelForTick(1)-g)/2:h=(g-e.getPixelForTick(i-1))/2,g+=i<t?h:-h,g<a-u||g>c+u)))return g}function WP(e,t){Ut(e,n=>{const r=n.gc,i=r.length/2;let a;if(i>t){for(a=0;a<i;++a)delete n.data[r[a]];r.splice(0,i)}})}function la(e){return e.drawTicks?e.tickLength:0}function hp(e,t){if(!e.display)return 0;const n=Wn(e.font,t),r=Lr(e.padding);return(wn(e.text)?e.text.length:1)*n.lineHeight+r.height}function GP(e,t){return ei(e,{scale:t,type:"scale"})}function QP(e,t,n){return ei(e,{tick:n,index:t,type:"tick"})}function KP(e,t,n){let r=Px(e);return(n&&t!=="right"||!n&&t==="right")&&(r=VP(r)),r}function YP(e,t,n,r){const{top:i,left:a,bottom:c,right:u,chart:g}=e,{chartArea:h,scales:m}=g;let y=0,C,E,A;const k=c-i,D=u-a;if(e.isHorizontal()){if(E=Un(r,a,u),It(n)){const I=Object.keys(n)[0],$=n[I];A=m[I].getPixelForValue($)+k-t}else n==="center"?A=(h.bottom+h.top)/2+k-t:A=up(e,n,t);C=u-a}else{if(It(n)){const I=Object.keys(n)[0],$=n[I];E=m[I].getPixelForValue($)-D+t}else n==="center"?E=(h.left+h.right)/2-D+t:E=up(e,n,t);A=Un(r,c,i),y=n==="left"?-Cn:Cn}return{titleX:E,titleY:A,maxWidth:C,rotation:y}}class zi extends $s{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return t=as(t,Number.POSITIVE_INFINITY),n=as(n,Number.NEGATIVE_INFINITY),r=as(r,Number.POSITIVE_INFINITY),i=as(i,Number.NEGATIVE_INFINITY),{min:as(t,r),max:as(n,i),minDefined:Nr(t),maxDefined:Nr(n)}}getMinMax(t){let{min:n,max:r,minDefined:i,maxDefined:a}=this.getUserBounds(),c;if(i&&a)return{min:n,max:r};const u=this.getMatchingVisibleMetas();for(let g=0,h=u.length;g<h;++g)c=u[g].controller.getMinMax(this,t),i||(n=Math.min(n,c.min)),a||(r=Math.max(r,c.max));return n=a&&n>r?r:n,r=i&&n>r?n:r,{min:as(n,as(r,n)),max:as(r,as(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){nn(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:i,grace:a,ticks:c}=this.options,u=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=JM(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const g=u<this.ticks.length;this._convertTicksToLabels(g?fp(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=LP(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),g&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){nn(this.options.afterUpdate,[this])}beforeSetDimensions(){nn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){nn(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),nn(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){nn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,i,a;for(r=0,i=t.length;r<i;r++)a=t[r],a.label=nn(n.callback,[a.value,r,t],this)}afterTickToLabelConversion(){nn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){nn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=xp(this.ticks.length,t.ticks.maxTicksLimit),i=n.minRotation||0,a=n.maxRotation;let c=i,u,g,h;if(!this._isVisible()||!n.display||i>=a||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const m=this._getLabelSizes(),y=m.widest.width,C=m.highest.height,E=qn(this.chart.width-y,0,this.maxWidth);u=t.offset?this.maxWidth/r:E/(r-1),y+6>u&&(u=E/(r-(t.offset?.5:1)),g=this.maxHeight-la(t.grid)-n.padding-hp(t.title,this.chart.options.font),h=Math.sqrt(y*y+C*C),c=AM(Math.min(Math.asin(qn((m.highest.height+6)/u,-1,1)),Math.asin(qn(g/h,-1,1))-Math.asin(qn(C/h,-1,1)))),c=Math.max(i,Math.min(a,c))),this.labelRotation=c}afterCalculateLabelRotation(){nn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){nn(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:a}}=this,c=this._isVisible(),u=this.isHorizontal();if(c){const g=hp(i,n.options.font);if(u?(t.width=this.maxWidth,t.height=la(a)+g):(t.height=this.maxHeight,t.width=la(a)+g),r.display&&this.ticks.length){const{first:h,last:m,widest:y,highest:C}=this._getLabelSizes(),E=r.padding*2,A=Ts(this.labelRotation),k=Math.cos(A),D=Math.sin(A);if(u){const I=r.mirror?0:D*y.width+k*C.height;t.height=Math.min(this.maxHeight,t.height+I+E)}else{const I=r.mirror?0:k*y.width+D*C.height;t.width=Math.min(this.maxWidth,t.width+I+E)}this._calculatePadding(h,m,D,k)}}this._handleMargins(),u?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,i){const{ticks:{align:a,padding:c},position:u}=this.options,g=this.labelRotation!==0,h=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let C=0,E=0;g?h?(C=i*t.width,E=r*n.height):(C=r*t.height,E=i*n.width):a==="start"?E=n.width:a==="end"?C=t.width:a!=="inner"&&(C=t.width/2,E=n.width/2),this.paddingLeft=Math.max((C-m+c)*this.width/(this.width-m),0),this.paddingRight=Math.max((E-y+c)*this.width/(this.width-y),0)}else{let m=n.height/2,y=t.height/2;a==="start"?(m=0,y=t.height):a==="end"&&(m=n.height,y=0),this.paddingTop=m+c,this.paddingBottom=y+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){nn(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)$t(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=fp(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:i,_longestTextCache:a}=this,c=[],u=[],g=Math.floor(n/xp(n,r));let h=0,m=0,y,C,E,A,k,D,I,$,P,S,M;for(y=0;y<n;y+=g){if(A=t[y].label,k=this._resolveTickFontOptions(y),i.font=D=k.string,I=a[D]=a[D]||{data:{},gc:[]},$=k.lineHeight,P=S=0,!$t(A)&&!wn(A))P=Ug(i,I.data,I.gc,P,A),S=$;else if(wn(A))for(C=0,E=A.length;C<E;++C)M=A[C],!$t(M)&&!wn(M)&&(P=Ug(i,I.data,I.gc,P,M),S+=$);c.push(P),u.push(S),h=Math.max(P,h),m=Math.max(S,m)}WP(a,n);const j=c.indexOf(h),L=u.indexOf(m),q=T=>({width:c[T]||0,height:u[T]||0});return{first:q(0),last:q(n-1),widest:q(j),highest:q(L),widths:c,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return _M(this._alignToPixels?_o(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=QP(this.getContext(),t,r))}return this.$context||(this.$context=GP(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Ts(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),a=this._getLabelSizes(),c=t.autoSkipPadding||0,u=a?a.widest.width+c:0,g=a?a.highest.height+c:0;return this.isHorizontal()?g*r>u*i?u/r:g/i:g*i<u*r?g/r:u/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,i=this.options,{grid:a,position:c,border:u}=i,g=a.offset,h=this.isHorizontal(),y=this.ticks.length+(g?1:0),C=la(a),E=[],A=u.setContext(this.getContext()),k=A.display?A.width:0,D=k/2,I=function(Ee){return _o(r,Ee,k)};let $,P,S,M,j,L,q,T,Q,oe,Y,le;if(c==="top")$=I(this.bottom),L=this.bottom-C,T=$-D,oe=I(t.top)+D,le=t.bottom;else if(c==="bottom")$=I(this.top),oe=t.top,le=I(t.bottom)-D,L=$+D,T=this.top+C;else if(c==="left")$=I(this.right),j=this.right-C,q=$-D,Q=I(t.left)+D,Y=t.right;else if(c==="right")$=I(this.left),Q=t.left,Y=I(t.right)-D,j=$+D,q=this.left+C;else if(n==="x"){if(c==="center")$=I((t.top+t.bottom)/2+.5);else if(It(c)){const Ee=Object.keys(c)[0],ve=c[Ee];$=I(this.chart.scales[Ee].getPixelForValue(ve))}oe=t.top,le=t.bottom,L=$+D,T=L+C}else if(n==="y"){if(c==="center")$=I((t.left+t.right)/2);else if(It(c)){const Ee=Object.keys(c)[0],ve=c[Ee];$=I(this.chart.scales[Ee].getPixelForValue(ve))}j=$-D,q=j-C,Q=t.left,Y=t.right}const ye=At(i.ticks.maxTicksLimit,y),re=Math.max(1,Math.ceil(y/ye));for(P=0;P<y;P+=re){const Ee=this.getContext(P),ve=a.setContext(Ee),Ce=u.setContext(Ee),he=ve.lineWidth,ae=ve.color,ee=Ce.dash||[],Ie=Ce.dashOffset,$e=ve.tickWidth,Ne=ve.tickColor,tt=ve.tickBorderDash||[],Re=ve.tickBorderDashOffset;S=qP(this,P,g),S!==void 0&&(M=_o(r,S,he),h?j=q=Q=Y=M:L=T=oe=le=M,E.push({tx1:j,ty1:L,tx2:q,ty2:T,x1:Q,y1:oe,x2:Y,y2:le,width:he,color:ae,borderDash:ee,borderDashOffset:Ie,tickWidth:$e,tickColor:Ne,tickBorderDash:tt,tickBorderDashOffset:Re}))}return this._ticksLength=y,this._borderValue=$,E}_computeLabelItems(t){const n=this.axis,r=this.options,{position:i,ticks:a}=r,c=this.isHorizontal(),u=this.ticks,{align:g,crossAlign:h,padding:m,mirror:y}=a,C=la(r.grid),E=C+m,A=y?-m:E,k=-Ts(this.labelRotation),D=[];let I,$,P,S,M,j,L,q,T,Q,oe,Y,le="middle";if(i==="top")j=this.bottom-A,L=this._getXAxisLabelAlignment();else if(i==="bottom")j=this.top+A,L=this._getXAxisLabelAlignment();else if(i==="left"){const re=this._getYAxisLabelAlignment(C);L=re.textAlign,M=re.x}else if(i==="right"){const re=this._getYAxisLabelAlignment(C);L=re.textAlign,M=re.x}else if(n==="x"){if(i==="center")j=(t.top+t.bottom)/2+E;else if(It(i)){const re=Object.keys(i)[0],Ee=i[re];j=this.chart.scales[re].getPixelForValue(Ee)+E}L=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")M=(t.left+t.right)/2-E;else if(It(i)){const re=Object.keys(i)[0],Ee=i[re];M=this.chart.scales[re].getPixelForValue(Ee)}L=this._getYAxisLabelAlignment(C).textAlign}n==="y"&&(g==="start"?le="top":g==="end"&&(le="bottom"));const ye=this._getLabelSizes();for(I=0,$=u.length;I<$;++I){P=u[I],S=P.label;const re=a.setContext(this.getContext(I));q=this.getPixelForTick(I)+a.labelOffset,T=this._resolveTickFontOptions(I),Q=T.lineHeight,oe=wn(S)?S.length:1;const Ee=oe/2,ve=re.color,Ce=re.textStrokeColor,he=re.textStrokeWidth;let ae=L;c?(M=q,L==="inner"&&(I===$-1?ae=this.options.reverse?"left":"right":I===0?ae=this.options.reverse?"right":"left":ae="center"),i==="top"?h==="near"||k!==0?Y=-oe*Q+Q/2:h==="center"?Y=-ye.highest.height/2-Ee*Q+Q:Y=-ye.highest.height+Q/2:h==="near"||k!==0?Y=Q/2:h==="center"?Y=ye.highest.height/2-Ee*Q:Y=ye.highest.height-oe*Q,y&&(Y*=-1),k!==0&&!re.showLabelBackdrop&&(M+=Q/2*Math.sin(k))):(j=q,Y=(1-oe)*Q/2);let ee;if(re.showLabelBackdrop){const Ie=Lr(re.backdropPadding),$e=ye.heights[I],Ne=ye.widths[I];let tt=Y-Ie.top,Re=0-Ie.left;switch(le){case"middle":tt-=$e/2;break;case"bottom":tt-=$e;break}switch(L){case"center":Re-=Ne/2;break;case"right":Re-=Ne;break;case"inner":I===$-1?Re-=Ne:I>0&&(Re-=Ne/2);break}ee={left:Re,top:tt,width:Ne+Ie.width,height:$e+Ie.height,color:re.backdropColor}}D.push({label:S,font:T,textOffset:Y,options:{rotation:k,color:ve,strokeColor:Ce,strokeWidth:he,textAlign:ae,textBaseline:le,translation:[M,j],backdrop:ee}})}return D}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Ts(this.labelRotation))return t==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:i,padding:a}}=this.options,c=this._getLabelSizes(),u=t+a,g=c.widest.width;let h,m;return n==="left"?i?(m=this.right+a,r==="near"?h="left":r==="center"?(h="center",m+=g/2):(h="right",m+=g)):(m=this.right-u,r==="near"?h="right":r==="center"?(h="center",m-=g/2):(h="left",m=this.left)):n==="right"?i?(m=this.left+a,r==="near"?h="right":r==="center"?(h="center",m-=g/2):(h="left",m-=g)):(m=this.left+u,r==="near"?h="left":r==="center"?(h="center",m+=g/2):(h="right",m=this.right)):h="right",{textAlign:h,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:i,width:a,height:c}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,i,a,c),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(a=>a.value===t);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,c;const u=(g,h,m)=>{!m.width||!m.color||(r.save(),r.lineWidth=m.width,r.strokeStyle=m.color,r.setLineDash(m.borderDash||[]),r.lineDashOffset=m.borderDashOffset,r.beginPath(),r.moveTo(g.x,g.y),r.lineTo(h.x,h.y),r.stroke(),r.restore())};if(n.display)for(a=0,c=i.length;a<c;++a){const g=i[a];n.drawOnChartArea&&u({x:g.x1,y:g.y1},{x:g.x2,y:g.y2},g),n.drawTicks&&u({x:g.tx1,y:g.ty1},{x:g.tx2,y:g.ty2},{color:g.tickColor,width:g.tickWidth,borderDash:g.tickBorderDash,borderDashOffset:g.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:i}}=this,a=r.setContext(this.getContext()),c=r.display?a.width:0;if(!c)return;const u=i.setContext(this.getContext(0)).lineWidth,g=this._borderValue;let h,m,y,C;this.isHorizontal()?(h=_o(t,this.left,c)-c/2,m=_o(t,this.right,u)+u/2,y=C=g):(y=_o(t,this.top,c)-c/2,C=_o(t,this.bottom,u)+u/2,h=m=g),n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.beginPath(),n.moveTo(h,y),n.lineTo(m,C),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&Nx(r,i);const a=this.getLabelItems(t);for(const c of a){const u=c.options,g=c.font,h=c.label,m=c.textOffset;Va(r,h,0,m,g,u)}i&&Lx(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const a=Wn(r.font),c=Lr(r.padding),u=r.align;let g=a.lineHeight/2;n==="bottom"||n==="center"||It(n)?(g+=c.bottom,wn(r.text)&&(g+=a.lineHeight*(r.text.length-1))):g+=c.top;const{titleX:h,titleY:m,maxWidth:y,rotation:C}=YP(this,g,n,u);Va(t,r.text,0,0,a,{color:r.color,maxWidth:y,rotation:C,textAlign:KP(u,n,i),textBaseline:"middle",translation:[h,m]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=At(t.grid&&t.grid.z,-1),i=At(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==zi.prototype.draw?[{z:n,draw:a=>{this.draw(a)}}]:[{z:r,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let a,c;for(a=0,c=n.length;a<c;++a){const u=n[a];u[r]===this.id&&(!t||u.type===t)&&i.push(u)}return i}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Wn(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Pl{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;JP(n)&&(r=this.register(n));const i=this.items,a=t.id,c=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in i||(i[a]=t,XP(t,c,r),this.override&&hn.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,i=this.scope;r in n&&delete n[r],i&&r in hn[i]&&(delete hn[i][r],this.override&&delete Ko[r])}}function XP(e,t,n){const r=$a(Object.create(null),[n?hn.get(n):{},hn.get(t),e.defaults]);hn.set(t,r),e.defaultRoutes&&ZP(t,e.defaultRoutes),e.descriptors&&hn.describe(t,e.descriptors)}function ZP(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),i=r.pop(),a=[e].concat(r).join("."),c=t[n].split("."),u=c.pop(),g=c.join(".");hn.route(a,i,g,u)})}function JP(e){return"id"in e&&"defaults"in e}class eR{constructor(){this.controllers=new Pl(G0,"datasets",!0),this.elements=new Pl($s,"elements"),this.plugins=new Pl(Object,"plugins"),this.scales=new Pl(zi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(i=>{const a=r||this._getRegistryForType(i);r||a.isForType(i)||a===this.plugins&&i.id?this._exec(t,a,i):Ut(i,c=>{const u=r||this._getRegistryForType(c);this._exec(t,u,c)})})}_exec(t,n,r){const i=Mx(t);nn(r["before"+i],[],r),n[t](r),nn(r["after"+i],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const i=n.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return i}}var xs=new eR;class tR{constructor(){this._init=void 0}notify(t,n,r,i){if(n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const a=i?this._descriptors(t).filter(i):this._descriptors(t),c=this._notify(a,t,n,r);return n==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),c}_notify(t,n,r,i){i=i||{};for(const a of t){const c=a.plugin,u=c[r],g=[n,i,a.options];if(nn(u,g,c)===!1&&i.cancelable)return!1}return!0}invalidate(){$t(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,i=At(r.options&&r.options.plugins,{}),a=nR(r);return i===!1&&!n?[]:sR(t,a,i,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,i=(a,c)=>a.filter(u=>!c.some(g=>u.plugin.id===g.plugin.id));this._notify(i(n,r),t,"stop"),this._notify(i(r,n),t,"start")}}function nR(e){const t={},n=[],r=Object.keys(xs.plugins.items);for(let a=0;a<r.length;a++)n.push(xs.getPlugin(r[a]));const i=e.plugins||[];for(let a=0;a<i.length;a++){const c=i[a];n.indexOf(c)===-1&&(n.push(c),t[c.id]=!0)}return{plugins:n,localIds:t}}function rR(e,t){return!t&&e===!1?null:e===!0?{}:e}function sR(e,{plugins:t,localIds:n},r,i){const a=[],c=e.getContext();for(const u of t){const g=u.id,h=rR(r[g],i);h!==null&&a.push({plugin:u,options:oR(e.config,{plugin:u,local:n[g]},h,c)})}return a}function oR(e,{plugin:t,local:n},r,i){const a=e.pluginScopeKeys(t),c=e.getOptionScopes(r,a);return n&&t.defaults&&c.push(t.defaults),e.createResolver(c,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Uu(e,t){const n=hn.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function iR(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function aR(e,t){return e===t?"_index_":"_value_"}function gp(e){if(e==="x"||e==="y"||e==="r")return e}function lR(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Hu(e,...t){if(gp(e))return e;for(const n of t){const r=n.axis||lR(n.position)||e.length>1&&gp(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function pp(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function cR(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return pp(e,"x",n[0])||pp(e,"y",n[0])}return{}}function dR(e,t){const n=Ko[e.type]||{scales:{}},r=t.scales||{},i=Uu(e.type,t),a=Object.create(null);return Object.keys(r).forEach(c=>{const u=r[c];if(!It(u))return console.error(`Invalid scale configuration for scale: ${c}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const g=Hu(c,u,cR(c,e),hn.scales[u.type]),h=aR(g,i),m=n.scales||{};a[c]=Ca(Object.create(null),[{axis:g},u,m[g],m[h]])}),e.data.datasets.forEach(c=>{const u=c.type||e.type,g=c.indexAxis||Uu(u,t),m=(Ko[u]||{}).scales||{};Object.keys(m).forEach(y=>{const C=iR(y,g),E=c[C+"AxisID"]||C;a[E]=a[E]||Object.create(null),Ca(a[E],[{axis:C},r[E],m[y]])})}),Object.keys(a).forEach(c=>{const u=a[c];Ca(u,[hn.scales[u.type],hn.scale])}),a}function db(e){const t=e.options||(e.options={});t.plugins=At(t.plugins,{}),t.scales=dR(e,t)}function ub(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function uR(e){return e=e||{},e.data=ub(e.data),db(e),e}const mp=new Map,xb=new Set;function Rl(e,t){let n=mp.get(e);return n||(n=t(),mp.set(e,n),xb.add(n)),n}const ca=(e,t,n)=>{const r=Qo(t,n);r!==void 0&&e.add(r)};class xR{constructor(t){this._config=uR(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=ub(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),db(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Rl(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Rl(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Rl(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return Rl(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let i=r.get(t);return(!i||n)&&(i=new Map,r.set(t,i)),i}getOptionScopes(t,n,r){const{options:i,type:a}=this,c=this._cachedScopes(t,r),u=c.get(n);if(u)return u;const g=new Set;n.forEach(m=>{t&&(g.add(t),m.forEach(y=>ca(g,t,y))),m.forEach(y=>ca(g,i,y)),m.forEach(y=>ca(g,Ko[a]||{},y)),m.forEach(y=>ca(g,hn,y)),m.forEach(y=>ca(g,$u,y))});const h=Array.from(g);return h.length===0&&h.push(Object.create(null)),xb.has(n)&&c.set(n,h),h}chartOptionScopes(){const{options:t,type:n}=this;return[t,Ko[n]||{},hn.datasets[n]||{},{type:n},hn,$u]}resolveNamedOptions(t,n,r,i=[""]){const a={$shared:!0},{resolver:c,subPrefixes:u}=yp(this._resolverCache,t,i);let g=c;if(hR(c,n)){a.$shared=!1,r=ho(r)?r():r;const h=this.createResolver(t,r,u);g=Ii(c,r,h)}for(const h of n)a[h]=g[h];return a}createResolver(t,n,r=[""],i){const{resolver:a}=yp(this._resolverCache,t,r);return It(n)?Ii(a,n,void 0,i):a}}function yp(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let a=r.get(i);return a||(a={resolver:jx(t,n),subPrefixes:n.filter(u=>!u.toLowerCase().includes("hover"))},r.set(i,a)),a}const fR=e=>It(e)&&Object.getOwnPropertyNames(e).some(t=>ho(e[t]));function hR(e,t){const{isScriptable:n,isIndexable:r}=Gy(e);for(const i of t){const a=n(i),c=r(i),u=(c||a)&&e[i];if(a&&(ho(u)||fR(u))||c&&wn(u))return!0}return!1}var gR="4.5.1";const pR=["top","bottom","left","right","chartArea"];function bp(e,t){return e==="top"||e==="bottom"||pR.indexOf(e)===-1&&t==="x"}function vp(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function Ep(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),nn(n&&n.onComplete,[e],t)}function mR(e){const t=e.chart,n=t.options.animation;nn(n&&n.onProgress,[e],t)}function fb(e){return zx()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Yl={},wp=e=>{const t=fb(e);return Object.values(Yl).filter(n=>n.canvas===t).pop()};function yR(e,t,n){const r=Object.keys(e);for(const i of r){const a=+i;if(a>=t){const c=e[i];delete e[i],(n>0||a>t)&&(e[a+n]=c)}}}function bR(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}let rl=class{static defaults=hn;static instances=Yl;static overrides=Ko;static registry=xs;static version=gR;static getChart=wp;static register(...t){xs.add(...t),Cp()}static unregister(...t){xs.remove(...t),Cp()}constructor(t,n){const r=this.config=new xR(n),i=fb(t),a=wp(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const c=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||NP(i)),this.platform.updateConfig(r);const u=this.platform.acquireContext(i,c.aspectRatio),g=u&&u.canvas,h=g&&g.height,m=g&&g.width;if(this.id=uM(),this.ctx=u,this.canvas=g,this.width=m,this.height=h,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new tR,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=FM(y=>this.update(y),c.resizeDelay||0),this._dataChanges=[],Yl[this.id]=this,!u||!g){console.error("Failed to create chart: can't acquire context from the given item");return}ws.listen(this,"complete",Ep),ws.listen(this,"progress",mR),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:i,_aspectRatio:a}=this;return $t(t)?n&&a?a:i?r/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return xs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():qg(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Hg(this.canvas,this.ctx),this}stop(){return ws.stop(this),this}resize(t,n){ws.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,i=this.canvas,a=r.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(i,t,n,a),u=r.devicePixelRatio||this.platform.getDevicePixelRatio(),g=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,qg(this,u,!0)&&(this.notifyPlugins("resize",{size:c}),nn(r.onResize,[this,c],this),this.attached&&this._doResize(g)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ut(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,i=Object.keys(r).reduce((c,u)=>(c[u]=!1,c),{});let a=[];n&&(a=a.concat(Object.keys(n).map(c=>{const u=n[c],g=Hu(c,u),h=g==="r",m=g==="x";return{options:u,dposition:h?"chartArea":m?"bottom":"left",dtype:h?"radialLinear":m?"category":"linear"}}))),Ut(a,c=>{const u=c.options,g=u.id,h=Hu(g,u),m=At(u.type,c.dtype);(u.position===void 0||bp(u.position,h)!==bp(c.dposition))&&(u.position=c.dposition),i[g]=!0;let y=null;if(g in r&&r[g].type===m)y=r[g];else{const C=xs.getScale(m);y=new C({id:g,type:m,ctx:this.ctx,chart:this}),r[y.id]=y}y.init(u,t)}),Ut(i,(c,u)=>{c||delete r[u]}),Ut(r,c=>{Ir.configure(this,c,c.options),Ir.addBox(this,c)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((i,a)=>i.index-a.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(vp("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,i)=>{n.filter(a=>a===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const a=n[r];let c=this.getDatasetMeta(r);const u=a.type||this.config.type;if(c.type&&c.type!==u&&(this._destroyDatasetMeta(r),c=this.getDatasetMeta(r)),c.type=u,c.indexAxis=a.indexAxis||Uu(u,this.options),c.order=a.order||0,c.index=r,c.label=""+a.label,c.visible=this.isDatasetVisible(r),c.controller)c.controller.updateIndex(r),c.controller.linkScales();else{const g=xs.getController(u),{datasetElementType:h,dataElementType:m}=hn.datasets[u];Object.assign(g,{dataElementType:xs.getElement(m),datasetElementType:h&&xs.getElement(h)}),c.controller=new g(this,r),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){Ut(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let h=0,m=this.data.datasets.length;h<m;h++){const{controller:y}=this.getDatasetMeta(h),C=!i&&a.indexOf(y)===-1;y.buildOrUpdateElements(C),c=Math.max(+y.getMaxOverflow(),c)}c=this._minPadding=r.layout.autoPadding?c:0,this._updateLayout(c),i||Ut(a,h=>{h.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(vp("z","_idx"));const{_active:u,_lastEvent:g}=this;g?this._eventHandler(g,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Ut(this.scales,t=>{Ir.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!Mg(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:a}of n){const c=r==="_removeElements"?-a:a;yR(t,i,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=a=>new Set(t.filter(c=>c[0]===a).map((c,u)=>u+","+c.splice(1).join(","))),i=r(0);for(let a=1;a<n;a++)if(!Mg(i,r(a)))return;return Array.from(i).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ir.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Ut(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,a)=>{i._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,ho(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),i={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ws.has(this)?this.attached&&!ws.running(this)&&ws.start(this):(this.draw(),Ep({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let i,a;for(i=0,a=n.length;i<a;++i){const c=n[i];(!t||c.visible)&&r.push(c)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r={meta:t,index:t.index,cancelable:!0},i=OI(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&Nx(n,i),t.controller.draw(),i&&Lx(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return za(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,i){const a=pP.modes[n];return typeof a=="function"?a(this,t,r,i):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let i=r.filter(a=>a&&a._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=ei(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const i=r?"show":"hide",a=this.getDatasetMeta(t),c=a.controller._resolveAnimations(void 0,i);ja(n)?(a.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),c.update(a,{visible:r}),this.update(u=>u.datasetIndex===t?i:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),ws.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Hg(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Yl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(a,c)=>{n.addEventListener(this,a,c),t[a]=c},i=(a,c,u)=>{a.offsetX=c,a.offsetY=u,this._eventHandler(a)};Ut(this.options.events,a=>r(a,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(g,h)=>{n.addEventListener(this,g,h),t[g]=h},i=(g,h)=>{t[g]&&(n.removeEventListener(this,g,h),delete t[g])},a=(g,h)=>{this.canvas&&this.resize(g,h)};let c;const u=()=>{i("attach",u),this.attached=!0,this.resize(),r("resize",a),r("detach",c)};c=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),r("attach",u)},n.isAttached(this.canvas)?u():c()}unbindEvents(){Ut(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Ut(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const i=r?"set":"remove";let a,c,u,g;for(n==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),u=0,g=t.length;u<g;++u){c=t[u];const h=c&&this.getDatasetMeta(c.datasetIndex).controller;h&&h[i+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:a,index:c})=>{const u=this.getDatasetMeta(a);if(!u)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:u.data[c],index:c}});!b0(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const i=this.options.hover,a=(g,h)=>g.filter(m=>!h.some(y=>m.datasetIndex===y.datasetIndex&&m.index===y.index)),c=a(n,t),u=r?t:a(t,n);c.length&&this.updateHoverStyle(c,i.mode,!1),u.length&&i.mode&&this.updateHoverStyle(u,i.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},i=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const a=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(a||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:i=[],options:a}=this,c=n,u=this._getActiveElements(t,i,r,c),g=mM(t),h=bR(t,this._lastEvent,r,g);r&&(this._lastEvent=null,nn(a.onHover,[t,u,this],this),g&&nn(a.onClick,[t,u,this],this));const m=!b0(u,i);return(m||n)&&(this._active=u,this._updateHoverStyles(u,i,n)),this._lastEvent=h,m}_getActiveElements(t,n,r,i){if(t.type==="mouseout")return[];if(!r)return n;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,i)}};function Cp(){return Ut(rl.instances,e=>e._plugins.invalidate())}function vR(e,t,n){const{startAngle:r,x:i,y:a,outerRadius:c,innerRadius:u,options:g}=t,{borderWidth:h,borderJoinStyle:m}=g,y=Math.min(h/c,Wr(r-n));if(e.beginPath(),e.arc(i,a,c-h/2,r+y/2,n-y/2),u>0){const C=Math.min(h/u,Wr(r-n));e.arc(i,a,u+h/2,n-C/2,r+C/2,!0)}else{const C=Math.min(h/2,c*Wr(r-n));if(m==="round")e.arc(i,a,C,n-Ht/2,r+Ht/2,!0);else if(m==="bevel"){const E=2*C*C,A=-E*Math.cos(n+Ht/2)+i,k=-E*Math.sin(n+Ht/2)+a,D=E*Math.cos(r+Ht/2)+i,I=E*Math.sin(r+Ht/2)+a;e.lineTo(A,k),e.lineTo(D,I)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function ER(e,t,n){const{startAngle:r,pixelMargin:i,x:a,y:c,outerRadius:u,innerRadius:g}=t;let h=i/u;e.beginPath(),e.arc(a,c,u,r-h,n+h),g>i?(h=i/g,e.arc(a,c,g,n+h,r-h,!0)):e.arc(a,c,i,n+Cn,r-Cn),e.closePath(),e.clip()}function wR(e){return $x(e,["outerStart","outerEnd","innerStart","innerEnd"])}function CR(e,t,n,r){const i=wR(e.options.borderRadius),a=(n-t)/2,c=Math.min(a,r*t/2),u=g=>{const h=(n-Math.min(a,g))*r/2;return qn(g,0,Math.min(a,h))};return{outerStart:u(i.outerStart),outerEnd:u(i.outerEnd),innerStart:qn(i.innerStart,0,c),innerEnd:qn(i.innerEnd,0,c)}}function fi(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function B0(e,t,n,r,i,a){const{x:c,y:u,startAngle:g,pixelMargin:h,innerRadius:m}=t,y=Math.max(t.outerRadius+r+n-h,0),C=m>0?m+r+n+h:0;let E=0;const A=i-g;if(r){const re=m>0?m-r:0,Ee=y>0?y-r:0,ve=(re+Ee)/2,Ce=ve!==0?A*ve/(ve+r):A;E=(A-Ce)/2}const k=Math.max(.001,A*y-n/Ht)/y,D=(A-k)/2,I=g+D+E,$=i-D-E,{outerStart:P,outerEnd:S,innerStart:M,innerEnd:j}=CR(t,C,y,$-I),L=y-P,q=y-S,T=I+P/L,Q=$-S/q,oe=C+M,Y=C+j,le=I+M/oe,ye=$-j/Y;if(e.beginPath(),a){const re=(T+Q)/2;if(e.arc(c,u,y,T,re),e.arc(c,u,y,re,Q),S>0){const he=fi(q,Q,c,u);e.arc(he.x,he.y,S,Q,$+Cn)}const Ee=fi(Y,$,c,u);if(e.lineTo(Ee.x,Ee.y),j>0){const he=fi(Y,ye,c,u);e.arc(he.x,he.y,j,$+Cn,ye+Math.PI)}const ve=($-j/C+(I+M/C))/2;if(e.arc(c,u,C,$-j/C,ve,!0),e.arc(c,u,C,ve,I+M/C,!0),M>0){const he=fi(oe,le,c,u);e.arc(he.x,he.y,M,le+Math.PI,I-Cn)}const Ce=fi(L,I,c,u);if(e.lineTo(Ce.x,Ce.y),P>0){const he=fi(L,T,c,u);e.arc(he.x,he.y,P,I-Cn,T)}}else{e.moveTo(c,u);const re=Math.cos(T)*y+c,Ee=Math.sin(T)*y+u;e.lineTo(re,Ee);const ve=Math.cos(Q)*y+c,Ce=Math.sin(Q)*y+u;e.lineTo(ve,Ce)}e.closePath()}function AR(e,t,n,r,i){const{fullCircles:a,startAngle:c,circumference:u}=t;let g=t.endAngle;if(a){B0(e,t,n,r,g,i);for(let h=0;h<a;++h)e.fill();isNaN(u)||(g=c+(u%un||un))}return B0(e,t,n,r,g,i),e.fill(),g}function BR(e,t,n,r,i){const{fullCircles:a,startAngle:c,circumference:u,options:g}=t,{borderWidth:h,borderJoinStyle:m,borderDash:y,borderDashOffset:C,borderRadius:E}=g,A=g.borderAlign==="inner";if(!h)return;e.setLineDash(y||[]),e.lineDashOffset=C,A?(e.lineWidth=h*2,e.lineJoin=m||"round"):(e.lineWidth=h,e.lineJoin=m||"bevel");let k=t.endAngle;if(a){B0(e,t,n,r,k,i);for(let D=0;D<a;++D)e.stroke();isNaN(u)||(k=c+(u%un||un))}A&&ER(e,t,k),g.selfJoin&&k-c>=Ht&&E===0&&m!=="miter"&&vR(e,t,k),a||(B0(e,t,n,r,k,i),e.stroke())}class hb extends $s{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,r){const i=this.getProps(["x","y"],r),{angle:a,distance:c}=$y(i,{x:t,y:n}),{startAngle:u,endAngle:g,innerRadius:h,outerRadius:m,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),C=(this.options.spacing+this.options.borderWidth)/2,E=At(y,g-u),A=Ha(a,u,g)&&u!==g,k=E>=un||A,D=to(c,h+C,m+C);return k&&D}getCenterPoint(t){const{x:n,y:r,startAngle:i,endAngle:a,innerRadius:c,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:g,spacing:h}=this.options,m=(i+a)/2,y=(c+u+h+g)/2;return{x:n+Math.cos(m)*y,y:r+Math.sin(m)*y}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:r}=this,i=(n.offset||0)/4,a=(n.spacing||0)/2,c=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>un?Math.floor(r/un):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const u=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(u)*i,Math.sin(u)*i);const g=1-Math.sin(Math.min(Ht,r||0)),h=i*g;t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,AR(t,this,h,a,c),BR(t,this,h,a,c),t.restore()}}function gb(e,t,n=t){e.lineCap=At(n.borderCapStyle,t.borderCapStyle),e.setLineDash(At(n.borderDash,t.borderDash)),e.lineDashOffset=At(n.borderDashOffset,t.borderDashOffset),e.lineJoin=At(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=At(n.borderWidth,t.borderWidth),e.strokeStyle=At(n.borderColor,t.borderColor)}function _R(e,t,n){e.lineTo(n.x,n.y)}function kR(e){return e.stepped?VM:e.tension||e.cubicInterpolationMode==="monotone"?qM:_R}function pb(e,t,n={}){const r=e.length,{start:i=0,end:a=r-1}=n,{start:c,end:u}=t,g=Math.max(i,c),h=Math.min(a,u),m=i<c&&a<c||i>u&&a>u;return{count:r,start:g,loop:t.loop,ilen:h<g&&!m?r+h-g:h-g}}function DR(e,t,n,r){const{points:i,options:a}=t,{count:c,start:u,loop:g,ilen:h}=pb(i,n,r),m=kR(a);let{move:y=!0,reverse:C}=r||{},E,A,k;for(E=0;E<=h;++E)A=i[(u+(C?h-E:E))%c],!A.skip&&(y?(e.moveTo(A.x,A.y),y=!1):m(e,k,A,C,a.stepped),k=A);return g&&(A=i[(u+(C?h:0))%c],m(e,k,A,C,a.stepped)),!!g}function SR(e,t,n,r){const i=t.points,{count:a,start:c,ilen:u}=pb(i,n,r),{move:g=!0,reverse:h}=r||{};let m=0,y=0,C,E,A,k,D,I;const $=S=>(c+(h?u-S:S))%a,P=()=>{k!==D&&(e.lineTo(m,D),e.lineTo(m,k),e.lineTo(m,I))};for(g&&(E=i[$(0)],e.moveTo(E.x,E.y)),C=0;C<=u;++C){if(E=i[$(C)],E.skip)continue;const S=E.x,M=E.y,j=S|0;j===A?(M<k?k=M:M>D&&(D=M),m=(y*m+S)/++y):(P(),e.lineTo(S,M),A=j,y=0,k=D=M),I=M}P()}function zu(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?SR:DR}function FR(e){return e.stepped?CI:e.tension||e.cubicInterpolationMode==="monotone"?AI:Fo}function TR(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),gb(e,t.options),e.stroke(i)}function MR(e,t,n,r){const{segments:i,options:a}=t,c=zu(t);for(const u of i)gb(e,a,u.style),e.beginPath(),c(e,t,u,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}const IR=typeof Path2D=="function";function PR(e,t,n,r){IR&&!t.options.segment?TR(e,t,n,r):MR(e,t,n,r)}class mb extends $s{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;gI(this._points,r,t,i,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=MI(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,r=t.length;return r&&n[t[r-1].end]}interpolate(t,n){const r=this.options,i=t[n],a=this.points,c=SI(this,{property:n,start:i,end:i});if(!c.length)return;const u=[],g=FR(r);let h,m;for(h=0,m=c.length;h<m;++h){const{start:y,end:C}=c[h],E=a[y],A=a[C];if(E===A){u.push(E);continue}const k=Math.abs((i-E[n])/(A[n]-E[n])),D=g(E,A,k,r.stepped);D[n]=t[n],u.push(D)}return u.length===1?u[0]:u}pathSegment(t,n,r){return zu(this)(t,this,n,r)}path(t,n,r){const i=this.segments,a=zu(this);let c=this._loop;n=n||0,r=r||this.points.length-n;for(const u of i)c&=a(t,this,u,{start:n,end:n+r-1});return!!c}draw(t,n,r,i){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),PR(t,this,r,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Ap(e,t,n,r){const i=e.options,{[n]:a}=e.getProps([n],r);return Math.abs(t-a)<i.radius+i.hitRadius}class yb extends $s{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,r){const i=this.options,{x:a,y:c}=this.getProps(["x","y"],r);return Math.pow(t-a,2)+Math.pow(n-c,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,n){return Ap(this,t,"x",n)}inYRange(t,n){return Ap(this,t,"y",n)}getCenterPoint(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const r=n&&t.borderWidth||0;return(n+r)*2}draw(t,n){const r=this.options;this.skip||r.radius<.1||!za(this,n,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,ju(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function bb(e,t){const{x:n,y:r,base:i,width:a,height:c}=e.getProps(["x","y","base","width","height"],t);let u,g,h,m,y;return e.horizontal?(y=c/2,u=Math.min(n,i),g=Math.max(n,i),h=r-y,m=r+y):(y=a/2,u=n-y,g=n+y,h=Math.min(r,i),m=Math.max(r,i)),{left:u,top:h,right:g,bottom:m}}function ro(e,t,n,r){return e?0:qn(t,n,r)}function RR(e,t,n){const r=e.options.borderWidth,i=e.borderSkipped,a=Wy(r);return{t:ro(i.top,a.top,0,n),r:ro(i.right,a.right,0,t),b:ro(i.bottom,a.bottom,0,n),l:ro(i.left,a.left,0,t)}}function OR(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,a=Bi(i),c=Math.min(t,n),u=e.borderSkipped,g=r||It(i);return{topLeft:ro(!g||u.top||u.left,a.topLeft,0,c),topRight:ro(!g||u.top||u.right,a.topRight,0,c),bottomLeft:ro(!g||u.bottom||u.left,a.bottomLeft,0,c),bottomRight:ro(!g||u.bottom||u.right,a.bottomRight,0,c)}}function NR(e){const t=bb(e),n=t.right-t.left,r=t.bottom-t.top,i=RR(e,n/2,r/2),a=OR(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:a},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,a.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(i.b,i.r))}}}}function ou(e,t,n,r){const i=t===null,a=n===null,u=e&&!(i&&a)&&bb(e,r);return u&&(i||to(t,u.left,u.right))&&(a||to(n,u.top,u.bottom))}function LR(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function $R(e,t){e.rect(t.x,t.y,t.w,t.h)}function iu(e,t,n={}){const r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,a=(e.x+e.w!==n.x+n.w?t:0)-r,c=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+a,h:e.h+c,radius:e.radius}}class vb extends $s{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:a,outer:c}=NR(this),u=LR(c.radius)?w0:$R;t.save(),(c.w!==a.w||c.h!==a.h)&&(t.beginPath(),u(t,iu(c,n,a)),t.clip(),u(t,iu(a,-n,c)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),u(t,iu(a,n)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,n,r){return ou(this,t,n,r)}inXRange(t,n){return ou(this,t,null,n)}inYRange(t,n){return ou(this,null,t,n)}getCenterPoint(t){const{x:n,y:r,base:i,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(n+i)/2:n,y:a?r:(r+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const Bp=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},jR=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class _p extends $s{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=nn(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,i)=>t.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,i=Wn(r.font),a=i.size,c=this._computeTitleHeight(),{boxWidth:u,itemHeight:g}=Bp(r,a);let h,m;n.font=i.string,this.isHorizontal()?(h=this.maxWidth,m=this._fitRows(c,a,u,g)+10):(m=this.maxHeight,h=this._fitCols(c,i,u,g)+10),this.width=Math.min(h,t.maxWidth||this.maxWidth),this.height=Math.min(m,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,i){const{ctx:a,maxWidth:c,options:{labels:{padding:u}}}=this,g=this.legendHitBoxes=[],h=this.lineWidths=[0],m=i+u;let y=t;a.textAlign="left",a.textBaseline="middle";let C=-1,E=-m;return this.legendItems.forEach((A,k)=>{const D=r+n/2+a.measureText(A.text).width;(k===0||h[h.length-1]+D+2*u>c)&&(y+=m,h[h.length-(k>0?0:1)]=0,E+=m,C++),g[k]={left:0,top:E,row:C,width:D,height:i},h[h.length-1]+=D+u}),y}_fitCols(t,n,r,i){const{ctx:a,maxHeight:c,options:{labels:{padding:u}}}=this,g=this.legendHitBoxes=[],h=this.columnSizes=[],m=c-t;let y=u,C=0,E=0,A=0,k=0;return this.legendItems.forEach((D,I)=>{const{itemWidth:$,itemHeight:P}=UR(r,n,a,D,i);I>0&&E+P+2*u>m&&(y+=C+u,h.push({width:C,height:E}),A+=C+u,k++,C=E=0),g[I]={left:A,top:E,col:k,width:$,height:P},C=Math.max(C,$),E+=P+u}),y+=C,h.push({width:C,height:E}),y}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:a}}=this,c=_i(a,this.left,this.width);if(this.isHorizontal()){let u=0,g=Un(r,this.left+i,this.right-this.lineWidths[u]);for(const h of n)u!==h.row&&(u=h.row,g=Un(r,this.left+i,this.right-this.lineWidths[u])),h.top+=this.top+t+i,h.left=c.leftForLtr(c.x(g),h.width),g+=h.width+i}else{let u=0,g=Un(r,this.top+t+i,this.bottom-this.columnSizes[u].height);for(const h of n)h.col!==u&&(u=h.col,g=Un(r,this.top+t+i,this.bottom-this.columnSizes[u].height)),h.top=g,h.left+=this.left+i,h.left=c.leftForLtr(c.x(h.left),h.width),g+=h.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Nx(t,this),this._draw(),Lx(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:i}=this,{align:a,labels:c}=t,u=hn.color,g=_i(t.rtl,this.left,this.width),h=Wn(c.font),{padding:m}=c,y=h.size,C=y/2;let E;this.drawTitle(),i.textAlign=g.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=h.string;const{boxWidth:A,boxHeight:k,itemHeight:D}=Bp(c,y),I=function(j,L,q){if(isNaN(A)||A<=0||isNaN(k)||k<0)return;i.save();const T=At(q.lineWidth,1);if(i.fillStyle=At(q.fillStyle,u),i.lineCap=At(q.lineCap,"butt"),i.lineDashOffset=At(q.lineDashOffset,0),i.lineJoin=At(q.lineJoin,"miter"),i.lineWidth=T,i.strokeStyle=At(q.strokeStyle,u),i.setLineDash(At(q.lineDash,[])),c.usePointStyle){const Q={radius:k*Math.SQRT2/2,pointStyle:q.pointStyle,rotation:q.rotation,borderWidth:T},oe=g.xPlus(j,A/2),Y=L+C;qy(i,Q,oe,Y,c.pointStyleWidth&&A)}else{const Q=L+Math.max((y-k)/2,0),oe=g.leftForLtr(j,A),Y=Bi(q.borderRadius);i.beginPath(),Object.values(Y).some(le=>le!==0)?w0(i,{x:oe,y:Q,w:A,h:k,radius:Y}):i.rect(oe,Q,A,k),i.fill(),T!==0&&i.stroke()}i.restore()},$=function(j,L,q){Va(i,q.text,j,L+D/2,h,{strikethrough:q.hidden,textAlign:g.textAlign(q.textAlign)})},P=this.isHorizontal(),S=this._computeTitleHeight();P?E={x:Un(a,this.left+m,this.right-r[0]),y:this.top+m+S,line:0}:E={x:this.left+m,y:Un(a,this.top+S+m,this.bottom-n[0].height),line:0},Zy(this.ctx,t.textDirection);const M=D+m;this.legendItems.forEach((j,L)=>{i.strokeStyle=j.fontColor,i.fillStyle=j.fontColor;const q=i.measureText(j.text).width,T=g.textAlign(j.textAlign||(j.textAlign=c.textAlign)),Q=A+C+q;let oe=E.x,Y=E.y;g.setWidth(this.width),P?L>0&&oe+Q+m>this.right&&(Y=E.y+=M,E.line++,oe=E.x=Un(a,this.left+m,this.right-r[E.line])):L>0&&Y+M>this.bottom&&(oe=E.x=oe+n[E.line].width+m,E.line++,Y=E.y=Un(a,this.top+S+m,this.bottom-n[E.line].height));const le=g.x(oe);if(I(le,Y,j),oe=TM(T,oe+A+C,P?oe+Q:this.right,t.rtl),$(g.x(oe),Y,j),P)E.x+=Q+m;else if(typeof j.text!="string"){const ye=h.lineHeight;E.y+=Eb(j,ye)+m}else E.y+=M}),Jy(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=Wn(n.font),i=Lr(n.padding);if(!n.display)return;const a=_i(t.rtl,this.left,this.width),c=this.ctx,u=n.position,g=r.size/2,h=i.top+g;let m,y=this.left,C=this.width;if(this.isHorizontal())C=Math.max(...this.lineWidths),m=this.top+h,y=Un(t.align,y,this.right-C);else{const A=this.columnSizes.reduce((k,D)=>Math.max(k,D.height),0);m=h+Un(t.align,this.top,this.bottom-A-t.labels.padding-this._computeTitleHeight())}const E=Un(u,y,y+C);c.textAlign=a.textAlign(Px(u)),c.textBaseline="middle",c.strokeStyle=n.color,c.fillStyle=n.color,c.font=r.string,Va(c,n.text,E,m,r)}_computeTitleHeight(){const t=this.options.title,n=Wn(t.font),r=Lr(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,i,a;if(to(t,this.left,this.right)&&to(n,this.top,this.bottom)){for(a=this.legendHitBoxes,r=0;r<a.length;++r)if(i=a[r],to(t,i.left,i.left+i.width)&&to(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!VR(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,a=jR(i,r);i&&!a&&nn(n.onLeave,[t,i,this],this),this._hoveredItem=r,r&&!a&&nn(n.onHover,[t,r,this],this)}else r&&nn(n.onClick,[t,r,this],this)}}function UR(e,t,n,r,i){const a=HR(r,e,t,n),c=zR(i,r,t.lineHeight);return{itemWidth:a,itemHeight:c}}function HR(e,t,n,r){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((a,c)=>a.length>c.length?a:c)),t+n.size/2+r.measureText(i).width}function zR(e,t,n){let r=e;return typeof t.text!="string"&&(r=Eb(t,n)),r}function Eb(e,t){const n=e.text?e.text.length:0;return t*n}function VR(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var wb={id:"legend",_element:_p,start(e,t,n){const r=e.legend=new _p({ctx:e.ctx,options:n,chart:e});Ir.configure(e,r,n),Ir.addBox(e,r)},stop(e){Ir.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;Ir.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:a,useBorderRadius:c,borderRadius:u}}=e.legend.options;return e._getSortedDatasetMetas().map(g=>{const h=g.controller.getStyle(n?0:void 0),m=Lr(h.borderWidth);return{text:t[g.index].label,fillStyle:h.backgroundColor,fontColor:a,hidden:!g.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:h.borderColor,pointStyle:r||h.pointStyle,rotation:h.rotation,textAlign:i||h.textAlign,borderRadius:c&&(u||h.borderRadius),datasetIndex:g.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Cb extends $s{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const i=wn(r.text)?r.text.length:1;this._padding=Lr(r.padding);const a=i*Wn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:r,bottom:i,right:a,options:c}=this,u=c.align;let g=0,h,m,y;return this.isHorizontal()?(m=Un(u,r,a),y=n+t,h=a-r):(c.position==="left"?(m=r+t,y=Un(u,i,n),g=Ht*-.5):(m=a-t,y=Un(u,n,i),g=Ht*.5),h=i-n),{titleX:m,titleY:y,maxWidth:h,rotation:g}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const r=Wn(n.font),a=r.lineHeight/2+this._padding.top,{titleX:c,titleY:u,maxWidth:g,rotation:h}=this._drawArgs(a);Va(t,n.text,0,0,r,{color:n.color,maxWidth:g,rotation:h,textAlign:Px(n.align),textBaseline:"middle",translation:[c,u]})}}function qR(e,t){const n=new Cb({ctx:e.ctx,options:t,chart:e});Ir.configure(e,n,t),Ir.addBox(e,n),e.titleBlock=n}var WR={id:"title",_element:Cb,start(e,t,n){qR(e,n)},stop(e){const t=e.titleBlock;Ir.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;Ir.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ga={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,a=0;for(t=0,n=e.length;t<n;++t){const u=e[t].element;if(u&&u.hasValue()){const g=u.tooltipPosition();r.add(g.x),i+=g.y,++a}}return a===0||r.size===0?!1:{x:[...r].reduce((u,g)=>u+g)/r.size,y:i/a}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,i=Number.POSITIVE_INFINITY,a,c,u;for(a=0,c=e.length;a<c;++a){const g=e[a].element;if(g&&g.hasValue()){const h=g.getCenterPoint(),m=Lu(t,h);m<i&&(i=m,u=g)}}if(u){const g=u.tooltipPosition();n=g.x,r=g.y}return{x:n,y:r}}};function cs(e,t){return t&&(wn(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Cs(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function GR(e,t){const{element:n,datasetIndex:r,index:i}=t,a=e.getDatasetMeta(r).controller,{label:c,value:u}=a.getLabelAndValue(i);return{chart:e,label:c,parsed:a.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:u,dataset:a.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function kp(e,t){const n=e.chart.ctx,{body:r,footer:i,title:a}=e,{boxWidth:c,boxHeight:u}=t,g=Wn(t.bodyFont),h=Wn(t.titleFont),m=Wn(t.footerFont),y=a.length,C=i.length,E=r.length,A=Lr(t.padding);let k=A.height,D=0,I=r.reduce((S,M)=>S+M.before.length+M.lines.length+M.after.length,0);if(I+=e.beforeBody.length+e.afterBody.length,y&&(k+=y*h.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),I){const S=t.displayColors?Math.max(u,g.lineHeight):g.lineHeight;k+=E*S+(I-E)*g.lineHeight+(I-1)*t.bodySpacing}C&&(k+=t.footerMarginTop+C*m.lineHeight+(C-1)*t.footerSpacing);let $=0;const P=function(S){D=Math.max(D,n.measureText(S).width+$)};return n.save(),n.font=h.string,Ut(e.title,P),n.font=g.string,Ut(e.beforeBody.concat(e.afterBody),P),$=t.displayColors?c+2+t.boxPadding:0,Ut(r,S=>{Ut(S.before,P),Ut(S.lines,P),Ut(S.after,P)}),$=0,n.font=m.string,Ut(e.footer,P),n.restore(),D+=A.width,{width:D,height:k}}function QR(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function KR(e,t,n,r){const{x:i,width:a}=r,c=n.caretSize+n.caretPadding;if(e==="left"&&i+a+c>t.width||e==="right"&&i-a-c<0)return!0}function YR(e,t,n,r){const{x:i,width:a}=n,{width:c,chartArea:{left:u,right:g}}=e;let h="center";return r==="center"?h=i<=(u+g)/2?"left":"right":i<=a/2?h="left":i>=c-a/2&&(h="right"),KR(h,e,t,n)&&(h="center"),h}function Dp(e,t,n){const r=n.yAlign||t.yAlign||QR(e,n);return{xAlign:n.xAlign||t.xAlign||YR(e,t,n,r),yAlign:r}}function XR(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function ZR(e,t,n){let{y:r,height:i}=e;return t==="top"?r+=n:t==="bottom"?r-=i+n:r-=i/2,r}function Sp(e,t,n,r){const{caretSize:i,caretPadding:a,cornerRadius:c}=e,{xAlign:u,yAlign:g}=n,h=i+a,{topLeft:m,topRight:y,bottomLeft:C,bottomRight:E}=Bi(c);let A=XR(t,u);const k=ZR(t,g,h);return g==="center"?u==="left"?A+=h:u==="right"&&(A-=h):u==="left"?A-=Math.max(m,C)+i:u==="right"&&(A+=Math.max(y,E)+i),{x:qn(A,0,r.width-t.width),y:qn(k,0,r.height-t.height)}}function Ol(e,t,n){const r=Lr(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function Fp(e){return cs([],Cs(e))}function JR(e,t,n){return ei(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function Tp(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const Ab={beforeTitle:vs,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:vs,beforeBody:vs,beforeLabel:vs,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return $t(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:vs,afterBody:vs,beforeFooter:vs,footer:vs,afterFooter:vs};function or(e,t,n,r){const i=e[t].call(n,r);return typeof i>"u"?Ab[t].call(n,r):i}class Mp extends $s{static positioners=ga;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,a=new tb(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=JR(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,i=or(r,"beforeTitle",this,t),a=or(r,"title",this,t),c=or(r,"afterTitle",this,t);let u=[];return u=cs(u,Cs(i)),u=cs(u,Cs(a)),u=cs(u,Cs(c)),u}getBeforeBody(t,n){return Fp(or(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,i=[];return Ut(t,a=>{const c={before:[],lines:[],after:[]},u=Tp(r,a);cs(c.before,Cs(or(u,"beforeLabel",this,a))),cs(c.lines,or(u,"label",this,a)),cs(c.after,Cs(or(u,"afterLabel",this,a))),i.push(c)}),i}getAfterBody(t,n){return Fp(or(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,i=or(r,"beforeFooter",this,t),a=or(r,"footer",this,t),c=or(r,"afterFooter",this,t);let u=[];return u=cs(u,Cs(i)),u=cs(u,Cs(a)),u=cs(u,Cs(c)),u}_createItems(t){const n=this._active,r=this.chart.data,i=[],a=[],c=[];let u=[],g,h;for(g=0,h=n.length;g<h;++g)u.push(GR(this.chart,n[g]));return t.filter&&(u=u.filter((m,y,C)=>t.filter(m,y,C,r))),t.itemSort&&(u=u.sort((m,y)=>t.itemSort(m,y,r))),Ut(u,m=>{const y=Tp(t.callbacks,m);i.push(or(y,"labelColor",this,m)),a.push(or(y,"labelPointStyle",this,m)),c.push(or(y,"labelTextColor",this,m))}),this.labelColors=i,this.labelPointStyles=a,this.labelTextColors=c,this.dataPoints=u,u}update(t,n){const r=this.options.setContext(this.getContext()),i=this._active;let a,c=[];if(!i.length)this.opacity!==0&&(a={opacity:0});else{const u=ga[r.position].call(this,i,this._eventPosition);c=this._createItems(r),this.title=this.getTitle(c,r),this.beforeBody=this.getBeforeBody(c,r),this.body=this.getBody(c,r),this.afterBody=this.getAfterBody(c,r),this.footer=this.getFooter(c,r);const g=this._size=kp(this,r),h=Object.assign({},u,g),m=Dp(this.chart,r,h),y=Sp(r,h,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,a={opacity:1,x:y.x,y:y.y,width:g.width,height:g.height,caretX:u.x,caretY:u.y}}this._tooltipItems=c,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,i){const a=this.getCaretPosition(t,r,i);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(t,n,r){const{xAlign:i,yAlign:a}=this,{caretSize:c,cornerRadius:u}=r,{topLeft:g,topRight:h,bottomLeft:m,bottomRight:y}=Bi(u),{x:C,y:E}=t,{width:A,height:k}=n;let D,I,$,P,S,M;return a==="center"?(S=E+k/2,i==="left"?(D=C,I=D-c,P=S+c,M=S-c):(D=C+A,I=D+c,P=S-c,M=S+c),$=D):(i==="left"?I=C+Math.max(g,m)+c:i==="right"?I=C+A-Math.max(h,y)-c:I=this.caretX,a==="top"?(P=E,S=P-c,D=I-c,$=I+c):(P=E+k,S=P+c,D=I+c,$=I-c),M=P),{x1:D,x2:I,x3:$,y1:P,y2:S,y3:M}}drawTitle(t,n,r){const i=this.title,a=i.length;let c,u,g;if(a){const h=_i(r.rtl,this.x,this.width);for(t.x=Ol(this,r.titleAlign,r),n.textAlign=h.textAlign(r.titleAlign),n.textBaseline="middle",c=Wn(r.titleFont),u=r.titleSpacing,n.fillStyle=r.titleColor,n.font=c.string,g=0;g<a;++g)n.fillText(i[g],h.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+u,g+1===a&&(t.y+=r.titleMarginBottom-u)}}_drawColorBox(t,n,r,i,a){const c=this.labelColors[r],u=this.labelPointStyles[r],{boxHeight:g,boxWidth:h}=a,m=Wn(a.bodyFont),y=Ol(this,"left",a),C=i.x(y),E=g<m.lineHeight?(m.lineHeight-g)/2:0,A=n.y+E;if(a.usePointStyle){const k={radius:Math.min(h,g)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},D=i.leftForLtr(C,h)+h/2,I=A+g/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,ju(t,k,D,I),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,ju(t,k,D,I)}else{t.lineWidth=It(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const k=i.leftForLtr(C,h),D=i.leftForLtr(i.xPlus(C,1),h-2),I=Bi(c.borderRadius);Object.values(I).some($=>$!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,w0(t,{x:k,y:A,w:h,h:g,radius:I}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),w0(t,{x:D,y:A+1,w:h-2,h:g-2,radius:I}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(k,A,h,g),t.strokeRect(k,A,h,g),t.fillStyle=c.backgroundColor,t.fillRect(D,A+1,h-2,g-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:i}=this,{bodySpacing:a,bodyAlign:c,displayColors:u,boxHeight:g,boxWidth:h,boxPadding:m}=r,y=Wn(r.bodyFont);let C=y.lineHeight,E=0;const A=_i(r.rtl,this.x,this.width),k=function(q){n.fillText(q,A.x(t.x+E),t.y+C/2),t.y+=C+a},D=A.textAlign(c);let I,$,P,S,M,j,L;for(n.textAlign=c,n.textBaseline="middle",n.font=y.string,t.x=Ol(this,D,r),n.fillStyle=r.bodyColor,Ut(this.beforeBody,k),E=u&&D!=="right"?c==="center"?h/2+m:h+2+m:0,S=0,j=i.length;S<j;++S){for(I=i[S],$=this.labelTextColors[S],n.fillStyle=$,Ut(I.before,k),P=I.lines,u&&P.length&&(this._drawColorBox(n,t,S,A,r),C=Math.max(y.lineHeight,g)),M=0,L=P.length;M<L;++M)k(P[M]),C=y.lineHeight;Ut(I.after,k)}E=0,C=y.lineHeight,Ut(this.afterBody,k),t.y-=a}drawFooter(t,n,r){const i=this.footer,a=i.length;let c,u;if(a){const g=_i(r.rtl,this.x,this.width);for(t.x=Ol(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=g.textAlign(r.footerAlign),n.textBaseline="middle",c=Wn(r.footerFont),n.fillStyle=r.footerColor,n.font=c.string,u=0;u<a;++u)n.fillText(i[u],g.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+r.footerSpacing}}drawBackground(t,n,r,i){const{xAlign:a,yAlign:c}=this,{x:u,y:g}=t,{width:h,height:m}=r,{topLeft:y,topRight:C,bottomLeft:E,bottomRight:A}=Bi(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(u+y,g),c==="top"&&this.drawCaret(t,n,r,i),n.lineTo(u+h-C,g),n.quadraticCurveTo(u+h,g,u+h,g+C),c==="center"&&a==="right"&&this.drawCaret(t,n,r,i),n.lineTo(u+h,g+m-A),n.quadraticCurveTo(u+h,g+m,u+h-A,g+m),c==="bottom"&&this.drawCaret(t,n,r,i),n.lineTo(u+E,g+m),n.quadraticCurveTo(u,g+m,u,g+m-E),c==="center"&&a==="left"&&this.drawCaret(t,n,r,i),n.lineTo(u,g+y),n.quadraticCurveTo(u,g,u+y,g),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,i=r&&r.x,a=r&&r.y;if(i||a){const c=ga[t.position].call(this,this._active,this._eventPosition);if(!c)return;const u=this._size=kp(this,t),g=Object.assign({},c,this._size),h=Dp(n,t,g),m=Sp(t,g,h,n);(i._to!==m.x||a._to!==m.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=u.width,this.height=u.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const c=Lr(n.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&u&&(t.save(),t.globalAlpha=r,this.drawBackground(a,t,i,n),Zy(t,n.textDirection),a.y+=c.top,this.drawTitle(a,t,n),this.drawBody(a,t,n),this.drawFooter(a,t,n),Jy(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,i=t.map(({datasetIndex:u,index:g})=>{const h=this.chart.getDatasetMeta(u);if(!h)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:h.data[g],index:g}}),a=!b0(r,i),c=this._positionChanged(i,n);(a||c)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,a=this._active||[],c=this._getActiveElements(t,a,n,r),u=this._positionChanged(c,t),g=n||!b0(c,a)||u;return g&&(this._active=c,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),g}_getActiveElements(t,n,r,i){const a=this.options;if(t.type==="mouseout")return[];if(!i)return n.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,a.mode,a,r);return a.reverse&&c.reverse(),c}_positionChanged(t,n){const{caretX:r,caretY:i,options:a}=this,c=ga[a.position].call(this,t,n);return c!==!1&&(r!==c.x||i!==c.y)}}var Bb={id:"tooltip",_element:Mp,positioners:ga,afterInit(e,t,n){n&&(e.tooltip=new Mp({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Ab},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const eO=(e,t,n,r)=>(typeof t=="string"?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function tO(e,t,n,r){const i=e.indexOf(t);if(i===-1)return eO(e,t,n,r);const a=e.lastIndexOf(t);return i!==a?n:i}const nO=(e,t)=>e===null?null:qn(Math.round(e),0,t);function Ip(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class _b extends zi{static id="category";static defaults={ticks:{callback:Ip}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:a}of n)r[i]===a&&r.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,n){if($t(t))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===t?n:tO(r,t,At(n,t),this._addedLabels),nO(n,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const t=this.min,n=this.max,r=this.options.offset,i=[];let a=this.getLabels();a=t===0&&n===a.length-1?a:a.slice(t,n+1),this._valueRange=Math.max(a.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let c=t;c<=n;c++)i.push({value:c});return i}getLabelForValue(t){return Ip.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function rO(e,t){const n=[],{bounds:i,step:a,min:c,max:u,precision:g,count:h,maxTicks:m,maxDigits:y,includeBounds:C}=e,E=a||1,A=m-1,{min:k,max:D}=t,I=!$t(c),$=!$t(u),P=!$t(h),S=(D-k)/(y+1);let M=Pg((D-k)/A/E)*E,j,L,q,T;if(M<1e-14&&!I&&!$)return[{value:k},{value:D}];T=Math.ceil(D/M)-Math.floor(k/M),T>A&&(M=Pg(T*M/A/E)*E),$t(g)||(j=Math.pow(10,g),M=Math.ceil(M*j)/j),i==="ticks"?(L=Math.floor(k/M)*M,q=Math.ceil(D/M)*M):(L=k,q=D),I&&$&&a&&wM((u-c)/a,M/1e3)?(T=Math.round(Math.min((u-c)/M,m)),M=(u-c)/T,L=c,q=u):P?(L=I?c:L,q=$?u:q,T=h-1,M=(q-L)/T):(T=(q-L)/M,Aa(T,Math.round(T),M/1e3)?T=Math.round(T):T=Math.ceil(T));const Q=Math.max(Rg(M),Rg(L));j=Math.pow(10,$t(g)?Q:g),L=Math.round(L*j)/j,q=Math.round(q*j)/j;let oe=0;for(I&&(C&&L!==c?(n.push({value:c}),L<c&&oe++,Aa(Math.round((L+oe*M)*j)/j,c,Pp(c,S,e))&&oe++):L<c&&oe++);oe<T;++oe){const Y=Math.round((L+oe*M)*j)/j;if($&&Y>u)break;n.push({value:Y})}return $&&C&&q!==u?n.length&&Aa(n[n.length-1].value,u,Pp(u,S,e))?n[n.length-1].value=u:n.push({value:u}):(!$||q===u)&&n.push({value:q}),n}function Pp(e,t,{horizontal:n,minRotation:r}){const i=Ts(r),a=(n?Math.sin(i):Math.cos(i))||.001,c=.75*t*(""+e).length;return Math.min(t/a,c)}class sO extends zi{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return $t(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:a}=this;const c=g=>i=n?i:g,u=g=>a=r?a:g;if(t){const g=gs(i),h=gs(a);g<0&&h<0?u(0):g>0&&h>0&&c(0)}if(i===a){let g=a===0?1:Math.abs(a*.05);u(a+g),t||c(i-g)}this.min=i,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=t,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},a=this._range||this,c=rO(i,a);return t.bounds==="ticks"&&CM(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const i=(r-n)/Math.max(t.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(t){return Ox(t,this.chart.options.locale,this.options.ticks.format)}}class kb extends sO{static id="linear";static defaults={ticks:{callback:Vy.formatters.numeric}};determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Nr(t)?t:0,this.max=Nr(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,r=Ts(this.options.ticks.minRotation),i=(t?Math.sin(r):Math.cos(r))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,a.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const K0={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},lr=Object.keys(K0);function Rp(e,t){return e-t}function Op(e,t){if($t(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:a}=e._parseOpts;let c=t;return typeof r=="function"&&(c=r(c)),Nr(c)||(c=typeof r=="string"?n.parse(c,r):n.parse(c)),c===null?null:(i&&(c=i==="week"&&(Ua(a)||a===!0)?n.startOf(c,"isoWeek",a):n.startOf(c,i)),+c)}function Np(e,t,n,r){const i=lr.length;for(let a=lr.indexOf(e);a<i-1;++a){const c=K0[lr[a]],u=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((n-t)/(u*c.size))<=r)return lr[a]}return lr[i-1]}function oO(e,t,n,r,i){for(let a=lr.length-1;a>=lr.indexOf(n);a--){const c=lr[a];if(K0[c].common&&e._adapter.diff(i,r,c)>=t-1)return c}return lr[n?lr.indexOf(n):0]}function iO(e){for(let t=lr.indexOf(e)+1,n=lr.length;t<n;++t)if(K0[lr[t]].common)return lr[t]}function Lp(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:i}=Ix(n,t),a=n[r]>=t?n[r]:n[i];e[a]=!0}}function aO(e,t,n,r){const i=e._adapter,a=+i.startOf(t[0].value,r),c=t[t.length-1].value;let u,g;for(u=a;u<=c;u=+i.add(u,1,r))g=n[u],g>=0&&(t[g].major=!0);return t}function $p(e,t,n){const r=[],i={},a=t.length;let c,u;for(c=0;c<a;++c)u=t[c],i[u]=c,r.push({value:u,major:!1});return a===0||!n?r:aO(e,r,i,n)}class jp extends zi{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),i=this._adapter=new uP._date(t.adapters.date);i.init(n),Ca(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:Op(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:i,max:a,minDefined:c,maxDefined:u}=this.getUserBounds();function g(h){!c&&!isNaN(h.min)&&(i=Math.min(i,h.min)),!u&&!isNaN(h.max)&&(a=Math.max(a,h.max))}(!c||!u)&&(g(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&g(this.getMinMax(!1))),i=Nr(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),a=Nr(a)&&!isNaN(a)?a:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const a=this.min,c=this.max,u=DM(i,a,c);return this._unit=n.unit||(r.autoSkip?Np(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):oO(this,u.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:iO(this._unit),this.initOffsets(i),t.reverse&&u.reverse(),$p(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,i,a;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?n=1-i:n=(this.getDecimalForValue(t[1])-i)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?r=a:r=(a-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;n=qn(n,0,c),r=qn(r,0,c),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,i=this.options,a=i.time,c=a.unit||Np(a.minUnit,n,r,this._getLabelCapacity(n)),u=At(i.ticks.stepSize,1),g=c==="week"?a.isoWeekday:!1,h=Ua(g)||g===!0,m={};let y=n,C,E;if(h&&(y=+t.startOf(y,"isoWeek",g)),y=+t.startOf(y,h?"day":c),t.diff(r,n,c)>1e5*u)throw new Error(n+" and "+r+" are too far apart with stepSize of "+u+" "+c);const A=i.ticks.source==="data"&&this.getDataTimestamps();for(C=y,E=0;C<r;C=+t.add(C,u,c),E++)Lp(m,C,A);return(C===r||i.bounds==="ticks"||E===1)&&Lp(m,C,A),Object.keys(m).sort(Rp).map(k=>+k)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const i=this.options.time.displayFormats,a=this._unit,c=n||i[a];return this._adapter.format(t,c)}_tickFormatFunction(t,n,r,i){const a=this.options,c=a.ticks.callback;if(c)return nn(c,[t,n,r],this);const u=a.time.displayFormats,g=this._unit,h=this._majorUnit,m=g&&u[g],y=h&&u[h],C=r[n],E=h&&y&&C&&C.major;return this._adapter.format(t,i||(E?y:m))}generateTickLabels(t){let n,r,i;for(n=0,r=t.length;n<r;++n)i=t[n],i.label=this._tickFormatFunction(i.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,i=Ts(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(i),c=Math.sin(i),u=this._resolveTickFontOptions(0).size;return{w:r*a+u*c,h:r*c+u*a}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,a=this._tickFormatFunction(t,0,$p(this,[t],this._majorUnit),i),c=this._getLabelSize(a),u=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)t=t.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)t.push(Op(this,i[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Uy(t.sort(Rp))}}function Nl(e,t,n){let r=0,i=e.length-1,a,c,u,g;n?(t>=e[r].pos&&t<=e[i].pos&&({lo:r,hi:i}=Ro(e,"pos",t)),{pos:a,time:u}=e[r],{pos:c,time:g}=e[i]):(t>=e[r].time&&t<=e[i].time&&({lo:r,hi:i}=Ro(e,"time",t)),{time:a,pos:u}=e[r],{time:c,pos:g}=e[i]);const h=c-a;return h?u+(g-u)*(t-a)/h:u}class _oe extends jp{static id="timeseries";static defaults=jp.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Nl(n,this.min),this._tableRange=Nl(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,i=[],a=[];let c,u,g,h,m;for(c=0,u=t.length;c<u;++c)h=t[c],h>=n&&h<=r&&i.push(h);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(c=0,u=i.length;c<u;++c)m=i[c+1],g=i[c-1],h=i[c],Math.round((m+g)/2)!==h&&a.push({time:h,pos:c/(u-1)});return a}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,a)=>i-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(Nl(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return Nl(this._table,r*this._tableRange+this._minPos,!0)}}const Db={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},lO={ariaLabel:{type:String},ariaDescribedby:{type:String}},cO={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...Db,...lO},dO=K2[0]==="2"?(e,t)=>Object.assign(e,{attrs:t}):(e,t)=>Object.assign(e,t);function hi(e){return Qa(e)?St(e):e}function uO(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;return Qa(t)?new Proxy(e,{}):e}function xO(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function Sb(e,t){e.labels=t}function Fb(e,t,n){const r=[];e.datasets=t.map(i=>{const a=e.datasets.find(c=>c[n]===i[n]);return!a||!i.data||r.includes(a)?{...i}:(r.push(a),Object.assign(a,i),a)})}function fO(e,t){const n={labels:[],datasets:[]};return Sb(n,e.labels),Fb(n,e.datasets,t),n}const hO=$r({props:cO,setup(e,t){let{expose:n,slots:r}=t;const i=pe(null),a=nx(null);n({chart:a});const c=()=>{if(!i.value)return;const{type:h,data:m,options:y,plugins:C,datasetIdKey:E}=e,A=fO(m,E),k=uO(A,m);a.value=new rl(i.value,{type:h,data:k,options:{...y},plugins:C})},u=()=>{const h=St(a.value);h&&(e.destroyDelay>0?setTimeout(()=>{h.destroy(),a.value=null},e.destroyDelay):(h.destroy(),a.value=null))},g=h=>{h.update(e.updateMode)};return Qn(c),Vo(u),En([()=>e.options,()=>e.data],(h,m)=>{let[y,C]=h,[E,A]=m;const k=St(a.value);if(!k)return;let D=!1;if(y){const I=hi(y),$=hi(E);I&&I!==$&&(xO(k,I),D=!0)}if(C){const I=hi(C.labels),$=hi(A.labels),P=hi(C.datasets),S=hi(A.datasets);I!==$&&(Sb(k.config.data,I),D=!0),P&&P!==S&&(Fb(k.config.data,P,e.datasetIdKey),D=!0)}D&&br(()=>{g(k)})},{deep:!0}),()=>cr("canvas",{role:"img","aria-label":e.ariaLabel,"aria-describedby":e.ariaDescribedby,ref:i},[cr("p",{},[r.default?r.default():""])])}});function Y0(e,t){return rl.register(t),$r({props:Db,setup(n,r){let{expose:i}=r;const a=nx(null),c=u=>{a.value=u?.chart};return i({chart:a}),()=>cr(hO,dO({ref:c},{type:e,...n}))}})}const Vu=Y0("bar",aP),gO=Y0("doughnut",sb),Xl=Y0("line",cP),pO=Y0("pie",dP),mO={class:"space-y-6"},yO={class:"flex justify-between items-center"},bO={class:"text-sm text-gray-500"},vO={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},EO={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},wO={class:"flex items-center justify-between mb-4"},CO={class:"text-xs font-medium text-green-600 bg-green-50 px-2 py-1 rounded-full"},AO={class:"text-3xl font-bold text-gray-900"},BO={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},_O={class:"text-3xl font-bold text-gray-900"},kO={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},DO={class:"text-3xl font-bold text-gray-900"},SO={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},FO={class:"text-3xl font-bold text-gray-900"},TO={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},MO={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-100"},IO={class:"h-64"},PO={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-100"},RO={class:"h-64 flex justify-center"},OO={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},NO={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-100"},LO={class:"h-64"},$O={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-100"},jO={class:"space-y-4"},UO={class:"pt-4 border-t border-gray-100"},HO={class:"flex gap-3"},zO={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},VO={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-100"},qO={class:"flex items-center justify-between mb-4"},WO={class:"px-2 py-1 bg-green-100 text-green-800 text-xs font-semibold rounded-full animate-pulse"},GO={key:0,class:"space-y-4 max-h-96 overflow-y-auto"},QO={class:"relative"},KO={class:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold"},YO={class:"text-sm font-medium text-gray-900"},XO={class:"text-xs text-gray-500"},ZO={key:1,class:"text-center py-8 text-gray-500 text-sm"},JO={class:"lg:col-span-2 bg-white p-6 rounded-xl shadow-sm border border-gray-100"},eN={class:"flex items-center justify-between mb-4"},tN={class:"space-y-4"},nN={class:"flex-shrink-0 mt-1"},rN={key:0,class:"bg-blue-100 text-blue-600 p-1.5 rounded-lg text-xs"},sN={key:1,class:"bg-purple-100 text-purple-600 p-1.5 rounded-lg text-xs"},oN={key:2,class:"bg-orange-100 text-orange-600 p-1.5 rounded-lg text-xs"},iN={key:3,class:"bg-gray-200 text-gray-700 p-1.5 rounded-lg text-xs"},aN={key:4,class:"bg-gray-100 text-gray-600 p-1.5 rounded-lg text-xs"},lN={class:"flex-1 min-w-0"},cN={class:"text-sm font-medium text-gray-900"},dN={class:"font-bold"},uN={class:"text-blue-600"},xN={class:"text-xs text-gray-500 mt-0.5 truncate"},fN={class:"text-xs text-gray-400 whitespace-nowrap"},hN={key:0,class:"text-center py-8 text-gray-500"},gN={__name:"ITDashboard",props:{stats:Object,activeUsers:Number,onlineUsers:Array,moduleStats:Object,hourlyStats:Array,topUsers:Array,recentActivities:Array},setup(e){rl.register(_b,kb,yb,mb,vb,hb,WR,Bb,wb);const t=e,n=Ke(()=>({labels:Array.from({length:24},(g,h)=>`${h}:00`),datasets:[{label:"Activities",data:t.hourlyStats,borderColor:"#3B82F6",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4,fill:!0}]})),r=Ke(()=>({labels:Object.keys(t.moduleStats),datasets:[{data:Object.values(t.moduleStats),backgroundColor:["#3B82F6","#F59E0B","#10B981","#EF4444","#8B5CF6","#EC4899","#6B7280"]}]})),i=Ke(()=>({labels:t.topUsers.map(g=>g.name),datasets:[{label:"Total Actions",data:t.topUsers.map(g=>g.count),backgroundColor:"#8B5CF6",borderRadius:6}]})),a={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,grid:{display:!0,borderDash:[2,2]}},x:{grid:{display:!1}}}},c={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right"}}},u={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0},x:{grid:{display:!1}}}};return(g,h)=>(U(),wt(Kn,{title:"IT Admin Dashboard"},{default:vt(()=>[s("div",mO,[s("div",yO,[h[0]||(h[0]=s("div",null,[s("h2",{class:"text-2xl font-bold text-gray-900"},"IT Admin Dashboard"),s("p",{class:"text-sm text-gray-600"},"System Monitoring & Statistics")],-1)),s("div",bO," Last updated: "+R(new Date().toLocaleTimeString()),1)]),s("div",vO,[s("div",EO,[s("div",wO,[h[1]||(h[1]=s("div",{class:"bg-blue-100 p-3 rounded-lg"},[s("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})])],-1)),s("span",CO,"+"+R(e.stats.total_today)+" Today",1)]),s("h3",AO,R(e.stats.total_today),1),h[2]||(h[2]=s("p",{class:"text-sm text-gray-500 mt-1"},"Total Activities Today",-1))]),s("div",BO,[h[3]||(h[3]=s("div",{class:"flex items-center justify-between mb-4"},[s("div",{class:"bg-purple-100 p-3 rounded-lg"},[s("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})])]),s("span",{class:"text-xs font-medium text-purple-600 bg-purple-50 px-2 py-1 rounded-full"},"Active Now")],-1)),s("h3",_O,R(e.activeUsers),1),h[4]||(h[4]=s("p",{class:"text-sm text-gray-500 mt-1"},"Unique Users Today",-1))]),s("div",kO,[h[5]||(h[5]=s("div",{class:"flex items-center justify-between mb-4"},[s("div",{class:"bg-orange-100 p-3 rounded-lg"},[s("svg",{class:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])]),s("span",{class:"text-xs font-medium text-gray-600 bg-gray-50 px-2 py-1 rounded-full"},"Weekly")],-1)),s("h3",DO,R(e.stats.total_week),1),h[6]||(h[6]=s("p",{class:"text-sm text-gray-500 mt-1"},"Activities This Week",-1))]),s("div",SO,[h[7]||(h[7]=s("div",{class:"flex items-center justify-between mb-4"},[s("div",{class:"bg-green-100 p-3 rounded-lg"},[s("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])]),s("span",{class:"text-xs font-medium text-gray-600 bg-gray-50 px-2 py-1 rounded-full"},"Monthly")],-1)),s("h3",FO,R(e.stats.total_month),1),h[8]||(h[8]=s("p",{class:"text-sm text-gray-500 mt-1"},"Activities This Month",-1))])]),s("div",TO,[s("div",MO,[h[9]||(h[9]=s("h3",{class:"text-lg font-bold text-gray-900 mb-4"},"Hourly Activity (Last 24h)",-1)),s("div",IO,[Ft(Ge(Xl),{data:n.value,options:a},null,8,["data"])])]),s("div",PO,[h[10]||(h[10]=s("h3",{class:"text-lg font-bold text-gray-900 mb-4"},"System Usage by Module",-1)),s("div",RO,[Ft(Ge(gO),{data:r.value,options:c},null,8,["data"])])])]),s("div",OO,[s("div",NO,[h[11]||(h[11]=s("h3",{class:"text-lg font-bold text-gray-900 mb-4"},"Top 5 Most Active Users",-1)),s("div",LO,[Ft(Ge(Vu),{data:i.value,options:u},null,8,["data"])])]),s("div",$O,[h[18]||(h[18]=s("h3",{class:"text-lg font-bold text-gray-900 mb-4"},"System Health & Actions",-1)),s("div",jO,[h[16]||(h[16]=s("div",{class:"flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-100"},[s("div",{class:"flex items-center gap-3"},[s("div",{class:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),s("span",{class:"font-medium text-green-900"},"Database Connection")]),s("span",{class:"text-sm text-green-700"},"Healthy")],-1)),h[17]||(h[17]=s("div",{class:"flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-100"},[s("div",{class:"flex items-center gap-3"},[s("div",{class:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),s("span",{class:"font-medium text-green-900"},"Queue Worker")]),s("span",{class:"text-sm text-green-700"},"Running")],-1)),s("div",UO,[h[15]||(h[15]=s("h4",{class:"text-sm font-semibold text-gray-700 mb-3"},"Quick Links",-1)),s("div",HO,[Ft(Ge(fn),{href:"/activity-log",class:"text-sm text-blue-600 hover:text-blue-800 hover:underline"},{default:vt(()=>[...h[12]||(h[12]=[Ve("View Full Logs",-1)])]),_:1}),h[14]||(h[14]=s("span",{class:"text-gray-300"},"|",-1)),Ft(Ge(fn),{href:"/master-data",class:"text-sm text-blue-600 hover:text-blue-800 hover:underline"},{default:vt(()=>[...h[13]||(h[13]=[Ve("Manage Master Data",-1)])]),_:1})])])])])]),s("div",zO,[s("div",VO,[s("div",qO,[h[19]||(h[19]=s("h3",{class:"text-lg font-bold text-gray-900"},"Online Users",-1)),s("span",WO,R(e.onlineUsers.length)+" Active ",1)]),e.onlineUsers.length>0?(U(),V("div",GO,[(U(!0),V(je,null,nt(e.onlineUsers,m=>(U(),V("div",{key:m.id,class:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded-lg transition-colors"},[s("div",QO,[s("div",KO,R(m.name.charAt(0).toUpperCase()),1),h[20]||(h[20]=s("div",{class:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-white rounded-full"},null,-1))]),s("div",null,[s("p",YO,R(m.name),1),s("p",XO,R(m.email),1)])]))),128))])):(U(),V("div",ZO," No users currently online. "))]),s("div",JO,[s("div",eN,[h[22]||(h[22]=s("h3",{class:"text-lg font-bold text-gray-900"},"Recent Activity Feed",-1)),Ft(Ge(fn),{href:"/activity-log",class:"text-sm text-blue-600 hover:text-blue-800 hover:underline"},{default:vt(()=>[...h[21]||(h[21]=[Ve("View All",-1)])]),_:1})]),s("div",tN,[(U(!0),V(je,null,nt(e.recentActivities,m=>(U(),V("div",{key:m.id+m.module,class:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg border border-gray-100"},[s("div",nN,[m.module==="Incoming"?(U(),V("span",rN,"IN")):m.module==="QC"?(U(),V("span",sN,"QC")):m.module==="Stock Movement"?(U(),V("span",oN,"MV")):m.module==="Master Data"?(U(),V("span",iN,"MD")):(U(),V("span",aN,R(m.module.substring(0,2).toUpperCase()),1))]),s("div",lN,[s("p",cN,[s("span",dN,R(m.user),1),h[23]||(h[23]=s("span",{class:"font-normal text-gray-600"}," performed ",-1)),s("span",uN,R(m.action),1)]),s("p",xN,R(m.description),1)]),s("div",fN,R(m.created_at),1)]))),128)),e.recentActivities.length===0?(U(),V("div",hN," No recent activities found. ")):xe("",!0)])])])])]),_:1}))}},pN=Object.freeze(Object.defineProperty({__proto__:null,default:gN},Symbol.toStringTag,{value:"Module"})),mN={class:"min-h-screen transition-colors duration-300"},yN={class:"min-h-screen bg-gray-50 p-6 relative"},bN={key:0,class:"fixed inset-0 bg-white/90 backdrop-blur-sm z-50 flex flex-col items-center justify-center"},vN={class:"bg-white p-8 rounded-xl shadow-2xl flex flex-col items-center border border-gray-100"},EN={class:"text-xl font-bold text-gray-800"},wN={class:"text-gray-500 mt-2"},CN={key:1,class:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4"},AN={class:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[80vh] flex flex-col"},BN={class:"p-6 overflow-y-auto"},_N={class:"space-y-4"},kN={class:"flex items-start gap-3"},DN={class:"bg-red-200 text-red-800 text-xs font-bold px-2 py-1 rounded"},SN={class:"flex-1"},FN={class:"text-sm font-medium text-red-900"},TN={class:"mt-2"},MN={class:"mt-2 text-xs bg-white p-2 rounded border border-red-100 overflow-x-auto"},IN={class:"mb-6"},PN={class:"flex justify-between items-center"},RN={class:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6"},ON={class:"border-b border-gray-200"},NN={class:"-mb-px flex space-x-8 px-6"},LN=["onClick"],$N={class:"p-6"},jN={class:"flex flex-wrap gap-3 mb-6"},UN={class:"flex flex-wrap gap-4 mb-6"},HN={class:"flex-1 min-w-64"},zN=["placeholder"],VN={class:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-200"},qN={class:"overflow-x-auto"},WN={class:"min-w-full divide-y divide-gray-200"},GN={class:"bg-white divide-y divide-gray-200"},QN={class:"px-6 py-4 whitespace-nowrap"},KN={class:"text-sm font-mono text-gray-900"},YN={class:"px-6 py-4"},XN={class:"text-sm text-gray-900"},ZN={class:"px-6 py-4 whitespace-nowrap"},JN={class:"text-sm text-gray-900"},eL={class:"px-6 py-4 whitespace-nowrap"},tL={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800"},nL={class:"px-6 py-4 whitespace-nowrap"},rL={class:"text-sm text-gray-900"},sL={class:"px-6 py-4 whitespace-nowrap"},oL={class:"px-6 py-4 whitespace-nowrap"},iL={class:"px-6 py-4 whitespace-nowrap"},aL={class:"px-6 py-4 whitespace-nowrap"},lL={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},cL=["onClick"],dL=["onClick"],uL={class:"p-4 border-t"},xL={class:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-200"},fL={class:"overflow-x-auto"},hL={class:"min-w-full divide-y divide-gray-200"},gL={class:"bg-white divide-y divide-gray-200"},pL={class:"px-6 py-4 whitespace-nowrap"},mL={class:"text-sm font-mono text-gray-900"},yL={class:"px-6 py-4"},bL={class:"text-sm font-medium text-gray-900"},vL={class:"px-6 py-4"},EL={class:"text-sm text-gray-900"},wL={class:"px-6 py-4 whitespace-nowrap"},CL={class:"text-sm text-gray-900"},AL={class:"px-6 py-4 whitespace-nowrap"},BL={class:"text-sm text-gray-900"},_L={class:"px-6 py-4 whitespace-nowrap"},kL={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},DL=["onClick"],SL=["onClick"],FL={class:"p-4 border-t"},TL={class:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-200"},ML={class:"overflow-x-auto"},IL={class:"min-w-full divide-y divide-gray-200"},PL={class:"bg-white divide-y divide-gray-200"},RL={class:"px-6 py-4 whitespace-nowrap"},OL={class:"text-sm font-mono text-gray-900"},NL={class:"px-6 py-4 whitespace-nowrap"},LL={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"},$L={class:"px-6 py-4 whitespace-nowrap"},jL={class:"px-6 py-4 whitespace-nowrap"},UL={class:"px-6 py-4 whitespace-nowrap"},HL={key:0},zL=["onClick"],VL={key:1,class:"text-sm text-gray-400"},qL={class:"px-6 py-4 whitespace-nowrap"},WL=["onClick"],GL={key:1,class:"text-gray-400 text-xs"},QL={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},KL=["onClick"],YL=["onClick"],XL={class:"p-4 border-t"},ZL={class:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-200"},JL={class:"overflow-x-auto"},e$={class:"min-w-full divide-y divide-gray-200"},t$={class:"bg-white divide-y divide-gray-200"},n$={class:"px-6 py-4 whitespace-nowrap"},r$={class:"text-sm font-medium text-gray-900"},s$={class:"px-6 py-4 whitespace-nowrap"},o$={class:"text-sm text-gray-900"},i$={class:"px-6 py-4 whitespace-nowrap"},a$={class:"px-6 py-4 whitespace-nowrap"},l$={class:"text-sm text-gray-900"},c$={class:"px-6 py-4 whitespace-nowrap"},d$={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},u$=["onClick"],x$=["onClick"],f$={class:"p-4 border-t"},h$={key:2,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},g$={class:"bg-white rounded-lg p-6 w-full max-w-lg border border-gray-200 shadow-2xl"},p$={class:"flex justify-between items-center mb-6"},m$={class:"text-xl font-semibold text-gray-900"},y$={class:"flex justify-center mb-6 bg-gray-50 p-6 rounded-lg"},b$=["src"],v$={class:"bg-blue-50 rounded-lg p-4 mb-6 space-y-2"},E$={class:"flex justify-between"},w$={class:"text-sm font-bold text-gray-900"},C$={class:"flex justify-between"},A$={class:"text-sm text-gray-900"},B$={class:"flex justify-between"},_$={class:"text-sm text-gray-900"},k$={class:"flex justify-between"},D$={class:"text-sm text-gray-900"},S$={class:"flex justify-between"},F$={class:"text-sm text-gray-900"},T$={key:3,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},M$={class:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto border border-gray-200"},I$={class:"flex justify-between items-center mb-6"},P$={class:"text-xl font-semibold text-gray-900"},R$={key:0,class:"space-y-4"},O$={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},N$={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},L$={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},$$={class:"flex gap-6"},j$={class:"flex items-center"},U$={class:"flex items-center"},H$={key:1,class:"space-y-4"},z$={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},V$={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},q$={key:2,class:"space-y-4"},W$={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},G$={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Q$={key:3,class:"space-y-4"},K$={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Y$={key:0},X$={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Z$=["value"],J$={class:"flex justify-end gap-3 mt-6 pt-4 border-t border-gray-200"},ej={class:"flex items-center gap-2"},tj={key:0,class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},nj={key:1,class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},rj={key:5,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},sj={class:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto border border-gray-200 shadow-2xl"},oj={class:"flex justify-between items-center mb-6"},ij={class:"text-xl font-semibold text-gray-900"},aj={key:0,class:"text-center py-8 text-gray-500"},lj={key:1,class:"text-center py-8 text-gray-500"},cj={key:2,class:"overflow-x-auto"},dj={class:"min-w-full divide-y divide-gray-200"},uj={class:"bg-white divide-y divide-gray-200"},xj={class:"px-4 py-2 whitespace-nowrap text-sm font-medium text-gray-900"},fj={class:"px-4 py-2 text-sm text-gray-900"},hj={class:"px-4 py-2 whitespace-nowrap text-sm text-gray-900"},gj={class:"px-4 py-2 whitespace-nowrap text-sm text-gray-900"},pj={class:"px-4 py-2 whitespace-nowrap text-sm text-gray-900"},mj={class:"px-4 py-2 whitespace-nowrap text-sm text-gray-900"},yj={class:"px-4 py-2 whitespace-nowrap text-sm"},bj={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800"},vj=$r({__name:"MasterData",props:{skuData:{},supplierData:{},binData:{},userData:{},supplierList:{},zoneList:{},roleList:{},activeTab:{},search:{},status:{}},setup(e){const t=e,n=xo();pe(!1);const r=pe(t.activeTab||"sku"),i=pe(t.search||""),a=pe(t.status||""),c=pe(!1),u=pe(null),g=pe(!1),h=pe(null),m=pe(!1),y=pe(!1),C=pe(null),E=pe({}),A=pe(null),k=pe(null),D=[{id:"sku",label:"SKU (Material Master)"},{id:"supplier",label:"Supplier"},{id:"bin",label:"Bin Location"},{id:"user",label:"User & Role"}],I=_=>{if(!_.links||_.links.length<=3)return cr("div");const H=_.links.map((K,de)=>{const ue={"mr-1 mb-1 px-4 py-3 text-sm leading-4 border rounded hover:bg-white focus:border-blue-500 focus:text-blue-500":!0,"bg-blue-500 text-white":K.active,"text-gray-400":K.url===null};return K.url===null?cr("div",{key:de,class:ue,innerHTML:K.label}):cr(fn,{key:de,class:ue,href:K.url,innerHTML:K.label,preserveState:!0,preserveScroll:!0})});return cr("div",{class:"flex flex-wrap -mb-1"},H)},$=Ke(()=>Y.value.data.filter(_=>{const H=!i.value||_.code.toLowerCase().includes(i.value.toLowerCase())||_.name.toLowerCase().includes(i.value.toLowerCase()),K=!a.value||_.status===a.value;return H&&K})),P=Ke(()=>le.value.data.filter(_=>{const H=!i.value||_.code.toLowerCase().includes(i.value.toLowerCase())||_.name.toLowerCase().includes(i.value.toLowerCase()),K=!a.value||_.status===a.value;return H&&K})),S=Ke(()=>ye.value.data.filter(_=>{const H=!i.value||_.code.toLowerCase().includes(i.value.toLowerCase())||_.zone.toLowerCase().includes(i.value.toLowerCase()),K=!a.value||_.status===a.value;return H&&K})),M=Ke(()=>re.value.data.filter(_=>{const H=!i.value||_.jabatan.toLowerCase().includes(i.value.toLowerCase())||_.fullName.toLowerCase().includes(i.value.toLowerCase()),K=!a.value||_.status===a.value;return H&&K})),j=async(_,H)=>{h.value=null,g.value=!0;try{const K=route("bin.stocks.details",{binId:_}),de=await fetch(K);if(!de.ok){we("error",`Gagal memuat detail Bin ${H}`),h.value={bin_code:H,details:[]};return}const ue=await de.json();h.value=ue}catch(K){console.error("Fetch Bin Details error:",K),we("error","Error saat memuat detail material."),h.value={bin_code:H,details:[]}}},L=()=>{g.value=!1,h.value=null},q=()=>D.find(_=>_.id===r.value)?.label||"",T=_=>_==="Active"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",Q=_=>({Normal:"bg-blue-100 text-blue-800",Quarantine:"bg-yellow-100 text-yellow-800",Reject:"bg-red-100 text-red-800",Staging:"bg-purple-100 text-purple-800",Production:"bg-green-100 text-green-800"})[_]||"bg-gray-100 text-gray-800",oe=_=>({Admin:"bg-purple-100 text-purple-800",QC:"bg-blue-100 text-blue-800",Receiving:"bg-green-100 text-green-800",Warehouse:"bg-yellow-100 text-yellow-800",Production:"bg-orange-100 text-orange-800",Supervisor:"bg-red-100 text-red-800"})[_]||"bg-gray-100 text-gray-800",Y=Ke(()=>t.skuData),le=Ke(()=>t.supplierData),ye=Ke(()=>t.binData),re=Ke(()=>t.userData),Ee=pe(t.zoneList||[]),ve=pe(t.roleList||[]),Ce=()=>{const _={sku:{code:"",name:"",uom:"",category:"",subCategory:"",qcRequired:!1,expiry:!1,supplierDefault:"",abcClass:"",status:"Active"},supplier:{code:"",name:"",address:"",contactPerson:"",phone:"",status:"Active"},bin:{code:"",zone:"",capacity:0,type:"",status:"Active"},user:{jabatan:"",password:"",fullName:"",role:"",department:"",status:"Active"}};E.value={..._[r.value]}},he=()=>{m.value=!1,y.value=!1,C.value=null,Ce()},ae=_=>{if(C.value=_,r.value==="bin"){const H=Ee.value.find(K=>K.name===_.zone);E.value={..._,zone:H?.id||""}}else E.value={..._};y.value=!0},ee=async()=>{try{if(r.value!=="user"&&!E.value.code){we("error","Kode wajib diisi");return}if(r.value==="user"){if(!E.value.fullName){we("error","Nama lengkap wajib diisi");return}if(!y.value&&!E.value.password){we("error","Password wajib diisi");return}if(!E.value.role){we("error","Role wajib dipilih");return}if(!E.value.department){we("error","Department wajib dipilih");return}}if(r.value==="bin"){if(!E.value.zone){we("error","Zone wajib dipilih");return}if(!E.value.type){we("error","Type wajib dipilih");return}}const _=y.value?`/master-data/${r.value}/${C.value.id}`:`/master-data/${r.value}`,H=y.value?"PUT":"POST";console.log("Submit data:",{endpoint:_,method:H,data:E.value});const K=await fetch(_,{method:H,headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||"",Accept:"application/json"},body:JSON.stringify(E.value)}),de=await K.json();if(console.log("Response:",de),!K.ok){we("error",de.message||"Terjadi kesalahan");return}we("success",de.message||"Data berhasil disimpan"),he(),setTimeout(()=>window.location.reload(),1500)}catch(_){console.error("Save error:",_),we("error","Error: "+_.message)}},Ie=async _=>{try{const H=await fetch(`/master-data/bin/${_}/qr-code/preview`,{method:"GET",headers:{Accept:"application/json"}}),K=await H.json();if(!H.ok){we("error",K.message||"Gagal memuat QR Code");return}u.value=K.data,c.value=!0}catch(H){console.error("Preview error:",H),we("error","Error saat memuat QR Code")}},$e=async()=>{if(u.value)try{const _=u.value.bin_code,H=binData.value.find(Ye=>Ye.code===_);if(!H){we("error","Bin tidak ditemukan");return}const K=await fetch(`/master-data/bin/${H.id}/qr-code/download`);if(!K.ok){we("error","Gagal mengunduh QR Code");return}const de=await K.blob(),ue=window.URL.createObjectURL(de),ke=document.createElement("a");ke.href=ue,ke.download=`QR_${_}.png`,document.body.appendChild(ke),ke.click(),window.URL.revokeObjectURL(ue),document.body.removeChild(ke),we("success","QR Code berhasil diunduh")}catch(_){console.error("Download error:",_),we("error","Error saat mengunduh QR Code")}},Ne=()=>{if(!u.value)return;const _=window.open("","_blank");if(!_){we("error","Gagal membuka window print. Mohon izinkan popup.");return}const H=`
    <!DOCTYPE html>
    <html>
    <head>
      <title>Print QR Code - ${u.value.bin_code}</title>
      <style>
        body {
          margin: 0;
          padding: 20px;
          font-family: Arial, sans-serif;
          display: flex;
          justify-content: center;
          align-items: center;
          min-height: 100vh;
        }
        .print-container {
          text-align: center;
          max-width: 400px;
        }
        .qr-image {
          width: 300px;
          height: 300px;
          margin: 20px auto;
        }
        .info {
          margin: 10px 0;
          font-size: 16px;
          font-weight: bold;
        }
        @media print {
          body {
            padding: 0;
          }
        }
      </style>
    </head>
    <body>
      <div class="print-container">
        <img src="${u.value.image}" alt="QR Code" class="qr-image">
        <div class="info">Bin Name: ${u.value.bin_name}</div>
        <div class="info">Zone: ${u.value.zone_name}</div>
      </div>
      <script>
        window.onload = function() {
          window.print();
        }
      <\/script>
    </body>
    </html>
  `;_.document.write(H),_.document.close()},tt=async()=>{try{rt.value=!0,Pe.value="Preparing QR Codes...",te.value="Generating printable QR codes for all bins. This may take a moment.";const _=await fetch("/master-data/bins",{method:"GET",headers:{Accept:"application/json"}});if(!_.ok){we("error","Gagal memuat bin locations");return}const H=await _.json();if(!H||H.length===0){we("error","Tidak ada bin location untuk di-print");return}const K=H.map(ut=>fetch(`/master-data/bin/${ut.id}/qr-code/preview`).then(gt=>gt.ok?gt.json():(console.error(`HTTP error for bin ${ut.code}: ${gt.status}`),null)).then(gt=>!gt||!gt.success?(console.error(`Invalid data for bin ${ut.code}`),null):gt.data).catch(gt=>(console.error(`Error fetching QR for bin ${ut.code}:`,gt),null))),ue=(await Promise.all(K)).filter(ut=>ut!==null);if(ue.length===0){we("error","Gagal memuat QR Codes");return}const ke=window.open("","_blank");if(!ke){we("error","Gagal membuka window print. Mohon izinkan popup.");return}let Ye="";const Qe=6;for(let ut=0;ut<ue.length;ut+=Qe){const gt=ue.slice(ut,ut+Qe);Ye+=`
        <div class="page">
            ${gt.map(xt=>`
              <div class="qr-item">
                <img src="${xt.image}" alt="QR Code" class="qr-image">
                <div class="info-container">
                    <div class="info">${xt.bin_name}</div>
                    <div class="info zone">${xt.zone_name}</div>
                </div>
              </div>
            `).join("")}
        </div>
      `}const ht=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Print All QR Codes</title>
        <style>
          * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }
          
          body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
          }
          
          .page {
            width: 210mm;
            /* height: 297mm;  Removed fixed height to avoid overflow */
            padding: 5mm; /* Reduced padding */
            page-break-after: always;
            display: flex;
            flex-wrap: wrap;
            align-content: flex-start;
            gap: 5mm; /* Reduced gap */
          }
          
          .page:last-child {
            page-break-after: auto;
          }
          
          .qr-item {
            width: 70mm;
            height: 80mm;
            border: 1px dashed #ccc;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            text-align: center;
            overflow: hidden;
            padding-top: 2mm;
            page-break-inside: avoid; /* Prevent item splitting */
          }
          
          .qr-image {
            width: 60mm;
            height: 60mm;
            margin-bottom: 1mm;
          }
          
          .info-container {
             height: 18mm;
             display: flex;
             flex-direction: column;
             justify-content: center;
          }

          .info {
            font-size: 10px;
            font-weight: bold;
            line-height: 1.2;
            word-break: break-all;
          }
          
          .info.zone {
              font-size: 9px;
              color: #555;
          }
          
          @media print {
            body {
              margin: 0;
              padding: 0;
            }
            .page {
              margin: 0;
              padding: 5mm;
              height: auto; 
              min-height: 0; /* Removing min-height */
            }
          }
        </style>
      </head>
      <body>
        ${Ye}
        <script>
          window.onload = function() {
            setTimeout(() => {
              window.print();
            }, 500);
          }
        <\/script>
      </body>
      </html>
    `;ke.document.write(ht),ke.document.close()}catch(_){console.error("Print All QR Codes error:",_),we("error","Error saat print QR Codes")}},Re=()=>{c.value=!1,u.value=null},et=async _=>{if(confirm("Apakah Anda yakin ingin menghapus data ini?"))try{const H=await fetch(`/master-data/${r.value}/${_}`,{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||"",Accept:"application/json"}}),K=await H.json();if(!H.ok){we("error",K.message||"Terjadi kesalahan");return}we("success",K.message),setTimeout(()=>window.location.reload(),1e3)}catch(H){console.error("Delete error:",H),we("error","Error: "+H.message)}},Xe=()=>{A.value?.click()},rt=pe(!1),Pe=pe(""),te=pe(""),_e=pe(!1),J=pe([]);En(()=>n.props.flash,_=>{_?.import_errors&&(J.value=_.import_errors,_e.value=!0)},{deep:!0,immediate:!0});const z=()=>{_e.value=!1,J.value=[]},F=_=>{const H=_.target.files?.[0];if(H){rt.value=!0;const K=new FormData;K.append("file",H),ft.post("/master-data/import-stock",K,{forceFormData:!0,onSuccess:()=>{we("success",`File ${H.name} berhasil diimport!`),setTimeout(()=>window.location.reload(),1e3)},onError:de=>{console.error("Import error:",de)},onFinish:()=>{rt.value=!1,A.value&&(A.value.value="")}})}},X=()=>{const _={sku:$.value,supplier:P.value,bin:S.value,user:M.value},H=ce(_[r.value]);se(H,`${r.value}_data.csv`),we("success",`Data ${q()} berhasil diexport`)},ce=_=>{if(!_.length)return"";const H=Object.keys(_[0]).join(","),K=_.map(de=>Object.values(de).join(","));return[H,...K].join(`
`)},se=(_,H)=>{const K=new Blob([_],{type:"text/csv;charset=utf-8;"}),de=document.createElement("a");if(de.download!==void 0){const ue=URL.createObjectURL(K);de.setAttribute("href",ue),de.setAttribute("download",H),de.style.visibility="hidden",document.body.appendChild(de),de.click(),document.body.removeChild(de)}},we=(_,H)=>{k.value={type:_,text:H},setTimeout(()=>{k.value=null},3e3)},N=_=>{r.value=_,w()},w=()=>{ft.get(route("master-data.index"),{search:i.value,status:a.value,activeTab:r.value},{preserveState:!0,preserveScroll:!0,only:["skuData","supplierData","binData","userData"],onSuccess:()=>{he()}})};return En(r,()=>{Ce()}),Qn(()=>{Ce()}),(_,H)=>(U(),wt(Kn,{pageTitle:"Master Data",pageDescription:"Kelola data master sistem WMS"},{default:vt(()=>[s("div",mN,[s("div",yN,[rt.value?(U(),V("div",bN,[s("div",vN,[H[29]||(H[29]=s("div",{class:"warehouse-loader mb-4"},[s("div",{class:"forklift"},[s("div",{class:"forks"})]),s("div",{class:"box"})],-1)),s("h3",EN,R(Pe.value||"Processing..."),1),s("p",wN,R(te.value||"Please wait while we process your request."),1)])])):xe("",!0),_e.value?(U(),V("div",CN,[s("div",AN,[s("div",{class:"p-6 border-b border-gray-100 flex justify-between items-center bg-red-50 rounded-t-xl"},[H[31]||(H[31]=s("div",{class:"flex items-center gap-3"},[s("div",{class:"bg-red-100 p-2 rounded-full"},[s("svg",{class:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])]),s("div",null,[s("h3",{class:"text-lg font-bold text-gray-900"},"Import Errors"),s("p",{class:"text-sm text-red-600"},"Terjadi kesalahan pada beberapa baris data")])],-1)),s("button",{onClick:z,class:"text-gray-400 hover:text-gray-600"},[...H[30]||(H[30]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),s("div",BN,[s("div",_N,[(U(!0),V(je,null,nt(J.value,(K,de)=>(U(),V("div",{key:de,class:"bg-red-50 border border-red-100 rounded-lg p-4"},[s("div",kN,[s("span",DN,"Row "+R(K.row),1),s("div",SN,[s("p",FN,R(K.message),1),s("details",TN,[H[32]||(H[32]=s("summary",{class:"text-xs text-red-600 cursor-pointer hover:underline"},"View Row Data",-1)),s("pre",MN,R(K.data),1)])])])]))),128))])]),s("div",{class:"p-6 border-t border-gray-100 bg-gray-50 rounded-b-xl flex justify-end"},[s("button",{onClick:z,class:"bg-gray-900 hover:bg-gray-800 text-white px-4 py-2 rounded-lg transition-colors"}," Close & Fix Data ")])])])):xe("",!0),s("div",IN,[s("div",PN,[H[34]||(H[34]=s("div",null,[s("h1",{class:"text-3xl font-bold text-gray-900"},"Master Data"),s("p",{class:"text-gray-600 mt-1"},"Kelola data master untuk seluruh sistem WMS")],-1)),s("div",null,[s("button",{onClick:Xe,class:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors shadow-sm"},[...H[33]||(H[33]=[s("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})],-1),Ve(" Import Initial Stock ",-1)])]),s("input",{ref_key:"fileInput",ref:A,type:"file",accept:".xlsx,.xls,.csv",onChange:F,class:"hidden"},null,544)])])]),s("div",RN,[s("div",ON,[s("nav",NN,[(U(),V(je,null,nt(D,K=>s("button",{key:K.id,onClick:de=>N(K.id),class:Se([r.value===K.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","py-4 px-1 border-b-2 font-medium text-sm transition-colors"])},R(K.label),11,LN)),64))])]),s("div",$N,[s("div",jN,[s("button",{onClick:H[0]||(H[0]=K=>m.value=!0),class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},[H[35]||(H[35]=s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)),Ve(" Tambah "+R(q()),1)]),s("button",{onClick:X,class:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},[...H[36]||(H[36]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),Ve(" Export Excel ",-1)])]),r.value==="bin"?(U(),V("button",{key:0,onClick:tt,class:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},[...H[37]||(H[37]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})],-1),Ve(" Print All QR Codes ",-1)])])):xe("",!0)]),s("div",UN,[s("div",HN,[me(s("input",{"onUpdate:modelValue":H[1]||(H[1]=K=>i.value=K),onKeyup:Ni(w,["enter"]),type:"text",placeholder:"Cari "+q()+"...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,40,zN),[[Oe,i.value]])]),me(s("select",{"onUpdate:modelValue":H[2]||(H[2]=K=>a.value=K),class:"px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...H[38]||(H[38]=[s("option",{value:""},"Semua Status",-1),s("option",{value:"Active"},"Active",-1),s("option",{value:"Inactive"},"Inactive",-1)])],512),[[lt,a.value]])]),me(s("div",null,[s("div",VN,[s("div",qN,[s("table",WN,[H[39]||(H[39]=s("thead",{class:"bg-gray-50"},[s("tr",null,[s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Kode Item"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Nama Material"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"UoM"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Kategori"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Sub Kategori"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Halal"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"QC Required"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Expiry"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),s("tbody",GN,[(U(!0),V(je,null,nt($.value,K=>(U(),V("tr",{key:K.id,class:"hover:bg-gray-50"},[s("td",QN,[s("div",KN,R(K.code),1)]),s("td",YN,[s("div",XN,R(K.name),1)]),s("td",ZN,[s("div",JN,R(K.uom),1)]),s("td",eL,[s("span",tL,R(K.category),1)]),s("td",nL,[s("div",rL,R(K.subCategory||"-"),1)]),s("td",sL,[s("span",{class:Se([K.halalStatus==="Halal"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800","px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(K.halalStatus||"-"),3)]),s("td",oL,[s("span",{class:Se(K.qcRequired?"text-green-600":"text-gray-400")},R(K.qcRequired?"":""),3)]),s("td",iL,[s("span",{class:Se(K.expiry?"text-green-600":"text-gray-400")},R(K.expiry?"":""),3)]),s("td",aL,[s("span",{class:Se([T(K.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(K.status),3)]),s("td",lL,[s("button",{onClick:de=>ae(K),class:"text-blue-600 hover:text-blue-900"},"Edit",8,cL),s("button",{onClick:de=>et(K.id),class:"text-red-600 hover:text-red-900"},"Hapus",8,dL)])]))),128))])])]),s("div",uL,[Ft(I,{links:Y.value.links},null,8,["links"])])])],512),[[sn,r.value==="sku"]]),me(s("div",null,[s("div",xL,[s("div",fL,[s("table",hL,[H[40]||(H[40]=s("thead",{class:"bg-gray-50"},[s("tr",null,[s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Supplier Code"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Supplier Name"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Address"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Contact Person"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Phone"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),s("tbody",gL,[(U(!0),V(je,null,nt(P.value,K=>(U(),V("tr",{key:K.id,class:"hover:bg-gray-50"},[s("td",pL,[s("div",mL,R(K.code),1)]),s("td",yL,[s("div",bL,R(K.name),1)]),s("td",vL,[s("div",EL,R(K.address),1)]),s("td",wL,[s("div",CL,R(K.contactPerson),1)]),s("td",AL,[s("div",BL,R(K.phone),1)]),s("td",_L,[s("span",{class:Se([T(K.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(K.status),3)]),s("td",kL,[s("button",{onClick:de=>ae(K),class:"text-blue-600 hover:text-blue-900"},"Edit",8,DL),s("button",{onClick:de=>et(K.id),class:"text-red-600 hover:text-red-900"},"Hapus",8,SL)])]))),128))])])]),s("div",FL,[Ft(I,{links:le.value.links},null,8,["links"])])])],512),[[sn,r.value==="supplier"]]),me(s("div",null,[s("div",TL,[s("div",ML,[s("table",IL,[H[42]||(H[42]=s("thead",{class:"bg-gray-50"},[s("tr",null,[s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Bin Code"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Zone"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Type"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Material Count"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"QR Code"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),s("tbody",PL,[(U(!0),V(je,null,nt(S.value,K=>(U(),V("tr",{key:K.id,class:"hover:bg-gray-50"},[s("td",RL,[s("div",OL,R(K.code),1)]),s("td",NL,[s("span",LL,R(K.zone),1)]),s("td",$L,[s("span",{class:Se([Q(K.type),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(K.type),3)]),s("td",jL,[s("span",{class:Se([T(K.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(K.status),3)]),s("td",UL,[K.current_items_count>0?(U(),V("div",HL,[s("button",{onClick:de=>j(K.id,K.code),class:"text-sm font-semibold text-blue-600 hover:text-blue-800 underline"},R(K.current_items_count)+" Item ",9,zL)])):(U(),V("span",VL,"Kosong"))]),s("td",qL,[K.qrCode||K.id?(U(),V("button",{key:0,onClick:de=>Ie(K.id),class:"text-blue-600 hover:text-blue-900 flex items-center gap-1",title:"Preview QR Code"},[...H[41]||(H[41]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),Ve(" Preview QR ",-1)])],8,WL)):(U(),V("span",GL,"No QR"))]),s("td",QL,[s("button",{onClick:de=>ae(K),class:"text-blue-600 hover:text-blue-900"},"Edit",8,KL),s("button",{onClick:de=>et(K.id),class:"text-red-600 hover:text-red-900"},"Hapus",8,YL)])]))),128))])])]),s("div",XL,[Ft(I,{links:ye.value.links},null,8,["links"])])])],512),[[sn,r.value==="bin"]]),me(s("div",null,[s("div",ZL,[s("div",JL,[s("table",e$,[H[43]||(H[43]=s("thead",{class:"bg-gray-50"},[s("tr",null,[s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"jabatan"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Full Name"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Role"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Department"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),s("tbody",t$,[(U(!0),V(je,null,nt(M.value,K=>(U(),V("tr",{key:K.id,class:"hover:bg-gray-50"},[s("td",n$,[s("div",r$,R(K.jabatan),1)]),s("td",s$,[s("div",o$,R(K.fullName),1)]),s("td",i$,[s("span",{class:Se([oe(K.role),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(K.role),3)]),s("td",a$,[s("div",l$,R(K.department),1)]),s("td",c$,[s("span",{class:Se([T(K.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(K.status),3)]),s("td",d$,[s("button",{onClick:de=>ae(K),class:"text-blue-600 hover:text-blue-900"},"Edit",8,u$),s("button",{onClick:de=>et(K.id),class:"text-red-600 hover:text-red-900"},"Hapus",8,x$)])]))),128))])])]),s("div",f$,[Ft(I,{links:re.value.links},null,8,["links"])])])],512),[[sn,r.value==="user"]])])]),c.value&&u.value?(U(),V("div",h$,[s("div",g$,[s("div",p$,[s("h3",m$,"QR Code - "+R(u.value.bin_code),1),s("button",{onClick:Re,class:"text-gray-400 hover:text-gray-600"},[...H[44]||(H[44]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),s("div",y$,[s("img",{src:u.value.image,alt:"QR Code",class:"w-64 h-64 border-2 border-gray-200 rounded-lg shadow-sm"},null,8,b$)]),s("div",v$,[s("div",E$,[H[45]||(H[45]=s("span",{class:"text-sm font-medium text-gray-600"},"Bin Code:",-1)),s("span",w$,R(u.value.bin_code),1)]),s("div",C$,[H[46]||(H[46]=s("span",{class:"text-sm font-medium text-gray-600"},"Bin Name:",-1)),s("span",A$,R(u.value.bin_name),1)]),s("div",B$,[H[47]||(H[47]=s("span",{class:"text-sm font-medium text-gray-600"},"Zone:",-1)),s("span",_$,R(u.value.zone_name),1)]),s("div",k$,[H[48]||(H[48]=s("span",{class:"text-sm font-medium text-gray-600"},"Type:",-1)),s("span",D$,R(u.value.bin_type),1)]),s("div",S$,[H[49]||(H[49]=s("span",{class:"text-sm font-medium text-gray-600"},"Capacity:",-1)),s("span",F$,R(u.value.capacity),1)])]),s("div",{class:"flex gap-3"},[s("button",{onClick:$e,class:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors"},[...H[50]||(H[50]=[s("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),Ve(" Download ",-1)])]),s("button",{onClick:Ne,class:"flex-1 bg-green-600 hover:bg-green-700 text-white px-4 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors"},[...H[51]||(H[51]=[s("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})],-1),Ve(" Print ",-1)])]),s("button",{onClick:Re,class:"px-4 py-3 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Tutup ")])])])):xe("",!0),m.value||y.value?(U(),V("div",T$,[s("div",M$,[s("div",I$,[s("h3",P$,R(y.value?"Edit":"Tambah")+" "+R(q()),1),s("button",{onClick:he,class:"text-gray-400 hover:text-gray-600"},[...H[52]||(H[52]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),r.value==="sku"?(U(),V("div",R$,[s("div",O$,[s("div",null,[H[53]||(H[53]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Kode Item *",-1)),me(s("input",{"onUpdate:modelValue":H[3]||(H[3]=K=>E.value.code=K),type:"text",placeholder:"ITM001",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Oe,E.value.code]])]),s("div",null,[H[55]||(H[55]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"UoM *",-1)),me(s("select",{"onUpdate:modelValue":H[4]||(H[4]=K=>E.value.uom=K),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...H[54]||(H[54]=[s("option",{value:""},"Pilih UoM",-1),s("option",{value:"PCS"},"PCS",-1),s("option",{value:"KG"},"KG",-1),s("option",{value:"LTR"},"LITER",-1),s("option",{value:"LITER"},"LITER",-1),s("option",{value:"BOX"},"BOX",-1)])],512),[[lt,E.value.uom]])])]),s("div",null,[H[56]||(H[56]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nama Material *",-1)),me(s("input",{"onUpdate:modelValue":H[5]||(H[5]=K=>E.value.name=K),type:"text",placeholder:"Nama material lengkap",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Oe,E.value.name]])]),s("div",N$,[s("div",null,[H[58]||(H[58]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Kategori *",-1)),me(s("select",{"onUpdate:modelValue":H[6]||(H[6]=K=>E.value.category=K),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...H[57]||(H[57]=[s("option",{value:""},"Pilih Kategori",-1),s("option",{value:"Raw Material"},"Raw Material",-1),s("option",{value:"Packaging"},"Packaging",-1),s("option",{value:"Finished Goods"},"Finished Goods",-1),s("option",{value:"Spare Parts"},"Spare Parts",-1)])],512),[[lt,E.value.category]])]),s("div",null,[H[59]||(H[59]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Sub Kategori",-1)),me(s("input",{"onUpdate:modelValue":H[7]||(H[7]=K=>E.value.subCategory=K),type:"text",placeholder:"e.g. Botol, Karton, Chemical, etc",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Oe,E.value.subCategory]])])]),s("div",L$,[s("div",null,[H[61]||(H[61]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Halal Status",-1)),me(s("select",{"onUpdate:modelValue":H[8]||(H[8]=K=>E.value.halalStatus=K),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...H[60]||(H[60]=[s("option",{value:""},"Pilih Status",-1),s("option",{value:"Halal"},"Halal",-1),s("option",{value:"Non Halal"},"Non Halal",-1)])],512),[[lt,E.value.halalStatus]])]),s("div",null,[H[63]||(H[63]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),me(s("select",{"onUpdate:modelValue":H[9]||(H[9]=K=>E.value.status=K),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...H[62]||(H[62]=[s("option",{value:"Active"},"Active",-1),s("option",{value:"Inactive"},"Inactive",-1)])],512),[[lt,E.value.status]])])]),s("div",$$,[s("label",j$,[me(s("input",{"onUpdate:modelValue":H[10]||(H[10]=K=>E.value.qcRequired=K),type:"checkbox",class:"text-blue-600 focus:ring-blue-500 rounded"},null,512),[[qo,E.value.qcRequired]]),H[64]||(H[64]=s("span",{class:"ml-2 text-gray-900"},"QC Required",-1))]),s("label",U$,[me(s("input",{"onUpdate:modelValue":H[11]||(H[11]=K=>E.value.expiry=K),type:"checkbox",class:"text-blue-600 focus:ring-blue-500 rounded"},null,512),[[qo,E.value.expiry]]),H[65]||(H[65]=s("span",{class:"ml-2 text-gray-900"},"Expiry Date Required",-1))])])])):xe("",!0),r.value==="supplier"?(U(),V("div",H$,[s("div",z$,[s("div",null,[H[66]||(H[66]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Supplier Code *",-1)),me(s("input",{"onUpdate:modelValue":H[12]||(H[12]=K=>E.value.code=K),type:"text",placeholder:"SUP001",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Oe,E.value.code]])]),s("div",null,[H[68]||(H[68]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),me(s("select",{"onUpdate:modelValue":H[13]||(H[13]=K=>E.value.status=K),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...H[67]||(H[67]=[s("option",{value:"Active"},"Active",-1),s("option",{value:"Inactive"},"Inactive",-1)])],512),[[lt,E.value.status]])])]),s("div",null,[H[69]||(H[69]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Supplier Name *",-1)),me(s("input",{"onUpdate:modelValue":H[14]||(H[14]=K=>E.value.name=K),type:"text",placeholder:"PT. Nama Supplier",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Oe,E.value.name]])]),s("div",null,[H[70]||(H[70]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Address",-1)),me(s("textarea",{"onUpdate:modelValue":H[15]||(H[15]=K=>E.value.address=K),placeholder:"Alamat lengkap supplier",rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Oe,E.value.address]])]),s("div",V$,[s("div",null,[H[71]||(H[71]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Contact Person",-1)),me(s("input",{"onUpdate:modelValue":H[16]||(H[16]=K=>E.value.contactPerson=K),type:"text",placeholder:"Nama PIC",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Oe,E.value.contactPerson]])]),s("div",null,[H[72]||(H[72]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Phone",-1)),me(s("input",{"onUpdate:modelValue":H[17]||(H[17]=K=>E.value.phone=K),type:"text",placeholder:"0812-3456-7890",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Oe,E.value.phone]])])])])):xe("",!0),r.value==="bin"?(U(),V("div",q$,[s("div",W$,[s("div",null,[H[73]||(H[73]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Bin Code *",-1)),me(s("input",{"onUpdate:modelValue":H[18]||(H[18]=K=>E.value.code=K),type:"text",placeholder:"A1-001",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Oe,E.value.code]])]),s("div",null,[H[75]||(H[75]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Zone *",-1)),me(s("select",{"onUpdate:modelValue":H[19]||(H[19]=K=>E.value.zone=K),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...H[74]||(H[74]=[s("option",{value:""},"Pilih Zone",-1),s("option",{value:"1"},"Zone A",-1),s("option",{value:"2"},"Zone B",-1),s("option",{value:"3"},"Zone C",-1),s("option",{value:"4"},"Cold Storage",-1),s("option",{value:"5"},"Reject",-1)])],512),[[lt,E.value.zone]])])]),s("div",G$,[s("div",null,[H[76]||(H[76]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Capacity",-1)),me(s("input",{"onUpdate:modelValue":H[20]||(H[20]=K=>E.value.capacity=K),type:"number",placeholder:"1000",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Oe,E.value.capacity]])]),s("div",null,[H[78]||(H[78]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Type *",-1)),me(s("select",{"onUpdate:modelValue":H[21]||(H[21]=K=>E.value.type=K),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...H[77]||(H[77]=[s("option",{value:""},"Pilih Type",-1),s("option",{value:"Normal"},"Normal",-1),s("option",{value:"Quarantine"},"Quarantine",-1),s("option",{value:"Reject"},"Reject",-1),s("option",{value:"Staging"},"Staging",-1),s("option",{value:"Production"},"Production",-1)])],512),[[lt,E.value.type]])])]),s("div",null,[H[80]||(H[80]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),me(s("select",{"onUpdate:modelValue":H[22]||(H[22]=K=>E.value.status=K),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...H[79]||(H[79]=[s("option",{value:"Active"},"Active",-1),s("option",{value:"Inactive"},"Inactive",-1)])],512),[[lt,E.value.status]])])])):xe("",!0),r.value==="user"?(U(),V("div",Q$,[s("div",K$,[s("div",null,[H[82]||(H[82]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Jabatan * ",-1)),me(s("select",{"onUpdate:modelValue":H[23]||(H[23]=K=>E.value.jabatan=K),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[...H[81]||(H[81]=[s("option",{value:"",disabled:""},"Pilih jabatan",-1),s("option",{value:"Manager"},"Manager",-1),s("option",{value:"Supervisor"},"Supervisor",-1),s("option",{value:"Staff"},"Staff",-1),s("option",{value:"Intern"},"Intern",-1)])],512),[[lt,E.value.jabatan]])]),y.value?xe("",!0):(U(),V("div",Y$,[H[83]||(H[83]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Password *",-1)),me(s("input",{"onUpdate:modelValue":H[24]||(H[24]=K=>E.value.password=K),type:"password",placeholder:"********",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Oe,E.value.password]])]))]),s("div",null,[H[84]||(H[84]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Full Name *",-1)),me(s("input",{"onUpdate:modelValue":H[25]||(H[25]=K=>E.value.fullName=K),type:"text",placeholder:"John Doe",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Oe,E.value.fullName]])]),s("div",X$,[s("div",null,[H[86]||(H[86]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Role *",-1)),me(s("select",{"onUpdate:modelValue":H[26]||(H[26]=K=>E.value.role=K),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[H[85]||(H[85]=s("option",{value:""},"Pilih Role",-1)),(U(!0),V(je,null,nt(ve.value,K=>(U(),V("option",{key:K.id,value:K.name},R(K.name),9,Z$))),128))],512),[[lt,E.value.role]])]),s("div",null,[H[88]||(H[88]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Department *",-1)),me(s("select",{"onUpdate:modelValue":H[27]||(H[27]=K=>E.value.department=K),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...H[87]||(H[87]=[s("option",{value:""},"Pilih Department",-1),s("option",{value:"Gudang"},"Gudang",-1),s("option",{value:"QC"},"Quality Control",-1),s("option",{value:"Produksi"},"Produksi",-1),s("option",{value:"PPIC"},"PPIC",-1),s("option",{value:"IT"},"IT",-1)])],512),[[lt,E.value.department]])])]),s("div",null,[H[90]||(H[90]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),me(s("select",{"onUpdate:modelValue":H[28]||(H[28]=K=>E.value.status=K),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...H[89]||(H[89]=[s("option",{value:"Active"},"Active",-1),s("option",{value:"Inactive"},"Inactive",-1)])],512),[[lt,E.value.status]])])])):xe("",!0),s("div",J$,[s("button",{onClick:he,class:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Batal "),s("button",{onClick:ee,class:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors"},R(y.value?"Update":"Simpan"),1)])])])):xe("",!0),k.value?(U(),V("div",{key:4,class:Se([k.value.type==="success"?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800","fixed top-4 right-4 border rounded-lg p-4 shadow-lg"]),style:{"z-index":"99999"}},[s("div",ej,[k.value.type==="success"?(U(),V("svg",tj,[...H[91]||(H[91]=[s("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)])])):(U(),V("svg",nj,[...H[92]||(H[92]=[s("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"},null,-1)])])),Ve(" "+R(k.value.text),1)])],2)):xe("",!0),g.value?(U(),V("div",rj,[s("div",sj,[s("div",oj,[s("h3",ij," Material di Bin: "+R(h.value?.bin_code||"Memuat..."),1),s("button",{onClick:L,class:"text-gray-400 hover:text-gray-600"},[...H[93]||(H[93]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),h.value?h.value.details.length===0?(U(),V("div",lj," Bin ini tidak memiliki stok material aktif. ")):(U(),V("div",cj,[s("table",dj,[H[94]||(H[94]=s("thead",{class:"bg-gray-50"},[s("tr",null,[s("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Kode Item"),s("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Nama Material"),s("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Batch/Lot"),s("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Qty Tersedia"),s("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"UoM"),s("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Exp Date"),s("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Status")])],-1)),s("tbody",uj,[(U(!0),V(je,null,nt(h.value.details,K=>(U(),V("tr",{key:K.id},[s("td",xj,R(K.material_code),1),s("td",fj,R(K.material_name),1),s("td",hj,R(K.batch_lot),1),s("td",gj,R(K.qty_available),1),s("td",pj,R(K.uom),1),s("td",mj,R(K.exp_date),1),s("td",yj,[s("span",bj,R(K.status),1)])]))),128))])])])):(U(),V("div",aj,"Memuat data material...")),s("div",{class:"flex justify-end mt-6 pt-4 border-t border-gray-200"},[s("button",{onClick:L,class:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Tutup ")])])])):xe("",!0)])])]),_:1}))}}),Ej=Hi(vj,[["__scopeId","data-v-8788c5a6"]]),wj=Object.freeze(Object.defineProperty({__proto__:null,default:Ej},Symbol.toStringTag,{value:"Module"})),Cj={class:"space-y-6"},Aj={class:"flex justify-between items-center"},Bj={class:"bg-white p-4 rounded-lg shadow space-y-4 md:space-y-0 md:flex md:items-center md:space-x-4"},_j={class:"md:w-1/6"},kj={class:"flex-1"},Dj={class:"md:w-1/6"},Sj={class:"md:w-1/6"},Fj={class:"bg-white rounded-lg shadow overflow-hidden"},Tj={class:"overflow-x-auto"},Mj={class:"min-w-full divide-y divide-gray-200"},Ij={class:"bg-white divide-y divide-gray-200"},Pj={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Rj={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Oj={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Nj={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Lj={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},$j={class:"px-6 py-4 whitespace-nowrap"},jj={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},Uj={class:"flex space-x-2"},Hj=["onClick"],zj=["onClick"],Vj=["onClick"],qj=["onClick"],Wj={class:"bg-gray-50 px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6"},Gj={class:"flex-1 flex items-center justify-between"},Qj={class:"text-sm text-gray-700"},Kj={class:"font-medium"},Yj={class:"font-medium"},Xj={class:"font-medium"},Zj={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},Jj={class:"bg-white rounded-lg max-w-6xl w-full mx-4 max-h-[90vh] overflow-y-auto"},eU={class:"p-6"},tU={class:"flex justify-between items-center mb-6"},nU={class:"text-lg font-semibold text-gray-900"},rU={class:"bg-gray-50 rounded-lg p-4 mb-6"},sU={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm"},oU={class:"ml-2 text-gray-900"},iU={class:"ml-2 text-gray-900"},aU={class:"ml-2 text-gray-900"},lU={class:"ml-2 text-gray-900"},cU={class:"ml-2 text-gray-900"},dU={class:"ml-2 text-gray-900"},uU={class:"ml-2 text-gray-900"},xU={class:"border-t border-gray-200 pt-6"},fU={class:"overflow-x-auto border border-gray-200 rounded-lg"},hU={class:"min-w-full divide-y divide-gray-200",style:{"min-width":"1400px"}},gU={class:"divide-y divide-gray-200 bg-white"},pU={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},mU={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},yU={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},bU={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},vU={class:"font-semibold mb-1"},EU={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},wU={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},CU={class:"px-3 py-2 whitespace-nowrap"},AU={class:"flex gap-1"},BU={key:0,class:"bg-green-500 text-white px-2 py-1 text-xs rounded"},_U={key:1,class:"bg-red-500 text-white px-2 py-1 text-xs rounded"},kU={class:"px-3 py-2 whitespace-nowrap"},DU={class:"flex gap-1"},SU={key:0,class:"bg-green-500 text-white px-2 py-1 text-xs rounded"},FU={key:1,class:"bg-red-500 text-white px-2 py-1 text-xs rounded"},TU={class:"px-3 py-2 whitespace-nowrap"},MU={class:"flex gap-1"},IU={key:0,class:"bg-green-500 text-white px-2 py-1 text-xs rounded"},PU={key:1,class:"bg-red-500 text-white px-2 py-1 text-xs rounded"},RU={class:"px-3 py-2 whitespace-nowrap"},OU={class:"flex gap-1"},NU={key:0,class:"bg-green-500 text-white px-2 py-1 text-xs rounded"},LU={key:1,class:"bg-red-500 text-white px-2 py-1 text-xs rounded"},$U={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},jU={class:"px-3 py-2 whitespace-nowrap"},UU={class:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200"},HU={key:1,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},zU={class:"bg-white rounded-lg max-w-4xl w-full mx-4 max-h-[80vh] overflow-y-auto"},VU={class:"p-6"},qU={class:"flex justify-between items-center mb-6"},WU={class:"text-lg font-semibold text-gray-900"},GU={class:"bg-gray-50 rounded-lg p-4 mb-6"},QU={class:"grid grid-cols-2 gap-4 text-sm"},KU={class:"ml-2 text-gray-900"},YU={class:"ml-2 text-gray-900"},XU={class:"ml-2 text-gray-900"},ZU={class:"ml-2 text-gray-900"},JU={class:"space-y-4"},eH={key:0,class:"space-y-4"},tH={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},nH={class:"font-medium text-gray-900 mb-2"},rH={class:"text-sm text-gray-600 space-y-1"},sH={class:"bg-gray-100 p-2 rounded font-mono text-xs text-gray-800 mt-3"},oH={class:"flex space-x-2 mt-3"},iH=["onClick"],aH={class:"flex flex-col items-center justify-center"},lH={class:"bg-white p-4 rounded-lg border-2 border-gray-300 mb-2"},cH=["data-qr-canvas"],dH={key:1,class:"text-center py-8 text-gray-500"},uH={key:2,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},xH={class:"bg-white rounded-lg max-w-6xl w-full mx-4 max-h-[90vh] overflow-y-auto"},fH={class:"p-6"},hH={class:"border p-4 mb-6 rounded-lg bg-indigo-50 border-indigo-200"},gH={class:"flex flex-col sm:flex-row gap-4 items-end"},pH={class:"flex-grow"},mH=["disabled"],yH={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},bH={key:0,class:"text-sm text-green-600 mt-2 font-medium"},vH={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6"},EH={class:"block text-sm font-medium text-gray-700 mb-1"},wH={key:0},CH=["readonly"],AH={class:"relative"},BH={key:0,class:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto"},_H=["onClick"],kH={key:0,class:"text-xs text-gray-500 mt-1"},DH={class:"block text-sm font-medium text-gray-700 mb-1"},SH={key:0},FH={class:"block text-sm font-medium text-gray-700 mb-1"},TH={key:0},MH={class:"border-t border-gray-200 pt-6"},IH={class:"overflow-x-auto border border-gray-200 rounded-lg"},PH={class:"min-w-full divide-y divide-gray-200",style:{"min-width":"1400px"}},RH={class:"divide-y divide-gray-200 bg-white"},OH={class:"px-3 py-2 whitespace-nowrap"},NH={class:"flex gap-1"},LH=["onClick"],$H=["onClick"],jH={class:"px-3 py-2 whitespace-nowrap"},UH=["onUpdate:modelValue"],HH=["value"],zH={class:"px-3 py-2 whitespace-nowrap"},VH={class:"relative"},qH=["onUpdate:modelValue","onInput","onFocus","onBlur"],WH={key:0,class:"absolute z-20 w-80 mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto",style:{"z-index":"99999"}},GH=["onMousedown"],QH={key:1,class:"text-xs text-gray-500 mt-1"},KH={class:"px-3 py-2 whitespace-nowrap"},YH=["onUpdate:modelValue"],XH={class:"px-3 py-2 whitespace-nowrap"},ZH=["onUpdate:modelValue"],JH={class:"px-3 py-2 whitespace-nowrap"},ez=["onUpdate:modelValue"],tz={class:"px-3 py-2 whitespace-nowrap"},nz=["onUpdate:modelValue"],rz={class:"px-3 py-2 whitespace-nowrap"},sz=["onUpdate:modelValue"],oz={class:"px-3 py-2 whitespace-nowrap"},iz={class:"flex gap-1"},az=["onClick"],lz=["onClick"],cz={class:"px-3 py-2 whitespace-nowrap"},dz={class:"flex gap-1"},uz=["onClick"],xz=["onClick"],fz={class:"px-3 py-2 whitespace-nowrap"},hz={class:"flex gap-1"},gz=["onClick"],pz=["onClick"],mz={class:"px-3 py-2 whitespace-nowrap"},yz={class:"flex gap-1"},bz=["onClick"],vz=["onClick"],Ez={class:"px-3 py-2 whitespace-nowrap"},wz=["onUpdate:modelValue"],Cz={class:"px-3 py-2 whitespace-nowrap"},Az={class:"text-sm text-gray-600"},Bz={class:"px-3 py-2 whitespace-nowrap"},_z=["onClick"],kz={key:0,class:"mt-6 p-4 bg-yellow-50 rounded-lg border border-yellow-200"},Dz={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Sz={class:"font-bold text-gray-900 truncate"},Fz={class:"text-md font-extrabold text-blue-600 mt-1"},Tz={class:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200"},Mz={class:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200"},Iz=["disabled"],Pz={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Rz={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},Oz={class:"bg-white rounded-lg max-w-4xl w-full mx-4 max-h-[80vh] overflow-y-auto"},Nz={class:"p-6"},Lz={class:"flex justify-between items-center mb-6"},$z={class:"text-lg font-semibold text-gray-900"},jz={class:"bg-gray-50 rounded-lg p-4 mb-6"},Uz={class:"grid grid-cols-2 gap-4 text-sm"},Hz={class:"ml-2 text-gray-900"},zz={class:"ml-2 text-gray-900"},Vz={class:"ml-2 text-gray-900"},qz={class:"ml-2 text-gray-900"},Wz={class:"space-y-4"},Gz={key:0,class:"space-y-4"},Qz={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Kz={class:"font-medium text-gray-900 mb-2"},Yz={class:"text-sm text-gray-600 space-y-1"},Xz={class:"bg-gray-100 p-2 rounded font-mono text-xs text-gray-800 mt-3"},Zz={class:"flex space-x-2 mt-3"},Jz=["onClick"],eV=["onClick"],tV={class:"flex flex-col items-center justify-center"},nV={class:"bg-white p-4 rounded-lg border-2 border-gray-300 mb-2"},rV=["data-qr-canvas"],sV={key:1,class:"text-center py-8 text-gray-500"},oV={key:3,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},iV={class:"bg-white rounded-lg shadow-xl max-w-lg w-full p-6 border-l-4 border-yellow-500"},aV={class:"text-gray-600 mb-4"},lV={class:"space-y-3 max-h-60 overflow-y-auto mb-6 pr-2"},cV={class:"font-mono font-bold text-gray-800"},dV=["onClick"],uV={class:"flex justify-end"},xV={key:4,class:"fixed inset-0 bg-gray-600 bg-opacity-75 z-[10001] flex items-center justify-center p-4"},fV={class:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto"},hV={class:"p-6"},gV={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"},pV={class:"flex justify-end space-x-3 pt-4 border-t border-gray-200"},mV=["disabled"],yV={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},bV=$r({__name:"PenerimaanBarang",props:{shipments:Object,purchaseOrders:Array,suppliers:Array,materials:Array,filters:Object},setup(e){const t=e,n=pe(""),r=pe([]),i=pe(t.filters?.search||""),a=pe(t.filters?.date_start||""),c=pe(t.filters?.date_end||""),u=pe(t.filters?.limit||"10");function g(N,w){let _;return function(...H){const K=this;clearTimeout(_),_=setTimeout(()=>N.apply(K,H),w)}}const h=g(()=>{ft.get("/transaction/goods-receipt",{search:i.value,date_start:a.value,date_end:c.value,limit:u.value},{preserveState:!0,preserveScroll:!0,replace:!0})},500);En([i,a,c,u],()=>{h()});const m=pe(!1),y=pe(!1),C=pe(!1),E=pe(!1),A=pe(null),k=pe({noPo:"",noSuratJalan:"",supplier:"",noKendaraan:"",namaDriver:"",tanggalTerima:new Date().toISOString().slice(0,16),kategori:"",subCategory:"",supplierName:"",incomingNumber:"",erpPdfFile:null,isErpDataLoaded:!1,items:[]}),D=pe(!1),I=pe(!1),$=pe([]),P=pe(!1),S=pe(!1),M=pe({code:"",name:"",uom:"",category:"",subCategory:"",halalStatus:"",qcRequired:!1,status:"Active"}),j=Ke(()=>k.value.noPo&&k.value.noSuratJalan&&k.value.supplier&&k.value.noKendaraan&&k.value.namaDriver&&k.value.kategori&&k.value.subCategory&&k.value.items.length>0?k.value.items.every(_=>_.kodeItem&&_.batchLot&&_.expDate&&_.qtyWadah&&_.qtyUnit):!1),L=Ke(()=>{const N={};return k.value.items.forEach(w=>{const _=w.kodeItem,H=parseInt(w.qtyWadah)||0,K=parseInt(w.qtyUnit)||0;if(_){const de=t.materials.find(ke=>ke.id===_),ue=H*K;N[_]?N[_].totalQty+=ue:N[_]={totalQty:ue,materialName:w.namaMaterial||w.kodeItemDisplay,satuan:de?de.unit:"Pcs"}}}),Object.values(N)}),q=N=>{A.value=N,E.value=!0},T=()=>{E.value=!1,A.value=null},Q=()=>{y.value=!1,ve()},oe=()=>{C.value=!1,A.value=null},Y=N=>{k.value.erpPdfFile=N.target.files?N.target.files[0]:null,k.value.isErpDataLoaded=!1},le=async()=>{if(!k.value.erpPdfFile){alert("Mohon pilih file PDF ERP terlebih dahulu.");return}D.value=!0,k.value.isErpDataLoaded=!1;const N=new FormData;N.append("erp_pdf",k.value.erpPdfFile);try{const _=(await Bt.post("/transaction/goods-receipt/parse-erp-pdf",N,{headers:{"Content-Type":"multipart/form-data"}})).data;k.value.items=[],k.value.incomingNumber=_.incoming_number||"",k.value.noSuratJalan=_.no_surat_jalan&&_.no_surat_jalan!=="N/A"?_.no_surat_jalan:"N/A",k.value.noPo=_.no_po||"",k.value.noKendaraan=_.no_truck||"-",k.value.namaDriver=_.driver_name||"-",_.tanggal_terima&&(k.value.tanggalTerima=_.tanggal_terima);const H=t.suppliers.find(ue=>ue.nama_supplier.toLowerCase().includes(_.supplier_name.toLowerCase())||ue.kode_supplier.toLowerCase()===_.supplier_code.toLowerCase());if(H?(k.value.supplier=H.id,k.value.supplierName=H.nama_supplier,n.value=H.nama_supplier):(k.value.supplier="",k.value.supplierName=_.supplier_name?`*${_.supplier_name}`:"",n.value=_.supplier_name||""),_.items.forEach(ue=>{const ke=t.materials.find(Qe=>Qe.code==ue.kode_material);let Ye="Karantina";ke&&ke.qcRequired===!1&&(Ye="Karantina"),k.value.items.length===0&&ke&&(k.value.kategori=ke.kategori||"",k.value.subCategory=ke.subCategory||""),k.value.items.push({kodeItem:ke?ke.id:"",kodeItemDisplay:ue.kode_material,namaMaterial:ke?ke.name:ue.description,batchLot:"",expDate:"",qtyWadah:ue.quantity,qtyUnit:"1",pabrikPembuat:k.value.supplierName||"",skuSearch:ue.kode_material,filteredMaterials:[],showSuggestions:!1,kondisiBaik:!0,kondisiTidakBaik:!1,coaAda:!0,coaTidakAda:!1,labelMfgAda:!0,labelMfgTidakAda:!1,labelCoaSesuai:!0,labelCoaTidakSesuai:!1,statusQC:Ye,binTarget:"QRT-HALAL",isHalal:!0,isNonHalal:!1})}),!k.value.kategori&&k.value.items.length>0){const ue=k.value.items.find(ke=>ke.kodeItem);if(ue){const ke=t.materials.find(Ye=>Ye.id===ue.kodeItem);ke&&(k.value.kategori=ke.kategori||"",k.value.subCategory=ke.subCategory||"")}}k.value.isErpDataLoaded=!0;const K=k.value.items.filter(ue=>!ue.kodeItem&&ue.skuSearch).map(ue=>ue.skuSearch),de=[...new Set(K)];de.length>0?($.value=de,I.value=!0):alert(`Berhasil memuat ${_.items.length} item dari PDF.`)}catch(w){console.error("Error processing ERP PDF:",w),w.response&&w.response.data&&w.response.data.error?alert(w.response.data.error):alert("Gagal memproses file. Pastikan format PDF sesuai.")}finally{D.value=!1}},ye=N=>{M.value={code:N,name:"",uom:"",category:"",subCategory:"",halalStatus:"",qcRequired:!1,status:"Active"},P.value=!0},re=()=>{P.value=!1},Ee=async()=>{if(!M.value.name||!M.value.uom||!M.value.category){alert("Mohon lengkapi Nama, UoM, dan Kategori.");return}S.value=!0;try{const N=await Bt.post("/master-data/sku",M.value);N.data.success&&(alert("Material berhasil ditambahkan!"),ft.reload({only:["materials"],onSuccess:()=>{const w=M.value.code;$.value=$.value.filter(H=>H!==w);const _=N.data.data;k.value.items.forEach(H=>{H.skuSearch===w&&(H.kodeItem=_.id,H.namaMaterial=_.nama_material,H.kodeItemDisplay=_.kode_item)}),re(),$.value.length===0&&(I.value=!1,alert("Semua material yang hilang telah ditambahkan."))}}))}catch(N){console.error("Error saving material:",N),alert("Gagal menyimpan material: "+(N.response?.data?.message||N.message))}finally{S.value=!1}},ve=()=>{k.value={noPo:"",noSuratJalan:"",supplier:"",noKendaraan:"",namaDriver:"",tanggalTerima:new Date().toISOString().slice(0,16),kategori:"",subCategory:"",supplierName:"",incomingNumber:"",erpPdfFile:null,isErpDataLoaded:!1,items:[]},n.value=""},Ce=()=>{const N=k.value.items;if(N.length>0){const w=N[N.length-1],_=JSON.parse(JSON.stringify(w));_.qtyWadah="",_.qtyUnit="",k.value.items.push(_)}else k.value.items.push({kodeItem:"",kodeItemDisplay:"",namaMaterial:"",batchLot:"",expDate:"",qtyWadah:"",qtyUnit:"",pabrikPembuat:k.value.supplierName||"",skuSearch:"",filteredMaterials:[],showSuggestions:!1,kondisiBaik:!0,kondisiTidakBaik:!1,coaAda:!0,coaTidakAda:!1,labelMfgAda:!0,labelMfgTidakAda:!1,labelCoaSesuai:!0,labelCoaTidakSesuai:!1,statusQC:"Karantina",binTarget:"QRT-HALAL",isHalal:!0,isNonHalal:!1})},he=[{code:"QRT-HALAL",name:"Karantina Halal"},{code:"QRT-NON HALAL",name:"Karantina Non Halal"},{code:"QRT-HALAL-AC",name:"Karantina hALAL AC"}],ae=N=>{k.value.items.splice(N,1)},ee=(N,w)=>{w==="isHalal"||w==="isNonHalal"?(N.isHalal=!1,N.isNonHalal=!1):w==="kondisiBaik"||w==="kondisiTidakBaik"?(N.kondisiBaik=!1,N.kondisiTidakBaik=!1):w==="coaAda"||w==="coaTidakAda"?(N.coaAda=!1,N.coaTidakAda=!1):w==="labelMfgAda"||w==="labelMfgTidakAda"?(N.labelMfgAda=!1,N.labelMfgTidakAda=!1):(w==="labelCoaSesuai"||w==="labelCoaTidakSesuai")&&(N.labelCoaSesuai=!1,N.labelCoaTidakSesuai=!1),N[w]=!0},Ie=()=>{if(n.value.length<2){r.value=[];return}const N=n.value.toLowerCase();r.value=t.suppliers.filter(w=>{if(!w)return!1;const _=w.nama_supplier||"",H=w.code||"";return _.toLowerCase().includes(N)||H.toLowerCase().includes(N)}).slice(0,10)},$e=N=>{k.value.supplier=N.id,k.value.supplierName=N.nama_supplier,n.value=N.nama_supplier,r.value=[]},Ne=N=>{const w=k.value.items[N],_=w.skuSearch.toLowerCase();if(_.length<2){w.filteredMaterials=[];return}w.filteredMaterials=t.materials.filter(H=>H.code.toLowerCase().includes(_)||H.name.toLowerCase().includes(_)).slice(0,10)},tt=(N,w)=>{const _=k.value.items[N];_.kodeItem=w.id,_.kodeItemDisplay=w.code,_.namaMaterial=w.name,_.pabrikPembuat=w.mfg,_.statusQC=w.qcRequired?"To QC":"Direct Putaway",_.skuSearch=w.code,_.filteredMaterials=[],_.showSuggestions=!1,w.halalStatus==="Halal"?(_.isHalal=!0,_.isNonHalal=!1):w.halalStatus==="Non Halal"&&(_.isHalal=!1,_.isNonHalal=!0),w.kategori&&(k.value.kategori=w.kategori),w.subCategory&&(k.value.subCategory=w.subCategory)},Re=()=>{if(m.value){console.log("Penyimpanan sedang dalam proses. Permintaan diabaikan.");return}if(!j.value){alert("Mohon lengkapi semua field yang diperlukan");return}m.value=!0,console.log("Data yang akan dikirim:",JSON.stringify(k.value,null,2)),ft.post("/transaction/goods-receipt",k.value,{preserveScroll:!0,onBefore:()=>{console.log("Request dimulai...")},onSuccess:N=>{console.log("Response sukses:",N),console.log("Flash messages:",N.props.flash),Q(),ft.reload({only:["shipments"]}),alert("Penerimaan berhasil disimpan")},onError:N=>{console.error("Validation errors:",N);let w=`Gagal menyimpan:
`;Object.entries(N).forEach(([_,H])=>{w+=`${_}: ${H}
`}),alert(w)},onFinish:()=>{m.value=!1,console.log("Request selesai")}})},et=N=>new Date(N).toLocaleString("id-ID",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),Xe=N=>N?new Date(N.split("T")[0]).toLocaleDateString("id-ID",{year:"numeric",month:"2-digit",day:"2-digit"}):"-",rt=N=>{if(!N)return{text:"N/A",class:"text-gray-500"};const w=new Date(N.split("T")[0]),_=new Date;_.setHours(0,0,0,0);const H=w.getTime()-_.getTime(),K=Math.ceil(H/(1e3*60*60*24));return K<0?{text:"Expired",class:"bg-red-500 text-white"}:K===0?{text:"Hari Ini!",class:"bg-red-400 text-white"}:K<=30?{text:`${K} hari lagi`,class:"bg-orange-400 text-white"}:K<=90?{text:`${K} hari lagi`,class:"bg-yellow-400 text-gray-900"}:{text:`${K} hari lagi`,class:"text-green-600"}},Pe=N=>new Date(N).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}),te=N=>({Draft:"bg-gray-100 text-gray-800",Karantina:"bg-yellow-100 text-yellow-800",Proses:"bg-orange-100 text-orange-800",Selesai:"bg-green-100 text-green-800"})[N]||"bg-gray-100 text-gray-800",_e=N=>{const w=window.open("","_blank"),_=new Date(N.tanggalTerima),H=_.getFullYear(),K=String(_.getMonth()+1).padStart(2,"0"),de=N.incomingNumber||N.id,ue=`GR-${H}${K}-${de}`,ke=(We,pn)=>We?`<span style="font-weight: bold;">${pn} </span>`:`<span style="text-decoration: line-through; color: #888;">${pn}</span>`;let Ye="",Qe=1,ht=0,ut=0;N.items.forEach((We,pn)=>{const Yn=parseInt(We.qtyWadah||"0"),Bn=parseInt(We.qtyUnit||"0");ht+=Yn,ut+=Yn*Bn;const Zt=Qe,Ur=Zt+Yn-1;Qe=Ur+1;let Qt="PCS";if(We.kodeItem){const Jr=t.materials.find(Ln=>Ln.id==We.kodeItem||Ln.code==We.kodeItem);Jr&&(Qt=Jr.unit)}let on;Yn===0?on="N/A":Zt===Ur?on=Zt:on=`${Zt}-${Ur}`,Ye+=`
            <tr>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle; height: 40px;">
                    ${on}
                </td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;">
                    ${We.kondisiBaik?"":""}
                </td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;">
                    ${We.kondisiTidakBaik?"":""}
                </td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;"></td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;"></td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;">
                    ${We.labelMfgAda?"":""}
                </td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;">
                    ${We.labelMfgTidakAda?"":""}
                </td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;">${Qt}</td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;">N/A</td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;">N/A</td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;">${We.qtyUnit?parseInt(We.qtyUnit):""}</td>
            </tr>
        `});for(let We=N.items.length;We<10;We++)Ye+=`
          <tr>
            <td style="border: 1px solid #000; padding: 8px; height: 40px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
          </tr>
        `;const gt=N.items[0]||{},xt=ke(gt.labelMfgAda,"Ada"),He=ke(gt.labelMfgTidakAda,"Tidak"),Pt=ke(gt.labelCoaSesuai,"Ada"),be=ke(gt.labelCoaTidakSesuai,"Tidak"),Ae=ke(gt.coaAda,"Ada"),pt=ke(gt.coaTidakAda,"Tidak"),kt=ke(gt.isHalal,"Halal"),Ot=ke(gt.isNonHalal,"Non-Halal");w.document.write(`
        <html>
        <head>
            <title>Form Checklist Penerimaan Material - ${N.noSuratJalan}</title>
            <style>
            @page {
                size: A4;
                margin: 1cm;
            }
            
            body { 
                font-family: Arial, sans-serif; 
                margin: 0;
                padding: 0;
                font-size: 10px;
                line-height: 1.2;
            }
            
            .main-container {
                border: 2px solid #000;
                padding: 0;
                width: 100%;
                box-sizing: border-box;
            }
            
            .header { 
                text-align: center; 
                padding: 10px;
                border-bottom: 1px solid #000;
                position: relative;
                height: 80px;
                box-sizing: border-box;
            }
            
            .logo-section {
                position: absolute;
                left: 10px;
                top: 10px;
                width: 100px;
                height: 60px;
            }
            
            .logo-box {
                border: 1px solid #000;
                padding: 5px;
                height: 100%;
                box-sizing: border-box;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
            }
            
            .logo-icon {
                width: 30px;
                height: 20px;
                background: linear-gradient(45deg, #4CAF50, #2E7D32);
                margin-bottom: 3px;
                position: relative;
            }
            
            .logo-icon::before {
                content: '';
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                width: 15px;
                height: 15px;
                background: #FFF;
                clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
            }
            
            .company-name {
                font-weight: bold;
                font-size: 8px;
                color: #2E7D32;
            }
            
            .form-number-section {
                position: absolute;
                right: 10px;
                top: 15px;
                width: 120px;
                text-align: center;
            }
            
            .form-number-box {
                background: #000;
                color: white;
                padding: 3px;
                font-size: 9px;
                font-weight: bold;
            }
            
            .header-title {
                margin-top: 10px;
                font-weight: bold;
                font-size: 11px;
            }
            
            .form-fields {
                border-collapse: collapse;
                width: 100%;
            }
            
            .form-fields tr {
                border-bottom: 1px solid #000;
            }
            
            .form-fields tr:last-child {
                border-bottom: none;
            }
            
            .form-fields td {
                border-right: 1px solid #000;
                padding: 6px 8px;
                vertical-align: middle;
                height: 25px;
            }
            
            .form-fields td:last-child {
                border-right: none;
            }
            
            .field-label {
                background-color: #f5f5f5;
                font-weight: bold;
                width: 120px;
            }
            
            .field-value {
                width: auto;
            }
            
            .checkbox-inline {
                display: inline-block;
                margin-right: 15px;
            }

            /* CSS agar tanda centang () terlihat tebal dan coretan terlihat tipis */
            .checkbox-inline span {
                font-size: 10px; /* Base font size */
            }
            .checkbox-inline span[style*="line-through"] {
                color: #888;
                font-weight: normal;
            }
            
            .data-table {
                width: 100%;
                border-collapse: collapse;
                margin-top: 0;
            }
            
            .data-table th,
            .data-table td {
                border: 1px solid #000;
                padding: 5px;
                text-align: center;
                vertical-align: middle;
            }
            
            .data-table th {
                background-color: #f0f0f0;
                font-weight: bold;
                font-size: 9px;
                height: 30px;
            }
            
            .main-header {
                height: 50px;
            }
            
            .sub-header {
                height: 35px;
                font-size: 8px;
                line-height: 1.1;
            }
            
            .kemasan-header {
                width: 200px;
            }
            
            .label-header {
                width: 100px;
            }
            
            .unit-header {
                width: 50px;
            }
            
            .jumlah-headers {
                width: 60px;
            }
            
            .wadah-col {
                width: 60px;
            }
            
            .kemasan-cols {
                width: 100px;
            }
            
            .label-cols {
                width: 50px;
            }
            
            .signature-section {
                border-top: 1px solid #000;
                display: flex;
                height: 120px;
            }
            
            .signature-left,
            .signature-right {
                flex: 1;
                padding: 15px;
                text-align: center;
                position: relative;
            }
            
            .signature-left {
                border-right: 1px solid #000;
            }
            
            .signature-title {
                font-weight: bold;
                margin-bottom: 50px;
            }
            
            .signature-fields {
                position: absolute;
                bottom: 15px;
                left: 15px;
                text-align: left;
                font-size: 9px;
            }
            
            .footer-note {
                padding: 10px;
                font-size: 8px;
                font-style: italic;
                border-top: 1px solid #000;
            }
            
            @media print {
                body {
                    margin: 0;
                    -webkit-print-color-adjust: exact;
                    print-color-adjust: exact;
                }
                .no-print { display: none; }
            }
            </style>
        </head>
        <body>
            <div class="main-container">
                <div class="header">
                    <div class="logo-section">
                        <div class="logo-box">
                            <div class="logo-icon"></div>
                            <div class="company-name">GONDOWANGI</div>
                        </div>
                    </div>
                    
                    <div class="form-number-section">
                        ${ue}
                    </div>
                    
                    <div class="header-title">E-FORM CHECKLIST PENERIMAAN MATERIAL DARI VENDOR</div>
                </div>
                
                <table class="form-fields">
                    <tr>
                        <td class="field-label">Kode Item</td>
                        <td class="field-value">${gt.kodeItem||""}</td>
                    </tr>
                    <tr>
                        <td class="field-label">Nama Material</td>
                        <td class="field-value">${gt.namaMaterial||""}</td>
                    </tr>
                    <tr>
                        <td class="field-label">Label dari Mfg*</td>
                        <td class="field-value">
                            <span class="checkbox-inline">${xt}</span>
                            <span class="checkbox-inline">${He}</span>
                            <span style="margin-left: 100px;">Label & CoA sesuai :</span>
                            <span class="checkbox-inline">${Pt}</span>
                            <span class="checkbox-inline">${be}</span>
                        </td>
                    </tr>
                    <tr>
                        <td class="field-label">Pabrik Pembuat (mfg)*</td>
                        <td class="field-value">${gt.pabrikPembuat||""}</td>
                    </tr>
                    <tr>
                        <td class="field-label">Produksi di negara*</td>
                        <td class="field-value">Indonesia</td>
                    </tr>
                    <tr>
                        <td class="field-label">Supplier</td>
                        <td class="field-value">${N.supplier}</td>
                    </tr>
                    <tr>
                        <td class="field-label">No. PO</td>
                        <td class="field-value">${N.noPo}</td>
                    </tr>
                    <tr>
                        <td class="field-label">No. Surat Jalan</td>
                        <td class="field-value">${N.noSuratJalan}</td>
                    </tr>
                    <tr>
                        <td class="field-label">Mfg. Batch</td>
                        <td class="field-value">${gt.batchLot||""}</td>
                    </tr>
                    <tr>
                        <td class="field-label">ED</td>
                        <td class="field-value">${gt.expDate?Xe(gt.expDate):""}</td>
                    </tr>
                    <tr>
                        <td class="field-label">CoA</td>
                        <td class="field-value">
                            <span class="checkbox-inline">${Ae}</span>
                            <span class="checkbox-inline">${pt}</span>
                        </td>
                    </tr>
                    <tr>
                        <td class="field-label">Kategori Halal</td> <td class="field-value">
                            <span class="checkbox-inline">${kt}</span>
                            <span class="checkbox-inline">${Ot}</span>
                        </td>
                    </tr>
                    
                    <tr>
                        <td class="field-label">Jumlah Wadah</td>
                        <td class="field-value">${ht}</td>
                    </tr>
                    <tr>
                        <td class="field-label">Total Quantity</td>
                        <td class="field-value">${ut}</td>
                    </tr>
                    <tr>
                        <td class="field-label">Tgl. Diterima</td>
                        <td class="field-value">
                            ${Xe(N.tanggalTerima)} &nbsp;&nbsp;&nbsp; -
                            ${Pe(N.tanggalTerima)} WIB &nbsp;&nbsp;&nbsp;
                            
                        </td>
                    </tr>
                    <tr>
                        <td class="field-label">Kategori</td>
                        <td class="field-value">${N.kategori||""}</td>
                    </tr>
                    <tr>
                        <td class="field-label">Nama Driver</td>
                        <td class="field-value">${N.namaDriver}</td>
                    </tr>
                    <tr>
                        <td class="field-label">No Kendaraan</td>
                        <td class="field-value">${N.noKendaraan}</td>
                    </tr>
                </table>
                
                <table class="data-table">
                    <thead>
                        <tr>
                            <th rowspan="2" class="main-header wadah-col">Wadah Ke-</th>
                            <th colspan="4" class="main-header kemasan-header">Kemasan</th>
                            <th colspan="2" class="main-header label-header">Label</th>
                            <th colspan="4" class="main-header">Jumlah</th>
                        </tr>
                        <tr>
                            <th class="sub-header kemasan-cols">BAIK</th>
                            <th class="sub-header kemasan-cols">TIDAK BAIK</th>
                            <th class="sub-header kemasan-cols">Sobek</th>
                            <th class="sub-header kemasan-cols">Penyok yang mempengaruhi material</th>
                            <th class="sub-header label-cols">Ada</th>
                            <th class="sub-header label-cols">Tidak</th>
                            <th class="sub-header unit-header">Unit</th>
                            <th class="sub-header jumlah-headers">Bruto</th>
                            <th class="sub-header jumlah-headers">Tara</th>
                            <th class="sub-header jumlah-headers">Netto</th>
                        </tr>
                        <tr>
                            <th style="height: 25px; font-size: 8px;"></th>
                            <th style="height: 25px; font-size: 7px; line-height: 1;">
                                Bersih, utuh, tidak<br>sobek/penyok, dll
                            </th>
                            <th style="height: 25px; font-size: 7px; line-height: 1;">
                                Kotor (potensi kotor<br>sampai kedalam)
                            </th>
                            <th style="height: 25px; font-size: 8px;"></th>
                            <th style="height: 25px; font-size: 8px;"></th>
                            <th style="height: 25px; font-size: 8px;"></th>
                            <th style="height: 25px; font-size: 8px;"></th>
                            <th style="height: 25px; font-size: 8px;">Jumlah</th>
                            <th style="height: 25px; font-size: 8px;"></th>
                            <th style="height: 25px; font-size: 8px;"></th>
                            <th style="height: 25px; font-size: 8px;"></th>
                        </tr>
                    </thead>
                    <tbody>
                        ${Ye}
                    </tbody>
                </table>
                
                <div class="signature-section">
                    <div class="signature-left">
                        <div class="signature-title">Dilaporkan oleh</div>
                        <div class="signature-fields">
                            <div>Nama &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:</div>
                            <div>Tanggal &nbsp;&nbsp;:</div>
                        </div>
                    </div>
                    <div class="signature-right">
                        <div class="signature-title">Diperiksa Oleh</div>
                        <div class="signature-fields">
                            <div>Nama &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:</div>
                            <div>Tanggal &nbsp;&nbsp;:</div>
                        </div>
                    </div>
                </div>
                
                <div class="footer-note">
                    *khusus untuk bahan baku
                </div>
            </div>
            
            <div class="no-print" style="margin-top: 20px; text-align: center;">
                <button onclick="window.print()" style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;">Print</button>
                <button onclick="window.close()" style="padding: 10px 20px; background: #6c757d; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 10px;">Close</button>
            </div>
        </body>
        </html>
    `),w.document.close(),w.focus()},J=N=>{const w=window.open("","_blank");let _="";N.items.forEach(H=>{_+=`
      <tr>
        <td style="border: 1px solid #000; padding: 8px;">${H.kodeItem}</td>
        <td style="border: 1px solid #000; padding: 8px;">${H.namaMaterial}</td>
        <td style="border: 1px solid #000; padding: 8px; text-align: right;">${H.qtyUnit}</td>
        <td style="border: 1px solid #000; padding: 8px; text-align: center;">Pcs</td>
      </tr>
    `}),w.document.write(`
    <html>
      <head>
        <title>Good Receipt Slip - ${N.noSuratJalan}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; font-size: 12px; }
          .letterhead { text-align: center; margin-bottom: 20px; border-bottom: 2px solid #000; padding-bottom: 15px; }
          .company-info { margin-bottom: 10px; }
          .addresses { display: flex; justify-content: space-between; margin: 20px 0; }
          .address-box { border: 1px solid #000; padding: 15px; width: 45%; }
          .shipment-info { margin: 20px 0; }
          .shipment-table { width: 100%; border-collapse: collapse; margin: 10px 0; }
          .shipment-table th, .shipment-table td { border: 1px solid #000; padding: 5px; }
          .shipment-table th { background-color: #f0f0f0; font-weight: bold; text-align: center; }
          .items-table { width: 100%; border-collapse: collapse; margin: 20px 0; }
          .items-table th, .items-table td { border: 1px solid #000; padding: 8px; }
          .items-table th { background-color: #f0f0f0; font-weight: bold; text-align: center; }
          .signature-section { display: flex; justify-content: space-between; margin-top: 40px; }
          .signature-box { text-align: center; width: 200px; }
          @media print {
            body { margin: 0; }
            .no-print { display: none; }
          }
        </style>
      </head>
      <body>
        <div class="letterhead">
          <div class="company-info">
            <strong>PT. Gondowangi Tradisional Kosmetika</strong><br>
            JL. JABABEKA BLOK U NO. 29-C<br>
            RT/RW:03/03 KARANG BARU<br>
            BEKASI<br>
            Indonesia<br>
            Phone: (021) 8910 7915 - 17 | Fax: (021) 8910 7919 | Website: www.gondowangi.com<br>
            Contact : Reza Rizky - Page: 1
          </div>
        </div>
        
        <div class="addresses">
          <div class="address-box">
            <strong>Supplier Address :</strong><br>
            ${N.supplier}<br>
            Jl. Satria Raya II No. 32 RT 05 RW 09 Margahayu<br>
            Utara-Babakan Ciparay<br>
            Bandung<br>
            Indonesia
          </div>
          <div class="address-box">
            <strong>Contact Address :</strong><br>
            +62.22.5417871
          </div>
        </div>
        
        <div class="shipment-info">
          <strong>Incoming Shipment : ${N.incomingNumber}</strong>
        </div>
        
        <table class="shipment-table">
          <tr>
            <th>No SJ</th>
            <th>Order(Origin)</th>
            <th>Date</th>
            <th>Input by</th>
            <th>No Truck</th>
            <th>Driver Name</th>
          </tr>
          <tr>
            <td>${N.noSuratJalan}</td>
            <td>${N.noPo}</td>
            <td>${et(N.tanggalTerima)}</td>
            <td>Dita A.P</td>
            <td>${N.noKendaraan}</td>
            <td>${N.namaDriver}</td>
          </tr>
        </table>
        
        <table class="items-table">
          <thead>
            <tr>
              <th>Code</th>
              <th>Description</th>
              <th>Quantity</th>
              <th>UoM</th>
            </tr>
          </thead>
          <tbody>
            ${_}
          </tbody>
        </table>
        
        <div class="signature-section">
          <div class="signature-box">
            <strong>Approved By,</strong><br><br><br><br>
            <div style="border-top: 1px solid #000; padding-top: 5px;">
              Reza Rizky<br>
              DD/MM/YYYY
            </div>
          </div>
          <div class="signature-box">
            <strong>Received By,</strong><br><br><br><br>
            <div style="border-top: 1px solid #000; padding-top: 5px;">
              Permadi Rohiman<br>
              DD/MM/YYYY
            </div>
          </div>
        </div>
        
        <div class="no-print" style="margin-top: 20px; text-align: center;">
          <button onclick="window.print()" style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;">Print</button>
          <button onclick="window.close()" style="padding: 10px 20px; background: #6c757d; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 10px;">Close</button>
        </div>
      </body>
    </html>
  `),w.document.close(),w.focus()},z=N=>{const w=[];return!N||!N.items||(N.items.forEach(_=>{const H=parseInt(_.qtyWadah||0);for(let K=1;K<=H;K++){const de=`${N.incomingNumber}|${_.kodeItem}|${_.batchLot}|${K}|${_.expDate}`;w.push({qrContent:de,kodeItem:_.kodeItemDisplay||_.kodeItem,namaMaterial:_.namaMaterial,batchLot:_.batchLot,qtyUnit:_.qtyUnit,qtyWadah:H,wadahKe:K,expDate:_.expDate,supplier:N.supplier,tanggalTerima:N.tanggalTerima})}}),N.qrCodeLabels=w),w},F=N=>{const w=N.items.reduce((_,H)=>_+parseFloat(H.qtyWadah||0),0);w>20&&!confirm(`Peringatan: Jumlah label QR melebihi 20 (${w} label). Membuka preview mungkin akan menyebabkan website melambat. Lanjutkan?`)||(A.value=N,z(A.value),C.value=!0,setTimeout(()=>{X()},100))},X=()=>{if(A.value?.qrCodeLabels){if(typeof y0>"u"){console.error("QRCode library not loaded");return}A.value.qrCodeLabels.forEach((N,w)=>{const _=document.querySelector(`canvas[data-qr-canvas="${w}"]`);if(_){_.getContext("2d").clearRect(0,0,_.width,_.height);try{y0.toCanvas(_,N.qrContent,{width:180,height:180,margin:1,errorCorrectionLevel:"M",color:{dark:"#000000",light:"#FFFFFF"}},function(K){K&&console.error("QR Code generation error:",K)})}catch(K){console.error("Failed to generate QR code:",K)}}})}},ce=N=>{const w=A.value.items.findIndex(H=>H===N),_=document.querySelector(`canvas[data-qr-canvas="${w}"]`);if(_){const H=document.createElement("a");H.download=`QR_${N.kodeItem}_${N.batchLot}.png`,H.href=_.toDataURL("image/png"),H.click()}},se=N=>{const w=A.value.qrCodeLabels.findIndex(K=>K.qrContent===N.qrContent),_=document.querySelector(`canvas[data-qr-canvas="${w}"]`),H=xo().props.auth?.user?.name||"Admin";if(_){const K=window.open("","_blank"),de=_.toDataURL("image/png"),ue=Xe(A.value.tanggalTerima),ke=Xe(N.expDate),Ye=`${N.qtyUnit} Pcs`,Qe=N.qtyWadah>0?`${N.qtyUnit/N.qtyWadah} x ${N.qtyWadah} box`:"";K.document.write(`
            <html>
            <head>
                <title>Label Karantina - ${N.kodeItem} - Wadah ${N.wadahKe}</title>
                <style>
                    body {
                        font-family: 'Arial', sans-serif;
                        margin: 0;
                        padding: 0;
                        display: flex;
                        justify-content: center;
                        align-items: flex-start;
                        min-height: 100vh;
                        background-color: #f0f0f0;
                    }
                    .label-container {
                        width: 10cm; /* Lebar label yang lebih besar agar mirip contoh */
                        height: 7cm; /* Tinggi label */
                        border: 2px solid #000;
                        padding: 5px;
                        box-sizing: border-box;
                        background-color: #fff;
                        display: flex;
                        flex-direction: column;
                        font-size: 10px; 
                        margin-top: 20px; 
                    }
                    .header {
                        display: flex;
                        flex-direction: column;
                        align-items: center;
                        border-bottom: 2px solid #000;
                        padding-bottom: 5px;
                        margin-bottom: 5px;
                    }
                    .logo-img {
                        width: 90px; /* Ukuran logo lebih besar */
                        height: auto;
                        margin-bottom: 5px;
                    }
                    .company-name {
                        font-weight: bold;
                        font-size: 16px; /* Font lebih besar */
                        color: #2d5f3f; 
                        margin-top: 3px;
                    }
                    .status-box {
                        margin-top: 5px;
                        border: 1px solid #000;
                        padding: 2px 5px;
                        font-weight: bold;
                        font-size: 14px; /* Font lebih besar */
                        background-color: #000;
                        color: #fff;
                        width: 100%;
                        text-align: center;
                    }
                    .content {
                        display: flex;
                        flex-grow: 1;
                        padding-top: 5px;
                        gap: 10px; /* Jarak antara info dan QR */
                    }
                    .info-section {
                        flex: 1;
                        display: flex;
                        flex-direction: column;
                        justify-content: space-between;
                    }
                    .info-row {
                        display: flex;
                        margin-bottom: 2px;
                        align-items: baseline; /* Agar teks sejajar di baris pertama */
                    }
                    .info-label {
                        width: 80px; /* Sesuaikan lebar label teks */
                        min-width: 80px;
                        font-weight: normal;
                        flex-shrink: 0;
                    }
                    .info-value {
                        flex: 1;
                        font-weight: bold;
                        overflow: hidden;
                        text-overflow: ellipsis;
                    }
                    .info-value.multi-line {
                        white-space: normal; /* Izinkan wrap untuk detail box */
                    }

                    .qr-section {
                        width: 80px; /* Ukuran QR Code */
                        height: 80px; 
                        display: flex;
                        flex-direction: column;
                        justify-content: flex-start;
                        align-items: flex-end; 
                        flex-shrink: 0; /* Pastikan QR tidak menyusut */
                    }
                    .qr-code {
                        width: 100%;
                        height: 100%;
                        border: 1px solid #ccc;
                    }
                    .footer {
                        display: flex;
                        justify-content: space-between;
                        font-size: 10px; /* Font footer */
                        border-top: 2px solid #000;
                        padding-top: 5px;
                        margin-top: 5px;
                    }
                    .footer-left {
                        font-style: italic;
                    }
                    .footer-right {
                        font-weight: bold;
                    }

                    /* Untuk mode print */
                    @media print {
                        body {
                            background-color: #fff;
                            display: block; 
                            margin: 0;
                            padding: 0;
                            -webkit-print-color-adjust: exact;
                            print-color-adjust: exact;
                        }
                        .label-container {
                            margin: 0;
                            border: 1px solid #000; 
                        }
                        .no-print {
                            display: none;
                        }
                        @page {
                            size: 10cm 7cm; /* Custom size jika ini 1 label per halaman */
                            margin: 0; /* Hapus margin halaman jika ini 1 label per halaman */
                        }
                    }
                </style>
            </head>
            <body>
                <div class="label-container">
                    <div class="header">
                        <img src="https://gondowangi.com/assets/logo/Logo-gondowangi-berwarna.png" alt="Logo Gondowangi" class="logo-img">
                        
                        <div class="status-box">KARANTINA</div>
                    </div>
                    
                    <div class="content">
                        <div class="info-section">
                            <div class="info-row">
                                <div class="info-label">Nama Barang</div>
                                <div class="info-value">: [${N.kodeItem}] ${N.namaMaterial}</div>
                            </div>
                            <div class="info-row">
                                <div class="info-label">Kode Barang</div>
                                <div class="info-value">: ${N.kodeItem}</div>
                            </div>
                            <div class="info-row">
                                <div class="info-label">No Lot</div>
                                <div class="info-value">: ${N.batchLot}</div>
                            </div>
                            <div class="info-row">
                                <div class="info-label">Supplier</div>
                                <div class="info-value">: ${N.supplier}</div>
                            </div>
                            <div class="info-row">
                                <div class="info-label">Jmlh Barang</div>
                                <div class="info-value">: ${Ye}</div>
                            </div>
                            ${Qe?`<div class="info-row">
                                <div class="info-label"></div>
                                <div class="info-value multi-line">: ${Qe}</div>
                            </div>`:""}
                            <div class="info-row">
                                <div class="info-label">Tgl Datang</div>
                                <div class="info-value">: ${ue}</div>
                            </div>
                            <div class="info-row">
                                <div class="info-label">Exp. Date</div>
                                <div class="info-value">: ${ke}</div>
                            </div>
                            <div class="info-row">
                                <div class="info-label">Dibuat Oleh</div>
                                <div class="info-value">: ${H}</div>
                            </div>
                        </div>
                        
                        <div class="qr-section">
                            <img src="${de}" class="qr-code" alt="QR Code">
                        </div>
                    </div>
                    
                    <div class="footer">
                        <span class="footer-left">Logistik</span>
                        <span class="footer-right">QL1001-01 Rev. 02</span>
                    </div>
                </div>
                
                <div class="no-print" style="margin-top: 20px; text-align: center;">
                    <button onclick="window.print()" style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;">Print</button>
                    <button onclick="window.close()" style="padding: 10px 20px; background: #6c757d; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 10px; font-size: 14px;">Close</button>
                </div>
            </body>
            </html>
        `),K.document.close(),K.focus(),setTimeout(()=>{K.print()},500)}},we=()=>{const N=A.value?.qrCodeLabels;if(!N||N.length===0){alert("Tidak ada label QR untuk dicetak.");return}const w=window.open("","_blank"),_=xo().props.auth?.user?.name||"Admin",H=6,K="https://gondowangi.com/assets/logo/Logo-gondowangi-berwarna.png";let de="";for(let ue=0;ue<N.length;ue+=H){const ke=N.slice(ue,ue+H);let Ye="";ke.forEach((Qe,ht)=>{const ut=ue+ht,gt=document.querySelector(`canvas[data-qr-canvas="${ut}"]`);let xt="";gt&&(xt=gt.toDataURL("image/png"));const He=xt?`<img src="${xt}" class="qr-code" alt="QR Code">`:'<div class="qr-placeholder">ERROR</div>',Pt=Xe(A.value.tanggalTerima),be=Xe(Qe.expDate),Ae=`${Qe.qtyUnit} Pcs`,pt=Qe.qtyWadah>0?`${Qe.qtyUnit/Qe.qtyWadah} x ${Qe.qtyWadah} box`:"";Ye+=`
          <div class="label-wrapper">
              <div class="label-container">
                  <div class="header">
                      <img src="${K}" alt="Logo Gondowangi" class="logo-img">
                      <div class="status-box">KARANTINA</div>
                  </div>
                  
                  <div class="content">
                      <div class="info-section">
                          <div class="info-row">
                              <div class="info-label">Nama Barang</div>
                              <div class="info-value">: [${Qe.kodeItem}] ${Qe.namaMaterial}</div>
                          </div>
                          <div class="info-row">
                              <div class="info-label">Kode Barang</div>
                              <div class="info-value">: ${Qe.kodeItem}</div>
                          </div>
                          <div class="info-row">
                              <div class="info-label">No Lot</div>
                              <div class="info-value">: ${Qe.batchLot}</div>
                          </div>
                          <div class="info-row">
                              <div class="info-label">Supplier</div>
                              <div class="info-value">: ${Qe.supplier}</div>
                          </div>
                          <div class="info-row">
                              <div class="info-label">Jmlh Barang</div>
                              <div class="info-value">: ${Ae}</div>
                          </div>
                          ${pt?`<div class="info-row">
                              <div class="info-label">Wadah Detail</div>
                              <div class="info-value multi-line">: ${pt}</div>
                          </div>`:""}
                          <div class="info-row">
                              <div class="info-label">Wadah Ke</div>
                              <div class="info-value">: ${Qe.wadahKe} / ${Qe.qtyWadah}</div>
                          </div>
                          <div class="info-row">
                              <div class="info-label">Tgl Datang</div>
                              <div class="info-value">: ${Pt}</div>
                          </div>
                          <div class="info-row">
                              <div class="info-label">Exp. Date</div>
                              <div class="info-value">: ${be}</div>
                          </div>
                          <div class="info-row">
                              <div class="info-label">Dibuat Oleh</div>
                              <div class="info-value">: ${_}</div>
                          </div>
                      </div>
                      
                      <div class="qr-section">
                          ${He}
                      </div>
                  </div>
                  
                  <div class="footer">
                      <span class="footer-left">Logistik</span>
                      <span class="footer-right">Rev. 02</span>
                  </div>
              </div>
          </div>
      `}),de+=`
            <div class="print-page" style="${ue>0?"page-break-before: always;":""}">
                ${Ye}
            </div>
        `}w.document.write(`
        <html>
        <head>
            <title>Cetak ${N.length} Label QR - ${A.value.noSuratJalan}</title>
            <style>
                /* Pengaturan Halaman A4 untuk cetak 6 label (2x3) */
                @page {
                    size: A4;
                    margin: 0.5cm; /* Margin halaman disetel */
                }
                
                body {
                    font-family: 'Arial', sans-serif;
                    margin: 0;
                    padding: 0;
                    background: white;
                }
                
                .print-page {
                    width: 20cm; /* Lebar A4 efektif */
                    height: 28.7cm; /* Tinggi A4 efektif */
                    margin: 0.5cm auto; 
                    box-sizing: border-box;
                    display: flex;
                    flex-wrap: wrap;
                    align-content: flex-start;
                    justify-content: space-between; 
                }

                /* Container untuk setiap label. 
                   2 kolom (49%) dan 3 baris (33.33% - margin) */
                .label-wrapper {
                    width: 9.9cm; /* Hampir 10cm untuk 2 kolom */
                    height: calc(33.33% - 0.4cm); /* 3 baris di tinggi A4 dikurangi margin */
                    padding: 0; 
                    box-sizing: border-box;
                    margin-bottom: 0.4cm; /* Jarak antar baris */
                    margin-right: 0.1cm;
                    margin-left: 0.1cm;
                }
                
                /* ===========================================
                   GAYA LABEL
                   =========================================== */

                .label-container {
                    width: 100%; 
                    height: 100%; 
                    border: 2px solid #000;
                    padding: 5px; 
                    box-sizing: border-box;
                    background-color: #fff;
                    display: flex;
                    flex-direction: column;
                    font-size: 10px; 
                }
                .header {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    border-bottom: 2px solid #000;
                    padding-bottom: 5px; 
                    margin-bottom: 5px; 
                }
                .logo-img {
                    width: 130px; 
                    height: auto;
                    margin-bottom: 5px;
                }
                .status-box {
                    margin-top: 5px;
                    border-top: 0.8px solid #000; 
                    border-bottom: none;
                    border-left: none;
                    border-right: none;
                    padding: 2px 5px;
                    font-weight: bold;
                    font-size: 14px; 
                    padding: 2px;
                    
                    color: #000; 
                    width: 100%;
                    text-align: center;
                }
                .content {
                    display: flex;
                    flex-grow: 1;
                    padding-top: 5px;
                    gap: 10px; 
                }
                .info-section {
                    flex: 1;
                    display: flex;
                    flex-direction: column;
                    justify-content: space-between;
                }
                .info-row {
                    display: flex;
                    margin-bottom: 2px;
                    align-items: baseline;
                }
                .info-label {
                    width: 80px; 
                    min-width: 80px;
                    font-weight: normal;
                    flex-shrink: 0;
                }
                .info-value {
                    flex: 1;
                    font-weight: bold;
                    overflow: hidden;
                    text-overflow: ellipsis;
                }
                .info-value.multi-line {
                    white-space: normal; 
                }

                .qr-section {
                    width: 80px; 
                    height: 80px; 
                    display: flex;
                    flex-direction: column;
                    justify-content: flex-start;
                    align-items: flex-end; 
                    flex-shrink: 0;
                }
                .qr-code {
                    width: 100%;
                    height: 100%;
                    border: 1px solid #ccc;
                }
                .qr-placeholder { 
                    width: 100%;
                    height: 100%;
                    border: 1px dashed #999;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 10px;
                    color: #999;
                    font-weight: bold;
                }
                
                .footer {
                    display: flex;
                    justify-content: space-between;
                    font-size: 10px; 
                    border-top: 2px solid #000;
                    padding-top: 25px;
                    margin-top: 5px;
                }
                .footer-left {
                    font-style: italic;
                }
                .footer-right {
                    font-weight: bold;
                }
                
                /* Untuk mode print */
                @media print {
                    .print-page { 
                        page-break-after: always;
                        width: initial;
                        height: initial;
                        padding: 1px;
                    }
                    .print-page:last-child { page-break-after: avoid; }
                    body { 
                        -webkit-print-color-adjust: exact; 
                        print-color-adjust: exact;
                        display: block;
                        margin: 0;
                    }
                    /* Mengganti border tebal di print */
                    .label-container {
                        border-top: 0.8px solid #000; 
                        padding: 2px;
                    }
                        
                    .header {
                        border-bottom: 0.8px solid #000; 
                        padding: 2px;
                        padding-bottom: 0px; 
                        margin-bottom: 0px; 
                    }
                    .footer {
                        border-top: 0.8px solid #000; 
                        padding-top: 30px;
                        margin-top: 3px;
                    }
                }
            </style>
        </head>
        <body>
            ${de}
        </body>
        </html>
    `),w.document.close(),w.focus(),setTimeout(()=>{w.print()},500)};return Qn(()=>{ve()}),(N,w)=>(U(),wt(Kn,{title:"Riwayat Aktivitas"},{default:vt(()=>[s("div",Cj,[s("div",Aj,[w[26]||(w[26]=s("h2",{class:"text-2xl font-bold text-gray-900"},"Daftar Penerimaan",-1)),s("button",{onClick:w[0]||(w[0]=_=>y.value=!0),class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},[...w[25]||(w[25]=[s("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),Ve(" Buat Penerimaan ",-1)])])]),s("div",Bj,[s("div",_j,[me(s("select",{"onUpdate:modelValue":w[1]||(w[1]=_=>u.value=_),class:"w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"},[...w[27]||(w[27]=[s("option",{value:"10"},"Show 10",-1),s("option",{value:"25"},"Show 25",-1),s("option",{value:"50"},"Show 50",-1),s("option",{value:"100"},"Show 100",-1),s("option",{value:"all"},"Show All",-1)])],512),[[lt,u.value]])]),s("div",kj,[me(s("input",{"onUpdate:modelValue":w[2]||(w[2]=_=>i.value=_),type:"text",placeholder:"Cari No PO, SJ, Kendaraan...",class:"w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"},null,512),[[Oe,i.value]])]),s("div",Dj,[me(s("input",{"onUpdate:modelValue":w[3]||(w[3]=_=>a.value=_),type:"date",class:"w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Dari Tanggal"},null,512),[[Oe,a.value]])]),s("div",Sj,[me(s("input",{"onUpdate:modelValue":w[4]||(w[4]=_=>c.value=_),type:"date",class:"w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Sampai Tanggal"},null,512),[[Oe,c.value]])])]),s("div",Fj,[s("div",Tj,[s("table",Mj,[w[28]||(w[28]=s("thead",{class:"bg-gray-50"},[s("tr",null,[s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"No PO"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"No Surat Jalan"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Supplier"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tanggal Terima"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"No Kendaraan "),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),s("tbody",Ij,[(U(!0),V(je,null,nt(e.shipments.data,_=>(U(),V("tr",{key:_.id,class:"hover:bg-gray-50"},[s("td",Pj,R(_.noPo),1),s("td",Rj,R(_.noSuratJalan),1),s("td",Oj,R(_.supplier),1),s("td",Nj,R(et(_.tanggalTerima)),1),s("td",Lj,R(_.noKendaraan),1),s("td",$j,[s("span",{class:Se([te(_.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(_.status),3)]),s("td",jj,[s("div",Uj,[s("button",{onClick:H=>q(_),class:"bg-indigo-100 text-indigo-700 hover:bg-indigo-200 px-2 py-1 rounded text-xs"},"Detail",8,Hj),s("button",{onClick:H=>_e(_),class:"bg-green-100 text-green-700 hover:bg-green-200 px-2 py-1 rounded text-xs"},"Cetak Checklist",8,zj),s("button",{onClick:H=>J(_),class:"bg-purple-100 text-purple-700 hover:bg-purple-200 px-2 py-1 rounded text-xs"},"Cetak Finance",8,Vj),s("button",{onClick:H=>F(_),class:"bg-blue-600 text-white hover:bg-blue-700 px-2 py-1 rounded text-xs"}," Cetak Label QR ",8,qj)])])]))),128))])])]),s("div",Wj,[s("div",Gj,[s("div",null,[s("p",Qj,[w[29]||(w[29]=Ve(" Menampilkan ",-1)),s("span",Kj,R(e.shipments.from),1),w[30]||(w[30]=Ve(" sampai ",-1)),s("span",Yj,R(e.shipments.to),1),w[31]||(w[31]=Ve(" dari ",-1)),s("span",Xj,R(e.shipments.total),1),w[32]||(w[32]=Ve(" hasil ",-1))])])])])]),E.value?(U(),V("div",Zj,[s("div",Jj,[s("div",eU,[s("div",tU,[s("h3",nU,"Detail Penerimaan - "+R(A.value?.noSuratJalan),1),s("button",{onClick:T,class:"text-gray-400 hover:text-gray-600"},[...w[33]||(w[33]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),s("div",rU,[s("div",sU,[s("div",null,[w[34]||(w[34]=s("span",{class:"font-medium text-gray-700"},"No Incoming:",-1)),s("span",oU,R(A.value?.incomingNumber),1)]),s("div",null,[w[35]||(w[35]=s("span",{class:"font-medium text-gray-700"},"No PO:",-1)),s("span",iU,R(A.value?.noPo),1)]),s("div",null,[w[36]||(w[36]=s("span",{class:"font-medium text-gray-700"},"Supplier:",-1)),s("span",aU,R(A.value?.supplier),1)]),s("div",null,[w[37]||(w[37]=s("span",{class:"font-medium text-gray-700"},"No Kendaraan:",-1)),s("span",lU,R(A.value?.noKendaraan),1)]),s("div",null,[w[38]||(w[38]=s("span",{class:"font-medium text-gray-700"},"Nama Driver:",-1)),s("span",cU,R(A.value?.namaDriver),1)]),s("div",null,[w[39]||(w[39]=s("span",{class:"font-medium text-gray-700"},"Tanggal Terima:",-1)),s("span",dU,R(et(A.value?.tanggalTerima)),1)]),s("div",null,[w[40]||(w[40]=s("span",{class:"font-medium text-gray-700"},"Kategori:",-1)),s("span",uU,R(A.value?.kategori),1)]),s("div",null,[w[41]||(w[41]=s("span",{class:"font-medium text-gray-700"},"Status:",-1)),s("span",{class:Se([te(A.value?.status),"ml-2 px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(A.value?.status),3)])])]),s("div",xU,[w[43]||(w[43]=s("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Detail Material",-1)),s("div",fU,[s("table",hU,[w[42]||(w[42]=s("thead",{class:"bg-gray-50"},[s("tr",null,[s("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Kode Item"),s("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Nama Material"),s("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Batch/Mfg Lot"),s("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Exp Date"),s("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Qty Wadah"),s("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Qty Unit"),s("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Kondisi"),s("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"CoA "),s("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Label Mfg"),s("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Label & CoA Sesuai"),s("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Pabrik Pembuat"),s("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Status QC")])],-1)),s("tbody",gU,[(U(!0),V(je,null,nt(A.value?.items,(_,H)=>(U(),V("tr",{key:H},[s("td",pU,R(_.kodeItem),1),s("td",mU,R(_.namaMaterial),1),s("td",yU,R(_.batchLot),1),s("td",bU,[s("div",vU,R(Xe(_.expDate)),1),s("span",{class:Se([rt(_.expDate).class,"px-2 py-0.5 text-xs font-medium rounded-full"])},R(rt(_.expDate).text),3)]),s("td",EU,R(parseInt(_.qtyWadah)),1),s("td",wU,R(parseInt(_.qtyUnit)),1),s("td",CU,[s("div",AU,[_.kondisiBaik?(U(),V("span",BU,"Baik")):xe("",!0),_.kondisiTidakBaik?(U(),V("span",_U,"Tidak Baik")):xe("",!0)])]),s("td",kU,[s("div",DU,[_.coaAda?(U(),V("span",SU,"Ada")):xe("",!0),_.coaTidakAda?(U(),V("span",FU,"Tidak")):xe("",!0)])]),s("td",TU,[s("div",MU,[_.labelMfgAda?(U(),V("span",IU,"Ada")):xe("",!0),_.labelMfgTidakAda?(U(),V("span",PU,"Tidak")):xe("",!0)])]),s("td",RU,[s("div",OU,[_.labelCoaSesuai?(U(),V("span",NU,"Sesuai")):xe("",!0),_.labelCoaTidakSesuai?(U(),V("span",LU,"Tidak Sesuai")):xe("",!0)])]),s("td",$U,R(_.pabrikPembuat),1),s("td",jU,[s("span",{class:Se([_.statusQC==="To QC"?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800","px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(_.statusQC),3)])]))),128))])])])]),s("div",UU,[s("button",{onClick:T,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"}," Tutup "),s("button",{onClick:w[5]||(w[5]=_=>_e(A.value)),class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700"}," Cetak Checklist "),s("button",{onClick:w[6]||(w[6]=_=>J(A.value)),class:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700"}," Cetak Finance "),s("button",{onClick:w[7]||(w[7]=_=>F(A.value)),class:"bg-blue-600 hover:bg-blue-700 px-4 py-2 text-white rounded-md"}," Cetak Label QR ")])])])])):xe("",!0),C.value?(U(),V("div",HU,[s("div",zU,[s("div",VU,[s("div",qU,[s("h3",WU,"Label QR Code - "+R(A.value?.noSuratJalan),1),s("button",{onClick:oe,class:"text-gray-400 hover:text-gray-600"},[...w[44]||(w[44]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),s("div",GU,[s("div",QU,[s("div",null,[w[45]||(w[45]=s("span",{class:"font-medium text-gray-700"},"No PO:",-1)),s("span",KU,R(A.value?.noPo),1)]),s("div",null,[w[46]||(w[46]=s("span",{class:"font-medium text-gray-700"},"Supplier:",-1)),s("span",YU,R(A.value?.supplier),1)]),s("div",null,[w[47]||(w[47]=s("span",{class:"font-medium text-gray-700"},"No Kendaraan:",-1)),s("span",XU,R(A.value?.noKendaraan),1)]),s("div",null,[w[48]||(w[48]=s("span",{class:"font-medium text-gray-700"},"Tanggal:",-1)),s("span",ZU,R(et(A.value?.tanggalTerima)),1)])])]),s("div",JU,[w[52]||(w[52]=s("h4",{class:"text-md font-medium text-gray-900"},"Daftar QR Code per Item:",-1)),A.value?.qrCodeLabels&&A.value.qrCodeLabels.length>0?(U(),V("div",eH,[(U(!0),V(je,null,nt(A.value.qrCodeLabels,(_,H)=>(U(),V("div",{key:H,class:"border border-gray-200 rounded-lg p-4"},[s("div",tH,[s("div",null,[s("div",nH,"["+R(_.kodeItem)+"] - "+R(_.namaMaterial),1),s("div",rH,[s("div",null,"Batch: "+R(_.batchLot),1),s("div",null,"Wadah Ke: **"+R(_.wadahKe)+"** / "+R(_.qtyWadah),1),s("div",null,"Qty: "+R(_.qtyUnit),1),s("div",null,"Exp: "+R(Xe(_.expDate)),1)]),s("div",sH,[w[49]||(w[49]=s("strong",null,"QR Content:",-1)),w[50]||(w[50]=s("br",null,null,-1)),Ve(R(_.qrContent.split("|")[2]),1)]),s("div",oH,[s("button",{onClick:K=>se(_),class:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm"}," Cetak QR Wadah "+R(_.wadahKe),9,iH)])]),s("div",aH,[s("div",lH,[s("canvas",{"data-qr-canvas":H,class:"block"},null,8,cH)]),w[51]||(w[51]=s("div",{class:"text-xs text-gray-500 text-center"}," Preview QR Code ",-1))])])]))),128))])):(U(),V("div",dH," Belum ada item untuk shipment ini "))]),s("div",{class:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200"},[s("button",{onClick:oe,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"}," Tutup "),s("button",{onClick:we,class:"bg-blue-600 hover:bg-blue-700 px-4 py-2 text-white rounded-md"}," Cetak Semua QR ")])])])])):xe("",!0),y.value?(U(),V("div",uH,[s("div",xH,[s("div",fH,[s("div",{class:"flex justify-between items-center mb-6"},[w[54]||(w[54]=s("h3",{class:"text-lg font-semibold text-gray-900"},"Buat Penerimaan Baru",-1)),s("button",{onClick:Q,class:"text-gray-400 hover:text-gray-600"},[...w[53]||(w[53]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),s("div",hH,[w[57]||(w[57]=s("h4",{class:"font-bold text-indigo-700 mb-3 flex items-center"},[s("svg",{class:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L10 11.586l2.293-2.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z","clip-rule":"evenodd"}),s("path",{"fill-rule":"evenodd",d:"M10 2a1 1 0 011 1v7a1 1 0 11-2 0V3a1 1 0 011-1z","clip-rule":"evenodd"})]),Ve(" Opsi 1: Upload Data Penerimaan dari PDF ERP ")],-1)),s("div",gH,[s("div",pH,[w[55]||(w[55]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"File PDF dari ERP",-1)),s("input",{onChange:Y,type:"file",accept:".pdf",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white text-gray-900 text-sm"},null,32)]),s("button",{onClick:le,disabled:!k.value.erpPdfFile||D.value,class:"w-full sm:w-auto px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:bg-indigo-300 flex items-center justify-center transition-colors"},[D.value?(U(),V("svg",yH,[...w[56]||(w[56]=[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):xe("",!0),Ve(" "+R(D.value?"Memproses...":"Proses File ERP"),1)],8,mH)]),k.value.isErpDataLoaded?(U(),V("p",bH," Data dari PDF ERP berhasil dimuat! Mohon cek dan lengkapi rincian di bawah. ")):xe("",!0)]),s("div",vH,[s("div",null,[s("label",EH,[w[58]||(w[58]=Ve("No Incoming (ERP) ",-1)),k.value.incomingNumber?(U(),V("span",wH,"(Otomatis)")):xe("",!0)]),me(s("input",{"onUpdate:modelValue":w[8]||(w[8]=_=>k.value.incomingNumber=_),type:"text",placeholder:"Auto dari sistem/ERP",readonly:!!k.value.incomingNumber,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-100 text-gray-900"},null,8,CH),[[Oe,k.value.incomingNumber]])]),s("div",null,[w[59]||(w[59]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"No PO *",-1)),me(s("input",{"onUpdate:modelValue":w[9]||(w[9]=_=>k.value.noPo=_),type:"text",placeholder:"Masukkan No PO",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Oe,k.value.noPo]])]),s("div",null,[w[60]||(w[60]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"No Surat Jalan *",-1)),me(s("input",{"onUpdate:modelValue":w[10]||(w[10]=_=>k.value.noSuratJalan=_),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Oe,k.value.noSuratJalan]])]),s("div",null,[w[61]||(w[61]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Supplier * ",-1)),s("div",AH,[me(s("input",{"onUpdate:modelValue":w[11]||(w[11]=_=>n.value=_),onInput:Ie,type:"text",placeholder:"Ketik untuk mencari Supplier...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,544),[[Oe,n.value]]),r.value.length>0&&n.value?(U(),V("div",BH,[(U(!0),V(je,null,nt(r.value,_=>(U(),V("div",{key:_.id,onClick:H=>$e(_),class:"px-3 py-2 cursor-pointer hover:bg-blue-50 text-gray-900"},R(_.nama_supplier),9,_H))),128))])):xe("",!0)]),k.value.supplierName?(U(),V("p",kH," **Dipilih:** "+R(k.value.supplierName),1)):xe("",!0)]),s("div",null,[w[62]||(w[62]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"No Kendaraan *",-1)),me(s("input",{"onUpdate:modelValue":w[12]||(w[12]=_=>k.value.noKendaraan=_),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Oe,k.value.noKendaraan]])]),s("div",null,[w[63]||(w[63]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nama Driver *",-1)),me(s("input",{"onUpdate:modelValue":w[13]||(w[13]=_=>k.value.namaDriver=_),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Oe,k.value.namaDriver]])]),s("div",null,[w[64]||(w[64]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tanggal & Waktu Terima",-1)),me(s("input",{"onUpdate:modelValue":w[14]||(w[14]=_=>k.value.tanggalTerima=_),type:"datetime-local",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Oe,k.value.tanggalTerima]])]),s("div",null,[s("label",DH,[w[65]||(w[65]=Ve("Kategori ",-1)),k.value.kategori?(U(),V("span",SH,"(Otomatis)")):xe("",!0)]),me(s("input",{"onUpdate:modelValue":w[15]||(w[15]=_=>k.value.kategori=_),type:"text",readonly:"",placeholder:"Auto dari Material",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100 text-gray-900 focus:outline-none"},null,512),[[Oe,k.value.kategori]])]),s("div",null,[s("label",FH,[w[66]||(w[66]=Ve("Sub Kategori ",-1)),k.value.subCategory?(U(),V("span",TH,"(Otomatis)")):xe("",!0)]),me(s("input",{"onUpdate:modelValue":w[16]||(w[16]=_=>k.value.subCategory=_),type:"text",readonly:"",placeholder:"Auto dari Material",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100 text-gray-900 focus:outline-none"},null,512),[[Oe,k.value.subCategory]])])]),s("div",MH,[s("div",{class:"flex justify-between items-center mb-4"},[w[67]||(w[67]=s("h4",{class:"text-lg font-medium text-gray-900"},"Detail Material",-1)),s("button",{onClick:Ce,class:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm"}," + Tambah Baris ")]),s("div",IH,[s("table",PH,[w[69]||(w[69]=s("thead",{class:"bg-gray-50"},[s("tr",null,[s("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Halal/Non-Halal "),s("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Bin Karantina Tujuan "),s("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Kode Item"),s("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Nama Material"),s("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Batch/Mfg Lot"),s("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Exp Date"),s("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Qty Wadah"),s("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Qty Unit"),s("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Kondisi"),s("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"CoA "),s("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Label Mfg"),s("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Label & CoA Sesuai"),s("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Pabrik Pembuat"),s("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Status QC"),s("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Aksi ")])],-1)),s("tbody",RH,[(U(!0),V(je,null,nt(k.value.items,(_,H)=>(U(),V("tr",{key:H},[s("td",OH,[s("div",NH,[s("button",{onClick:K=>ee(_,"isHalal"),class:Se([_.isHalal?"bg-green-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Halal",10,LH),s("button",{onClick:K=>ee(_,"isNonHalal"),class:Se([_.isNonHalal?"bg-red-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Non-Halal",10,$H)])]),s("td",jH,[me(s("select",{"onUpdate:modelValue":K=>_.binTarget=K,class:"w-32 text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-900"},[w[68]||(w[68]=s("option",{value:""},"Pilih Bin QRT",-1)),(U(),V(je,null,nt(he,K=>s("option",{key:K.code,value:K.code},R(K.code),9,HH)),64))],8,UH),[[lt,_.binTarget]])]),s("td",zH,[s("div",VH,[me(s("input",{"onUpdate:modelValue":K=>_.skuSearch=K,onInput:K=>Ne(H),onFocus:K=>_.showSuggestions=!0,onBlur:K=>N.setTimeout(()=>{_.showSuggestions=!1},200),type:"text",placeholder:"Cari Kode/Nama SKU",class:Se(["w-32 text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-900",{"border-red-500 ring-1 ring-red-500 bg-red-50":!_.kodeItem&&_.skuSearch}])},null,42,qH),[[Oe,_.skuSearch]])]),_.showSuggestions&&_.filteredMaterials.length>0?(U(),V("div",WH,[(U(!0),V(je,null,nt(_.filteredMaterials,K=>(U(),V("div",{key:K.id,onMousedown:Jn(de=>tt(H,K),["prevent"]),class:"px-3 py-2 cursor-pointer hover:bg-blue-50 text-xs text-gray-900"}," **["+R(K.code)+"]** - "+R(K.name),41,GH))),128))])):xe("",!0),_.kodeItem?(U(),V("p",QH," **Dipilih:** "+R(_.kodeItemDisplay),1)):xe("",!0)]),s("td",KH,[me(s("input",{"onUpdate:modelValue":K=>_.namaMaterial=K,type:"text",readonly:"",class:"w-40 text-sm border border-gray-300 rounded px-2 py-1 bg-gray-50 text-gray-900"},null,8,YH),[[Oe,_.namaMaterial]])]),s("td",XH,[me(s("input",{"onUpdate:modelValue":K=>_.batchLot=K,type:"text",class:"w-28 text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-900"},null,8,ZH),[[Oe,_.batchLot]])]),s("td",JH,[me(s("input",{"onUpdate:modelValue":K=>_.expDate=K,type:"date",class:"w-36 text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-900"},null,8,ez),[[Oe,_.expDate]])]),s("td",tz,[me(s("input",{"onUpdate:modelValue":K=>_.qtyUnit=K,type:"number",class:"w-24 text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-900"},null,8,nz),[[Oe,_.qtyUnit]])]),s("td",rz,[me(s("input",{"onUpdate:modelValue":K=>_.qtyWadah=K,type:"number",class:"w-24 text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-900"},null,8,sz),[[Oe,_.qtyWadah]])]),s("td",oz,[s("div",iz,[s("button",{onClick:K=>ee(_,"kondisiBaik"),class:Se([_.kondisiBaik?"bg-green-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Baik",10,az),s("button",{onClick:K=>ee(_,"kondisiTidakBaik"),class:Se([_.kondisiTidakBaik?"bg-red-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Tidak Baik",10,lz)])]),s("td",cz,[s("div",dz,[s("button",{onClick:K=>ee(_,"coaAda"),class:Se([_.coaAda?"bg-green-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Ada",10,uz),s("button",{onClick:K=>ee(_,"coaTidakAda"),class:Se([_.coaTidakAda?"bg-red-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Tidak",10,xz)])]),s("td",fz,[s("div",hz,[s("button",{onClick:K=>ee(_,"labelMfgAda"),class:Se([_.labelMfgAda?"bg-green-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Ada",10,gz),s("button",{onClick:K=>ee(_,"labelMfgTidakAda"),class:Se([_.labelMfgTidakAda?"bg-red-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Tidak",10,pz)])]),s("td",mz,[s("div",yz,[s("button",{onClick:K=>ee(_,"labelCoaSesuai"),class:Se([_.labelCoaSesuai?"bg-green-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Ada",10,bz),s("button",{onClick:K=>ee(_,"labelCoaTidakSesuai"),class:Se([_.labelCoaTidakSesuai?"bg-red-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Tidak",10,vz)])]),s("td",Ez,[me(s("input",{"onUpdate:modelValue":K=>_.pabrikPembuat=K,type:"text",class:"w-32 text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-900",placeholder:"Nama pabrik"},null,8,wz),[[Oe,_.pabrikPembuat]])]),s("td",Cz,[s("span",Az,R(_.statusQC),1)]),s("td",Bz,[s("button",{onClick:K=>ae(H),class:"bg-red-100 text-red-700 hover:bg-red-200 px-2 py-1 rounded text-xs"},"Hapus",8,_z)])]))),128))])])])]),L.value.length>0?(U(),V("div",kz,[w[71]||(w[71]=s("h4",{class:"text-md font-bold text-yellow-800 mb-3"},[s("span",{class:"inline-block align-middle mr-2"},""),Ve(" Ringkasan Total Stok Masuk (Kalkulasi) ")],-1)),s("div",Dz,[(U(!0),V(je,null,nt(L.value,(_,H)=>(U(),V("div",{key:H,class:"bg-white p-3 rounded-md border border-yellow-300"},[w[70]||(w[70]=s("p",{class:"text-sm text-gray-600 truncate"},"Material:",-1)),s("p",Sz,R(_.materialName),1),s("p",Fz,R(_.totalQty)+" "+R(_.satuan),1)]))),128))])])):xe("",!0),s("div",Tz,[s("div",Mz,[s("button",{onClick:Q,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"}," Batal "),s("button",{onClick:Re,disabled:!j.value||m.value,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 flex items-center justify-center"},[m.value?(U(),V("svg",Pz,[...w[72]||(w[72]=[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):xe("",!0),Ve(" "+R(m.value?"Menyimpan...":"Simpan")+"         ",1)],8,Iz)])])])]),C.value?(U(),V("div",Rz,[s("div",Oz,[s("div",Nz,[s("div",Lz,[s("h3",$z,"Label QR Code - "+R(A.value?.noSuratJalan),1),s("button",{onClick:oe,class:"text-gray-400 hover:text-gray-600"},[...w[73]||(w[73]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),s("div",jz,[s("div",Uz,[s("div",null,[w[74]||(w[74]=s("span",{class:"font-medium text-gray-700"},"No PO:",-1)),s("span",Hz,R(A.value?.noPo),1)]),s("div",null,[w[75]||(w[75]=s("span",{class:"font-medium text-gray-700"},"Supplier:",-1)),s("span",zz,R(A.value?.supplier),1)]),s("div",null,[w[76]||(w[76]=s("span",{class:"font-medium text-gray-700"},"No Kendaraan:",-1)),s("span",Vz,R(A.value?.noKendaraan),1)]),s("div",null,[w[77]||(w[77]=s("span",{class:"font-medium text-gray-700"},"Tanggal:",-1)),s("span",qz,R(et(A.value?.tanggalTerima)),1)])])]),s("div",Wz,[w[81]||(w[81]=s("h4",{class:"text-md font-medium text-gray-900"},"Daftar QR Code per Item:",-1)),A.value?.items&&A.value.items.length>0?(U(),V("div",Gz,[(U(!0),V(je,null,nt(A.value.items,(_,H)=>(U(),V("div",{key:H,class:"border border-gray-200 rounded-lg p-4"},[s("div",Qz,[s("div",null,[s("div",Kz,R(_.kodeItem)+" - "+R(_.namaMaterial),1),s("div",Yz,[s("div",null,"Batch: "+R(_.batchLot),1),s("div",null,"Qty: "+R(_.qtyUnit),1),s("div",null,"Exp: "+R(Xe(_.expDate)),1)]),s("div",Xz,[w[78]||(w[78]=s("strong",null,"QR Content:",-1)),w[79]||(w[79]=s("br",null,null,-1)),Ve(R(_.qrCode?_.qrCode.split("|")[2]:"-"),1)]),s("div",Zz,[s("button",{onClick:K=>ce(_),class:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm"}," Download QR ",8,Jz),s("button",{onClick:K=>se(_),class:"bg-gray-400 text-white px-3 py-1 rounded text-sm"}," Cetak QR ",8,eV)])]),s("div",tV,[s("div",nV,[s("canvas",{"data-qr-canvas":H,class:"block"},null,8,rV)]),w[80]||(w[80]=s("div",{class:"text-xs text-gray-500 text-center"}," Preview QR Code ",-1))])])]))),128))])):(U(),V("div",sV," Belum ada item untuk shipment ini "))]),s("div",{class:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200"},[s("button",{onClick:oe,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"}," Tutup "),s("button",{onClick:we,class:"bg-gray-400 px-4 py-2 text-white rounded-md"}," Cetak Semua QR ")])])])])):xe("",!0)])):xe("",!0),I.value?(U(),V("div",oV,[s("div",iV,[w[84]||(w[84]=s("h3",{class:"text-xl font-bold text-gray-900 mb-4 flex items-center"},[s("svg",{class:"w-6 h-6 text-yellow-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),Ve(" Material Tidak Ditemukan ")],-1)),s("p",aV,[w[82]||(w[82]=Ve(" Sistem mendeteksi ",-1)),s("strong",null,R($.value.length),1),w[83]||(w[83]=Ve(" kode material dari PDF yang belum terdaftar di Master Data. Mohon tambahkan agar dapat diproses. ",-1))]),s("div",lV,[(U(!0),V(je,null,nt($.value,_=>(U(),V("div",{key:_,class:"flex items-center justify-between bg-gray-50 p-3 rounded border border-gray-200"},[s("span",cV,R(_),1),s("button",{onClick:H=>ye(_),class:"text-sm bg-blue-100 text-blue-700 px-3 py-1 rounded hover:bg-blue-200 font-medium"}," + Tambah Data ",8,dV)]))),128))]),s("div",uV,[s("button",{onClick:w[17]||(w[17]=_=>I.value=!1),class:"text-gray-500 hover:text-gray-700 text-sm underline mr-4"}," Abaikan (Data akan kosong) "),s("button",{onClick:w[18]||(w[18]=_=>I.value=!1),class:"bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600 font-medium"}," Tutup ")])])])):xe("",!0),P.value?(U(),V("div",xV,[s("div",fV,[s("div",hV,[s("div",{class:"flex justify-between items-center mb-6"},[w[86]||(w[86]=s("h3",{class:"text-lg font-bold text-gray-900"},"Tambah Material Baru",-1)),s("button",{onClick:re,class:"text-gray-400 hover:text-gray-600"},[...w[85]||(w[85]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),s("div",gV,[s("div",null,[w[87]||(w[87]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Kode Item",-1)),me(s("input",{"onUpdate:modelValue":w[19]||(w[19]=_=>M.value.code=_),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded bg-gray-100 text-gray-900 font-mono"},null,512),[[Oe,M.value.code]])]),s("div",null,[w[88]||(w[88]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nama Material *",-1)),me(s("input",{"onUpdate:modelValue":w[20]||(w[20]=_=>M.value.name=_),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500",placeholder:"Nama lengkap material"},null,512),[[Oe,M.value.name]])]),s("div",null,[w[90]||(w[90]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"UoM *",-1)),me(s("select",{"onUpdate:modelValue":w[21]||(w[21]=_=>M.value.uom=_),class:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500"},[...w[89]||(w[89]=[s("option",{value:""},"Pilih UoM",-1),s("option",{value:"PCS"},"PCS",-1),s("option",{value:"KG"},"KG",-1),s("option",{value:"LTR"},"LITER",-1),s("option",{value:"LITER"},"LITER",-1),s("option",{value:"BOX"},"BOX",-1)])],512),[[lt,M.value.uom]])]),s("div",null,[w[92]||(w[92]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Kategori *",-1)),me(s("select",{"onUpdate:modelValue":w[22]||(w[22]=_=>M.value.category=_),class:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500"},[...w[91]||(w[91]=[s("option",{value:""},"Pilih Kategori",-1),s("option",{value:"Raw Material"},"Raw Material",-1),s("option",{value:"Packaging"},"Packaging",-1),s("option",{value:"Finished Goods"},"Finished Goods",-1)])],512),[[lt,M.value.category]])]),s("div",null,[w[93]||(w[93]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Sub Kategori",-1)),me(s("input",{"onUpdate:modelValue":w[23]||(w[23]=_=>M.value.subCategory=_),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500",placeholder:"Opsional"},null,512),[[Oe,M.value.subCategory]])]),s("div",null,[w[95]||(w[95]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status Halal",-1)),me(s("select",{"onUpdate:modelValue":w[24]||(w[24]=_=>M.value.halalStatus=_),class:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500"},[...w[94]||(w[94]=[s("option",{value:""},"Pilih Status",-1),s("option",{value:"Halal"},"Halal",-1),s("option",{value:"Non Halal"},"Non Halal",-1)])],512),[[lt,M.value.halalStatus]])])]),s("div",pV,[s("button",{onClick:re,class:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300"},"Batal"),s("button",{onClick:Ee,disabled:S.value,class:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:bg-blue-400 flex items-center"},[S.value?(U(),V("svg",yV,[...w[96]||(w[96]=[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):xe("",!0),Ve(" "+R(S.value?"Menyimpan...":"Simpan Material"),1)],8,mV)])])])])):xe("",!0)])]),_:1}))}}),vV=Object.freeze(Object.defineProperty({__proto__:null,default:bV},Symbol.toStringTag,{value:"Module"})),EV={class:"space-y-6"},wV={class:"flex justify-between items-center"},CV={class:"text-sm text-gray-600"},AV={class:"bg-white rounded-lg p-4 shadow"},BV={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-4 items-end"},_V={class:"md:col-span-3 lg:col-span-3"},kV={class:"flex flex-wrap gap-2"},DV={class:"md:col-span-1 lg:col-span-1"},SV={class:"bg-white rounded-lg shadow overflow-hidden"},FV={class:"overflow-x-auto"},TV={class:"min-w-full divide-y divide-gray-200"},MV={class:"bg-white divide-y divide-gray-200"},IV={key:0},PV={colspan:"8",class:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-500"},RV={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},OV=["onClick"],NV={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},LV={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},$V={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},jV={class:"px-6 py-4 whitespace-nowrap"},UV={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},HV={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},zV={class:"flex space-x-2"},VV=["onClick"],qV=["onClick"],WV=["onClick"],GV={key:0,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},QV={class:"bg-white rounded-lg max-w-7xl w-full mx-4 max-h-[90vh] overflow-y-auto"},KV={class:"p-6"},YV={class:"flex justify-between items-center mb-6"},XV={class:"text-lg font-semibold text-gray-900"},ZV={key:0,class:"bg-gray-50 rounded-lg p-4 mb-6"},JV={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},eq={class:"text-gray-900 font-medium"},tq={class:"text-gray-900"},nq={class:"text-gray-900"},rq={class:"bg-blue-50 rounded-lg p-4 mb-6"},sq={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},oq={class:"text-center"},iq={class:"text-2xl font-bold text-blue-600"},aq={class:"text-center"},lq={class:"text-2xl font-bold text-green-600"},cq={class:"text-center"},dq={class:"text-2xl font-bold text-gray-600"},uq={class:"mt-4"},xq={class:"flex justify-between text-sm mb-1"},fq={class:"text-blue-700"},hq={class:"w-full bg-blue-200 rounded-full h-2"},gq={class:"border border-gray-200 rounded-lg overflow-hidden"},pq={class:"overflow-x-auto"},mq={class:"min-w-full divide-y divide-gray-200",style:{"min-width":"1400px"}},yq={class:"divide-y divide-gray-200 bg-white"},bq={class:"px-3 py-2 whitespace-nowrap"},vq=["onClick","disabled"],Eq={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},wq={class:"px-3 py-2 whitespace-nowrap text-sm font-medium text-gray-900"},Cq={class:"text-xs text-gray-600 font-normal"},Aq={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},Bq={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},_q={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},kq={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900 font-medium"},Dq={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},Sq={class:"px-3 py-2 whitespace-nowrap"},Fq={class:"flex justify-between items-center mt-6 pt-6 border-t border-gray-200"},Tq={class:"text-sm text-gray-600"},Mq={class:"flex space-x-3"},Iq=["disabled"],Pq={key:1,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},Rq={class:"bg-white rounded-lg max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto"},Oq={class:"p-6"},Nq={class:"flex justify-between items-center mb-4"},Lq={class:"text-lg font-semibold text-gray-900"},$q={key:0,class:"bg-gray-50 p-3 rounded-lg mb-4"},jq={class:"text-sm"},Uq={class:"font-medium text-gray-900"},Hq={class:"text-gray-600"},zq={class:"text-gray-600"},Vq={class:"space-y-4"},qq={class:"bg-blue-50 p-3 rounded-lg"},Wq={class:"text-sm font-medium text-blue-900"},Gq={class:"text-xs text-blue-700"},Qq={class:"relative bg-black rounded-lg overflow-hidden",style:{"aspect-ratio":"4/3"}},Kq={key:0,class:"absolute inset-0 flex items-center justify-center"},Yq={class:"absolute top-2 right-2 bg-black bg-opacity-75 text-white px-3 py-1 rounded text-xs"},Xq={class:"flex space-x-2"},Zq={class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Jq={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"},eW={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"},tW={key:0,class:"space-y-2"},nW={class:"block text-sm font-medium text-gray-700"},rW=["max"],sW={class:"flex space-x-3"},oW={key:2,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},iW={class:"bg-white rounded-lg max-w-7xl w-full mx-4 max-h-[90vh] overflow-y-auto"},aW={class:"p-6"},lW={class:"flex justify-between items-center mb-6"},cW={class:"text-lg font-semibold text-gray-900"},dW={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"},uW={class:"bg-blue-50 p-4 rounded-lg"},xW={class:"text-2xl font-bold text-blue-600"},fW={class:"bg-green-50 p-4 rounded-lg"},hW={class:"text-2xl font-bold text-green-600"},gW={class:"bg-gray-50 p-4 rounded-lg"},pW={class:"text-2xl font-bold text-gray-600"},mW={class:"bg-white border border-gray-200 rounded-lg overflow-hidden"},yW={class:"overflow-x-auto"},bW={class:"min-w-full divide-y divide-gray-200"},vW={class:"divide-y divide-gray-200"},EW={class:"px-4 py-3 text-sm font-medium text-gray-900"},wW={class:"px-4 py-3 text-sm text-gray-900"},CW={class:"px-4 py-3 text-sm text-gray-900"},AW={class:"px-4 py-3 text-sm text-gray-900"},BW={class:"px-4 py-3 text-sm text-gray-900"},_W={class:"px-4 py-3 text-sm text-gray-900"},kW={class:"px-4 py-3"},DW={class:"px-4 py-3 text-sm text-gray-900"},SW={__name:"PickingList",setup(e){const t=pe("ALL"),n=pe(""),r=pe([]),i=pe(!1),a=pe(!1),c=pe(!1),u=pe(null),g=pe(null),h=pe(""),m=pe(1),y=pe(null),C=pe(0),E=pe(""),A=pe(null),k=pe(null),D=pe(!1),I=pe(!1),$=pe("Kamera Off");let P=null,S=null;const M={box:{SHP001:"SHP001|LOT001|50|2025-12-31|ACTIVE",SHP002:"SHP002|LOT002|100|2025-12-31|ACTIVE",20008:"20008|BATCH-A|100|2024-10-01|ACTIVE",20009:"20009|BATCH-B|1100|2024-12-31|ACTIVE"}},j=async()=>{try{const de=await Bt.get(route("transaction.api.picking-list"));r.value=de.data}catch(de){console.error("Error fetching picking list:",de)}},L=Ke(()=>u.value?.items?u.value.items.length:0),q=Ke(()=>u.value?.items?u.value.items.filter(de=>de.status==="Picked").length:0);Ke(()=>u.value?.items?u.value.items.filter(de=>de.status==="Short-Pick").length:0);const T=Ke(()=>u.value?.items?u.value.items.filter(de=>de.status==="Reserved"||de.status==="In Progress").length:0),Q=Ke(()=>u.value?.items?u.value.items.filter(de=>de.status==="Picked"||de.status==="Short-Pick").length:0),oe=Ke(()=>{if(!u.value?.items)return 0;const de=u.value.items.length,ue=Q.value;return de>0?ue/de*100:0}),Y=Ke(()=>u.value?.items?u.value.items.every(de=>de.status==="Picked"||de.status==="Short-Pick"):!1),le=Ke(()=>["","Scan QR Box/Material untuk validasi kode dan batch","Scan QR Source Bin untuk validasi lokasi pengambilan","Input quantity yang dipick","Scan QR Dest Bin (Staging Area) untuk validasi transfer"][m.value]),ye=Ke(()=>g.value?.items?g.value.items.length:0),re=Ke(()=>g.value?.items?g.value.items.filter(de=>de.status==="Picked").length:0);Ke(()=>g.value?.items?g.value.items.filter(de=>de.status==="Short-Pick").length:0);const Ee=Ke(()=>g.value?.items?g.value.items.filter(de=>de.status==="Reserved"||de.status==="In Progress").length:0),ve=async()=>{try{$.value="Mengaktifkan kamera...";const de={video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}};P=await navigator.mediaDevices.getUserMedia(de),A.value&&(A.value.srcObject=P,D.value=!0,I.value=!0,$.value="Kamera Aktif - Siap Scan",ae())}catch(de){console.error("Error accessing camera:",de),$.value="Error: Tidak dapat mengakses kamera",console.error("Tidak dapat mengakses kamera. Pastikan Anda memberikan izin akses kamera.")}},Ce=()=>{P&&(P.getTracks().forEach(de=>de.stop()),P=null),A.value&&(A.value.srcObject=null),S&&(clearInterval(S),S=null),D.value=!1,I.value=!1,$.value="Kamera Off"},he=()=>{D.value?Ce():ve()},ae=()=>{S=setInterval(()=>{!I.value||A.value},100)},ee=()=>{if(!y.value)return;let de="";switch(m.value){case 1:de=M.box[y.value.kodeItem]?`${y.value.kodeItem}|${y.value.lotSerial}|100|2025-12-31|ACTIVE`:`${y.value.kodeItem}|${y.value.lotSerial}|50|2025-12-31|ACTIVE`;break;case 2:de=y.value.sourceBin;break;case 4:de=y.value.destBin;break;default:console.warn("Step ini tidak memerlukan scan QR");return}h.value=de;const ue=$.value;$.value=" QR Terdeteksi!",setTimeout(()=>{$.value=ue,X()},500)},Ie=Ke(()=>r.value.filter(de=>{const ue=t.value==="ALL"||de.status===t.value||t.value==="Pending"&&(de.status==="Reserved"||de.status==="Ready to Pick"),ke=n.value.toLowerCase().trim(),Ye=!ke||de.items.some(Qe=>Qe.lotSerial&&Qe.lotSerial.toLowerCase().includes(ke));return ue&&Ye})),$e=de=>({Reserved:"bg-gray-100 text-gray-800",Pending:"bg-gray-100 text-gray-800","In Progress":"bg-yellow-100 text-yellow-800",Completed:"bg-green-100 text-green-800","Short-Pick":"bg-orange-100 text-orange-800"})[de]||"bg-gray-100 text-gray-800",Ne=de=>({Reserved:"bg-gray-100 text-gray-700",Pending:"bg-gray-100 text-gray-700",Picked:"bg-green-100 text-green-700","Short-Pick":"bg-orange-100 text-orange-700"})[de]||"bg-gray-100 text-gray-700",tt=de=>({Picked:"bg-green-50","Short-Pick":"bg-orange-50",Reserved:"bg-white",Pending:"bg-white"})[de]||"bg-white",Re=de=>{if(!de)return"-";try{return new Date(de).toLocaleString("id-ID",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return de}},et=de=>{if(!de.pickingStartedAt)return"-";const ue=new Date(de.pickingStartedAt),Ye=(de.pickingCompletedAt?new Date(de.pickingCompletedAt):new Date)-ue;if(Ye<0)return"-";const Qe=Math.floor(Ye/1e3),ht=Math.floor(Qe/3600),ut=Math.floor(Qe%3600/60);return ht>0?`${ht} jam ${ut} menit`:ut>0?`${ut} menit`:"< 1 menit"},Xe=de=>{console.log(`Melihat detail reservasi: ${de}`)},rt=de=>{g.value=de,c.value=!0},Pe=async de=>{if(u.value=JSON.parse(JSON.stringify(de)),de.status==="Reserved"||de.status==="Pending"||de.status==="Ready to Pick"||de.status==="In Progress")try{await Bt.post(route("transaction.picking-list.update-status",de.id),{status:"In Progress"});const ue=r.value.findIndex(ke=>ke.id===de.id);ue!==-1&&(r.value[ue].status="In Progress",u.value.status="In Progress",console.log(`Status Task ${de.toNumber} diubah menjadi In Progress.`))}catch(ue){console.error("Gagal update status task:",ue),alert("Gagal memulai Picking Task: "+(ue.response?.data?.message||ue.message))}i.value=!0},te=()=>{i.value=!1,u.value=null,F(),j()},_e=()=>{c.value=!1,g.value=null},J=(de,ue)=>{de.status!=="Picked"&&(y.value=JSON.parse(JSON.stringify(de)),C.value=ue,a.value=!0,F())},z=()=>{Ce(),a.value=!1,F()},F=()=>{m.value=1,h.value="",E.value=""},X=()=>{if(!h.value&&m.value!==3){console.error("Silakan scan atau input QR Code!");return}switch(m.value){case 1:ce(h.value);break;case 2:se(h.value);break;case 3:we();break;case 4:N(h.value);break}},ce=de=>{const ue=de.split("|");if(ue.length<2){console.error("Format QR Box tidak valid! Harap ikuti format: ITEM_CODE|BATCH_LOT|...");return}const ke=ue[0],Ye=ue[1];if(ke!==y.value.kodeItem||Ye!==y.value.lotSerial){console.error(`Item/Batch tidak sesuai!
Harus: ${y.value.kodeItem} - ${y.value.lotSerial}
Di-scan: ${ke} - ${Ye}`);return}m.value=2,h.value="",console.log(` Item valid: ${y.value.kodeItem} - ${y.value.lotSerial}`)},se=de=>{if(y.value){if(de!==y.value.sourceBin){console.error(`Lokasi bin salah!
Harus: ${y.value.sourceBin}
Di-scan: ${de}`);return}m.value=3,h.value="",E.value=y.value.qtyDiminta,console.log(` Source Bin valid: ${de}`)}},we=()=>{const de=parseFloat(E.value);if(isNaN(de)||de<=0){console.error("Silakan input quantity yang valid!");return}const ue=y.value.qtyDiminta;if(de>ue){console.error(`Quantity melebihi yang dialokasikan!
Dialokasikan: ${ue}
Input: ${de}`);return}y.value.qtyPicked=de,de===ue?(y.value.status="Picked",console.log(` Batch berhasil dipick complete: ${de}/${ue}`)):(y.value.status="Short-Pick",console.warn(` Short-pick detected: ${de}/${ue}`));const ke=u.value.items.find(Ye=>Ye.id===y.value.id);ke&&(ke.qtyPicked=y.value.qtyPicked,ke.status=y.value.status),y.value.destBin&&y.value.destBin!=="-"?(m.value=4,h.value=""):w()},N=de=>{if(y.value){if(de!==y.value.destBin){console.error(`Destination bin salah!
Harus: ${y.value.destBin}
Di-scan: ${de}`);return}console.log(` Destination Bin valid: ${de}`),w()}},w=()=>{console.log(`Batch ${y.value.lotSerial} untuk ${y.value.kodeItem} berhasil diselesaikan!`),z(),u.value.items.filter(ue=>ue.status==="Reserved"||ue.status==="In Progress").length===0&&console.log('Semua alokasi batch sudah dipick! Silakan klik "Selesai Picking"')},_=()=>{m.value>1&&(m.value--,h.value="")},H=async()=>{if(!u.value)return;if(!Y.value){console.error("Mohon selesaikan semua alokasi batch sebelum menyelesaikan picking task.");return}const de=u.value.items.map(ue=>({reservation_id:ue.id,picked_quantity:ue.qtyPicked||0}));try{const ue=await Bt.post(route("transaction.picking-list.store"),{reservation_request_id:u.value.id,items:de});let ke="Picking Task berhasil diselesaikan dan status diperbarui.";ue.data&&ue.data.flash&&ue.data.flash.message&&(ke=ue.data.flash.message),alert(ke),te()}catch(ue){console.error("Error finishing picking:",ue),ue.response?ue.response.data&&ue.response.data.message?ue.response.data.message:ue.response.data&&ue.response.data.errors?Object.values(ue.response.data.errors).flat().join(`
`):`${ue.response.status}${ue.response.statusText}`:ue.request||ue.message,alert("Gagal menyelesaikan picking: "+(ue.response?.data?.message||"Terjadi kesalahan pada server."))}},K=de=>{const ue=window.open("","_blank"),ke=de.items.length,Ye=de.items.filter(ht=>ht.status==="Picked").length,Qe=de.items.filter(ht=>ht.status==="Short-Pick").length;ue.document.write(`
        <html>
            <head>
                <title>Picking List - ${de.toNumber}</title>
                <style>
                    body { font-family: Arial, sans-serif; margin: 20px; font-size: 12px; }
                    .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 15px; margin-bottom: 20px; }
                    .info-section { margin: 15px 0; }
                    .info-row { display: flex; justify-content: space-between; margin: 8px 0; }
                    .items-table { width: 100%; border-collapse: collapse; margin: 20px 0; }
                    .items-table th, .items-table td { border: 1px solid #000; padding: 6px; text-align: left; font-size: 11px; }
                    .items-table th { background-color: #f0f0f0; font-weight: bold; }
                    .picked { background-color: #e6ffe6; }
                    .short-pick { background-color: #fff2e6; }
                    .summary { margin: 20px 0; padding: 10px; background-color: #f9f9f9; border: 1px solid #ddd; }
                    .signature { margin-top: 40px; display: flex; justify-content: space-between; }
                    .signature div { text-align: center; }
                    .signature-line { border-top: 1px solid #000; width: 150px; margin-top: 40px; }
                    @media print {
                        body { margin: 0; font-size: 10px; }
                    }
                </style>
            </head>
            <body>
                <div class="header">
                    <h2>PICKING LIST</h2>
                    <p><strong>TO Number: ${de.toNumber}</strong></p>
                    <p>Creation Date: ${Re(de.tanggalDibuat)} | Warehouse: Main WH</p>
                </div>
                
                <div class="info-section">
                    <div class="info-row">
                        <span><strong>No Reservasi:</strong> ${de.noReservasi}</span>
                        <span><strong>Transaction Type:</strong> Picking</span>
                    </div>
                    <div class="info-row">
                        <span><strong>Requester:</strong> ${de.requester}</span>
                        <span><strong>Departemen:</strong> ${de.departemen}</span>
                    </div>
                    <div class="info-row">
                        <span><strong>Status:</strong> ${de.status}</span>
                        <span><strong>Print Date:</strong> ${new Date().toLocaleString("id-ID")}</span>
                    </div>
                </div>

                <div class="summary">
                    <strong>Summary:</strong> Total ${ke} Batch Alokasi | Picked: ${Ye} | Short-pick: ${Qe} | Pending: ${ke-Ye-Qe}
                </div>
                
                <table class="items-table">
                    <thead>
                        <tr>
                            <th rowspan="2" style="vertical-align: middle; text-align: center; width: 5%;">No</th>
                            <th rowspan="2" style="vertical-align: middle; text-align: center; width: 10%;">Code Item</th>
                            <th rowspan="2" style="vertical-align: middle; text-align: center; width: 25%;">Material Description</th>
                            <th rowspan="2" style="vertical-align: middle; text-align: center; width: 10%;">Batch/Lot</th>
                            <th colspan="2" style="text-align: center; width: 20%;">Bin Location</th>
                            <th rowspan="2" style="vertical-align: middle; text-align: center; width: 8%;">Qty Alokasi</th>
                            <th rowspan="2" style="vertical-align: middle; text-align: center; width: 5%;">UoM</th>
                            <th rowspan="2" style="vertical-align: middle; text-align: center; width: 10%;">Qty Picked</th>
                        </tr>
                        <tr>
                            <th style="text-align: center; width: 10%;">Source Bin Location</th>
                            <th style="text-align: center; width: 10%;">Dest. Bin Location</th>
                        </tr>
                    </thead>
                    <tbody>
                    ${de.items.map((ht,ut)=>`
                        <tr class="${ht.status==="Picked"?"picked":ht.status==="Short-Pick"?"short-pick":""}" style="height: 40px;">
                            <td style="text-align: center; vertical-align: middle;">${ut+1}</td>
                            <td style="vertical-align: middle;">${ht.kodeItem}</td>
                            <td style="vertical-align: middle;">${ht.namaMaterial}</td>
                            <td style="text-align: center; vertical-align: middle;">${ht.lotSerial}</td>
                            <td style="text-align: center; vertical-align: middle;">${ht.sourceBin}</td>
                            <td style="text-align: center; vertical-align: middle;">Production Area</td>
                            <td style="text-align: center; vertical-align: middle;">${ht.qtyDiminta}</td>
                            <td style="text-align: center; vertical-align: middle;">${ht.uom}</td>
                            <td style="text-align: center; vertical-align: middle;">${ht.qtyPicked||""}</td>
                        </tr>
                    `).join("")}
                    </tbody>
                </table>
                
                <div class="signature">
                    <div>
                        <p>Diserahkan Oleh:</p>
                        <div class="signature-line"></div>
                        <p>Warehouse Staff</p>
                    </div>
                    <div>
                        <p>Diterima Oleh:</p>
                        <div class="signature-line"></div>
                        <p>${de.requester}</p>
                    </div>
                    <div>
                        <p>Mengetahui:</p>
                        <div class="signature-line"></div>
                        <p>Supervisor</p>
                    </div>
                </div>
            </body>
        </html>
    `),ue.document.close(),ue.focus(),setTimeout(()=>{ue.print(),ue.close()},500)};return Qn(()=>{j()}),I0(()=>{Ce()}),(de,ue)=>(U(),wt(Kn,{title:"Riwayat Aktivitas"},{default:vt(()=>[s("div",EV,[s("div",wV,[ue[9]||(ue[9]=s("h2",{class:"text-2xl font-bold text-gray-900"},"Picking List (Transfer Order)",-1)),s("div",CV," Total picking tasks: "+R(r.value.length),1)]),s("div",AV,[s("div",BV,[s("div",_V,[ue[10]||(ue[10]=s("span",{class:"text-sm font-medium text-gray-700 block mb-2"},"Filter Status:",-1)),s("div",kV,[s("button",{onClick:ue[0]||(ue[0]=ke=>t.value="ALL"),class:Se([t.value==="ALL"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700","px-3 py-1 rounded text-sm hover:bg-blue-500 hover:text-white"])}," Semua ",2),s("button",{onClick:ue[1]||(ue[1]=ke=>t.value="Pending"),class:Se([t.value==="Pending"?"bg-gray-600 text-white":"bg-gray-200 text-gray-700","px-3 py-1 rounded text-sm hover:bg-gray-500 hover:text-white"])}," Pending ",2),s("button",{onClick:ue[2]||(ue[2]=ke=>t.value="In Progress"),class:Se([t.value==="In Progress"?"bg-yellow-600 text-white":"bg-gray-200 text-gray-700","px-3 py-1 rounded text-sm hover:bg-yellow-500 hover:text-white"])}," In Progress ",2),s("button",{onClick:ue[3]||(ue[3]=ke=>t.value="Completed"),class:Se([t.value==="Completed"?"bg-green-600 text-white":"bg-gray-200 text-gray-700","px-3 py-1 rounded text-sm hover:bg-green-500 hover:text-white"])}," Completed ",2),s("button",{onClick:ue[4]||(ue[4]=ke=>t.value="Short-Pick"),class:Se([t.value==="Short-Pick"?"bg-orange-600 text-white":"bg-gray-200 text-gray-700","px-3 py-1 rounded text-sm hover:bg-orange-500 hover:text-white"])}," Short-Pick ",2)])]),s("div",DV,[ue[11]||(ue[11]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Cari Batch/Lot",-1)),me(s("input",{"onUpdate:modelValue":ue[5]||(ue[5]=ke=>n.value=ke),type:"text",placeholder:"BCH-123...",class:"w-full px-3 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"},null,512),[[Oe,n.value]])])])]),s("div",SV,[s("div",FV,[s("table",TV,[ue[12]||(ue[12]=s("thead",{class:"bg-gray-50"},[s("tr",null,[s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"TO Number"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"No Reservasi"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Batch/Lot Utama"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tanggal Dibuat"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Requester / Departemen"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Durasi"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),s("tbody",MV,[Ie.value.length===0?(U(),V("tr",IV,[s("td",PV," Tidak ada Picking Task yang ditemukan untuk status "+R(t.value==="ALL"?"apapun":t.value)+". ",1)])):xe("",!0),(U(!0),V(je,null,nt(Ie.value,ke=>(U(),V("tr",{key:ke.id,class:"hover:bg-gray-50"},[s("td",RV,R(ke.toNumber),1),s("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-blue-600 hover:underline cursor-pointer",onClick:Ye=>Xe(ke.noReservasi)},R(ke.noReservasi),9,OV),s("td",NV,R(ke.items&&ke.items.length>0?ke.items[0].lotSerial:"N/A"),1),s("td",LV,R(Re(ke.tanggalDibuat)),1),s("td",$V,R(ke.requester)+" / "+R(ke.departemen),1),s("td",jV,[s("span",{class:Se([$e(ke.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(ke.status),3)]),s("td",UV,R(et(ke)),1),s("td",HV,[s("div",zV,[s("button",{onClick:Ye=>rt(ke),class:"bg-blue-100 text-blue-700 hover:bg-blue-200 px-2 py-1 rounded text-xs"}," Detail ",8,VV),ke.status==="Pending"||ke.status==="Reserved"||ke.status==="In Progress"||ke.status==="Ready to Pick"?(U(),V("button",{key:0,onClick:Ye=>Pe(ke),class:"bg-green-100 text-green-700 hover:bg-green-200 px-2 py-1 rounded text-xs"}," Kerjakan ",8,qV)):xe("",!0),s("button",{onClick:Ye=>K(ke),class:"bg-purple-100 text-purple-700 hover:bg-purple-200 px-2 py-1 rounded text-xs"}," Cetak Picking List ",8,WV)])])]))),128))])])])]),i.value?(U(),V("div",GV,[s("div",QV,[s("div",KV,[s("div",YV,[s("h3",XV,"Detail Picking Task - "+R(u.value?.toNumber),1),s("button",{onClick:te,class:"text-gray-400 hover:text-gray-600"},[...ue[13]||(ue[13]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),u.value?(U(),V("div",ZV,[s("div",JV,[s("div",null,[ue[14]||(ue[14]=s("span",{class:"text-sm font-medium text-gray-700"},"TO Number:",-1)),s("div",eq,R(u.value.toNumber),1)]),s("div",null,[ue[15]||(ue[15]=s("span",{class:"text-sm font-medium text-gray-700"},"No Reservasi:",-1)),s("div",{class:"text-blue-600 cursor-pointer hover:underline",onClick:ue[6]||(ue[6]=ke=>Xe(u.value.noReservasi))},R(u.value.noReservasi),1)]),s("div",null,[ue[16]||(ue[16]=s("span",{class:"text-sm font-medium text-gray-700"},"Tanggal Dibuat:",-1)),s("div",tq,R(Re(u.value.tanggalDibuat)),1)]),s("div",null,[ue[17]||(ue[17]=s("span",{class:"text-sm font-medium text-gray-700"},"Requester:",-1)),s("div",nq,R(u.value.requester)+" / "+R(u.value.departemen),1)])])])):xe("",!0),s("div",rq,[s("div",sq,[s("div",oq,[s("div",iq,R(L.value),1),ue[18]||(ue[18]=s("div",{class:"text-sm text-blue-700"},"Total Alokasi Batch",-1))]),s("div",aq,[s("div",lq,R(q.value),1),ue[19]||(ue[19]=s("div",{class:"text-sm text-green-700"},"Picked Complete",-1))]),s("div",cq,[s("div",dq,R(T.value),1),ue[20]||(ue[20]=s("div",{class:"text-sm text-gray-700"},"Pending",-1))])]),s("div",uq,[s("div",xq,[ue[21]||(ue[21]=s("span",{class:"text-blue-700"},"Progress Picking",-1)),s("span",fq,R(Math.round(oe.value))+"%",1)]),s("div",hq,[s("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:Oi({width:oe.value+"%"})},null,4)])])]),s("div",gq,[s("div",pq,[s("table",mq,[ue[24]||(ue[24]=s("thead",{class:"bg-gray-50"},[s("tr",null,[s("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Aksi"),s("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"No"),s("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap min-w-[120px]"},"Kode Item / Nama Material"),s("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap min-w-[120px]"},"Lot/Batch"),s("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap min-w-[150px]"},"Source Bin"),s("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Exp Date"),s("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Qty Dialokasikan"),s("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"UoM"),s("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Status")])],-1)),s("tbody",yq,[(U(!0),V(je,null,nt(u.value?.items||[],(ke,Ye)=>(U(),V("tr",{key:Ye,class:Se(ke.status==="Picked"?"bg-green-50":ke.status==="Short-Pick"?"bg-orange-50":"")},[s("td",bq,[s("button",{onClick:Qe=>J(ke,Ye),disabled:ke.status==="Picked",class:Se([ke.status==="Picked"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white","px-3 py-1 rounded text-xs font-medium transition-colors duration-200"])},[ue[22]||(ue[22]=s("svg",{class:"w-4 h-4 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h2M4 4h16a2 2 0 012 2v12a2 2 0 01-2 2H4a2 2 0 01-2-2V6a2 2 0 012-2z"})],-1)),Ve(" "+R(ke.status==="Picked"?"Done":"Scan QR"),1)],10,vq)]),s("td",Eq,R(Ye+1),1),s("td",wq,[Ve(R(ke.kodeItem)+" ",1),ue[23]||(ue[23]=s("br",null,null,-1)),s("span",Cq,R(ke.namaMaterial),1)]),s("td",Aq,R(ke.lotSerial),1),s("td",Bq,R(ke.sourceBin),1),s("td",_q,R(ke.expDate?new Date(ke.expDate).toLocaleDateString("id-ID"):"-"),1),s("td",kq,R(ke.qtyDiminta),1),s("td",Dq,R(ke.uom),1),s("td",Sq,[s("span",{class:Se([Ne(ke.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(ke.status),3)])],2))),128))])])])]),s("div",Fq,[s("div",Tq," Progress: "+R(Q.value)+"/"+R(u.value?.items?.length||0)+" batch allocations completed ",1),s("div",Mq,[s("button",{onClick:te,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"}," Batal "),s("button",{onClick:H,disabled:!Y.value,class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-gray-400"}," Selesai Picking ",8,Iq)])])])])])):xe("",!0),a.value?(U(),V("div",Pq,[s("div",Rq,[s("div",Oq,[s("div",Nq,[s("h3",Lq,"QR Scanner - Batch Item #"+R(C.value+1),1),s("button",{onClick:z,class:"text-gray-400 hover:text-gray-600"},[...ue[25]||(ue[25]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),y.value?(U(),V("div",$q,[s("div",jq,[s("div",Uq,R(y.value.kodeItem)+" - "+R(y.value.namaMaterial),1),s("div",Hq,"Batch: "+R(y.value.lotSerial)+" | Qty Alokasi: "+R(y.value.qtyDiminta)+" "+R(y.value.uom),1),s("div",zq,"Source: "+R(y.value.sourceBin)+" ("+R(y.value.sourceWarehouse)+")",1)])])):xe("",!0),s("div",Vq,[s("div",qq,[s("div",Wq,"Step "+R(m.value)+"/4",1),s("div",Gq,R(le.value),1)]),s("div",Qq,[s("video",{ref_key:"videoElement",ref:A,autoplay:"",playsinline:"",class:"w-full h-full object-cover"},null,512),s("canvas",{ref_key:"canvasElement",ref:k,class:"hidden"},null,512),I.value?(U(),V("div",Kq,[...ue[26]||(ue[26]=[s("div",{class:"border-4 border-green-500 rounded-lg",style:{width:"250px",height:"250px"}},[s("div",{class:"absolute inset-0 border-2 border-white opacity-50 animate-pulse"})],-1)])])):xe("",!0),s("div",Yq,R($.value),1)]),s("div",Xq,[s("button",{onClick:he,class:Se([D.value?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700","flex-1 text-white py-2 px-4 rounded-md flex items-center justify-center"])},[(U(),V("svg",Zq,[D.value?(U(),V("path",eW)):(U(),V("path",Jq))])),Ve(" "+R(D.value?"Matikan Kamera":"Aktifkan Kamera"),1)],2),s("button",{onClick:ee,class:"bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-md flex items-center justify-center"},[...ue[27]||(ue[27]=[s("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})],-1),Ve(" Simulasi Scan ",-1)])])]),s("div",null,[ue[28]||(ue[28]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Atau input manual QR Code:",-1)),me(s("input",{"onUpdate:modelValue":ue[7]||(ue[7]=ke=>h.value=ke),onKeyup:Ni(X,["enter"]),type:"text",placeholder:"Scan atau ketik QR Code...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,544),[[Oe,h.value]])]),m.value===3?(U(),V("div",tW,[s("label",nW,"Qty yang Dipick (Max: "+R(y.value?.qtyDiminta||0)+" "+R(y.value?.uom||"")+"):",1),me(s("input",{"onUpdate:modelValue":ue[8]||(ue[8]=ke=>E.value=ke),type:"number",max:y.value?.qtyDiminta,placeholder:"Masukkan quantity...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,8,rW),[[Oe,E.value,void 0,{number:!0}]])])):xe("",!0),s("div",sW,[s("button",{onClick:X,class:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-md"},R(m.value===3?"Confirm Qty":"Process QR"),1),m.value>1?(U(),V("button",{key:0,onClick:_,class:"bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-md"}," Back ")):xe("",!0)])])])])])):xe("",!0),c.value?(U(),V("div",oW,[s("div",iW,[s("div",aW,[s("div",lW,[s("h3",cW,"Summary Detail - "+R(g.value?.toNumber),1),s("button",{onClick:_e,class:"text-gray-400 hover:text-gray-600"},[...ue[29]||(ue[29]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),s("div",dW,[s("div",uW,[s("div",xW,R(ye.value),1),ue[30]||(ue[30]=s("div",{class:"text-sm text-blue-700"},"Total Alokasi Batch",-1))]),s("div",fW,[s("div",hW,R(re.value),1),ue[31]||(ue[31]=s("div",{class:"text-sm text-green-700"},"Batch Picked Complete",-1))]),s("div",gW,[s("div",pW,R(Ee.value),1),ue[32]||(ue[32]=s("div",{class:"text-sm text-gray-700"},"Pending",-1))])]),s("div",mW,[ue[34]||(ue[34]=s("div",{class:"px-4 py-3 bg-gray-50 border-b border-gray-200"},[s("h4",{class:"text-sm font-medium text-gray-900"},"Detail Alokasi Batch")],-1)),s("div",yW,[s("table",bW,[ue[33]||(ue[33]=s("thead",{class:"bg-gray-50"},[s("tr",null,[s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Kode Item"),s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Nama Material"),s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Batch/Lot"),s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Qty Alokasi"),s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Qty Picked"),s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"UoM"),s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status"),s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Source Bin")])],-1)),s("tbody",vW,[(U(!0),V(je,null,nt(g.value?.items||[],(ke,Ye)=>(U(),V("tr",{key:Ye,class:Se(tt(ke.status))},[s("td",EW,R(ke.kodeItem),1),s("td",wW,R(ke.namaMaterial),1),s("td",CW,R(ke.lotSerial),1),s("td",AW,R(ke.qtyDiminta),1),s("td",BW,R(ke.qtyPicked||0),1),s("td",_W,R(ke.uom),1),s("td",kW,[s("span",{class:Se([Ne(ke.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(ke.status),3)]),s("td",DW,R(ke.sourceBin),1)],2))),128))])])])]),s("div",{class:"flex justify-end mt-6"},[s("button",{onClick:_e,class:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700"}," Tutup ")])])])])):xe("",!0)])]),_:1}))}},FW=Object.freeze(Object.defineProperty({__proto__:null,default:SW},Symbol.toStringTag,{value:"Module"})),TW={class:"min-h-screen bg-gray-50 p-6"},MW={class:"bg-white rounded-lg shadow-sm p-4 mb-6"},IW={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},PW={class:"bg-white rounded-lg shadow-sm overflow-hidden"},RW={class:"px-6 py-4 border-b border-gray-200"},OW={class:"text-sm text-gray-600 mt-1"},NW={class:"overflow-x-auto"},LW={class:"w-full"},$W={class:"bg-white divide-y divide-gray-200"},jW={key:0},UW={class:"px-6 py-4 whitespace-nowrap"},HW={class:"font-medium text-gray-900"},zW={key:0,class:"text-sm text-gray-500"},VW={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},qW={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},WW={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},GW={class:"px-6 py-4 whitespace-nowrap"},QW={class:"px-6 py-4 whitespace-nowrap"},KW={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},YW={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},XW={class:"flex items-center justify-end gap-2"},ZW=["onClick"],JW=["onClick"],eG=["onClick"],tG={key:0,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},nG={class:"bg-white rounded-lg p-6 w-full max-w-6xl max-h-screen overflow-y-auto"},rG={class:"flex justify-between items-center mb-6"},sG={class:"space-y-6"},oG={class:"overflow-x-auto"},iG={class:"w-full border border-gray-200 rounded-lg"},aG={class:"bg-white divide-y divide-gray-200"},lG={class:"px-4 py-3"},cG=["onUpdate:modelValue"],dG={class:"px-4 py-3 text-sm text-gray-900"},uG={class:"px-4 py-3 text-sm text-gray-900"},xG={class:"px-4 py-3 text-sm text-gray-900"},fG={class:"px-4 py-3 text-sm text-gray-900"},hG={class:"px-4 py-3 text-sm text-gray-900"},gG={class:"px-4 py-3"},pG={class:"relative w-64"},mG=["onUpdate:modelValue","onInput","onFocus","onBlur","disabled"],yG={key:0,class:"absolute z-[9999] w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-48 overflow-y-auto"},bG=["onMousedown"],vG=["onClick","disabled"],EG={class:"flex gap-3 justify-end"},wG=["disabled"],CG={key:1,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},AG={class:"bg-white rounded-lg p-6 w-full max-w-2xl"},BG={class:"flex justify-between items-center mb-4"},_G={class:"text-lg font-semibold"},kG={key:0,class:"space-y-4"},DG={class:"grid grid-cols-2 gap-4"},SG={class:"text-sm text-gray-900 mt-1"},FG={class:"text-sm text-gray-900 mt-1"},TG={class:"text-sm text-gray-900 mt-1"},MG={class:"text-sm text-gray-900 mt-1"},IG={class:"max-h-40 overflow-y-auto"},PG={class:"w-full text-sm"},RG={class:"px-3 py-2"},OG={class:"px-3 py-2"},NG={class:"px-3 py-2"},LG={key:0,class:"border-t"},$G={class:"flex justify-end mt-6"},jG={key:2,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},UG={class:"bg-white rounded-lg p-6 w-full max-w-7xl max-h-screen overflow-y-auto"},HG={class:"flex justify-between items-center mb-6"},zG={class:"text-xl font-semibold"},VG={class:"text-gray-600 mt-1"},qG={class:"bg-gray-50 rounded-lg p-4 mb-6"},WG={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},GG={class:"text-sm text-gray-900 mt-1"},QG={key:0},KG={class:"text-sm text-gray-900 mt-1"},YG={class:"text-sm text-gray-900 mt-1"},XG={key:1},ZG={class:"text-sm text-gray-900 mt-1"},JG={class:"mb-6"},eQ={class:"overflow-x-auto"},tQ={class:"w-full border border-gray-200 rounded-lg"},nQ={class:"bg-gray-50"},rQ={key:0,class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},sQ={class:"bg-white divide-y divide-gray-200"},oQ={class:"px-4 py-3 text-sm text-gray-900"},iQ={class:"px-4 py-3 text-sm text-gray-900"},aQ={class:"px-4 py-3 text-sm text-gray-900"},lQ={class:"px-4 py-3 text-sm text-gray-900"},cQ={class:"px-4 py-3 text-sm text-gray-900"},dQ={class:"px-4 py-3 text-sm text-gray-900"},uQ={class:"px-4 py-3 text-sm text-gray-900"},xQ={class:"px-4 py-3 text-sm text-gray-900"},fQ={class:"px-4 py-3"},hQ={key:0,class:"px-4 py-3"},gQ={key:0,class:"flex gap-2"},pQ=["onClick"],mQ={class:"flex items-center gap-1"},yQ={class:"flex gap-3 justify-end"},bQ=["disabled"],vQ={key:3,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},EQ={class:"bg-white rounded-lg p-6 w-full max-w-md"},wQ={class:"flex justify-between items-center mb-4"},CQ={class:"text-lg font-semibold"},AQ={class:"text-sm text-gray-600"},BQ={class:"mb-6"},_Q={class:"flex items-center justify-between mb-2"},kQ={class:"text-xs font-medium text-blue-600"},DQ={class:"w-full bg-gray-200 rounded-full h-2"},SQ={class:"flex items-center justify-between mb-6"},FQ={class:"flex flex-col items-center flex-1"},TQ={key:0},MQ={key:1},IQ={class:"flex flex-col items-center flex-1"},PQ={key:0},RQ={key:1},OQ={class:"flex flex-col items-center flex-1"},NQ={class:"text-center mb-4"},LQ={key:0},$Q={key:0,class:"mt-2 text-xs text-gray-500"},jQ={key:1,class:"mt-2 text-xs text-gray-500"},UQ={class:"mb-4"},HQ={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},zQ={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},VQ={key:0,class:"space-y-4"},qQ=["placeholder"],WQ={key:0,class:"text-xs text-gray-500 text-left bg-gray-50 p-2 rounded"},GQ={key:1,class:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg"},QQ={class:"flex items-center gap-2"},KQ={class:"text-sm text-green-900 font-mono"},YQ={class:"flex gap-3 mt-6"},XQ=["disabled"],au="in_progress_transfer_order",ZQ=$r({__name:"PutAwasTO",setup(e){const t=N=>{try{localStorage.setItem(au,JSON.stringify(N)),console.log(`State saved for TO: ${N.toNumber}`)}catch(w){console.error("Error saving state to localStorage",w)}},n=()=>{try{const N=localStorage.getItem(au);if(N)return JSON.parse(N)}catch(N){console.error("Error loading state from localStorage",N)}return null},r=()=>{try{localStorage.removeItem(au),console.log("State cleared from localStorage.")}catch(N){console.error("Error clearing state from localStorage",N)}},i=xo(),a=pe(i.props.transferOrders||[]);En(()=>i.props.transferOrders,N=>{a.value=N||[]},{deep:!0});const c=pe([]),u=pe([]),g=pe(""),h=pe(""),m=pe(""),y=pe(""),C=pe(""),E=pe(!1),A=pe(!1),k=pe(!1),D=pe(!1),I=pe(null),$=pe(null),P=pe(null),S=pe(""),M=pe(null),j=pe(1),L=pe(null),q=pe(!1),T=pe(!0),Q=pe(""),oe=Ke(()=>a.value.filter(N=>{const w=!g.value||N.toNumber.toLowerCase().includes(g.value.toLowerCase()),_=!m.value||N.type===m.value,H=!y.value||N.status===y.value,K=!C.value||N.warehouse.includes(C.value),de=!h.value||N.items.some(ue=>ue.batchLot&&ue.batchLot.toLowerCase().includes(h.value.toLowerCase()));return w&&de&&_&&H&&K})),Y=Ke(()=>c.value.filter(N=>N.selected&&N.destinationBin)),le=Ke(()=>I.value?I.value.items.every(N=>N.boxScanned&&N.sourceBinScanned&&N.destBinScanned&&N.actualQty!==void 0&&N.actualQty>0):!1),ye=Ke(()=>{switch(j.value){case 1:return"Scan Box QR Code";case 2:return"Scan Source Bin";case 3:return"Scan Destination Bin";default:return""}}),re=Ke(()=>{if(!P.value)return"";switch(j.value){case 1:return`Box with ${P.value.itemCode}`;case 2:return P.value.sourceBin;case 3:return P.value.destBin;default:return""}}),Ee=async()=>{q.value=!1;try{if(!document.getElementById("qr-reader")){console.error("qr-reader element not found!");return}await ve(),L.value=new Na("qr-reader");const w={fps:10,qrbox:{width:250,height:250},aspectRatio:1};await L.value.start({facingMode:"environment"},w,Ce,he),q.value=!0}catch(N){console.error("Error starting camera:",N),alert(`Gagal memulai kamera: ${N.message}. Pastikan tidak ada aplikasi lain yang menggunakan. Coba lagi atau ganti ke mode manual.`)}},ve=async()=>{if(L.value)try{typeof L.value.getState=="function"&&L.value.getState()===2&&await L.value.stop()}catch(N){console.error("Error attempting to stop camera:",N)}finally{try{await L.value.clear()}catch(N){console.warn("Error clearing html5QrCode UI:",N)}L.value=null,q.value=!1}q.value=!1},Ce=(N,w)=>{console.log("QR Code detected:",N),Q.value=N,S.value=N,setTimeout(()=>{rt()},500)},he=N=>{},ae=async()=>{T.value?(await ve(),T.value=!1,br(()=>{M.value?.focus()})):(T.value=!0,S.value="",br(async()=>{await Ee()}))},ee=async()=>{try{const N=await fetch("/transaction/putaway-transfer/qc-released");if(!N.ok)throw new Error("Failed to fetch materials");const w=await N.json();c.value=w.map(K=>({...K,selected:!1,destinationBin:"",binSearchQuery:"",showBinSuggestions:!1}));const _=await fetch("/transaction/putaway-transfer/available-bins");if(!_.ok)throw new Error("Failed to fetch bins");const H=await _.json();u.value=H,E.value=!0}catch(N){console.error("Error loading data:",N),alert("Gagal memuat data")}},Ie=async N=>{if(!N.destinationBin){alert("Pilih destination bin terlebih dahulu!");return}try{const w=await fetch(`/transaction/putaway-transfer/bin-details?binCode=${N.destinationBin}`);if(!w.ok)throw new Error("Failed to fetch bin details");const _=await w.json();$.value=_,A.value=!0}catch(w){console.error("Error loading bin details:",w),alert("Gagal memuat detail bin")}},$e=async()=>{if(!Y.value.length){alert("Pilih minimal 1 material untuk di-putaway!");return}if(confirm("Anda yakin ingin generate TO untuk item terpilih?"))try{ft.post("/transaction/putaway-transfer/generate",{materials:Y.value.map(N=>({stockId:N.stockId,destinationBin:N.destinationBin,qty:N.qty}))},{onSuccess:()=>{E.value=!1,alert("Putaway TO berhasil digenerate!")},onError:N=>{console.error("Error generating putaway:",N),alert("Gagal generate putaway TO: "+(N.message||Object.values(N)[0]))}})}catch(N){console.error("Error submitting putaway:",N),alert("Gagal generate putaway TO: "+N.message)}},Ne=N=>{I.value={...N,isExecuting:!1},k.value=!0},tt=N=>{const w=n();w&&w.id===N.id?(I.value=w,console.log(`Resuming TO ${N.toNumber} from saved session.`)):I.value={...N,isExecuting:!0,status:"In Progress",items:N.items.map(_=>({..._,status:_.status==="completed"?"completed":"pending",actualQty:_.actualQty!==void 0?_.actualQty:_.qty}))},k.value=!0,I.value&&t(I.value)},Re=()=>{I.value?.isExecuting&&I.value.status!=="Completed"?(t(I.value),alert(`Progress TO ${I.value.toNumber} disimpan secara parsial.`)):r(),I.value=null,k.value=!1},et=async N=>{if(P.value=N,N.boxScanned&&N.sourceBinScanned&&N.destBinScanned){alert("Item ini sudah selesai di-scan.");return}else N.boxScanned&&N.sourceBinScanned?j.value=3:N.boxScanned?j.value=2:j.value=1;S.value="",Q.value="",D.value=!0,await br(),await new Promise(w=>setTimeout(w,500)),T.value?await Ee():br(()=>{M.value?.focus()})},Xe=async()=>{await ve(),D.value=!1,P.value=null,j.value=1,S.value="",Q.value="",I.value&&t(I.value)},rt=()=>{if(!P.value||!S.value.trim()){alert("Silakan input QR code!");return}const N=P.value,w=S.value.trim();let _="",H=!1,K="";try{const de=JSON.parse(w);de&&de.bin_code?_=String(de.bin_code).toUpperCase():_=w.toUpperCase()}catch{_=w.toUpperCase()}switch(j.value){case 1:K=N.itemCode,H=w.includes(N.itemCode),H?(N.boxScanned=!0,j.value=2):alert(`Box QR tidak sesuai! Expected: ${K} (atau mengandung ${K}), Scanned: ${w}`);break;case 2:K=N.sourceBin,H=_===K.toUpperCase(),H?(N.sourceBinScanned=!0,j.value=3):alert(`Source Bin tidak sesuai! Expected: ${K}, Scanned Code: ${_||w}`);break;case 3:K=N.destBin,H=_===K.toUpperCase(),H?(N.destBinScanned=!0,N.status="completed",(N.actualQty===void 0||N.actualQty===null)&&(N.actualQty=N.qty),alert(" Scan selesai! Semua tahap berhasil."),Xe()):alert(`Destination Bin tidak sesuai! Expected: ${K}, Scanned Code: ${_||w}`);break}S.value="",Q.value="",I.value&&t(I.value),H&&j.value<=3&&!T.value?br(()=>{M.value?.focus()}):!H&&!T.value&&br(()=>{M.value?.select()})},Pe=async()=>{if(!I.value||!le.value){alert("Pastikan semua item sudah di-scan dan qty actual sudah diisi!");return}if(confirm(`Apakah Anda yakin ingin menyelesaikan TO ${I.value.toNumber}?`))try{ft.post(`/transaction/putaway-transfer/complete/${I.value.id}`,{items:I.value.items.map(N=>({id:N.id,actualQty:N.actualQty,status:N.status,boxScanned:N.boxScanned,sourceBinScanned:N.sourceBinScanned,destBinScanned:N.destBinScanned}))},{onSuccess:()=>{if(alert("Transfer Order berhasil diselesaikan!"),I.value){const N=a.value.findIndex(w=>w.id===I.value?.id);N!==-1&&(a.value[N].status="Completed")}I.value&&(I.value.status="Completed",I.value.isExecuting=!1),r(),Re()},onError:N=>{console.error("Error completing TO:",N);const w=Object.values(N).join(`
`);alert(`Gagal menyelesaikan TO:
`+w)}})}catch(N){console.error("Error completing TO:",N),alert("Gagal menyelesaikan TO: "+N.message)}},te=N=>{const w=`
    <h1 style="text-align: center; font-family: Arial, sans-serif; margin-bottom: 20px;">TRANSFER ORDER</h1>
    <table style="width: 100%; border-collapse: collapse; font-family: Arial, sans-serif; font-size: 12px;">
      <tr>
        <td style="padding: 5px; width: 150px;"><strong>TO Number</strong></td>
        <td style="padding: 5px;">: ${N.toNumber}</td>
        <td style="padding: 5px; width: 150px;"><strong>Transaction Type</strong></td>
        <td style="padding: 5px;">: ${N.type}</td>
      </tr>
      <tr>
        <td style="padding: 5px;"><strong>Creation Date</strong></td>
        <td style="padding: 5px;">: ${_e(N.creationDate)}</td>
        <td style="padding: 5px;"><strong>Warehouse</strong></td>
        <td style="padding: 5px;">: ${N.warehouse}</td>
      </tr>
      ${N.reservationNo?`
      <tr>
        <td style="padding: 5px;"><strong>No Reservasi</strong></td>
        <td style="padding: 5px;" colspan="3">: ${N.reservationNo}</td>
      </tr>`:""}
    </table>
    
    <h3 style="font-family: Arial, sans-serif; margin-top: 25px; margin-bottom: 10px;">DAFTAR ITEM:</h3>
    <table style="width: 100%; border-collapse: collapse; font-family: Arial, sans-serif; font-size: 12px;">
      <thead style="background-color: #f4f4f4;">
        <tr>
          <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">No</th>
          <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Kode Item</th>
          <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Nama Material</th>
          <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Batch/Lot</th> <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Source Bin</th>
          <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Dest Bin</th>
          <th style="border: 1px solid #ddd; padding: 8px; text-align: right;">Qty</th>
          <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">UoM</th>
        </tr>
      </thead>
      <tbody>
        ${N.items.map((H,K)=>`
          <tr>
            <td style="border: 1px solid #ddd; padding: 8px;">${K+1}</td>
            <td style="border: 1px solid #ddd; padding: 8px;">${H.itemCode}</td>
            <td style="border: 1px solid #ddd; padding: 8px;">${H.materialName}</td>
            <td style="border: 1px solid #ddd; padding: 8px;">${H.batchLot}</td> <td style="border: 1px solid #ddd; padding: 8px;">${H.sourceBin}</td>
            <td style="border: 1px solid #ddd; padding: 8px;">${H.destBin}</td>
            <td style="border: 1px solid #ddd; padding: 8px; text-align: right;">${H.actualQty!==void 0&&H.actualQty!==null?H.actualQty:H.qty}</td>
            <td style="border: 1px solid #ddd; padding: 8px;">${H.uom}</td>
          </tr>
        `).join("")}
      </tbody>
    </table>

    <table style="width: 100%; font-family: Arial, sans-serif; font-size: 12px; margin-top: 50px; text-align: center;">
      <tr>
        <td style="padding: 10px;">
          Diserahkan:
          <br><br><br><br>
          (________________)
          <br>
          Tgl: _______
        </td>
        <td style="padding: 10px;">
          Diterima:
          <br><br><br><br>
          (________________)
          <br>
          Tgl: _______
        </td>
        <td style="padding: 10px;">
          Mengetahui:
          <br><br><br><br>
          (________________)
          <br>
          Tgl: _______
        </td>
      </tr>
    </table>
  `,_=window.open("","_blank");if(_){const H="script";_.document.write(`
      <html>
        <head>
          <title>Transfer Order - ${N.toNumber}</title>
          <style>
            @media print {
              body { -webkit-print-color-adjust: exact; }
            }
          </style>
        </head>
        <body>
          ${w}
          <${H}>
            window.onload = function() {
              window.print();
              window.onafterprint = function() {
                 window.close();
              }
            }
          </${H}>
        </body>
      </html>
    `),_.document.close()}},_e=N=>{const w=typeof N=="string"?new Date(N):N;return isNaN(w.getTime())?"Invalid Date":new Intl.DateTimeFormat("id-ID",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(w)},J=N=>({"Putaway - QC Release":"bg-blue-100 text-blue-800","Transfer - Internal":"bg-green-100 text-green-800","Transfer - Bin to Bin":"bg-teal-100 text-teal-800","Picking - Production":"bg-purple-100 text-purple-800","Picking - Sales Order":"bg-pink-100 text-pink-800"})[N]||"bg-gray-100 text-gray-800",z=N=>({Pending:"bg-yellow-100 text-yellow-800","In Progress":"bg-blue-100 text-blue-800",Completed:"bg-green-100 text-green-800"})[N]||"bg-gray-100 text-gray-800",F=N=>({pending:"bg-yellow-100 text-yellow-800",in_progress:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800"})[N]||"bg-gray-100 text-gray-800",X=N=>{if(!N)return u.value.slice(0,50);const w=N.toLowerCase();return u.value.filter(_=>_.code.toLowerCase().includes(w)||_.zone.toLowerCase().includes(w)).slice(0,50)},ce=N=>{N.destinationBin=""},se=(N,w)=>{N.destinationBin=w.code,N.binSearchQuery=`${w.code} [${w.zone} - ${w.currentItems}/${w.capacity}]`,N.showBinSuggestions=!1},we=N=>{setTimeout(()=>{if(N.showBinSuggestions=!1,N.destinationBin){const w=u.value.find(_=>_.code===N.destinationBin);w&&(N.binSearchQuery=`${w.code} [${w.zone} - ${w.currentItems}/${w.capacity}]`)}},200)};return Qn(()=>{console.log("Mounted - Transfer Orders:",a.value)}),Qn(()=>{const N=n();if(N){const w=a.value.find(_=>_.id===N.id);if(w){const _={...w,...N,isExecuting:!0,status:"In Progress"};I.value=_,k.value=!0,alert(`Melanjutkan Transfer Order: ${N.toNumber}. Progress yang tersimpan telah dimuat.`)}else r()}}),Vo(async()=>{await ve()}),(N,w)=>(U(),wt(Kn,{title:"PutAway & TO"},{default:vt(()=>[s("div",TW,[w[64]||(w[64]=s("div",{class:"mb-6"},[s("h1",{class:"text-2xl font-bold text-gray-900 mb-2"},"Putaway & Transfer Order"),s("p",{class:"text-gray-600"},"Kelola Transfer Order untuk putaway, transfer, dan picking barang")],-1)),s("div",{class:"mb-6"},[s("button",{onClick:ee,class:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium flex items-center gap-2"},[...w[9]||(w[9]=[s("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),Ve(" Generate Auto Putaway dari QC Released ",-1)])])]),s("div",MW,[s("div",IW,[s("div",null,[w[10]||(w[10]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Search TO Number",-1)),me(s("input",{"onUpdate:modelValue":w[0]||(w[0]=_=>g.value=_),type:"text",placeholder:"TO-2024-001...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Oe,g.value]])]),s("div",null,[w[11]||(w[11]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Search Batch/Lot",-1)),me(s("input",{"onUpdate:modelValue":w[1]||(w[1]=_=>h.value=_),type:"text",placeholder:"BCH-001...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Oe,h.value]])]),s("div",null,[w[13]||(w[13]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Tipe",-1)),me(s("select",{"onUpdate:modelValue":w[2]||(w[2]=_=>m.value=_),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[...w[12]||(w[12]=[s("option",{value:""},"Semua Tipe",-1),s("option",{value:"Putaway - QC Release"},"Putaway - QC Release",-1),s("option",{value:"Transfer - Internal"},"Transfer - Internal",-1),s("option",{value:"Transfer - Bin to Bin"},"Transfer - Bin to Bin",-1),s("option",{value:"Picking - Production"},"Picking - Production",-1),s("option",{value:"Picking - Sales Order"},"Picking - Sales Order",-1)])],512),[[lt,m.value]])]),s("div",null,[w[15]||(w[15]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Status",-1)),me(s("select",{"onUpdate:modelValue":w[3]||(w[3]=_=>y.value=_),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[...w[14]||(w[14]=[s("option",{value:""},"Semua Status",-1),s("option",{value:"Pending"},"Pending",-1),s("option",{value:"In Progress"},"In Progress",-1),s("option",{value:"Completed"},"Completed",-1)])],512),[[lt,y.value]])])])]),s("div",PW,[s("div",RW,[w[16]||(w[16]=s("h2",{class:"text-lg font-semibold text-gray-900"},"Daftar Transfer Order",-1)),s("p",OW,"Total: "+R(oe.value.length)+" TO",1)]),s("div",NW,[s("table",LW,[w[21]||(w[21]=s("thead",{class:"bg-gray-50"},[s("tr",null,[s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"TO Number"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Batch/Lot"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Creation Date"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Warehouse"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tipe"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Items"),s("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),s("tbody",$W,[oe.value.length?xe("",!0):(U(),V("tr",jW,[...w[17]||(w[17]=[s("td",{colspan:"7",class:"px-6 py-12 text-center"},[s("div",{class:"flex flex-col items-center justify-center"},[s("svg",{class:"w-16 h-16 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})]),s("h3",{class:"text-lg font-medium text-gray-900 mb-1"},"Belum Ada Transfer Order"),s("p",{class:"text-gray-500"},"Generate putaway dari material QC Released untuk membuat TO")])],-1)])])),(U(!0),V(je,null,nt(oe.value,_=>(U(),V("tr",{key:_.id,class:"hover:bg-gray-50"},[s("td",UW,[s("div",HW,R(_.toNumber),1),_.reservationNo?(U(),V("div",zW,R(_.reservationNo),1)):xe("",!0)]),s("td",VW,R(_.items.length>0?_.items[0].batchLot:"N/A"),1),s("td",qW,R(_e(_.creationDate)),1),s("td",WW,R(_.warehouse),1),s("td",GW,[s("span",{class:Se([J(_.type),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(_.type),3)]),s("td",QW,[s("span",{class:Se([z(_.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(_.status),3)]),s("td",KW,R(_.items.length)+" item(s) ",1),s("td",YW,[s("div",XW,[s("button",{onClick:H=>Ne(_),class:"flex items-center gap-2 bg-blue-100 text-blue-700 hover:bg-blue-200 px-3 py-2 rounded-lg transition-colors"},[...w[18]||(w[18]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),s("span",{class:"text-xs font-medium"},"Detail",-1)])],8,ZW),_.status!=="Completed"?(U(),V("button",{key:0,onClick:H=>tt(_),class:"flex items-center gap-2 bg-green-100 text-green-700 hover:bg-green-200 px-3 py-2 rounded-lg transition-colors"},[...w[19]||(w[19]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H15M6 6h3m5 0h3"})],-1),s("span",{class:"text-xs font-medium"},"Kerjakan",-1)])],8,JW)):xe("",!0),s("button",{onClick:H=>te(_),class:"flex items-center gap-2 bg-purple-100 text-purple-700 hover:bg-purple-200 px-3 py-2 rounded-lg transition-colors"},[...w[20]||(w[20]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2-2v4h10z"})],-1),s("span",{class:"text-xs font-medium"},"Cetak TO",-1)])],8,eG)])])]))),128))])])])]),E.value?(U(),V("div",tG,[s("div",nG,[s("div",rG,[w[23]||(w[23]=s("h3",{class:"text-lg font-semibold"},"Generate Auto Putaway dari QC Released",-1)),s("button",{onClick:w[4]||(w[4]=_=>E.value=!1),class:"text-gray-400 hover:text-gray-600"},[...w[22]||(w[22]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),s("div",sG,[s("div",null,[w[26]||(w[26]=s("h4",{class:"text-md font-medium text-gray-900 mb-3"},"Material yang sudah QC Released",-1)),s("div",oG,[s("table",iG,[w[25]||(w[25]=s("thead",{class:"bg-gray-50"},[s("tr",null,[s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Select"),s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Item Code"),s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Material Name"),s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Current Bin"),s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Qty"),s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"UoM"),s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Destination")])],-1)),s("tbody",aG,[(U(!0),V(je,null,nt(c.value,(_,H)=>(U(),V("tr",{key:H,class:"hover:bg-gray-50"},[s("td",lG,[me(s("input",{type:"checkbox","onUpdate:modelValue":K=>_.selected=K,class:"rounded border-gray-300 focus:ring-blue-500"},null,8,cG),[[qo,_.selected]])]),s("td",dG,R(_.itemCode),1),s("td",uG,R(_.materialName),1),s("td",xG,R(_.currentBin),1),s("td",fG,R(_.qty),1),s("td",hG,R(_.uom),1),s("td",gG,[s("div",pG,[me(s("input",{type:"text","onUpdate:modelValue":K=>_.binSearchQuery=K,onInput:K=>ce(_),onFocus:K=>_.showBinSuggestions=!0,onBlur:K=>we(_),disabled:!_.selected,placeholder:"Ketik kode bin...",class:Se(["w-full px-3 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",{"bg-gray-100":!_.selected}])},null,42,mG),[[Oe,_.binSearchQuery]]),_.showBinSuggestions&&X(_.binSearchQuery).length>0?(U(),V("div",yG,[(U(!0),V(je,null,nt(X(_.binSearchQuery),K=>(U(),V("div",{key:K.code,onMousedown:Jn(de=>se(_,K),["prevent"]),class:"px-3 py-2 text-sm cursor-pointer hover:bg-blue-50 text-gray-900 border-b border-gray-100 last:border-0"},R(K.code)+" ["+R(K.zone)+" - "+R(K.currentItems)+"/"+R(K.capacity)+"] ",41,bG))),128))])):xe("",!0),s("button",{onClick:K=>Ie(_),class:"absolute right-2 top-1.5 text-blue-600 hover:text-blue-800",title:"Lihat detail bin",disabled:!_.destinationBin},[...w[24]||(w[24]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])],8,vG)])])]))),128))])])])]),s("div",EG,[s("button",{onClick:w[5]||(w[5]=_=>E.value=!1),class:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50"}," Batal "),s("button",{onClick:$e,disabled:!Y.value.length,class:Se([Y.value.length?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed","px-4 py-2 text-white rounded-md font-medium"])}," Generate Putaway TO ("+R(Y.value.length)+" items) ",11,wG)])])])])):xe("",!0),A.value?(U(),V("div",CG,[s("div",AG,[s("div",BG,[s("h3",_G,"Detail Bin: "+R($.value?.code),1),s("button",{onClick:w[6]||(w[6]=_=>A.value=!1),class:"text-gray-400 hover:text-gray-600"},[...w[27]||(w[27]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),$.value?(U(),V("div",kG,[s("div",DG,[s("div",null,[w[28]||(w[28]=s("label",{class:"block text-sm font-medium text-gray-700"},"Bin Code",-1)),s("p",SG,R($.value.code),1)]),s("div",null,[w[29]||(w[29]=s("label",{class:"block text-sm font-medium text-gray-700"},"Warehouse",-1)),s("p",FG,R($.value.warehouse),1)]),s("div",null,[w[30]||(w[30]=s("label",{class:"block text-sm font-medium text-gray-700"},"Zone",-1)),s("p",TG,R($.value.zone),1)]),s("div",null,[w[31]||(w[31]=s("label",{class:"block text-sm font-medium text-gray-700"},"Capacity",-1)),s("p",MG,R($.value.capacity),1)])]),s("div",null,[w[34]||(w[34]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Current Materials",-1)),s("div",IG,[s("table",PG,[w[33]||(w[33]=s("thead",{class:"bg-gray-50"},[s("tr",null,[s("th",{class:"px-3 py-2 text-left"},"Material"),s("th",{class:"px-3 py-2 text-left"},"Qty"),s("th",{class:"px-3 py-2 text-left"},"UoM")])],-1)),s("tbody",null,[(U(!0),V(je,null,nt($.value.materials,_=>(U(),V("tr",{key:_.itemCode,class:"border-t"},[s("td",RG,R(_.materialName),1),s("td",OG,R(_.qty),1),s("td",NG,R(_.uom),1)]))),128)),$.value.materials.length?xe("",!0):(U(),V("tr",LG,[...w[32]||(w[32]=[s("td",{colspan:"3",class:"px-3 py-2 text-gray-500 text-center"},"Bin kosong",-1)])]))])])])])])):xe("",!0),s("div",$G,[s("button",{onClick:w[7]||(w[7]=_=>A.value=!1),class:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700"}," Tutup ")])])])):xe("",!0),k.value?(U(),V("div",jG,[s("div",UG,[s("div",HG,[s("div",null,[s("h3",zG,R(I.value?.isExecuting?"Kerjakan":"Detail")+" Transfer Order",1),s("p",VG,R(I.value?.toNumber),1)]),s("button",{onClick:Re,class:"text-gray-400 hover:text-gray-600"},[...w[35]||(w[35]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),s("div",qG,[s("div",WG,[s("div",null,[w[36]||(w[36]=s("label",{class:"block text-sm font-medium text-gray-700"},"TO Number",-1)),s("p",GG,R(I.value?.toNumber),1)]),I.value&&I.value.items.length>0&&I.value.items.every(_=>_.batchLot===I.value.items[0].batchLot)?(U(),V("div",QG,[w[37]||(w[37]=s("label",{class:"block text-sm font-medium text-gray-700"},"Batch/Lot Utama",-1)),s("p",KG,R(I.value.items[0].batchLot),1)])):xe("",!0),s("div",null,[w[38]||(w[38]=s("label",{class:"block text-sm font-medium text-gray-700"},"Transaction Type",-1)),s("p",YG,R(I.value?.type),1)]),I.value?.reservationNo?(U(),V("div",XG,[w[39]||(w[39]=s("label",{class:"block text-sm font-medium text-gray-700"},"No Reservasi",-1)),s("p",ZG,R(I.value.reservationNo),1)])):xe("",!0),s("div",null,[w[40]||(w[40]=s("label",{class:"block text-sm font-medium text-gray-700"},"Status",-1)),s("span",{class:Se([z(I.value?.status||""),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full mt-1"])},R(I.value?.status),3)])])]),s("div",JG,[w[50]||(w[50]=s("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Daftar Item",-1)),s("div",eQ,[s("table",tQ,[s("thead",nQ,[s("tr",null,[w[41]||(w[41]=s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"No",-1)),w[42]||(w[42]=s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Kode Item",-1)),w[43]||(w[43]=s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Nama Material",-1)),w[44]||(w[44]=s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Batch/Lot",-1)),w[45]||(w[45]=s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Source Bin",-1)),w[46]||(w[46]=s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Dest Bin",-1)),w[47]||(w[47]=s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Qty",-1)),w[48]||(w[48]=s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"UoM",-1)),w[49]||(w[49]=s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status",-1)),I.value?.isExecuting?(U(),V("th",rQ,"Actions")):xe("",!0)])]),s("tbody",sQ,[(U(!0),V(je,null,nt(I.value?.items,(_,H)=>(U(),V("tr",{key:H,class:"hover:bg-gray-50"},[s("td",oQ,R(H+1),1),s("td",iQ,R(_.itemCode),1),s("td",aQ,R(_.materialName),1),s("td",lQ,R(_.batchLot),1),s("td",cQ,R(_.sourceBin),1),s("td",dQ,R(_.destBin),1),s("td",uQ,R(_.actualQty||_.qty),1),s("td",xQ,R(_.uom),1),s("td",fQ,[s("span",{class:Se([F(_.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(_.status),3)]),I.value?.isExecuting?(U(),V("td",hQ,[_.status!=="completed"?(U(),V("div",gQ,[s("button",{onClick:K=>et(_),class:Se([_.boxScanned&&_.sourceBinScanned&&_.destBinScanned?"bg-green-100 text-green-800":"bg-blue-600 text-white hover:bg-blue-700","px-3 py-1 text-xs font-medium rounded"])},R(_.boxScanned&&_.sourceBinScanned&&_.destBinScanned?" Selesai":"Mulai Scan"),11,pQ),s("div",mQ,[s("span",{class:Se([_.boxScanned?"bg-green-500":"bg-gray-300","w-2 h-2 rounded-full"]),title:"Box"},null,2),s("span",{class:Se([_.sourceBinScanned?"bg-green-500":"bg-gray-300","w-2 h-2 rounded-full"]),title:"Source"},null,2),s("span",{class:Se([_.destBinScanned?"bg-green-500":"bg-gray-300","w-2 h-2 rounded-full"]),title:"Dest"},null,2)])])):xe("",!0)])):xe("",!0)]))),128))])])])]),s("div",yQ,[s("button",{onClick:Re,class:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50"},R(I.value?.isExecuting?"Batal":"Tutup"),1),I.value?.isExecuting?(U(),V("button",{key:0,onClick:Pe,disabled:!le.value,class:Se([le.value?"bg-green-600 hover:bg-green-700":"bg-gray-400 cursor-not-allowed","px-4 py-2 text-white rounded-md font-medium"])}," Selesaikan TO ",10,bQ)):xe("",!0)])])])):xe("",!0),D.value?(U(),V("div",vQ,[s("div",EQ,[s("div",wQ,[s("div",null,[s("h3",CQ,"Scan Wizard - "+R(j.value)+"/3",1),s("p",AQ,R(ye.value),1)]),s("button",{onClick:Xe,class:"text-gray-400 hover:text-gray-600"},[...w[51]||(w[51]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),s("div",BQ,[s("div",_Q,[w[52]||(w[52]=s("span",{class:"text-xs font-medium text-gray-700"},"Progress",-1)),s("span",kQ,R(Math.round(j.value/3*100))+"%",1)]),s("div",DQ,[s("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:Oi({width:`${j.value/3*100}%`})},null,4)])]),s("div",SQ,[s("div",FQ,[s("div",{class:Se([j.value>=1?"bg-blue-600 text-white":"bg-gray-300 text-gray-600","w-10 h-10 rounded-full flex items-center justify-center font-bold mb-2"])},[j.value>1?(U(),V("span",TQ,"")):(U(),V("span",MQ,"1"))],2),w[53]||(w[53]=s("span",{class:"text-xs text-center font-medium"},"Scan Box",-1))]),s("div",{class:Se(["h-1 flex-1 mx-2",j.value>=2?"bg-blue-600":"bg-gray-300"])},null,2),s("div",IQ,[s("div",{class:Se([j.value>=2?"bg-blue-600 text-white":"bg-gray-300 text-gray-600","w-10 h-10 rounded-full flex items-center justify-center font-bold mb-2"])},[j.value>2?(U(),V("span",PQ,"")):(U(),V("span",RQ,"2"))],2),w[54]||(w[54]=s("span",{class:"text-xs text-center font-medium"},"Source Bin",-1))]),s("div",{class:Se(["h-1 flex-1 mx-2",j.value>=3?"bg-blue-600":"bg-gray-300"])},null,2),s("div",OQ,[s("div",{class:Se([j.value>=3?"bg-blue-600 text-white":"bg-gray-300 text-gray-600","w-10 h-10 rounded-full flex items-center justify-center font-bold mb-2"])}," 3 ",2),w[55]||(w[55]=s("span",{class:"text-xs text-center font-medium"},"Dest Bin",-1))])]),s("div",NQ,[T.value?(U(),V("div",LQ,[w[58]||(w[58]=s("div",{id:"qr-reader",class:"w-full rounded-lg overflow-hidden border-2 border-blue-500 mb-2",style:{"min-height":"250px"}},null,-1)),q.value?(U(),V("div",$Q,[...w[56]||(w[56]=[s("svg",{class:"w-4 h-4 inline-block animate-pulse",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),Ve(" Kamera Aktif - Arahkan ke QR Code ",-1)])])):(U(),V("div",jQ,[...w[57]||(w[57]=[s("div",{class:"w-full flex items-center justify-center",style:{"min-height":"250px"}},[s("div",{class:"text-center"},[s("svg",{class:"w-12 h-12 text-gray-400 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]),s("p",{class:"text-gray-500 font-medium"},"Mengaktifkan Kamera..."),s("p",{class:"text-xs text-gray-400 mt-1"},"Harap tunggu sebentar")])],-1)])]))])):xe("",!0)]),s("div",UQ,[s("button",{onClick:ae,class:"w-full px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md text-sm font-medium flex items-center justify-center gap-2"},[T.value?(U(),V("svg",zQ,[...w[60]||(w[60]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"},null,-1)])])):(U(),V("svg",HQ,[...w[59]||(w[59]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"},null,-1)])])),Ve(" "+R(T.value?"Switch to Manual Input":"Switch to Camera Scanner"),1)])]),T.value?xe("",!0):(U(),V("div",VQ,[me(s("input",{"onUpdate:modelValue":w[8]||(w[8]=_=>S.value=_),ref_key:"qrInputRef",ref:M,type:"text",placeholder:`Input ${ye.value} Manual`,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyup:Ni(rt,["enter"]),autofocus:""},null,40,qQ),[[Oe,S.value]]),re.value?(U(),V("div",WQ,[w[61]||(w[61]=s("span",{class:"font-medium"},"Expected Value:",-1)),Ve(" "+R(re.value),1)])):xe("",!0)])),Q.value?(U(),V("div",GQ,[s("div",QQ,[w[63]||(w[63]=s("svg",{class:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)),s("div",null,[w[62]||(w[62]=s("p",{class:"text-xs font-medium text-green-800"},"Terakhir Di-scan:",-1)),s("p",KQ,R(Q.value),1)])])])):xe("",!0),s("div",YQ,[s("button",{onClick:Xe,class:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50"}," Batal "),T.value?xe("",!0):(U(),V("button",{key:0,onClick:rt,disabled:!S.value.trim(),class:Se([S.value.trim()?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed","flex-1 px-4 py-2 text-white rounded-md font-medium"])},R(j.value===3?"Selesai":"Lanjut"),11,XQ))])])])):xe("",!0)])]),_:1}))}}),JQ=Hi(ZQ,[["__scopeId","data-v-ee0fd97c"]]),eK=Object.freeze(Object.defineProperty({__proto__:null,default:JQ},Symbol.toStringTag,{value:"Module"})),tK={components:{Link:fn},props:{links:Array}},nK={key:0},rK={class:"flex flex-wrap -mb-1"},sK=["innerHTML"];function oK(e,t,n,r,i,a){const c=u9("Link");return n.links.length>3?(U(),V("div",nK,[s("div",rK,[(U(!0),V(je,null,nt(n.links,(u,g)=>(U(),V(je,null,[u.url===null?(U(),V("div",{key:g,class:"mr-1 mb-1 px-4 py-3 text-sm leading-4 text-gray-400 border rounded",innerHTML:u.label},null,8,sK)):(U(),wt(c,{key:`link-${g}`,class:Se(["mr-1 mb-1 px-4 py-3 text-sm leading-4 border rounded hover:bg-white focus:border-indigo-500 focus:text-indigo-500",{"bg-blue-700 text-white":u.active,"bg-white":!u.active}]),href:u.url,innerHTML:u.label},null,8,["class","href","innerHTML"]))],64))),256))])])):xe("",!0)}const iK=Hi(tK,[["render",oK]]),aK={class:"space-y-6"},lK={class:"flex justify-between items-center"},cK={class:"text-sm text-gray-600"},dK={class:"bg-white p-4 rounded-lg shadow mb-6"},uK={class:"flex flex-col md:flex-row gap-4"},xK={class:"w-48"},fK={class:"flex-grow"},hK={class:"flex gap-2"},gK={class:"w-24"},pK={class:"bg-white rounded-lg shadow overflow-hidden"},mK={class:"overflow-x-auto"},yK={class:"min-w-full divide-y divide-gray-200"},bK={class:"bg-white divide-y divide-gray-200"},vK={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},EK={class:"text-xs text-gray-500"},wK={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},CK={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},AK={class:"px-6 py-4 text-sm text-gray-900"},BK={class:"font-medium"},_K={class:"text-xs text-gray-500"},kK={key:0,class:"mt-1 inline-flex items-center px-2 py-0.5 rounded text-xs font-bold bg-orange-100 text-orange-800 border border-orange-300"},DK={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},SK={class:"font-bold text-blue-700"},FK={class:"px-6 py-4 whitespace-nowrap"},TK={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},MK={class:"flex space-x-2"},IK=["onClick"],PK=["onClick"],RK=["onClick"],OK={class:"px-6 py-4 border-t border-gray-200"},NK={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},LK={class:"bg-white rounded-lg max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto"},$K={class:"p-6"},jK={class:"flex justify-between items-center mb-6"},UK={class:"text-lg font-semibold text-gray-900"},HK={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},zK={class:"space-y-4"},VK={class:"mt-1 text-sm text-gray-900 font-medium"},qK={class:"mt-1 text-sm text-gray-900"},WK={class:"mt-1 text-sm text-gray-900"},GK={class:"mt-1 text-sm text-gray-900 font-medium"},QK={class:"mt-1 text-sm text-gray-900"},KK={class:"space-y-4"},YK={class:"mt-1 text-sm text-gray-900"},XK={class:"mt-1 text-sm text-gray-900 font-medium"},ZK={class:"mt-1 text-sm text-gray-900"},JK={class:"mt-1 text-sm text-gray-900"},eY={key:1,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},tY={class:"bg-white rounded-lg max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto"},nY={class:"p-6"},rY={class:"flex justify-between items-center mb-6"},sY={class:"text-lg font-semibold text-gray-900"},oY={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6"},iY={class:"border-t border-gray-200 pt-6 mb-6"},aY={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},lY={class:"col-span-2"},cY={class:"block text-sm font-medium text-gray-700 mb-1"},dY=["max"],uY={key:0,class:"text-xs text-red-500 mt-1"},xY={class:"border-t border-gray-200 pt-6"},fY={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},hY={class:"space-y-4"},gY={key:0,class:"bg-orange-50 border border-orange-200 rounded-lg p-3"},pY={class:"space-y-4"},mY={class:"space-y-2"},yY={class:"flex items-center"},bY={class:"flex items-center"},vY={class:"mt-2 list-disc list-inside"},EY={key:0},wY={key:1},CY={key:2},AY={key:3},BY={class:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200"},_Y=["disabled"],kY={key:2,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},DY={class:"bg-white rounded-lg mx-4 max-h-[90vh] overflow-y-auto"},SY={class:"p-6"},FY={class:"space-y-4"},TY={class:"relative"},MY={key:0,class:"absolute top-4 right-4 z-10"},IY={key:0,class:"bg-green-50 border border-green-200 rounded-lg p-3"},PY={class:"text-sm text-green-800"},RY={key:1,class:"bg-red-50 border border-red-200 rounded-lg p-3"},OY={class:"text-sm text-red-800"},NY={class:"flex gap-2"},LY=["disabled"],$Y="https://karir-production.nos.jkt-1.neo.id/logos/05/6980305/logo_gondowangi.png",jY=$r({__name:"QualityControl",props:{itemsToQC:Object,filters:Object},setup(e){const t=e;function n(Pe,te){let _e;return function(...J){const z=this;clearTimeout(_e),_e=setTimeout(()=>Pe.apply(z,J),te)}}const r=pe(t.filters?.search||""),i=pe(t.filters?.date_start||""),a=pe(t.filters?.date_end||""),c=pe(t.filters?.limit||"10"),u=pe(t.filters?.status||""),g=n(()=>{ft.get("/transaction/quality-control",{search:r.value,date_start:i.value,date_end:a.value,limit:c.value,status:u.value},{preserveState:!0,preserveScroll:!0,replace:!0})},500);En([r,i,a,c,u],()=>{g()});const h=pe(!1),m=pe(!1),y=pe(!1),C=pe(null),E=pe(""),A=pe(null),k=pe(null),D=pe(!1);pe("");const I=pe("");pe(null);const $=pe(null),P=pe(""),S=pe(""),M=pe({incoming_item_id:null,noFormChecklist:"",date:"",noPo:"",noSuratJalan:"",kodeItem:"",namaMaterial:"",reference:"",supplier:"",kategori:"",qtySample:0,totalIncoming:"",uom:"",noKendaraan:"",namaDriver:"",defectCount:0,catatanQC:"",hasilQC:"",photos:[],newExpDate:""}),j=Ke(()=>{const Pe=parseFloat(M.value.qtySample)||0,te=parseFloat(M.value.totalIncoming)||0;return M.value.hasilQC&&M.value.kategori&&Pe>=0&&Pe<=te}),L=Pe=>Pe==null||Pe===""?"":Math.round(parseFloat(Pe)),q=Pe=>Pe.statusQC==="To QC"?0:Pe.qcSampleQty??0,T=Ke(()=>P.value.includes("Aktif")?"bg-green-500 text-white":P.value.includes("Error")?"bg-red-500 text-white":"bg-yellow-500 text-white"),Q=async Pe=>{try{return await y0.toDataURL(Pe,{width:150,margin:1,errorCorrectionLevel:"M"})}catch(te){return console.error("Gagal generate QR Data URL:",te),""}},oe=Pe=>Pe?new Date(Pe).toLocaleDateString("id-ID",{day:"numeric",month:"numeric",year:"numeric"}).replace(/\./g,"/"):"N/A",Y=pe(!1),le=Pe=>({"To QC":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",PASS:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",REJECT:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"})[Pe]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",ye=Pe=>{C.value=Pe,h.value=!0},re=()=>{h.value=!1,C.value=null},Ee=()=>{if(!C.value)return;const te=`QC/${new Date().toISOString().slice(0,10).replace(/-/g,"")}/XXXX`;M.value={incoming_item_id:C.value.id,noFormChecklist:te,date:new Date().toISOString().slice(0,16),noPo:C.value.noPo,noSuratJalan:C.value.noSuratJalan,kodeItem:C.value.kodeItem,namaMaterial:C.value.namaMaterial,reference:"",supplier:C.value.supplier,kategori:C.value.kategori,qtySample:0,totalIncoming:Math.floor(C.value.qtyReceived),uom:C.value.uom,noKendaraan:C.value.noKendaraan,namaDriver:C.value.namaDriver,defectCount:0,catatanQC:"",hasilQC:"",photos:[]},h.value=!1,m.value=!0},ve=()=>{m.value=!1,C.value=null,he()},Ce=()=>{m.value=!1,h.value=!0},he=()=>{M.value={incoming_item_id:null,noFormChecklist:"",date:"",noPo:"",noSuratJalan:"",kodeItem:"",namaMaterial:"",reference:"",supplier:"",kategori:"",qtySample:0,totalIncoming:"",uom:"",noKendaraan:"",namaDriver:"",defectCount:0,catatanQC:"",hasilQC:"",photos:[]}},ae=()=>{if(!j.value){alert("Mohon lengkapi semua field yang diperlukan dengan benar");return}const Pe=new FormData;Pe.append("incoming_item_id",M.value.incoming_item_id),Pe.append("reference",M.value.reference||""),Pe.append("kategori",M.value.kategori),Pe.append("qty_sample",M.value.qtySample||0),Pe.append("defect_count",M.value.defectCount||0),Pe.append("catatan_qc",M.value.catatanQC||""),Pe.append("hasil_qc",M.value.hasilQC),C.value?.is_reqc&&M.value.hasilQC==="PASS"&&M.value.newExpDate&&Pe.append("new_exp_date",M.value.newExpDate),M.value.photos&&M.value.photos.length>0&&M.value.photos.forEach((te,_e)=>{Pe.append(`photos[${_e}]`,te)}),ft.post("/transaction/quality-control",Pe,{forceFormData:!0,preserveState:!1,preserveScroll:!0,onSuccess:te=>{console.log("QC berhasil disimpan!",te),ve(),te.props.flash&&te.props.flash.success?alert(te.props.flash.success):alert(`QC ${M.value.hasilQC} berhasil disimpan!`)},onError:te=>{console.error("Validation errors:",te);let _e=`Gagal menyimpan QC:

`;for(const[J,z]of Object.entries(te))Array.isArray(z)?_e+=` ${z.join(", ")}
`:_e+=` ${z}
`;alert(_e)},onFinish:()=>{console.log("Request finished")}})},ee=async()=>{console.log(" Opening QR Scanner..."),y.value=!0,E.value="",I.value="",S.value="",P.value=" Memulai kamera...",await new Promise(Pe=>setTimeout(Pe,300));try{await Ie()}catch(Pe){console.error(" Failed to start scanner:",Pe),S.value=Pe.message,P.value=" Error"}},Ie=async()=>{try{console.log(" Initializing Html5Qrcode..."),$.value=new Na("qr-reader"),console.log(" Html5Qrcode instance created");const Pe=await Na.getCameras();if(console.log(" Available cameras:",Pe),!Pe||Pe.length===0)throw new Error("Tidak ada kamera yang ditemukan");let te=Pe[0].id;const _e=Pe.find(z=>z.label.toLowerCase().includes("back")||z.label.toLowerCase().includes("rear")||z.label.toLowerCase().includes("environment"));_e&&(te=_e.id,console.log(" Using back camera:",_e.label));const J={fps:10,qrbox:{width:250,height:250},aspectRatio:1,formatsToSupport:[0]};await $.value.start(te,J,(z,F)=>{if(console.log(" QR Code detected!"),console.log(" Decoded text:",z),console.log(" Full result:",F),Y.value){console.log(" Already processing...");return}I.value=z,P.value=" QR Terdeteksi!",tt(z)},z=>{}),console.log(" Scanner started successfully!"),P.value=" Scanner Aktif",S.value=""}catch(Pe){console.error(" Scanner error:",Pe);let te="Gagal memulai scanner: ";throw Pe.name==="NotAllowedError"?te+="Akses kamera ditolak. Izinkan akses kamera di browser.":Pe.name==="NotFoundError"?te+="Kamera tidak ditemukan.":Pe.name==="NotReadableError"?te+="Kamera sedang digunakan aplikasi lain.":te+=Pe.message,S.value=te,P.value=" Error",Pe}},$e=async()=>{if(console.log(" Closing QR Scanner..."),$.value){try{await $.value.stop(),await $.value.clear(),console.log(" Scanner stopped")}catch(Pe){console.error("Error stopping scanner:",Pe)}$.value=null}y.value=!1,E.value="",I.value="",S.value="",P.value="",Y.value=!1},Ne=()=>{if(console.log(" Stopping camera..."),k.value){const Pe=k.value.getTracks();console.log(`Stopping ${Pe.length} track(s)`),Pe.forEach(te=>{te.stop(),console.log(`Track stopped: ${te.kind}`)}),k.value=null}A.value&&(A.value.srcObject=null,A.value.load()),D.value=!1,I.value="",console.log(" Camera stopped")},tt=async Pe=>{if(!Pe){alert(" QR Code kosong!");return}if(Y.value){console.log(" Already processing...");return}if(Y.value=!0,Pe=Pe.trim(),console.log(" Processing QR Code:",Pe),$.value)try{await $.value.pause(),P.value=" Processing..."}catch(te){console.log("Cannot pause scanner:",te)}try{const te=await Bt.post("/transaction/quality-control/scan",{qr_code:Pe});console.log(" Server response:",te.data),te.data.success&&(I.value=` ${te.data.message}`,setTimeout(()=>{$e(),ye(te.data.data)},1e3))}catch(te){console.error(" Error processing QR:",te);let _e=" Error: ";if(te.response?.data?_e+=te.response.data.message||"Terjadi kesalahan":_e+=te.message||"Terjadi kesalahan",S.value=_e,alert(_e),$.value)try{await $.value.resume(),P.value=" Scanner Aktif"}catch(J){console.log("Cannot resume scanner:",J)}}finally{Y.value=!1}},Re=(Pe,te,_e,J,z)=>{const F=Pe?"R E J E C T":"R E L E A S E D",X="#171917",ce=Pe?"red":"green",se=te.noLot||te.batchLot||"N/A",we=oe(te.expDate||"N/A"),N=oe(te.tanggalTerima||"N/A"),w=`[${te.kodeItem||"N/A"}] ${te.namaMaterial||"N/A"}`,_=xo().props.auth?.user?.name||"Logistik",H=te.qtyUnitPerWadah||0,K=`${L(H)} ${te.uom||"PCS"}`,de=te.qtyWadah||1,ue=de>0?`${H} x ${de} box`:"",ke=_e?`<img src="${_e}" class="qr-code" alt="QR Code">`:'<div class="qr-placeholder">NO QR</div>';return`
        <div class="label-wrapper">
            <div class="label-container" style="border-color: ${X};">
                <div class="header" style="border-bottom-color: ${X};">
                    <img src="${$Y}" alt="Logo Gondowangi" class="logo-img">
                    <div class="status-box" style="color: ${ce}; border-top-color: ${X};">${F}</div>
                </div>
                
                <div class="content">
                    <div class="info-section">
                        <div class="info-row">
                            <div class="info-label">Nama Barang</div>
                            <div class="info-value" style="font-size: 11px;">: ${w}</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">Kode Barang</div>
                            <div class="info-value">: ${te.kodeItem||"N/A"}</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">No Lot</div>
                            <div class="info-value">: ${se}</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">Supplier</div>
                            <div class="info-value">: ${te.supplier||"N/A"}</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">Jmlh Barang</div>
                            <div class="info-value">: ${K}</div>
                        </div>
                        ${ue?`<div class="info-row">
                            <div class="info-label">Detail Wadah</div>
                            <div class="info-value multi-line">: ${ue}</div>
                        </div>`:""}
                        <div class="info-row">
                            <div class="info-label">Wadah Ke</div>
                            <div class="info-value">: ${J} / ${de}</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">Tgl Datang</div>
                            <div class="info-value">: ${N}</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">Exp. Date</div>
                            <div class="info-value">: ${we}</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">Dibuat Oleh</div>
                            <div class="info-value">: ${_}</div>
                        </div>
                    </div>
                    
                    <div class="qr-section">
                        ${ke}
                    </div>
                </div>
                
                <div class="footer" style="border-top-color: ${X};">
                    <span class="footer-left">Logistik</span>
                    <span class="footer-right">QL1001-01 Rev. 02</span>
                </div>
            </div>
        </div>
    `},et=async(Pe,te)=>{const _e=Pe.qtyWadah||1,J=6;let z="";const F=te?"REJECT":"RELEASED";if(_e<=0)throw new Error("Jumlah wadah tidak valid untuk dicetak.");for(let ce=0;ce<_e;ce+=J){let se="";const we=Math.min(J,_e-ce);for(let N=0;N<we;N++){const w=ce+N+1,_=Pe.qrCode||`${Pe.batchLot}|${Pe.kodeItem}|${F}|${Pe.qtyUnitPerWadah}|${Pe.expDate}|${w}/${_e}`,H=await Q(_),K=Re(te,Pe,H,w);se+=K}z+=`
            <div class="print-page" style="${ce>0?"page-break-before: always;":""}">
                ${se}
            </div>
        `}const X=te?"red":"green";return`
        <html>
        <head>
            <title>Cetak Label QR - ${Pe.kodeItem} (${_e} Wadah)</title>
            <style>
                @page {
                    size: A4;
                    margin: 0.5cm;
                }
                
                body {
                    font-family: 'Arial', sans-serif;
                    margin: 0;
                    padding: 0;
                    background: white;
                    font-size: 10px;
                }
                
                .print-page {
                    width: 20cm; 
                    height: 28.7cm; 
                    margin: 0.5cm auto; 
                    box-sizing: border-box;
                    display: flex;
                    flex-wrap: wrap;
                    align-content: flex-start;
                    justify-content: space-between; 
                }

                /* ===========================================
                    GAYA VISUAL (diselaraskan dengan Penerimaan Barang)
                    =========================================== */

                .label-wrapper {
                    width: 9.9cm; /* 2 kolom di A4 */
                    height: calc(33.33% - 0.4cm); /* 3 baris di A4 */
                    padding: 0; 
                    box-sizing: border-box;
                    margin-bottom: 0.4cm; 
                    margin-right: 0.1cm;
                    margin-left: 0.1cm;
                }
                
                .label-container {
                    width: 100%; 
                    height: 100%; 
                    border: 2px solid ${X}; /* Warna border sesuai status */
                    padding: 5px; 
                    box-sizing: border-box;
                    background-color: #fff;
                    display: flex;
                    flex-direction: column;
                    font-size: 10px; 
                }
                .header {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    border-bottom: 2px solid ${X};
                    padding-bottom: 5px; 
                    margin-bottom: 5px; 
                }
                .logo-img {
                    width: 130px; 
                    height: auto;
                    margin-bottom: 5px;
                }
                .status-box {
                    margin-top: 5px;
                    border-top: 0.8px solid #000; 
                    border-bottom: none;
                    border-left: none;
                    border-right: none;
                    padding: 2px 5px;
                    font-weight: bold;
                    font-size: 14px; 
                    width: 100%;
                    text-align: center;
                }
                .content {
                    display: flex;
                    flex-grow: 1;
                    padding-top: 5px;
                    gap: 10px; 
                }
                .info-section {
                    flex: 1;
                    display: flex;
                    flex-direction: column;
                    justify-content: space-between;
                }
                .info-row {
                    display: flex;
                    margin-bottom: 2px;
                    align-items: baseline;
                }
                .info-label {
                    width: 80px; 
                    min-width: 80px;
                    font-weight: normal;
                    flex-shrink: 0;
                }
                .info-value {
                    flex: 1;
                    font-weight: bold;
                    overflow: hidden;
                    text-overflow: ellipsis;
                    
                }
                .info-value.multi-line {
                    white-space: normal; 
                }

                .qr-section {
                    width: 80px; 
                    height: 80px; 
                    display: flex;
                    flex-direction: column;
                    justify-content: flex-start;
                    align-items: flex-end; 
                    flex-shrink: 0;
                }
                .qr-code {
                    width: 100%;
                    height: 100%;
                    border: 1px solid #ccc;
                }
                .qr-placeholder { 
                    width: 100%;
                    height: 100%;
                    border: 1px dashed #999;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 10px;
                    color: #999;
                    font-weight: bold;
                }
                
                .footer {
                    display: flex;
                    justify-content: space-between;
                    font-size: 10px; 
                    border-top: 2px solid ${X};
                    padding-top: 25px;
                    margin-top: 5px;
                }
                .footer-left {
                    font-style: italic;
                }
                .footer-right {
                    font-weight: bold;
                }
                
                /* Untuk mode print */
                @media print {
                    .print-page { 
                        page-break-after: always;
                        width: initial;
                        height: initial;
                        padding: 1px;
                        margin: 0 auto;
                    }
                    .print-page:last-child { page-break-after: avoid; }
                    body { 
                        -webkit-print-color-adjust: exact; 
                        print-color-adjust: exact;
                        display: block;
                        margin: 0;
                    }
                    /* Menyesuaikan border/padding di mode print */
                    .label-container {
                        border-top: 0.8px solid #000; 
                        padding: 2px;
                    }
                    .header {
                        border-bottom: 0.8px solid #000; 
                        padding: 2px;
                        padding-bottom: 0px; 
                        margin-bottom: 0px; 
                    }
                    .footer {
                        border-top: 0.8px solid #000; 
                        padding-top: 30px;
                        margin-top: 3px;
                    }
                }
            </style>
        </head>
        <body>
            ${z}
        </body>
        </html>
    `},Xe=async Pe=>{try{const te=await et(Pe,!1),_e=window.open("","_blank");_e?(_e.document.write(te),_e.document.close(),_e.focus()):alert("Gagal membuka jendela cetak. Pastikan pop-up tidak diblokir.")}catch(te){console.error("Error saat mencetak label RELEASED:",te),alert(te.message||"Terjadi kesalahan saat mencetak label.")}},rt=async Pe=>{try{const te=await et(Pe,!0),_e=window.open("","_blank");_e?(_e.document.write(te),_e.document.close(),_e.focus()):alert("Gagal membuka jendela cetak. Pastikan pop-up tidak diblokir.")}catch(te){console.error("Error saat mencetak label REJECT:",te),alert(te.message||"Terjadi kesalahan saat mencetak label.")}};return Vo(()=>{Ne()}),Vo(async()=>{if($.value)try{await $.value.stop(),await $.value.clear()}catch(Pe){console.error("Error cleaning up scanner:",Pe)}}),(Pe,te)=>(U(),wt(Kn,{title:"Riwayat Aktivitas"},{default:vt(()=>[s("div",aK,[s("div",lK,[te[28]||(te[28]=s("h2",{class:"text-2xl font-bold text-gray-900"},"Daftar QC (Quality Control)",-1)),s("div",cK," Total item menunggu QC: "+R(e.itemsToQC.total),1),s("button",{onClick:ee,class:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},[...te[27]||(te[27]=[s("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h2M4 4h16a2 2 0 012 2v12a2 2 0 01-2 2H4a2 2 0 01-2-2V6a2 2 0 012-2z"})],-1),Ve(" Scan QR Code ",-1)])])]),s("div",dK,[s("div",uK,[s("div",xK,[me(s("select",{"onUpdate:modelValue":te[0]||(te[0]=_e=>u.value=_e),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"},[...te[29]||(te[29]=[s("option",{value:""},"Semua Status",-1),s("option",{value:"To QC"},"Menunggu QC",-1),s("option",{value:"Completed"},"Sudah QC (Pass/Reject)",-1),s("option",{value:"PASS"},"Lolos QC (PASS)",-1),s("option",{value:"REJECT"},"Tidak Lolos (REJECT)",-1)])],512),[[lt,u.value]])]),s("div",fK,[me(s("input",{"onUpdate:modelValue":te[1]||(te[1]=_e=>r.value=_e),type:"text",placeholder:"Cari No Shipment, PO, Surat Jalan, Material...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"},null,512),[[Oe,r.value]])]),s("div",hK,[me(s("input",{"onUpdate:modelValue":te[2]||(te[2]=_e=>i.value=_e),type:"date",class:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",title:"Tanggal Mulai"},null,512),[[Oe,i.value]]),te[30]||(te[30]=s("span",{class:"self-center text-gray-500"},"-",-1)),me(s("input",{"onUpdate:modelValue":te[3]||(te[3]=_e=>a.value=_e),type:"date",class:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",title:"Tanggal Akhir"},null,512),[[Oe,a.value]])]),s("div",gK,[me(s("select",{"onUpdate:modelValue":te[4]||(te[4]=_e=>c.value=_e),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"},[...te[31]||(te[31]=[s("option",{value:"10"},"10",-1),s("option",{value:"25"},"25",-1),s("option",{value:"50"},"50",-1),s("option",{value:"100"},"100",-1),s("option",{value:"all"},"Semua",-1)])],512),[[lt,c.value]])])])]),s("div",pK,[s("div",mK,[s("table",yK,[te[33]||(te[33]=s("thead",{class:"bg-gray-50"},[s("tr",null,[s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"No Shipment / No PO"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"No Surat Jalan"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Supplier"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Item (Kode & Nama)"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Qty Diambil"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status QC"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),s("tbody",bK,[(U(!0),V(je,null,nt(e.itemsToQC.data,_e=>(U(),V("tr",{key:_e.id,class:"hover:bg-gray-50"},[s("td",vK,[s("div",null,R(_e.shipmentNumber),1),s("div",EK,R(_e.noPo),1)]),s("td",wK,R(_e.noSuratJalan),1),s("td",CK,R(_e.supplier),1),s("td",AK,[s("div",BK,R(_e.kodeItem),1),s("div",_K,R(_e.namaMaterial),1),_e.is_reqc?(U(),V("span",kK,[te[32]||(te[32]=s("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z","clip-rule":"evenodd"})],-1)),Ve(" RE-QC ("+R(_e.reqc_count)+"x) ",1)])):xe("",!0)]),s("td",DK,[s("span",SK,R(L(q(_e)))+" "+R(_e.uom),1)]),s("td",FK,[s("span",{class:Se([le(_e.statusQC),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(_e.statusQC),3)]),s("td",TK,[s("div",MK,[_e.statusQC==="To QC"?(U(),V("button",{key:0,onClick:J=>ye(_e),class:"bg-blue-100 text-blue-700 hover:bg-blue-200 px-3 py-1 rounded text-xs"}," Periksa QC ",8,IK)):xe("",!0),_e.statusQC==="PASS"?(U(),V("button",{key:1,onClick:J=>Xe(_e),class:"bg-purple-100 text-purple-700 hover:bg-purple-200 px-2 py-1 rounded text-xs"}," Cetak Label QR (RELEASED) ",8,PK)):xe("",!0),_e.statusQC==="REJECT"?(U(),V("button",{key:2,onClick:J=>rt(_e),class:"bg-red-100 text-red-700 hover:bg-red-200 px-2 py-1 rounded text-xs"}," Cetak Label QR (REJECT) ",8,RK)):xe("",!0)])])]))),128))])])]),s("div",OK,[Ft(iK,{links:e.itemsToQC.links},null,8,["links"])])]),h.value?(U(),V("div",NK,[s("div",LK,[s("div",$K,[s("div",jK,[s("h3",UK,"Detail Item QC - "+R(C.value?.kodeItem),1),s("button",{onClick:re,class:"text-gray-400 hover:text-gray-600"},[...te[34]||(te[34]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),s("div",HK,[s("div",zK,[s("div",null,[te[35]||(te[35]=s("label",{class:"block text-sm font-medium text-gray-700"},"No Shipment",-1)),s("div",VK,R(C.value?.shipmentNumber),1)]),s("div",null,[te[36]||(te[36]=s("label",{class:"block text-sm font-medium text-gray-700"},"No PO",-1)),s("div",qK,R(C.value?.noPo),1)]),s("div",null,[te[37]||(te[37]=s("label",{class:"block text-sm font-medium text-gray-700"},"No Surat Jalan",-1)),s("div",WK,R(C.value?.noSuratJalan),1)]),s("div",null,[te[38]||(te[38]=s("label",{class:"block text-sm font-medium text-gray-700"},"Kode Item",-1)),s("div",GK,R(C.value?.kodeItem),1)]),s("div",null,[te[39]||(te[39]=s("label",{class:"block text-sm font-medium text-gray-700"},"Nama Material",-1)),s("div",QK,R(C.value?.namaMaterial),1)])]),s("div",KK,[s("div",null,[te[40]||(te[40]=s("label",{class:"block text-sm font-medium text-gray-700"},"Supplier",-1)),s("div",YK,R(C.value?.supplier),1)]),s("div",null,[te[41]||(te[41]=s("label",{class:"block text-sm font-medium text-gray-700"},"Quantity Received",-1)),s("div",XK,R(L(C.value?.qtyReceived))+" "+R(C.value?.uom),1)]),s("div",null,[te[42]||(te[42]=s("label",{class:"block text-sm font-medium text-gray-700"},"No Kendaraan",-1)),s("div",ZK,R(C.value?.noKendaraan),1)]),s("div",null,[te[43]||(te[43]=s("label",{class:"block text-sm font-medium text-gray-700"},"Nama Driver",-1)),s("div",JK,R(C.value?.namaDriver),1)]),s("div",null,[te[44]||(te[44]=s("label",{class:"block text-sm font-medium text-gray-700"},"Status QC",-1)),s("span",{class:Se([le(C.value?.statusQC),"inline-flex px-2 py-1 text-xs font-semibold rounded-full"])},R(C.value?.statusQC),3)])])]),s("div",{class:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200"},[s("button",{onClick:re,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"}," Tutup "),s("button",{onClick:Ee,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"}," Lanjut QC ")])])])])):xe("",!0),m.value?(U(),V("div",eY,[s("div",tY,[s("div",nY,[s("div",rY,[s("h3",sY,"Form QC - "+R(C.value?.kodeItem),1),s("button",{onClick:ve,class:"text-gray-400 hover:text-gray-600"},[...te[45]||(te[45]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),s("div",oY,[s("div",null,[te[46]||(te[46]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"No Form Checklist",-1)),me(s("input",{"onUpdate:modelValue":te[5]||(te[5]=_e=>M.value.noFormChecklist=_e),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[Oe,M.value.noFormChecklist]])]),s("div",null,[te[47]||(te[47]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date",-1)),me(s("input",{"onUpdate:modelValue":te[6]||(te[6]=_e=>M.value.date=_e),type:"datetime-local",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Oe,M.value.date]])]),s("div",null,[te[48]||(te[48]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"No PO",-1)),me(s("input",{"onUpdate:modelValue":te[7]||(te[7]=_e=>M.value.noPo=_e),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[Oe,M.value.noPo]])]),s("div",null,[te[49]||(te[49]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"No Surat Jalan",-1)),me(s("input",{"onUpdate:modelValue":te[8]||(te[8]=_e=>M.value.noSuratJalan=_e),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[Oe,M.value.noSuratJalan]])]),s("div",null,[te[50]||(te[50]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Kode Item",-1)),me(s("input",{"onUpdate:modelValue":te[9]||(te[9]=_e=>M.value.kodeItem=_e),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[Oe,M.value.kodeItem]])]),s("div",null,[te[51]||(te[51]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nama Material",-1)),me(s("input",{"onUpdate:modelValue":te[10]||(te[10]=_e=>M.value.namaMaterial=_e),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[Oe,M.value.namaMaterial]])]),s("div",null,[te[52]||(te[52]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Reference",-1)),me(s("input",{"onUpdate:modelValue":te[11]||(te[11]=_e=>M.value.reference=_e),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Oe,M.value.reference]])]),s("div",null,[te[53]||(te[53]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nama Supplier",-1)),me(s("input",{"onUpdate:modelValue":te[12]||(te[12]=_e=>M.value.supplier=_e),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[Oe,M.value.supplier]])]),s("div",null,[te[55]||(te[55]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Kategori",-1)),me(s("select",{"onUpdate:modelValue":te[13]||(te[13]=_e=>M.value.kategori=_e),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},[...te[54]||(te[54]=[s("option",{value:""},"Pilih Kategori",-1),s("option",{value:"Raw Material"},"Raw Material",-1),s("option",{value:"Packaging Material"},"Packaging Material",-1)])],512),[[lt,M.value.kategori]])]),s("div",null,[te[56]||(te[56]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"No Kendaraan",-1)),me(s("input",{"onUpdate:modelValue":te[14]||(te[14]=_e=>M.value.noKendaraan=_e),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[Oe,M.value.noKendaraan]])]),s("div",null,[te[57]||(te[57]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nama Driver",-1)),me(s("input",{"onUpdate:modelValue":te[15]||(te[15]=_e=>M.value.namaDriver=_e),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[Oe,M.value.namaDriver]])])]),s("div",iY,[te[60]||(te[60]=s("h4",{class:"text-md font-medium text-gray-900 mb-4"},"Pengambilan Sampel QC",-1)),s("div",aY,[s("div",lY,[s("label",cY," Qty Sampel Diambil ("+R(M.value.uom)+") * ",1),me(s("input",{"onUpdate:modelValue":te[16]||(te[16]=_e=>M.value.qtySample=_e),type:"number",min:"0",max:M.value.totalIncoming,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,8,dY),[[Oe,M.value.qtySample]]),M.value.qtySample>M.value.totalIncoming?(U(),V("p",uY," Qty Sampel tidak boleh melebihi Total Incoming ("+R(M.value.totalIncoming)+" "+R(M.value.uom)+") ",1)):xe("",!0)]),s("div",null,[te[58]||(te[58]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Jumlah Total Incoming",-1)),me(s("input",{"onUpdate:modelValue":te[17]||(te[17]=_e=>M.value.totalIncoming=_e),type:"number",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[Oe,M.value.totalIncoming]])]),s("div",null,[te[59]||(te[59]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"UoM",-1)),me(s("input",{"onUpdate:modelValue":te[18]||(te[18]=_e=>M.value.uom=_e),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[Oe,M.value.uom]])])])]),s("div",xY,[te[69]||(te[69]=s("h4",{class:"text-md font-medium text-gray-900 mb-4"},"Hasil QC",-1)),s("div",fY,[s("div",hY,[s("div",null,[te[61]||(te[61]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Defect Count",-1)),me(s("input",{"onUpdate:modelValue":te[19]||(te[19]=_e=>M.value.defectCount=_e),type:"number",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Oe,M.value.defectCount]])]),s("div",null,[te[62]||(te[62]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Catatan QC",-1)),me(s("textarea",{"onUpdate:modelValue":te[20]||(te[20]=_e=>M.value.catatanQC=_e),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Oe,M.value.catatanQC]])]),C.value?.is_reqc&&M.value.hasilQC==="PASS"?(U(),V("div",gY,[te[63]||(te[63]=s("label",{class:"block text-sm font-medium text-orange-900 mb-1"},[s("span",{class:"flex items-center gap-1"},[s("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z","clip-rule":"evenodd"})]),Ve(" Expired Date Baru (RE-QC PASS) ")])],-1)),me(s("input",{"onUpdate:modelValue":te[21]||(te[21]=_e=>M.value.newExpDate=_e),type:"date",required:"",class:"w-full px-3 py-2 border border-orange-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white text-gray-900"},null,512),[[Oe,M.value.newExpDate]]),te[64]||(te[64]=s("p",{class:"text-xs text-orange-700 mt-1"},"Masukkan tanggal expired baru untuk material yang PASS Re-QC",-1))])):xe("",!0),te[65]||(te[65]=s("div",null,[s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Upload Foto Bukti"),s("input",{type:"file",multiple:"",accept:"image/*",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"})],-1))]),s("div",pY,[s("div",null,[te[68]||(te[68]=s("label",{class:"block text-sm font-medium text-gray-700 mb-3"},"Hasil QC *",-1)),s("div",mY,[s("label",yY,[me(s("input",{"onUpdate:modelValue":te[22]||(te[22]=_e=>M.value.hasilQC=_e),type:"radio",value:"PASS",class:"mr-2 text-green-600 focus:ring-green-500"},null,512),[[Pa,M.value.hasilQC]]),te[66]||(te[66]=s("span",{class:"text-sm text-gray-900"},"PASS",-1))]),s("label",bY,[me(s("input",{"onUpdate:modelValue":te[23]||(te[23]=_e=>M.value.hasilQC=_e),type:"radio",value:"REJECT",class:"mr-2 text-red-600 focus:ring-red-500"},null,512),[[Pa,M.value.hasilQC]]),te[67]||(te[67]=s("span",{class:"text-sm text-gray-900"},"REJECT",-1))])])]),M.value.hasilQC?(U(),V("div",{key:0,class:Se(["mt-4 p-4 rounded-lg",M.value.hasilQC==="PASS"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"])},[s("div",{class:Se(["text-sm",M.value.hasilQC==="PASS"?"text-green-800":"text-red-800"])},[s("strong",null,R((M.value.hasilQC==="PASS","Akan digenerate:")),1),s("ul",vY,[M.value.hasilQC==="PASS"?(U(),V("li",EY,"Good Receipt Slip")):xe("",!0),M.value.hasilQC==="PASS"?(U(),V("li",wY,"Label Karantina QR (Status: RELEASED)")):xe("",!0),M.value.hasilQC==="REJECT"?(U(),V("li",CY,"Return Slip")):xe("",!0),M.value.hasilQC==="REJECT"?(U(),V("li",AY,"Label QR (Status: REJECT)")):xe("",!0)])],2)],2)):xe("",!0)])])]),s("div",BY,[s("button",{onClick:Ce,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"}," Kembali ke Detail "),s("button",{onClick:ae,disabled:!j.value,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"}," Simpan Hasil QC ",8,_Y)])])])])):xe("",!0),y.value?(U(),V("div",kY,[s("div",DY,[s("div",SY,[s("div",{class:"flex justify-between items-center mb-4"},[te[71]||(te[71]=s("h3",{class:"text-lg font-semibold text-gray-900"},"Scan QR Code",-1)),s("button",{onClick:$e,class:"text-gray-400 hover:text-gray-600"},[...te[70]||(te[70]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),s("div",FY,[s("div",TY,[te[72]||(te[72]=s("div",{id:"qr-reader",class:"w-full rounded-lg overflow-hidden"},null,-1)),P.value?(U(),V("div",MY,[s("span",{class:Se([T.value,"px-3 py-1 rounded-full text-xs font-semibold"])},R(P.value),3)])):xe("",!0)]),I.value?(U(),V("div",IY,[s("p",PY,[te[73]||(te[73]=s("strong",null," QR Code terdeteksi:",-1)),te[74]||(te[74]=s("br",null,null,-1)),Ve(" "+R(I.value),1)])])):xe("",!0),S.value?(U(),V("div",RY,[s("p",OY,[te[75]||(te[75]=s("strong",null," Error:",-1)),te[76]||(te[76]=s("br",null,null,-1)),Ve(" "+R(S.value),1)])])):xe("",!0),te[79]||(te[79]=s("div",{class:"relative"},[s("div",{class:"absolute inset-0 flex items-center"},[s("div",{class:"w-full border-t border-gray-300"})]),s("div",{class:"relative flex justify-center text-sm"},[s("span",{class:"px-2 bg-white text-gray-500"},"atau")])],-1)),s("div",null,[te[77]||(te[77]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Input Manual QR Code: ",-1)),s("div",NY,[me(s("input",{"onUpdate:modelValue":te[24]||(te[24]=_e=>E.value=_e),onKeyup:te[25]||(te[25]=Ni(_e=>tt(E.value),["enter"])),type:"text",placeholder:"Paste QR Code di sini...",class:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,544),[[Oe,E.value]]),s("button",{onClick:te[26]||(te[26]=_e=>tt(E.value)),disabled:!E.value,class:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-md"}," Process ",8,LY)]),te[78]||(te[78]=s("p",{class:"mt-2 text-xs text-gray-500"}," Contoh format: IN/20250918/0001|RM-001|BATCH123|100|2027-01-01 ",-1))])])])])])):xe("",!0)])]),_:1}))}}),UY=Object.freeze(Object.defineProperty({__proto__:null,default:jY},Symbol.toStringTag,{value:"Module"})),HY={__name:"index",setup(e){return(t,n)=>(U(),wt(Kn,{pageTitle:"Laporan",pageDescription:"Laporan dan analisis warehouse"},{default:vt(()=>[...n[0]||(n[0]=[s("div",{class:"bg-white rounded-lg shadow p-6"},[s("div",{class:"text-center py-12"},[s("svg",{class:"w-20 h-20 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),s("h3",{class:"text-xl font-bold text-gray-800 mb-2"},"Halaman Laporan"),s("p",{class:"text-gray-600"},"Fitur laporan sedang dalam pengembangan")])],-1)])]),_:1}))}},zY=Object.freeze(Object.defineProperty({__proto__:null,default:HY},Symbol.toStringTag,{value:"Module"})),VY={class:"space-y-6"},qY={class:"bg-white rounded-lg shadow-sm border border-gray-200"},WY={class:"p-6 border-b border-gray-200"},GY={class:"flex flex-col lg:flex-row gap-4 mb-4"},QY={class:"flex-1"},KY={class:"relative"},YY={key:0,class:"bg-blue-500 text-white text-xs px-2 py-0.5 rounded-full"},XY={key:0,class:"mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200"},ZY={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4"},JY={class:"flex gap-2"},eX={class:"flex justify-between items-center"},tX={class:"text-sm text-gray-600"},nX={class:"flex gap-2"},rX={class:"p-6"},sX={class:"overflow-x-auto"},oX={class:"min-w-full divide-y divide-gray-200"},iX={class:"bg-white divide-y divide-gray-200"},aX={key:0},lX={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800"},cX={class:"px-6 py-4 whitespace-nowrap text-sm"},dX={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},uX={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},xX={class:"px-6 py-4 whitespace-nowrap"},fX={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},hX={class:"flex space-x-2"},gX=["onClick"],pX=["onClick"],mX={key:0,class:"fixed inset-0 bg-gray-900 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},yX={class:"bg-white rounded-lg w-full max-w-7xl mx-4 max-h-[90vh] overflow-y-auto shadow-xl"},bX={class:"p-6"},vX={class:"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200"},EX={class:"grid grid-cols-2 md:grid-cols-4 gap-3"},wX=["onClick"],CX={key:0,class:"space-y-6"},AX={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},BX={class:"block text-sm font-medium text-gray-700 mb-1"},_X={key:0},kX={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},DX={key:0},SX={key:1},FX={key:2},TX={key:3},MX={key:4},IX={key:5},PX={class:"mb-6 p-4 bg-yellow-50 rounded-lg border border-yellow-200"},RX={class:"block text-sm font-medium text-gray-700 mb-2"},OX={key:0},NX={key:1},LX={key:2},$X={class:"flex items-center gap-3"},jX=["disabled"],UX={class:"border-t border-gray-200 pt-6"},HX={class:"flex justify-between items-center mb-4"},zX={class:"text-md font-medium text-gray-800"},VX={class:"overflow-x-auto border border-gray-200 rounded-lg"},qX={class:"min-w-full divide-y divide-gray-200"},WX={class:"bg-gray-50"},GX={class:"divide-y divide-gray-200 bg-white"},QX={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-700"},KX={class:"px-4 py-3 relative whitespace-nowrap z-10"},YX=["onUpdate:modelValue","onInput","onFocus"],XX={key:0,class:"absolute left-0 right-0 mt-1 max-h-48 overflow-y-auto bg-white border border-gray-300 rounded-md shadow-lg z-20"},ZX=["onMousedown"],JX={class:"text-gray-500 text-xs truncate ml-2"},eZ={class:"px-4 py-3 whitespace-nowrap"},tZ=["onUpdate:modelValue"],nZ={class:"px-4 py-3 whitespace-nowrap"},rZ=["onUpdate:modelValue"],sZ={key:1,class:"text-xs text-red-500 font-medium"},oZ={class:"px-4 py-3 whitespace-nowrap"},iZ=["onUpdate:modelValue"],aZ={class:"px-4 py-3 relative whitespace-nowrap z-10"},lZ=["onUpdate:modelValue","onInput","onFocus"],cZ={key:0,class:"absolute left-0 right-0 mt-1 max-h-48 overflow-y-auto bg-white border border-gray-300 rounded-md shadow-lg z-20"},dZ=["onMousedown"],uZ={class:"text-gray-500 text-xs truncate ml-2"},xZ={class:"px-4 py-3 whitespace-nowrap"},fZ=["onUpdate:modelValue"],hZ={class:"px-4 py-3 whitespace-nowrap"},gZ=["onUpdate:modelValue"],pZ={key:1,class:"text-xs text-red-500 font-medium"},mZ={class:"px-4 py-3 relative whitespace-nowrap z-10"},yZ=["onUpdate:modelValue","onInput","onFocus"],bZ={key:0,class:"absolute left-0 right-0 mt-1 max-h-48 overflow-y-auto bg-white border border-gray-300 rounded-md shadow-lg z-20"},vZ=["onMousedown"],EZ={class:"text-gray-500 text-xs truncate ml-2"},wZ={class:"px-4 py-3 whitespace-nowrap"},CZ=["onUpdate:modelValue"],AZ={class:"px-4 py-3 whitespace-nowrap"},BZ=["onUpdate:modelValue"],_Z={key:1,class:"text-xs text-red-500 font-medium"},kZ={class:"px-4 py-3 relative whitespace-nowrap z-10"},DZ=["onUpdate:modelValue","onInput","onFocus"],SZ={key:0,class:"absolute left-0 right-0 mt-1 max-h-48 overflow-y-auto bg-white border border-gray-300 rounded-md shadow-lg z-20"},FZ=["onMousedown"],TZ={class:"text-gray-500 text-xs truncate ml-2"},MZ={class:"px-4 py-3 whitespace-nowrap"},IZ=["onUpdate:modelValue"],PZ={class:"px-4 py-3 whitespace-nowrap"},RZ=["onUpdate:modelValue"],OZ={class:"px-4 py-3 whitespace-nowrap"},NZ=["onUpdate:modelValue"],LZ={key:1,class:"text-xs text-red-500 font-medium"},$Z={class:"px-4 py-3 whitespace-nowrap"},jZ=["onClick"],UZ={class:"flex justify-end space-x-3 pt-6 border-t border-gray-200"},HZ=["disabled"],zZ={key:1,class:"fixed inset-0 bg-gray-900 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},VZ={class:"bg-white rounded-lg w-full max-w-7xl mx-4 max-h-[90vh] overflow-y-auto shadow-xl"},qZ={class:"p-6"},WZ={class:"flex justify-between items-center mb-6 border-b pb-4"},GZ={class:"text-xl font-bold text-gray-800"},QZ={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 bg-gray-50 p-4 rounded-lg"},KZ={class:"space-y-1"},YZ={class:"space-y-1"},XZ={class:"font-medium text-gray-800"},ZZ={class:"space-y-1"},JZ={class:"space-y-1"},eJ={class:"text-gray-800"},tJ={class:"space-y-1 md:col-span-2"},nJ={class:"text-gray-800"},rJ={class:"space-y-1"},sJ={class:"text-gray-800"},oJ={class:"space-y-1"},iJ={class:"text-gray-800"},aJ={class:"space-y-1"},lJ={class:"text-gray-800"},cJ={class:"space-y-1"},dJ={class:"text-gray-800"},uJ={class:"space-y-1"},xJ={class:"text-gray-800"},fJ={key:0,class:"p-4 bg-yellow-50 text-yellow-700 rounded-lg"},hJ={key:1,class:"overflow-x-auto border border-gray-200 rounded-lg"},gJ={class:"min-w-full divide-y divide-gray-200"},pJ={class:"bg-gray-50"},mJ={class:"divide-y divide-gray-200 bg-white"},yJ={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-700"},bJ={class:"px-4 py-3 text-sm text-gray-700"},vJ={class:"px-4 py-3 text-sm text-gray-700"},EJ={class:"px-4 py-3 text-sm text-gray-700"},wJ={class:"px-4 py-3 text-sm text-gray-700"},CJ={class:"px-4 py-3 text-sm text-gray-700"},AJ={class:"px-4 py-3 text-sm text-gray-700"},BJ={class:"px-4 py-3 text-sm text-gray-700"},_J={class:"px-4 py-3 text-sm text-gray-700"},kJ={class:"px-4 py-3 text-sm text-gray-700"},DJ={class:"px-4 py-3 text-sm text-gray-700"},SJ={class:"px-4 py-3 text-sm text-gray-700"},FJ={class:"px-4 py-3 text-sm text-gray-700"},TJ={class:"px-4 py-3 text-sm text-gray-700"},MJ={class:"px-4 py-3 text-sm text-gray-700"},IJ={class:"px-4 py-3 text-sm text-gray-700"},PJ={key:0,class:"fixed inset-0 bg-gray-900 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},RJ={class:"bg-white rounded-lg p-6 w-full max-w-sm shadow-xl"},OJ={class:"text-sm text-gray-600 mb-6"},NJ={class:"flex justify-end space-x-3"},LJ={__name:"Reservation",props:{initialRequests:{type:Array,default:()=>[]},errors:Object,auth:Object,permissions:Array},setup(e){const t=pe(!1),n=pe(""),r=pe(!1),i=pe(""),a=pe(!1),c=pe(null),u=pe(!1),g=pe(""),h=pe(null),m=pe(null),y=pe([]),C=pe(null);let E=null;const A=pe({category:"",status:"",dateFrom:"",dateTo:""}),k=[{id:"packaging",name:"Request Packaging Material"},{id:"raw-material",name:"Request Raw Material"},{id:"foh-rs",name:"FOH & RS"},{id:"add",name:"ADD (Additional Request)"}],D=pe({noReservasi:"",tanggalPermintaan:"",departemen:"",alasanReservasi:"",namaProduk:"",noBetsFilling:"",kodeProduk:"",noBets:"",besarBets:"",items:[]}),I=z=>{const F=z.target.files?z.target.files[0]:null;h.value=F,m.value=F?{type:"info",message:`File terpilih: ${F.name}`}:null},$=async()=>{if(!h.value){m.value={type:"error",message:" Harap pilih file PDF terlebih dahulu."};return}if(!n.value){m.value={type:"error",message:" Mohon pilih kategori terlebih dahulu."};return}D.value.items=[],m.value={type:"info",message:"Sedang memproses file, mohon tunggu..."};const z=new FormData;z.append("file",h.value),z.append("request_type",n.value);try{const F=await Bt.post(route("transaction.reservation.parse-materials"),z,{headers:{"Content-Type":"multipart/form-data"}}),X=F.data.materials||[],ce=F.data.notFoundMaterials||[];if(X.length>0?(D.value.items=X.map(se=>n.value==="raw-material"?{kodeBahan:se.kodeBahan,namaBahan:se.namaBahan,jumlahKebutuhan:se.jumlahKebutuhan,jumlahKirim:null,satuan:se.satuan,stokAvailable:se.stokAvailable}:n.value==="packaging"||n.value==="add"?{kodePM:se.kodePM,namaMaterial:se.namaMaterial,jumlahPermintaan:se.jumlahPermintaan,satuan:se.satuan,stokAvailable:se.stokAvailable}:n.value==="foh-rs"?{kodeItem:se.kodeItem,keterangan:se.keterangan||se.namaMaterial,qty:se.qty,uom:se.uom,stokAvailable:se.stokAvailable}:{}),m.value={type:"success",message:` Berhasil mengimpor ${X.length} material.`}):ce.length>0?m.value={type:"warning",message:` ${ce.length} material ditolak/tidak ditemukan. Lihat detail.`}:m.value={type:"error",message:" Tidak ada material yang ditemukan dalam dokumen."},ce.length>0){const se=ce.map(we=>` **${we.kode||we.kodePM||we.kodeBahan}**: ${we.message}`).join(`
`);g.value=` Ditemukan masalah pada material berikut (Item TIDAK dimasukkan ke tabel):

${se}`,u.value=!0}}catch(F){console.error("Error saat parse file:",F);const X=F.response?.statusText||"Kesalahan Server";let ce=F.response?.data?.message||`Gagal memproses. (${X})`;if(F.response?.data?.errors){const se=F.response.data.errors;ce=Object.values(se).map(we=>we[0]).join("; ")}m.value={type:"error",message:` Gagal memproses (${X}): ${ce}`}}finally{h.value=null,document.querySelector('input[type="file"]').value=""}},S=pe(e.initialRequests||[]),M=async()=>{try{const z=await Bt.get(route("transaction.reservation.data"));S.value=z.data}catch(z){console.error("Error fetching reservations:",z)}},j=z=>{const F=k.find(X=>X.id===z);return F?F.name:z},L=z=>({"foh-rs":"bg-blue-100 text-blue-700",packaging:"bg-green-100 text-green-700","raw-material":"bg-purple-100 text-purple-700",add:"bg-orange-100 text-orange-700"})[z]||"bg-gray-100 text-gray-700",q=Ke(()=>{switch(n.value){case"foh-rs":return"Daftar Item";case"packaging":return"Daftar Material";case"raw-material":return"Daftar Bahan Baku";case"add":return"Daftar Item Tambahan";default:return"Daftar Item"}}),T=(z,F)=>{const X=parseFloat(z[F])||0,ce=parseFloat(z.stokAvailable)||0;return X>ce&&X>0&&z.stokAvailable!==void 0},Q=Ke(()=>{let z="";switch(n.value){case"foh-rs":z="qty";break;case"packaging":case"add":z="jumlahPermintaan";break;case"raw-material":z="jumlahKebutuhan";break;default:return!1}return D.value.items.some(F=>T(F,z))}),oe=Ke(()=>{if(!n.value||!D.value.tanggalPermintaan||D.value.items.length===0||!D.value.items.every(F=>{switch(n.value){case"foh-rs":return F.kodeItem&&F.qty>0;case"packaging":case"add":return F.kodePM&&F.jumlahPermintaan>0;case"raw-material":return F.kodeBahan&&F.jumlahKebutuhan>0;default:return!1}}))return!1;switch(n.value){case"foh-rs":return!!D.value.departemen&&!!D.value.alasanReservasi;case"packaging":return!!D.value.namaProduk&&!!D.value.noBetsFilling;case"raw-material":return!!D.value.kodeProduk&&!!D.value.noBets&&D.value.besarBets>0;case"add":return!!D.value.namaProduk&&!!D.value.noBetsFilling;default:return!1}}),Y=Ke(()=>{let z=S.value;if(i.value){const F=i.value.toLowerCase();z=z.filter(X=>X.noReservasi.toLowerCase().includes(F)||j(X.type).toLowerCase().includes(F)||ee(X).toLowerCase().includes(F)||X.status.toLowerCase().includes(F))}if(A.value.category&&(z=z.filter(F=>F.type===A.value.category)),A.value.status&&(z=z.filter(F=>F.status===A.value.status)),A.value.dateFrom){const F=new Date(A.value.dateFrom);z=z.filter(X=>new Date(X.tanggalPermintaan)>=F)}if(A.value.dateTo){const F=new Date(A.value.dateTo);F.setHours(23,59,59,999),z=z.filter(X=>new Date(X.tanggalPermintaan)<=F)}return z}),le=Ke(()=>{let z=0;return A.value.category&&z++,A.value.status&&z++,A.value.dateFrom&&z++,A.value.dateTo&&z++,z}),ye=(z,F)=>{C.value={index:z,field:F},y.value=[]},re=()=>{setTimeout(()=>{C.value=null,y.value=[]},200)},Ee=(z,F)=>C.value&&C.value.index===z&&C.value.field===F,ve=async(z,F)=>{if(!z||z.length<2){y.value=[];return}try{const X=await Bt.get(route("transaction.materials.search"),{params:{query:z,type:F}});y.value=X.data}catch(X){console.error("Error fetching material suggestions:",X),y.value=[]}},Ce=(z,F,X)=>{E&&clearTimeout(E),C.value={index:F,field:X},E=setTimeout(()=>{ve(z,n.value)},300)},he=(z,F,X)=>{const ce=D.value.items[F];ce.kodeItem="",ce.keterangan="",ce.uom="",ce.kodePM="",ce.namaMaterial="",ce.kodeBahan="",ce.namaBahan="",ce.satuan="",ce.stokAvailable=z.stokAvailable,n.value==="foh-rs"?(ce.kodeItem=z.kodeItem,ce.keterangan=z.keterangan,ce.uom=z.uom):n.value==="packaging"||n.value==="add"?(ce.kodePM=z.kodePM,ce.namaMaterial=z.namaMaterial,ce.satuan=z.satuan):n.value==="raw-material"&&(ce.kodeBahan=z.kodeBahan,ce.namaBahan=z.namaBahan,ce.satuan=z.satuan),y.value=[],C.value=null},ae=z=>({Draft:"bg-gray-100 text-gray-700",Submitted:"bg-blue-100 text-blue-700",Completed:"bg-green-100 text-green-700",Rejected:"bg-red-100 text-red-700",Picking:"bg-yellow-100 text-yellow-700",Done:"bg-purple-100 text-purple-700"})[z]||"bg-yellow-100 text-yellow-700",ee=z=>{switch(z.type){case"foh-rs":return z.departemen;case"packaging":return z.namaProduk;case"raw-material":return z.kodeProduk;case"add":return z.namaProduk;default:return"-"}},Ie=z=>{if(!z)return"-";try{return new Date(z).toLocaleString("id-ID",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return z}},$e=()=>{A.value={category:"",status:"",dateFrom:"",dateTo:""}},Ne=()=>{Re(),et(),t.value=!0},tt=()=>{t.value=!1,Re()},Re=()=>{h.value=null,m.value=null,n.value="",D.value={noReservasi:"",tanggalPermintaan:new Date().toISOString().slice(0,16),departemen:"",alasanReservasi:"",namaProduk:"",noBetsFilling:"",kodeProduk:"",noBets:"",besarBets:"",items:[]}},et=()=>{const z=new Date().toISOString().slice(0,10).replace(/-/g,""),F=S.value.length+1;D.value.noReservasi=`RSV/${z}/${String(F).padStart(4,"0")}`},Xe=()=>{const z={};switch(n.value){case"foh-rs":z.kodeItem="",z.keterangan="",z.qty=null,z.uom="",z.stokAvailable=void 0;break;case"packaging":z.namaMaterial="",z.kodePM="",z.jumlahPermintaan=null,z.satuan="",z.stokAvailable=void 0;break;case"raw-material":z.kodeBahan="",z.namaBahan="",z.jumlahKebutuhan=null,z.jumlahKirim=null,z.satuan="",z.stokAvailable=void 0;break;case"add":z.namaMaterial="",z.kodePM="",z.alasanPenambahan="",z.jumlahPermintaan=null,z.satuan="",z.stokAvailable=void 0;break}D.value.items.push(z)},rt=z=>{D.value.items.splice(z,1)},Pe=async()=>{if(!oe.value){g.value="Mohon lengkapi semua field yang diperlukan (termasuk Tanggal Permintaan, minimal satu Item, dan semua field header wajib) sebelum melanjutkan.",u.value=!0;return}if(Q.value){g.value="Tidak dapat mengirim permintaan: Beberapa item melebihi stok yang tersedia. Harap perbaiki kuantitas permintaan.",u.value=!0;return}const z={...D.value,request_type:n.value};ft.post(route("transaction.reservation.store"),z,{preserveScroll:!0,onSuccess:()=>{console.log(" Reservation request berhasil dibuat!"),tt(),M()},onError:F=>{console.error("Validation errors:",F);let X=` Gagal membuat reservasi karena data tidak lengkap:

`;for(const ce in F)if(Object.prototype.hasOwnProperty.call(F,ce)){const se=Array.isArray(F[ce])?F[ce][0]:F[ce];X+=` ${se}
`}g.value=X,u.value=!0}})},te=z=>{c.value=JSON.parse(JSON.stringify(z)),a.value=!0},_e=()=>{a.value=!1,c.value=null},J=z=>{const F=JSON.parse(JSON.stringify(z));if(!F.items||!Array.isArray(F.items)){console.error("Tidak dapat mencetak: Data item tidak valid atau kosong."),g.value="Tidak dapat mencetak: Data item tidak valid atau kosong.",u.value=!0;return}const X=window.open("","_blank");let ce="",se="";const we=F.items.map((N,w)=>{let _=`<td>${w+1}</td>`;const H=F.type?F.type.toLowerCase():"";return H==="foh-rs"?_+=`
            <td>${N.kodeItem||"-"}</td>
            <td>${N.keterangan||"-"}</td>
            <td>${N.qty||"-"}</td>
            <td>${N.uom||"-"}</td>
        `:H==="packaging"?_+=`
            <td>${N.namaMaterial||"-"}</td>
            <td>${N.kodePM||"-"}</td>
            <td>${N.jumlahPermintaan||"-"}</td>
        `:H==="raw-material"?_+=`
            <td>${N.kodeBahan||"-"}</td>
            <td>${N.namaBahan||"-"}</td>
            <td>${N.jumlahKebutuhan||"-"}</td>
            <td>${N.jumlahKirim||"-"}</td>
        `:H==="add"&&(_+=`
            <td>${N.namaMaterial||"-"}</td>
            <td>${N.kodePM||"-"}</td>
            <td>${N.alasanPenambahan||"-"}</td>
            <td>${N.jumlahPermintaan||"-"}</td>
        `),`<tr>${_}</tr>`}).join("");switch(F.type?F.type.toLowerCase():""){case"foh-rs":ce="FORM FOH & RS REQUEST",se=`
        <div class="info-section">
          <div class="info-row">
            <span><strong>No Reservasi:</strong> ${F.noReservasi}</span>
            <span><strong>Tanggal:</strong> ${Ie(F.tanggalPermintaan)}</span>
          </div>
          <div class="info-row">
            <span><strong>Departemen:</strong> ${F.departemen}</span>
            <span><strong>Status:</strong> ${F.status}</span>
          </div>
          <div class="info-row">
            <span><strong>Alasan Reservasi:</strong> ${F.alasanReservasi||"-"}</span>
          </div>
        </div>

        <table class="items-table">
          <thead>
            <tr>
              <th>No</th>
              <th>Kode Item</th>
              <th>Keterangan</th>
              <th>Qty</th>
              <th>UoM</th>
            </tr>
          </thead>
          <tbody>
          ${we}
          </tbody>
        </table>
      `;break;case"packaging":ce="FORM REQUEST PACKAGING MATERIAL",se=`
        <div class="info-section">
          <div class="info-row">
            <span><strong>No Reservasi:</strong> ${F.noReservasi}</span>
            <span><strong>Tanggal & Jam:</strong> ${Ie(F.tanggalPermintaan)}</span>
          </div>
          <div class="info-row">
            <span><strong>Nama Produk:</strong> ${F.namaProduk}</span>
            <span><strong>No Bets Filling:</strong> ${F.noBetsFilling}</span>
          </div>
        </div>

        <table class="items-table">
          <thead>
            <tr>
              <th>No</th>
              <th>Nama Material</th>
              <th>Kode PM</th>
              <th>Jumlah Permintaan</th>
            </tr>
          </thead>
          <tbody>
          ${we}
          </tbody>
        </table>
      `;break;case"raw-material":ce="FORM REQUEST RAW MATERIAL",se=`
        <div class="info-section">
          <div class="info-row">
            <span><strong>No Reservasi:</strong> ${F.noReservasi}</span>
            <span><strong>Tanggal:</strong> ${Ie(F.tanggalPermintaan)}</span>
          </div>
          <div class="info-row">
            <span><strong>Kode Produk:</strong> ${F.kodeProduk}</span>
            <span><strong>No Bets:</strong> ${F.noBets}</span>
          </div>
          <div class="info-row">
            <span><strong>Besar Bets:</strong> ${F.besarBets} Kg</span>
          </div>
        </div>

        <table class="items-table">
          <thead>
            <tr>
              <th>No</th>
              <th>Kode Bahan</th>
              <th>Nama Bahan</th>
              <th>Jumlah Kebutuhan</th>
            </tr>
          </thead>
          <tbody>
          ${we}
          </tbody>
        </table>
      `;break;case"add":ce="FORM ADD - ADDITIONAL REQUEST",se=`
        <div class="info-section">
          <div class="info-row">
            <span><strong>No Reservasi:</strong> ${F.noReservasi}</span>
            <span><strong>Tanggal & Jam:</strong> ${Ie(F.tanggalPermintaan)}</span>
          </div>
          <div class="info-row">
            <span><strong>Nama Produk:</strong> ${F.namaProduk}</span>
            <span><strong>No Bets Filling:</strong> ${F.noBetsFilling}</span>
          </div>
        </div>

        <table class="items-table">
          <thead>
            <tr>
              <th>No</th>
              <th>Nama Material</th>
              <th>Kode PM</th>
              <th>Alasan Penambahan</th>
              <th>Jumlah Permintaan</th>
            </tr>
          </thead>
          <tbody>
          ${we}
          </tbody>
        </table>
      `;break;default:console.error("Tipe request tidak dikenal: ",F.type),g.value=`Tipe request tidak dikenal: ${F.type}`,u.value=!0;return}X.document.write(`
    <html>
      <head>
        <title>${ce} - ${F.noReservasi}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; font-size: 12px; }
          .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 10px; margin-bottom: 20px; }
          .info-section { margin: 20px 0; }
          .info-row { display: flex; justify-content: space-between; margin: 8px 0; }
          .items-table { width: 100%; border-collapse: collapse; margin: 20px 0; }
          .items-table th, .items-table td { border: 1px solid #000; padding: 8px; text-align: left; }
          .items-table th { background-color: #f0f0f0; font-weight: bold; }
          .signature { margin-top: 40px; display: flex; justify-content: space-between; }
          .signature div { text-align: center; }
          .signature-line { border-top: 1px solid #000; width: 150px; margin-top: 40px; }
          @media print {
            body { margin: 0; font-size: 11px; }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <h2>${ce}</h2>
          <p>No: ${F.noReservasi}</p>
        </div>

        ${se}

        <div class="signature">
          <div>
            <p>Dibuat Oleh:</p>
            <div class="signature-line"></div>
            <p>Requester</p>
          </div>
          <div>
            <p>Disetujui Oleh:</p>
            <div class="signature-line"></div>
            <p>Supervisor</p>
          </div>
          <div>
            <p>Tanggal:</p>
            <div class="signature-line"></div>
            <p>${new Date().toLocaleDateString("id-ID")}</p>
          </div>
        </div>
      </body>
    </html>
  `),X.document.close(),X.focus(),setTimeout(()=>{X.print(),X.close()},500)};return Qn(()=>{}),(z,F)=>(U(),wt(Kn,{title:"Riwayat Aktivitas"},{default:vt(()=>[s("div",VY,[F[90]||(F[90]=s("div",{class:"flex justify-between items-center"},[s("h2",{class:"text-2xl font-bold text-gray-800"},"Reservation Requests")],-1)),s("div",qY,[s("div",WY,[s("div",GY,[s("div",QY,[s("div",KY,[me(s("input",{"onUpdate:modelValue":F[0]||(F[0]=X=>i.value=X),type:"text",placeholder:"Cari berdasarkan No Reservasi, Kategori, atau Detail Info...",class:"w-full px-4 py-2.5 pl-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-700"},null,512),[[Oe,i.value]]),F[21]||(F[21]=s("svg",{class:"w-5 h-5 absolute left-3 top-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])]),s("button",{onClick:F[1]||(F[1]=X=>r.value=!r.value),class:"px-4 py-2.5 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg flex items-center gap-2 transition-colors border border-gray-300"},[F[22]||(F[22]=s("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1)),F[23]||(F[23]=Ve(" Filter ",-1)),le.value>0?(U(),V("span",YY,R(le.value),1)):xe("",!0)]),s("button",{onClick:Ne,class:"px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center gap-2 transition-colors"},[...F[24]||(F[24]=[s("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),Ve(" Buat Request ",-1)])])]),r.value?(U(),V("div",XY,[s("div",ZY,[s("div",null,[F[26]||(F[26]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Kategori",-1)),me(s("select",{"onUpdate:modelValue":F[2]||(F[2]=X=>A.value.category=X),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-700 bg-white"},[...F[25]||(F[25]=[s("option",{value:""},"Semua Kategori",-1),s("option",{value:"foh-rs"},"FOH & RS",-1),s("option",{value:"packaging"},"Request Packaging Material",-1),s("option",{value:"raw-material"},"Request Raw Material",-1),s("option",{value:"add"},"ADD (Additional Request)",-1)])],512),[[lt,A.value.category]])]),s("div",null,[F[28]||(F[28]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Status",-1)),me(s("select",{"onUpdate:modelValue":F[3]||(F[3]=X=>A.value.status=X),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-700 bg-white"},[...F[27]||(F[27]=[s("option",{value:""},"Semua Status",-1),s("option",{value:"Draft"},"Draft",-1),s("option",{value:"Submitted"},"Submitted",-1),s("option",{value:"Approved"},"Approved",-1),s("option",{value:"Rejected"},"Rejected",-1),s("option",{value:"Picking"},"Picking",-1),s("option",{value:"Done"},"Done",-1)])],512),[[lt,A.value.status]])]),s("div",null,[F[29]||(F[29]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Rentang Tanggal",-1)),s("div",JY,[me(s("input",{"onUpdate:modelValue":F[4]||(F[4]=X=>A.value.dateFrom=X),type:"date",class:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-700 bg-white text-sm"},null,512),[[Oe,A.value.dateFrom]]),me(s("input",{"onUpdate:modelValue":F[5]||(F[5]=X=>A.value.dateTo=X),type:"date",class:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-700 bg-white text-sm"},null,512),[[Oe,A.value.dateTo]])])])]),s("div",eX,[s("div",tX," Total hasil: "+R(Y.value.length)+" dari "+R(S.value.length)+" requests ",1),s("div",nX,[s("button",{onClick:$e,class:"px-4 py-2 text-gray-600 hover:text-gray-800 text-sm"}," Reset Filter "),s("button",{onClick:F[6]||(F[6]=X=>r.value=!1),class:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm"}," Terapkan ")])])])):xe("",!0)]),s("div",rX,[s("div",sX,[s("table",oX,[F[32]||(F[32]=s("thead",{class:"bg-gray-50"},[s("tr",null,[s("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"No Reservasi"),s("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Kategori "),s("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Tanggal Permintaan"),s("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"No Bets Filling/Mixing"),s("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Detail Info"),s("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Status "),s("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Aksi")])],-1)),s("tbody",iX,[Y.value.length===0?(U(),V("tr",aX,[...F[30]||(F[30]=[s("td",{colspan:"6",class:"px-6 py-8 text-center text-gray-500"}," Tidak ada data yang ditemukan ",-1)])])):xe("",!0),(U(!0),V(je,null,nt(Y.value,X=>(U(),V("tr",{key:X.id,class:"hover:bg-gray-50 transition-colors"},[s("td",lX,R(X.noReservasi),1),s("td",cX,[s("span",{class:Se(["px-2 py-1 text-xs font-medium rounded-full",L(X.type)])},R(j(X.type)),3)]),s("td",dX,R(Ie(X.tanggalPermintaan)),1),F[31]||(F[31]=s("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},"763473",-1)),s("td",uX,R(ee(X)),1),s("td",xX,[s("span",{class:Se([ae(X.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(X.status),3)]),s("td",fX,[s("div",hX,[s("button",{onClick:ce=>te(X),class:"bg-blue-50 text-blue-700 hover:bg-blue-100 px-3 py-1.5 rounded text-xs font-medium transition-colors"}," Detail ",8,gX),s("button",{onClick:ce=>J(X),class:"bg-green-50 text-green-700 hover:bg-green-100 px-3 py-1.5 rounded text-xs font-medium transition-colors"}," Cetak ",8,pX)])])]))),128))])])])])]),t.value?(U(),V("div",mX,[s("div",yX,[s("div",bX,[s("div",{class:"flex justify-between items-center mb-6"},[F[34]||(F[34]=s("h3",{class:"text-lg font-semibold text-gray-800"}," Buat Request Reservasi Baru ",-1)),s("button",{onClick:tt,class:"text-gray-400 hover:text-gray-600 transition-colors"},[...F[33]||(F[33]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),s("div",vX,[F[35]||(F[35]=s("label",{class:"block text-sm font-medium text-gray-700 mb-3"},"Pilih Kategori Request:",-1)),s("div",EX,[(U(),V(je,null,nt(k,X=>s("button",{key:X.id,onClick:ce=>n.value=X.id,class:Se(["p-4 rounded-lg border-2 text-sm font-medium transition-all",n.value===X.id?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:border-blue-300 hover:bg-blue-50"])},R(X.name),11,wX)),64))])]),n.value?(U(),V("div",CX,[s("div",AX,[s("div",null,[F[36]||(F[36]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"No Reservasi",-1)),me(s("input",{"onUpdate:modelValue":F[7]||(F[7]=X=>D.value.noReservasi=X),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-700"},null,512),[[Oe,D.value.noReservasi]])]),s("div",null,[s("label",BX,R(n.value==="packaging"||n.value==="add"?"Tanggal & Jam Permintaan":"Tanggal Permintaan"),1),me(s("input",{"onUpdate:modelValue":F[8]||(F[8]=X=>D.value.tanggalPermintaan=X),type:"datetime-local",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700"},null,512),[[Oe,D.value.tanggalPermintaan]])]),n.value==="foh-rs"?(U(),V("div",_X,[F[37]||(F[37]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[Ve("Alasan Reservasi "),s("span",{class:"text-red-500"},"*")],-1)),me(s("textarea",{"onUpdate:modelValue":F[9]||(F[9]=X=>D.value.alasanReservasi=X),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",placeholder:"Jelaskan alasan reservasi..."},null,512),[[Oe,D.value.alasanReservasi]])])):xe("",!0)]),s("div",kX,[n.value==="foh-rs"?(U(),V("div",DX,[F[39]||(F[39]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[Ve("Departemen "),s("span",{class:"text-red-500"},"*")],-1)),me(s("select",{"onUpdate:modelValue":F[10]||(F[10]=X=>D.value.departemen=X),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700"},[...F[38]||(F[38]=[s("option",{value:""},"Pilih Departemen",-1),s("option",{value:"Marketing"},"Marketing",-1),s("option",{value:"Produksi"},"Produksi",-1),s("option",{value:"IT"},"IT",-1),s("option",{value:"HRD"},"HRD",-1)])],512),[[lt,D.value.departemen]])])):xe("",!0),n.value==="packaging"||n.value==="add"?(U(),V("div",SX,[F[40]||(F[40]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[Ve("Nama Produk "),s("span",{class:"text-red-500"},"*")],-1)),me(s("input",{"onUpdate:modelValue":F[11]||(F[11]=X=>D.value.namaProduk=X),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700"},null,512),[[Oe,D.value.namaProduk]])])):xe("",!0),n.value==="raw-material"?(U(),V("div",FX,[F[41]||(F[41]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[Ve("Nama Produk "),s("span",{class:"text-red-500"},"*")],-1)),me(s("input",{"onUpdate:modelValue":F[12]||(F[12]=X=>D.value.kodeProduk=X),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700"},null,512),[[Oe,D.value.kodeProduk]])])):xe("",!0),n.value==="packaging"||n.value==="add"?(U(),V("div",TX,[F[42]||(F[42]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[Ve("No Bets Filling / Mixing "),s("span",{class:"text-red-500"},"*")],-1)),me(s("input",{"onUpdate:modelValue":F[13]||(F[13]=X=>D.value.noBetsFilling=X),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700"},null,512),[[Oe,D.value.noBetsFilling]])])):xe("",!0),n.value==="raw-material"?(U(),V("div",MX,[F[43]||(F[43]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[Ve("No Bets Ekstrak / Mixing "),s("span",{class:"text-red-500"},"*")],-1)),me(s("input",{"onUpdate:modelValue":F[14]||(F[14]=X=>D.value.noBets=X),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700"},null,512),[[Oe,D.value.noBets]])])):xe("",!0),n.value==="raw-material"?(U(),V("div",IX,[F[44]||(F[44]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[Ve("Besar Bets (Kg) "),s("span",{class:"text-red-500"},"*")],-1)),me(s("input",{"onUpdate:modelValue":F[15]||(F[15]=X=>D.value.besarBets=X),type:"number",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700"},null,512),[[Oe,D.value.besarBets]])])):xe("",!0)]),s("div",PX,[s("label",RX,[F[45]||(F[45]=Ve(" Import dari PDF (Otomatisisi Daftar Material) ",-1)),n.value==="raw-material"?(U(),V("span",OX,"(Mengambil bahan-bahan)")):n.value==="packaging"?(U(),V("span",NX,"(Mengambil material packaging)")):n.value==="foh-rs"?(U(),V("span",LX,"(Mengambil item FOH/RS)")):xe("",!0)]),s("div",$X,[s("input",{type:"file",onChange:I,accept:".pdf, .xlsx, .xls",class:"block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-500 file:text-white hover:file:bg-blue-600"},null,32),s("button",{onClick:$,disabled:!h.value,class:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition-colors disabled:bg-gray-400"}," Proses Import ",8,jX)]),m.value?(U(),V("p",{key:0,class:Se(["mt-2 text-sm",m.value.type==="error"?"text-red-600":"text-green-600"])},R(m.value.message),3)):xe("",!0)]),s("div",UX,[s("div",HX,[s("h4",zX,R(q.value),1),s("button",{onClick:Xe,class:"bg-green-600 hover:bg-green-700 text-white px-3 py-1.5 rounded text-sm font-medium transition-colors"}," + Tambah Baris ")]),s("div",VX,[s("table",qX,[s("thead",WX,[s("tr",null,[F[60]||(F[60]=s("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap w-16"}," No",-1)),n.value==="foh-rs"?(U(),V(je,{key:0},[F[46]||(F[46]=s("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Kode Item",-1)),F[47]||(F[47]=s("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Keterangan",-1)),F[48]||(F[48]=s("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap min-w-[120px]"}," Qty & Stok Tersedia",-1)),F[49]||(F[49]=s("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," UoM",-1))],64)):xe("",!0),n.value==="packaging"?(U(),V(je,{key:1},[F[50]||(F[50]=s("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Kode PM",-1)),F[51]||(F[51]=s("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Nama Material",-1)),F[52]||(F[52]=s("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap min-w-[150px]"}," Jumlah Permintaan & Stok Tersedia",-1))],64)):xe("",!0),n.value==="raw-material"?(U(),V(je,{key:2},[F[53]||(F[53]=s("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Kode Bahan",-1)),F[54]||(F[54]=s("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Nama Bahan",-1)),F[55]||(F[55]=s("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap min-w-[150px]"}," Jumlah Kebutuhan & Stok Tersedia",-1))],64)):xe("",!0),n.value==="add"?(U(),V(je,{key:3},[F[56]||(F[56]=s("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Kode PM",-1)),F[57]||(F[57]=s("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Nama Material",-1)),F[58]||(F[58]=s("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Alasan Penambahan",-1)),F[59]||(F[59]=s("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap min-w-[150px]"}," Jumlah Permintaan & Stok Tersedia",-1))],64)):xe("",!0),F[61]||(F[61]=s("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap w-24"}," Aksi",-1))])]),s("tbody",GX,[(U(!0),V(je,null,nt(D.value.items,(X,ce)=>(U(),V("tr",{key:ce},[s("td",QX,R(ce+1),1),n.value==="foh-rs"?(U(),V(je,{key:0},[s("td",KX,[me(s("input",{"onUpdate:modelValue":se=>X.kodeItem=se,type:"text",onInput:se=>Ce(X.kodeItem,ce,"kodeItem"),onFocus:se=>ye(ce,"kodeItem"),onBlur:F[16]||(F[16]=se=>re()),class:"w-full min-w-[120px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,40,YX),[[Oe,X.kodeItem]]),Ee(ce,"kodeItem")&&y.value.length>0?(U(),V("ul",XX,[(U(!0),V(je,null,nt(y.value,se=>(U(),V("li",{key:se.id,onMousedown:Jn(we=>he(se,ce,"kodeItem"),["prevent"]),class:"p-2 text-sm cursor-pointer hover:bg-blue-100 flex justify-between"},[s("span",null,R(se.kodeItem),1),s("span",JX,R(se.keterangan||se.namaMaterial)+" (Stok: "+R(se.stokAvailable)+")",1)],40,ZX))),128))])):xe("",!0)]),s("td",eZ,[me(s("input",{"onUpdate:modelValue":se=>X.keterangan=se,type:"text",class:"w-full min-w-[150px] text-sm border border-gray-300 rounded px-2 py-1 bg-gray-50 text-gray-700",readonly:""},null,8,tZ),[[Oe,X.keterangan]])]),s("td",nZ,[me(s("input",{"onUpdate:modelValue":se=>X.qty=se,type:"number",min:"0",class:Se([{"border-red-500 ring-red-500":T(X,"qty")},"w-full min-w-[80px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"])},null,10,rZ),[[Oe,X.qty,void 0,{number:!0}]]),X.stokAvailable!==void 0?(U(),V("p",{key:0,class:Se(["text-xs mt-1",X.stokAvailable<=0?"text-red-600":"text-green-600"])}," Tersedia: "+R(X.stokAvailable||0)+" "+R(X.uom||""),3)):xe("",!0),T(X,"qty")?(U(),V("p",sZ," Permintaan melebihi stok! ")):xe("",!0)]),s("td",oZ,[me(s("select",{"onUpdate:modelValue":se=>X.uom=se,class:"w-full min-w-[80px] text-sm border border-gray-300 rounded px-2 py-1 bg-gray-50 text-gray-700",readonly:"",disabled:""},[...F[62]||(F[62]=[s("option",{value:""},"UoM",-1),s("option",{value:"PCS"},"PCS",-1),s("option",{value:"KG"},"KG",-1),s("option",{value:"L"},"L",-1)])],8,iZ),[[lt,X.uom]])])],64)):xe("",!0),n.value==="packaging"?(U(),V(je,{key:1},[s("td",aZ,[me(s("input",{"onUpdate:modelValue":se=>X.kodePM=se,type:"text",onInput:se=>Ce(X.kodePM,ce,"kodePM"),onFocus:se=>ye(ce,"kodePM"),onBlur:F[17]||(F[17]=se=>re()),class:"w-full min-w-[120px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,40,lZ),[[Oe,X.kodePM]]),Ee(ce,"kodePM")&&y.value.length>0?(U(),V("ul",cZ,[(U(!0),V(je,null,nt(y.value,se=>(U(),V("li",{key:se.id,onMousedown:Jn(we=>he(se,ce,"kodePM"),["prevent"]),class:"p-2 text-sm cursor-pointer hover:bg-blue-100 flex justify-between"},[s("span",null,R(se.kodePM),1),s("span",uZ,"Stok: "+R(se.stokAvailable)+" "+R(se.satuan||""),1)],40,dZ))),128))])):xe("",!0)]),s("td",xZ,[me(s("input",{"onUpdate:modelValue":se=>X.namaMaterial=se,type:"text",class:"w-full min-w-[150px] text-sm border border-gray-300 rounded px-2 py-1 bg-gray-50 text-gray-700",readonly:""},null,8,fZ),[[Oe,X.namaMaterial]])]),s("td",hZ,[me(s("input",{"onUpdate:modelValue":se=>X.jumlahPermintaan=se,type:"number",min:"0",class:Se([{"border-red-500 ring-red-500":T(X,"jumlahPermintaan")},"w-full min-w-[120px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"])},null,10,gZ),[[Oe,X.jumlahPermintaan,void 0,{number:!0}]]),X.stokAvailable!==void 0?(U(),V("p",{key:0,class:Se(["text-xs mt-1",X.stokAvailable<=0?"text-red-600":"text-green-600"])}," Tersedia: "+R(X.stokAvailable||0)+" "+R(X.satuan||""),3)):xe("",!0),T(X,"jumlahPermintaan")?(U(),V("p",pZ," Permintaan melebihi stok! ")):xe("",!0)])],64)):xe("",!0),n.value==="raw-material"?(U(),V(je,{key:2},[s("td",mZ,[me(s("input",{"onUpdate:modelValue":se=>X.kodeBahan=se,type:"text",onInput:se=>Ce(X.kodeBahan,ce,"kodeBahan"),onFocus:se=>ye(ce,"kodeBahan"),onBlur:F[18]||(F[18]=se=>re()),class:"w-full min-w-[120px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,40,yZ),[[Oe,X.kodeBahan]]),Ee(ce,"kodeBahan")&&y.value.length>0?(U(),V("ul",bZ,[(U(!0),V(je,null,nt(y.value,se=>(U(),V("li",{key:se.id,onMousedown:Jn(we=>he(se,ce,"kodeBahan"),["prevent"]),class:"p-2 text-sm cursor-pointer hover:bg-blue-100 flex justify-between"},[s("span",null,R(se.kodeBahan),1),s("span",EZ,"Stok: "+R(se.stokAvailable)+" "+R(se.satuan||""),1)],40,vZ))),128))])):xe("",!0)]),s("td",wZ,[me(s("input",{"onUpdate:modelValue":se=>X.namaBahan=se,type:"text",class:"w-full min-w-[150px] text-sm border border-gray-300 rounded px-2 py-1 bg-gray-50 text-gray-700",readonly:""},null,8,CZ),[[Oe,X.namaBahan]])]),s("td",AZ,[me(s("input",{"onUpdate:modelValue":se=>X.jumlahKebutuhan=se,type:"number",min:"0",class:Se([{"border-red-500 ring-red-500":T(X,"jumlahKebutuhan")},"w-full min-w-[120px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"])},null,10,BZ),[[Oe,X.jumlahKebutuhan,void 0,{number:!0}]]),X.stokAvailable!==void 0?(U(),V("p",{key:0,class:Se(["text-xs mt-1",X.stokAvailable<=0?"text-red-600":"text-green-600"])}," Tersedia: "+R(X.stokAvailable||0)+" "+R(X.satuan||""),3)):xe("",!0),T(X,"jumlahKebutuhan")?(U(),V("p",_Z," Permintaan melebihi stok! ")):xe("",!0)])],64)):xe("",!0),n.value==="add"?(U(),V(je,{key:3},[s("td",kZ,[me(s("input",{"onUpdate:modelValue":se=>X.kodePM=se,type:"text",onInput:se=>Ce(X.kodePM,ce,"kodePM"),onFocus:se=>ye(ce,"kodePM"),onBlur:F[19]||(F[19]=se=>re()),class:"w-full min-w-[120px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,40,DZ),[[Oe,X.kodePM]]),Ee(ce,"kodePM")&&y.value.length>0?(U(),V("ul",SZ,[(U(!0),V(je,null,nt(y.value,se=>(U(),V("li",{key:se.id,onMousedown:Jn(we=>he(se,ce,"kodePM"),["prevent"]),class:"p-2 text-sm cursor-pointer hover:bg-blue-100 flex justify-between"},[s("span",null,R(se.kodePM),1),s("span",TZ,"Stok: "+R(se.stokAvailable)+" "+R(se.satuan||""),1)],40,FZ))),128))])):xe("",!0)]),s("td",MZ,[me(s("input",{"onUpdate:modelValue":se=>X.namaMaterial=se,type:"text",class:"w-full min-w-[150px] text-sm border border-gray-300 rounded px-2 py-1 bg-gray-50 text-gray-700",readonly:""},null,8,IZ),[[Oe,X.namaMaterial]])]),s("td",PZ,[me(s("input",{"onUpdate:modelValue":se=>X.alasanPenambahan=se,type:"text",class:"w-full min-w-[150px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,8,RZ),[[Oe,X.alasanPenambahan]])]),s("td",OZ,[me(s("input",{"onUpdate:modelValue":se=>X.jumlahPermintaan=se,type:"number",min:"0",class:Se([{"border-red-500 ring-red-500":T(X,"jumlahPermintaan")},"w-full min-w-[120px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"])},null,10,NZ),[[Oe,X.jumlahPermintaan,void 0,{number:!0}]]),X.stokAvailable!==void 0?(U(),V("p",{key:0,class:Se(["text-xs mt-1",X.stokAvailable<=0?"text-red-600":"text-green-600"])}," Tersedia: "+R(X.stokAvailable||0)+" "+R(X.satuan||""),3)):xe("",!0),T(X,"jumlahPermintaan")?(U(),V("p",LZ," Permintaan melebihi stok! ")):xe("",!0)])],64)):xe("",!0),s("td",$Z,[s("button",{onClick:se=>rt(ce),class:"bg-red-50 text-red-700 hover:bg-red-100 px-2 py-1 rounded text-xs font-medium transition-colors"},"Hapus",8,jZ)])]))),128))])])])]),s("div",UZ,[s("button",{onClick:tt,class:"px-6 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors"}," Batal "),s("button",{onClick:Pe,disabled:!oe.value||Q.value,class:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors"}," Simpan & Submit ",8,HZ)])])):xe("",!0)])])])):xe("",!0),a.value&&c.value?(U(),V("div",zZ,[s("div",VZ,[s("div",qZ,[s("div",WZ,[s("h3",GZ," Detail Reservasi: "+R(c.value.noReservasi),1),s("button",{onClick:_e,class:"text-gray-400 hover:text-gray-600 transition-colors"},[...F[63]||(F[63]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),s("div",QZ,[s("div",KZ,[F[64]||(F[64]=s("p",{class:"text-sm font-medium text-gray-600"},"Kategori Request",-1)),s("span",{class:Se(["px-3 py-1 text-xs font-semibold rounded-full",L(c.value.type)])},R(j(c.value.type)),3)]),s("div",YZ,[F[65]||(F[65]=s("p",{class:"text-sm font-medium text-gray-600"},"Tanggal Permintaan",-1)),s("p",XZ,R(Ie(c.value.tanggalPermintaan)),1)]),s("div",ZZ,[F[66]||(F[66]=s("p",{class:"text-sm font-medium text-gray-600"},"Status",-1)),s("span",{class:Se([ae(c.value.status),"px-3 py-1 text-xs font-semibold rounded-full"])},R(c.value.status),3)]),c.value.type==="foh-rs"?(U(),V(je,{key:0},[s("div",JZ,[F[67]||(F[67]=s("p",{class:"text-sm font-medium text-gray-600"},"Departemen",-1)),s("p",eJ,R(c.value.departemen),1)]),s("div",tJ,[F[68]||(F[68]=s("p",{class:"text-sm font-medium text-gray-600"},"Alasan Reservasi",-1)),s("p",nJ,R(c.value.alasanReservasi||"-"),1)])],64)):c.value.type==="packaging"||c.value.type==="add"?(U(),V(je,{key:1},[s("div",rJ,[F[69]||(F[69]=s("p",{class:"text-sm font-medium text-gray-600"},"Nama Produk",-1)),s("p",sJ,R(c.value.namaProduk),1)]),s("div",oJ,[F[70]||(F[70]=s("p",{class:"text-sm font-medium text-gray-600"},"No Bets Filling/Mixing",-1)),s("p",iJ,R(c.value.noBetsFilling),1)])],64)):c.value.type==="raw-material"?(U(),V(je,{key:2},[s("div",aJ,[F[71]||(F[71]=s("p",{class:"text-sm font-medium text-gray-600"},"Kode Produk",-1)),s("p",lJ,R(c.value.kodeProduk),1)]),s("div",cJ,[F[72]||(F[72]=s("p",{class:"text-sm font-medium text-gray-600"},"No Bets Ekstrak/Mixing",-1)),s("p",dJ,R(c.value.noBets),1)]),s("div",uJ,[F[73]||(F[73]=s("p",{class:"text-sm font-medium text-gray-600"},"Besar Bets (Kg)",-1)),s("p",xJ,R(c.value.besarBets)+" Kg",1)])],64)):xe("",!0)]),F[89]||(F[89]=s("h4",{class:"text-lg font-semibold text-gray-800 mb-4"},"Daftar Item yang Diminta",-1)),!c.value.items||c.value.items.length===0?(U(),V("div",fJ," Tidak ada detail item yang tercatat. ")):(U(),V("div",hJ,[s("table",gJ,[s("thead",pJ,[s("tr",null,[F[88]||(F[88]=s("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase w-16"},"No",-1)),c.value.type==="foh-rs"?(U(),V(je,{key:0},[F[74]||(F[74]=s("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Kode Item",-1)),F[75]||(F[75]=s("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Keterangan",-1)),F[76]||(F[76]=s("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Qty",-1)),F[77]||(F[77]=s("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"UoM",-1))],64)):c.value.type==="raw-material"?(U(),V(je,{key:1},[F[78]||(F[78]=s("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Kode Bahan",-1)),F[79]||(F[79]=s("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Nama Bahan",-1)),F[80]||(F[80]=s("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Jumlah Kebutuhan",-1))],64)):c.value.type==="packaging"?(U(),V(je,{key:2},[F[81]||(F[81]=s("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Nama Material",-1)),F[82]||(F[82]=s("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Kode PM",-1)),F[83]||(F[83]=s("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Jumlah Permintaan",-1))],64)):c.value.type==="add"?(U(),V(je,{key:3},[F[84]||(F[84]=s("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Nama Material",-1)),F[85]||(F[85]=s("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Kode PM",-1)),F[86]||(F[86]=s("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Alasan Tambahan",-1)),F[87]||(F[87]=s("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Jumlah Permintaan",-1))],64)):xe("",!0)])]),s("tbody",mJ,[(U(!0),V(je,null,nt(c.value.items,(X,ce)=>(U(),V("tr",{key:ce},[s("td",yJ,R(ce+1),1),c.value.type==="foh-rs"?(U(),V(je,{key:0},[s("td",bJ,R(X.kodeItem),1),s("td",vJ,R(X.keterangan),1),s("td",EJ,R(X.qty),1),s("td",wJ,R(X.uom),1)],64)):c.value.type==="packaging"?(U(),V(je,{key:1},[s("td",CJ,R(X.namaMaterial),1),s("td",AJ,R(X.kodePM),1),s("td",BJ,R(X.jumlahPermintaan),1)],64)):c.value.type==="raw-material"?(U(),V(je,{key:2},[s("td",_J,R(X.kodeBahan),1),s("td",kJ,R(X.namaBahan),1),s("td",DJ,R(X.jumlahKebutuhan),1),s("td",SJ,R(X.jumlahKirim),1)],64)):c.value.type==="add"?(U(),V(je,{key:3},[s("td",FJ,R(X.namaMaterial),1),s("td",TJ,R(X.kodePM),1),s("td",MJ,R(X.alasanPenambahan),1),s("td",IJ,R(X.jumlahPermintaan),1)],64)):xe("",!0)]))),128))])])])),s("div",{class:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200"},[s("button",{onClick:_e,class:"px-6 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors"}," Tutup ")])])])])):xe("",!0)]),u.value?(U(),V("div",PJ,[s("div",RJ,[F[91]||(F[91]=s("h3",{class:"text-lg font-bold text-gray-800 mb-4"},"Peringatan Input",-1)),s("p",OJ,R(g.value),1),s("div",NJ,[s("button",{onClick:F[20]||(F[20]=X=>u.value=!1),class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm"}," Oke ")])])])):xe("",!0)]),_:1}))}},$J=Object.freeze(Object.defineProperty({__proto__:null,default:LJ},Symbol.toStringTag,{value:"Module"})),jJ={class:"min-h-screen transition-colors duration-300"},UJ={class:"min-h-screen p-2 sm:p-4 md:p-6"},HJ={class:"mb-4 sm:mb-6"},zJ={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},VJ={class:"flex items-center gap-2 sm:gap-4 w-full sm:w-auto"},qJ={class:"bg-white rounded-lg shadow-sm p-3 sm:p-4 mb-4 sm:mb-6 border border-gray-200"},WJ={class:"flex flex-col sm:flex-row gap-3 sm:gap-4"},GJ={class:"w-full sm:flex-1"},QJ={class:"grid grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-4"},KJ={class:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-200"},YJ={class:"overflow-x-auto"},XJ={class:"min-w-full divide-y divide-gray-200"},ZJ={class:"bg-white divide-y divide-gray-200"},JJ={class:"px-6 py-4 whitespace-nowrap"},eee={class:"text-sm font-medium text-gray-900"},tee={class:"text-sm text-gray-500"},nee={class:"px-6 py-4 whitespace-nowrap"},ree={class:"text-sm text-gray-900"},see={class:"px-6 py-4 whitespace-nowrap"},oee={class:"text-sm text-gray-900"},iee={class:"px-6 py-4 whitespace-nowrap"},aee={class:"text-sm font-mono text-gray-900"},lee={class:"px-6 py-4"},cee={class:"text-sm text-gray-900"},dee={class:"px-6 py-4 whitespace-nowrap"},uee={class:"text-sm font-mono text-gray-900"},xee={class:"px-6 py-4 whitespace-nowrap"},fee={class:"text-sm text-gray-900"},hee={class:"px-6 py-4 whitespace-nowrap"},gee={class:"px-6 py-4 whitespace-nowrap"},pee={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},mee=["onClick"],yee=["onClick"],bee={key:0,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},vee={class:"bg-white rounded-lg p-6 w-full max-w-7xl max-h-screen overflow-y-auto border border-gray-200"},Eee={class:"space-y-6"},wee={class:"flex gap-6"},Cee={class:"flex items-center"},Aee={class:"flex items-center"},Bee={key:0,class:"mb-6 bg-blue-50 p-4 rounded-lg border border-blue-200"},_ee={class:"flex flex-col sm:flex-row gap-3 items-start sm:items-center"},kee=["disabled"],Dee={key:0,class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},See={key:1},Fee={key:2},Tee={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Mee={class:"block text-sm font-medium text-gray-700 mb-1"},Iee=["value"],Pee=["value"],Ree={class:"block text-sm font-medium text-gray-700 mb-1"},Oee=["value"],Nee=["value"],Lee={class:"overflow-x-auto border border-gray-300 rounded-lg"},$ee={class:"min-w-full divide-y divide-gray-200"},jee={class:"bg-gray-50"},Uee={key:0,class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},Hee={class:"divide-y divide-gray-200 bg-white"},zee={class:"px-4 py-3"},Vee=["onUpdate:modelValue","onChange"],qee={class:"px-4 py-3"},Wee=["onUpdate:modelValue"],Gee={class:"px-4 py-3"},Qee=["onUpdate:modelValue"],Kee={key:0,class:"px-4 py-3"},Yee=["value"],Xee={class:"px-4 py-3"},Zee=["onUpdate:modelValue"],Jee={class:"px-4 py-3"},ete=["onUpdate:modelValue"],tte={class:"px-4 py-3"},nte=["onUpdate:modelValue"],rte={class:"px-4 py-3"},ste=["onClick"],ote={key:0},ite={class:"flex justify-end gap-3 pt-4 border-t border-gray-200"},ate=["disabled"],lte={key:1,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},cte={class:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-screen overflow-y-auto border border-gray-200"},dte={class:"bg-gray-50 rounded-lg p-4 mb-6 border border-gray-200"},ute={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},xte={class:"text-lg font-semibold text-gray-900"},fte={class:"text-lg text-gray-900"},hte={class:"text-lg text-gray-900"},gte={class:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4"},pte={class:"block text-sm font-medium text-gray-600"},mte={class:"text-lg text-gray-900"},yte={key:0},bte={class:"text-lg font-mono text-gray-900"},vte={class:"overflow-x-auto border border-gray-300 rounded-lg"},Ete={class:"min-w-full divide-y divide-gray-200"},wte={class:"divide-y divide-gray-200 bg-white"},Cte={class:"px-4 py-3 text-sm font-mono text-gray-900"},Ate={class:"px-4 py-3 text-sm text-gray-900"},Bte={class:"px-4 py-3 text-sm font-mono text-gray-900"},_te={class:"px-4 py-3 text-sm text-gray-900"},kte={class:"px-4 py-3 text-sm text-gray-900"},Dte={class:"px-4 py-3"},Ste={class:"flex justify-end gap-3 mt-6 pt-4 border-t border-gray-200"},Fte={class:"flex items-center gap-2"},Tte={key:0,class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},Mte={key:1,class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},Ite=$r({__name:"Return",props:{suppliers:Array,shipments:Array,userDept:String,initialReturns:Array},setup(e){const t=e,n=pe(!1),r=pe([]),i=pe(""),a=pe(""),c=pe(""),u=pe(""),g=pe(!1),h=pe(!1),m=pe(null),y=pe([]),C=pe(null),E=pe(!1),A=pe({type:"Supplier",date:new Date().toISOString().split("T")[0],supplier:"",shipmentNo:"",items:[]});En(()=>A.value.type,he=>{he==="Production"?(A.value.supplier=t.userDept||"",$()):(A.value.supplier="",A.value.shipmentNo="",A.value.items=[])});const k=pe(null),D=Ke(()=>r.value.filter(he=>{const ae=!i.value||he.returnNumber.toLowerCase().includes(i.value.toLowerCase())||he.supplier.toLowerCase().includes(i.value.toLowerCase())||he.itemCode.toLowerCase().includes(i.value.toLowerCase())||he.itemName.toLowerCase().includes(i.value.toLowerCase()),ee=!a.value||he.type===a.value,Ie=!c.value||he.status===c.value,$e=!u.value||he.reason===u.value;return ae&&ee&&Ie&&$e}));Ke(()=>r.value.length),Ke(()=>r.value.filter(he=>he.type==="Supplier").length),Ke(()=>r.value.filter(he=>he.type==="Production").length),Ke(()=>r.value.filter(he=>he.status!=="Completed").length);const I=Ke(()=>{const he=A.value.type&&A.value.date;if(A.value.type==="Supplier"&&!A.value.supplier)return!1;const ae=A.value.items.length>0&&A.value.items.every(ee=>ee.itemCode&&ee.itemName&&ee.lotBatch&&ee.qty>0&&ee.uom&&ee.reason);return he&&ae}),$=async()=>{try{const he=await Bt.get("/transaction/return/dept-reservations");y.value=he.data}catch(he){console.error("Error fetching department reservations",he)}},P=async()=>{if(A.value.shipmentNo)try{const ae=(await Bt.get("/transaction/return/reservation-details",{params:{no:A.value.shipmentNo}})).data;A.value.items=ae.map(ee=>({itemCode:ee.item_code,itemName:ee.item_name,lotBatch:ee.batch_lot,qty:0,uom:ee.uom,reason:"Excess Production",originalQty:ee.original_qty}))}catch(he){console.error("Error fetching reservation details",he),alert("Gagal mengambil detail reservasi.")}},S=he=>new Date(he).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),M=he=>{const ae="px-2 inline-flex text-xs leading-5 font-semibold rounded-full";switch(he){case"Draft":return`${ae} bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300`;case"Submitted":return`${ae} bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400`;case"Completed":return`${ae} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;default:return`${ae} bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300`}},j=he=>{const ae="px-2 inline-flex text-xs leading-5 font-semibold rounded-full";switch(he){case"Gagal QC":return`${ae} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"Kadaluarsa":return`${ae} bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400`;case"Rusak":return`${ae} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"Kelebihan Produksi":return`${ae} bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400`;case"Salah Kirim":return`${ae} bg-pink-100 text-pink-800 dark:bg-pink-900/20 dark:text-pink-400`;default:return`${ae} bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300`}},L=()=>{A.value.items.push({itemCode:"",itemName:"",lotBatch:"",qty:0,uom:"PCS",reason:""})},q=he=>{const ae=he.target;C.value=ae.files?ae.files[0]:null},T=async()=>{if(C.value){E.value=!0;try{const he=new FormData;he.append("erp_pdf",C.value);const ee=(await Bt.post("/transaction/return/parse-pdf",he,{headers:{"Content-Type":"multipart/form-data"}})).data;ee.formatted_date&&(A.value.date=ee.formatted_date),A.value.items=[],ee.items.forEach(Ie=>{Ie.qty>0&&A.value.items.push({itemCode:Ie.item_code,itemName:Ie.description,lotBatch:"",qty:Ie.qty,uom:"PCS",reason:"Excess Production"})}),A.value.items.forEach((Ie,$e)=>{Q($e)}),alert(`Berhasil memuat ${A.value.items.length} item dari PDF.`)}catch(he){console.error("Error processing PDF:",he),alert("Gagal memproses file PDF: "+(he.response?.data?.error||he.message))}finally{E.value=!1}}},Q=async he=>{const ae=A.value.items[he].itemCode;if(ae)try{const ee=await fetch(`/transaction/return/material/${ae}`);if(ee.ok){const Ie=await ee.json();A.value.items[he].itemName=Ie.nama_material,A.value.items[he].uom=Ie.satuan||"PCS"}}catch(ee){console.error("Error fetching material",ee)}},oe=he=>{A.value.items.splice(he,1)},Y=()=>{g.value=!1,le()},le=()=>{A.value={type:"Supplier",date:new Date().toISOString().split("T")[0],supplier:"",shipmentNo:"",items:[]}},ye=()=>{I.value&&ft.post("/transaction/return",A.value,{preserveScroll:!0,onSuccess:he=>{he.props.flash?.error?(Ce("error",he.props.flash.error),console.error("Server Error:",he.props.flash.error)):(Y(),Ce("success","Return berhasil disimpan."))},onError:he=>{console.error("Save Return Error:",he);let ae="Gagal menyimpan return.";he.shipmentNo&&(ae=he.shipmentNo),he.date&&(ae=he.date),Ce("error",ae)}})},re=he=>{m.value=he,h.value=!0},Ee=()=>{h.value=!1,m.value=null},ve=he=>{const ae=new Date().toLocaleDateString("id-ID"),ee=S(he.date),Ie=window.open("","_blank");if(Ie){const $e=`<!DOCTYPE html>
<html>
<head>
  <title>Return Slip - ${he.returnNumber}</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; color: #000; }
    .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #000; padding-bottom: 20px; }
    .info-table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
    .info-table td { padding: 8px; border: 1px solid #000; }
    .info-table td:first-child { background-color: #f5f5f5; font-weight: bold; width: 200px; }
    .items-table { width: 100%; border-collapse: collapse; margin-bottom: 30px; }
    .items-table th, .items-table td { padding: 8px; border: 1px solid #000; text-align: left; }
    .items-table th { background-color: #f5f5f5; font-weight: bold; }
    .signatures { display: flex; justify-content: space-between; margin-top: 80px; }
    .signature-box { text-align: center; width: 250px; }
    .signature-line { border-bottom: 1px solid #000; margin-bottom: 10px; height: 60px; }
    @media print { body { margin: 0; } }
  </style>
</head>
<body>
  <div class="header">
    <h1>SLIP RETURN ${he.type.toUpperCase()}</h1>
    <h2>${he.returnNumber}</h2>
  </div>
  
  <table class="info-table">
    <tr>
      <td>Return Number</td><td>${he.returnNumber}</td>
      <td>Return Date</td><td>${ee}</td>
    </tr>
    <tr>
      <td>Return Type</td><td>${he.type}</td>
      <td>Status</td><td>${he.status}</td>
    </tr>
    <tr>
      <td>${he.type==="Supplier"?"Supplier Address":"Dept Asal"}</td>
      <td colspan="3">${he.supplier}</td>
    </tr>
    ${he.shipmentNo?`<tr><td>No Shipment/Reservasi</td><td colspan="3">${he.shipmentNo}</td></tr>`:""}
  </table>

  <table class="items-table">
    <thead>
      <tr>
        <th>No</th><th>Kode Item</th><th>Nama Material</th><th>Lot/Batch</th>
        <th>Qty</th><th>UoM</th><th>Reason</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>1</td><td>${he.itemCode}</td><td>${he.itemName}</td>
        <td>${he.lotBatch}</td><td>${he.qty}</td>
        <td>${he.uom}</td><td>${he.reason}</td>
      </tr>
    </tbody>
  </table>

  <div class="signatures">
    <div class="signature-box">
      <div class="signature-line"></div>
      <p><strong>Approved By</strong></p>
      <p>Nama: _________________</p>
      <p>Tanggal: ${ae}</p>
    </div>
    <div class="signature-box">
      <div class="signature-line"></div>
      <p><strong>Received By</strong></p>
      <p>Nama: _________________</p>
      <p>Tanggal: ${ae}</p>
    </div>
  </div>
</body>
</html>`;Ie.document.write($e),Ie.document.close(),setTimeout(()=>{Ie.print()},500)}Ce("success",`Slip return ${he.returnNumber} siap dicetak`)},Ce=(he,ae)=>{k.value={type:he,text:ae},setTimeout(()=>{k.value=null},3e3)};return Qn(()=>{const he=localStorage.getItem("darkMode");he&&(n.value=JSON.parse(he)),$(),t.initialReturns&&(r.value=t.initialReturns),L()}),En(()=>t.initialReturns,he=>{he&&(r.value=he)},{immediate:!0}),(he,ae)=>(U(),wt(Kn,{title:"Riwayat Aktivitas"},{default:vt(()=>[s("div",jJ,[s("div",UJ,[s("div",HJ,[s("div",zJ,[ae[13]||(ae[13]=s("div",null,[s("h1",{class:"text-2xl sm:text-1xl font-bold text-gray-900"},"Return (Supplier / Production)"),s("p",{class:"text-sm sm:text-base text-gray-600 mt-1"},"Kelola return barang ke supplier dan dari produksi")],-1)),s("div",VJ,[s("button",{onClick:ae[0]||(ae[0]=ee=>g.value=!0),class:"bg-blue-600 hover:bg-blue-700 text-white px-3 sm:px-4 py-2 rounded-lg flex items-center gap-2 transition-colors w-full sm:w-auto justify-center"},[...ae[12]||(ae[12]=[s("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),s("span",{class:"hidden sm:inline"},"Buat Return",-1),s("span",{class:"sm:hidden"},"Return",-1)])])])])]),ae[50]||(ae[50]=s("div",{class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6"},null,-1)),s("div",qJ,[s("div",WJ,[s("div",GJ,[me(s("input",{"onUpdate:modelValue":ae[1]||(ae[1]=ee=>i.value=ee),type:"text",placeholder:"Cari Return Number, Supplier, Item...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"},null,512),[[Oe,i.value]])]),s("div",QJ,[me(s("select",{"onUpdate:modelValue":ae[2]||(ae[2]=ee=>a.value=ee),class:"px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 text-sm"},[...ae[14]||(ae[14]=[s("option",{value:""},"Semua Jenis",-1),s("option",{value:"Supplier"},"Return Supplier",-1),s("option",{value:"Production"},"Return Production",-1)])],512),[[lt,a.value]]),me(s("select",{"onUpdate:modelValue":ae[3]||(ae[3]=ee=>c.value=ee),class:"px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 text-sm"},[...ae[15]||(ae[15]=[s("option",{value:""},"Semua Status",-1),s("option",{value:"Draft"},"Draft",-1),s("option",{value:"Submitted"},"Submitted",-1),s("option",{value:"Completed"},"Completed",-1)])],512),[[lt,c.value]]),me(s("select",{"onUpdate:modelValue":ae[4]||(ae[4]=ee=>u.value=ee),class:"px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 text-sm col-span-2 sm:col-span-1"},[...ae[16]||(ae[16]=[s("option",{value:""},"Semua Reason",-1),s("option",{value:"Gagal QC"},"Gagal QC",-1),s("option",{value:"Kadaluarsa"},"Kadaluarsa",-1),s("option",{value:"Rusak"},"Rusak",-1),s("option",{value:"Kelebihan Produksi"},"Kelebihan Produksi",-1),s("option",{value:"Salah Kirim"},"Salah Kirim",-1),s("option",{value:"Lainnya"},"Lainnya",-1)])],512),[[lt,u.value]])])])]),s("div",KJ,[s("div",YJ,[s("table",XJ,[ae[17]||(ae[17]=s("thead",{class:"bg-gray-50"},[s("tr",null,[s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Return Number"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tanggal"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Supplier / Dept"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Kode Item"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Nama Material"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Lot/Batch"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Qty"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Reason"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),s("tbody",ZJ,[(U(!0),V(je,null,nt(D.value,ee=>(U(),V("tr",{key:ee.id,class:"hover:bg-gray-50"},[s("td",JJ,[s("div",eee,R(ee.returnNumber),1),s("div",tee,R(ee.type),1)]),s("td",nee,[s("div",ree,R(S(ee.date)),1)]),s("td",see,[s("div",oee,R(ee.supplier),1)]),s("td",iee,[s("div",aee,R(ee.itemCode),1)]),s("td",lee,[s("div",cee,R(ee.itemName),1)]),s("td",dee,[s("div",uee,R(ee.lotBatch),1)]),s("td",xee,[s("div",fee,R(ee.qty)+" "+R(ee.uom),1)]),s("td",hee,[s("span",{class:Se([j(ee.reason),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(ee.reason),3)]),s("td",gee,[s("span",{class:Se([M(ee.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(ee.status),3)]),s("td",pee,[s("button",{onClick:Ie=>re(ee),class:"text-blue-600 hover:text-blue-900 bg-blue-50 hover:bg-blue-100 px-2 py-1 rounded transition-colors"}," Detail ",8,mee),s("button",{onClick:Ie=>ve(ee),class:"text-purple-600 hover:text-purple-900 bg-purple-50 hover:bg-purple-100 px-2 py-1 rounded transition-colors"}," Cetak Slip ",8,yee)])]))),128))])])])]),g.value?(U(),V("div",bee,[s("div",vee,[s("div",{class:"flex justify-between items-center mb-6"},[ae[19]||(ae[19]=s("h3",{class:"text-xl font-semibold text-gray-900"},"Buat Return Baru",-1)),s("button",{onClick:Y,class:"text-gray-400 hover:text-gray-600"},[...ae[18]||(ae[18]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),s("div",Eee,[s("div",null,[ae[22]||(ae[22]=s("label",{class:"block text-sm font-medium text-gray-700 mb-3"},"Jenis Return",-1)),s("div",wee,[s("label",Cee,[me(s("input",{"onUpdate:modelValue":ae[5]||(ae[5]=ee=>A.value.type=ee),type:"radio",value:"Supplier",class:"text-blue-600 focus:ring-blue-500"},null,512),[[Pa,A.value.type]]),ae[20]||(ae[20]=s("span",{class:"ml-2 text-gray-900"},"Return ke Supplier",-1))]),s("label",Aee,[me(s("input",{"onUpdate:modelValue":ae[6]||(ae[6]=ee=>A.value.type=ee),type:"radio",value:"Production",class:"text-blue-600 focus:ring-blue-500"},null,512),[[Pa,A.value.type]]),ae[21]||(ae[21]=s("span",{class:"ml-2 text-gray-900"},"Return dari Produksi",-1))])])]),A.value.type==="Production"?(U(),V("div",Bee,[ae[24]||(ae[24]=s("label",{class:"block text-sm font-medium text-blue-900 mb-2"},"Upload PDF ERP (Return dari Produksi)",-1)),s("div",_ee,[s("input",{type:"file",accept:"application/pdf",onChange:q,class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-100 file:text-blue-700 hover:file:bg-blue-200"},null,32),s("button",{onClick:T,disabled:!C.value||E.value,class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 whitespace-nowrap min-w-[140px]"},[E.value?(U(),V("svg",Dee,[...ae[23]||(ae[23]=[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):xe("",!0),E.value?(U(),V("span",See,"Memproses...")):(U(),V("span",Fee,"Proses PDF"))],8,kee)]),ae[25]||(ae[25]=s("p",{class:"text-xs text-blue-600 mt-2"},'Upload file PDF "Internal Shipment" (Return) untuk mengisi form otomatis.',-1))])):xe("",!0),s("div",Tee,[s("div",null,[ae[26]||(ae[26]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tanggal Return",-1)),me(s("input",{"onUpdate:modelValue":ae[7]||(ae[7]=ee=>A.value.date=ee),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Oe,A.value.date]])]),s("div",null,[s("label",Mee,R(A.value.type==="Supplier"?"Supplier":"Dept Asal"),1),A.value.type==="Supplier"?me((U(),V("select",{key:0,"onUpdate:modelValue":ae[8]||(ae[8]=ee=>A.value.supplier=ee),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[ae[27]||(ae[27]=s("option",{value:""},"Pilih Supplier",-1)),(U(!0),V(je,null,nt(e.suppliers,ee=>(U(),V("option",{key:ee.nama_supplier,value:ee.nama_supplier},R(ee.nama_supplier),9,Iee))),128))],512)),[[lt,A.value.supplier]]):(U(),V("input",{key:1,value:e.userDept,readonly:"",type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100 text-gray-500 cursor-not-allowed"},null,8,Pee))]),s("div",null,[s("label",Ree," No Shipment "+R(A.value.type=="Production"?"/ Reservasi":""),1),me(s("select",{"onUpdate:modelValue":ae[9]||(ae[9]=ee=>A.value.shipmentNo=ee),onChange:ae[10]||(ae[10]=ee=>A.value.type==="Production"?P():null),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[ae[28]||(ae[28]=s("option",{value:""},"Pilih",-1)),A.value.type==="Supplier"?(U(!0),V(je,{key:0},nt(e.shipments,ee=>(U(),V("option",{key:ee.incoming_number,value:ee.incoming_number},R(ee.incoming_number)+" "+R(ee.no_surat_jalan?`(${ee.no_surat_jalan})`:""),9,Oee))),128)):(U(!0),V(je,{key:1},nt(y.value,ee=>(U(),V("option",{key:ee,value:ee},R(ee),9,Nee))),128))],544),[[lt,A.value.shipmentNo]])])]),s("div",null,[s("div",{class:"flex justify-between items-center mb-4"},[ae[29]||(ae[29]=s("h4",{class:"text-lg font-medium text-gray-900"},"Daftar Item Return",-1)),s("button",{onClick:L,class:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm transition-colors"}," + Tambah Item ")]),s("div",Lee,[s("table",$ee,[s("thead",jee,[s("tr",null,[ae[30]||(ae[30]=s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Kode Item",-1)),ae[31]||(ae[31]=s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Nama Material",-1)),ae[32]||(ae[32]=s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Lot/Batch",-1)),A.value.type==="Production"?(U(),V("th",Uee,"Qty Diberikan")):xe("",!0),ae[33]||(ae[33]=s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Qty Return",-1)),ae[34]||(ae[34]=s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"UoM",-1)),ae[35]||(ae[35]=s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Reason",-1)),ae[36]||(ae[36]=s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Aksi",-1))])]),s("tbody",Hee,[(U(!0),V(je,null,nt(A.value.items,(ee,Ie)=>(U(),V("tr",{key:Ie},[s("td",zee,[me(s("input",{"onUpdate:modelValue":$e=>ee.itemCode=$e,onChange:$e=>Q(Ie),type:"text",placeholder:"ITM001",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white text-gray-900 focus:ring-1 focus:ring-blue-500"},null,40,Vee),[[Oe,ee.itemCode]])]),s("td",qee,[me(s("input",{"onUpdate:modelValue":$e=>ee.itemName=$e,type:"text",placeholder:"Nama material",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-gray-100 text-gray-900 focus:ring-1 focus:ring-blue-500",readonly:""},null,8,Wee),[[Oe,ee.itemName]])]),s("td",Gee,[me(s("input",{"onUpdate:modelValue":$e=>ee.lotBatch=$e,type:"text",placeholder:"LOT001",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white text-gray-900 focus:ring-1 focus:ring-blue-500"},null,8,Qee),[[Oe,ee.lotBatch]])]),A.value.type==="Production"?(U(),V("td",Kee,[s("input",{value:ee.originalQty||"-",type:"text",readonly:"",class:"w-full px-2 py-1 border border-gray-200 rounded text-sm bg-gray-50 text-gray-500 cursor-not-allowed"},null,8,Yee)])):xe("",!0),s("td",Xee,[me(s("input",{"onUpdate:modelValue":$e=>ee.qty=$e,type:"number",placeholder:"0",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white text-gray-900 focus:ring-1 focus:ring-blue-500"},null,8,Zee),[[Oe,ee.qty]])]),s("td",Jee,[me(s("input",{"onUpdate:modelValue":$e=>ee.uom=$e,type:"text",placeholder:"Satuan",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white text-gray-900 focus:ring-1 focus:ring-blue-500"},null,8,ete),[[Oe,ee.uom]])]),s("td",tte,[me(s("select",{"onUpdate:modelValue":$e=>ee.reason=$e,class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white text-gray-900 focus:ring-1 focus:ring-blue-500"},[...ae[37]||(ae[37]=[s("option",{value:""},"Pilih Alasan",-1),s("option",{value:"Gagal QC"},"Gagal QC",-1),s("option",{value:"Kadaluarsa"},"Kadaluarsa",-1),s("option",{value:"Rusak"},"Rusak",-1),s("option",{value:"Kelebihan Produksi"},"Kelebihan Produksi",-1),s("option",{value:"Salah Kirim"},"Salah Kirim",-1),s("option",{value:"Lainnya"},"Lainnya",-1)])],8,nte),[[lt,ee.reason]])]),s("td",rte,[s("button",{onClick:$e=>oe(Ie),class:"text-red-600 hover:text-red-900 text-sm"},"  ",8,ste)])]))),128)),A.value.items.length===0?(U(),V("tr",ote,[...ae[38]||(ae[38]=[s("td",{colspan:"7",class:"px-4 py-8 text-center text-gray-500"},' Belum ada item. Klik "Tambah Item" untuk menambahkan. ',-1)])])):xe("",!0)])])])]),s("div",ite,[s("button",{onClick:Y,class:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Batal "),s("button",{onClick:ye,disabled:!I.value,class:Se([I.value?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed","px-4 py-2 rounded-lg transition-colors"])}," Simpan Return ",10,ate)])])])])):xe("",!0),h.value&&m.value?(U(),V("div",lte,[s("div",cte,[s("div",{class:"flex justify-between items-center mb-6"},[ae[40]||(ae[40]=s("h3",{class:"text-xl font-semibold text-gray-900"},"Detail Return",-1)),s("button",{onClick:Ee,class:"text-gray-400 hover:text-gray-600"},[...ae[39]||(ae[39]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),s("div",dte,[s("div",ute,[s("div",null,[ae[41]||(ae[41]=s("label",{class:"block text-sm font-medium text-gray-600"},"Return Number",-1)),s("p",xte,R(m.value.returnNumber),1)]),s("div",null,[ae[42]||(ae[42]=s("label",{class:"block text-sm font-medium text-gray-600"},"Jenis Return",-1)),s("p",fte,R(m.value.type),1)]),s("div",null,[ae[43]||(ae[43]=s("label",{class:"block text-sm font-medium text-gray-600"},"Tanggal",-1)),s("p",hte,R(S(m.value.date)),1)]),s("div",null,[ae[44]||(ae[44]=s("label",{class:"block text-sm font-medium text-gray-600"},"Status",-1)),s("span",{class:Se([M(m.value.status),"px-2 py-1 text-sm font-semibold rounded-full"])},R(m.value.status),3)])]),s("div",gte,[s("div",null,[s("label",pte,R(m.value.type==="Supplier"?"Supplier":"Dept Asal"),1),s("p",mte,R(m.value.supplier),1)]),m.value.shipmentNo?(U(),V("div",yte,[ae[45]||(ae[45]=s("label",{class:"block text-sm font-medium text-gray-600"},"No Shipment/Reservasi",-1)),s("p",bte,R(m.value.shipmentNo),1)])):xe("",!0)])]),s("div",vte,[s("table",Ete,[ae[47]||(ae[47]=s("thead",{class:"bg-gray-50"},[s("tr",null,[s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"No"),s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Kode Item"),s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Nama Material"),s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Lot/Batch"),s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Qty"),s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"UoM"),s("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Reason")])],-1)),s("tbody",wte,[s("tr",null,[ae[46]||(ae[46]=s("td",{class:"px-4 py-3 text-sm text-gray-900"},"1",-1)),s("td",Cte,R(m.value.itemCode),1),s("td",Ate,R(m.value.itemName),1),s("td",Bte,R(m.value.lotBatch),1),s("td",_te,R(m.value.qty),1),s("td",kte,R(m.value.uom),1),s("td",Dte,[s("span",{class:Se([j(m.value.reason),"px-2 py-1 text-xs font-medium rounded-full"])},R(m.value.reason),3)])])])])]),s("div",Ste,[s("button",{onClick:Ee,class:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Tutup "),s("button",{onClick:ae[11]||(ae[11]=ee=>ve(m.value)),class:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors"}," Cetak Slip Return ")])])])):xe("",!0),k.value?(U(),V("div",{key:2,class:Se([k.value.type==="success"?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800","fixed top-4 right-4 border rounded-lg p-4 shadow-lg"]),style:{"z-index":"1000"}},[s("div",Fte,[k.value.type==="success"?(U(),V("svg",Tte,[...ae[48]||(ae[48]=[s("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)])])):(U(),V("svg",Mte,[...ae[49]||(ae[49]=[s("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"},null,-1)])])),Ve(" "+R(k.value.text),1)])],2)):xe("",!0)])])]),_:1}))}}),Pte=Object.freeze(Object.defineProperty({__proto__:null,default:Ite},Symbol.toStringTag,{value:"Module"})),Rte={class:"space-y-6"},Ote={class:"bg-white rounded-lg shadow"},Nte={class:"p-4 border-b border-gray-200"},Lte={class:"p-6 space-y-4"},$te={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},jte={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Ute=["value"],Hte=["value"],zte={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Vte={class:"flex justify-between items-center pt-4 border-t border-gray-200"},qte={class:"text-sm text-gray-600"},Wte={class:"bg-white rounded-lg shadow overflow-hidden"},Gte={class:"overflow-x-auto"},Qte={class:"min-w-full divide-y divide-gray-200"},Kte={class:"bg-white divide-y divide-gray-200"},Yte={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Xte={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Zte={class:"font-medium"},Jte={class:"text-xs text-gray-500"},ene={class:"px-6 py-4 whitespace-nowrap"},tne={class:"flex flex-col gap-1"},nne={class:"text-sm text-gray-900 font-semibold"},rne={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},sne={class:"font-medium"},one=["title"],ine={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ane={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},lne={key:0},cne={class:"text-red-600"},dne={class:"text-green-600"},une={key:1},xne={key:2},fne={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},hne={key:0},gne={class:"text-red-600"},pne={class:"text-green-600"},mne={key:1},yne={key:2},bne={key:3},vne={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ene={class:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6"},wne={class:"flex items-center justify-between"},Cne={class:"flex items-center text-sm text-gray-700"},Ane={class:"flex items-center space-x-2"},Bne=["disabled"],_ne={class:"text-sm text-gray-700"},kne=["disabled"],Dne={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},Sne={class:"relative top-20 mx-auto p-5 border w-3/4 max-w-4xl shadow-lg rounded-md bg-white"},Fne={class:"flex justify-between items-center mb-4"},Tne={key:0,class:"space-y-4"},Mne={class:"grid grid-cols-2 gap-4"},Ine={class:"mt-1 text-sm text-gray-900"},Pne={class:"mt-1 text-sm text-gray-900"},Rne={class:"mt-1"},One={class:"mt-1 text-sm text-gray-900 font-semibold"},Nne={class:"border-t pt-4"},Lne={class:"grid grid-cols-2 gap-4"},$ne={class:"mt-1 text-sm text-gray-900"},jne={class:"mt-1 text-sm text-gray-900"},Une={key:0,class:"border-t pt-4"},Hne={class:"grid grid-cols-3 gap-4"},zne={key:0},Vne={class:"mt-1 text-sm text-gray-900"},qne={key:1},Wne={class:"mt-1 text-sm text-gray-900"},Gne={key:0},Qne={class:"text-red-600"},Kne={class:"text-green-600"},Yne={key:1},Xne={key:2},Zne={class:"mt-1 text-sm text-gray-900"},Jne={key:0},ere={class:"text-red-600"},tre={class:"text-green-600"},nre={key:1},rre={key:1,class:"border-t pt-4"},sre={class:"grid grid-cols-2 gap-4"},ore={key:0},ire={class:"mt-1 text-xs text-gray-900 bg-gray-50 p-2 rounded overflow-auto max-h-40"},are={key:1},lre={class:"mt-1 text-xs text-gray-900 bg-gray-50 p-2 rounded overflow-auto max-h-40"},cre={class:"border-t pt-4"},dre={class:"grid grid-cols-2 gap-4"},ure={key:0},xre={class:"mt-1 text-sm text-gray-900"},fre={key:1},hre={class:"mt-1 text-sm text-gray-900"},gre={class:"mt-1 text-sm text-gray-900"},pre=["title"],mre={key:0,class:"mt-4"},yre={class:"mt-1 text-sm text-gray-900"},bre={class:"mt-6 flex justify-end"},vre={__name:"RiwayatAktivitas",props:{activities:Array},setup(e){const t=e,n=pe(!0);pe(!1);const r=pe(null),i=pe(1),a=pe(25),c=pe({quickTime:"",startDate:"",endDate:"",role:"",user:"",module:"",sku:"",lotBatch:"",qtyMin:"",qtyMax:"",bin:"",status:""}),u=pe(t.activities),g=pe([...new Set(t.activities.map(q=>q.user))]),h=pe([...new Set(t.activities.flatMap(q=>[q.bin_from,q.bin_to].filter(T=>T)))]),m=Ke(()=>{let q=u.value;return c.value.startDate&&c.value.endDate&&(q=q.filter(T=>{const Q=T.timestamp.split(" ")[0];return Q>=c.value.startDate&&Q<=c.value.endDate})),c.value.role&&(q=q.filter(T=>T.role===c.value.role)),c.value.user&&(q=q.filter(T=>T.user===c.value.user)),c.value.module&&(q=q.filter(T=>T.module===c.value.module)),c.value.sku&&(q=q.filter(T=>T.sku_code.toLowerCase().includes(c.value.sku.toLowerCase())||T.sku_name.toLowerCase().includes(c.value.sku.toLowerCase()))),c.value.lotBatch&&(q=q.filter(T=>T.lot_no&&T.lot_no.toLowerCase().includes(c.value.lotBatch.toLowerCase()))),c.value.qtyMin&&(q=q.filter(T=>T.qty_after>=parseInt(c.value.qtyMin))),c.value.qtyMax&&(q=q.filter(T=>T.qty_after<=parseInt(c.value.qtyMax))),c.value.bin&&(q=q.filter(T=>T.bin_from===c.value.bin||T.bin_to===c.value.bin)),q.sort((T,Q)=>new Date(Q.timestamp)-new Date(T.timestamp))}),y=Ke(()=>{const q=(i.value-1)*a.value,T=q+a.value;return m.value.slice(q,T)}),C=Ke(()=>Math.ceil(m.value.length/a.value)),E=q=>new Date(q).toLocaleString("id-ID",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),A=q=>{const T={Incoming:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200",QC:"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200",Karantina:"bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200",Putaway:"bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200",Reservation:"bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200",Picking:"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200",Return:"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200","Master Data":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200"};return T[q]||T["Master Data"]},k=()=>{const q=new Date;switch(new Date(q).setDate(q.getDate()-1),c.value.quickTime){case"today":c.value.startDate=q.toISOString().split("T")[0],c.value.endDate=q.toISOString().split("T")[0];break;case"this_week":const Q=new Date(q.setDate(q.getDate()-q.getDay()));c.value.startDate=Q.toISOString().split("T")[0],c.value.endDate=new Date().toISOString().split("T")[0];break;case"this_month":c.value.startDate=new Date(q.getFullYear(),q.getMonth(),1).toISOString().split("T")[0],c.value.endDate=new Date().toISOString().split("T")[0];break;case"last_month":const oe=new Date(q.getFullYear(),q.getMonth()-1,1),Y=new Date(q.getFullYear(),q.getMonth(),0);c.value.startDate=oe.toISOString().split("T")[0],c.value.endDate=Y.toISOString().split("T")[0];break;default:c.value.startDate="",c.value.endDate=""}},D=()=>{const q={Admin:["ADM001"],"QC Staff":["QC001","QC002"],Warehouse:["WH001","WH002","WH003"],Production:["PD001","PD002"],Supervisor:["SUP001"],"Receiving Staff":["WH002"]};c.value.role?g.value=q[c.value.role]||[]:g.value=["ADM001","QC001","QC002","WH001","WH002","WH003","PD001","PD002","SUP001"],g.value.includes(c.value.user)||(c.value.user="")},I=()=>{c.value={quickTime:"",startDate:"",endDate:"",role:"",user:"",module:"",sku:"",lotBatch:"",qtyMin:"",qtyMax:"",bin:"",status:""},i.value=1},$=()=>{i.value=1},P=()=>{i.value=1},S=()=>{i.value>1&&i.value--},M=()=>{i.value<C.value&&i.value++},j=()=>{const T=[["Timestamp","Role/User","Module","Activity","SKU Code","SKU Name","Lot/Batch","Qty Before","Qty After","Bin From","Bin To","Reference","Remarks"].join(","),...m.value.map(le=>[le.timestamp,`${le.user} (${le.role})`,le.module,le.action,le.sku_code,le.sku_name,le.lot_no||"",le.qty_before||"",le.qty_after||"",le.bin_from||"",le.bin_to||"",le.reference_no||"",le.remarks||""].map(ye=>`"${ye}"`).join(","))].join(`
`),Q=new Blob([T],{type:"text/csv"}),oe=window.URL.createObjectURL(Q),Y=document.createElement("a");Y.href=oe,Y.download=`activity_log_${new Date().toISOString().split("T")[0]}.csv`,Y.click(),window.URL.revokeObjectURL(oe)},L=()=>{const q=window.open("","_blank"),T=`
    <html>
      <head>
        <title>Activity Log Report</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; font-size: 10px; }
          .header { text-align: center; margin-bottom: 20px; }
          .filters { background-color: #f5f5f5; padding: 10px; margin-bottom: 20px; }
          table { width: 100%; border-collapse: collapse; }
          th, td { border: 1px solid #ddd; padding: 6px; text-align: left; }
          th { background-color: #f2f2f2; font-weight: bold; }
          .module-badge { padding: 2px 6px; border-radius: 4px; font-size: 8px; }
          @media print {
            body { margin: 0; font-size: 9px; }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <h2>Activity Log Report</h2>
          <p>Generated on: ${new Date().toLocaleString("id-ID")}</p>
        </div>
        
        <div class="filters">
          <strong>Applied Filters:</strong>
          ${c.value.startDate?`Date Range: ${c.value.startDate} to ${c.value.endDate} | `:""}
          ${c.value.role?`Role: ${c.value.role} | `:""}
          ${c.value.module?`Module: ${c.value.module} | `:""}
          ${c.value.sku?`SKU: ${c.value.sku} | `:""}
          Total Records: ${m.value.length}
        </div>
        
        <table class="min-w-full divide-y divide-gray-200">
          <thead class="bg-gray-50">
            <tr>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Timestamp</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Role/User</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Aktivitas</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Entity/Material</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Lot/Batch</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Qty</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Lokasi/Bin</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Referensi Dokumen</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Aksi</th>
            </tr>
          </thead>
          <tbody class="bg-white divide-y divide-gray-200">
            <tr v-for="activity in paginatedActivities" :key="activity.id" class="hover:bg-gray-50">
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                <div>{{ formatDateTime(activity.timestamp) }}</div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                <div class="font-medium">{{ activity.user }}</div>
                <div class="text-xs text-gray-500">{{ activity.role }}</div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap">
                <div class="flex flex-col gap-1">
                  <span class="px-2 py-1 text-xs rounded-full font-medium inline-block" :class="getModuleBadgeClass(activity.module)">
                    {{ activity.module }}
                  </span>
                  <div class="text-sm text-gray-900 font-semibold">{{ activity.action }}</div>
                </div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                <div class="font-medium">{{ activity.sku_code }}</div>
                <div class="text-xs text-gray-500 max-w-xs truncate" :title="activity.sku_name">
                  {{ activity.sku_name }}
                </div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                {{ activity.lot_no && activity.lot_no !== '-' ? activity.lot_no : '-' }}
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                <div v-if="activity.qty_before != activity.qty_after && activity.qty_before > 0">
                  <span class="text-red-600">{{ activity.qty_before }}</span>
                  <span class="mx-1"></span>
                  <span class="text-green-600">{{ activity.qty_after }}</span>
                </div>
                <div v-else-if="activity.qty_after > 0">{{ activity.qty_after }}</div>
                <div v-else>-</div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                <div v-if="activity.bin_from && activity.bin_to && activity.bin_from !== '-' && activity.bin_to !== '-' && activity.bin_from !== activity.bin_to">
                  <span class="text-red-600">{{ activity.bin_from }}</span>
                  <span class="mx-1"></span>
                  <span class="text-green-600">{{ activity.bin_to }}</span>
                </div>
                <div v-else-if="activity.bin_to && activity.bin_to !== '-'">{{ activity.bin_to }}</div>
                <div v-else-if="activity.bin_from && activity.bin_from !== '-'">{{ activity.bin_from }}</div>
                <div v-else>-</div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                {{ activity.reference_no && activity.reference_no !== '-' ? activity.reference_no : '-' }}
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                <button @click="showDetailModal(activity)" class="bg-blue-100 text-blue-700 hover:bg-blue-200 px-3 py-1 rounded text-xs">
                  Detail
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </body>
    </html>
  `;q.document.write(T),q.document.close(),q.focus(),setTimeout(()=>{q.print(),q.close()},500)};return Qn(()=>{const q=new Date,T=new Date(q.getTime()-10080*60*1e3);c.value.startDate=T.toISOString().split("T")[0],c.value.endDate=q.toISOString().split("T")[0]}),(q,T)=>(U(),wt(Kn,{title:"Riwayat Aktivitas"},{default:vt(()=>[s("div",Rte,[s("div",{class:"flex justify-between items-center"},[T[18]||(T[18]=s("h2",{class:"text-2xl font-bold text-gray-900"},"Riwayat Aktivitas",-1)),s("div",{class:"flex space-x-3"},[s("button",{onClick:j,class:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},[...T[16]||(T[16]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),Ve(" Export Excel ",-1)])]),s("button",{onClick:L,class:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},[...T[17]||(T[17]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1),Ve(" Export PDF ",-1)])])])]),s("div",Ote,[s("div",Nte,[s("button",{onClick:T[0]||(T[0]=Q=>n.value=!n.value),class:"flex items-center justify-between w-full text-left"},[T[20]||(T[20]=s("h3",{class:"text-lg font-semibold text-gray-900"},"Advanced Filter",-1)),(U(),V("svg",{class:Se(["w-5 h-5 transform transition-transform",n.value?"rotate-180":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...T[19]||(T[19]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])]),me(s("div",Lte,[s("div",$te,[s("div",null,[T[22]||(T[22]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Quick Time Filter",-1)),me(s("select",{"onUpdate:modelValue":T[1]||(T[1]=Q=>c.value.quickTime=Q),onChange:k,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},[...T[21]||(T[21]=[s("option",{value:""},"Custom Range",-1),s("option",{value:"today"},"Hari Ini",-1),s("option",{value:"this_week"},"Minggu Ini",-1),s("option",{value:"this_month"},"Bulan Ini",-1),s("option",{value:"last_month"},"Bulan Lalu",-1)])],544),[[lt,c.value.quickTime]])]),s("div",null,[T[23]||(T[23]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tanggal Awal",-1)),me(s("input",{"onUpdate:modelValue":T[2]||(T[2]=Q=>c.value.startDate=Q),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Oe,c.value.startDate]])]),s("div",null,[T[24]||(T[24]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tanggal Akhir",-1)),me(s("input",{"onUpdate:modelValue":T[3]||(T[3]=Q=>c.value.endDate=Q),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Oe,c.value.endDate]])]),s("div",null,[T[26]||(T[26]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),me(s("select",{"onUpdate:modelValue":T[4]||(T[4]=Q=>c.value.status=Q),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},[...T[25]||(T[25]=[s("option",{value:""},"Semua Status",-1),s("option",{value:"Success"},"Success",-1),s("option",{value:"Pending"},"Pending",-1),s("option",{value:"Rejected"},"Rejected",-1),s("option",{value:"Completed"},"Completed",-1)])],512),[[lt,c.value.status]])])]),s("div",jte,[s("div",null,[T[28]||(T[28]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Role",-1)),me(s("select",{"onUpdate:modelValue":T[5]||(T[5]=Q=>c.value.role=Q),onChange:D,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},[...T[27]||(T[27]=[s("option",{value:""},"Semua Role",-1),s("option",{value:"Admin"},"Admin",-1),s("option",{value:"QC Staff"},"QC Staff",-1),s("option",{value:"Warehouse"},"Warehouse",-1),s("option",{value:"Production"},"Production",-1),s("option",{value:"Supervisor"},"Supervisor",-1),s("option",{value:"Receiving Staff"},"Receiving Staff",-1)])],544),[[lt,c.value.role]])]),s("div",null,[T[30]||(T[30]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"User",-1)),me(s("select",{"onUpdate:modelValue":T[6]||(T[6]=Q=>c.value.user=Q),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},[T[29]||(T[29]=s("option",{value:""},"Semua User",-1)),(U(!0),V(je,null,nt(g.value,Q=>(U(),V("option",{key:Q,value:Q},R(Q),9,Ute))),128))],512),[[lt,c.value.user]])]),s("div",null,[T[32]||(T[32]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Jenis Aktivitas",-1)),me(s("select",{"onUpdate:modelValue":T[7]||(T[7]=Q=>c.value.module=Q),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},[...T[31]||(T[31]=[s("option",{value:""},"Semua Aktivitas",-1),s("option",{value:"Incoming"},"Incoming / Receipt",-1),s("option",{value:"QC"},"QC",-1),s("option",{value:"Karantina"},"Label Karantina",-1),s("option",{value:"Putaway"},"Putaway",-1),s("option",{value:"Reservation"},"Reservation",-1),s("option",{value:"Picking"},"Picking",-1),s("option",{value:"Return"},"Return",-1),s("option",{value:"Master Data"},"Master Data",-1)])],512),[[lt,c.value.module]])]),s("div",null,[T[34]||(T[34]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Lokasi/Bin",-1)),me(s("select",{"onUpdate:modelValue":T[8]||(T[8]=Q=>c.value.bin=Q),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},[T[33]||(T[33]=s("option",{value:""},"Semua Lokasi",-1)),(U(!0),V(je,null,nt(h.value,Q=>(U(),V("option",{key:Q,value:Q},R(Q),9,Hte))),128))],512),[[lt,c.value.bin]])])]),s("div",zte,[s("div",null,[T[35]||(T[35]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Material/SKU",-1)),me(s("input",{"onUpdate:modelValue":T[9]||(T[9]=Q=>c.value.sku=Q),type:"text",placeholder:"Cari kode atau nama SKU...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Oe,c.value.sku]])]),s("div",null,[T[36]||(T[36]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Lot/Batch No",-1)),me(s("input",{"onUpdate:modelValue":T[10]||(T[10]=Q=>c.value.lotBatch=Q),type:"text",placeholder:"Cari lot/batch...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Oe,c.value.lotBatch]])]),s("div",null,[T[37]||(T[37]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Qty Min",-1)),me(s("input",{"onUpdate:modelValue":T[11]||(T[11]=Q=>c.value.qtyMin=Q),type:"number",placeholder:"0",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Oe,c.value.qtyMin]])]),s("div",null,[T[38]||(T[38]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Qty Max",-1)),me(s("input",{"onUpdate:modelValue":T[12]||(T[12]=Q=>c.value.qtyMax=Q),type:"number",placeholder:"9999",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Oe,c.value.qtyMax]])])]),s("div",Vte,[s("div",qte," Showing "+R(m.value.length)+" of "+R(u.value.length)+" records ",1),s("div",{class:"flex space-x-3"},[s("button",{onClick:I,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"}," Reset Filter "),s("button",{onClick:$,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"}," Apply Filter ")])])],512),[[sn,n.value]])]),s("div",Wte,[s("div",Gte,[s("table",Qte,[T[41]||(T[41]=s("thead",{class:"bg-gray-50"},[s("tr",null,[s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Timestamp"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Role/User"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aktivitas"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Entity/Material"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Lot/Batch"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Qty"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Lokasi/Bin"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Referensi Dokumen")])],-1)),s("tbody",Kte,[(U(!0),V(je,null,nt(y.value,Q=>(U(),V("tr",{key:Q.id,class:"hover:bg-gray-50"},[s("td",Yte,[s("div",null,R(E(Q.timestamp)),1)]),s("td",Xte,[s("div",Zte,R(Q.user),1),s("div",Jte,R(Q.role),1)]),s("td",ene,[s("div",tne,[s("span",{class:Se(["px-2 py-1 text-xs rounded-full font-medium inline-block",A(Q.module)])},R(Q.module),3),s("div",nne,R(Q.action),1)])]),s("td",rne,[s("div",sne,R(Q.sku_code),1),s("div",{class:"text-xs text-gray-500 max-w-xs truncate",title:Q.sku_name},R(Q.sku_name),9,one)]),s("td",ine,R(Q.lot_no&&Q.lot_no!=="-"?Q.lot_no:"-"),1),s("td",ane,[Q.qty_before!=Q.qty_after&&Q.qty_before>0?(U(),V("div",lne,[s("span",cne,R(Q.qty_before),1),T[39]||(T[39]=s("span",{class:"mx-1"},"",-1)),s("span",dne,R(Q.qty_after),1)])):Q.qty_after>0?(U(),V("div",une,R(Q.qty_after),1)):(U(),V("div",xne,"-"))]),s("td",fne,[Q.bin_from&&Q.bin_to&&Q.bin_from!=="-"&&Q.bin_to!=="-"&&Q.bin_from!==Q.bin_to?(U(),V("div",hne,[s("span",gne,R(Q.bin_from),1),T[40]||(T[40]=s("span",{class:"mx-1"},"",-1)),s("span",pne,R(Q.bin_to),1)])):Q.bin_to&&Q.bin_to!=="-"?(U(),V("div",mne,R(Q.bin_to),1)):Q.bin_from&&Q.bin_from!=="-"?(U(),V("div",yne,R(Q.bin_from),1)):(U(),V("div",bne,"-"))]),s("td",vne,R(Q.reference_no&&Q.reference_no!=="-"?Q.reference_no:"-"),1)]))),128))])])]),s("div",Ene,[s("div",wne,[s("div",Cne,[T[43]||(T[43]=s("span",null,"Show",-1)),me(s("select",{"onUpdate:modelValue":T[13]||(T[13]=Q=>a.value=Q),onChange:P,class:"mx-2 px-2 py-1 border border-gray-300 rounded text-sm bg-white"},[...T[42]||(T[42]=[s("option",{value:"10"},"10",-1),s("option",{value:"25"},"25",-1),s("option",{value:"50"},"50",-1),s("option",{value:"100"},"100",-1)])],544),[[lt,a.value]]),T[44]||(T[44]=s("span",null,"entries",-1))]),s("div",Ane,[s("button",{onClick:S,disabled:i.value===1,class:"px-3 py-1 border border-gray-300 rounded text-sm bg-white text-gray-700 disabled:opacity-50"}," Previous ",8,Bne),s("span",_ne,R(i.value)+" of "+R(C.value),1),s("button",{onClick:M,disabled:i.value===C.value,class:"px-3 py-1 border border-gray-300 rounded text-sm bg-white text-gray-700 disabled:opacity-50"}," Next ",8,kne)])])])]),q.isDetailModalOpen?(U(),V("div",Dne,[s("div",Sne,[s("div",Fne,[T[46]||(T[46]=s("h3",{class:"text-lg font-semibold text-gray-900"},"Detail Aktivitas",-1)),s("button",{onClick:T[14]||(T[14]=Q=>q.isDetailModalOpen=!1),class:"text-gray-400 hover:text-gray-600"},[...T[45]||(T[45]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),r.value?(U(),V("div",Tne,[s("div",Mne,[s("div",null,[T[47]||(T[47]=s("label",{class:"block text-sm font-medium text-gray-700"},"Timestamp",-1)),s("p",Ine,R(E(r.value.timestamp)),1)]),s("div",null,[T[48]||(T[48]=s("label",{class:"block text-sm font-medium text-gray-700"},"User",-1)),s("p",Pne,R(r.value.user)+" ("+R(r.value.role)+")",1)]),s("div",null,[T[49]||(T[49]=s("label",{class:"block text-sm font-medium text-gray-700"},"Module",-1)),s("p",Rne,[s("span",{class:Se(["px-2 py-1 text-xs rounded-full font-medium",A(r.value.module)])},R(r.value.module),3)])]),s("div",null,[T[50]||(T[50]=s("label",{class:"block text-sm font-medium text-gray-700"},"Action",-1)),s("p",One,R(r.value.action),1)])]),s("div",Nne,[T[53]||(T[53]=s("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"Entity Information",-1)),s("div",Lne,[s("div",null,[T[51]||(T[51]=s("label",{class:"block text-xs font-medium text-gray-500"},"Code",-1)),s("p",$ne,R(r.value.sku_code),1)]),s("div",null,[T[52]||(T[52]=s("label",{class:"block text-xs font-medium text-gray-500"},"Name",-1)),s("p",jne,R(r.value.sku_name),1)])])]),r.value.lot_no!=="-"||r.value.qty_after>0||r.value.bin_to!=="-"?(U(),V("div",Une,[T[59]||(T[59]=s("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"Warehouse Details",-1)),s("div",Hne,[r.value.lot_no!=="-"?(U(),V("div",zne,[T[54]||(T[54]=s("label",{class:"block text-xs font-medium text-gray-500"},"Lot/Batch",-1)),s("p",Vne,R(r.value.lot_no),1)])):xe("",!0),r.value.qty_after>0?(U(),V("div",qne,[T[56]||(T[56]=s("label",{class:"block text-xs font-medium text-gray-500"},"Quantity",-1)),s("p",Wne,[r.value.qty_before!=r.value.qty_after?(U(),V("span",Gne,[s("span",Qne,R(r.value.qty_before),1),T[55]||(T[55]=s("span",{class:"mx-1"},"",-1)),s("span",Kne,R(r.value.qty_after),1)])):(U(),V("span",Yne,R(r.value.qty_after),1))])])):xe("",!0),r.value.bin_to!=="-"||r.value.bin_from!=="-"?(U(),V("div",Xne,[T[58]||(T[58]=s("label",{class:"block text-xs font-medium text-gray-500"},"Bin Location",-1)),s("p",Zne,[r.value.bin_from&&r.value.bin_to&&r.value.bin_from!=="-"&&r.value.bin_to!=="-"?(U(),V("span",Jne,[s("span",ere,R(r.value.bin_from),1),T[57]||(T[57]=s("span",{class:"mx-1"},"",-1)),s("span",tre,R(r.value.bin_to),1)])):(U(),V("span",nre,R(r.value.bin_to||r.value.bin_from),1))])])):xe("",!0)])])):xe("",!0),r.value.old_value||r.value.new_value?(U(),V("div",rre,[T[62]||(T[62]=s("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"Changes",-1)),s("div",sre,[r.value.old_value?(U(),V("div",ore,[T[60]||(T[60]=s("label",{class:"block text-xs font-medium text-gray-500"},"Old Value",-1)),s("pre",ire,R(JSON.parse(r.value.old_value||"{}")),1)])):xe("",!0),r.value.new_value?(U(),V("div",are,[T[61]||(T[61]=s("label",{class:"block text-xs font-medium text-gray-500"},"New Value",-1)),s("pre",lre,R(JSON.parse(r.value.new_value||"{}")),1)])):xe("",!0)])])):xe("",!0),s("div",cre,[T[68]||(T[68]=s("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"Additional Information",-1)),s("div",dre,[r.value.reference_no&&r.value.reference_no!=="-"?(U(),V("div",ure,[T[63]||(T[63]=s("label",{class:"block text-xs font-medium text-gray-500"},"Reference Document",-1)),s("p",xre,R(r.value.reference_no),1)])):xe("",!0),r.value.exp_date?(U(),V("div",fre,[T[64]||(T[64]=s("label",{class:"block text-xs font-medium text-gray-500"},"Expiry Date",-1)),s("p",hre,R(r.value.exp_date),1)])):xe("",!0),s("div",null,[T[65]||(T[65]=s("label",{class:"block text-xs font-medium text-gray-500"},"IP Address",-1)),s("p",gre,R(r.value.ip_address),1)]),s("div",null,[T[66]||(T[66]=s("label",{class:"block text-xs font-medium text-gray-500"},"Device",-1)),s("p",{class:"mt-1 text-sm text-gray-900 truncate",title:r.value.device},R(r.value.device),9,pre)])]),r.value.remarks?(U(),V("div",mre,[T[67]||(T[67]=s("label",{class:"block text-xs font-medium text-gray-500"},"Remarks",-1)),s("p",yre,R(r.value.remarks),1)])):xe("",!0)])])):xe("",!0),s("div",bre,[s("button",{onClick:T[15]||(T[15]=Q=>q.isDetailModalOpen=!1),class:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300"}," Close ")])])])):xe("",!0)])]),_:1}))}},Ere=Object.freeze(Object.defineProperty({__proto__:null,default:vre},Symbol.toStringTag,{value:"Module"})),wre={class:"role-permission-management"},Cre={class:"flex justify-between items-center mb-6"},Are={key:0,class:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4"},Bre={key:1,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4"},_re={class:"bg-white rounded-lg shadow-lg overflow-hidden"},kre={class:"min-w-full divide-y divide-gray-200"},Dre={class:"bg-white divide-y divide-gray-200"},Sre={class:"px-6 py-4 whitespace-nowrap"},Fre={class:"text-sm font-medium text-gray-900"},Tre={class:"px-6 py-4"},Mre={class:"text-sm text-gray-600"},Ire={class:"px-6 py-4 text-sm text-gray-500"},Pre={key:0},Rre={key:1,class:"text-red-500"},Ore={class:"px-6 py-4 whitespace-nowrap"},Nre={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},Lre={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},$re=["onClick"],jre=["onClick"],Ure={key:2,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},Hre={key:3,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},zre={class:"bg-white rounded-lg p-6 w-full max-w-md shadow-xl"},Vre={class:"mb-4"},qre={class:"mb-6"},Wre={key:4,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},Gre={class:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-xl"},Qre={class:"flex justify-between items-center mb-4"},Kre={class:"text-lg font-semibold text-gray-900"},Yre={class:"space-y-6"},Xre={class:"flex justify-between items-center mb-3 border-b border-gray-200 pb-2"},Zre={class:"text-md font-semibold text-gray-800 flex items-center"},Jre=["innerHTML"],ese={class:"flex items-center text-blue-600 font-medium cursor-pointer"},tse=["checked","onChange"],nse={class:"grid grid-cols-2 md:grid-cols-5 gap-3"},rse=["title"],sse=["checked","onChange"],ose={class:"text-sm"},ise=$r({__name:"RolePermission",props:{roles:{},allPermissions:{}},setup(e){const t=e,n=pe(!1),r=pe(!1),i=pe(null),a=po({name:"",description:""}),c=pe([]),u=Ke(()=>new Map(c.value.map(S=>[S.name,S]))),g=S=>{const M=t.allPermissions.find(j=>j.module_key===S);return!M||M.permissions.length===0?!1:M.permissions.every(j=>{const L=u.value.get(j.name);return L&&L.allowed})},h=(S,M)=>{const L=M.target.checked,q=t.allPermissions.find(T=>T.module_key===S);q&&q.permissions.forEach(T=>{const Q=T.name,oe=c.value.find(Y=>Y.name===Q);oe?oe.allowed=L:L&&c.value.push({name:Q,allowed:!0})})},m=()=>{ft.post("/role-permission",{name:a.name,description:a.description},{onSuccess:()=>{y()}})},y=()=>{a.name="",a.description="",n.value=!1},C=S=>{const M=t.roles.find(j=>j.id===S);M&&confirm(`Apakah Anda yakin ingin menghapus role "${M.name}"?`)&&ft.delete(`/role-permission/${S}`)},E=S=>{i.value=S,k(S),r.value=!0},A=()=>{r.value=!1,i.value=null,c.value=[]},k=S=>{const M=t.allPermissions.flatMap(L=>L.permissions).map(L=>({name:L.name,allowed:!1})),j=new Set(S.permissions);c.value=M.map(L=>({...L,allowed:j.has(L.name)}))},D=S=>u.value.get(S)?.allowed??!1,I=(S,M)=>{const L=M.target.checked,q=c.value.find(T=>T.name===S);q?q.allowed=L:c.value.push({name:S,allowed:L})},$=()=>{i.value&&ft.put(`/role-permission/${i.value.id}/permissions`,{permissions:c.value},{onSuccess:()=>{A(),ft.reload({only:["roles"]})},onError:S=>{console.error("Gagal menyimpan permissions:",S),alert("Terjadi kesalahan saat menyimpan permissions. Cek console untuk detail.")}})},P=S=>{const M=new Set;return t.allPermissions.forEach(j=>{const L=new Set(j.permissions.map(T=>T.name));S.some(T=>L.has(T))&&M.add(j.module_key)}),M.size};return(S,M)=>(U(),wt(Kn,{title:"Role & Permission Management"},{default:vt(()=>[s("div",wre,[s("div",Cre,[M[4]||(M[4]=s("h1",{class:"text-2xl font-bold text-gray-800"},"Role & Permission Management",-1)),s("button",{onClick:M[0]||(M[0]=j=>n.value=!0),class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},[...M[3]||(M[3]=[s("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),Ve(" Tambah Role ",-1)])])]),S.$page.props.flash?.success?(U(),V("div",Are,R(S.$page.props.flash.success),1)):xe("",!0),S.$page.props.flash?.error?(U(),V("div",Bre,R(S.$page.props.flash.error),1)):xe("",!0),s("div",_re,[s("table",kre,[M[5]||(M[5]=s("thead",{class:"bg-gray-50"},[s("tr",null,[s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Role"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Deskripsi"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Ringkasan Permissions"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Jumlah User"),s("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),s("tbody",Dre,[(U(!0),V(je,null,nt(e.roles,j=>(U(),V("tr",{key:j.id,class:"hover:bg-gray-50 transition-colors"},[s("td",Sre,[s("div",Fre,R(j.name),1)]),s("td",Tre,[s("div",Mre,R(j.description),1)]),s("td",Ire,[j.permissions&&j.permissions.length>0?(U(),V("span",Pre," Total **"+R(j.permissions.length)+"** permissions di **"+R(P(j.permissions))+"** modul. ",1)):(U(),V("span",Rre,"Tidak ada Permission"))]),s("td",Ore,[s("span",Nre,R(j.userCount)+" users ",1)]),s("td",Lre,[s("button",{onClick:L=>E(j),class:"text-indigo-600 hover:text-indigo-900 transition-colors"}," Atur Permission ",8,$re),s("button",{onClick:L=>C(j.id),class:"text-red-600 hover:text-red-900 transition-colors"}," Hapus ",8,jre)])]))),128))])])]),n.value?(U(),V("div",Ure)):xe("",!0),n.value?(U(),V("div",Hre,[s("div",zre,[s("div",{class:"flex justify-between items-center mb-4"},[M[7]||(M[7]=s("h3",{class:"text-lg font-semibold text-gray-900"},"Tambah Role Baru",-1)),s("button",{onClick:y,class:"text-gray-400 hover:text-gray-600 transition-colors"},[...M[6]||(M[6]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),s("form",{onSubmit:Jn(m,["prevent"])},[s("div",Vre,[M[8]||(M[8]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nama Role",-1)),me(s("input",{"onUpdate:modelValue":M[1]||(M[1]=j=>a.name=j),type:"text",required:"",placeholder:"Contoh: QC, Supervisor, Operator Gudang",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900 placeholder-gray-400"},null,512),[[Oe,a.name]])]),s("div",qre,[M[9]||(M[9]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Deskripsi Role (Opsional)",-1)),me(s("textarea",{"onUpdate:modelValue":M[2]||(M[2]=j=>a.description=j),rows:"3",placeholder:"Role untuk tim QC yang memeriksa barang masuk",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900 placeholder-gray-400"},null,512),[[Oe,a.description]])]),s("div",{class:"flex justify-end space-x-3"},[s("button",{type:"button",onClick:y,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors"}," Batal "),M[10]||(M[10]=s("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"}," Simpan ",-1))])],32)])])):xe("",!0),r.value?(U(),V("div",Wre,[s("div",Gre,[s("div",Qre,[s("h3",Kre,"Atur Permission - "+R(i.value?.name),1),s("button",{onClick:A,class:"text-gray-400 hover:text-gray-600 transition-colors"},[...M[11]||(M[11]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),s("div",Yre,[(U(!0),V(je,null,nt(e.allPermissions,j=>(U(),V("div",{key:j.module_key,class:"border border-gray-200 rounded-lg p-4 bg-gray-50"},[s("div",Xre,[s("h4",Zre,[s("span",{innerHTML:j.module_name},null,8,Jre)]),s("label",ese,[s("input",{type:"checkbox",checked:g(j.module_key),onChange:L=>h(j.module_key,L),class:"mr-2 rounded border-blue-600 text-blue-600 focus:ring-blue-500 h-4 w-4"},null,40,tse),M[12]||(M[12]=Ve(" Pilih Semua ",-1))])]),s("div",nse,[(U(!0),V(je,null,nt(j.permissions,L=>(U(),V("label",{key:L.name,class:"flex items-center text-gray-700 cursor-pointer",title:L.description},[s("input",{type:"checkbox",checked:D(L.name),onChange:q=>I(L.name,q),class:"mr-2 rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,40,sse),s("span",ose,R(L.display_name),1)],8,rse))),128))])]))),128))]),s("div",{class:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200"},[s("button",{onClick:A,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors"}," Batal "),s("button",{onClick:$,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"}," Simpan Permission ")])])])):xe("",!0)])]),_:1}))}}),ase=Hi(ise,[["__scopeId","data-v-2d00ac1b"]]),lse=Object.freeze(Object.defineProperty({__proto__:null,default:ase},Symbol.toStringTag,{value:"Module"})),cse={class:"min-h-screen bg-gray-50 p-6"},dse={class:"mb-6 bg-white rounded-lg shadow p-4 flex items-end gap-4"},use={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8"},xse={class:"bg-white rounded-xl shadow p-5 border-l-4 border-blue-500"},fse={class:"flex justify-between items-start"},hse={class:"text-2xl font-bold text-gray-900 mt-1"},gse={class:"bg-white rounded-xl shadow p-5 border-l-4 border-green-500"},pse={class:"flex justify-between items-start"},mse={class:"text-2xl font-bold text-gray-900 mt-1"},yse={class:"bg-white rounded-xl shadow p-5 border-l-4 border-purple-500"},bse={class:"flex justify-between items-start"},vse={class:"text-lg font-bold text-gray-900 mt-1"},Ese={class:"bg-white rounded-xl shadow p-5 border-l-4 border-yellow-500"},wse={class:"flex justify-between items-start"},Cse={class:"text-2xl font-bold text-gray-900 mt-1"},Ase={class:"bg-white rounded-xl shadow p-5 border-l-4 border-indigo-500"},Bse={class:"flex justify-between items-start"},_se={class:"text-2xl font-bold text-gray-900 mt-1"},kse={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8"},Dse={class:"bg-white p-5 rounded-xl shadow"},Sse={class:"h-48 relative"},Fse={key:1,class:"flex h-full items-center justify-center text-gray-400 text-xs"},Tse={class:"bg-white p-5 rounded-xl shadow"},Mse={class:"h-48 relative"},Ise={key:1,class:"flex h-full items-center justify-center text-gray-400 text-xs"},Pse={class:"bg-white p-5 rounded-xl shadow"},Rse={class:"h-48 relative"},Ose={key:1,class:"flex h-full items-center justify-center text-gray-400 text-xs"},Nse={class:"bg-white p-5 rounded-xl shadow"},Lse={class:"h-48 relative"},$se={key:1,class:"flex h-full items-center justify-center text-gray-400 text-xs"},jse={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},Use={class:"bg-white p-6 rounded-lg shadow"},Hse={class:"h-64 relative"},zse={key:1,class:"flex h-full items-center justify-center text-gray-400"},Vse={class:"bg-white p-6 rounded-lg shadow"},qse={class:"h-64 relative"},Wse={key:1,class:"flex h-full items-center justify-center text-gray-400"},Gse={class:"bg-white p-6 rounded-lg shadow"},Qse={class:"flex justify-between items-center mb-4"},Kse={class:"overflow-y-auto max-h-64"},Yse={class:"min-w-full divide-y divide-gray-200"},Xse={class:"bg-white divide-y divide-gray-200"},Zse={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},Jse={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-right"},eoe={key:0},toe={__name:"WmsDashboard",setup(e){rl.register(hb,Bb,wb,vb,_b,kb,yb,mb);const t=po({date_start:new Date().toISOString().slice(0,8)+"01",date_end:new Date().toISOString().slice(0,10)}),n=pe({totalIncoming:0,totalOutgoing:0,leadTime:"0 Mins",stockAccuracy:0,skuOnHand:0}),r=pe([]),i=pe("high"),a=pe({incoming:{labels:[],datasets:[]},typeBreakdown:{labels:[],datasets:[]},trends:{incoming:{labels:[],datasets:[]},outgoing:{labels:[],datasets:[]},leadTime:{labels:[],datasets:[]},accuracy:{labels:[],datasets:[]}}}),c={responsive:!0,maintainAspectRatio:!1},u={responsive:!0,maintainAspectRatio:!1,indexAxis:"y"},g={responsive:!0,maintainAspectRatio:!1},h={responsive:!0,maintainAspectRatio:!1,tension:.3,scales:{y:{beginAtZero:!0}}},m=async()=>{try{const E=(await Bt.get(route("wms-dashboard.data"),{params:t})).data;n.value.totalIncoming=E.totalIncoming,n.value.totalOutgoing=E.totalOutgoing,n.value.leadTime=E.leadTime.toString().replace("-",""),n.value.stockAccuracy=E.stockAccuracy,n.value.skuOnHand=E.skuOnHand,r.value=E.incomingByCategory;const A=E.incomingByCategory.map(D=>D.kategori||"Uncategorized"),k=E.incomingByCategory.map(D=>D.total);if(a.value.incoming={labels:A,datasets:[{label:"Total Items",backgroundColor:"#3B82F6",data:k}]},E.incomingByType){const D=E.incomingByType.map($=>$.kategori||"Other"),I=E.incomingByType.map($=>$.total);a.value.typeBreakdown={labels:D,datasets:[{backgroundColor:["#F59E0B","#10B981","#3B82F6","#EF4444"],data:I}]}}if(E.trends){const D=($,P,S)=>({labels:$.map(M=>M.date),datasets:[{label:P,borderColor:S,backgroundColor:S,data:$.map(M=>M.value),fill:!1}]}),I=($,P,S)=>({labels:$.map(M=>M.date),datasets:[{label:P,backgroundColor:S,data:$.map(M=>M.value)}]});a.value.trends.incoming=D(E.trends.incoming,"Incoming Items","#3B82F6"),a.value.trends.outgoing=D(E.trends.outgoing,"Completed Picking","#10B981"),a.value.trends.leadTime=I(E.trends.leadTime,"Avg Minutes","#8B5CF6"),a.value.trends.accuracy=D(E.trends.accuracy,"Accuracy %","#F59E0B")}}catch(C){console.error("Failed to fetch dashboard data",C)}},y=Ke(()=>[...r.value].sort((C,E)=>i.value==="high"?E.total-C.total:C.total-E.total));return Qn(()=>{m()}),(C,E)=>(U(),wt(Kn,{pageTitle:"WMS Dashboard",pageDescription:"Overview of warehouse key metrics"},{default:vt(()=>[s("div",cse,[s("div",dse,[s("div",null,[E[3]||(E[3]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Start Date",-1)),me(s("input",{type:"date","onUpdate:modelValue":E[0]||(E[0]=A=>t.date_start=A),class:"border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"},null,512),[[Oe,t.date_start]])]),s("div",null,[E[4]||(E[4]=s("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"End Date",-1)),me(s("input",{type:"date","onUpdate:modelValue":E[1]||(E[1]=A=>t.date_end=A),class:"border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"},null,512),[[Oe,t.date_end]])]),s("button",{onClick:m,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition"}," Filter ")]),s("div",use,[s("div",xse,[s("div",fse,[s("div",null,[E[5]||(E[5]=s("p",{class:"text-sm font-medium text-gray-500"},"Total Incoming",-1)),s("h3",hse,R(n.value.totalIncoming),1)]),E[6]||(E[6]=s("div",{class:"p-2 bg-blue-50 rounded-lg"},[s("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})])],-1))]),E[7]||(E[7]=s("p",{class:"text-xs text-gray-400 mt-2"},"Receiving Documents",-1))]),s("div",gse,[s("div",pse,[s("div",null,[E[8]||(E[8]=s("p",{class:"text-sm font-medium text-gray-500"},"Total Outgoing",-1)),s("h3",mse,R(n.value.totalOutgoing),1)]),E[9]||(E[9]=s("div",{class:"p-2 bg-green-50 rounded-lg"},[s("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"})])],-1))]),E[10]||(E[10]=s("p",{class:"text-xs text-gray-400 mt-2"},"Completed Picking Tasks",-1))]),s("div",yse,[s("div",bse,[s("div",null,[E[11]||(E[11]=s("p",{class:"text-sm font-medium text-gray-500"},"Picking Lead Time",-1)),s("h3",vse,R(n.value.leadTime),1)]),E[12]||(E[12]=s("div",{class:"p-2 bg-purple-50 rounded-lg"},[s("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))]),E[13]||(E[13]=s("p",{class:"text-xs text-gray-400 mt-2"},"Start Pick - End Pick",-1))]),s("div",Ese,[s("div",wse,[s("div",null,[E[14]||(E[14]=s("p",{class:"text-sm font-medium text-gray-500"},"Stock Accuracy",-1)),s("h3",Cse,R(n.value.stockAccuracy)+"%",1)]),E[15]||(E[15]=s("div",{class:"p-2 bg-yellow-50 rounded-lg"},[s("svg",{class:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))]),E[16]||(E[16]=s("p",{class:"text-xs text-gray-400 mt-2"},"Based on Cycle Counts",-1))]),s("div",Ase,[s("div",Bse,[s("div",null,[E[17]||(E[17]=s("p",{class:"text-sm font-medium text-gray-500"},"SKU On Hand",-1)),s("h3",_se,R(n.value.skuOnHand),1)]),E[18]||(E[18]=s("div",{class:"p-2 bg-indigo-50 rounded-lg"},[s("svg",{class:"w-6 h-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])],-1))]),E[19]||(E[19]=s("p",{class:"text-xs text-gray-400 mt-2"},"Distinct Items with Stock > 0",-1))])]),s("div",kse,[s("div",Dse,[E[20]||(E[20]=s("h4",{class:"text-sm font-semibold text-gray-600 mb-2"},"Incoming Trend (Daily)",-1)),s("div",Sse,[a.value.trends.incoming.labels.length?(U(),wt(Ge(Xl),{key:0,data:a.value.trends.incoming,options:h},null,8,["data"])):(U(),V("div",Fse,"No Data"))])]),s("div",Tse,[E[21]||(E[21]=s("h4",{class:"text-sm font-semibold text-gray-600 mb-2"},"Outgoing Trend (Daily)",-1)),s("div",Mse,[a.value.trends.outgoing.labels.length?(U(),wt(Ge(Xl),{key:0,data:a.value.trends.outgoing,options:h},null,8,["data"])):(U(),V("div",Ise,"No Data"))])]),s("div",Pse,[E[22]||(E[22]=s("h4",{class:"text-sm font-semibold text-gray-600 mb-2"},"Lead Time Trend (Avg Mins)",-1)),s("div",Rse,[a.value.trends.leadTime.labels.length?(U(),wt(Ge(Vu),{key:0,data:a.value.trends.leadTime,options:g},null,8,["data"])):(U(),V("div",Ose,"No Data"))])]),s("div",Nse,[E[23]||(E[23]=s("h4",{class:"text-sm font-semibold text-gray-600 mb-2"},"Stock Accuracy Trend (%)",-1)),s("div",Lse,[a.value.trends.accuracy.labels.length?(U(),wt(Ge(Xl),{key:0,data:a.value.trends.accuracy,options:h},null,8,["data"])):(U(),V("div",$se,"No Data"))])])]),s("div",jse,[s("div",Use,[E[24]||(E[24]=s("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"Incoming by Category",-1)),s("div",Hse,[a.value.incoming.labels.length?(U(),wt(Ge(Vu),{key:0,data:a.value.incoming,options:u},null,8,["data"])):(U(),V("div",zse,"No Data Available"))])]),s("div",Vse,[E[25]||(E[25]=s("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"Current Inventory Breakdown (RM vs PM)",-1)),s("div",qse,[a.value.typeBreakdown.labels.length?(U(),wt(Ge(pO),{key:0,data:a.value.typeBreakdown,options:c},null,8,["data"])):(U(),V("div",Wse,"No Data Available"))])])]),s("div",Gse,[s("div",Qse,[E[27]||(E[27]=s("h3",{class:"text-lg font-semibold text-gray-800"},"Incoming By Category Details",-1)),me(s("select",{"onUpdate:modelValue":E[2]||(E[2]=A=>i.value=A),class:"text-sm border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500"},[...E[26]||(E[26]=[s("option",{value:"high"},"Highest First",-1),s("option",{value:"low"},"Lowest First",-1)])],512),[[lt,i.value]])]),s("div",Kse,[s("table",Yse,[E[29]||(E[29]=s("thead",{class:"bg-gray-50"},[s("tr",null,[s("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Category"),s("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Total Items")])],-1)),s("tbody",Xse,[(U(!0),V(je,null,nt(y.value,(A,k)=>(U(),V("tr",{key:k,class:"hover:bg-gray-50"},[s("td",Zse,R(A.kategori||"Uncategorized"),1),s("td",Jse,R(A.total),1)]))),128)),y.value.length===0?(U(),V("tr",eoe,[...E[28]||(E[28]=[s("td",{colspan:"2",class:"px-6 py-4 text-center text-sm text-gray-500"},"No data found",-1)])])):xe("",!0)])])])])])]),_:1}))}},noe=Object.freeze(Object.defineProperty({__proto__:null,default:toe},Symbol.toStringTag,{value:"Module"}));window.axios=Bt;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";fA({title:e=>`${e} - WMS`,resolve:e=>Object.assign({"./Pages/Auth/Login.vue":MA,"./Pages/Auth/Register.vue":JA,"./Pages/Bintobin.vue":B_,"./Pages/CentralData.vue":k_,"./Pages/CycleCount.vue":YD,"./Pages/Dashboard.vue":HT,"./Pages/ITDashboard.vue":pN,"./Pages/MasterData.vue":wj,"./Pages/PenerimaanBarang.vue":vV,"./Pages/PickingList.vue":FW,"./Pages/PutAwasTO.vue":eK,"./Pages/QualityControl.vue":UY,"./Pages/Reports/index.vue":zY,"./Pages/Reservation.vue":$J,"./Pages/Return.vue":Pte,"./Pages/RiwayatAktivitas.vue":Ere,"./Pages/RolePermission.vue":lse,"./Pages/WmsDashboard.vue":noe})[`./Pages/${e}.vue`],setup({el:e,App:t,props:n,plugin:r}){return Nv({render:()=>cr(t,n)}).use(r).mount(e)},progress:{color:"#4B5563"}})});export default roe();
