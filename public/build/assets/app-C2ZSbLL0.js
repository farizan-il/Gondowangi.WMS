var W8=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var dte=W8((br,Er)=>{function G8(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Uu(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Wt={},pi=[],us=()=>{},Np=()=>!1,za=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Hu=e=>e.startsWith("onUpdate:"),bn=Object.assign,zu=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Q8=Object.prototype.hasOwnProperty,Mt=(e,t)=>Q8.call(e,t),st=Array.isArray,mi=e=>Va(e)==="[object Map]",Pi=e=>Va(e)==="[object Set]",rf=e=>Va(e)==="[object Date]",ut=e=>typeof e=="function",un=e=>typeof e=="string",Gr=e=>typeof e=="symbol",Ut=e=>e!==null&&typeof e=="object",Lp=e=>(Ut(e)||ut(e))&&ut(e.then)&&ut(e.catch),$p=Object.prototype.toString,Va=e=>$p.call(e),K8=e=>Va(e).slice(8,-1),jp=e=>Va(e)==="[object Object]",Vu=e=>un(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,yi=Uu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),A0=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},Y8=/-\w/g,ro=A0(e=>e.replace(Y8,t=>t.slice(1).toUpperCase())),X8=/\B([A-Z])/g,fo=A0(e=>e.replace(X8,"-$1").toLowerCase()),Up=A0(e=>e.charAt(0).toUpperCase()+e.slice(1)),cc=A0(e=>e?`on${Up(e)}`:""),to=(e,t)=>!Object.is(e,t),Nl=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Hp=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},Yl=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Z8=e=>{const t=un(e)?Number(e):NaN;return isNaN(t)?e:t};let sf;const B0=()=>sf||(sf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function qa(e){if(st(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=un(r)?nb(r):qa(r);if(o)for(const a in o)t[a]=o[a]}return t}else if(un(e)||Ut(e))return e}const J8=/;(?![^(]*\))/g,eb=/:([^]+)/,tb=/\/\*[^]*?\*\//g;function nb(e){const t={};return e.replace(tb,"").split(J8).forEach(n=>{if(n){const r=n.split(eb);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Pe(e){let t="";if(un(e))t=e;else if(st(e))for(let n=0;n<e.length;n++){const r=Pe(e[n]);r&&(t+=r+" ")}else if(Ut(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const rb="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",sb=Uu(rb);function zp(e){return!!e||e===""}function ob(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Uo(e[r],t[r]);return n}function Uo(e,t){if(e===t)return!0;let n=rf(e),r=rf(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Gr(e),r=Gr(t),n||r)return e===t;if(n=st(e),r=st(t),n||r)return n&&r?ob(e,t):!1;if(n=Ut(e),r=Ut(t),n||r){if(!n||!r)return!1;const o=Object.keys(e).length,a=Object.keys(t).length;if(o!==a)return!1;for(const c in e){const u=e.hasOwnProperty(c),g=t.hasOwnProperty(c);if(u&&!g||!u&&g||!Uo(e[c],t[c]))return!1}}return String(e)===String(t)}function qu(e,t){return e.findIndex(n=>Uo(n,t))}const Vp=e=>!!(e&&e.__v_isRef===!0),R=e=>un(e)?e:e==null?"":st(e)||Ut(e)&&(e.toString===$p||!ut(e.toString))?Vp(e)?R(e.value):JSON.stringify(e,qp,2):String(e),qp=(e,t)=>Vp(t)?qp(e,t.value):mi(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o],a)=>(n[dc(r,a)+" =>"]=o,n),{})}:Pi(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>dc(n))}:Gr(t)?dc(t):Ut(t)&&!st(t)&&!jp(t)?String(t):t,dc=(e,t="")=>{var n;return Gr(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let rr;class ib{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=rr,!t&&rr&&(this.index=(rr.scopes||(rr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=rr;try{return rr=this,t()}finally{rr=n}}}on(){++this._on===1&&(this.prevScope=rr,rr=this)}off(){this._on>0&&--this._on===0&&(rr=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function ab(){return rr}let Kt;const uc=new WeakSet;class Wp{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,rr&&rr.active&&rr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,uc.has(this)&&(uc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Qp(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,of(this),Kp(this);const t=Kt,n=Wr;Kt=this,Wr=!0;try{return this.fn()}finally{Yp(this),Kt=t,Wr=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Qu(t);this.deps=this.depsTail=void 0,of(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?uc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ou(this)&&this.run()}get dirty(){return ou(this)}}let Gp=0,fa,ha;function Qp(e,t=!1){if(e.flags|=8,t){e.next=ha,ha=e;return}e.next=fa,fa=e}function Wu(){Gp++}function Gu(){if(--Gp>0)return;if(ha){let t=ha;for(ha=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;fa;){let t=fa;for(fa=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function Kp(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Yp(e){let t,n=e.depsTail,r=n;for(;r;){const o=r.prevDep;r.version===-1?(r===n&&(n=o),Qu(r),lb(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=o}e.deps=t,e.depsTail=n}function ou(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Xp(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Xp(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Aa)||(e.globalVersion=Aa,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!ou(e))))return;e.flags|=2;const t=e.dep,n=Kt,r=Wr;Kt=e,Wr=!0;try{Kp(e);const o=e.fn(e._value);(t.version===0||to(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{Kt=n,Wr=r,Yp(e),e.flags&=-3}}function Qu(e,t=!1){const{dep:n,prevSub:r,nextSub:o}=e;if(r&&(r.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let a=n.computed.deps;a;a=a.nextDep)Qu(a,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function lb(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Wr=!0;const Zp=[];function Fs(){Zp.push(Wr),Wr=!1}function Ts(){const e=Zp.pop();Wr=e===void 0?!0:e}function of(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Kt;Kt=void 0;try{t()}finally{Kt=n}}}let Aa=0,cb=class{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class Ku{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Kt||!Wr||Kt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Kt)n=this.activeLink=new cb(Kt,this),Kt.deps?(n.prevDep=Kt.depsTail,Kt.depsTail.nextDep=n,Kt.depsTail=n):Kt.deps=Kt.depsTail=n,Jp(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Kt.depsTail,n.nextDep=void 0,Kt.depsTail.nextDep=n,Kt.depsTail=n,Kt.deps===n&&(Kt.deps=r)}return n}trigger(t){this.version++,Aa++,this.notify(t)}notify(t){Wu();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Gu()}}}function Jp(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)Jp(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const iu=new WeakMap,Ro=Symbol(""),au=Symbol(""),Ba=Symbol("");function Ln(e,t,n){if(Wr&&Kt){let r=iu.get(e);r||iu.set(e,r=new Map);let o=r.get(n);o||(r.set(n,o=new Ku),o.map=r,o.key=n),o.track()}}function As(e,t,n,r,o,a){const c=iu.get(e);if(!c){Aa++;return}const u=g=>{g&&g.trigger()};if(Wu(),t==="clear")c.forEach(u);else{const g=st(e),f=g&&Vu(n);if(g&&n==="length"){const m=Number(r);c.forEach((y,v)=>{(v==="length"||v===Ba||!Gr(v)&&v>=m)&&u(y)})}else switch((n!==void 0||c.has(void 0))&&u(c.get(n)),f&&u(c.get(Ba)),t){case"add":g?f&&u(c.get("length")):(u(c.get(Ro)),mi(e)&&u(c.get(au)));break;case"delete":g||(u(c.get(Ro)),mi(e)&&u(c.get(au)));break;case"set":mi(e)&&u(c.get(Ro));break}}Gu()}function ai(e){const t=wt(e);return t===e?t:(Ln(t,"iterate",Ba),Mr(e)?t:t.map(Tn))}function D0(e){return Ln(e=wt(e),"iterate",Ba),e}const db={__proto__:null,[Symbol.iterator](){return xc(this,Symbol.iterator,Tn)},concat(...e){return ai(this).concat(...e.map(t=>st(t)?ai(t):t))},entries(){return xc(this,"entries",e=>(e[1]=Tn(e[1]),e))},every(e,t){return ps(this,"every",e,t,void 0,arguments)},filter(e,t){return ps(this,"filter",e,t,n=>n.map(Tn),arguments)},find(e,t){return ps(this,"find",e,t,Tn,arguments)},findIndex(e,t){return ps(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return ps(this,"findLast",e,t,Tn,arguments)},findLastIndex(e,t){return ps(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return ps(this,"forEach",e,t,void 0,arguments)},includes(...e){return fc(this,"includes",e)},indexOf(...e){return fc(this,"indexOf",e)},join(e){return ai(this).join(e)},lastIndexOf(...e){return fc(this,"lastIndexOf",e)},map(e,t){return ps(this,"map",e,t,void 0,arguments)},pop(){return Ki(this,"pop")},push(...e){return Ki(this,"push",e)},reduce(e,...t){return af(this,"reduce",e,t)},reduceRight(e,...t){return af(this,"reduceRight",e,t)},shift(){return Ki(this,"shift")},some(e,t){return ps(this,"some",e,t,void 0,arguments)},splice(...e){return Ki(this,"splice",e)},toReversed(){return ai(this).toReversed()},toSorted(e){return ai(this).toSorted(e)},toSpliced(...e){return ai(this).toSpliced(...e)},unshift(...e){return Ki(this,"unshift",e)},values(){return xc(this,"values",Tn)}};function xc(e,t,n){const r=D0(e),o=r[t]();return r!==e&&!Mr(e)&&(o._next=o.next,o.next=()=>{const a=o._next();return a.done||(a.value=n(a.value)),a}),o}const ub=Array.prototype;function ps(e,t,n,r,o,a){const c=D0(e),u=c!==e&&!Mr(e),g=c[t];if(g!==ub[t]){const y=g.apply(e,a);return u?Tn(y):y}let f=n;c!==e&&(u?f=function(y,v){return n.call(this,Tn(y),v,e)}:n.length>2&&(f=function(y,v){return n.call(this,y,v,e)}));const m=g.call(c,f,r);return u&&o?o(m):m}function af(e,t,n,r){const o=D0(e);let a=n;return o!==e&&(Mr(e)?n.length>3&&(a=function(c,u,g){return n.call(this,c,u,g,e)}):a=function(c,u,g){return n.call(this,c,Tn(u),g,e)}),o[t](a,...r)}function fc(e,t,n){const r=wt(e);Ln(r,"iterate",Ba);const o=r[t](...n);return(o===-1||o===!1)&&Wa(n[0])?(n[0]=wt(n[0]),r[t](...n)):o}function Ki(e,t,n=[]){Fs(),Wu();const r=wt(e)[t].apply(e,n);return Gu(),Ts(),r}const xb=Uu("__proto__,__v_isRef,__isVue"),e2=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Gr));function fb(e){Gr(e)||(e=String(e));const t=wt(this);return Ln(t,"has",e),t.hasOwnProperty(e)}class t2{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const o=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return a;if(n==="__v_raw")return r===(o?a?wb:o2:a?s2:r2).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const c=st(t);if(!o){let g;if(c&&(g=db[n]))return g;if(n==="hasOwnProperty")return fb}const u=Reflect.get(t,n,zn(t)?t:r);if((Gr(n)?e2.has(n):xb(n))||(o||Ln(t,"get",n),a))return u;if(zn(u)){const g=c&&Vu(n)?u:u.value;return o&&Ut(g)?cu(g):g}return Ut(u)?o?cu(u):Ri(u):u}}class n2 extends t2{constructor(t=!1){super(!1,t)}set(t,n,r,o){let a=t[n];if(!this._isShallow){const g=so(a);if(!Mr(r)&&!so(r)&&(a=wt(a),r=wt(r)),!st(t)&&zn(a)&&!zn(r))return g||(a.value=r),!0}const c=st(t)&&Vu(n)?Number(n)<t.length:Mt(t,n),u=Reflect.set(t,n,r,zn(t)?t:o);return t===wt(o)&&(c?to(r,a)&&As(t,"set",n,r):As(t,"add",n,r)),u}deleteProperty(t,n){const r=Mt(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&r&&As(t,"delete",n,void 0),o}has(t,n){const r=Reflect.has(t,n);return(!Gr(n)||!e2.has(n))&&Ln(t,"has",n),r}ownKeys(t){return Ln(t,"iterate",st(t)?"length":Ro),Reflect.ownKeys(t)}}class hb extends t2{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const gb=new n2,pb=new hb,mb=new n2(!0),lu=e=>e,dl=e=>Reflect.getPrototypeOf(e);function yb(e,t,n){return function(...r){const o=this.__v_raw,a=wt(o),c=mi(a),u=e==="entries"||e===Symbol.iterator&&c,g=e==="keys"&&c,f=o[e](...r),m=n?lu:t?Xl:Tn;return!t&&Ln(a,"iterate",g?au:Ro),{next(){const{value:y,done:v}=f.next();return v?{value:y,done:v}:{value:u?[m(y[0]),m(y[1])]:m(y),done:v}},[Symbol.iterator](){return this}}}}function ul(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function bb(e,t){const n={get(o){const a=this.__v_raw,c=wt(a),u=wt(o);e||(to(o,u)&&Ln(c,"get",o),Ln(c,"get",u));const{has:g}=dl(c),f=t?lu:e?Xl:Tn;if(g.call(c,o))return f(a.get(o));if(g.call(c,u))return f(a.get(u));a!==c&&a.get(o)},get size(){const o=this.__v_raw;return!e&&Ln(wt(o),"iterate",Ro),o.size},has(o){const a=this.__v_raw,c=wt(a),u=wt(o);return e||(to(o,u)&&Ln(c,"has",o),Ln(c,"has",u)),o===u?a.has(o):a.has(o)||a.has(u)},forEach(o,a){const c=this,u=c.__v_raw,g=wt(u),f=t?lu:e?Xl:Tn;return!e&&Ln(g,"iterate",Ro),u.forEach((m,y)=>o.call(a,f(m),f(y),c))}};return bn(n,e?{add:ul("add"),set:ul("set"),delete:ul("delete"),clear:ul("clear")}:{add(o){!t&&!Mr(o)&&!so(o)&&(o=wt(o));const a=wt(this);return dl(a).has.call(a,o)||(a.add(o),As(a,"add",o,o)),this},set(o,a){!t&&!Mr(a)&&!so(a)&&(a=wt(a));const c=wt(this),{has:u,get:g}=dl(c);let f=u.call(c,o);f||(o=wt(o),f=u.call(c,o));const m=g.call(c,o);return c.set(o,a),f?to(a,m)&&As(c,"set",o,a):As(c,"add",o,a),this},delete(o){const a=wt(this),{has:c,get:u}=dl(a);let g=c.call(a,o);g||(o=wt(o),g=c.call(a,o)),u&&u.call(a,o);const f=a.delete(o);return g&&As(a,"delete",o,void 0),f},clear(){const o=wt(this),a=o.size!==0,c=o.clear();return a&&As(o,"clear",void 0,void 0),c}}),["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=yb(o,e,t)}),n}function Yu(e,t){const n=bb(e,t);return(r,o,a)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(Mt(n,o)&&o in r?n:r,o,a)}const Eb={get:Yu(!1,!1)},vb={get:Yu(!1,!0)},Cb={get:Yu(!0,!1)},r2=new WeakMap,s2=new WeakMap,o2=new WeakMap,wb=new WeakMap;function Ab(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Bb(e){return e.__v_skip||!Object.isExtensible(e)?0:Ab(K8(e))}function Ri(e){return so(e)?e:Xu(e,!1,gb,Eb,r2)}function Db(e){return Xu(e,!1,mb,vb,s2)}function cu(e){return Xu(e,!0,pb,Cb,o2)}function Xu(e,t,n,r,o){if(!Ut(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=Bb(e);if(a===0)return e;const c=o.get(e);if(c)return c;const u=new Proxy(e,a===2?r:n);return o.set(e,u),u}function Oo(e){return so(e)?Oo(e.__v_raw):!!(e&&e.__v_isReactive)}function so(e){return!!(e&&e.__v_isReadonly)}function Mr(e){return!!(e&&e.__v_isShallow)}function Wa(e){return e?!!e.__v_raw:!1}function wt(e){const t=e&&e.__v_raw;return t?wt(t):e}function du(e){return!Mt(e,"__v_skip")&&Object.isExtensible(e)&&Hp(e,"__v_skip",!0),e}const Tn=e=>Ut(e)?Ri(e):e,Xl=e=>Ut(e)?cu(e):e;function zn(e){return e?e.__v_isRef===!0:!1}function Be(e){return i2(e,!1)}function Zu(e){return i2(e,!0)}function i2(e,t){return zn(e)?e:new _b(e,t)}class _b{constructor(t,n){this.dep=new Ku,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:wt(t),this._value=n?t:Tn(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Mr(t)||so(t);t=r?t:wt(t),to(t,n)&&(this._rawValue=t,this._value=r?t:Tn(t),this.dep.trigger())}}function Ge(e){return zn(e)?e.value:e}const kb={get:(e,t,n)=>t==="__v_raw"?e:Ge(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return zn(o)&&!zn(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function a2(e){return Oo(e)?e:new Proxy(e,kb)}class Sb{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Ku(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Aa-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Kt!==this)return Qp(this,!0),!0}get value(){const t=this.dep.track();return Xp(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Fb(e,t,n=!1){let r,o;return ut(e)?r=e:(r=e.get,o=e.set),new Sb(r,o,n)}const xl={},Zl=new WeakMap;let _o;function Tb(e,t=!1,n=_o){if(n){let r=Zl.get(n);r||Zl.set(n,r=[]),r.push(e)}}function Ib(e,t,n=Wt){const{immediate:r,deep:o,once:a,scheduler:c,augmentJob:u,call:g}=n,f=k=>o?k:Mr(k)||o===!1||o===0?Bs(k,1):Bs(k);let m,y,v,C,A=!1,D=!1;if(zn(e)?(y=()=>e.value,A=Mr(e)):Oo(e)?(y=()=>f(e),A=!0):st(e)?(D=!0,A=e.some(k=>Oo(k)||Mr(k)),y=()=>e.map(k=>{if(zn(k))return k.value;if(Oo(k))return f(k);if(ut(k))return g?g(k,2):k()})):ut(e)?t?y=g?()=>g(e,2):e:y=()=>{if(v){Fs();try{v()}finally{Ts()}}const k=_o;_o=m;try{return g?g(e,3,[C]):e(C)}finally{_o=k}}:y=us,t&&o){const k=y,P=o===!0?1/0:o;y=()=>Bs(k(),P)}const _=ab(),T=()=>{m.stop(),_&&_.active&&zu(_.effects,m)};if(a&&t){const k=t;t=(...P)=>{k(...P),T()}}let j=D?new Array(e.length).fill(xl):xl;const F=k=>{if(!(!(m.flags&1)||!m.dirty&&!k))if(t){const P=m.run();if(o||A||(D?P.some(($,O)=>to($,j[O])):to(P,j))){v&&v();const $=_o;_o=m;try{const O=[P,j===xl?void 0:D&&j[0]===xl?[]:j,C];j=P,g?g(t,3,O):t(...O)}finally{_o=$}}}else m.run()};return u&&u(F),m=new Wp(y),m.scheduler=c?()=>c(F,!1):F,C=k=>Tb(k,!1,m),v=m.onStop=()=>{const k=Zl.get(m);if(k){if(g)g(k,4);else for(const P of k)P();Zl.delete(m)}},t?r?F(!0):j=m.run():c?c(F.bind(null,!0),!0):m.run(),T.pause=m.pause.bind(m),T.resume=m.resume.bind(m),T.stop=T,T}function Bs(e,t=1/0,n){if(t<=0||!Ut(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,zn(e))Bs(e.value,t,n);else if(st(e))for(let r=0;r<e.length;r++)Bs(e[r],t,n);else if(Pi(e)||mi(e))e.forEach(r=>{Bs(r,t,n)});else if(jp(e)){for(const r in e)Bs(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Bs(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ga(e,t,n,r){try{return r?e(...r):e()}catch(o){_0(o,t,n)}}function Qr(e,t,n,r){if(ut(e)){const o=Ga(e,t,n,r);return o&&Lp(o)&&o.catch(a=>{_0(a,t,n)}),o}if(st(e)){const o=[];for(let a=0;a<e.length;a++)o.push(Qr(e[a],t,n,r));return o}}function _0(e,t,n,r=!0){const o=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:c}=t&&t.appContext.config||Wt;if(t){let u=t.parent;const g=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;u;){const m=u.ec;if(m){for(let y=0;y<m.length;y++)if(m[y](e,g,f)===!1)return}u=u.parent}if(a){Fs(),Ga(a,null,10,[e,g,f]),Ts();return}}Mb(e,n,o,r,c)}function Mb(e,t,n,r=!0,o=!1){if(o)throw e;console.error(e)}const Wn=[];let as=-1;const bi=[];let Qs=null,fi=0;const l2=Promise.resolve();let Jl=null;function kr(e){const t=Jl||l2;return e?t.then(this?e.bind(this):e):t}function Pb(e){let t=as+1,n=Wn.length;for(;t<n;){const r=t+n>>>1,o=Wn[r],a=Da(o);a<e||a===e&&o.flags&2?t=r+1:n=r}return t}function Ju(e){if(!(e.flags&1)){const t=Da(e),n=Wn[Wn.length-1];!n||!(e.flags&2)&&t>=Da(n)?Wn.push(e):Wn.splice(Pb(t),0,e),e.flags|=1,c2()}}function c2(){Jl||(Jl=l2.then(d2))}function Rb(e){st(e)?bi.push(...e):Qs&&e.id===-1?Qs.splice(fi+1,0,e):e.flags&1||(bi.push(e),e.flags|=1),c2()}function lf(e,t,n=as+1){for(;n<Wn.length;n++){const r=Wn[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Wn.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function e0(e){if(bi.length){const t=[...new Set(bi)].sort((n,r)=>Da(n)-Da(r));if(bi.length=0,Qs){Qs.push(...t);return}for(Qs=t,fi=0;fi<Qs.length;fi++){const n=Qs[fi];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Qs=null,fi=0}}const Da=e=>e.id==null?e.flags&2?-1:1/0:e.id;function d2(e){try{for(as=0;as<Wn.length;as++){const t=Wn[as];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ga(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;as<Wn.length;as++){const t=Wn[as];t&&(t.flags&=-2)}as=-1,Wn.length=0,e0(),Jl=null,(Wn.length||bi.length)&&d2()}}let jn=null,u2=null;function t0(e){const t=jn;return jn=e,u2=e&&e.type.__scopeId||null,t}function yt(e,t=jn,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&s0(-1);const a=t0(t);let c;try{c=e(...o)}finally{t0(a),r._d&&s0(1)}return c};return r._n=!0,r._c=!0,r._d=!0,r}function Ce(e,t){if(jn===null)return e;const n=I0(jn),r=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[a,c,u,g=Wt]=t[o];a&&(ut(a)&&(a={mounted:a,updated:a}),a.deep&&Bs(c),r.push({dir:a,instance:n,value:c,oldValue:void 0,arg:u,modifiers:g}))}return e}function ds(e,t,n,r){const o=e.dirs,a=t&&t.dirs;for(let c=0;c<o.length;c++){const u=o[c];a&&(u.oldValue=a[c].value);let g=u.dir[r];g&&(Fs(),Qr(g,n,8,[e.el,u,e,t]),Ts())}}const Ob=Symbol("_vte"),x2=e=>e.__isTeleport,Cs=Symbol("_leaveCb"),fl=Symbol("_enterCb");function f2(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Kn(()=>{e.isMounted=!0}),F0(()=>{e.isUnmounting=!0}),e}const Br=[Function,Array],h2={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Br,onEnter:Br,onAfterEnter:Br,onEnterCancelled:Br,onBeforeLeave:Br,onLeave:Br,onAfterLeave:Br,onLeaveCancelled:Br,onBeforeAppear:Br,onAppear:Br,onAfterAppear:Br,onAppearCancelled:Br},g2=e=>{const t=e.subTree;return t.component?g2(t.component):t},Nb={name:"BaseTransition",props:h2,setup(e,{slots:t}){const n=ox(),r=f2();return()=>{const o=t.default&&ex(t.default(),!0);if(!o||!o.length)return;const a=p2(o),c=wt(e),{mode:u}=c;if(r.isLeaving)return hc(a);const g=cf(a);if(!g)return hc(a);let f=_a(g,c,r,n,y=>f=y);g.type!==In&&Ho(g,f);let m=n.subTree&&cf(n.subTree);if(m&&m.type!==In&&!Fo(m,g)&&g2(n).type!==In){let y=_a(m,c,r,n);if(Ho(m,y),u==="out-in"&&g.type!==In)return r.isLeaving=!0,y.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete y.afterLeave,m=void 0},hc(a);u==="in-out"&&g.type!==In?y.delayLeave=(v,C,A)=>{const D=m2(r,m);D[String(m.key)]=m,v[Cs]=()=>{C(),v[Cs]=void 0,delete f.delayedLeave,m=void 0},f.delayedLeave=()=>{A(),delete f.delayedLeave,m=void 0}}:m=void 0}else m&&(m=void 0);return a}}};function p2(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==In){t=n;break}}return t}const Lb=Nb;function m2(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function _a(e,t,n,r,o){const{appear:a,mode:c,persisted:u=!1,onBeforeEnter:g,onEnter:f,onAfterEnter:m,onEnterCancelled:y,onBeforeLeave:v,onLeave:C,onAfterLeave:A,onLeaveCancelled:D,onBeforeAppear:_,onAppear:T,onAfterAppear:j,onAppearCancelled:F}=t,k=String(e.key),P=m2(n,e),$=(S,U)=>{S&&Qr(S,r,9,U)},O=(S,U)=>{const G=U[1];$(S,U),st(S)?S.every(z=>z.length<=1)&&G():S.length<=1&&G()},q={mode:c,persisted:u,beforeEnter(S){let U=g;if(!n.isMounted)if(a)U=_||g;else return;S[Cs]&&S[Cs](!0);const G=P[k];G&&Fo(e,G)&&G.el[Cs]&&G.el[Cs](),$(U,[S])},enter(S){let U=f,G=m,z=y;if(!n.isMounted)if(a)U=T||f,G=j||m,z=F||y;else return;let ee=!1;const se=S[fl]=J=>{ee||(ee=!0,J?$(z,[S]):$(G,[S]),q.delayedLeave&&q.delayedLeave(),S[fl]=void 0)};U?O(U,[S,se]):se()},leave(S,U){const G=String(e.key);if(S[fl]&&S[fl](!0),n.isUnmounting)return U();$(v,[S]);let z=!1;const ee=S[Cs]=se=>{z||(z=!0,U(),se?$(D,[S]):$(A,[S]),S[Cs]=void 0,P[G]===e&&delete P[G])};P[G]=e,C?O(C,[S,ee]):ee()},clone(S){const U=_a(S,t,n,r,o);return o&&o(U),U}};return q}function hc(e){if(k0(e))return e=oo(e),e.children=null,e}function cf(e){if(!k0(e))return x2(e.type)&&e.children?p2(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&ut(n.default))return n.default()}}function Ho(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ho(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ex(e,t=!1,n){let r=[],o=0;for(let a=0;a<e.length;a++){let c=e[a];const u=n==null?c.key:String(n)+String(c.key!=null?c.key:a);c.type===He?(c.patchFlag&128&&o++,r=r.concat(ex(c.children,t,u))):(t||c.type!==In)&&r.push(u!=null?oo(c,{key:u}):c)}if(o>1)for(let a=0;a<r.length;a++)r[a].patchFlag=-2;return r}function Nr(e,t){return ut(e)?bn({name:e.name},t,{setup:e}):e}function y2(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const n0=new WeakMap;function Ei(e,t,n,r,o=!1){if(st(e)){e.forEach((A,D)=>Ei(A,t&&(st(t)?t[D]:t),n,r,o));return}if(No(r)&&!o){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Ei(e,t,n,r.component.subTree);return}const a=r.shapeFlag&4?I0(r.component):r.el,c=o?null:a,{i:u,r:g}=e,f=t&&t.r,m=u.refs===Wt?u.refs={}:u.refs,y=u.setupState,v=wt(y),C=y===Wt?Np:A=>Mt(v,A);if(f!=null&&f!==g){if(df(t),un(f))m[f]=null,C(f)&&(y[f]=null);else if(zn(f)){f.value=null;const A=t;A.k&&(m[A.k]=null)}}if(ut(g))Ga(g,u,12,[c,m]);else{const A=un(g),D=zn(g);if(A||D){const _=()=>{if(e.f){const T=A?C(g)?y[g]:m[g]:g.value;if(o)st(T)&&zu(T,a);else if(st(T))T.includes(a)||T.push(a);else if(A)m[g]=[a],C(g)&&(y[g]=m[g]);else{const j=[a];g.value=j,e.k&&(m[e.k]=j)}}else A?(m[g]=c,C(g)&&(y[g]=c)):D&&(g.value=c,e.k&&(m[e.k]=c))};if(c){const T=()=>{_(),n0.delete(e)};T.id=-1,n0.set(e,T),hr(T,n)}else df(e),_()}}}function df(e){const t=n0.get(e);t&&(t.flags|=8,n0.delete(e))}let uf=!1;const li=()=>{uf||(console.error("Hydration completed but contains mismatches."),uf=!0)},$b=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",jb=e=>e.namespaceURI.includes("MathML"),hl=e=>{if(e.nodeType===1){if($b(e))return"svg";if(jb(e))return"mathml"}},gl=e=>e.nodeType===8;function Ub(e){const{mt:t,p:n,o:{patchProp:r,createText:o,nextSibling:a,parentNode:c,remove:u,insert:g,createComment:f}}=e,m=(F,k)=>{if(!k.hasChildNodes()){n(null,F,k),e0(),k._vnode=F;return}y(k.firstChild,F,null,null,null),e0(),k._vnode=F},y=(F,k,P,$,O,q=!1)=>{q=q||!!k.dynamicChildren;const S=gl(F)&&F.data==="[",U=()=>D(F,k,P,$,O,S),{type:G,ref:z,shapeFlag:ee,patchFlag:se}=k;let J=F.nodeType;k.el=F,se===-2&&(q=!1,k.dynamicChildren=null);let be=null;switch(G){case Lo:J!==3?k.children===""?(g(k.el=o(""),c(F),F),be=F):be=U():(F.data!==k.children&&(li(),F.data=k.children),be=a(F));break;case In:j(F)?(be=a(F),T(k.el=F.content.firstChild,F,P)):J!==8||S?be=U():be=a(F);break;case $l:if(S&&(F=a(F),J=F.nodeType),J===1||J===3){be=F;const he=!k.children.length;for(let we=0;we<k.staticCount;we++)he&&(k.children+=be.nodeType===1?be.outerHTML:be.data),we===k.staticCount-1&&(k.anchor=be),be=a(be);return S?a(be):be}else U();break;case He:S?be=A(F,k,P,$,O,q):be=U();break;default:if(ee&1)(J!==1||k.type.toLowerCase()!==F.tagName.toLowerCase())&&!j(F)?be=U():be=v(F,k,P,$,O,q);else if(ee&6){k.slotScopeIds=O;const he=c(F);if(S?be=_(F):gl(F)&&F.data==="teleport start"?be=_(F,F.data,"teleport end"):be=a(F),t(k,he,null,P,$,hl(he),q),No(k)&&!k.type.__asyncResolved){let we;S?(we=_t(He),we.anchor=be?be.previousSibling:he.lastChild):we=F.nodeType===3?Qe(""):_t("div"),we.el=F,k.component.subTree=we}}else ee&64?J!==8?be=U():be=k.type.hydrate(F,k,P,$,O,q,e,C):ee&128&&(be=k.type.hydrate(F,k,P,$,hl(c(F)),O,q,e,y))}return z!=null&&Ei(z,null,$,k),be},v=(F,k,P,$,O,q)=>{q=q||!!k.dynamicChildren;const{type:S,props:U,patchFlag:G,shapeFlag:z,dirs:ee,transition:se}=k,J=S==="input"||S==="option";if(J||G!==-1){ee&&ds(k,null,P,"created");let be=!1;if(j(F)){be=P2(null,se)&&P&&P.vnode.props&&P.vnode.props.appear;const we=F.content.firstChild;if(be){const Oe=we.getAttribute("class");Oe&&(we.$cls=Oe),se.beforeEnter(we)}T(we,F,P),k.el=F=we}if(z&16&&!(U&&(U.innerHTML||U.textContent))){let we=C(F.firstChild,k,F,P,$,O,q);for(;we;){pl(F,1)||li();const Oe=we;we=we.nextSibling,u(Oe)}}else if(z&8){let we=k.children;we[0]===`
`&&(F.tagName==="PRE"||F.tagName==="TEXTAREA")&&(we=we.slice(1)),F.textContent!==we&&(pl(F,0)||li(),F.textContent=k.children)}if(U){if(J||!q||G&48){const we=F.tagName.includes("-");for(const Oe in U)(J&&(Oe.endsWith("value")||Oe==="indeterminate")||za(Oe)&&!yi(Oe)||Oe[0]==="."||we)&&r(F,Oe,null,U[Oe],void 0,P)}else if(U.onClick)r(F,"onClick",null,U.onClick,void 0,P);else if(G&4&&Oo(U.style))for(const we in U.style)U.style[we]}let he;(he=U&&U.onVnodeBeforeMount)&&_r(he,P,k),ee&&ds(k,null,P,"beforeMount"),((he=U&&U.onVnodeMounted)||ee||be)&&U2(()=>{he&&_r(he,P,k),be&&se.enter(F),ee&&ds(k,null,P,"mounted")},$)}return F.nextSibling},C=(F,k,P,$,O,q,S)=>{S=S||!!k.dynamicChildren;const U=k.children,G=U.length;for(let z=0;z<G;z++){const ee=S?U[z]:U[z]=Sr(U[z]),se=ee.type===Lo;F?(se&&!S&&z+1<G&&Sr(U[z+1]).type===Lo&&(g(o(F.data.slice(ee.children.length)),P,a(F)),F.data=ee.children),F=y(F,ee,$,O,q,S)):se&&!ee.children?g(ee.el=o(""),P):(pl(P,1)||li(),n(null,ee,P,null,$,O,hl(P),q))}return F},A=(F,k,P,$,O,q)=>{const{slotScopeIds:S}=k;S&&(O=O?O.concat(S):S);const U=c(F),G=C(a(F),k,U,P,$,O,q);return G&&gl(G)&&G.data==="]"?a(k.anchor=G):(li(),g(k.anchor=f("]"),U,G),G)},D=(F,k,P,$,O,q)=>{if(pl(F.parentElement,1)||li(),k.el=null,q){const G=_(F);for(;;){const z=a(F);if(z&&z!==G)u(z);else break}}const S=a(F),U=c(F);return u(F),n(null,k,U,S,P,$,hl(U),O),P&&(P.vnode.el=k.el,$2(P,k.el)),S},_=(F,k="[",P="]")=>{let $=0;for(;F;)if(F=a(F),F&&gl(F)&&(F.data===k&&$++,F.data===P)){if($===0)return a(F);$--}return F},T=(F,k,P)=>{const $=k.parentNode;$&&$.replaceChild(F,k);let O=P;for(;O;)O.vnode.el===k&&(O.vnode.el=O.subTree.el=F),O=O.parent},j=F=>F.nodeType===1&&F.tagName==="TEMPLATE";return[m,y]}const xf="data-allow-mismatch",Hb={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function pl(e,t){if(t===0||t===1)for(;e&&!e.hasAttribute(xf);)e=e.parentElement;const n=e&&e.getAttribute(xf);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return t===0&&r.includes("children")?!0:r.includes(Hb[t])}}B0().requestIdleCallback;B0().cancelIdleCallback;const No=e=>!!e.type.__asyncLoader,k0=e=>e.type.__isKeepAlive;function zb(e,t){b2(e,"a",t)}function Vb(e,t){b2(e,"da",t)}function b2(e,t,n=Qn){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(S0(t,r,n),n){let o=n.parent;for(;o&&o.parent;)k0(o.parent.vnode)&&qb(r,t,n,o),o=o.parent}}function qb(e,t,n,r){const o=S0(t,e,r,!0);zo(()=>{zu(r[t],o)},n)}function S0(e,t,n=Qn,r=!1){if(n){const o=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...c)=>{Fs();const u=Qa(n),g=Qr(t,n,e,c);return u(),Ts(),g});return r?o.unshift(a):o.push(a),a}}const Ms=e=>(t,n=Qn)=>{(!Fa||e==="sp")&&S0(e,(...r)=>t(...r),n)},Wb=Ms("bm"),Kn=Ms("m"),Gb=Ms("bu"),E2=Ms("u"),F0=Ms("bum"),zo=Ms("um"),Qb=Ms("sp"),Kb=Ms("rtg"),Yb=Ms("rtc");function Xb(e,t=Qn){S0("ec",e,t)}const Zb=Symbol.for("v-ndc");function ot(e,t,n,r){let o;const a=n,c=st(e);if(c||un(e)){const u=c&&Oo(e);let g=!1,f=!1;u&&(g=!Mr(e),f=so(e),e=D0(e)),o=new Array(e.length);for(let m=0,y=e.length;m<y;m++)o[m]=t(g?f?Xl(Tn(e[m])):Tn(e[m]):e[m],m,void 0,a)}else if(typeof e=="number"){o=new Array(e);for(let u=0;u<e;u++)o[u]=t(u+1,u,void 0,a)}else if(Ut(e))if(e[Symbol.iterator])o=Array.from(e,(u,g)=>t(u,g,void 0,a));else{const u=Object.keys(e);o=new Array(u.length);for(let g=0,f=u.length;g<f;g++){const m=u[g];o[g]=t(e[m],m,g,a)}}else o=[];return o}function Jb(e,t,n={},r,o){if(jn.ce||jn.parent&&No(jn.parent)&&jn.parent.ce){const f=Object.keys(n).length>0;return W(),Tt(He,null,[_t("slot",n,r)],f?-2:64)}let a=e[t];a&&a._c&&(a._d=!1),W();const c=a&&v2(a(n)),u=n.key||c&&c.key,g=Tt(He,{key:(u&&!Gr(u)?u:`_${t}`)+(!c&&r?"_fb":"")},c||[],c&&e._===1?64:-2);return g.scopeId&&(g.slotScopeIds=[g.scopeId+"-s"]),a&&a._c&&(a._d=!0),g}function v2(e){return e.some(t=>Sa(t)?!(t.type===In||t.type===He&&!v2(t.children)):!0)?e:null}const uu=e=>e?V2(e)?I0(e):uu(e.parent):null,ga=bn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>uu(e.parent),$root:e=>uu(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>w2(e),$forceUpdate:e=>e.f||(e.f=()=>{Ju(e.update)}),$nextTick:e=>e.n||(e.n=kr.bind(e.proxy)),$watch:e=>v9.bind(e)}),gc=(e,t)=>e!==Wt&&!e.__isScriptSetup&&Mt(e,t),e9={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:o,props:a,accessCache:c,type:u,appContext:g}=e;let f;if(t[0]!=="$"){const C=c[t];if(C!==void 0)switch(C){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return a[t]}else{if(gc(r,t))return c[t]=1,r[t];if(o!==Wt&&Mt(o,t))return c[t]=2,o[t];if((f=e.propsOptions[0])&&Mt(f,t))return c[t]=3,a[t];if(n!==Wt&&Mt(n,t))return c[t]=4,n[t];xu&&(c[t]=0)}}const m=ga[t];let y,v;if(m)return t==="$attrs"&&Ln(e.attrs,"get",""),m(e);if((y=u.__cssModules)&&(y=y[t]))return y;if(n!==Wt&&Mt(n,t))return c[t]=4,n[t];if(v=g.config.globalProperties,Mt(v,t))return v[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:a}=e;return gc(o,t)?(o[t]=n,!0):r!==Wt&&Mt(r,t)?(r[t]=n,!0):Mt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:a,type:c}},u){let g,f;return!!(n[u]||e!==Wt&&u[0]!=="$"&&Mt(e,u)||gc(t,u)||(g=a[0])&&Mt(g,u)||Mt(r,u)||Mt(ga,u)||Mt(o.config.globalProperties,u)||(f=c.__cssModules)&&f[u])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Mt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ff(e){return st(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let xu=!0;function t9(e){const t=w2(e),n=e.proxy,r=e.ctx;xu=!1,t.beforeCreate&&hf(t.beforeCreate,e,"bc");const{data:o,computed:a,methods:c,watch:u,provide:g,inject:f,created:m,beforeMount:y,mounted:v,beforeUpdate:C,updated:A,activated:D,deactivated:_,beforeDestroy:T,beforeUnmount:j,destroyed:F,unmounted:k,render:P,renderTracked:$,renderTriggered:O,errorCaptured:q,serverPrefetch:S,expose:U,inheritAttrs:G,components:z,directives:ee,filters:se}=t;if(f&&n9(f,r,null),c)for(const he in c){const we=c[he];ut(we)&&(r[he]=we.bind(n))}if(o){const he=o.call(n,n);Ut(he)&&(e.data=Ri(he))}if(xu=!0,a)for(const he in a){const we=a[he],Oe=ut(we)?we.bind(n,n):ut(we.get)?we.get.bind(n,n):us,Re=!ut(we)&&ut(we.set)?we.set.bind(n):us,ge=We({get:Oe,set:Re});Object.defineProperty(r,he,{enumerable:!0,configurable:!0,get:()=>ge.value,set:ve=>ge.value=ve})}if(u)for(const he in u)C2(u[he],r,n,he);if(g){const he=ut(g)?g.call(n):g;Reflect.ownKeys(he).forEach(we=>{l9(we,he[we])})}m&&hf(m,e,"c");function be(he,we){st(we)?we.forEach(Oe=>he(Oe.bind(n))):we&&he(we.bind(n))}if(be(Wb,y),be(Kn,v),be(Gb,C),be(E2,A),be(zb,D),be(Vb,_),be(Xb,q),be(Yb,$),be(Kb,O),be(F0,j),be(zo,k),be(Qb,S),st(U))if(U.length){const he=e.exposed||(e.exposed={});U.forEach(we=>{Object.defineProperty(he,we,{get:()=>n[we],set:Oe=>n[we]=Oe,enumerable:!0})})}else e.exposed||(e.exposed={});P&&e.render===us&&(e.render=P),G!=null&&(e.inheritAttrs=G),z&&(e.components=z),ee&&(e.directives=ee),S&&y2(e)}function n9(e,t,n=us){st(e)&&(e=fu(e));for(const r in e){const o=e[r];let a;Ut(o)?"default"in o?a=Ll(o.from||r,o.default,!0):a=Ll(o.from||r):a=Ll(o),zn(a)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:c=>a.value=c}):t[r]=a}}function hf(e,t,n){Qr(st(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function C2(e,t,n,r){let o=r.includes(".")?N2(n,r):()=>n[r];if(un(e)){const a=t[e];ut(a)&&Fr(o,a)}else if(ut(e))Fr(o,e.bind(n));else if(Ut(e))if(st(e))e.forEach(a=>C2(a,t,n,r));else{const a=ut(e.handler)?e.handler.bind(n):t[e.handler];ut(a)&&Fr(o,a,e)}}function w2(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:a,config:{optionMergeStrategies:c}}=e.appContext,u=a.get(t);let g;return u?g=u:!o.length&&!n&&!r?g=t:(g={},o.length&&o.forEach(f=>r0(g,f,c,!0)),r0(g,t,c)),Ut(t)&&a.set(t,g),g}function r0(e,t,n,r=!1){const{mixins:o,extends:a}=t;a&&r0(e,a,n,!0),o&&o.forEach(c=>r0(e,c,n,!0));for(const c in t)if(!(r&&c==="expose")){const u=r9[c]||n&&n[c];e[c]=u?u(e[c],t[c]):t[c]}return e}const r9={data:gf,props:pf,emits:pf,methods:aa,computed:aa,beforeCreate:qn,created:qn,beforeMount:qn,mounted:qn,beforeUpdate:qn,updated:qn,beforeDestroy:qn,beforeUnmount:qn,destroyed:qn,unmounted:qn,activated:qn,deactivated:qn,errorCaptured:qn,serverPrefetch:qn,components:aa,directives:aa,watch:o9,provide:gf,inject:s9};function gf(e,t){return t?e?function(){return bn(ut(e)?e.call(this,this):e,ut(t)?t.call(this,this):t)}:t:e}function s9(e,t){return aa(fu(e),fu(t))}function fu(e){if(st(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function qn(e,t){return e?[...new Set([].concat(e,t))]:t}function aa(e,t){return e?bn(Object.create(null),e,t):t}function pf(e,t){return e?st(e)&&st(t)?[...new Set([...e,...t])]:bn(Object.create(null),ff(e),ff(t??{})):t}function o9(e,t){if(!e)return t;if(!t)return e;const n=bn(Object.create(null),e);for(const r in t)n[r]=qn(e[r],t[r]);return n}function A2(){return{app:null,config:{isNativeTag:Np,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let i9=0;function a9(e,t){return function(r,o=null){ut(r)||(r=bn({},r)),o!=null&&!Ut(o)&&(o=null);const a=A2(),c=new WeakSet,u=[];let g=!1;const f=a.app={_uid:i9++,_component:r,_props:o,_container:null,_context:a,_instance:null,version:W2,get config(){return a.config},set config(m){},use(m,...y){return c.has(m)||(m&&ut(m.install)?(c.add(m),m.install(f,...y)):ut(m)&&(c.add(m),m(f,...y))),f},mixin(m){return a.mixins.includes(m)||a.mixins.push(m),f},component(m,y){return y?(a.components[m]=y,f):a.components[m]},directive(m,y){return y?(a.directives[m]=y,f):a.directives[m]},mount(m,y,v){if(!g){const C=f._ceVNode||_t(r,o);return C.appContext=a,v===!0?v="svg":v===!1&&(v=void 0),y&&t?t(C,m):e(C,m,v),g=!0,f._container=m,m.__vue_app__=f,I0(C.component)}},onUnmount(m){u.push(m)},unmount(){g&&(Qr(u,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(m,y){return a.provides[m]=y,f},runWithContext(m){const y=vi;vi=f;try{return m()}finally{vi=y}}};return f}}let vi=null;function l9(e,t){if(Qn){let n=Qn.provides;const r=Qn.parent&&Qn.parent.provides;r===n&&(n=Qn.provides=Object.create(r)),n[e]=t}}function Ll(e,t,n=!1){const r=ox();if(r||vi){let o=vi?vi._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return n&&ut(t)?t.call(r&&r.proxy):t}}const B2={},D2=()=>Object.create(B2),_2=e=>Object.getPrototypeOf(e)===B2;function c9(e,t,n,r=!1){const o={},a=D2();e.propsDefaults=Object.create(null),k2(e,t,o,a);for(const c in e.propsOptions[0])c in o||(o[c]=void 0);n?e.props=r?o:Db(o):e.type.props?e.props=o:e.props=a,e.attrs=a}function d9(e,t,n,r){const{props:o,attrs:a,vnode:{patchFlag:c}}=e,u=wt(o),[g]=e.propsOptions;let f=!1;if((r||c>0)&&!(c&16)){if(c&8){const m=e.vnode.dynamicProps;for(let y=0;y<m.length;y++){let v=m[y];if(T0(e.emitsOptions,v))continue;const C=t[v];if(g)if(Mt(a,v))C!==a[v]&&(a[v]=C,f=!0);else{const A=ro(v);o[A]=hu(g,u,A,C,e,!1)}else C!==a[v]&&(a[v]=C,f=!0)}}}else{k2(e,t,o,a)&&(f=!0);let m;for(const y in u)(!t||!Mt(t,y)&&((m=fo(y))===y||!Mt(t,m)))&&(g?n&&(n[y]!==void 0||n[m]!==void 0)&&(o[y]=hu(g,u,y,void 0,e,!0)):delete o[y]);if(a!==u)for(const y in a)(!t||!Mt(t,y))&&(delete a[y],f=!0)}f&&As(e.attrs,"set","")}function k2(e,t,n,r){const[o,a]=e.propsOptions;let c=!1,u;if(t)for(let g in t){if(yi(g))continue;const f=t[g];let m;o&&Mt(o,m=ro(g))?!a||!a.includes(m)?n[m]=f:(u||(u={}))[m]=f:T0(e.emitsOptions,g)||(!(g in r)||f!==r[g])&&(r[g]=f,c=!0)}if(a){const g=wt(n),f=u||Wt;for(let m=0;m<a.length;m++){const y=a[m];n[y]=hu(o,g,y,f[y],e,!Mt(f,y))}}return c}function hu(e,t,n,r,o,a){const c=e[n];if(c!=null){const u=Mt(c,"default");if(u&&r===void 0){const g=c.default;if(c.type!==Function&&!c.skipFactory&&ut(g)){const{propsDefaults:f}=o;if(n in f)r=f[n];else{const m=Qa(o);r=f[n]=g.call(null,t),m()}}else r=g;o.ce&&o.ce._setProp(n,r)}c[0]&&(a&&!u?r=!1:c[1]&&(r===""||r===fo(n))&&(r=!0))}return r}const u9=new WeakMap;function S2(e,t,n=!1){const r=n?u9:t.propsCache,o=r.get(e);if(o)return o;const a=e.props,c={},u=[];let g=!1;if(!ut(e)){const m=y=>{g=!0;const[v,C]=S2(y,t,!0);bn(c,v),C&&u.push(...C)};!n&&t.mixins.length&&t.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}if(!a&&!g)return Ut(e)&&r.set(e,pi),pi;if(st(a))for(let m=0;m<a.length;m++){const y=ro(a[m]);mf(y)&&(c[y]=Wt)}else if(a)for(const m in a){const y=ro(m);if(mf(y)){const v=a[m],C=c[y]=st(v)||ut(v)?{type:v}:bn({},v),A=C.type;let D=!1,_=!0;if(st(A))for(let T=0;T<A.length;++T){const j=A[T],F=ut(j)&&j.name;if(F==="Boolean"){D=!0;break}else F==="String"&&(_=!1)}else D=ut(A)&&A.name==="Boolean";C[0]=D,C[1]=_,(D||Mt(C,"default"))&&u.push(y)}}const f=[c,u];return Ut(e)&&r.set(e,f),f}function mf(e){return e[0]!=="$"&&!yi(e)}const tx=e=>e==="_"||e==="_ctx"||e==="$stable",nx=e=>st(e)?e.map(Sr):[Sr(e)],x9=(e,t,n)=>{if(t._n)return t;const r=yt((...o)=>nx(t(...o)),n);return r._c=!1,r},F2=(e,t,n)=>{const r=e._ctx;for(const o in e){if(tx(o))continue;const a=e[o];if(ut(a))t[o]=x9(o,a,r);else if(a!=null){const c=nx(a);t[o]=()=>c}}},T2=(e,t)=>{const n=nx(t);e.slots.default=()=>n},I2=(e,t,n)=>{for(const r in t)(n||!tx(r))&&(e[r]=t[r])},f9=(e,t,n)=>{const r=e.slots=D2();if(e.vnode.shapeFlag&32){const o=t._;o?(I2(r,t,n),n&&Hp(r,"_",o,!0)):F2(t,r)}else t&&T2(e,t)},h9=(e,t,n)=>{const{vnode:r,slots:o}=e;let a=!0,c=Wt;if(r.shapeFlag&32){const u=t._;u?n&&u===1?a=!1:I2(o,t,n):(a=!t.$stable,F2(t,o)),c=t}else t&&(T2(e,t),c={default:1});if(a)for(const u in o)!tx(u)&&c[u]==null&&delete o[u]},hr=U2;function g9(e){return M2(e)}function p9(e){return M2(e,Ub)}function M2(e,t){const n=B0();n.__VUE__=!0;const{insert:r,remove:o,patchProp:a,createElement:c,createText:u,createComment:g,setText:f,setElementText:m,parentNode:y,nextSibling:v,setScopeId:C=us,insertStaticContent:A}=e,D=(X,Y,L,N=null,B=null,M=null,ue=void 0,_e=null,te=!!Y.dynamicChildren)=>{if(X===Y)return;X&&!Fo(X,Y)&&(N=ie(X),ve(X,B,M,!0),X=null),Y.patchFlag===-2&&(te=!1,Y.dynamicChildren=null);const{type:Z,ref:fe,shapeFlag:ce}=Y;switch(Z){case Lo:_(X,Y,L,N);break;case In:T(X,Y,L,N);break;case $l:X==null&&j(Y,L,N,ue);break;case He:z(X,Y,L,N,B,M,ue,_e,te);break;default:ce&1?P(X,Y,L,N,B,M,ue,_e,te):ce&6?ee(X,Y,L,N,B,M,ue,_e,te):(ce&64||ce&128)&&Z.process(X,Y,L,N,B,M,ue,_e,te,Me)}fe!=null&&B?Ei(fe,X&&X.ref,M,Y||X,!Y):fe==null&&X&&X.ref!=null&&Ei(X.ref,null,M,X,!0)},_=(X,Y,L,N)=>{if(X==null)r(Y.el=u(Y.children),L,N);else{const B=Y.el=X.el;Y.children!==X.children&&f(B,Y.children)}},T=(X,Y,L,N)=>{X==null?r(Y.el=g(Y.children||""),L,N):Y.el=X.el},j=(X,Y,L,N)=>{[X.el,X.anchor]=A(X.children,Y,L,N,X.el,X.anchor)},F=({el:X,anchor:Y},L,N)=>{let B;for(;X&&X!==Y;)B=v(X),r(X,L,N),X=B;r(Y,L,N)},k=({el:X,anchor:Y})=>{let L;for(;X&&X!==Y;)L=v(X),o(X),X=L;o(Y)},P=(X,Y,L,N,B,M,ue,_e,te)=>{Y.type==="svg"?ue="svg":Y.type==="math"&&(ue="mathml"),X==null?$(Y,L,N,B,M,ue,_e,te):S(X,Y,B,M,ue,_e,te)},$=(X,Y,L,N,B,M,ue,_e)=>{let te,Z;const{props:fe,shapeFlag:ce,transition:de,dirs:Se}=X;if(te=X.el=c(X.type,M,fe&&fe.is,fe),ce&8?m(te,X.children):ce&16&&q(X.children,te,null,N,B,pc(X,M),ue,_e),Se&&ds(X,null,N,"created"),O(te,X,X.scopeId,ue,N),fe){for(const ct in fe)ct!=="value"&&!yi(ct)&&a(te,ct,null,fe[ct],M,N);"value"in fe&&a(te,"value",null,fe.value,M),(Z=fe.onVnodeBeforeMount)&&_r(Z,N,X)}Se&&ds(X,null,N,"beforeMount");const tt=P2(B,de);tt&&de.beforeEnter(te),r(te,Y,L),((Z=fe&&fe.onVnodeMounted)||tt||Se)&&hr(()=>{Z&&_r(Z,N,X),tt&&de.enter(te),Se&&ds(X,null,N,"mounted")},B)},O=(X,Y,L,N,B)=>{if(L&&C(X,L),N)for(let M=0;M<N.length;M++)C(X,N[M]);if(B){let M=B.subTree;if(Y===M||j2(M.type)&&(M.ssContent===Y||M.ssFallback===Y)){const ue=B.vnode;O(X,ue,ue.scopeId,ue.slotScopeIds,B.parent)}}},q=(X,Y,L,N,B,M,ue,_e,te=0)=>{for(let Z=te;Z<X.length;Z++){const fe=X[Z]=_e?Ks(X[Z]):Sr(X[Z]);D(null,fe,Y,L,N,B,M,ue,_e)}},S=(X,Y,L,N,B,M,ue)=>{const _e=Y.el=X.el;let{patchFlag:te,dynamicChildren:Z,dirs:fe}=Y;te|=X.patchFlag&16;const ce=X.props||Wt,de=Y.props||Wt;let Se;if(L&&Co(L,!1),(Se=de.onVnodeBeforeUpdate)&&_r(Se,L,Y,X),fe&&ds(Y,X,L,"beforeUpdate"),L&&Co(L,!0),(ce.innerHTML&&de.innerHTML==null||ce.textContent&&de.textContent==null)&&m(_e,""),Z?U(X.dynamicChildren,Z,_e,L,N,pc(Y,B),M):ue||we(X,Y,_e,null,L,N,pc(Y,B),M,!1),te>0){if(te&16)G(_e,ce,de,L,B);else if(te&2&&ce.class!==de.class&&a(_e,"class",null,de.class,B),te&4&&a(_e,"style",ce.style,de.style,B),te&8){const tt=Y.dynamicProps;for(let ct=0;ct<tt.length;ct++){const Ye=tt[ct],Ht=ce[Ye],Rt=de[Ye];(Rt!==Ht||Ye==="value")&&a(_e,Ye,Ht,Rt,B,L)}}te&1&&X.children!==Y.children&&m(_e,Y.children)}else!ue&&Z==null&&G(_e,ce,de,L,B);((Se=de.onVnodeUpdated)||fe)&&hr(()=>{Se&&_r(Se,L,Y,X),fe&&ds(Y,X,L,"updated")},N)},U=(X,Y,L,N,B,M,ue)=>{for(let _e=0;_e<Y.length;_e++){const te=X[_e],Z=Y[_e],fe=te.el&&(te.type===He||!Fo(te,Z)||te.shapeFlag&198)?y(te.el):L;D(te,Z,fe,null,N,B,M,ue,!0)}},G=(X,Y,L,N,B)=>{if(Y!==L){if(Y!==Wt)for(const M in Y)!yi(M)&&!(M in L)&&a(X,M,Y[M],null,B,N);for(const M in L){if(yi(M))continue;const ue=L[M],_e=Y[M];ue!==_e&&M!=="value"&&a(X,M,_e,ue,B,N)}"value"in L&&a(X,"value",Y.value,L.value,B)}},z=(X,Y,L,N,B,M,ue,_e,te)=>{const Z=Y.el=X?X.el:u(""),fe=Y.anchor=X?X.anchor:u("");let{patchFlag:ce,dynamicChildren:de,slotScopeIds:Se}=Y;Se&&(_e=_e?_e.concat(Se):Se),X==null?(r(Z,L,N),r(fe,L,N),q(Y.children||[],L,fe,B,M,ue,_e,te)):ce>0&&ce&64&&de&&X.dynamicChildren?(U(X.dynamicChildren,de,L,B,M,ue,_e),(Y.key!=null||B&&Y===B.subTree)&&R2(X,Y,!0)):we(X,Y,L,fe,B,M,ue,_e,te)},ee=(X,Y,L,N,B,M,ue,_e,te)=>{Y.slotScopeIds=_e,X==null?Y.shapeFlag&512?B.ctx.activate(Y,L,N,ue,te):se(Y,L,N,B,M,ue,te):J(X,Y,te)},se=(X,Y,L,N,B,M,ue)=>{const _e=X.component=P9(X,N,B);if(k0(X)&&(_e.ctx.renderer=Me),R9(_e,!1,ue),_e.asyncDep){if(B&&B.registerDep(_e,be,ue),!X.el){const te=_e.subTree=_t(In);T(null,te,Y,L),X.placeholder=te.el}}else be(_e,X,Y,L,B,M,ue)},J=(X,Y,L)=>{const N=Y.component=X.component;if(_9(X,Y,L))if(N.asyncDep&&!N.asyncResolved){he(N,Y,L);return}else N.next=Y,N.update();else Y.el=X.el,N.vnode=Y},be=(X,Y,L,N,B,M,ue)=>{const _e=()=>{if(X.isMounted){let{next:ce,bu:de,u:Se,parent:tt,vnode:ct}=X;{const Et=O2(X);if(Et){ce&&(ce.el=ct.el,he(X,ce,ue)),Et.asyncDep.then(()=>{X.isUnmounted||_e()});return}}let Ye=ce,Ht;Co(X,!1),ce?(ce.el=ct.el,he(X,ce,ue)):ce=ct,de&&Nl(de),(Ht=ce.props&&ce.props.onVnodeBeforeUpdate)&&_r(Ht,tt,ce,ct),Co(X,!0);const Rt=mc(X),Vn=X.subTree;X.subTree=Rt,D(Vn,Rt,y(Vn.el),ie(Vn),X,B,M),ce.el=Rt.el,Ye===null&&$2(X,Rt.el),Se&&hr(Se,B),(Ht=ce.props&&ce.props.onVnodeUpdated)&&hr(()=>_r(Ht,tt,ce,ct),B)}else{let ce;const{el:de,props:Se}=Y,{bm:tt,m:ct,parent:Ye,root:Ht,type:Rt}=X,Vn=No(Y);if(Co(X,!1),tt&&Nl(tt),!Vn&&(ce=Se&&Se.onVnodeBeforeMount)&&_r(ce,Ye,Y),Co(X,!0),de&&et){const Et=()=>{X.subTree=mc(X),et(de,X.subTree,X,B,null)};Vn&&Rt.__asyncHydrate?Rt.__asyncHydrate(de,X,Et):Et()}else{Ht.ce&&Ht.ce._def.shadowRoot!==!1&&Ht.ce._injectChildStyle(Rt);const Et=X.subTree=mc(X);D(null,Et,L,N,X,B,M),Y.el=Et.el}if(ct&&hr(ct,B),!Vn&&(ce=Se&&Se.onVnodeMounted)){const Et=Y;hr(()=>_r(ce,Ye,Et),B)}(Y.shapeFlag&256||Ye&&No(Ye.vnode)&&Ye.vnode.shapeFlag&256)&&X.a&&hr(X.a,B),X.isMounted=!0,Y=L=N=null}};X.scope.on();const te=X.effect=new Wp(_e);X.scope.off();const Z=X.update=te.run.bind(te),fe=X.job=te.runIfDirty.bind(te);fe.i=X,fe.id=X.uid,te.scheduler=()=>Ju(fe),Co(X,!0),Z()},he=(X,Y,L)=>{Y.component=X;const N=X.vnode.props;X.vnode=Y,X.next=null,d9(X,Y.props,N,L),h9(X,Y.children,L),Fs(),lf(X),Ts()},we=(X,Y,L,N,B,M,ue,_e,te=!1)=>{const Z=X&&X.children,fe=X?X.shapeFlag:0,ce=Y.children,{patchFlag:de,shapeFlag:Se}=Y;if(de>0){if(de&128){Re(Z,ce,L,N,B,M,ue,_e,te);return}else if(de&256){Oe(Z,ce,L,N,B,M,ue,_e,te);return}}Se&8?(fe&16&&le(Z,B,M),ce!==Z&&m(L,ce)):fe&16?Se&16?Re(Z,ce,L,N,B,M,ue,_e,te):le(Z,B,M,!0):(fe&8&&m(L,""),Se&16&&q(ce,L,N,B,M,ue,_e,te))},Oe=(X,Y,L,N,B,M,ue,_e,te)=>{X=X||pi,Y=Y||pi;const Z=X.length,fe=Y.length,ce=Math.min(Z,fe);let de;for(de=0;de<ce;de++){const Se=Y[de]=te?Ks(Y[de]):Sr(Y[de]);D(X[de],Se,L,null,B,M,ue,_e,te)}Z>fe?le(X,B,M,!0,!1,ce):q(Y,L,N,B,M,ue,_e,te,ce)},Re=(X,Y,L,N,B,M,ue,_e,te)=>{let Z=0;const fe=Y.length;let ce=X.length-1,de=fe-1;for(;Z<=ce&&Z<=de;){const Se=X[Z],tt=Y[Z]=te?Ks(Y[Z]):Sr(Y[Z]);if(Fo(Se,tt))D(Se,tt,L,null,B,M,ue,_e,te);else break;Z++}for(;Z<=ce&&Z<=de;){const Se=X[ce],tt=Y[de]=te?Ks(Y[de]):Sr(Y[de]);if(Fo(Se,tt))D(Se,tt,L,null,B,M,ue,_e,te);else break;ce--,de--}if(Z>ce){if(Z<=de){const Se=de+1,tt=Se<fe?Y[Se].el:N;for(;Z<=de;)D(null,Y[Z]=te?Ks(Y[Z]):Sr(Y[Z]),L,tt,B,M,ue,_e,te),Z++}}else if(Z>de)for(;Z<=ce;)ve(X[Z],B,M,!0),Z++;else{const Se=Z,tt=Z,ct=new Map;for(Z=tt;Z<=de;Z++){const Ee=Y[Z]=te?Ks(Y[Z]):Sr(Y[Z]);Ee.key!=null&&ct.set(Ee.key,Z)}let Ye,Ht=0;const Rt=de-tt+1;let Vn=!1,Et=0;const Ve=new Array(Rt);for(Z=0;Z<Rt;Z++)Ve[Z]=0;for(Z=Se;Z<=ce;Z++){const Ee=X[Z];if(Ht>=Rt){ve(Ee,B,M,!0);continue}let Ae;if(Ee.key!=null)Ae=ct.get(Ee.key);else for(Ye=tt;Ye<=de;Ye++)if(Ve[Ye-tt]===0&&Fo(Ee,Y[Ye])){Ae=Ye;break}Ae===void 0?ve(Ee,B,M,!0):(Ve[Ae-tt]=Z+1,Ae>=Et?Et=Ae:Vn=!0,D(Ee,Y[Ae],L,null,B,M,ue,_e,te),Ht++)}const zt=Vn?m9(Ve):pi;for(Ye=zt.length-1,Z=Rt-1;Z>=0;Z--){const Ee=tt+Z,Ae=Y[Ee],ht=Y[Ee+1],At=Ee+1<fe?ht.el||ht.placeholder:N;Ve[Z]===0?D(null,Ae,L,At,B,M,ue,_e,te):Vn&&(Ye<0||Z!==zt[Ye]?ge(Ae,L,At,2):Ye--)}}},ge=(X,Y,L,N,B=null)=>{const{el:M,type:ue,transition:_e,children:te,shapeFlag:Z}=X;if(Z&6){ge(X.component.subTree,Y,L,N);return}if(Z&128){X.suspense.move(Y,L,N);return}if(Z&64){ue.move(X,Y,L,Me);return}if(ue===He){r(M,Y,L);for(let ce=0;ce<te.length;ce++)ge(te[ce],Y,L,N);r(X.anchor,Y,L);return}if(ue===$l){F(X,Y,L);return}if(N!==2&&Z&1&&_e)if(N===0)_e.beforeEnter(M),r(M,Y,L),hr(()=>_e.enter(M),B);else{const{leave:ce,delayLeave:de,afterLeave:Se}=_e,tt=()=>{X.ctx.isUnmounted?o(M):r(M,Y,L)},ct=()=>{M._isLeaving&&M[Cs](!0),ce(M,()=>{tt(),Se&&Se()})};de?de(M,tt,ct):ct()}else r(M,Y,L)},ve=(X,Y,L,N=!1,B=!1)=>{const{type:M,props:ue,ref:_e,children:te,dynamicChildren:Z,shapeFlag:fe,patchFlag:ce,dirs:de,cacheIndex:Se}=X;if(ce===-2&&(B=!1),_e!=null&&(Fs(),Ei(_e,null,L,X,!0),Ts()),Se!=null&&(Y.renderCache[Se]=void 0),fe&256){Y.ctx.deactivate(X);return}const tt=fe&1&&de,ct=!No(X);let Ye;if(ct&&(Ye=ue&&ue.onVnodeBeforeUnmount)&&_r(Ye,Y,X),fe&6)Ke(X.component,L,N);else{if(fe&128){X.suspense.unmount(L,N);return}tt&&ds(X,null,Y,"beforeUnmount"),fe&64?X.type.remove(X,Y,L,Me,N):Z&&!Z.hasOnce&&(M!==He||ce>0&&ce&64)?le(Z,Y,L,!1,!0):(M===He&&ce&384||!B&&fe&16)&&le(te,Y,L),N&&re(X)}(ct&&(Ye=ue&&ue.onVnodeUnmounted)||tt)&&hr(()=>{Ye&&_r(Ye,Y,X),tt&&ds(X,null,Y,"unmounted")},L)},re=X=>{const{type:Y,el:L,anchor:N,transition:B}=X;if(Y===He){ye(L,N);return}if(Y===$l){k(X);return}const M=()=>{o(L),B&&!B.persisted&&B.afterLeave&&B.afterLeave()};if(X.shapeFlag&1&&B&&!B.persisted){const{leave:ue,delayLeave:_e}=B,te=()=>ue(L,M);_e?_e(X.el,M,te):te()}else M()},ye=(X,Y)=>{let L;for(;X!==Y;)L=v(X),o(X),X=L;o(Y)},Ke=(X,Y,L)=>{const{bum:N,scope:B,job:M,subTree:ue,um:_e,m:te,a:Z}=X;yf(te),yf(Z),N&&Nl(N),B.stop(),M&&(M.flags|=8,ve(ue,X,Y,L)),_e&&hr(_e,Y),hr(()=>{X.isUnmounted=!0},Y)},le=(X,Y,L,N=!1,B=!1,M=0)=>{for(let ue=M;ue<X.length;ue++)ve(X[ue],Y,L,N,B)},ie=X=>{if(X.shapeFlag&6)return ie(X.component.subTree);if(X.shapeFlag&128)return X.suspense.next();const Y=v(X.anchor||X.el),L=Y&&Y[Ob];return L?v(L):Y};let ae=!1;const Ne=(X,Y,L)=>{X==null?Y._vnode&&ve(Y._vnode,null,null,!0):D(Y._vnode||null,X,Y,null,null,null,L),Y._vnode=X,ae||(ae=!0,lf(),e0(),ae=!1)},Me={p:D,um:ve,m:ge,r:re,mt:se,mc:q,pc:we,pbc:U,n:ie,o:e};let ze,et;return t&&([ze,et]=t(Me)),{render:Ne,hydrate:ze,createApp:a9(Ne,ze)}}function pc({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Co({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function P2(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function R2(e,t,n=!1){const r=e.children,o=t.children;if(st(r)&&st(o))for(let a=0;a<r.length;a++){const c=r[a];let u=o[a];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=o[a]=Ks(o[a]),u.el=c.el),!n&&u.patchFlag!==-2&&R2(c,u)),u.type===Lo&&u.patchFlag!==-1&&(u.el=c.el),u.type===In&&!u.el&&(u.el=c.el)}}function m9(e){const t=e.slice(),n=[0];let r,o,a,c,u;const g=e.length;for(r=0;r<g;r++){const f=e[r];if(f!==0){if(o=n[n.length-1],e[o]<f){t[r]=o,n.push(r);continue}for(a=0,c=n.length-1;a<c;)u=a+c>>1,e[n[u]]<f?a=u+1:c=u;f<e[n[a]]&&(a>0&&(t[r]=n[a-1]),n[a]=r)}}for(a=n.length,c=n[a-1];a-- >0;)n[a]=c,c=t[c];return n}function O2(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:O2(t)}function yf(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const y9=Symbol.for("v-scx"),b9=()=>Ll(y9);function E9(e,t){return rx(e,null,t)}function Fr(e,t,n){return rx(e,t,n)}function rx(e,t,n=Wt){const{immediate:r,deep:o,flush:a,once:c}=n,u=bn({},n),g=t&&r||!t&&a!=="post";let f;if(Fa){if(a==="sync"){const C=b9();f=C.__watcherHandles||(C.__watcherHandles=[])}else if(!g){const C=()=>{};return C.stop=us,C.resume=us,C.pause=us,C}}const m=Qn;u.call=(C,A,D)=>Qr(C,m,A,D);let y=!1;a==="post"?u.scheduler=C=>{hr(C,m&&m.suspense)}:a!=="sync"&&(y=!0,u.scheduler=(C,A)=>{A?C():Ju(C)}),u.augmentJob=C=>{t&&(C.flags|=4),y&&(C.flags|=2,m&&(C.id=m.uid,C.i=m))};const v=Ib(e,t,u);return Fa&&(f?f.push(v):g&&v()),v}function v9(e,t,n){const r=this.proxy,o=un(e)?e.includes(".")?N2(r,e):()=>r[e]:e.bind(r,r);let a;ut(t)?a=t:(a=t.handler,n=t);const c=Qa(this),u=rx(o,a.bind(r),n);return c(),u}function N2(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}const C9=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ro(t)}Modifiers`]||e[`${fo(t)}Modifiers`];function w9(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Wt;let o=n;const a=t.startsWith("update:"),c=a&&C9(r,t.slice(7));c&&(c.trim&&(o=n.map(m=>un(m)?m.trim():m)),c.number&&(o=n.map(Yl)));let u,g=r[u=cc(t)]||r[u=cc(ro(t))];!g&&a&&(g=r[u=cc(fo(t))]),g&&Qr(g,e,6,o);const f=r[u+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,Qr(f,e,6,o)}}const A9=new WeakMap;function L2(e,t,n=!1){const r=n?A9:t.emitsCache,o=r.get(e);if(o!==void 0)return o;const a=e.emits;let c={},u=!1;if(!ut(e)){const g=f=>{const m=L2(f,t,!0);m&&(u=!0,bn(c,m))};!n&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}return!a&&!u?(Ut(e)&&r.set(e,null),null):(st(a)?a.forEach(g=>c[g]=null):bn(c,a),Ut(e)&&r.set(e,c),c)}function T0(e,t){return!e||!za(t)?!1:(t=t.slice(2).replace(/Once$/,""),Mt(e,t[0].toLowerCase()+t.slice(1))||Mt(e,fo(t))||Mt(e,t))}function mc(e){const{type:t,vnode:n,proxy:r,withProxy:o,propsOptions:[a],slots:c,attrs:u,emit:g,render:f,renderCache:m,props:y,data:v,setupState:C,ctx:A,inheritAttrs:D}=e,_=t0(e);let T,j;try{if(n.shapeFlag&4){const k=o||r,P=k;T=Sr(f.call(P,k,m,y,C,v,A)),j=u}else{const k=t;T=Sr(k.length>1?k(y,{attrs:u,slots:c,emit:g}):k(y,null)),j=t.props?u:B9(u)}}catch(k){pa.length=0,_0(k,e,1),T=_t(In)}let F=T;if(j&&D!==!1){const k=Object.keys(j),{shapeFlag:P}=F;k.length&&P&7&&(a&&k.some(Hu)&&(j=D9(j,a)),F=oo(F,j,!1,!0))}return n.dirs&&(F=oo(F,null,!1,!0),F.dirs=F.dirs?F.dirs.concat(n.dirs):n.dirs),n.transition&&Ho(F,n.transition),T=F,t0(_),T}const B9=e=>{let t;for(const n in e)(n==="class"||n==="style"||za(n))&&((t||(t={}))[n]=e[n]);return t},D9=(e,t)=>{const n={};for(const r in e)(!Hu(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function _9(e,t,n){const{props:r,children:o,component:a}=e,{props:c,children:u,patchFlag:g}=t,f=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&g>=0){if(g&1024)return!0;if(g&16)return r?bf(r,c,f):!!c;if(g&8){const m=t.dynamicProps;for(let y=0;y<m.length;y++){const v=m[y];if(c[v]!==r[v]&&!T0(f,v))return!0}}}else return(o||u)&&(!u||!u.$stable)?!0:r===c?!1:r?c?bf(r,c,f):!0:!!c;return!1}function bf(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const a=r[o];if(t[a]!==e[a]&&!T0(n,a))return!0}return!1}function $2({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const j2=e=>e.__isSuspense;function U2(e,t){t&&t.pendingBranch?st(e)?t.effects.push(...e):t.effects.push(e):Rb(e)}const He=Symbol.for("v-fgt"),Lo=Symbol.for("v-txt"),In=Symbol.for("v-cmt"),$l=Symbol.for("v-stc"),pa=[];let yr=null;function W(e=!1){pa.push(yr=e?null:[])}function k9(){pa.pop(),yr=pa[pa.length-1]||null}let ka=1;function s0(e,t=!1){ka+=e,e<0&&yr&&t&&(yr.hasOnce=!0)}function H2(e){return e.dynamicChildren=ka>0?yr||pi:null,k9(),ka>0&&yr&&yr.push(e),e}function Q(e,t,n,r,o,a){return H2(i(e,t,n,r,o,a,!0))}function Tt(e,t,n,r,o){return H2(_t(e,t,n,r,o,!0))}function Sa(e){return e?e.__v_isVNode===!0:!1}function Fo(e,t){return e.type===t.type&&e.key===t.key}const z2=({key:e})=>e??null,jl=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?un(e)||zn(e)||ut(e)?{i:jn,r:e,k:t,f:!!n}:e:null);function i(e,t=null,n=null,r=0,o=null,a=e===He?0:1,c=!1,u=!1){const g={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&z2(t),ref:t&&jl(t),scopeId:u2,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:jn};return u?(sx(g,n),a&128&&e.normalize(g)):n&&(g.shapeFlag|=un(n)?8:16),ka>0&&!c&&yr&&(g.patchFlag>0||a&6)&&g.patchFlag!==32&&yr.push(g),g}const _t=S9;function S9(e,t=null,n=null,r=0,o=null,a=!1){if((!e||e===Zb)&&(e=In),Sa(e)){const u=oo(e,t,!0);return n&&sx(u,n),ka>0&&!a&&yr&&(u.shapeFlag&6?yr[yr.indexOf(e)]=u:yr.push(u)),u.patchFlag=-2,u}if($9(e)&&(e=e.__vccOpts),t){t=F9(t);let{class:u,style:g}=t;u&&!un(u)&&(t.class=Pe(u)),Ut(g)&&(Wa(g)&&!st(g)&&(g=bn({},g)),t.style=qa(g))}const c=un(e)?1:j2(e)?128:x2(e)?64:Ut(e)?4:ut(e)?2:0;return i(e,t,n,r,o,c,a,!0)}function F9(e){return e?Wa(e)||_2(e)?bn({},e):e:null}function oo(e,t,n=!1,r=!1){const{props:o,ref:a,patchFlag:c,children:u,transition:g}=e,f=t?T9(o||{},t):o,m={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&z2(f),ref:t&&t.ref?n&&a?st(a)?a.concat(jl(t)):[a,jl(t)]:jl(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==He?c===-1?16:c|16:c,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:g,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&oo(e.ssContent),ssFallback:e.ssFallback&&oo(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return g&&r&&Ho(m,g.clone(m)),m}function Qe(e=" ",t=0){return _t(Lo,null,e,t)}function me(e="",t=!1){return t?(W(),Tt(In,null,e)):_t(In,null,e)}function Sr(e){return e==null||typeof e=="boolean"?_t(In):st(e)?_t(He,null,e.slice()):Sa(e)?Ks(e):_t(Lo,null,String(e))}function Ks(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:oo(e)}function sx(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(st(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),sx(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!_2(t)?t._ctx=jn:o===3&&jn&&(jn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ut(t)?(t={default:t,_ctx:jn},n=32):(t=String(t),r&64?(n=16,t=[Qe(t)]):n=8);e.children=t,e.shapeFlag|=n}function T9(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=Pe([t.class,r.class]));else if(o==="style")t.style=qa([t.style,r.style]);else if(za(o)){const a=t[o],c=r[o];c&&a!==c&&!(st(a)&&a.includes(c))&&(t[o]=a?[].concat(a,c):c)}else o!==""&&(t[o]=r[o])}return t}function _r(e,t,n,r=null){Qr(e,t,7,[n,r])}const I9=A2();let M9=0;function P9(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||I9,a={uid:M9++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ib(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:S2(r,o),emitsOptions:L2(r,o),emit:null,emitted:null,propsDefaults:Wt,inheritAttrs:r.inheritAttrs,ctx:Wt,data:Wt,props:Wt,attrs:Wt,slots:Wt,refs:Wt,setupState:Wt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=w9.bind(null,a),e.ce&&e.ce(a),a}let Qn=null;const ox=()=>Qn||jn;let o0,gu;{const e=B0(),t=(n,r)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(r),a=>{o.length>1?o.forEach(c=>c(a)):o[0](a)}};o0=t("__VUE_INSTANCE_SETTERS__",n=>Qn=n),gu=t("__VUE_SSR_SETTERS__",n=>Fa=n)}const Qa=e=>{const t=Qn;return o0(e),e.scope.on(),()=>{e.scope.off(),o0(t)}},Ef=()=>{Qn&&Qn.scope.off(),o0(null)};function V2(e){return e.vnode.shapeFlag&4}let Fa=!1;function R9(e,t=!1,n=!1){t&&gu(t);const{props:r,children:o}=e.vnode,a=V2(e);c9(e,r,a,t),f9(e,o,n||t);const c=a?O9(e,t):void 0;return t&&gu(!1),c}function O9(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,e9);const{setup:r}=n;if(r){Fs();const o=e.setupContext=r.length>1?L9(e):null,a=Qa(e),c=Ga(r,e,0,[e.props,o]),u=Lp(c);if(Ts(),a(),(u||e.sp)&&!No(e)&&y2(e),u){if(c.then(Ef,Ef),t)return c.then(g=>{vf(e,g)}).catch(g=>{_0(g,e,0)});e.asyncDep=c}else vf(e,c)}else q2(e)}function vf(e,t,n){ut(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ut(t)&&(e.setupState=a2(t)),q2(e)}function q2(e,t,n){const r=e.type;e.render||(e.render=r.render||us);{const o=Qa(e);Fs();try{t9(e)}finally{Ts(),o()}}}const N9={get(e,t){return Ln(e,"get",""),e[t]}};function L9(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,N9),slots:e.slots,emit:e.emit,expose:t}}function I0(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(a2(du(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ga)return ga[n](e)},has(t,n){return n in t||n in ga}})):e.proxy}function $9(e){return ut(e)&&"__vccOpts"in e}const We=(e,t)=>Fb(e,t,Fa);function ir(e,t,n){try{s0(-1);const r=arguments.length;return r===2?Ut(t)&&!st(t)?Sa(t)?_t(e,null,[t]):_t(e,t):_t(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Sa(n)&&(n=[n]),_t(e,t,n))}finally{s0(1)}}const W2="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let pu;const Cf=typeof window<"u"&&window.trustedTypes;if(Cf)try{pu=Cf.createPolicy("vue",{createHTML:e=>e})}catch{}const G2=pu?e=>pu.createHTML(e):e=>e,j9="http://www.w3.org/2000/svg",U9="http://www.w3.org/1998/Math/MathML",vs=typeof document<"u"?document:null,wf=vs&&vs.createElement("template"),H9={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t==="svg"?vs.createElementNS(j9,e):t==="mathml"?vs.createElementNS(U9,e):n?vs.createElement(e,{is:n}):vs.createElement(e);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>vs.createTextNode(e),createComment:e=>vs.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>vs.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,a){const c=n?n.previousSibling:t.lastChild;if(o&&(o===a||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===a||!(o=o.nextSibling)););else{wf.innerHTML=G2(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const u=wf.content;if(r==="svg"||r==="mathml"){const g=u.firstChild;for(;g.firstChild;)u.appendChild(g.firstChild);u.removeChild(g)}t.insertBefore(u,n)}return[c?c.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Vs="transition",Yi="animation",Bi=Symbol("_vtc"),Q2={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},K2=bn({},h2,Q2),z9=e=>(e.displayName="Transition",e.props=K2,e),ml=z9((e,{slots:t})=>ir(Lb,Y2(e),t)),wo=(e,t=[])=>{st(e)?e.forEach(n=>n(...t)):e&&e(...t)},Af=e=>e?st(e)?e.some(t=>t.length>1):e.length>1:!1;function Y2(e){const t={};for(const z in e)z in Q2||(t[z]=e[z]);if(e.css===!1)return t;const{name:n="v",type:r,duration:o,enterFromClass:a=`${n}-enter-from`,enterActiveClass:c=`${n}-enter-active`,enterToClass:u=`${n}-enter-to`,appearFromClass:g=a,appearActiveClass:f=c,appearToClass:m=u,leaveFromClass:y=`${n}-leave-from`,leaveActiveClass:v=`${n}-leave-active`,leaveToClass:C=`${n}-leave-to`}=e,A=V9(o),D=A&&A[0],_=A&&A[1],{onBeforeEnter:T,onEnter:j,onEnterCancelled:F,onLeave:k,onLeaveCancelled:P,onBeforeAppear:$=T,onAppear:O=j,onAppearCancelled:q=F}=t,S=(z,ee,se,J)=>{z._enterCancelled=J,Gs(z,ee?m:u),Gs(z,ee?f:c),se&&se()},U=(z,ee)=>{z._isLeaving=!1,Gs(z,y),Gs(z,C),Gs(z,v),ee&&ee()},G=z=>(ee,se)=>{const J=z?O:j,be=()=>S(ee,z,se);wo(J,[ee,be]),Bf(()=>{Gs(ee,z?g:a),os(ee,z?m:u),Af(J)||Df(ee,r,D,be)})};return bn(t,{onBeforeEnter(z){wo(T,[z]),os(z,a),os(z,c)},onBeforeAppear(z){wo($,[z]),os(z,g),os(z,f)},onEnter:G(!1),onAppear:G(!0),onLeave(z,ee){z._isLeaving=!0;const se=()=>U(z,ee);os(z,y),z._enterCancelled?(os(z,v),mu(z)):(mu(z),os(z,v)),Bf(()=>{z._isLeaving&&(Gs(z,y),os(z,C),Af(k)||Df(z,r,_,se))}),wo(k,[z,se])},onEnterCancelled(z){S(z,!1,void 0,!0),wo(F,[z])},onAppearCancelled(z){S(z,!0,void 0,!0),wo(q,[z])},onLeaveCancelled(z){U(z),wo(P,[z])}})}function V9(e){if(e==null)return null;if(Ut(e))return[yc(e.enter),yc(e.leave)];{const t=yc(e);return[t,t]}}function yc(e){return Z8(e)}function os(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Bi]||(e[Bi]=new Set)).add(t)}function Gs(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Bi];n&&(n.delete(t),n.size||(e[Bi]=void 0))}function Bf(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let q9=0;function Df(e,t,n,r){const o=e._endId=++q9,a=()=>{o===e._endId&&r()};if(n!=null)return setTimeout(a,n);const{type:c,timeout:u,propCount:g}=X2(e,t);if(!c)return r();const f=c+"end";let m=0;const y=()=>{e.removeEventListener(f,v),a()},v=C=>{C.target===e&&++m>=g&&y()};setTimeout(()=>{m<g&&y()},u+1),e.addEventListener(f,v)}function X2(e,t){const n=window.getComputedStyle(e),r=A=>(n[A]||"").split(", "),o=r(`${Vs}Delay`),a=r(`${Vs}Duration`),c=_f(o,a),u=r(`${Yi}Delay`),g=r(`${Yi}Duration`),f=_f(u,g);let m=null,y=0,v=0;t===Vs?c>0&&(m=Vs,y=c,v=a.length):t===Yi?f>0&&(m=Yi,y=f,v=g.length):(y=Math.max(c,f),m=y>0?c>f?Vs:Yi:null,v=m?m===Vs?a.length:g.length:0);const C=m===Vs&&/\b(?:transform|all)(?:,|$)/.test(r(`${Vs}Property`).toString());return{type:m,timeout:y,propCount:v,hasTransform:C}}function _f(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>kf(n)+kf(e[r])))}function kf(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function mu(e){return(e?e.ownerDocument:document).body.offsetHeight}function W9(e,t,n){const r=e[Bi];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const i0=Symbol("_vod"),Z2=Symbol("_vsh"),rn={name:"show",beforeMount(e,{value:t},{transition:n}){e[i0]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Xi(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Xi(e,!0),r.enter(e)):r.leave(e,()=>{Xi(e,!1)}):Xi(e,t))},beforeUnmount(e,{value:t}){Xi(e,t)}};function Xi(e,t){e.style.display=t?e[i0]:"none",e[Z2]=!t}const G9=Symbol(""),Q9=/(?:^|;)\s*display\s*:/;function K9(e,t,n){const r=e.style,o=un(n);let a=!1;if(n&&!o){if(t)if(un(t))for(const c of t.split(";")){const u=c.slice(0,c.indexOf(":")).trim();n[u]==null&&Ul(r,u,"")}else for(const c in t)n[c]==null&&Ul(r,c,"");for(const c in n)c==="display"&&(a=!0),Ul(r,c,n[c])}else if(o){if(t!==n){const c=r[G9];c&&(n+=";"+c),r.cssText=n,a=Q9.test(n)}}else t&&e.removeAttribute("style");i0 in e&&(e[i0]=a?r.display:"",e[Z2]&&(r.display="none"))}const Sf=/\s*!important$/;function Ul(e,t,n){if(st(n))n.forEach(r=>Ul(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Y9(e,t);Sf.test(n)?e.setProperty(fo(r),n.replace(Sf,""),"important"):e[r]=n}}const Ff=["Webkit","Moz","ms"],bc={};function Y9(e,t){const n=bc[t];if(n)return n;let r=ro(t);if(r!=="filter"&&r in e)return bc[t]=r;r=Up(r);for(let o=0;o<Ff.length;o++){const a=Ff[o]+r;if(a in e)return bc[t]=a}return t}const Tf="http://www.w3.org/1999/xlink";function If(e,t,n,r,o,a=sb(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Tf,t.slice(6,t.length)):e.setAttributeNS(Tf,t,n):n==null||a&&!zp(n)?e.removeAttribute(t):e.setAttribute(t,a?"":Gr(n)?String(n):n)}function Mf(e,t,n,r,o){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?G2(n):n);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?e.getAttribute("value")||"":e.value,g=n==null?e.type==="checkbox"?"on":"":String(n);(u!==g||!("_value"in e))&&(e.value=g),n==null&&e.removeAttribute(t),e._value=n;return}let c=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=zp(n):n==null&&u==="string"?(n="",c=!0):u==="number"&&(n=0,c=!0)}try{e[t]=n}catch{}c&&e.removeAttribute(o||t)}function Ds(e,t,n,r){e.addEventListener(t,n,r)}function X9(e,t,n,r){e.removeEventListener(t,n,r)}const Pf=Symbol("_vei");function Z9(e,t,n,r,o=null){const a=e[Pf]||(e[Pf]={}),c=a[t];if(r&&c)c.value=r;else{const[u,g]=J9(t);if(r){const f=a[t]=n6(r,o);Ds(e,u,f,g)}else c&&(X9(e,u,c,g),a[t]=void 0)}}const Rf=/(?:Once|Passive|Capture)$/;function J9(e){let t;if(Rf.test(e)){t={};let r;for(;r=e.match(Rf);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):fo(e.slice(2)),t]}let Ec=0;const e6=Promise.resolve(),t6=()=>Ec||(e6.then(()=>Ec=0),Ec=Date.now());function n6(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Qr(r6(r,n.value),t,5,[r])};return n.value=e,n.attached=t6(),n}function r6(e,t){if(st(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const Of=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,s6=(e,t,n,r,o,a)=>{const c=o==="svg";t==="class"?W9(e,r,c):t==="style"?K9(e,n,r):za(t)?Hu(t)||Z9(e,t,n,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):o6(e,t,r,c))?(Mf(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&If(e,t,r,c,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!un(r))?Mf(e,ro(t),r,a,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),If(e,t,r,c))};function o6(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Of(t)&&ut(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Of(t)&&un(n)?!1:t in e}const J2=new WeakMap,em=new WeakMap,a0=Symbol("_moveCb"),Nf=Symbol("_enterCb"),i6=e=>(delete e.props.mode,e),a6=i6({name:"TransitionGroup",props:bn({},K2,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=ox(),r=f2();let o,a;return E2(()=>{if(!o.length)return;const c=e.moveClass||`${e.name||"v"}-move`;if(!x6(o[0].el,n.vnode.el,c)){o=[];return}o.forEach(c6),o.forEach(d6);const u=o.filter(u6);mu(n.vnode.el),u.forEach(g=>{const f=g.el,m=f.style;os(f,c),m.transform=m.webkitTransform=m.transitionDuration="";const y=f[a0]=v=>{v&&v.target!==f||(!v||v.propertyName.endsWith("transform"))&&(f.removeEventListener("transitionend",y),f[a0]=null,Gs(f,c))};f.addEventListener("transitionend",y)}),o=[]}),()=>{const c=wt(e),u=Y2(c);let g=c.tag||He;if(o=[],a)for(let f=0;f<a.length;f++){const m=a[f];m.el&&m.el instanceof Element&&(o.push(m),Ho(m,_a(m,u,r,n)),J2.set(m,m.el.getBoundingClientRect()))}a=t.default?ex(t.default()):[];for(let f=0;f<a.length;f++){const m=a[f];m.key!=null&&Ho(m,_a(m,u,r,n))}return _t(g,null,a)}}}),l6=a6;function c6(e){const t=e.el;t[a0]&&t[a0](),t[Nf]&&t[Nf]()}function d6(e){em.set(e,e.el.getBoundingClientRect())}function u6(e){const t=J2.get(e),n=em.get(e),r=t.left-n.left,o=t.top-n.top;if(r||o){const a=e.el.style;return a.transform=a.webkitTransform=`translate(${r}px,${o}px)`,a.transitionDuration="0s",e}}function x6(e,t,n){const r=e.cloneNode(),o=e[Bi];o&&o.forEach(u=>{u.split(/\s+/).forEach(g=>g&&r.classList.remove(g))}),n.split(/\s+/).forEach(u=>u&&r.classList.add(u)),r.style.display="none";const a=t.nodeType===1?t:t.parentNode;a.appendChild(r);const{hasTransform:c}=X2(r);return a.removeChild(r),c}const io=e=>{const t=e.props["onUpdate:modelValue"]||!1;return st(t)?n=>Nl(t,n):t};function f6(e){e.target.composing=!0}function Lf(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Pr=Symbol("_assign"),$e={created(e,{modifiers:{lazy:t,trim:n,number:r}},o){e[Pr]=io(o);const a=r||o.props&&o.props.type==="number";Ds(e,t?"change":"input",c=>{if(c.target.composing)return;let u=e.value;n&&(u=u.trim()),a&&(u=Yl(u)),e[Pr](u)}),n&&Ds(e,"change",()=>{e.value=e.value.trim()}),t||(Ds(e,"compositionstart",f6),Ds(e,"compositionend",Lf),Ds(e,"change",Lf))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:o,number:a}},c){if(e[Pr]=io(c),e.composing)return;const u=(a||e.type==="number")&&!/^0\d/.test(e.value)?Yl(e.value):e.value,g=t??"";u!==g&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||o&&e.value.trim()===g)||(e.value=g))}},Di={deep:!0,created(e,t,n){e[Pr]=io(n),Ds(e,"change",()=>{const r=e._modelValue,o=_i(e),a=e.checked,c=e[Pr];if(st(r)){const u=qu(r,o),g=u!==-1;if(a&&!g)c(r.concat(o));else if(!a&&g){const f=[...r];f.splice(u,1),c(f)}}else if(Pi(r)){const u=new Set(r);a?u.add(o):u.delete(o),c(u)}else c(tm(e,a))})},mounted:$f,beforeUpdate(e,t,n){e[Pr]=io(n),$f(e,t,n)}};function $f(e,{value:t,oldValue:n},r){e._modelValue=t;let o;if(st(t))o=qu(t,r.props.value)>-1;else if(Pi(t))o=t.has(r.props.value);else{if(t===n)return;o=Uo(t,tm(e,!0))}e.checked!==o&&(e.checked=o)}const Ta={created(e,{value:t},n){e.checked=Uo(t,n.props.value),e[Pr]=io(n),Ds(e,"change",()=>{e[Pr](_i(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[Pr]=io(r),t!==n&&(e.checked=Uo(t,r.props.value))}},dt={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const o=Pi(t);Ds(e,"change",()=>{const a=Array.prototype.filter.call(e.options,c=>c.selected).map(c=>n?Yl(_i(c)):_i(c));e[Pr](e.multiple?o?new Set(a):a:a[0]),e._assigning=!0,kr(()=>{e._assigning=!1})}),e[Pr]=io(r)},mounted(e,{value:t}){jf(e,t)},beforeUpdate(e,t,n){e[Pr]=io(n)},updated(e,{value:t}){e._assigning||jf(e,t)}};function jf(e,t){const n=e.multiple,r=st(t);if(!(n&&!r&&!Pi(t))){for(let o=0,a=e.options.length;o<a;o++){const c=e.options[o],u=_i(c);if(n)if(r){const g=typeof u;g==="string"||g==="number"?c.selected=t.some(f=>String(f)===String(u)):c.selected=qu(t,u)>-1}else c.selected=t.has(u);else if(Uo(_i(c),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function _i(e){return"_value"in e?e._value:e.value}function tm(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const h6={created(e,t,n){yl(e,t,n,null,"created")},mounted(e,t,n){yl(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){yl(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){yl(e,t,n,r,"updated")}};function g6(e,t){switch(e){case"SELECT":return dt;case"TEXTAREA":return $e;default:switch(t){case"checkbox":return Di;case"radio":return Ta;default:return $e}}}function yl(e,t,n,r,o){const c=g6(e.tagName,n.props&&n.props.type)[o];c&&c(e,t,n,r)}const p6=["ctrl","shift","alt","meta"],m6={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>p6.some(n=>e[`${n}Key`]&&!t.includes(n))},sr=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=((o,...a)=>{for(let c=0;c<t.length;c++){const u=m6[t[c]];if(u&&u(o,t))return}return e(o,...a)}))},y6={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ka=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=(o=>{if(!("key"in o))return;const a=fo(o.key);if(t.some(c=>c===a||y6[c]===a))return e(o)}))},nm=bn({patchProp:s6},H9);let ma,Uf=!1;function b6(){return ma||(ma=g9(nm))}function E6(){return ma=Uf?ma:p9(nm),Uf=!0,ma}const v6=((...e)=>{const t=b6().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=sm(r);if(!o)return;const a=t._component;!ut(a)&&!a.render&&!a.template&&(a.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const c=n(o,!1,rm(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),c},t}),C6=((...e)=>{const t=E6().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=sm(r);if(o)return n(o,!0,rm(o))},t});function rm(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function sm(e){return un(e)?document.querySelector(e):e}var om=typeof global=="object"&&global&&global.Object===Object&&global,w6=typeof self=="object"&&self&&self.Object===Object&&self,hs=om||w6||Function("return this")(),fs=hs.Symbol,im=Object.prototype,A6=im.hasOwnProperty,B6=im.toString,Zi=fs?fs.toStringTag:void 0;function D6(e){var t=A6.call(e,Zi),n=e[Zi];try{e[Zi]=void 0;var r=!0}catch{}var o=B6.call(e);return r&&(t?e[Zi]=n:delete e[Zi]),o}var _6=Object.prototype,k6=_6.toString;function S6(e){return k6.call(e)}var F6="[object Null]",T6="[object Undefined]",Hf=fs?fs.toStringTag:void 0;function Oi(e){return e==null?e===void 0?T6:F6:Hf&&Hf in Object(e)?D6(e):S6(e)}function ao(e){return e!=null&&typeof e=="object"}var I6="[object Symbol]";function ix(e){return typeof e=="symbol"||ao(e)&&Oi(e)==I6}function M6(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var Is=Array.isArray,zf=fs?fs.prototype:void 0,Vf=zf?zf.toString:void 0;function am(e){if(typeof e=="string")return e;if(Is(e))return M6(e,am)+"";if(ix(e))return Vf?Vf.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function ki(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var P6="[object AsyncFunction]",R6="[object Function]",O6="[object GeneratorFunction]",N6="[object Proxy]";function lm(e){if(!ki(e))return!1;var t=Oi(e);return t==R6||t==O6||t==P6||t==N6}var vc=hs["__core-js_shared__"],qf=(function(){var e=/[^.]+$/.exec(vc&&vc.keys&&vc.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function L6(e){return!!qf&&qf in e}var $6=Function.prototype,j6=$6.toString;function Qo(e){if(e!=null){try{return j6.call(e)}catch{}try{return e+""}catch{}}return""}var U6=/[\\^$.*+?()[\]{}|]/g,H6=/^\[object .+?Constructor\]$/,z6=Function.prototype,V6=Object.prototype,q6=z6.toString,W6=V6.hasOwnProperty,G6=RegExp("^"+q6.call(W6).replace(U6,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Q6(e){if(!ki(e)||L6(e))return!1;var t=lm(e)?G6:H6;return t.test(Qo(e))}function K6(e,t){return e?.[t]}function Ko(e,t){var n=K6(e,t);return Q6(n)?n:void 0}var yu=Ko(hs,"WeakMap"),Wf=Object.create,Y6=(function(){function e(){}return function(t){if(!ki(t))return{};if(Wf)return Wf(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}})(),Gf=(function(){try{var e=Ko(Object,"defineProperty");return e({},"",{}),e}catch{}})();function X6(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Z6=9007199254740991,J6=/^(?:0|[1-9]\d*)$/;function ax(e,t){var n=typeof e;return t=t??Z6,!!t&&(n=="number"||n!="symbol"&&J6.test(e))&&e>-1&&e%1==0&&e<t}function eE(e,t,n){t=="__proto__"&&Gf?Gf(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function lx(e,t){return e===t||e!==e&&t!==t}var tE=Object.prototype,nE=tE.hasOwnProperty;function cm(e,t,n){var r=e[t];(!(nE.call(e,t)&&lx(r,n))||n===void 0&&!(t in e))&&eE(e,t,n)}var rE=9007199254740991;function cx(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=rE}function sE(e){return e!=null&&cx(e.length)&&!lm(e)}var oE=Object.prototype;function dm(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||oE;return e===n}function iE(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var aE="[object Arguments]";function Qf(e){return ao(e)&&Oi(e)==aE}var um=Object.prototype,lE=um.hasOwnProperty,cE=um.propertyIsEnumerable,xm=Qf((function(){return arguments})())?Qf:function(e){return ao(e)&&lE.call(e,"callee")&&!cE.call(e,"callee")};function dE(){return!1}var fm=typeof br=="object"&&br&&!br.nodeType&&br,Kf=fm&&typeof Er=="object"&&Er&&!Er.nodeType&&Er,uE=Kf&&Kf.exports===fm,Yf=uE?hs.Buffer:void 0,xE=Yf?Yf.isBuffer:void 0,l0=xE||dE,fE="[object Arguments]",hE="[object Array]",gE="[object Boolean]",pE="[object Date]",mE="[object Error]",yE="[object Function]",bE="[object Map]",EE="[object Number]",vE="[object Object]",CE="[object RegExp]",wE="[object Set]",AE="[object String]",BE="[object WeakMap]",DE="[object ArrayBuffer]",_E="[object DataView]",kE="[object Float32Array]",SE="[object Float64Array]",FE="[object Int8Array]",TE="[object Int16Array]",IE="[object Int32Array]",ME="[object Uint8Array]",PE="[object Uint8ClampedArray]",RE="[object Uint16Array]",OE="[object Uint32Array]",Zt={};Zt[kE]=Zt[SE]=Zt[FE]=Zt[TE]=Zt[IE]=Zt[ME]=Zt[PE]=Zt[RE]=Zt[OE]=!0;Zt[fE]=Zt[hE]=Zt[DE]=Zt[gE]=Zt[_E]=Zt[pE]=Zt[mE]=Zt[yE]=Zt[bE]=Zt[EE]=Zt[vE]=Zt[CE]=Zt[wE]=Zt[AE]=Zt[BE]=!1;function NE(e){return ao(e)&&cx(e.length)&&!!Zt[Oi(e)]}function dx(e){return function(t){return e(t)}}var hm=typeof br=="object"&&br&&!br.nodeType&&br,ya=hm&&typeof Er=="object"&&Er&&!Er.nodeType&&Er,LE=ya&&ya.exports===hm,Cc=LE&&om.process,Si=(function(){try{var e=ya&&ya.require&&ya.require("util").types;return e||Cc&&Cc.binding&&Cc.binding("util")}catch{}})(),Xf=Si&&Si.isTypedArray,gm=Xf?dx(Xf):NE,$E=Object.prototype,jE=$E.hasOwnProperty;function UE(e,t){var n=Is(e),r=!n&&xm(e),o=!n&&!r&&l0(e),a=!n&&!r&&!o&&gm(e),c=n||r||o||a,u=c?iE(e.length,String):[],g=u.length;for(var f in e)jE.call(e,f)&&!(c&&(f=="length"||o&&(f=="offset"||f=="parent")||a&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||ax(f,g)))&&u.push(f);return u}function pm(e,t){return function(n){return e(t(n))}}var HE=pm(Object.keys,Object),zE=Object.prototype,VE=zE.hasOwnProperty;function qE(e){if(!dm(e))return HE(e);var t=[];for(var n in Object(e))VE.call(e,n)&&n!="constructor"&&t.push(n);return t}function WE(e){return sE(e)?UE(e):qE(e)}var GE=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,QE=/^\w*$/;function KE(e,t){if(Is(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||ix(e)?!0:QE.test(e)||!GE.test(e)||t!=null&&e in Object(t)}var Ia=Ko(Object,"create");function YE(){this.__data__=Ia?Ia(null):{},this.size=0}function XE(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var ZE="__lodash_hash_undefined__",JE=Object.prototype,e4=JE.hasOwnProperty;function t4(e){var t=this.__data__;if(Ia){var n=t[e];return n===ZE?void 0:n}return e4.call(t,e)?t[e]:void 0}var n4=Object.prototype,r4=n4.hasOwnProperty;function s4(e){var t=this.__data__;return Ia?t[e]!==void 0:r4.call(t,e)}var o4="__lodash_hash_undefined__";function i4(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ia&&t===void 0?o4:t,this}function Vo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Vo.prototype.clear=YE;Vo.prototype.delete=XE;Vo.prototype.get=t4;Vo.prototype.has=s4;Vo.prototype.set=i4;function a4(){this.__data__=[],this.size=0}function M0(e,t){for(var n=e.length;n--;)if(lx(e[n][0],t))return n;return-1}var l4=Array.prototype,c4=l4.splice;function d4(e){var t=this.__data__,n=M0(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():c4.call(t,n,1),--this.size,!0}function u4(e){var t=this.__data__,n=M0(t,e);return n<0?void 0:t[n][1]}function x4(e){return M0(this.__data__,e)>-1}function f4(e,t){var n=this.__data__,r=M0(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Ps(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ps.prototype.clear=a4;Ps.prototype.delete=d4;Ps.prototype.get=u4;Ps.prototype.has=x4;Ps.prototype.set=f4;var Ma=Ko(hs,"Map");function h4(){this.size=0,this.__data__={hash:new Vo,map:new(Ma||Ps),string:new Vo}}function g4(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function P0(e,t){var n=e.__data__;return g4(t)?n[typeof t=="string"?"string":"hash"]:n.map}function p4(e){var t=P0(this,e).delete(e);return this.size-=t?1:0,t}function m4(e){return P0(this,e).get(e)}function y4(e){return P0(this,e).has(e)}function b4(e,t){var n=P0(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Rs(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Rs.prototype.clear=h4;Rs.prototype.delete=p4;Rs.prototype.get=m4;Rs.prototype.has=y4;Rs.prototype.set=b4;var E4="Expected a function";function ux(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(E4);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var c=e.apply(this,r);return n.cache=a.set(o,c)||a,c};return n.cache=new(ux.Cache||Rs),n}ux.Cache=Rs;var v4=500;function C4(e){var t=ux(e,function(r){return n.size===v4&&n.clear(),r}),n=t.cache;return t}var w4=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,A4=/\\(\\)?/g,B4=C4(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(w4,function(n,r,o,a){t.push(o?a.replace(A4,"$1"):r||n)}),t});function D4(e){return e==null?"":am(e)}function xx(e,t){return Is(e)?e:KE(e,t)?[e]:B4(D4(e))}function fx(e){if(typeof e=="string"||ix(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function _4(e,t){t=xx(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[fx(t[n++])];return n&&n==r?e:void 0}function Ci(e,t,n){var r=e==null?void 0:_4(e,t);return r===void 0?n:r}function k4(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var S4=pm(Object.getPrototypeOf,Object);function F4(){this.__data__=new Ps,this.size=0}function T4(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function I4(e){return this.__data__.get(e)}function M4(e){return this.__data__.has(e)}var P4=200;function R4(e,t){var n=this.__data__;if(n instanceof Ps){var r=n.__data__;if(!Ma||r.length<P4-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Rs(r)}return n.set(e,t),this.size=n.size,this}function Ss(e){var t=this.__data__=new Ps(e);this.size=t.size}Ss.prototype.clear=F4;Ss.prototype.delete=T4;Ss.prototype.get=I4;Ss.prototype.has=M4;Ss.prototype.set=R4;var mm=typeof br=="object"&&br&&!br.nodeType&&br,Zf=mm&&typeof Er=="object"&&Er&&!Er.nodeType&&Er,O4=Zf&&Zf.exports===mm,Jf=O4?hs.Buffer:void 0;Jf&&Jf.allocUnsafe;function N4(e,t){return e.slice()}function L4(e,t){for(var n=-1,r=e==null?0:e.length,o=0,a=[];++n<r;){var c=e[n];t(c,n,e)&&(a[o++]=c)}return a}function $4(){return[]}var j4=Object.prototype,U4=j4.propertyIsEnumerable,e1=Object.getOwnPropertySymbols,H4=e1?function(e){return e==null?[]:(e=Object(e),L4(e1(e),function(t){return U4.call(e,t)}))}:$4;function z4(e,t,n){var r=t(e);return Is(e)?r:k4(r,n(e))}function bu(e){return z4(e,WE,H4)}var Eu=Ko(hs,"DataView"),vu=Ko(hs,"Promise"),Cu=Ko(hs,"Set"),t1="[object Map]",V4="[object Object]",n1="[object Promise]",r1="[object Set]",s1="[object WeakMap]",o1="[object DataView]",q4=Qo(Eu),W4=Qo(Ma),G4=Qo(vu),Q4=Qo(Cu),K4=Qo(yu),Vr=Oi;(Eu&&Vr(new Eu(new ArrayBuffer(1)))!=o1||Ma&&Vr(new Ma)!=t1||vu&&Vr(vu.resolve())!=n1||Cu&&Vr(new Cu)!=r1||yu&&Vr(new yu)!=s1)&&(Vr=function(e){var t=Oi(e),n=t==V4?e.constructor:void 0,r=n?Qo(n):"";if(r)switch(r){case q4:return o1;case W4:return t1;case G4:return n1;case Q4:return r1;case K4:return s1}return t});var Y4=Object.prototype,X4=Y4.hasOwnProperty;function Z4(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&X4.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var c0=hs.Uint8Array;function hx(e){var t=new e.constructor(e.byteLength);return new c0(t).set(new c0(e)),t}function J4(e,t){var n=hx(e.buffer);return new e.constructor(n,e.byteOffset,e.byteLength)}var ev=/\w*$/;function tv(e){var t=new e.constructor(e.source,ev.exec(e));return t.lastIndex=e.lastIndex,t}var i1=fs?fs.prototype:void 0,a1=i1?i1.valueOf:void 0;function nv(e){return a1?Object(a1.call(e)):{}}function rv(e,t){var n=hx(e.buffer);return new e.constructor(n,e.byteOffset,e.length)}var sv="[object Boolean]",ov="[object Date]",iv="[object Map]",av="[object Number]",lv="[object RegExp]",cv="[object Set]",dv="[object String]",uv="[object Symbol]",xv="[object ArrayBuffer]",fv="[object DataView]",hv="[object Float32Array]",gv="[object Float64Array]",pv="[object Int8Array]",mv="[object Int16Array]",yv="[object Int32Array]",bv="[object Uint8Array]",Ev="[object Uint8ClampedArray]",vv="[object Uint16Array]",Cv="[object Uint32Array]";function wv(e,t,n){var r=e.constructor;switch(t){case xv:return hx(e);case sv:case ov:return new r(+e);case fv:return J4(e);case hv:case gv:case pv:case mv:case yv:case bv:case Ev:case vv:case Cv:return rv(e);case iv:return new r;case av:case dv:return new r(e);case lv:return tv(e);case cv:return new r;case uv:return nv(e)}}function Av(e){return typeof e.constructor=="function"&&!dm(e)?Y6(S4(e)):{}}var Bv="[object Map]";function Dv(e){return ao(e)&&Vr(e)==Bv}var l1=Si&&Si.isMap,_v=l1?dx(l1):Dv,kv="[object Set]";function Sv(e){return ao(e)&&Vr(e)==kv}var c1=Si&&Si.isSet,Fv=c1?dx(c1):Sv,ym="[object Arguments]",Tv="[object Array]",Iv="[object Boolean]",Mv="[object Date]",Pv="[object Error]",bm="[object Function]",Rv="[object GeneratorFunction]",Ov="[object Map]",Nv="[object Number]",Em="[object Object]",Lv="[object RegExp]",$v="[object Set]",jv="[object String]",Uv="[object Symbol]",Hv="[object WeakMap]",zv="[object ArrayBuffer]",Vv="[object DataView]",qv="[object Float32Array]",Wv="[object Float64Array]",Gv="[object Int8Array]",Qv="[object Int16Array]",Kv="[object Int32Array]",Yv="[object Uint8Array]",Xv="[object Uint8ClampedArray]",Zv="[object Uint16Array]",Jv="[object Uint32Array]",Qt={};Qt[ym]=Qt[Tv]=Qt[zv]=Qt[Vv]=Qt[Iv]=Qt[Mv]=Qt[qv]=Qt[Wv]=Qt[Gv]=Qt[Qv]=Qt[Kv]=Qt[Ov]=Qt[Nv]=Qt[Em]=Qt[Lv]=Qt[$v]=Qt[jv]=Qt[Uv]=Qt[Yv]=Qt[Xv]=Qt[Zv]=Qt[Jv]=!0;Qt[Pv]=Qt[bm]=Qt[Hv]=!1;function Hl(e,t,n,r,o,a){var c;if(c!==void 0)return c;if(!ki(e))return e;var u=Is(e);if(u)c=Z4(e);else{var g=Vr(e),f=g==bm||g==Rv;if(l0(e))return N4(e);if(g==Em||g==ym||f&&!o)c=f?{}:Av(e);else{if(!Qt[g])return o?e:{};c=wv(e,g)}}a||(a=new Ss);var m=a.get(e);if(m)return m;a.set(e,c),Fv(e)?e.forEach(function(C){c.add(Hl(C,t,n,C,e,a))}):_v(e)&&e.forEach(function(C,A){c.set(A,Hl(C,t,n,A,e,a))});var y=bu,v=u?void 0:y(e);return X6(v||e,function(C,A){v&&(A=C,C=e[A]),cm(c,A,Hl(C,t,n,A,e,a))}),c}var e3=1,t3=4;function nr(e){return Hl(e,e3|t3)}var n3="__lodash_hash_undefined__";function r3(e){return this.__data__.set(e,n3),this}function s3(e){return this.__data__.has(e)}function d0(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Rs;++t<n;)this.add(e[t])}d0.prototype.add=d0.prototype.push=r3;d0.prototype.has=s3;function o3(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function i3(e,t){return e.has(t)}var a3=1,l3=2;function vm(e,t,n,r,o,a){var c=n&a3,u=e.length,g=t.length;if(u!=g&&!(c&&g>u))return!1;var f=a.get(e),m=a.get(t);if(f&&m)return f==t&&m==e;var y=-1,v=!0,C=n&l3?new d0:void 0;for(a.set(e,t),a.set(t,e);++y<u;){var A=e[y],D=t[y];if(r)var _=c?r(D,A,y,t,e,a):r(A,D,y,e,t,a);if(_!==void 0){if(_)continue;v=!1;break}if(C){if(!o3(t,function(T,j){if(!i3(C,j)&&(A===T||o(A,T,n,r,a)))return C.push(j)})){v=!1;break}}else if(!(A===D||o(A,D,n,r,a))){v=!1;break}}return a.delete(e),a.delete(t),v}function c3(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}function d3(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var u3=1,x3=2,f3="[object Boolean]",h3="[object Date]",g3="[object Error]",p3="[object Map]",m3="[object Number]",y3="[object RegExp]",b3="[object Set]",E3="[object String]",v3="[object Symbol]",C3="[object ArrayBuffer]",w3="[object DataView]",d1=fs?fs.prototype:void 0,wc=d1?d1.valueOf:void 0;function A3(e,t,n,r,o,a,c){switch(n){case w3:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case C3:return!(e.byteLength!=t.byteLength||!a(new c0(e),new c0(t)));case f3:case h3:case m3:return lx(+e,+t);case g3:return e.name==t.name&&e.message==t.message;case y3:case E3:return e==t+"";case p3:var u=c3;case b3:var g=r&u3;if(u||(u=d3),e.size!=t.size&&!g)return!1;var f=c.get(e);if(f)return f==t;r|=x3,c.set(e,t);var m=vm(u(e),u(t),r,o,a,c);return c.delete(e),m;case v3:if(wc)return wc.call(e)==wc.call(t)}return!1}var B3=1,D3=Object.prototype,_3=D3.hasOwnProperty;function k3(e,t,n,r,o,a){var c=n&B3,u=bu(e),g=u.length,f=bu(t),m=f.length;if(g!=m&&!c)return!1;for(var y=g;y--;){var v=u[y];if(!(c?v in t:_3.call(t,v)))return!1}var C=a.get(e),A=a.get(t);if(C&&A)return C==t&&A==e;var D=!0;a.set(e,t),a.set(t,e);for(var _=c;++y<g;){v=u[y];var T=e[v],j=t[v];if(r)var F=c?r(j,T,v,t,e,a):r(T,j,v,e,t,a);if(!(F===void 0?T===j||o(T,j,n,r,a):F)){D=!1;break}_||(_=v=="constructor")}if(D&&!_){var k=e.constructor,P=t.constructor;k!=P&&"constructor"in e&&"constructor"in t&&!(typeof k=="function"&&k instanceof k&&typeof P=="function"&&P instanceof P)&&(D=!1)}return a.delete(e),a.delete(t),D}var S3=1,u1="[object Arguments]",x1="[object Array]",bl="[object Object]",F3=Object.prototype,f1=F3.hasOwnProperty;function T3(e,t,n,r,o,a){var c=Is(e),u=Is(t),g=c?x1:Vr(e),f=u?x1:Vr(t);g=g==u1?bl:g,f=f==u1?bl:f;var m=g==bl,y=f==bl,v=g==f;if(v&&l0(e)){if(!l0(t))return!1;c=!0,m=!1}if(v&&!m)return a||(a=new Ss),c||gm(e)?vm(e,t,n,r,o,a):A3(e,t,g,n,r,o,a);if(!(n&S3)){var C=m&&f1.call(e,"__wrapped__"),A=y&&f1.call(t,"__wrapped__");if(C||A){var D=C?e.value():e,_=A?t.value():t;return a||(a=new Ss),o(D,_,n,r,a)}}return v?(a||(a=new Ss),k3(e,t,n,r,o,a)):!1}function Cm(e,t,n,r,o){return e===t?!0:e==null||t==null||!ao(e)&&!ao(t)?e!==e&&t!==t:T3(e,t,n,r,Cm,o)}function I3(e,t,n){t=xx(t,e);for(var r=-1,o=t.length,a=!1;++r<o;){var c=fx(t[r]);if(!(a=e!=null&&n(e,c)))break;e=e[c]}return a||++r!=o?a:(o=e==null?0:e.length,!!o&&cx(o)&&ax(c,o)&&(Is(e)||xm(e)))}var M3=Object.prototype,P3=M3.hasOwnProperty;function R3(e,t){return e!=null&&P3.call(e,t)}function O3(e,t){return e!=null&&I3(e,t,R3)}function N3(e,t){return Cm(e,t)}function L3(e,t,n,r){if(!ki(e))return e;t=xx(t,e);for(var o=-1,a=t.length,c=a-1,u=e;u!=null&&++o<a;){var g=fx(t[o]),f=n;if(g==="__proto__"||g==="constructor"||g==="prototype")return e;if(o!=c){var m=u[g];f=void 0,f===void 0&&(f=ki(m)?m:ax(t[o+1])?[]:{})}cm(u,g,f),u=u[g]}return e}function To(e,t,n){return e==null?e:L3(e,t,n)}var hi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function $3(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var o=!1;try{o=this instanceof r}catch{}return o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var Ac,h1;function Ni(){return h1||(h1=1,Ac=TypeError),Ac}const j3={},U3=Object.freeze(Object.defineProperty({__proto__:null,default:j3},Symbol.toStringTag,{value:"Module"})),H3=$3(U3);var Bc,g1;function R0(){if(g1)return Bc;g1=1;var e=typeof Map=="function"&&Map.prototype,t=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,n=e&&t&&typeof t.get=="function"?t.get:null,r=e&&Map.prototype.forEach,o=typeof Set=="function"&&Set.prototype,a=Object.getOwnPropertyDescriptor&&o?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=o&&a&&typeof a.get=="function"?a.get:null,u=o&&Set.prototype.forEach,g=typeof WeakMap=="function"&&WeakMap.prototype,f=g?WeakMap.prototype.has:null,m=typeof WeakSet=="function"&&WeakSet.prototype,y=m?WeakSet.prototype.has:null,v=typeof WeakRef=="function"&&WeakRef.prototype,C=v?WeakRef.prototype.deref:null,A=Boolean.prototype.valueOf,D=Object.prototype.toString,_=Function.prototype.toString,T=String.prototype.match,j=String.prototype.slice,F=String.prototype.replace,k=String.prototype.toUpperCase,P=String.prototype.toLowerCase,$=RegExp.prototype.test,O=Array.prototype.concat,q=Array.prototype.join,S=Array.prototype.slice,U=Math.floor,G=typeof BigInt=="function"?BigInt.prototype.valueOf:null,z=Object.getOwnPropertySymbols,ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,se=typeof Symbol=="function"&&typeof Symbol.iterator=="object",J=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===se||!0)?Symbol.toStringTag:null,be=Object.prototype.propertyIsEnumerable,he=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Ee){return Ee.__proto__}:null);function we(Ee,Ae){if(Ee===1/0||Ee===-1/0||Ee!==Ee||Ee&&Ee>-1e3&&Ee<1e3||$.call(/e/,Ae))return Ae;var ht=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof Ee=="number"){var At=Ee<0?-U(-Ee):U(Ee);if(At!==Ee){var $t=String(At),Xe=j.call(Ae,$t.length+1);return F.call($t,ht,"$&_")+"."+F.call(F.call(Xe,/([0-9]{3})/g,"$&_"),/_$/,"")}}return F.call(Ae,ht,"$&_")}var Oe=H3,Re=Oe.custom,ge=Y(Re)?Re:null,ve={__proto__:null,double:'"',single:"'"},re={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};Bc=function Ee(Ae,ht,At,$t){var Xe=ht||{};if(B(Xe,"quoteStyle")&&!B(ve,Xe.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(B(Xe,"maxStringLength")&&(typeof Xe.maxStringLength=="number"?Xe.maxStringLength<0&&Xe.maxStringLength!==1/0:Xe.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Mn=B(Xe,"customInspect")?Xe.customInspect:!0;if(typeof Mn!="boolean"&&Mn!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(B(Xe,"indent")&&Xe.indent!==null&&Xe.indent!=="	"&&!(parseInt(Xe.indent,10)===Xe.indent&&Xe.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(B(Xe,"numericSeparator")&&typeof Xe.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Yr=Xe.numericSeparator;if(typeof Ae>"u")return"undefined";if(Ae===null)return"null";if(typeof Ae=="boolean")return Ae?"true":"false";if(typeof Ae=="string")return tt(Ae,Xe);if(typeof Ae=="number"){if(Ae===0)return 1/0/Ae>0?"0":"-0";var Pn=String(Ae);return Yr?we(Ae,Pn):Pn}if(typeof Ae=="bigint"){var xn=String(Ae)+"n";return Yr?we(Ae,xn):xn}var ho=typeof Xe.depth>"u"?5:Xe.depth;if(typeof At>"u"&&(At=0),At>=ho&&ho>0&&typeof Ae=="object")return ie(Ae)?"[Array]":"[Object]";var tn=Et(Xe,At);if(typeof $t>"u")$t=[];else if(_e($t,Ae)>=0)return"[Circular]";function En(Ns,ei,vr){if(ei&&($t=S.call($t),$t.push(ei)),vr){var vn={depth:Xe.depth};return B(Xe,"quoteStyle")&&(vn.quoteStyle=Xe.quoteStyle),Ee(Ns,vn,At+1,$t)}return Ee(Ns,Xe,At+1,$t)}if(typeof Ae=="function"&&!Ne(Ae)){var go=ue(Ae),dr=zt(Ae,En);return"[Function"+(go?": "+go:" (anonymous)")+"]"+(dr.length>0?" { "+q.call(dr,", ")+" }":"")}if(Y(Ae)){var rl=se?F.call(String(Ae),/^(Symbol\(.*\))_[^)]*$/,"$1"):ee.call(Ae);return typeof Ae=="object"&&!se?Ye(rl):rl}if(Se(Ae)){for(var ur="<"+P.call(String(Ae.nodeName)),po=Ae.attributes||[],fn=0;fn<po.length;fn++)ur+=" "+po[fn].name+"="+ye(Ke(po[fn].value),"double",Xe);return ur+=">",Ae.childNodes&&Ae.childNodes.length&&(ur+="..."),ur+="</"+P.call(String(Ae.nodeName))+">",ur}if(ie(Ae)){if(Ae.length===0)return"[]";var $r=zt(Ae,En);return tn&&!Vn($r)?"["+Ve($r,tn)+"]":"[ "+q.call($r,", ")+" ]"}if(Me(Ae)){var Rn=zt(Ae,En);return!("cause"in Error.prototype)&&"cause"in Ae&&!be.call(Ae,"cause")?"{ ["+String(Ae)+"] "+q.call(O.call("[cause]: "+En(Ae.cause),Rn),", ")+" }":Rn.length===0?"["+String(Ae)+"]":"{ ["+String(Ae)+"] "+q.call(Rn,", ")+" }"}if(typeof Ae=="object"&&Mn){if(ge&&typeof Ae[ge]=="function"&&Oe)return Oe(Ae,{depth:ho-At});if(Mn!=="symbol"&&typeof Ae.inspect=="function")return Ae.inspect()}if(te(Ae)){var Ze=[];return r&&r.call(Ae,function(Ns,ei){Ze.push(En(ei,Ae,!0)+" => "+En(Ns,Ae))}),Rt("Map",n.call(Ae),Ze,tn)}if(ce(Ae)){var gs=[];return u&&u.call(Ae,function(Ns){gs.push(En(Ns,Ae))}),Rt("Set",c.call(Ae),gs,tn)}if(Z(Ae))return Ht("WeakMap");if(de(Ae))return Ht("WeakSet");if(fe(Ae))return Ht("WeakRef");if(et(Ae))return Ye(En(Number(Ae)));if(L(Ae))return Ye(En(G.call(Ae)));if(X(Ae))return Ye(A.call(Ae));if(ze(Ae))return Ye(En(String(Ae)));if(typeof window<"u"&&Ae===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Ae===globalThis||typeof hi<"u"&&Ae===hi)return"{ [object globalThis] }";if(!ae(Ae)&&!Ne(Ae)){var mo=zt(Ae,En),Dn=he?he(Ae)===Object.prototype:Ae instanceof Object||Ae.constructor===Object,Xr=Ae instanceof Object?"":"null prototype",yo=!Dn&&J&&Object(Ae)===Ae&&J in Ae?j.call(M(Ae),8,-1):Xr?"Object":"",Jo=Dn||typeof Ae.constructor!="function"?"":Ae.constructor.name?Ae.constructor.name+" ":"",Xn=Jo+(yo||Xr?"["+q.call(O.call([],yo||[],Xr||[]),": ")+"] ":"");return mo.length===0?Xn+"{}":tn?Xn+"{"+Ve(mo,tn)+"}":Xn+"{ "+q.call(mo,", ")+" }"}return String(Ae)};function ye(Ee,Ae,ht){var At=ht.quoteStyle||Ae,$t=ve[At];return $t+Ee+$t}function Ke(Ee){return F.call(String(Ee),/"/g,"&quot;")}function le(Ee){return!J||!(typeof Ee=="object"&&(J in Ee||typeof Ee[J]<"u"))}function ie(Ee){return M(Ee)==="[object Array]"&&le(Ee)}function ae(Ee){return M(Ee)==="[object Date]"&&le(Ee)}function Ne(Ee){return M(Ee)==="[object RegExp]"&&le(Ee)}function Me(Ee){return M(Ee)==="[object Error]"&&le(Ee)}function ze(Ee){return M(Ee)==="[object String]"&&le(Ee)}function et(Ee){return M(Ee)==="[object Number]"&&le(Ee)}function X(Ee){return M(Ee)==="[object Boolean]"&&le(Ee)}function Y(Ee){if(se)return Ee&&typeof Ee=="object"&&Ee instanceof Symbol;if(typeof Ee=="symbol")return!0;if(!Ee||typeof Ee!="object"||!ee)return!1;try{return ee.call(Ee),!0}catch{}return!1}function L(Ee){if(!Ee||typeof Ee!="object"||!G)return!1;try{return G.call(Ee),!0}catch{}return!1}var N=Object.prototype.hasOwnProperty||function(Ee){return Ee in this};function B(Ee,Ae){return N.call(Ee,Ae)}function M(Ee){return D.call(Ee)}function ue(Ee){if(Ee.name)return Ee.name;var Ae=T.call(_.call(Ee),/^function\s*([\w$]+)/);return Ae?Ae[1]:null}function _e(Ee,Ae){if(Ee.indexOf)return Ee.indexOf(Ae);for(var ht=0,At=Ee.length;ht<At;ht++)if(Ee[ht]===Ae)return ht;return-1}function te(Ee){if(!n||!Ee||typeof Ee!="object")return!1;try{n.call(Ee);try{c.call(Ee)}catch{return!0}return Ee instanceof Map}catch{}return!1}function Z(Ee){if(!f||!Ee||typeof Ee!="object")return!1;try{f.call(Ee,f);try{y.call(Ee,y)}catch{return!0}return Ee instanceof WeakMap}catch{}return!1}function fe(Ee){if(!C||!Ee||typeof Ee!="object")return!1;try{return C.call(Ee),!0}catch{}return!1}function ce(Ee){if(!c||!Ee||typeof Ee!="object")return!1;try{c.call(Ee);try{n.call(Ee)}catch{return!0}return Ee instanceof Set}catch{}return!1}function de(Ee){if(!y||!Ee||typeof Ee!="object")return!1;try{y.call(Ee,y);try{f.call(Ee,f)}catch{return!0}return Ee instanceof WeakSet}catch{}return!1}function Se(Ee){return!Ee||typeof Ee!="object"?!1:typeof HTMLElement<"u"&&Ee instanceof HTMLElement?!0:typeof Ee.nodeName=="string"&&typeof Ee.getAttribute=="function"}function tt(Ee,Ae){if(Ee.length>Ae.maxStringLength){var ht=Ee.length-Ae.maxStringLength,At="... "+ht+" more character"+(ht>1?"s":"");return tt(j.call(Ee,0,Ae.maxStringLength),Ae)+At}var $t=re[Ae.quoteStyle||"single"];$t.lastIndex=0;var Xe=F.call(F.call(Ee,$t,"\\$1"),/[\x00-\x1f]/g,ct);return ye(Xe,"single",Ae)}function ct(Ee){var Ae=Ee.charCodeAt(0),ht={8:"b",9:"t",10:"n",12:"f",13:"r"}[Ae];return ht?"\\"+ht:"\\x"+(Ae<16?"0":"")+k.call(Ae.toString(16))}function Ye(Ee){return"Object("+Ee+")"}function Ht(Ee){return Ee+" { ? }"}function Rt(Ee,Ae,ht,At){var $t=At?Ve(ht,At):q.call(ht,", ");return Ee+" ("+Ae+") {"+$t+"}"}function Vn(Ee){for(var Ae=0;Ae<Ee.length;Ae++)if(_e(Ee[Ae],`
`)>=0)return!1;return!0}function Et(Ee,Ae){var ht;if(Ee.indent==="	")ht="	";else if(typeof Ee.indent=="number"&&Ee.indent>0)ht=q.call(Array(Ee.indent+1)," ");else return null;return{base:ht,prev:q.call(Array(Ae+1),ht)}}function Ve(Ee,Ae){if(Ee.length===0)return"";var ht=`
`+Ae.prev+Ae.base;return ht+q.call(Ee,","+ht)+`
`+Ae.prev}function zt(Ee,Ae){var ht=ie(Ee),At=[];if(ht){At.length=Ee.length;for(var $t=0;$t<Ee.length;$t++)At[$t]=B(Ee,$t)?Ae(Ee[$t],Ee):""}var Xe=typeof z=="function"?z(Ee):[],Mn;if(se){Mn={};for(var Yr=0;Yr<Xe.length;Yr++)Mn["$"+Xe[Yr]]=Xe[Yr]}for(var Pn in Ee)B(Ee,Pn)&&(ht&&String(Number(Pn))===Pn&&Pn<Ee.length||se&&Mn["$"+Pn]instanceof Symbol||($.call(/[^\w$]/,Pn)?At.push(Ae(Pn,Ee)+": "+Ae(Ee[Pn],Ee)):At.push(Pn+": "+Ae(Ee[Pn],Ee))));if(typeof z=="function")for(var xn=0;xn<Xe.length;xn++)be.call(Ee,Xe[xn])&&At.push("["+Ae(Xe[xn])+"]: "+Ae(Ee[Xe[xn]],Ee));return At}return Bc}var Dc,p1;function z3(){if(p1)return Dc;p1=1;var e=R0(),t=Ni(),n=function(u,g,f){for(var m=u,y;(y=m.next)!=null;m=y)if(y.key===g)return m.next=y.next,f||(y.next=u.next,u.next=y),y},r=function(u,g){if(u){var f=n(u,g);return f&&f.value}},o=function(u,g,f){var m=n(u,g);m?m.value=f:u.next={key:g,next:u.next,value:f}},a=function(u,g){return u?!!n(u,g):!1},c=function(u,g){if(u)return n(u,g,!0)};return Dc=function(){var g,f={assert:function(m){if(!f.has(m))throw new t("Side channel does not contain "+e(m))},delete:function(m){var y=g&&g.next,v=c(g,m);return v&&y&&y===v&&(g=void 0),!!v},get:function(m){return r(g,m)},has:function(m){return a(g,m)},set:function(m,y){g||(g={next:void 0}),o(g,m,y)}};return f},Dc}var _c,m1;function wm(){return m1||(m1=1,_c=Object),_c}var kc,y1;function V3(){return y1||(y1=1,kc=Error),kc}var Sc,b1;function q3(){return b1||(b1=1,Sc=EvalError),Sc}var Fc,E1;function W3(){return E1||(E1=1,Fc=RangeError),Fc}var Tc,v1;function G3(){return v1||(v1=1,Tc=ReferenceError),Tc}var Ic,C1;function Q3(){return C1||(C1=1,Ic=SyntaxError),Ic}var Mc,w1;function K3(){return w1||(w1=1,Mc=URIError),Mc}var Pc,A1;function Y3(){return A1||(A1=1,Pc=Math.abs),Pc}var Rc,B1;function X3(){return B1||(B1=1,Rc=Math.floor),Rc}var Oc,D1;function Z3(){return D1||(D1=1,Oc=Math.max),Oc}var Nc,_1;function J3(){return _1||(_1=1,Nc=Math.min),Nc}var Lc,k1;function e5(){return k1||(k1=1,Lc=Math.pow),Lc}var $c,S1;function t5(){return S1||(S1=1,$c=Math.round),$c}var jc,F1;function n5(){return F1||(F1=1,jc=Number.isNaN||function(t){return t!==t}),jc}var Uc,T1;function r5(){if(T1)return Uc;T1=1;var e=n5();return Uc=function(n){return e(n)||n===0?n:n<0?-1:1},Uc}var Hc,I1;function s5(){return I1||(I1=1,Hc=Object.getOwnPropertyDescriptor),Hc}var zc,M1;function Am(){if(M1)return zc;M1=1;var e=s5();if(e)try{e([],"length")}catch{e=null}return zc=e,zc}var Vc,P1;function o5(){if(P1)return Vc;P1=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return Vc=e,Vc}var qc,R1;function i5(){return R1||(R1=1,qc=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var o=42;t[n]=o;for(var a in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var c=Object.getOwnPropertySymbols(t);if(c.length!==1||c[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(t,n);if(u.value!==o||u.enumerable!==!0)return!1}return!0}),qc}var Wc,O1;function a5(){if(O1)return Wc;O1=1;var e=typeof Symbol<"u"&&Symbol,t=i5();return Wc=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},Wc}var Gc,N1;function Bm(){return N1||(N1=1,Gc=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Gc}var Qc,L1;function Dm(){if(L1)return Qc;L1=1;var e=wm();return Qc=e.getPrototypeOf||null,Qc}var Kc,$1;function l5(){if($1)return Kc;$1=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,n=Math.max,r="[object Function]",o=function(g,f){for(var m=[],y=0;y<g.length;y+=1)m[y]=g[y];for(var v=0;v<f.length;v+=1)m[v+g.length]=f[v];return m},a=function(g,f){for(var m=[],y=f,v=0;y<g.length;y+=1,v+=1)m[v]=g[y];return m},c=function(u,g){for(var f="",m=0;m<u.length;m+=1)f+=u[m],m+1<u.length&&(f+=g);return f};return Kc=function(g){var f=this;if(typeof f!="function"||t.apply(f)!==r)throw new TypeError(e+f);for(var m=a(arguments,1),y,v=function(){if(this instanceof y){var T=f.apply(this,o(m,arguments));return Object(T)===T?T:this}return f.apply(g,o(m,arguments))},C=n(0,f.length-m.length),A=[],D=0;D<C;D++)A[D]="$"+D;if(y=Function("binder","return function ("+c(A,",")+"){ return binder.apply(this,arguments); }")(v),f.prototype){var _=function(){};_.prototype=f.prototype,y.prototype=new _,_.prototype=null}return y},Kc}var Yc,j1;function O0(){if(j1)return Yc;j1=1;var e=l5();return Yc=Function.prototype.bind||e,Yc}var Xc,U1;function px(){return U1||(U1=1,Xc=Function.prototype.call),Xc}var Zc,H1;function _m(){return H1||(H1=1,Zc=Function.prototype.apply),Zc}var Jc,z1;function c5(){return z1||(z1=1,Jc=typeof Reflect<"u"&&Reflect&&Reflect.apply),Jc}var ed,V1;function d5(){if(V1)return ed;V1=1;var e=O0(),t=_m(),n=px(),r=c5();return ed=r||e.call(n,t),ed}var td,q1;function km(){if(q1)return td;q1=1;var e=O0(),t=Ni(),n=px(),r=d5();return td=function(a){if(a.length<1||typeof a[0]!="function")throw new t("a function is required");return r(e,n,a)},td}var nd,W1;function u5(){if(W1)return nd;W1=1;var e=km(),t=Am(),n;try{n=[].__proto__===Array.prototype}catch(c){if(!c||typeof c!="object"||!("code"in c)||c.code!=="ERR_PROTO_ACCESS")throw c}var r=!!n&&t&&t(Object.prototype,"__proto__"),o=Object,a=o.getPrototypeOf;return nd=r&&typeof r.get=="function"?e([r.get]):typeof a=="function"?function(u){return a(u==null?u:o(u))}:!1,nd}var rd,G1;function x5(){if(G1)return rd;G1=1;var e=Bm(),t=Dm(),n=u5();return rd=e?function(o){return e(o)}:t?function(o){if(!o||typeof o!="object"&&typeof o!="function")throw new TypeError("getProto: not an object");return t(o)}:n?function(o){return n(o)}:null,rd}var sd,Q1;function f5(){if(Q1)return sd;Q1=1;const e=(async function(){}).constructor;return sd=()=>e,sd}var od,K1;function h5(){if(K1)return od;K1=1;const e=(function*(){}).constructor;return od=()=>e,od}var id,Y1;function g5(){if(Y1)return id;Y1=1;const e=(async function*(){}).constructor;return id=()=>e,id}var ad,X1;function p5(){if(X1)return ad;X1=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,n=O0();return ad=n.call(e,t),ad}var ld,Z1;function mx(){if(Z1)return ld;Z1=1;var e,t=wm(),n=V3(),r=q3(),o=W3(),a=G3(),c=Q3(),u=Ni(),g=K3(),f=Y3(),m=X3(),y=Z3(),v=J3(),C=e5(),A=t5(),D=r5(),_=Am(),T=o5(),j=function(){throw new u},F=_?(function(){try{return arguments.callee,j}catch{try{return _(arguments,"callee").get}catch{return j}}})():j,k=a5()(),P=x5(),$=Dm(),O=Bm(),q=_m(),S=px(),U={},G=typeof Uint8Array>"u"||!P?e:P(Uint8Array),z={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":k&&P?P([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":U,"%AsyncGenerator%":U,"%AsyncGeneratorFunction%":U,"%AsyncIteratorPrototype%":U,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":r,"%Float16Array%":typeof Float16Array>"u"?e:Float16Array,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":Function,"%GeneratorFunction%":U,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":k&&P?P(P([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!k||!P?e:P(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":_,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":o,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!k||!P?e:P(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":k&&P?P(""[Symbol.iterator]()):e,"%Symbol%":k?Symbol:e,"%SyntaxError%":c,"%ThrowTypeError%":F,"%TypedArray%":G,"%TypeError%":u,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":g,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet,"%Function.prototype.call%":S,"%Function.prototype.apply%":q,"%Object.defineProperty%":T,"%Object.getPrototypeOf%":$,"%Math.abs%":f,"%Math.floor%":m,"%Math.max%":y,"%Math.min%":v,"%Math.pow%":C,"%Math.round%":A,"%Math.sign%":D,"%Reflect.getPrototypeOf%":O};if(P)try{null.error}catch(Me){var ee=P(P(Me));z["%Error.prototype%"]=ee}var se=f5(),J=h5(),be=g5(),he=function Me(ze){var et;if(ze==="%AsyncFunction%")et=se()||void 0;else if(ze==="%GeneratorFunction%")et=J()||void 0;else if(ze==="%AsyncGeneratorFunction%")et=be()||void 0;else if(ze==="%AsyncGenerator%"){var X=Me("%AsyncGeneratorFunction%");X&&(et=X.prototype)}else if(ze==="%AsyncIteratorPrototype%"){var Y=Me("%AsyncGenerator%");Y&&P&&(et=P(Y.prototype))}return z[ze]=et,et},we={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Oe=O0(),Re=p5(),ge=Oe.call(S,Array.prototype.concat),ve=Oe.call(q,Array.prototype.splice),re=Oe.call(S,String.prototype.replace),ye=Oe.call(S,String.prototype.slice),Ke=Oe.call(S,RegExp.prototype.exec),le=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ie=/\\(\\)?/g,ae=function(ze){var et=ye(ze,0,1),X=ye(ze,-1);if(et==="%"&&X!=="%")throw new c("invalid intrinsic syntax, expected closing `%`");if(X==="%"&&et!=="%")throw new c("invalid intrinsic syntax, expected opening `%`");var Y=[];return re(ze,le,function(L,N,B,M){Y[Y.length]=B?re(M,ie,"$1"):N||L}),Y},Ne=function(ze,et){var X=ze,Y;if(Re(we,X)&&(Y=we[X],X="%"+Y[0]+"%"),Re(z,X)){var L=z[X];if(L===U&&(L=he(X)),typeof L>"u"&&!et)throw new u("intrinsic "+ze+" exists, but is not available. Please file an issue!");return{alias:Y,name:X,value:L}}throw new c("intrinsic "+ze+" does not exist!")};return ld=function(ze,et){if(typeof ze!="string"||ze.length===0)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof et!="boolean")throw new u('"allowMissing" argument must be a boolean');if(Ke(/^%?[^%]*%?$/,ze)===null)throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var X=ae(ze),Y=X.length>0?X[0]:"",L=Ne("%"+Y+"%",et),N=L.name,B=L.value,M=!1,ue=L.alias;ue&&(Y=ue[0],ve(X,ge([0,1],ue)));for(var _e=1,te=!0;_e<X.length;_e+=1){var Z=X[_e],fe=ye(Z,0,1),ce=ye(Z,-1);if((fe==='"'||fe==="'"||fe==="`"||ce==='"'||ce==="'"||ce==="`")&&fe!==ce)throw new c("property names with quotes must have matching quotes");if((Z==="constructor"||!te)&&(M=!0),Y+="."+Z,N="%"+Y+"%",Re(z,N))B=z[N];else if(B!=null){if(!(Z in B)){if(!et)throw new u("base intrinsic for "+ze+" exists, but the property is not available.");return}if(_&&_e+1>=X.length){var de=_(B,Z);te=!!de,te&&"get"in de&&!("originalValue"in de.get)?B=de.get:B=B[Z]}else te=Re(B,Z),B=B[Z];te&&!M&&(z[N]=B)}}return B},ld}var cd,J1;function Sm(){if(J1)return cd;J1=1;var e=mx(),t=km(),n=t([e("%String.prototype.indexOf%")]);return cd=function(o,a){var c=e(o,!!a);return typeof c=="function"&&n(o,".prototype.")>-1?t([c]):c},cd}var dd,eh;function Fm(){if(eh)return dd;eh=1;var e=mx(),t=Sm(),n=R0(),r=Ni(),o=e("%Map%",!0),a=t("Map.prototype.get",!0),c=t("Map.prototype.set",!0),u=t("Map.prototype.has",!0),g=t("Map.prototype.delete",!0),f=t("Map.prototype.size",!0);return dd=!!o&&function(){var y,v={assert:function(C){if(!v.has(C))throw new r("Side channel does not contain "+n(C))},delete:function(C){if(y){var A=g(y,C);return f(y)===0&&(y=void 0),A}return!1},get:function(C){if(y)return a(y,C)},has:function(C){return y?u(y,C):!1},set:function(C,A){y||(y=new o),c(y,C,A)}};return v},dd}var ud,th;function m5(){if(th)return ud;th=1;var e=mx(),t=Sm(),n=R0(),r=Fm(),o=Ni(),a=e("%WeakMap%",!0),c=t("WeakMap.prototype.get",!0),u=t("WeakMap.prototype.set",!0),g=t("WeakMap.prototype.has",!0),f=t("WeakMap.prototype.delete",!0);return ud=a?function(){var y,v,C={assert:function(A){if(!C.has(A))throw new o("Side channel does not contain "+n(A))},delete:function(A){if(a&&A&&(typeof A=="object"||typeof A=="function")){if(y)return f(y,A)}else if(r&&v)return v.delete(A);return!1},get:function(A){return a&&A&&(typeof A=="object"||typeof A=="function")&&y?c(y,A):v&&v.get(A)},has:function(A){return a&&A&&(typeof A=="object"||typeof A=="function")&&y?g(y,A):!!v&&v.has(A)},set:function(A,D){a&&A&&(typeof A=="object"||typeof A=="function")?(y||(y=new a),u(y,A,D)):r&&(v||(v=r()),v.set(A,D))}};return C}:r,ud}var xd,nh;function y5(){if(nh)return xd;nh=1;var e=Ni(),t=R0(),n=z3(),r=Fm(),o=m5(),a=o||r||n;return xd=function(){var u,g={assert:function(f){if(!g.has(f))throw new e("Side channel does not contain "+t(f))},delete:function(f){return!!u&&u.delete(f)},get:function(f){return u&&u.get(f)},has:function(f){return!!u&&u.has(f)},set:function(f,m){u||(u=a()),u.set(f,m)}};return g},xd}var fd,rh;function yx(){if(rh)return fd;rh=1;var e=String.prototype.replace,t=/%20/g,n={RFC1738:"RFC1738",RFC3986:"RFC3986"};return fd={default:n.RFC3986,formatters:{RFC1738:function(r){return e.call(r,t,"+")},RFC3986:function(r){return String(r)}},RFC1738:n.RFC1738,RFC3986:n.RFC3986},fd}var hd,sh;function Tm(){if(sh)return hd;sh=1;var e=yx(),t=Object.prototype.hasOwnProperty,n=Array.isArray,r=(function(){for(var _=[],T=0;T<256;++T)_.push("%"+((T<16?"0":"")+T.toString(16)).toUpperCase());return _})(),o=function(T){for(;T.length>1;){var j=T.pop(),F=j.obj[j.prop];if(n(F)){for(var k=[],P=0;P<F.length;++P)typeof F[P]<"u"&&k.push(F[P]);j.obj[j.prop]=k}}},a=function(T,j){for(var F=j&&j.plainObjects?{__proto__:null}:{},k=0;k<T.length;++k)typeof T[k]<"u"&&(F[k]=T[k]);return F},c=function _(T,j,F){if(!j)return T;if(typeof j!="object"&&typeof j!="function"){if(n(T))T.push(j);else if(T&&typeof T=="object")(F&&(F.plainObjects||F.allowPrototypes)||!t.call(Object.prototype,j))&&(T[j]=!0);else return[T,j];return T}if(!T||typeof T!="object")return[T].concat(j);var k=T;return n(T)&&!n(j)&&(k=a(T,F)),n(T)&&n(j)?(j.forEach(function(P,$){if(t.call(T,$)){var O=T[$];O&&typeof O=="object"&&P&&typeof P=="object"?T[$]=_(O,P,F):T.push(P)}else T[$]=P}),T):Object.keys(j).reduce(function(P,$){var O=j[$];return t.call(P,$)?P[$]=_(P[$],O,F):P[$]=O,P},k)},u=function(T,j){return Object.keys(j).reduce(function(F,k){return F[k]=j[k],F},T)},g=function(_,T,j){var F=_.replace(/\+/g," ");if(j==="iso-8859-1")return F.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(F)}catch{return F}},f=1024,m=function(T,j,F,k,P){if(T.length===0)return T;var $=T;if(typeof T=="symbol"?$=Symbol.prototype.toString.call(T):typeof T!="string"&&($=String(T)),F==="iso-8859-1")return escape($).replace(/%u[0-9a-f]{4}/gi,function(ee){return"%26%23"+parseInt(ee.slice(2),16)+"%3B"});for(var O="",q=0;q<$.length;q+=f){for(var S=$.length>=f?$.slice(q,q+f):$,U=[],G=0;G<S.length;++G){var z=S.charCodeAt(G);if(z===45||z===46||z===95||z===126||z>=48&&z<=57||z>=65&&z<=90||z>=97&&z<=122||P===e.RFC1738&&(z===40||z===41)){U[U.length]=S.charAt(G);continue}if(z<128){U[U.length]=r[z];continue}if(z<2048){U[U.length]=r[192|z>>6]+r[128|z&63];continue}if(z<55296||z>=57344){U[U.length]=r[224|z>>12]+r[128|z>>6&63]+r[128|z&63];continue}G+=1,z=65536+((z&1023)<<10|S.charCodeAt(G)&1023),U[U.length]=r[240|z>>18]+r[128|z>>12&63]+r[128|z>>6&63]+r[128|z&63]}O+=U.join("")}return O},y=function(T){for(var j=[{obj:{o:T},prop:"o"}],F=[],k=0;k<j.length;++k)for(var P=j[k],$=P.obj[P.prop],O=Object.keys($),q=0;q<O.length;++q){var S=O[q],U=$[S];typeof U=="object"&&U!==null&&F.indexOf(U)===-1&&(j.push({obj:$,prop:S}),F.push(U))}return o(j),T},v=function(T){return Object.prototype.toString.call(T)==="[object RegExp]"},C=function(T){return!T||typeof T!="object"?!1:!!(T.constructor&&T.constructor.isBuffer&&T.constructor.isBuffer(T))},A=function(T,j){return[].concat(T,j)},D=function(T,j){if(n(T)){for(var F=[],k=0;k<T.length;k+=1)F.push(j(T[k]));return F}return j(T)};return hd={arrayToObject:a,assign:u,combine:A,compact:y,decode:g,encode:m,isBuffer:C,isRegExp:v,maybeMap:D,merge:c},hd}var gd,oh;function b5(){if(oh)return gd;oh=1;var e=y5(),t=Tm(),n=yx(),r=Object.prototype.hasOwnProperty,o={brackets:function(_){return _+"[]"},comma:"comma",indices:function(_,T){return _+"["+T+"]"},repeat:function(_){return _}},a=Array.isArray,c=Array.prototype.push,u=function(D,_){c.apply(D,a(_)?_:[_])},g=Date.prototype.toISOString,f=n.default,m={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:t.encode,encodeValuesOnly:!1,filter:void 0,format:f,formatter:n.formatters[f],indices:!1,serializeDate:function(_){return g.call(_)},skipNulls:!1,strictNullHandling:!1},y=function(_){return typeof _=="string"||typeof _=="number"||typeof _=="boolean"||typeof _=="symbol"||typeof _=="bigint"},v={},C=function D(_,T,j,F,k,P,$,O,q,S,U,G,z,ee,se,J,be,he){for(var we=_,Oe=he,Re=0,ge=!1;(Oe=Oe.get(v))!==void 0&&!ge;){var ve=Oe.get(_);if(Re+=1,typeof ve<"u"){if(ve===Re)throw new RangeError("Cyclic object value");ge=!0}typeof Oe.get(v)>"u"&&(Re=0)}if(typeof S=="function"?we=S(T,we):we instanceof Date?we=z(we):j==="comma"&&a(we)&&(we=t.maybeMap(we,function(L){return L instanceof Date?z(L):L})),we===null){if(P)return q&&!J?q(T,m.encoder,be,"key",ee):T;we=""}if(y(we)||t.isBuffer(we)){if(q){var re=J?T:q(T,m.encoder,be,"key",ee);return[se(re)+"="+se(q(we,m.encoder,be,"value",ee))]}return[se(T)+"="+se(String(we))]}var ye=[];if(typeof we>"u")return ye;var Ke;if(j==="comma"&&a(we))J&&q&&(we=t.maybeMap(we,q)),Ke=[{value:we.length>0?we.join(",")||null:void 0}];else if(a(S))Ke=S;else{var le=Object.keys(we);Ke=U?le.sort(U):le}var ie=O?String(T).replace(/\./g,"%2E"):String(T),ae=F&&a(we)&&we.length===1?ie+"[]":ie;if(k&&a(we)&&we.length===0)return ae+"[]";for(var Ne=0;Ne<Ke.length;++Ne){var Me=Ke[Ne],ze=typeof Me=="object"&&Me&&typeof Me.value<"u"?Me.value:we[Me];if(!($&&ze===null)){var et=G&&O?String(Me).replace(/\./g,"%2E"):String(Me),X=a(we)?typeof j=="function"?j(ae,et):ae:ae+(G?"."+et:"["+et+"]");he.set(_,Re);var Y=e();Y.set(v,he),u(ye,D(ze,X,j,F,k,P,$,O,j==="comma"&&J&&a(we)?null:q,S,U,G,z,ee,se,J,be,Y))}}return ye},A=function(_){if(!_)return m;if(typeof _.allowEmptyArrays<"u"&&typeof _.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof _.encodeDotInKeys<"u"&&typeof _.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(_.encoder!==null&&typeof _.encoder<"u"&&typeof _.encoder!="function")throw new TypeError("Encoder has to be a function.");var T=_.charset||m.charset;if(typeof _.charset<"u"&&_.charset!=="utf-8"&&_.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var j=n.default;if(typeof _.format<"u"){if(!r.call(n.formatters,_.format))throw new TypeError("Unknown format option provided.");j=_.format}var F=n.formatters[j],k=m.filter;(typeof _.filter=="function"||a(_.filter))&&(k=_.filter);var P;if(_.arrayFormat in o?P=_.arrayFormat:"indices"in _?P=_.indices?"indices":"repeat":P=m.arrayFormat,"commaRoundTrip"in _&&typeof _.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var $=typeof _.allowDots>"u"?_.encodeDotInKeys===!0?!0:m.allowDots:!!_.allowDots;return{addQueryPrefix:typeof _.addQueryPrefix=="boolean"?_.addQueryPrefix:m.addQueryPrefix,allowDots:$,allowEmptyArrays:typeof _.allowEmptyArrays=="boolean"?!!_.allowEmptyArrays:m.allowEmptyArrays,arrayFormat:P,charset:T,charsetSentinel:typeof _.charsetSentinel=="boolean"?_.charsetSentinel:m.charsetSentinel,commaRoundTrip:!!_.commaRoundTrip,delimiter:typeof _.delimiter>"u"?m.delimiter:_.delimiter,encode:typeof _.encode=="boolean"?_.encode:m.encode,encodeDotInKeys:typeof _.encodeDotInKeys=="boolean"?_.encodeDotInKeys:m.encodeDotInKeys,encoder:typeof _.encoder=="function"?_.encoder:m.encoder,encodeValuesOnly:typeof _.encodeValuesOnly=="boolean"?_.encodeValuesOnly:m.encodeValuesOnly,filter:k,format:j,formatter:F,serializeDate:typeof _.serializeDate=="function"?_.serializeDate:m.serializeDate,skipNulls:typeof _.skipNulls=="boolean"?_.skipNulls:m.skipNulls,sort:typeof _.sort=="function"?_.sort:null,strictNullHandling:typeof _.strictNullHandling=="boolean"?_.strictNullHandling:m.strictNullHandling}};return gd=function(D,_){var T=D,j=A(_),F,k;typeof j.filter=="function"?(k=j.filter,T=k("",T)):a(j.filter)&&(k=j.filter,F=k);var P=[];if(typeof T!="object"||T===null)return"";var $=o[j.arrayFormat],O=$==="comma"&&j.commaRoundTrip;F||(F=Object.keys(T)),j.sort&&F.sort(j.sort);for(var q=e(),S=0;S<F.length;++S){var U=F[S],G=T[U];j.skipNulls&&G===null||u(P,C(G,U,$,O,j.allowEmptyArrays,j.strictNullHandling,j.skipNulls,j.encodeDotInKeys,j.encode?j.encoder:null,j.filter,j.sort,j.allowDots,j.serializeDate,j.format,j.formatter,j.encodeValuesOnly,j.charset,q))}var z=P.join(j.delimiter),ee=j.addQueryPrefix===!0?"?":"";return j.charsetSentinel&&(j.charset==="iso-8859-1"?ee+="utf8=%26%2310003%3B&":ee+="utf8=%E2%9C%93&"),z.length>0?ee+z:""},gd}var pd,ih;function E5(){if(ih)return pd;ih=1;var e=Tm(),t=Object.prototype.hasOwnProperty,n=Array.isArray,r={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:e.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},o=function(v){return v.replace(/&#(\d+);/g,function(C,A){return String.fromCharCode(parseInt(A,10))})},a=function(v,C,A){if(v&&typeof v=="string"&&C.comma&&v.indexOf(",")>-1)return v.split(",");if(C.throwOnLimitExceeded&&A>=C.arrayLimit)throw new RangeError("Array limit exceeded. Only "+C.arrayLimit+" element"+(C.arrayLimit===1?"":"s")+" allowed in an array.");return v},c="utf8=%26%2310003%3B",u="utf8=%E2%9C%93",g=function(C,A){var D={__proto__:null},_=A.ignoreQueryPrefix?C.replace(/^\?/,""):C;_=_.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var T=A.parameterLimit===1/0?void 0:A.parameterLimit,j=_.split(A.delimiter,A.throwOnLimitExceeded?T+1:T);if(A.throwOnLimitExceeded&&j.length>T)throw new RangeError("Parameter limit exceeded. Only "+T+" parameter"+(T===1?"":"s")+" allowed.");var F=-1,k,P=A.charset;if(A.charsetSentinel)for(k=0;k<j.length;++k)j[k].indexOf("utf8=")===0&&(j[k]===u?P="utf-8":j[k]===c&&(P="iso-8859-1"),F=k,k=j.length);for(k=0;k<j.length;++k)if(k!==F){var $=j[k],O=$.indexOf("]="),q=O===-1?$.indexOf("="):O+1,S,U;q===-1?(S=A.decoder($,r.decoder,P,"key"),U=A.strictNullHandling?null:""):(S=A.decoder($.slice(0,q),r.decoder,P,"key"),U=e.maybeMap(a($.slice(q+1),A,n(D[S])?D[S].length:0),function(z){return A.decoder(z,r.decoder,P,"value")})),U&&A.interpretNumericEntities&&P==="iso-8859-1"&&(U=o(String(U))),$.indexOf("[]=")>-1&&(U=n(U)?[U]:U);var G=t.call(D,S);G&&A.duplicates==="combine"?D[S]=e.combine(D[S],U):(!G||A.duplicates==="last")&&(D[S]=U)}return D},f=function(v,C,A,D){var _=0;if(v.length>0&&v[v.length-1]==="[]"){var T=v.slice(0,-1).join("");_=Array.isArray(C)&&C[T]?C[T].length:0}for(var j=D?C:a(C,A,_),F=v.length-1;F>=0;--F){var k,P=v[F];if(P==="[]"&&A.parseArrays)k=A.allowEmptyArrays&&(j===""||A.strictNullHandling&&j===null)?[]:e.combine([],j);else{k=A.plainObjects?{__proto__:null}:{};var $=P.charAt(0)==="["&&P.charAt(P.length-1)==="]"?P.slice(1,-1):P,O=A.decodeDotInKeys?$.replace(/%2E/g,"."):$,q=parseInt(O,10);!A.parseArrays&&O===""?k={0:j}:!isNaN(q)&&P!==O&&String(q)===O&&q>=0&&A.parseArrays&&q<=A.arrayLimit?(k=[],k[q]=j):O!=="__proto__"&&(k[O]=j)}j=k}return j},m=function(C,A,D,_){if(C){var T=D.allowDots?C.replace(/\.([^.[]+)/g,"[$1]"):C,j=/(\[[^[\]]*])/,F=/(\[[^[\]]*])/g,k=D.depth>0&&j.exec(T),P=k?T.slice(0,k.index):T,$=[];if(P){if(!D.plainObjects&&t.call(Object.prototype,P)&&!D.allowPrototypes)return;$.push(P)}for(var O=0;D.depth>0&&(k=F.exec(T))!==null&&O<D.depth;){if(O+=1,!D.plainObjects&&t.call(Object.prototype,k[1].slice(1,-1))&&!D.allowPrototypes)return;$.push(k[1])}if(k){if(D.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+D.depth+" and strictDepth is true");$.push("["+T.slice(k.index)+"]")}return f($,A,D,_)}},y=function(C){if(!C)return r;if(typeof C.allowEmptyArrays<"u"&&typeof C.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof C.decodeDotInKeys<"u"&&typeof C.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(C.decoder!==null&&typeof C.decoder<"u"&&typeof C.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof C.charset<"u"&&C.charset!=="utf-8"&&C.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof C.throwOnLimitExceeded<"u"&&typeof C.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var A=typeof C.charset>"u"?r.charset:C.charset,D=typeof C.duplicates>"u"?r.duplicates:C.duplicates;if(D!=="combine"&&D!=="first"&&D!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var _=typeof C.allowDots>"u"?C.decodeDotInKeys===!0?!0:r.allowDots:!!C.allowDots;return{allowDots:_,allowEmptyArrays:typeof C.allowEmptyArrays=="boolean"?!!C.allowEmptyArrays:r.allowEmptyArrays,allowPrototypes:typeof C.allowPrototypes=="boolean"?C.allowPrototypes:r.allowPrototypes,allowSparse:typeof C.allowSparse=="boolean"?C.allowSparse:r.allowSparse,arrayLimit:typeof C.arrayLimit=="number"?C.arrayLimit:r.arrayLimit,charset:A,charsetSentinel:typeof C.charsetSentinel=="boolean"?C.charsetSentinel:r.charsetSentinel,comma:typeof C.comma=="boolean"?C.comma:r.comma,decodeDotInKeys:typeof C.decodeDotInKeys=="boolean"?C.decodeDotInKeys:r.decodeDotInKeys,decoder:typeof C.decoder=="function"?C.decoder:r.decoder,delimiter:typeof C.delimiter=="string"||e.isRegExp(C.delimiter)?C.delimiter:r.delimiter,depth:typeof C.depth=="number"||C.depth===!1?+C.depth:r.depth,duplicates:D,ignoreQueryPrefix:C.ignoreQueryPrefix===!0,interpretNumericEntities:typeof C.interpretNumericEntities=="boolean"?C.interpretNumericEntities:r.interpretNumericEntities,parameterLimit:typeof C.parameterLimit=="number"?C.parameterLimit:r.parameterLimit,parseArrays:C.parseArrays!==!1,plainObjects:typeof C.plainObjects=="boolean"?C.plainObjects:r.plainObjects,strictDepth:typeof C.strictDepth=="boolean"?!!C.strictDepth:r.strictDepth,strictNullHandling:typeof C.strictNullHandling=="boolean"?C.strictNullHandling:r.strictNullHandling,throwOnLimitExceeded:typeof C.throwOnLimitExceeded=="boolean"?C.throwOnLimitExceeded:!1}};return pd=function(v,C){var A=y(C);if(v===""||v===null||typeof v>"u")return A.plainObjects?{__proto__:null}:{};for(var D=typeof v=="string"?g(v,A):v,_=A.plainObjects?{__proto__:null}:{},T=Object.keys(D),j=0;j<T.length;++j){var F=T[j],k=m(F,D[F],A,typeof v=="string");_=e.merge(_,k,A)}return A.allowSparse===!0?_:e.compact(_)},pd}var md,ah;function v5(){if(ah)return md;ah=1;var e=b5(),t=E5(),n=yx();return md={formats:n,parse:t,stringify:e},md}var lh=v5();function Im(e,t){return function(){return e.apply(t,arguments)}}const{toString:C5}=Object.prototype,{getPrototypeOf:bx}=Object,{iterator:N0,toStringTag:Mm}=Symbol,L0=(e=>t=>{const n=C5.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Kr=e=>(e=e.toLowerCase(),t=>L0(t)===e),$0=e=>t=>typeof t===e,{isArray:Li}=Array,Fi=$0("undefined");function Ya(e){return e!==null&&!Fi(e)&&e.constructor!==null&&!Fi(e.constructor)&&lr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Pm=Kr("ArrayBuffer");function w5(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Pm(e.buffer),t}const A5=$0("string"),lr=$0("function"),Rm=$0("number"),Xa=e=>e!==null&&typeof e=="object",B5=e=>e===!0||e===!1,zl=e=>{if(L0(e)!=="object")return!1;const t=bx(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Mm in e)&&!(N0 in e)},D5=e=>{if(!Xa(e)||Ya(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},_5=Kr("Date"),k5=Kr("File"),S5=Kr("Blob"),F5=Kr("FileList"),T5=e=>Xa(e)&&lr(e.pipe),I5=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||lr(e.append)&&((t=L0(e))==="formdata"||t==="object"&&lr(e.toString)&&e.toString()==="[object FormData]"))},M5=Kr("URLSearchParams"),[P5,R5,O5,N5]=["ReadableStream","Request","Response","Headers"].map(Kr),L5=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Za(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),Li(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{if(Ya(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),c=a.length;let u;for(r=0;r<c;r++)u=a[r],t.call(null,e[u],u,e)}}function Om(e,t){if(Ya(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,o;for(;r-- >0;)if(o=n[r],t===o.toLowerCase())return o;return null}const Io=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Nm=e=>!Fi(e)&&e!==Io;function wu(){const{caseless:e,skipUndefined:t}=Nm(this)&&this||{},n={},r=(o,a)=>{const c=e&&Om(n,a)||a;zl(n[c])&&zl(o)?n[c]=wu(n[c],o):zl(o)?n[c]=wu({},o):Li(o)?n[c]=o.slice():(!t||!Fi(o))&&(n[c]=o)};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&Za(arguments[o],r);return n}const $5=(e,t,n,{allOwnKeys:r}={})=>(Za(t,(o,a)=>{n&&lr(o)?e[a]=Im(o,n):e[a]=o},{allOwnKeys:r}),e),j5=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),U5=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},H5=(e,t,n,r)=>{let o,a,c;const u={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),a=o.length;a-- >0;)c=o[a],(!r||r(c,e,t))&&!u[c]&&(t[c]=e[c],u[c]=!0);e=n!==!1&&bx(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},z5=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},V5=e=>{if(!e)return null;if(Li(e))return e;let t=e.length;if(!Rm(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},q5=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&bx(Uint8Array)),W5=(e,t)=>{const r=(e&&e[N0]).call(e);let o;for(;(o=r.next())&&!o.done;){const a=o.value;t.call(e,a[0],a[1])}},G5=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Q5=Kr("HTMLFormElement"),K5=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),ch=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Y5=Kr("RegExp"),Lm=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Za(n,(o,a)=>{let c;(c=t(o,a,e))!==!1&&(r[a]=c||o)}),Object.defineProperties(e,r)},X5=e=>{Lm(e,(t,n)=>{if(lr(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(lr(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Z5=(e,t)=>{const n={},r=o=>{o.forEach(a=>{n[a]=!0})};return Li(e)?r(e):r(String(e).split(t)),n},J5=()=>{},eC=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function tC(e){return!!(e&&lr(e.append)&&e[Mm]==="FormData"&&e[N0])}const nC=e=>{const t=new Array(10),n=(r,o)=>{if(Xa(r)){if(t.indexOf(r)>=0)return;if(Ya(r))return r;if(!("toJSON"in r)){t[o]=r;const a=Li(r)?[]:{};return Za(r,(c,u)=>{const g=n(c,o+1);!Fi(g)&&(a[u]=g)}),t[o]=void 0,a}}return r};return n(e,0)},rC=Kr("AsyncFunction"),sC=e=>e&&(Xa(e)||lr(e))&&lr(e.then)&&lr(e.catch),$m=((e,t)=>e?setImmediate:t?((n,r)=>(Io.addEventListener("message",({source:o,data:a})=>{o===Io&&a===n&&r.length&&r.shift()()},!1),o=>{r.push(o),Io.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",lr(Io.postMessage)),oC=typeof queueMicrotask<"u"?queueMicrotask.bind(Io):typeof process<"u"&&process.nextTick||$m,iC=e=>e!=null&&lr(e[N0]),Ie={isArray:Li,isArrayBuffer:Pm,isBuffer:Ya,isFormData:I5,isArrayBufferView:w5,isString:A5,isNumber:Rm,isBoolean:B5,isObject:Xa,isPlainObject:zl,isEmptyObject:D5,isReadableStream:P5,isRequest:R5,isResponse:O5,isHeaders:N5,isUndefined:Fi,isDate:_5,isFile:k5,isBlob:S5,isRegExp:Y5,isFunction:lr,isStream:T5,isURLSearchParams:M5,isTypedArray:q5,isFileList:F5,forEach:Za,merge:wu,extend:$5,trim:L5,stripBOM:j5,inherits:U5,toFlatObject:H5,kindOf:L0,kindOfTest:Kr,endsWith:z5,toArray:V5,forEachEntry:W5,matchAll:G5,isHTMLForm:Q5,hasOwnProperty:ch,hasOwnProp:ch,reduceDescriptors:Lm,freezeMethods:X5,toObjectSet:Z5,toCamelCase:K5,noop:J5,toFiniteNumber:eC,findKey:Om,global:Io,isContextDefined:Nm,isSpecCompliantForm:tC,toJSONObject:nC,isAsyncFn:rC,isThenable:sC,setImmediate:$m,asap:oC,isIterable:iC};function ft(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}Ie.inherits(ft,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ie.toJSONObject(this.config),code:this.code,status:this.status}}});const jm=ft.prototype,Um={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Um[e]={value:e}});Object.defineProperties(ft,Um);Object.defineProperty(jm,"isAxiosError",{value:!0});ft.from=(e,t,n,r,o,a)=>{const c=Object.create(jm);Ie.toFlatObject(e,c,function(m){return m!==Error.prototype},f=>f!=="isAxiosError");const u=e&&e.message?e.message:"Error",g=t==null&&e?e.code:t;return ft.call(c,u,g,n,r,o),e&&c.cause==null&&Object.defineProperty(c,"cause",{value:e,configurable:!0}),c.name=e&&e.name||"Error",a&&Object.assign(c,a),c};const aC=null;function Au(e){return Ie.isPlainObject(e)||Ie.isArray(e)}function Hm(e){return Ie.endsWith(e,"[]")?e.slice(0,-2):e}function dh(e,t,n){return e?e.concat(t).map(function(o,a){return o=Hm(o),!n&&a?"["+o+"]":o}).join(n?".":""):t}function lC(e){return Ie.isArray(e)&&!e.some(Au)}const cC=Ie.toFlatObject(Ie,{},null,function(t){return/^is[A-Z]/.test(t)});function j0(e,t,n){if(!Ie.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Ie.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(D,_){return!Ie.isUndefined(_[D])});const r=n.metaTokens,o=n.visitor||m,a=n.dots,c=n.indexes,g=(n.Blob||typeof Blob<"u"&&Blob)&&Ie.isSpecCompliantForm(t);if(!Ie.isFunction(o))throw new TypeError("visitor must be a function");function f(A){if(A===null)return"";if(Ie.isDate(A))return A.toISOString();if(Ie.isBoolean(A))return A.toString();if(!g&&Ie.isBlob(A))throw new ft("Blob is not supported. Use a Buffer instead.");return Ie.isArrayBuffer(A)||Ie.isTypedArray(A)?g&&typeof Blob=="function"?new Blob([A]):Buffer.from(A):A}function m(A,D,_){let T=A;if(A&&!_&&typeof A=="object"){if(Ie.endsWith(D,"{}"))D=r?D:D.slice(0,-2),A=JSON.stringify(A);else if(Ie.isArray(A)&&lC(A)||(Ie.isFileList(A)||Ie.endsWith(D,"[]"))&&(T=Ie.toArray(A)))return D=Hm(D),T.forEach(function(F,k){!(Ie.isUndefined(F)||F===null)&&t.append(c===!0?dh([D],k,a):c===null?D:D+"[]",f(F))}),!1}return Au(A)?!0:(t.append(dh(_,D,a),f(A)),!1)}const y=[],v=Object.assign(cC,{defaultVisitor:m,convertValue:f,isVisitable:Au});function C(A,D){if(!Ie.isUndefined(A)){if(y.indexOf(A)!==-1)throw Error("Circular reference detected in "+D.join("."));y.push(A),Ie.forEach(A,function(T,j){(!(Ie.isUndefined(T)||T===null)&&o.call(t,T,Ie.isString(j)?j.trim():j,D,v))===!0&&C(T,D?D.concat(j):[j])}),y.pop()}}if(!Ie.isObject(e))throw new TypeError("data must be an object");return C(e),t}function uh(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Ex(e,t){this._pairs=[],e&&j0(e,this,t)}const zm=Ex.prototype;zm.append=function(t,n){this._pairs.push([t,n])};zm.toString=function(t){const n=t?function(r){return t.call(this,r,uh)}:uh;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function dC(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Vm(e,t,n){if(!t)return e;const r=n&&n.encode||dC;Ie.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let a;if(o?a=o(t,n):a=Ie.isURLSearchParams(t)?t.toString():new Ex(t,n).toString(r),a){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class xh{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ie.forEach(this.handlers,function(r){r!==null&&t(r)})}}const qm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},uC=typeof URLSearchParams<"u"?URLSearchParams:Ex,xC=typeof FormData<"u"?FormData:null,fC=typeof Blob<"u"?Blob:null,hC={isBrowser:!0,classes:{URLSearchParams:uC,FormData:xC,Blob:fC},protocols:["http","https","file","blob","url","data"]},vx=typeof window<"u"&&typeof document<"u",Bu=typeof navigator=="object"&&navigator||void 0,gC=vx&&(!Bu||["ReactNative","NativeScript","NS"].indexOf(Bu.product)<0),pC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",mC=vx&&window.location.href||"http://localhost",yC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:vx,hasStandardBrowserEnv:gC,hasStandardBrowserWebWorkerEnv:pC,navigator:Bu,origin:mC},Symbol.toStringTag,{value:"Module"})),$n={...yC,...hC};function bC(e,t){return j0(e,new $n.classes.URLSearchParams,{visitor:function(n,r,o,a){return $n.isNode&&Ie.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function EC(e){return Ie.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function vC(e){const t={},n=Object.keys(e);let r;const o=n.length;let a;for(r=0;r<o;r++)a=n[r],t[a]=e[a];return t}function Wm(e){function t(n,r,o,a){let c=n[a++];if(c==="__proto__")return!0;const u=Number.isFinite(+c),g=a>=n.length;return c=!c&&Ie.isArray(o)?o.length:c,g?(Ie.hasOwnProp(o,c)?o[c]=[o[c],r]:o[c]=r,!u):((!o[c]||!Ie.isObject(o[c]))&&(o[c]=[]),t(n,r,o[c],a)&&Ie.isArray(o[c])&&(o[c]=vC(o[c])),!u)}if(Ie.isFormData(e)&&Ie.isFunction(e.entries)){const n={};return Ie.forEachEntry(e,(r,o)=>{t(EC(r),o,n,0)}),n}return null}function CC(e,t,n){if(Ie.isString(e))try{return(t||JSON.parse)(e),Ie.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Ja={transitional:qm,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,a=Ie.isObject(t);if(a&&Ie.isHTMLForm(t)&&(t=new FormData(t)),Ie.isFormData(t))return o?JSON.stringify(Wm(t)):t;if(Ie.isArrayBuffer(t)||Ie.isBuffer(t)||Ie.isStream(t)||Ie.isFile(t)||Ie.isBlob(t)||Ie.isReadableStream(t))return t;if(Ie.isArrayBufferView(t))return t.buffer;if(Ie.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return bC(t,this.formSerializer).toString();if((u=Ie.isFileList(t))||r.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return j0(u?{"files[]":t}:t,g&&new g,this.formSerializer)}}return a||o?(n.setContentType("application/json",!1),CC(t)):t}],transformResponse:[function(t){const n=this.transitional||Ja.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(Ie.isResponse(t)||Ie.isReadableStream(t))return t;if(t&&Ie.isString(t)&&(r&&!this.responseType||o)){const c=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t,this.parseReviver)}catch(u){if(c)throw u.name==="SyntaxError"?ft.from(u,ft.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$n.classes.FormData,Blob:$n.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ie.forEach(["delete","get","head","post","put","patch"],e=>{Ja.headers[e]={}});const wC=Ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),AC=e=>{const t={};let n,r,o;return e&&e.split(`
`).forEach(function(c){o=c.indexOf(":"),n=c.substring(0,o).trim().toLowerCase(),r=c.substring(o+1).trim(),!(!n||t[n]&&wC[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},fh=Symbol("internals");function Ji(e){return e&&String(e).trim().toLowerCase()}function Vl(e){return e===!1||e==null?e:Ie.isArray(e)?e.map(Vl):String(e)}function BC(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const DC=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function yd(e,t,n,r,o){if(Ie.isFunction(r))return r.call(this,t,n);if(o&&(t=n),!!Ie.isString(t)){if(Ie.isString(r))return t.indexOf(r)!==-1;if(Ie.isRegExp(r))return r.test(t)}}function _C(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function kC(e,t){const n=Ie.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(o,a,c){return this[r].call(this,t,o,a,c)},configurable:!0})})}let cr=class{constructor(t){t&&this.set(t)}set(t,n,r){const o=this;function a(u,g,f){const m=Ji(g);if(!m)throw new Error("header name must be a non-empty string");const y=Ie.findKey(o,m);(!y||o[y]===void 0||f===!0||f===void 0&&o[y]!==!1)&&(o[y||g]=Vl(u))}const c=(u,g)=>Ie.forEach(u,(f,m)=>a(f,m,g));if(Ie.isPlainObject(t)||t instanceof this.constructor)c(t,n);else if(Ie.isString(t)&&(t=t.trim())&&!DC(t))c(AC(t),n);else if(Ie.isObject(t)&&Ie.isIterable(t)){let u={},g,f;for(const m of t){if(!Ie.isArray(m))throw TypeError("Object iterator must return a key-value pair");u[f=m[0]]=(g=u[f])?Ie.isArray(g)?[...g,m[1]]:[g,m[1]]:m[1]}c(u,n)}else t!=null&&a(n,t,r);return this}get(t,n){if(t=Ji(t),t){const r=Ie.findKey(this,t);if(r){const o=this[r];if(!n)return o;if(n===!0)return BC(o);if(Ie.isFunction(n))return n.call(this,o,r);if(Ie.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Ji(t),t){const r=Ie.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||yd(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let o=!1;function a(c){if(c=Ji(c),c){const u=Ie.findKey(r,c);u&&(!n||yd(r,r[u],u,n))&&(delete r[u],o=!0)}}return Ie.isArray(t)?t.forEach(a):a(t),o}clear(t){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const a=n[r];(!t||yd(this,this[a],a,t,!0))&&(delete this[a],o=!0)}return o}normalize(t){const n=this,r={};return Ie.forEach(this,(o,a)=>{const c=Ie.findKey(r,a);if(c){n[c]=Vl(o),delete n[a];return}const u=t?_C(a):String(a).trim();u!==a&&delete n[a],n[u]=Vl(o),r[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Ie.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=t&&Ie.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(o=>r.set(o)),r}static accessor(t){const r=(this[fh]=this[fh]={accessors:{}}).accessors,o=this.prototype;function a(c){const u=Ji(c);r[u]||(kC(o,c),r[u]=!0)}return Ie.isArray(t)?t.forEach(a):a(t),this}};cr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ie.reduceDescriptors(cr.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});Ie.freezeMethods(cr);function bd(e,t){const n=this||Ja,r=t||n,o=cr.from(r.headers);let a=r.data;return Ie.forEach(e,function(u){a=u.call(n,a,o.normalize(),t?t.status:void 0)}),o.normalize(),a}function Gm(e){return!!(e&&e.__CANCEL__)}function $i(e,t,n){ft.call(this,e??"canceled",ft.ERR_CANCELED,t,n),this.name="CanceledError"}Ie.inherits($i,ft,{__CANCEL__:!0});function Qm(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ft("Request failed with status code "+n.status,[ft.ERR_BAD_REQUEST,ft.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function SC(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function FC(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o=0,a=0,c;return t=t!==void 0?t:1e3,function(g){const f=Date.now(),m=r[a];c||(c=f),n[o]=g,r[o]=f;let y=a,v=0;for(;y!==o;)v+=n[y++],y=y%e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),f-c<t)return;const C=m&&f-m;return C?Math.round(v*1e3/C):void 0}}function TC(e,t){let n=0,r=1e3/t,o,a;const c=(f,m=Date.now())=>{n=m,o=null,a&&(clearTimeout(a),a=null),e(...f)};return[(...f)=>{const m=Date.now(),y=m-n;y>=r?c(f,m):(o=f,a||(a=setTimeout(()=>{a=null,c(o)},r-y)))},()=>o&&c(o)]}const u0=(e,t,n=3)=>{let r=0;const o=FC(50,250);return TC(a=>{const c=a.loaded,u=a.lengthComputable?a.total:void 0,g=c-r,f=o(g),m=c<=u;r=c;const y={loaded:c,total:u,progress:u?c/u:void 0,bytes:g,rate:f||void 0,estimated:f&&u&&m?(u-c)/f:void 0,event:a,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(y)},n)},hh=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},gh=e=>(...t)=>Ie.asap(()=>e(...t)),IC=$n.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,$n.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL($n.origin),$n.navigator&&/(msie|trident)/i.test($n.navigator.userAgent)):()=>!0,MC=$n.hasStandardBrowserEnv?{write(e,t,n,r,o,a){const c=[e+"="+encodeURIComponent(t)];Ie.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),Ie.isString(r)&&c.push("path="+r),Ie.isString(o)&&c.push("domain="+o),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function PC(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function RC(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Km(e,t,n){let r=!PC(t);return e&&(r||n==!1)?RC(e,t):t}const ph=e=>e instanceof cr?{...e}:e;function qo(e,t){t=t||{};const n={};function r(f,m,y,v){return Ie.isPlainObject(f)&&Ie.isPlainObject(m)?Ie.merge.call({caseless:v},f,m):Ie.isPlainObject(m)?Ie.merge({},m):Ie.isArray(m)?m.slice():m}function o(f,m,y,v){if(Ie.isUndefined(m)){if(!Ie.isUndefined(f))return r(void 0,f,y,v)}else return r(f,m,y,v)}function a(f,m){if(!Ie.isUndefined(m))return r(void 0,m)}function c(f,m){if(Ie.isUndefined(m)){if(!Ie.isUndefined(f))return r(void 0,f)}else return r(void 0,m)}function u(f,m,y){if(y in t)return r(f,m);if(y in e)return r(void 0,f)}const g={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u,headers:(f,m,y)=>o(ph(f),ph(m),y,!0)};return Ie.forEach(Object.keys({...e,...t}),function(m){const y=g[m]||o,v=y(e[m],t[m],m);Ie.isUndefined(v)&&y!==u||(n[m]=v)}),n}const Ym=e=>{const t=qo({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:a,headers:c,auth:u}=t;if(t.headers=c=cr.from(c),t.url=Vm(Km(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&c.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),Ie.isFormData(n)){if($n.hasStandardBrowserEnv||$n.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(Ie.isFunction(n.getHeaders)){const g=n.getHeaders(),f=["content-type","content-length"];Object.entries(g).forEach(([m,y])=>{f.includes(m.toLowerCase())&&c.set(m,y)})}}if($n.hasStandardBrowserEnv&&(r&&Ie.isFunction(r)&&(r=r(t)),r||r!==!1&&IC(t.url))){const g=o&&a&&MC.read(a);g&&c.set(o,g)}return t},OC=typeof XMLHttpRequest<"u",NC=OC&&function(e){return new Promise(function(n,r){const o=Ym(e);let a=o.data;const c=cr.from(o.headers).normalize();let{responseType:u,onUploadProgress:g,onDownloadProgress:f}=o,m,y,v,C,A;function D(){C&&C(),A&&A(),o.cancelToken&&o.cancelToken.unsubscribe(m),o.signal&&o.signal.removeEventListener("abort",m)}let _=new XMLHttpRequest;_.open(o.method.toUpperCase(),o.url,!0),_.timeout=o.timeout;function T(){if(!_)return;const F=cr.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),P={data:!u||u==="text"||u==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:F,config:e,request:_};Qm(function(O){n(O),D()},function(O){r(O),D()},P),_=null}"onloadend"in _?_.onloadend=T:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(T)},_.onabort=function(){_&&(r(new ft("Request aborted",ft.ECONNABORTED,e,_)),_=null)},_.onerror=function(k){const P=k&&k.message?k.message:"Network Error",$=new ft(P,ft.ERR_NETWORK,e,_);$.event=k||null,r($),_=null},_.ontimeout=function(){let k=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const P=o.transitional||qm;o.timeoutErrorMessage&&(k=o.timeoutErrorMessage),r(new ft(k,P.clarifyTimeoutError?ft.ETIMEDOUT:ft.ECONNABORTED,e,_)),_=null},a===void 0&&c.setContentType(null),"setRequestHeader"in _&&Ie.forEach(c.toJSON(),function(k,P){_.setRequestHeader(P,k)}),Ie.isUndefined(o.withCredentials)||(_.withCredentials=!!o.withCredentials),u&&u!=="json"&&(_.responseType=o.responseType),f&&([v,A]=u0(f,!0),_.addEventListener("progress",v)),g&&_.upload&&([y,C]=u0(g),_.upload.addEventListener("progress",y),_.upload.addEventListener("loadend",C)),(o.cancelToken||o.signal)&&(m=F=>{_&&(r(!F||F.type?new $i(null,e,_):F),_.abort(),_=null)},o.cancelToken&&o.cancelToken.subscribe(m),o.signal&&(o.signal.aborted?m():o.signal.addEventListener("abort",m)));const j=SC(o.url);if(j&&$n.protocols.indexOf(j)===-1){r(new ft("Unsupported protocol "+j+":",ft.ERR_BAD_REQUEST,e));return}_.send(a||null)})},LC=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,o;const a=function(f){if(!o){o=!0,u();const m=f instanceof Error?f:this.reason;r.abort(m instanceof ft?m:new $i(m instanceof Error?m.message:m))}};let c=t&&setTimeout(()=>{c=null,a(new ft(`timeout ${t} of ms exceeded`,ft.ETIMEDOUT))},t);const u=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(a):f.removeEventListener("abort",a)}),e=null)};e.forEach(f=>f.addEventListener("abort",a));const{signal:g}=r;return g.unsubscribe=()=>Ie.asap(u),g}},$C=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,o;for(;r<n;)o=r+t,yield e.slice(r,o),r=o},jC=async function*(e,t){for await(const n of UC(e))yield*$C(n,t)},UC=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},mh=(e,t,n,r)=>{const o=jC(e,t);let a=0,c,u=g=>{c||(c=!0,r&&r(g))};return new ReadableStream({async pull(g){try{const{done:f,value:m}=await o.next();if(f){u(),g.close();return}let y=m.byteLength;if(n){let v=a+=y;n(v)}g.enqueue(new Uint8Array(m))}catch(f){throw u(f),f}},cancel(g){return u(g),o.return()}},{highWaterMark:2})},yh=64*1024,{isFunction:El}=Ie,HC=(({Request:e,Response:t})=>({Request:e,Response:t}))(Ie.global),{ReadableStream:bh,TextEncoder:Eh}=Ie.global,vh=(e,...t)=>{try{return!!e(...t)}catch{return!1}},zC=e=>{e=Ie.merge.call({skipUndefined:!0},HC,e);const{fetch:t,Request:n,Response:r}=e,o=t?El(t):typeof fetch=="function",a=El(n),c=El(r);if(!o)return!1;const u=o&&El(bh),g=o&&(typeof Eh=="function"?(A=>D=>A.encode(D))(new Eh):async A=>new Uint8Array(await new n(A).arrayBuffer())),f=a&&u&&vh(()=>{let A=!1;const D=new n($n.origin,{body:new bh,method:"POST",get duplex(){return A=!0,"half"}}).headers.has("Content-Type");return A&&!D}),m=c&&u&&vh(()=>Ie.isReadableStream(new r("").body)),y={stream:m&&(A=>A.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(A=>{!y[A]&&(y[A]=(D,_)=>{let T=D&&D[A];if(T)return T.call(D);throw new ft(`Response type '${A}' is not supported`,ft.ERR_NOT_SUPPORT,_)})});const v=async A=>{if(A==null)return 0;if(Ie.isBlob(A))return A.size;if(Ie.isSpecCompliantForm(A))return(await new n($n.origin,{method:"POST",body:A}).arrayBuffer()).byteLength;if(Ie.isArrayBufferView(A)||Ie.isArrayBuffer(A))return A.byteLength;if(Ie.isURLSearchParams(A)&&(A=A+""),Ie.isString(A))return(await g(A)).byteLength},C=async(A,D)=>{const _=Ie.toFiniteNumber(A.getContentLength());return _??v(D)};return async A=>{let{url:D,method:_,data:T,signal:j,cancelToken:F,timeout:k,onDownloadProgress:P,onUploadProgress:$,responseType:O,headers:q,withCredentials:S="same-origin",fetchOptions:U}=Ym(A),G=t||fetch;O=O?(O+"").toLowerCase():"text";let z=LC([j,F&&F.toAbortSignal()],k),ee=null;const se=z&&z.unsubscribe&&(()=>{z.unsubscribe()});let J;try{if($&&f&&_!=="get"&&_!=="head"&&(J=await C(q,T))!==0){let ge=new n(D,{method:"POST",body:T,duplex:"half"}),ve;if(Ie.isFormData(T)&&(ve=ge.headers.get("content-type"))&&q.setContentType(ve),ge.body){const[re,ye]=hh(J,u0(gh($)));T=mh(ge.body,yh,re,ye)}}Ie.isString(S)||(S=S?"include":"omit");const be=a&&"credentials"in n.prototype,he={...U,signal:z,method:_.toUpperCase(),headers:q.normalize().toJSON(),body:T,duplex:"half",credentials:be?S:void 0};ee=a&&new n(D,he);let we=await(a?G(ee,U):G(D,he));const Oe=m&&(O==="stream"||O==="response");if(m&&(P||Oe&&se)){const ge={};["status","statusText","headers"].forEach(Ke=>{ge[Ke]=we[Ke]});const ve=Ie.toFiniteNumber(we.headers.get("content-length")),[re,ye]=P&&hh(ve,u0(gh(P),!0))||[];we=new r(mh(we.body,yh,re,()=>{ye&&ye(),se&&se()}),ge)}O=O||"text";let Re=await y[Ie.findKey(y,O)||"text"](we,A);return!Oe&&se&&se(),await new Promise((ge,ve)=>{Qm(ge,ve,{data:Re,headers:cr.from(we.headers),status:we.status,statusText:we.statusText,config:A,request:ee})})}catch(be){throw se&&se(),be&&be.name==="TypeError"&&/Load failed|fetch/i.test(be.message)?Object.assign(new ft("Network Error",ft.ERR_NETWORK,A,ee),{cause:be.cause||be}):ft.from(be,be&&be.code,A,ee)}}},VC=new Map,Xm=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:o}=t,a=[r,o,n];let c=a.length,u=c,g,f,m=VC;for(;u--;)g=a[u],f=m.get(g),f===void 0&&m.set(g,f=u?new Map:zC(t)),m=f;return f};Xm();const Du={http:aC,xhr:NC,fetch:{get:Xm}};Ie.forEach(Du,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Ch=e=>`- ${e}`,qC=e=>Ie.isFunction(e)||e===null||e===!1,Zm={getAdapter:(e,t)=>{e=Ie.isArray(e)?e:[e];const{length:n}=e;let r,o;const a={};for(let c=0;c<n;c++){r=e[c];let u;if(o=r,!qC(r)&&(o=Du[(u=String(r)).toLowerCase()],o===void 0))throw new ft(`Unknown adapter '${u}'`);if(o&&(Ie.isFunction(o)||(o=o.get(t))))break;a[u||"#"+c]=o}if(!o){const c=Object.entries(a).map(([g,f])=>`adapter ${g} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=n?c.length>1?`since :
`+c.map(Ch).join(`
`):" "+Ch(c[0]):"as no adapter specified";throw new ft("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return o},adapters:Du};function Ed(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new $i(null,e)}function wh(e){return Ed(e),e.headers=cr.from(e.headers),e.data=bd.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Zm.getAdapter(e.adapter||Ja.adapter,e)(e).then(function(r){return Ed(e),r.data=bd.call(e,e.transformResponse,r),r.headers=cr.from(r.headers),r},function(r){return Gm(r)||(Ed(e),r&&r.response&&(r.response.data=bd.call(e,e.transformResponse,r.response),r.response.headers=cr.from(r.response.headers))),Promise.reject(r)})}const Jm="1.12.2",U0={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{U0[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Ah={};U0.transitional=function(t,n,r){function o(a,c){return"[Axios v"+Jm+"] Transitional option '"+a+"'"+c+(r?". "+r:"")}return(a,c,u)=>{if(t===!1)throw new ft(o(c," has been removed"+(n?" in "+n:"")),ft.ERR_DEPRECATED);return n&&!Ah[c]&&(Ah[c]=!0,console.warn(o(c," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,c,u):!0}};U0.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function WC(e,t,n){if(typeof e!="object")throw new ft("options must be an object",ft.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const a=r[o],c=t[a];if(c){const u=e[a],g=u===void 0||c(u,a,e);if(g!==!0)throw new ft("option "+a+" must be "+g,ft.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ft("Unknown option "+a,ft.ERR_BAD_OPTION)}}const ql={assertOptions:WC,validators:U0},ts=ql.validators;let $o=class{constructor(t){this.defaults=t||{},this.interceptors={request:new xh,response:new xh}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=qo(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:a}=n;r!==void 0&&ql.assertOptions(r,{silentJSONParsing:ts.transitional(ts.boolean),forcedJSONParsing:ts.transitional(ts.boolean),clarifyTimeoutError:ts.transitional(ts.boolean)},!1),o!=null&&(Ie.isFunction(o)?n.paramsSerializer={serialize:o}:ql.assertOptions(o,{encode:ts.function,serialize:ts.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ql.assertOptions(n,{baseUrl:ts.spelling("baseURL"),withXsrfToken:ts.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=a&&Ie.merge(a.common,a[n.method]);a&&Ie.forEach(["delete","get","head","post","put","patch","common"],A=>{delete a[A]}),n.headers=cr.concat(c,a);const u=[];let g=!0;this.interceptors.request.forEach(function(D){typeof D.runWhen=="function"&&D.runWhen(n)===!1||(g=g&&D.synchronous,u.unshift(D.fulfilled,D.rejected))});const f=[];this.interceptors.response.forEach(function(D){f.push(D.fulfilled,D.rejected)});let m,y=0,v;if(!g){const A=[wh.bind(this),void 0];for(A.unshift(...u),A.push(...f),v=A.length,m=Promise.resolve(n);y<v;)m=m.then(A[y++],A[y++]);return m}v=u.length;let C=n;for(;y<v;){const A=u[y++],D=u[y++];try{C=A(C)}catch(_){D.call(this,_);break}}try{m=wh.call(this,C)}catch(A){return Promise.reject(A)}for(y=0,v=f.length;y<v;)m=m.then(f[y++],f[y++]);return m}getUri(t){t=qo(this.defaults,t);const n=Km(t.baseURL,t.url,t.allowAbsoluteUrls);return Vm(n,t.params,t.paramsSerializer)}};Ie.forEach(["delete","get","head","options"],function(t){$o.prototype[t]=function(n,r){return this.request(qo(r||{},{method:t,url:n,data:(r||{}).data}))}});Ie.forEach(["post","put","patch"],function(t){function n(r){return function(a,c,u){return this.request(qo(u||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}$o.prototype[t]=n(),$o.prototype[t+"Form"]=n(!0)});let GC=class ey{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(o=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](o);r._listeners=null}),this.promise.then=o=>{let a;const c=new Promise(u=>{r.subscribe(u),a=u}).then(o);return c.cancel=function(){r.unsubscribe(a)},c},t(function(a,c,u){r.reason||(r.reason=new $i(a,c,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new ey(function(o){t=o}),cancel:t}}};function QC(e){return function(n){return e.apply(null,n)}}function KC(e){return Ie.isObject(e)&&e.isAxiosError===!0}const _u={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(_u).forEach(([e,t])=>{_u[t]=e});function ty(e){const t=new $o(e),n=Im($o.prototype.request,t);return Ie.extend(n,$o.prototype,t,{allOwnKeys:!0}),Ie.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return ty(qo(e,o))},n}const St=ty(Ja);St.Axios=$o;St.CanceledError=$i;St.CancelToken=GC;St.isCancel=Gm;St.VERSION=Jm;St.toFormData=j0;St.AxiosError=ft;St.Cancel=St.CanceledError;St.all=function(t){return Promise.all(t)};St.spread=QC;St.isAxiosError=KC;St.mergeConfig=qo;St.AxiosHeaders=cr;St.formToJSON=e=>Wm(Ie.isHTMLForm(e)?new FormData(e):e);St.getAdapter=Zm.getAdapter;St.HttpStatusCode=_u;St.default=St;const{Axios:gte,AxiosError:pte,CanceledError:mte,isCancel:yte,CancelToken:bte,VERSION:Ete,all:vte,Cancel:Cte,isAxiosError:wte,spread:Ate,toFormData:Bte,AxiosHeaders:Dte,HttpStatusCode:_te,formToJSON:kte,getAdapter:Ste,mergeConfig:Fte}=St;function ku(e,t){let n;return function(...r){clearTimeout(n),n=setTimeout(()=>e.apply(this,r),t)}}function Lr(e,t){return document.dispatchEvent(new CustomEvent(`inertia:${e}`,t))}var Bh=e=>Lr("before",{cancelable:!0,detail:{visit:e}}),YC=e=>Lr("error",{detail:{errors:e}}),XC=e=>Lr("exception",{cancelable:!0,detail:{exception:e}}),ZC=e=>Lr("finish",{detail:{visit:e}}),JC=e=>Lr("invalid",{cancelable:!0,detail:{response:e}}),ew=e=>Lr("beforeUpdate",{detail:{page:e}}),ba=e=>Lr("navigate",{detail:{page:e}}),tw=e=>Lr("progress",{detail:{progress:e}}),nw=e=>Lr("start",{detail:{visit:e}}),rw=e=>Lr("success",{detail:{page:e}}),sw=(e,t)=>Lr("prefetched",{detail:{fetchedAt:Date.now(),response:e.data,visit:t}}),ow=e=>Lr("prefetching",{detail:{visit:e}}),Gn=class{static set(e,t){typeof window<"u"&&window.sessionStorage.setItem(e,JSON.stringify(t))}static get(e){if(typeof window<"u")return JSON.parse(window.sessionStorage.getItem(e)||"null")}static merge(e,t){const n=this.get(e);n===null?this.set(e,t):this.set(e,{...n,...t})}static remove(e){typeof window<"u"&&window.sessionStorage.removeItem(e)}static removeNested(e,t){const n=this.get(e);n!==null&&(delete n[t],this.set(e,n))}static exists(e){try{return this.get(e)!==null}catch{return!1}}static clear(){typeof window<"u"&&window.sessionStorage.clear()}};Gn.locationVisitKey="inertiaLocationVisit";var iw=async e=>{if(typeof window>"u")throw new Error("Unable to encrypt history");const t=ny(),n=await ry(),r=await xw(n);if(!r)throw new Error("Unable to encrypt history");return await lw(t,r,e)},Ti={key:"historyKey",iv:"historyIv"},aw=async e=>{const t=ny(),n=await ry();if(!n)throw new Error("Unable to decrypt history");return await cw(t,n,e)},lw=async(e,t,n)=>{if(typeof window>"u")throw new Error("Unable to encrypt history");if(typeof window.crypto.subtle>"u")return console.warn("Encryption is not supported in this environment. SSL is required."),Promise.resolve(n);const r=new TextEncoder,o=JSON.stringify(n),a=new Uint8Array(o.length*3),c=r.encodeInto(o,a);return window.crypto.subtle.encrypt({name:"AES-GCM",iv:e},t,a.subarray(0,c.written))},cw=async(e,t,n)=>{if(typeof window.crypto.subtle>"u")return console.warn("Decryption is not supported in this environment. SSL is required."),Promise.resolve(n);const r=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,n);return JSON.parse(new TextDecoder().decode(r))},ny=()=>{const e=Gn.get(Ti.iv);if(e)return new Uint8Array(e);const t=window.crypto.getRandomValues(new Uint8Array(12));return Gn.set(Ti.iv,Array.from(t)),t},dw=async()=>typeof window.crypto.subtle>"u"?(console.warn("Encryption is not supported in this environment. SSL is required."),Promise.resolve(null)):window.crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]),uw=async e=>{if(typeof window.crypto.subtle>"u")return console.warn("Encryption is not supported in this environment. SSL is required."),Promise.resolve();const t=await window.crypto.subtle.exportKey("raw",e);Gn.set(Ti.key,Array.from(new Uint8Array(t)))},xw=async e=>{if(e)return e;const t=await dw();return t?(await uw(t),t):null},ry=async()=>{const e=Gn.get(Ti.key);return e?await window.crypto.subtle.importKey("raw",new Uint8Array(e),{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]):null},qr=class{static save(){Dt.saveScrollPositions(Array.from(this.regions()).map(e=>({top:e.scrollTop,left:e.scrollLeft})))}static regions(){return document.querySelectorAll("[scroll-region]")}static reset(){const e=typeof window<"u"?window.location.hash:null;e||window.scrollTo(0,0),this.regions().forEach(t=>{typeof t.scrollTo=="function"?t.scrollTo(0,0):(t.scrollTop=0,t.scrollLeft=0)}),this.save(),e&&setTimeout(()=>{const t=document.getElementById(e.slice(1));t?t.scrollIntoView():window.scrollTo(0,0)})}static restore(e){this.restoreDocument(),this.regions().forEach((t,n)=>{const r=e[n];r&&(typeof t.scrollTo=="function"?t.scrollTo(r.left,r.top):(t.scrollTop=r.top,t.scrollLeft=r.left))})}static restoreDocument(){const e=Dt.getDocumentScrollPosition();typeof window<"u"&&window.scrollTo(e.left,e.top)}static onScroll(e){const t=e.target;typeof t.hasAttribute=="function"&&t.hasAttribute("scroll-region")&&this.save()}static onWindowScroll(){Dt.saveDocumentScrollPosition({top:window.scrollY,left:window.scrollX})}};function Su(e){return e instanceof File||e instanceof Blob||e instanceof FileList&&e.length>0||e instanceof FormData&&Array.from(e.values()).some(t=>Su(t))||typeof e=="object"&&e!==null&&Object.values(e).some(t=>Su(t))}var Fu=e=>e instanceof FormData;function sy(e,t=new FormData,n=null){e=e||{};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&iy(t,oy(n,r),e[r]);return t}function oy(e,t){return e?e+"["+t+"]":t}function iy(e,t,n){if(Array.isArray(n))return Array.from(n.keys()).forEach(r=>iy(e,oy(t,r.toString()),n[r]));if(n instanceof Date)return e.append(t,n.toISOString());if(n instanceof File)return e.append(t,n,n.name);if(n instanceof Blob)return e.append(t,n);if(typeof n=="boolean")return e.append(t,n?"1":"0");if(typeof n=="string")return e.append(t,n);if(typeof n=="number")return e.append(t,`${n}`);if(n==null)return e.append(t,"");sy(n,e,t)}function Ys(e){return new URL(e.toString(),typeof window>"u"?void 0:window.location.toString())}var fw=(e,t,n,r,o)=>{let a=typeof e=="string"?Ys(e):e;if((Su(t)||r)&&!Fu(t)&&(t=sy(t)),Fu(t))return[a,t];const[c,u]=ay(n,a,t,o);return[Ys(c),u]};function ay(e,t,n,r="brackets"){const o=e==="get"&&!Fu(n)&&Object.keys(n).length>0,a=/^[a-z][a-z0-9+.-]*:\/\//i.test(t.toString()),c=a||t.toString().startsWith("/")||t.toString()==="",u=!c&&!t.toString().startsWith("#")&&!t.toString().startsWith("?"),g=/^[.]{1,2}([/]|$)/.test(t.toString()),f=t.toString().includes("?")||o,m=t.toString().includes("#"),y=new URL(t.toString(),typeof window>"u"?"http://localhost":window.location.toString());if(o){const v={ignoreQueryPrefix:!0,parseArrays:!1};y.search=lh.stringify({...lh.parse(y.search,v),...n},{encodeValuesOnly:!0,arrayFormat:r})}return[[a?`${y.protocol}//${y.host}`:"",c?y.pathname:"",u?y.pathname.substring(g?0:1):"",f?y.search:"",m?y.hash:""].join(""),o?{}:n]}function x0(e){return e=new URL(e.href),e.hash="",e}var Dh=(e,t)=>{e.hash&&!t.hash&&x0(e).href===t.href&&(t.hash=e.hash)},Tu=(e,t)=>x0(e).href===x0(t).href;function f0(e){return e!==null&&typeof e=="object"&&e!==void 0&&"url"in e&&"method"in e}var hw=class{constructor(){this.componentId={},this.listeners=[],this.isFirstPageLoad=!0,this.cleared=!1,this.pendingDeferredProps=null}init({initialPage:e,swapComponent:t,resolveComponent:n}){return this.page=e,this.swapComponent=t,this.resolveComponent=n,this}set(e,{replace:t=!1,preserveScroll:n=!1,preserveState:r=!1}={}){Object.keys(e.deferredProps||{}).length&&(this.pendingDeferredProps={deferredProps:e.deferredProps,component:e.component,url:e.url}),this.componentId={};const o=this.componentId;return e.clearHistory&&Dt.clear(),this.resolve(e.component).then(a=>{if(o!==this.componentId)return;e.rememberedState??(e.rememberedState={});const c=typeof window<"u"?window.location:new URL(e.url);return t=t||Tu(Ys(e.url),c),new Promise(u=>{t?Dt.replaceState(e,()=>u(null)):Dt.pushState(e,()=>u(null))}).then(()=>{const u=!this.isTheSame(e);return this.page=e,this.cleared=!1,u&&this.fireEventsFor("newComponent"),this.isFirstPageLoad&&this.fireEventsFor("firstLoad"),this.isFirstPageLoad=!1,this.swap({component:a,page:e,preserveState:r}).then(()=>{n||qr.reset(),this.pendingDeferredProps&&this.pendingDeferredProps.component===e.component&&this.pendingDeferredProps.url===e.url&&Mo.fireInternalEvent("loadDeferredProps",this.pendingDeferredProps.deferredProps),this.pendingDeferredProps=null,t||ba(e)})})})}setQuietly(e,{preserveState:t=!1}={}){return this.resolve(e.component).then(n=>(this.page=e,this.cleared=!1,Dt.setCurrent(e),this.swap({component:n,page:e,preserveState:t})))}clear(){this.cleared=!0}isCleared(){return this.cleared}get(){return this.page}merge(e){this.page={...this.page,...e}}setUrlHash(e){this.page.url.includes(e)||(this.page.url+=e)}remember(e){this.page.rememberedState=e}swap({component:e,page:t,preserveState:n}){return this.swapComponent({component:e,page:t,preserveState:n})}resolve(e){return Promise.resolve(this.resolveComponent(e))}isTheSame(e){return this.page.component===e.component}on(e,t){return this.listeners.push({event:e,callback:t}),()=>{this.listeners=this.listeners.filter(n=>n.event!==e&&n.callback!==t)}}fireEventsFor(e){this.listeners.filter(t=>t.event===e).forEach(t=>t.callback())}},lt=new hw,ly=class{constructor(){this.items=[],this.processingPromise=null}add(e){return this.items.push(e),this.process()}process(){return this.processingPromise??(this.processingPromise=this.processNext().finally(()=>{this.processingPromise=null})),this.processingPromise}processNext(){const e=this.items.shift();return e?Promise.resolve(e()).then(()=>this.processNext()):Promise.resolve()}},la=typeof window>"u",ea=new ly,_h=!la&&/CriOS/.test(window.navigator.userAgent),gw=class{constructor(){this.rememberedState="rememberedState",this.scrollRegions="scrollRegions",this.preserveUrl=!1,this.current={},this.initialState=null}remember(e,t){this.replaceState({...lt.get(),rememberedState:{...lt.get()?.rememberedState??{},[t]:e}})}restore(e){if(!la)return this.current[this.rememberedState]?this.current[this.rememberedState]?.[e]:this.initialState?.[this.rememberedState]?.[e]}pushState(e,t=null){if(!la){if(this.preserveUrl){t&&t();return}this.current=e,ea.add(()=>this.getPageData(e).then(n=>{const r=()=>{this.doPushState({page:n},e.url),t&&t()};_h?setTimeout(r):r()}))}}getPageData(e){return new Promise(t=>e.encryptHistory?iw(e).then(t):t(e))}processQueue(){return ea.process()}decrypt(e=null){if(la)return Promise.resolve(e??lt.get());const t=e??window.history.state?.page;return this.decryptPageData(t).then(n=>{if(!n)throw new Error("Unable to decrypt history");return this.initialState===null?this.initialState=n??void 0:this.current=n??{},n})}decryptPageData(e){return e instanceof ArrayBuffer?aw(e):Promise.resolve(e)}saveScrollPositions(e){ea.add(()=>Promise.resolve().then(()=>{window.history.state?.page&&this.doReplaceState({page:window.history.state.page,scrollRegions:e})}))}saveDocumentScrollPosition(e){ea.add(()=>Promise.resolve().then(()=>{window.history.state?.page&&this.doReplaceState({page:window.history.state.page,documentScrollPosition:e})}))}getScrollRegions(){return window.history.state?.scrollRegions||[]}getDocumentScrollPosition(){return window.history.state?.documentScrollPosition||{top:0,left:0}}replaceState(e,t=null){if(lt.merge(e),!la){if(this.preserveUrl){t&&t();return}this.current=e,ea.add(()=>this.getPageData(e).then(n=>{const r=()=>{this.doReplaceState({page:n},e.url),t&&t()};_h?setTimeout(r):r()}))}}doReplaceState(e,t){window.history.replaceState({...e,scrollRegions:e.scrollRegions??window.history.state?.scrollRegions,documentScrollPosition:e.documentScrollPosition??window.history.state?.documentScrollPosition},"",t)}doPushState(e,t){window.history.pushState(e,"",t)}getState(e,t){return this.current?.[e]??t}deleteState(e){this.current[e]!==void 0&&(delete this.current[e],this.replaceState(this.current))}clearInitialState(e){this.initialState&&this.initialState[e]!==void 0&&delete this.initialState[e]}hasAnyState(){return!!this.getAllState()}clear(){Gn.remove(Ti.key),Gn.remove(Ti.iv)}setCurrent(e){this.current=e}isValidState(e){return!!e.page}getAllState(){return this.current}};typeof window<"u"&&window.history.scrollRestoration&&(window.history.scrollRestoration="manual");var Dt=new gw,pw=class{constructor(){this.internalListeners=[]}init(){typeof window<"u"&&(window.addEventListener("popstate",this.handlePopstateEvent.bind(this)),window.addEventListener("scroll",ku(qr.onWindowScroll.bind(qr),100),!0)),typeof document<"u"&&document.addEventListener("scroll",ku(qr.onScroll.bind(qr),100),!0)}onGlobalEvent(e,t){const n=(r=>{const o=t(r);r.cancelable&&!r.defaultPrevented&&o===!1&&r.preventDefault()});return this.registerListener(`inertia:${e}`,n)}on(e,t){return this.internalListeners.push({event:e,listener:t}),()=>{this.internalListeners=this.internalListeners.filter(n=>n.listener!==t)}}onMissingHistoryItem(){lt.clear(),this.fireInternalEvent("missingHistoryItem")}fireInternalEvent(e,...t){this.internalListeners.filter(n=>n.event===e).forEach(n=>n.listener(...t))}registerListener(e,t){return document.addEventListener(e,t),()=>document.removeEventListener(e,t)}handlePopstateEvent(e){const t=e.state||null;if(t===null){const n=Ys(lt.get().url);n.hash=window.location.hash,Dt.replaceState({...lt.get(),url:n.href}),qr.reset();return}if(!Dt.isValidState(t))return this.onMissingHistoryItem();Dt.decrypt(t.page).then(n=>{if(lt.get().version!==n.version){this.onMissingHistoryItem();return}bt.cancelAll(),lt.setQuietly(n,{preserveState:!1}).then(()=>{window.requestAnimationFrame(()=>{qr.restore(Dt.getScrollRegions())}),ba(lt.get())})}).catch(()=>{this.onMissingHistoryItem()})}},Mo=new pw,mw=class{constructor(){this.type=this.resolveType()}resolveType(){return typeof window>"u"?"navigate":window.performance&&window.performance.getEntriesByType&&window.performance.getEntriesByType("navigation").length>0?window.performance.getEntriesByType("navigation")[0].type:"navigate"}get(){return this.type}isBackForward(){return this.type==="back_forward"}isReload(){return this.type==="reload"}},vd=new mw,yw=class{static handle(){this.clearRememberedStateOnReload(),[this.handleBackForward,this.handleLocation,this.handleDefault].find(t=>t.bind(this)())}static clearRememberedStateOnReload(){vd.isReload()&&(Dt.deleteState(Dt.rememberedState),Dt.clearInitialState(Dt.rememberedState))}static handleBackForward(){if(!vd.isBackForward()||!Dt.hasAnyState())return!1;const e=Dt.getScrollRegions();return Dt.decrypt().then(t=>{lt.set(t,{preserveScroll:!0,preserveState:!0}).then(()=>{qr.restore(e),ba(lt.get())})}).catch(()=>{Mo.onMissingHistoryItem()}),!0}static handleLocation(){if(!Gn.exists(Gn.locationVisitKey))return!1;const e=Gn.get(Gn.locationVisitKey)||{};return Gn.remove(Gn.locationVisitKey),typeof window<"u"&&lt.setUrlHash(window.location.hash),Dt.decrypt(lt.get()).then(()=>{const t=Dt.getState(Dt.rememberedState,{}),n=Dt.getScrollRegions();lt.remember(t),lt.set(lt.get(),{preserveScroll:e.preserveScroll,preserveState:!0}).then(()=>{e.preserveScroll&&qr.restore(n),ba(lt.get())})}).catch(()=>{Mo.onMissingHistoryItem()}),!0}static handleDefault(){typeof window<"u"&&lt.setUrlHash(window.location.hash),lt.set(lt.get(),{preserveScroll:!0,preserveState:!0}).then(()=>{vd.isReload()&&qr.restore(Dt.getScrollRegions()),ba(lt.get())})}},bw=class{constructor(e,t,n){this.id=null,this.throttle=!1,this.keepAlive=!1,this.cbCount=0,this.keepAlive=n.keepAlive??!1,this.cb=t,this.interval=e,(n.autoStart??!0)&&this.start()}stop(){this.id&&clearInterval(this.id)}start(){typeof window>"u"||(this.stop(),this.id=window.setInterval(()=>{(!this.throttle||this.cbCount%10===0)&&this.cb(),this.throttle&&this.cbCount++},this.interval))}isInBackground(e){this.throttle=this.keepAlive?!1:e,this.throttle&&(this.cbCount=0)}},Ew=class{constructor(){this.polls=[],this.setupVisibilityListener()}add(e,t,n){const r=new bw(e,t,n);return this.polls.push(r),{stop:()=>r.stop(),start:()=>r.start()}}clear(){this.polls.forEach(e=>e.stop()),this.polls=[]}setupVisibilityListener(){typeof document>"u"||document.addEventListener("visibilitychange",()=>{this.polls.forEach(e=>e.isInBackground(document.hidden))},!1)}},vw=new Ew,cy=(e,t,n)=>{if(e===t)return!0;for(const r in e)if(!n.includes(r)&&e[r]!==t[r]&&!Cw(e[r],t[r]))return!1;return!0},Cw=(e,t)=>{switch(typeof e){case"object":return cy(e,t,[]);case"function":return e.toString()===t.toString();default:return e===t}},ww={ms:1,s:1e3,m:1e3*60,h:1e3*60*60,d:1e3*60*60*24},kh=e=>{if(typeof e=="number")return e;for(const[t,n]of Object.entries(ww))if(e.endsWith(t))return parseFloat(e)*n;return parseInt(e)},Aw=class{constructor(){this.cached=[],this.inFlightRequests=[],this.removalTimers=[],this.currentUseId=null}add(e,t,{cacheFor:n,cacheTags:r}){if(this.findInFlight(e))return Promise.resolve();const a=this.findCached(e);if(!e.fresh&&a&&a.staleTimestamp>Date.now())return Promise.resolve();const[c,u]=this.extractStaleValues(n),g=new Promise((f,m)=>{t({...e,onCancel:()=>{this.remove(e),e.onCancel(),m()},onError:y=>{this.remove(e),e.onError(y),m()},onPrefetching(y){e.onPrefetching(y)},onPrefetched(y,v){e.onPrefetched(y,v)},onPrefetchResponse(y){f(y)},onPrefetchError(y){ys.removeFromInFlight(e),m(y)}})}).then(f=>(this.remove(e),this.cached.push({params:{...e},staleTimestamp:Date.now()+c,response:g,singleUse:u===0,timestamp:Date.now(),inFlight:!1,tags:Array.isArray(r)?r:[r]}),this.scheduleForRemoval(e,u),this.removeFromInFlight(e),f.handlePrefetch(),f));return this.inFlightRequests.push({params:{...e},response:g,staleTimestamp:null,inFlight:!0}),g}removeAll(){this.cached=[],this.removalTimers.forEach(e=>{clearTimeout(e.timer)}),this.removalTimers=[]}removeByTags(e){this.cached=this.cached.filter(t=>!t.tags.some(n=>e.includes(n)))}remove(e){this.cached=this.cached.filter(t=>!this.paramsAreEqual(t.params,e)),this.clearTimer(e)}removeFromInFlight(e){this.inFlightRequests=this.inFlightRequests.filter(t=>!this.paramsAreEqual(t.params,e))}extractStaleValues(e){const[t,n]=this.cacheForToStaleAndExpires(e);return[kh(t),kh(n)]}cacheForToStaleAndExpires(e){if(!Array.isArray(e))return[e,e];switch(e.length){case 0:return[0,0];case 1:return[e[0],e[0]];default:return[e[0],e[1]]}}clearTimer(e){const t=this.removalTimers.find(n=>this.paramsAreEqual(n.params,e));t&&(clearTimeout(t.timer),this.removalTimers=this.removalTimers.filter(n=>n!==t))}scheduleForRemoval(e,t){if(!(typeof window>"u")&&(this.clearTimer(e),t>0)){const n=window.setTimeout(()=>this.remove(e),t);this.removalTimers.push({params:e,timer:n})}}get(e){return this.findCached(e)||this.findInFlight(e)}use(e,t){const n=`${t.url.pathname}-${Date.now()}-${Math.random().toString(36).substring(7)}`;return this.currentUseId=n,e.response.then(r=>{if(this.currentUseId===n)return r.mergeParams({...t,onPrefetched:()=>{}}),this.removeSingleUseItems(t),r.handle()})}removeSingleUseItems(e){this.cached=this.cached.filter(t=>this.paramsAreEqual(t.params,e)?!t.singleUse:!0)}findCached(e){return this.cached.find(t=>this.paramsAreEqual(t.params,e))||null}findInFlight(e){return this.inFlightRequests.find(t=>this.paramsAreEqual(t.params,e))||null}withoutPurposePrefetchHeader(e){const t=nr(e);return t.headers.Purpose==="prefetch"&&delete t.headers.Purpose,t}paramsAreEqual(e,t){return cy(this.withoutPurposePrefetchHeader(e),this.withoutPurposePrefetchHeader(t),["showProgress","replace","prefetch","onBefore","onBeforeUpdate","onStart","onProgress","onFinish","onCancel","onSuccess","onError","onPrefetched","onCancelToken","onPrefetching","async"])}},ys=new Aw,Bw=class dy{constructor(t){if(this.callbacks=[],!t.prefetch)this.params=t;else{const n={onBefore:this.wrapCallback(t,"onBefore"),onBeforeUpdate:this.wrapCallback(t,"onBeforeUpdate"),onStart:this.wrapCallback(t,"onStart"),onProgress:this.wrapCallback(t,"onProgress"),onFinish:this.wrapCallback(t,"onFinish"),onCancel:this.wrapCallback(t,"onCancel"),onSuccess:this.wrapCallback(t,"onSuccess"),onError:this.wrapCallback(t,"onError"),onCancelToken:this.wrapCallback(t,"onCancelToken"),onPrefetched:this.wrapCallback(t,"onPrefetched"),onPrefetching:this.wrapCallback(t,"onPrefetching")};this.params={...t,...n,onPrefetchResponse:t.onPrefetchResponse||(()=>{}),onPrefetchError:t.onPrefetchError||(()=>{})}}}static create(t){return new dy(t)}data(){return this.params.method==="get"?null:this.params.data}queryParams(){return this.params.method==="get"?this.params.data:{}}isPartial(){return this.params.only.length>0||this.params.except.length>0||this.params.reset.length>0}onCancelToken(t){this.params.onCancelToken({cancel:t})}markAsFinished(){this.params.completed=!0,this.params.cancelled=!1,this.params.interrupted=!1}markAsCancelled({cancelled:t=!0,interrupted:n=!1}){this.params.onCancel(),this.params.completed=!1,this.params.cancelled=t,this.params.interrupted=n}wasCancelledAtAll(){return this.params.cancelled||this.params.interrupted}onFinish(){this.params.onFinish(this.params)}onStart(){this.params.onStart(this.params)}onPrefetching(){this.params.onPrefetching(this.params)}onPrefetchResponse(t){this.params.onPrefetchResponse&&this.params.onPrefetchResponse(t)}onPrefetchError(t){this.params.onPrefetchError&&this.params.onPrefetchError(t)}all(){return this.params}headers(){const t={...this.params.headers};this.isPartial()&&(t["X-Inertia-Partial-Component"]=lt.get().component);const n=this.params.only.concat(this.params.reset);return n.length>0&&(t["X-Inertia-Partial-Data"]=n.join(",")),this.params.except.length>0&&(t["X-Inertia-Partial-Except"]=this.params.except.join(",")),this.params.reset.length>0&&(t["X-Inertia-Reset"]=this.params.reset.join(",")),this.params.errorBag&&this.params.errorBag.length>0&&(t["X-Inertia-Error-Bag"]=this.params.errorBag),t}setPreserveOptions(t){this.params.preserveScroll=this.resolvePreserveOption(this.params.preserveScroll,t),this.params.preserveState=this.resolvePreserveOption(this.params.preserveState,t)}runCallbacks(){this.callbacks.forEach(({name:t,args:n})=>{this.params[t](...n)})}merge(t){this.params={...this.params,...t}}wrapCallback(t,n){return(...r)=>{this.recordCallback(n,r),t[n](...r)}}recordCallback(t,n){this.callbacks.push({name:t,args:n})}resolvePreserveOption(t,n){return typeof t=="function"?t(n):t==="errors"?Object.keys(n.props.errors||{}).length>0:t}},Dw={modal:null,listener:null,show(e){typeof e=="object"&&(e=`All Inertia requests must receive a valid Inertia response, however a plain JSON response was received.<hr>${JSON.stringify(e)}`);const t=document.createElement("html");t.innerHTML=e,t.querySelectorAll("a").forEach(r=>r.setAttribute("target","_top")),this.modal=document.createElement("div"),this.modal.style.position="fixed",this.modal.style.width="100vw",this.modal.style.height="100vh",this.modal.style.padding="50px",this.modal.style.boxSizing="border-box",this.modal.style.backgroundColor="rgba(0, 0, 0, .6)",this.modal.style.zIndex=2e5,this.modal.addEventListener("click",()=>this.hide());const n=document.createElement("iframe");if(n.style.backgroundColor="white",n.style.borderRadius="5px",n.style.width="100%",n.style.height="100%",this.modal.appendChild(n),document.body.prepend(this.modal),document.body.style.overflow="hidden",!n.contentWindow)throw new Error("iframe not yet ready.");n.contentWindow.document.open(),n.contentWindow.document.write(t.outerHTML),n.contentWindow.document.close(),this.listener=this.hideOnEscape.bind(this),document.addEventListener("keydown",this.listener)},hide(){this.modal.outerHTML="",this.modal=null,document.body.style.overflow="visible",document.removeEventListener("keydown",this.listener)},hideOnEscape(e){e.keyCode===27&&this.hide()}},_w=new ly,Sh=class uy{constructor(t,n,r){this.requestParams=t,this.response=n,this.originatingPage=r,this.wasPrefetched=!1}static create(t,n,r){return new uy(t,n,r)}async handlePrefetch(){Tu(this.requestParams.all().url,window.location)&&this.handle()}async handle(){return _w.add(()=>this.process())}async process(){if(this.requestParams.all().prefetch)return this.wasPrefetched=!0,this.requestParams.all().prefetch=!1,this.requestParams.all().onPrefetched(this.response,this.requestParams.all()),sw(this.response,this.requestParams.all()),Promise.resolve();if(this.requestParams.runCallbacks(),!this.isInertiaResponse())return this.handleNonInertiaResponse();await Dt.processQueue(),Dt.preserveUrl=this.requestParams.all().preserveUrl,await this.setPage();const t=lt.get().props.errors||{};if(Object.keys(t).length>0){const n=this.getScopedErrors(t);return YC(n),this.requestParams.all().onError(n)}bt.flushByCacheTags(this.requestParams.all().invalidateCacheTags||[]),this.wasPrefetched||bt.flush(lt.get().url),rw(lt.get()),await this.requestParams.all().onSuccess(lt.get()),Dt.preserveUrl=!1}mergeParams(t){this.requestParams.merge(t)}async handleNonInertiaResponse(){if(this.isLocationVisit()){const n=Ys(this.getHeader("x-inertia-location"));return Dh(this.requestParams.all().url,n),this.locationVisit(n)}const t={...this.response,data:this.getDataFromResponse(this.response.data)};if(JC(t))return Dw.show(t.data)}isInertiaResponse(){return this.hasHeader("x-inertia")}hasStatus(t){return this.response.status===t}getHeader(t){return this.response.headers[t]}hasHeader(t){return this.getHeader(t)!==void 0}isLocationVisit(){return this.hasStatus(409)&&this.hasHeader("x-inertia-location")}locationVisit(t){try{if(Gn.set(Gn.locationVisitKey,{preserveScroll:this.requestParams.all().preserveScroll===!0}),typeof window>"u")return;Tu(window.location,t)?window.location.reload():window.location.href=t.href}catch{return!1}}async setPage(){const t=this.getDataFromResponse(this.response.data);return this.shouldSetPage(t)?(this.mergeProps(t),await this.setRememberedState(t),this.requestParams.setPreserveOptions(t),t.url=Dt.preserveUrl?lt.get().url:this.pageUrl(t),this.requestParams.all().onBeforeUpdate(t),ew(t),lt.set(t,{replace:this.requestParams.all().replace,preserveScroll:this.requestParams.all().preserveScroll,preserveState:this.requestParams.all().preserveState})):Promise.resolve()}getDataFromResponse(t){if(typeof t!="string")return t;try{return JSON.parse(t)}catch{return t}}shouldSetPage(t){if(!this.requestParams.all().async||this.originatingPage.component!==t.component)return!0;if(this.originatingPage.component!==lt.get().component)return!1;const n=Ys(this.originatingPage.url),r=Ys(lt.get().url);return n.origin===r.origin&&n.pathname===r.pathname}pageUrl(t){const n=Ys(t.url);return Dh(this.requestParams.all().url,n),n.pathname+n.search+n.hash}mergeProps(t){if(!this.requestParams.isPartial()||t.component!==lt.get().component)return;const n=t.mergeProps||[],r=t.prependProps||[],o=t.deepMergeProps||[],a=t.matchPropsOn||[],c=(u,g)=>{const f=Ci(lt.get().props,u),m=Ci(t.props,u);if(Array.isArray(m)){const y=this.mergeOrMatchItems(f||[],m,u,a,g);To(t.props,u,y)}else if(typeof m=="object"&&m!==null){const y={...f||{},...m};To(t.props,u,y)}};n.forEach(u=>c(u,!0)),r.forEach(u=>c(u,!1)),o.forEach(u=>{const g=lt.get().props[u],f=t.props[u],m=(y,v,C)=>Array.isArray(v)?this.mergeOrMatchItems(y,v,C,a):typeof v=="object"&&v!==null?Object.keys(v).reduce((A,D)=>(A[D]=m(y?y[D]:void 0,v[D],`${C}.${D}`),A),{...y}):v;t.props[u]=m(g,f,u)}),t.props={...lt.get().props,...t.props},t.scrollProps&&(t.scrollProps={...lt.get().scrollProps||{},...t.scrollProps||{}})}mergeOrMatchItems(t,n,r,o,a=!0){const c=Array.isArray(t)?t:[],u=o.find(m=>m.split(".").slice(0,-1).join(".")===r);if(!u)return a?[...c,...n]:[...n,...c];const g=u.split(".").pop()||"",f=new Map;return n.forEach(m=>{this.hasUniqueProperty(m,g)&&f.set(m[g],m)}),a?this.appendWithMatching(c,n,f,g):this.prependWithMatching(c,n,f,g)}appendWithMatching(t,n,r,o){const a=t.map(u=>this.hasUniqueProperty(u,o)&&r.has(u[o])?r.get(u[o]):u),c=n.filter(u=>this.hasUniqueProperty(u,o)?!t.some(g=>this.hasUniqueProperty(g,o)&&g[o]===u[o]):!0);return[...a,...c]}prependWithMatching(t,n,r,o){const a=t.filter(c=>this.hasUniqueProperty(c,o)?!r.has(c[o]):!0);return[...n,...a]}hasUniqueProperty(t,n){return t&&typeof t=="object"&&n in t}async setRememberedState(t){const n=await Dt.getState(Dt.rememberedState,{});this.requestParams.all().preserveState&&n&&t.component===lt.get().component&&(t.rememberedState=n)}getScopedErrors(t){return this.requestParams.all().errorBag?t[this.requestParams.all().errorBag||""]||{}:t}},Fh=class xy{constructor(t,n){this.page=n,this.requestHasFinished=!1,this.requestParams=Bw.create(t),this.cancelToken=new AbortController}static create(t,n){return new xy(t,n)}async send(){this.requestParams.onCancelToken(()=>this.cancel({cancelled:!0})),nw(this.requestParams.all()),this.requestParams.onStart(),this.requestParams.all().prefetch&&(this.requestParams.onPrefetching(),ow(this.requestParams.all()));const t=this.requestParams.all().prefetch;return St({method:this.requestParams.all().method,url:x0(this.requestParams.all().url).href,data:this.requestParams.data(),params:this.requestParams.queryParams(),signal:this.cancelToken.signal,headers:this.getHeaders(),onUploadProgress:this.onProgress.bind(this),responseType:"text"}).then(n=>(this.response=Sh.create(this.requestParams,n,this.page),this.response.handle())).catch(n=>n?.response?(this.response=Sh.create(this.requestParams,n.response,this.page),this.response.handle()):Promise.reject(n)).catch(n=>{if(!St.isCancel(n)&&XC(n))return t&&this.requestParams.onPrefetchError(n),Promise.reject(n)}).finally(()=>{this.finish(),t&&this.response&&this.requestParams.onPrefetchResponse(this.response)})}finish(){this.requestParams.wasCancelledAtAll()||(this.requestParams.markAsFinished(),this.fireFinishEvents())}fireFinishEvents(){this.requestHasFinished||(this.requestHasFinished=!0,ZC(this.requestParams.all()),this.requestParams.onFinish())}cancel({cancelled:t=!1,interrupted:n=!1}){this.requestHasFinished||(this.cancelToken.abort(),this.requestParams.markAsCancelled({cancelled:t,interrupted:n}),this.fireFinishEvents())}onProgress(t){this.requestParams.data()instanceof FormData&&(t.percentage=t.progress?Math.round(t.progress*100):0,tw(t),this.requestParams.all().onProgress(t))}getHeaders(){const t={...this.requestParams.headers(),Accept:"text/html, application/xhtml+xml","X-Requested-With":"XMLHttpRequest","X-Inertia":!0};return lt.get().version&&(t["X-Inertia-Version"]=lt.get().version),t}},Th=class{constructor({maxConcurrent:e,interruptible:t}){this.requests=[],this.maxConcurrent=e,this.interruptible=t}send(e){this.requests.push(e),e.send().then(()=>{this.requests=this.requests.filter(t=>t!==e)})}interruptInFlight(){this.cancel({interrupted:!0},!1)}cancelInFlight(){this.cancel({cancelled:!0},!0)}cancel({cancelled:e=!1,interrupted:t=!1}={},n){if(!this.shouldCancel(n))return;this.requests.shift()?.cancel({interrupted:t,cancelled:e})}shouldCancel(e){return e?!0:this.interruptible&&this.requests.length>=this.maxConcurrent}},kw=class{constructor(){this.syncRequestStream=new Th({maxConcurrent:1,interruptible:!0}),this.asyncRequestStream=new Th({maxConcurrent:1/0,interruptible:!1})}init({initialPage:e,resolveComponent:t,swapComponent:n}){lt.init({initialPage:e,resolveComponent:t,swapComponent:n}),yw.handle(),Mo.init(),Mo.on("missingHistoryItem",()=>{typeof window<"u"&&this.visit(window.location.href,{preserveState:!0,preserveScroll:!0,replace:!0})}),Mo.on("loadDeferredProps",r=>{this.loadDeferredProps(r)})}get(e,t={},n={}){return this.visit(e,{...n,method:"get",data:t})}post(e,t={},n={}){return this.visit(e,{preserveState:!0,...n,method:"post",data:t})}put(e,t={},n={}){return this.visit(e,{preserveState:!0,...n,method:"put",data:t})}patch(e,t={},n={}){return this.visit(e,{preserveState:!0,...n,method:"patch",data:t})}delete(e,t={}){return this.visit(e,{preserveState:!0,...t,method:"delete"})}reload(e={}){if(!(typeof window>"u"))return this.visit(window.location.href,{...e,preserveScroll:!0,preserveState:!0,async:!0,headers:{...e.headers||{},"Cache-Control":"no-cache"}})}remember(e,t="default"){Dt.remember(e,t)}restore(e="default"){return Dt.restore(e)}on(e,t){return typeof window>"u"?()=>{}:Mo.onGlobalEvent(e,t)}cancel(){this.syncRequestStream.cancelInFlight()}cancelAll(){this.asyncRequestStream.cancelInFlight(),this.syncRequestStream.cancelInFlight()}poll(e,t={},n={}){return vw.add(e,()=>this.reload(t),{autoStart:n.autoStart??!0,keepAlive:n.keepAlive??!1})}visit(e,t={}){const n=this.getPendingVisit(e,{...t,showProgress:t.showProgress??!t.async}),r=this.getVisitEvents(t);if(r.onBefore(n)===!1||!Bh(n))return;const o=n.async?this.asyncRequestStream:this.syncRequestStream;o.interruptInFlight(),!lt.isCleared()&&!n.preserveUrl&&qr.save();const a={...n,...r},c=ys.get(a);c?(ar.reveal(c.inFlight),ys.use(c,a)):(ar.reveal(!0),o.send(Fh.create(a,lt.get())))}getCached(e,t={}){return ys.findCached(this.getPrefetchParams(e,t))}flush(e,t={}){ys.remove(this.getPrefetchParams(e,t))}flushAll(){ys.removeAll()}flushByCacheTags(e){ys.removeByTags(Array.isArray(e)?e:[e])}getPrefetching(e,t={}){return ys.findInFlight(this.getPrefetchParams(e,t))}prefetch(e,t={},n={}){if((t.method??(f0(e)?e.method:"get"))!=="get")throw new Error("Prefetch requests must use the GET method");const o=this.getPendingVisit(e,{...t,async:!0,showProgress:!1,prefetch:!0}),a=o.url.origin+o.url.pathname+o.url.search,c=window.location.origin+window.location.pathname+window.location.search;if(a===c)return;const u=this.getVisitEvents(t);if(u.onBefore(o)===!1||!Bh(o))return;ar.hide(),this.asyncRequestStream.interruptInFlight();const g={...o,...u};new Promise(m=>{const y=()=>{lt.get()?m():setTimeout(y,50)};y()}).then(()=>{ys.add(g,m=>{this.asyncRequestStream.send(Fh.create(m,lt.get()))},{cacheFor:3e4,cacheTags:[],...n})})}clearHistory(){Dt.clear()}decryptHistory(){return Dt.decrypt()}resolveComponent(e){return lt.resolve(e)}replace(e){this.clientVisit(e,{replace:!0})}replaceProp(e,t,n){this.replace({preserveScroll:!0,preserveState:!0,props(r){const o=typeof t=="function"?t(Ci(r,e),r):t;return To(nr(r),e,o)},...n||{}})}appendToProp(e,t,n){this.replaceProp(e,(r,o)=>{const a=typeof t=="function"?t(r,o):t;return Array.isArray(r)||(r=r!==void 0?[r]:[]),[...r,a]},n)}prependToProp(e,t,n){this.replaceProp(e,(r,o)=>{const a=typeof t=="function"?t(r,o):t;return Array.isArray(r)||(r=r!==void 0?[r]:[]),[a,...r]},n)}push(e){this.clientVisit(e)}clientVisit(e,{replace:t=!1}={}){const n=lt.get(),r=typeof e.props=="function"?e.props(n.props):e.props??n.props,{onError:o,onFinish:a,onSuccess:c,...u}=e;lt.set({...n,...u,props:r},{replace:t,preserveScroll:e.preserveScroll,preserveState:e.preserveState}).then(()=>{const g=lt.get().props.errors||{};if(Object.keys(g).length===0)return c?.(lt.get());const f=e.errorBag?g[e.errorBag||""]||{}:g;return o?.(f)}).finally(()=>a?.(e))}getPrefetchParams(e,t){return{...this.getPendingVisit(e,{...t,async:!0,showProgress:!1,prefetch:!0}),...this.getVisitEvents(t)}}getPendingVisit(e,t,n={}){if(f0(e)){const u=e;e=u.url,t.method=t.method??u.method}const r={method:"get",data:{},replace:!1,preserveScroll:!1,preserveState:!1,only:[],except:[],headers:{},errorBag:"",forceFormData:!1,queryStringArrayFormat:"brackets",async:!1,showProgress:!0,fresh:!1,reset:[],preserveUrl:!1,prefetch:!1,invalidateCacheTags:[],...t},[o,a]=fw(e,r.data,r.method,r.forceFormData,r.queryStringArrayFormat),c={cancelled:!1,completed:!1,interrupted:!1,...r,...n,url:o,data:a};return c.prefetch&&(c.headers.Purpose="prefetch"),c}getVisitEvents(e){return{onCancelToken:e.onCancelToken||(()=>{}),onBefore:e.onBefore||(()=>{}),onBeforeUpdate:e.onBeforeUpdate||(()=>{}),onStart:e.onStart||(()=>{}),onProgress:e.onProgress||(()=>{}),onFinish:e.onFinish||(()=>{}),onCancel:e.onCancel||(()=>{}),onSuccess:e.onSuccess||(()=>{}),onError:e.onError||(()=>{}),onPrefetched:e.onPrefetched||(()=>{}),onPrefetching:e.onPrefetching||(()=>{})}}loadDeferredProps(e){e&&Object.entries(e).forEach(([t,n])=>{this.reload({only:n})})}},Sw={buildDOMElement(e){const t=document.createElement("template");t.innerHTML=e;const n=t.content.firstChild;if(!e.startsWith("<script "))return n;const r=document.createElement("script");return r.innerHTML=n.innerHTML,n.getAttributeNames().forEach(o=>{r.setAttribute(o,n.getAttribute(o)||"")}),r},isInertiaManagedElement(e){return e.nodeType===Node.ELEMENT_NODE&&e.getAttribute("inertia")!==null},findMatchingElementIndex(e,t){const n=e.getAttribute("inertia");return n!==null?t.findIndex(r=>r.getAttribute("inertia")===n):-1},update:ku(function(e){const t=e.map(r=>this.buildDOMElement(r));Array.from(document.head.childNodes).filter(r=>this.isInertiaManagedElement(r)).forEach(r=>{const o=this.findMatchingElementIndex(r,t);if(o===-1){r?.parentNode?.removeChild(r);return}const a=t.splice(o,1)[0];a&&!r.isEqualNode(a)&&r?.parentNode?.replaceChild(a,r)}),t.forEach(r=>document.head.appendChild(r))},1)};function Fw(e,t,n){const r={};let o=0;function a(){const y=o+=1;return r[y]=[],y.toString()}function c(y){y===null||Object.keys(r).indexOf(y)===-1||(delete r[y],m())}function u(y){Object.keys(r).indexOf(y)===-1&&(r[y]=[])}function g(y,v=[]){y!==null&&Object.keys(r).indexOf(y)>-1&&(r[y]=v),m()}function f(){const y=t(""),v={...y?{title:`<title inertia="">${y}</title>`}:{}},C=Object.values(r).reduce((A,D)=>A.concat(D),[]).reduce((A,D)=>{if(D.indexOf("<")===-1)return A;if(D.indexOf("<title ")===0){const T=D.match(/(<title [^>]+>)(.*?)(<\/title>)/);return A.title=T?`${T[1]}${t(T[2])}${T[3]}`:D,A}const _=D.match(/ inertia="[^"]+"/);return _?A[_[0]]=D:A[Object.keys(A).length]=D,A},v);return Object.values(C)}function m(){e?n(f()):Sw.update(f())}return m(),{forceUpdate:m,createProvider:function(){const y=a();return{reconnect:()=>u(y),update:v=>g(y,v),disconnect:()=>c(y)}}}}function vl(e){const t=e.currentTarget.tagName.toLowerCase()==="a";return!(e.target&&(e?.target).isContentEditable||e.defaultPrevented||t&&e.altKey||t&&e.ctrlKey||t&&e.metaKey||t&&e.shiftKey||t&&"button"in e&&e.button!==0)}function Ih(e){const t=e.currentTarget.tagName.toLowerCase()==="button";return e.key==="Enter"||t&&e.key===" "}var pn="nprogress",Tr,Bn={minimum:.08,easing:"linear",positionUsing:"translate3d",speed:200,trickle:!0,trickleSpeed:200,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",color:"#29d",includeCSS:!0,template:['<div class="bar" role="bar">','<div class="peg"></div>',"</div>",'<div class="spinner" role="spinner">','<div class="spinner-icon"></div>',"</div>"].join("")},lo=null,Tw=e=>{Object.assign(Bn,e),Bn.includeCSS&&Nw(Bn.color),Tr=document.createElement("div"),Tr.id=pn,Tr.innerHTML=Bn.template},H0=e=>{const t=fy();e=yy(e,Bn.minimum,1),lo=e===1?null:e;const n=Mw(!t),r=n.querySelector(Bn.barSelector),o=Bn.speed,a=Bn.easing;n.offsetWidth,Ow(c=>{const u=Bn.positionUsing==="translate3d"?{transition:`all ${o}ms ${a}`,transform:`translate3d(${Wl(e)}%,0,0)`}:Bn.positionUsing==="translate"?{transition:`all ${o}ms ${a}`,transform:`translate(${Wl(e)}%,0)`}:{marginLeft:`${Wl(e)}%`};for(const g in u)r.style[g]=u[g];if(e!==1)return setTimeout(c,o);n.style.transition="none",n.style.opacity="1",n.offsetWidth,setTimeout(()=>{n.style.transition=`all ${o}ms linear`,n.style.opacity="0",setTimeout(()=>{my(),n.style.transition="",n.style.opacity="",c()},o)},o)})},fy=()=>typeof lo=="number",hy=()=>{lo||H0(0);const e=function(){setTimeout(function(){lo&&(gy(),e())},Bn.trickleSpeed)};Bn.trickle&&e()},Iw=e=>{!e&&!lo||(gy(.3+.5*Math.random()),H0(1))},gy=e=>{const t=lo;if(t===null)return hy();if(!(t>1))return e=typeof e=="number"?e:(()=>{const n={.1:[0,.2],.04:[.2,.5],.02:[.5,.8],.005:[.8,.99]};for(const r in n)if(t>=n[r][0]&&t<n[r][1])return parseFloat(r);return 0})(),H0(yy(t+e,0,.994))},Mw=e=>{if(Pw())return document.getElementById(pn);document.documentElement.classList.add(`${pn}-busy`);const t=Tr.querySelector(Bn.barSelector),n=e?"-100":Wl(lo||0),r=py();return t.style.transition="all 0 linear",t.style.transform=`translate3d(${n}%,0,0)`,Bn.showSpinner||Tr.querySelector(Bn.spinnerSelector)?.remove(),r!==document.body&&r.classList.add(`${pn}-custom-parent`),r.appendChild(Tr),Tr},py=()=>Rw(Bn.parent)?Bn.parent:document.querySelector(Bn.parent),my=()=>{document.documentElement.classList.remove(`${pn}-busy`),py().classList.remove(`${pn}-custom-parent`),Tr?.remove()},Pw=()=>document.getElementById(pn)!==null,Rw=e=>typeof HTMLElement=="object"?e instanceof HTMLElement:e&&typeof e=="object"&&e.nodeType===1&&typeof e.nodeName=="string";function yy(e,t,n){return e<t?t:e>n?n:e}var Wl=e=>(-1+e)*100,Ow=(()=>{const e=[],t=()=>{const n=e.shift();n&&n(t)};return n=>{e.push(n),e.length===1&&t()}})(),Nw=e=>{const t=document.createElement("style");t.textContent=`
    #${pn} {
      pointer-events: none;
    }

    #${pn} .bar {
      background: ${e};

      position: fixed;
      z-index: 1031;
      top: 0;
      left: 0;

      width: 100%;
      height: 2px;
    }

    #${pn} .peg {
      display: block;
      position: absolute;
      right: 0px;
      width: 100px;
      height: 100%;
      box-shadow: 0 0 10px ${e}, 0 0 5px ${e};
      opacity: 1.0;

      transform: rotate(3deg) translate(0px, -4px);
    }

    #${pn} .spinner {
      display: block;
      position: fixed;
      z-index: 1031;
      top: 15px;
      right: 15px;
    }

    #${pn} .spinner-icon {
      width: 18px;
      height: 18px;
      box-sizing: border-box;

      border: solid 2px transparent;
      border-top-color: ${e};
      border-left-color: ${e};
      border-radius: 50%;

      animation: ${pn}-spinner 400ms linear infinite;
    }

    .${pn}-custom-parent {
      overflow: hidden;
      position: relative;
    }

    .${pn}-custom-parent #${pn} .spinner,
    .${pn}-custom-parent #${pn} .bar {
      position: absolute;
    }

    @keyframes ${pn}-spinner {
      0%   { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  `,document.head.appendChild(t)},Lw=()=>{Tr&&(Tr.style.display="")},$w=()=>{Tr&&(Tr.style.display="none")},Ur={configure:Tw,isStarted:fy,done:Iw,set:H0,remove:my,start:hy,status:lo,show:Lw,hide:$w},jw=class{constructor(){this.hideCount=0}start(){Ur.start()}reveal(e=!1){this.hideCount=Math.max(0,this.hideCount-1),(e||this.hideCount===0)&&Ur.show()}hide(){this.hideCount++,Ur.hide()}set(e){Ur.set(Math.max(0,Math.min(1,e)))}finish(){Ur.done()}reset(){Ur.set(0)}remove(){Ur.done(),Ur.remove()}isStarted(){return Ur.isStarted()}getStatus(){return Ur.status}},ar=new jw;ar.reveal;ar.hide;function Uw(e){document.addEventListener("inertia:start",t=>Hw(t,e)),document.addEventListener("inertia:progress",zw)}function Hw(e,t){e.detail.visit.showProgress||ar.hide();const n=setTimeout(()=>ar.start(),t);document.addEventListener("inertia:finish",r=>Vw(r,n),{once:!0})}function zw(e){ar.isStarted()&&e.detail.progress?.percentage&&ar.set(Math.max(ar.getStatus(),e.detail.progress.percentage/100*.9))}function Vw(e,t){clearTimeout(t),ar.isStarted()&&(e.detail.visit.completed?ar.finish():e.detail.visit.interrupted?ar.reset():e.detail.visit.cancelled&&ar.remove())}function qw({delay:e=250,color:t="#29d",includeCSS:n=!0,showSpinner:r=!1}={}){Uw(e),Ur.configure({showSpinner:r,includeCSS:n,color:t})}var bt=new kw;/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */var Ww={created(){if(!this.$options.remember)return;Array.isArray(this.$options.remember)&&(this.$options.remember={data:this.$options.remember}),typeof this.$options.remember=="string"&&(this.$options.remember={data:[this.$options.remember]}),typeof this.$options.remember.data=="string"&&(this.$options.remember={data:[this.$options.remember.data]});const e=this.$options.remember.key instanceof Function?this.$options.remember.key.call(this):this.$options.remember.key,t=bt.restore(e),n=this.$options.remember.data.filter(o=>!(this[o]!==null&&typeof this[o]=="object"&&this[o].__rememberable===!1)),r=o=>this[o]!==null&&typeof this[o]=="object"&&typeof this[o].__remember=="function"&&typeof this[o].__restore=="function";n.forEach(o=>{this[o]!==void 0&&t!==void 0&&t[o]!==void 0&&(r(o)?this[o].__restore(t[o]):this[o]=t[o]),this.$watch(o,()=>{bt.remember(n.reduce((a,c)=>({...a,[c]:nr(r(c)?this[c].__remember():this[c])}),{}),e)},{immediate:!0,deep:!0})})}},Gw=Ww;function el(e,t){const n=typeof e=="string"?e:null,r=(typeof e=="string"?t:e)??{},o=n?bt.restore(n):null;let a=nr(typeof r=="function"?r():r),c=null,u=null,g=y=>y,f=!1;const m=Ri({...o?o.data:nr(a),isDirty:!1,errors:o?o.errors:{},hasErrors:!1,processing:!1,progress:null,wasSuccessful:!1,recentlySuccessful:!1,data(){return Object.keys(a).reduce((y,v)=>To(y,v,Ci(this,v)),{})},transform(y){return g=y,this},defaults(y,v){if(typeof r=="function")throw new Error("You cannot call `defaults()` when using a function to define your form data.");return f=!0,typeof y>"u"?(a=nr(this.data()),this.isDirty=!1):a=typeof y=="string"?To(nr(a),y,v):Object.assign({},nr(a),y),this},reset(...y){const v=nr(typeof r=="function"?r():a),C=nr(v);return y.length===0?(a=C,Object.assign(this,v)):y.filter(A=>O3(C,A)).forEach(A=>{To(a,A,Ci(C,A)),To(this,A,Ci(v,A))}),this},setError(y,v){return Object.assign(this.errors,typeof y=="string"?{[y]:v}:y),this.hasErrors=Object.keys(this.errors).length>0,this},clearErrors(...y){return this.errors=Object.keys(this.errors).reduce((v,C)=>({...v,...y.length>0&&!y.includes(C)?{[C]:this.errors[C]}:{}}),{}),this.hasErrors=Object.keys(this.errors).length>0,this},resetAndClearErrors(...y){return this.reset(...y),this.clearErrors(...y),this},submit(...y){const v=y[0]!==null&&typeof y[0]=="object",C=v?y[0].method:y[0],A=v?y[0].url:y[1],D=(v?y[1]:y[2])??{};f=!1;const _=g(this.data()),T={...D,onCancelToken:j=>{if(c=j,D.onCancelToken)return D.onCancelToken(j)},onBefore:j=>{if(this.wasSuccessful=!1,this.recentlySuccessful=!1,clearTimeout(u),D.onBefore)return D.onBefore(j)},onStart:j=>{if(this.processing=!0,D.onStart)return D.onStart(j)},onProgress:j=>{if(this.progress=j,D.onProgress)return D.onProgress(j)},onSuccess:async j=>{this.processing=!1,this.progress=null,this.clearErrors(),this.wasSuccessful=!0,this.recentlySuccessful=!0,u=setTimeout(()=>this.recentlySuccessful=!1,2e3);const F=D.onSuccess?await D.onSuccess(j):null;return f||(a=nr(this.data()),this.isDirty=!1),F},onError:j=>{if(this.processing=!1,this.progress=null,this.clearErrors().setError(j),D.onError)return D.onError(j)},onCancel:()=>{if(this.processing=!1,this.progress=null,D.onCancel)return D.onCancel()},onFinish:j=>{if(this.processing=!1,this.progress=null,c=null,D.onFinish)return D.onFinish(j)}};C==="delete"?bt.delete(A,{...T,data:_}):bt[C](A,_,T)},get(y,v){this.submit("get",y,v)},post(y,v){this.submit("post",y,v)},put(y,v){this.submit("put",y,v)},patch(y,v){this.submit("patch",y,v)},delete(y,v){this.submit("delete",y,v)},cancel(){c&&c.cancel()},__rememberable:n===null,__remember(){return{data:this.data(),errors:this.errors}},__restore(y){Object.assign(this,y.data),this.setError(y.errors)}});return Fr(m,y=>{m.isDirty=!N3(m.data(),a),n&&bt.remember(nr(y.__remember()),n)},{immediate:!0,deep:!0}),m}var fr=Be(null),Fn=Be(null),Cd=Zu(null),Cl=Be(null),Iu=null,Qw=Nr({name:"Inertia",props:{initialPage:{type:Object,required:!0},initialComponent:{type:Object,required:!1},resolveComponent:{type:Function,required:!1},titleCallback:{type:Function,required:!1,default:e=>e},onHeadUpdate:{type:Function,required:!1,default:()=>()=>{}}},setup({initialPage:e,initialComponent:t,resolveComponent:n,titleCallback:r,onHeadUpdate:o}){fr.value=t?du(t):null,Fn.value=e,Cl.value=null;const a=typeof window>"u";return Iu=Fw(a,r,o),a||(bt.init({initialPage:e,resolveComponent:n,swapComponent:async c=>{fr.value=du(c.component),Fn.value=c.page,Cl.value=c.preserveState?Cl.value:Date.now()}}),bt.on("navigate",()=>Iu.forceUpdate())),()=>{if(fr.value){fr.value.inheritAttrs=!!fr.value.inheritAttrs;const c=ir(fr.value,{...Fn.value.props,key:Cl.value});return Cd.value&&(fr.value.layout=Cd.value,Cd.value=null),fr.value.layout?typeof fr.value.layout=="function"?fr.value.layout(ir,c):(Array.isArray(fr.value.layout)?fr.value.layout:[fr.value.layout]).concat(c).reverse().reduce((u,g)=>(g.inheritAttrs=!!g.inheritAttrs,ir(g,{...Fn.value.props},()=>u))):c}}}}),Kw=Qw,Yw={install(e){bt.form=el,Object.defineProperty(e.config.globalProperties,"$inertia",{get:()=>bt}),Object.defineProperty(e.config.globalProperties,"$page",{get:()=>Fn.value}),Object.defineProperty(e.config.globalProperties,"$headManager",{get:()=>Iu}),e.mixin(Gw)}};function co(){return Ri({props:We(()=>Fn.value?.props),url:We(()=>Fn.value?.url),component:We(()=>Fn.value?.component),version:We(()=>Fn.value?.version),clearHistory:We(()=>Fn.value?.clearHistory),deferredProps:We(()=>Fn.value?.deferredProps),mergeProps:We(()=>Fn.value?.mergeProps),prependProps:We(()=>Fn.value?.prependProps),deepMergeProps:We(()=>Fn.value?.deepMergeProps),matchPropsOn:We(()=>Fn.value?.matchPropsOn),rememberedState:We(()=>Fn.value?.rememberedState),encryptHistory:We(()=>Fn.value?.encryptHistory)})}async function Xw({id:e="app",resolve:t,setup:n,title:r,progress:o={},page:a,render:c}){const u=typeof window>"u",g=u?null:document.getElementById(e),f=a||JSON.parse(g.dataset.page),m=C=>Promise.resolve(t(C)).then(A=>A.default||A);let y=[];const v=await Promise.all([m(f.component),bt.decryptHistory().catch(()=>{})]).then(([C])=>n({el:g,App:Kw,props:{initialPage:f,initialComponent:C,resolveComponent:m,titleCallback:r,onHeadUpdate:u?A=>y=A:null},plugin:Yw}));if(!u&&o&&qw(o),u){const C=await c(C6({render:()=>ir("div",{id:e,"data-page":JSON.stringify(f),innerHTML:v?c(v):""})}));return{head:y,body:C}}}var ns=()=>{},Zw=Nr({name:"Link",props:{as:{type:[String,Object],default:"a"},data:{type:Object,default:()=>({})},href:{type:[String,Object],default:""},method:{type:String,default:"get"},replace:{type:Boolean,default:!1},preserveScroll:{type:Boolean,default:!1},preserveState:{type:Boolean,default:null},only:{type:Array,default:()=>[]},except:{type:Array,default:()=>[]},headers:{type:Object,default:()=>({})},queryStringArrayFormat:{type:String,default:"brackets"},async:{type:Boolean,default:!1},prefetch:{type:[Boolean,String,Array],default:!1},cacheFor:{type:[Number,String,Array],default:0},onStart:{type:Function,default:ns},onProgress:{type:Function,default:ns},onFinish:{type:Function,default:ns},onBefore:{type:Function,default:ns},onCancel:{type:Function,default:ns},onSuccess:{type:Function,default:ns},onError:{type:Function,default:ns},onCancelToken:{type:Function,default:ns},onPrefetching:{type:Function,default:ns},onPrefetched:{type:Function,default:ns},cacheTags:{type:[String,Array],default:()=>[]}},setup(e,{slots:t,attrs:n}){const r=Be(0),o=Be(null),a=We(()=>e.prefetch===!0?["hover"]:e.prefetch===!1?[]:Array.isArray(e.prefetch)?e.prefetch:[e.prefetch]),c=We(()=>e.cacheFor!==0?e.cacheFor:a.value.length===1&&a.value[0]==="click"?0:3e4);Kn(()=>{a.value.includes("mount")&&D()}),zo(()=>{clearTimeout(o.value)});const u=We(()=>f0(e.href)?e.href.method:e.method.toLowerCase()),g=We(()=>typeof e.as!="string"||e.as.toLowerCase()!=="a"?e.as:u.value!=="get"?"button":e.as.toLowerCase()),f=We(()=>ay(u.value,f0(e.href)?e.href.url:e.href,e.data,e.queryStringArrayFormat)),m=We(()=>f.value[0]),y=We(()=>f.value[1]),v=We(()=>g.value==="button"?{type:"button"}:g.value==="a"||typeof g.value!="string"?{href:m.value}:{}),C=We(()=>({data:y.value,method:u.value,replace:e.replace,preserveScroll:e.preserveScroll,preserveState:e.preserveState??u.value!=="get",only:e.only,except:e.except,headers:e.headers,async:e.async})),A=We(()=>({...C.value,onCancelToken:e.onCancelToken,onBefore:e.onBefore,onStart:F=>{r.value++,e.onStart(F)},onProgress:e.onProgress,onFinish:F=>{r.value--,e.onFinish(F)},onCancel:e.onCancel,onSuccess:e.onSuccess,onError:e.onError})),D=()=>{bt.prefetch(m.value,{...C.value,onPrefetching:e.onPrefetching,onPrefetched:e.onPrefetched},{cacheFor:c.value,cacheTags:e.cacheTags})},_={onClick:F=>{vl(F)&&(F.preventDefault(),bt.visit(m.value,A.value))}},T={onMouseenter:()=>{o.value=setTimeout(()=>{D()},75)},onMouseleave:()=>{clearTimeout(o.value)},onClick:_.onClick},j={onMousedown:F=>{vl(F)&&(F.preventDefault(),D())},onKeydown:F=>{vl(F)&&Ih(F)&&(F.preventDefault(),D())},onMouseup:F=>{F.preventDefault(),bt.visit(m.value,A.value)},onKeyup:F=>{Ih(F)&&(F.preventDefault(),bt.visit(m.value,A.value))},onClick:F=>{vl(F)&&F.preventDefault()}};return()=>ir(g.value,{...n,...v.value,"data-loading":r.value>0?"":void 0,...a.value.includes("hover")?T:a.value.includes("click")?j:_},t)}}),An=Zw;const Jw={class:"min-h-screen flex items-center justify-center bg-gradient-to-br px-4 py-8",style:{"background-color":"#035930"}},eA={class:"max-w-md w-full"},tA={class:"bg-white rounded-2xl shadow-2xl p-8"},nA={class:"relative"},rA={key:0,class:"text-red-500 text-sm mt-1 flex items-center"},sA={class:"relative"},oA=["type"],iA={key:0,class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},aA={key:1,class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},lA={class:"flex items-center justify-between"},cA={class:"flex items-center cursor-pointer"},dA=["disabled"],uA={key:0,class:"flex items-center justify-center"},xA={key:1,class:"flex items-center justify-center"},fA={class:"mt-6 text-center"},hA={class:"text-sm text-gray-600"},gA={__name:"Login",setup(e){const t=Be(!1),n=el({identifier:"",password:"",remember:!1}),r=()=>{n.post("/login",{onFinish:()=>{Object.keys(n.errors).length>0&&(n.password="")}})};return(o,a)=>(W(),Q("div",Jw,[i("div",eA,[i("div",tA,[a[17]||(a[17]=i("h2",{class:"text-2xl font-bold text-gray-800 mb-6 text-center"},"Login",-1)),i("form",{onSubmit:sr(r,["prevent"]),class:"space-y-5"},[i("div",null,[a[6]||(a[6]=i("label",{class:"block text-gray-700 text-sm font-semibold mb-2"}," NIK atau Email ",-1)),i("div",nA,[a[4]||(a[4]=i("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[i("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),Ce(i("input",{"onUpdate:modelValue":a[0]||(a[0]=c=>Ge(n).identifier=c),type:"text",class:Pe(["w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",{"border-red-500":Ge(n).errors.identifier}]),placeholder:"Masukkan NIK atau Email",required:""},null,2),[[$e,Ge(n).identifier]])]),Ge(n).errors.identifier?(W(),Q("div",rA,[a[5]||(a[5]=i("svg",{class:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[i("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)),Qe(" "+R(Ge(n).errors.identifier),1)])):me("",!0)]),i("div",null,[a[10]||(a[10]=i("label",{class:"block text-gray-700 text-sm font-semibold mb-2"}," Password ",-1)),i("div",sA,[a[9]||(a[9]=i("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[i("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])],-1)),Ce(i("input",{"onUpdate:modelValue":a[1]||(a[1]=c=>Ge(n).password=c),type:t.value?"text":"password",class:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"Masukkan password",required:""},null,8,oA),[[h6,Ge(n).password]]),i("button",{type:"button",onClick:a[2]||(a[2]=c=>t.value=!t.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600"},[t.value?(W(),Q("svg",aA,[...a[8]||(a[8]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)])])):(W(),Q("svg",iA,[...a[7]||(a[7]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])])]),i("div",lA,[i("label",cA,[Ce(i("input",{"onUpdate:modelValue":a[3]||(a[3]=c=>Ge(n).remember=c),type:"checkbox",class:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,512),[[Di,Ge(n).remember]]),a[11]||(a[11]=i("span",{class:"ml-2 text-sm text-gray-700"},"Ingat Saya",-1))]),a[12]||(a[12]=i("a",{href:"#",class:"text-sm text-blue-600 hover:text-blue-800 hover:underline"}," Lupa Password? ",-1))]),i("button",{type:"submit",disabled:Ge(n).processing,class:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-4 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"},[Ge(n).processing?(W(),Q("span",uA,[...a[13]||(a[13]=[i("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),Qe(" Memproses... ",-1)])])):(W(),Q("span",xA,[...a[14]||(a[14]=[i("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})],-1),Qe(" Login ",-1)])]))],8,dA)],32),i("div",fA,[i("p",hA,[a[16]||(a[16]=Qe(" Belum punya akun? ",-1)),_t(Ge(An),{href:"/register",class:"text-blue-600 hover:text-blue-800 font-semibold hover:underline"},{default:yt(()=>[...a[15]||(a[15]=[Qe(" Daftar Sekarang ",-1)])]),_:1})])])]),a[18]||(a[18]=i("div",{class:"text-center mt-8 text-blue-100 text-sm"},[i("p",null," 2025 Gondowangi WMS. All rights reserved.")],-1))])]))}},pA=Object.freeze(Object.defineProperty({__proto__:null,default:gA},Symbol.toStringTag,{value:"Module"})),mA={class:"min-h-screen flex items-center justify-center bg-gray-100"},yA={class:"max-w-md w-full bg-white rounded-lg shadow-md p-8"},bA={class:"mb-4"},EA={key:0,class:"text-red-500 text-sm mt-1"},vA={class:"mb-4"},CA={key:0,class:"text-red-500 text-sm mt-1"},wA={class:"mb-4"},AA={key:0,class:"text-red-500 text-sm mt-1"},BA={class:"mb-4"},DA={key:0,class:"text-red-500 text-sm mt-1"},_A={class:"mb-4"},kA={key:0,class:"text-red-500 text-sm mt-1"},SA={class:"mb-4"},FA={key:0,class:"text-red-500 text-sm mt-1"},TA={class:"mb-6"},IA=["disabled"],MA={key:0},PA={key:1},RA={class:"text-center mt-4"},OA={__name:"Register",setup(e){const t=el({nik:"",nama_lengkap:"",email:"",departement:"",jabatan:"",password:"",password_confirmation:""}),n=()=>{t.post("/register")};return(r,o)=>(W(),Q("div",mA,[i("div",yA,[o[15]||(o[15]=i("h2",{class:"text-2xl font-bold text-center mb-6"},"Daftar Akun WMS [test git]",-1)),i("form",{onSubmit:sr(n,["prevent"])},[i("div",bA,[o[7]||(o[7]=i("label",{class:"block text-gray-700 text-sm font-bold mb-2"},[Qe(" NIK "),i("span",{class:"text-red-500"},"*")],-1)),Ce(i("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>Ge(t).nik=a),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Masukkan NIK",required:""},null,512),[[$e,Ge(t).nik]]),Ge(t).errors.nik?(W(),Q("div",EA,R(Ge(t).errors.nik),1)):me("",!0)]),i("div",vA,[o[8]||(o[8]=i("label",{class:"block text-gray-700 text-sm font-bold mb-2"},[Qe(" Nama Lengkap "),i("span",{class:"text-red-500"},"*")],-1)),Ce(i("input",{"onUpdate:modelValue":o[1]||(o[1]=a=>Ge(t).nama_lengkap=a),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Masukkan nama lengkap",required:""},null,512),[[$e,Ge(t).nama_lengkap]]),Ge(t).errors.nama_lengkap?(W(),Q("div",CA,R(Ge(t).errors.nama_lengkap),1)):me("",!0)]),i("div",wA,[o[9]||(o[9]=i("label",{class:"block text-gray-700 text-sm font-bold mb-2"},[Qe(" Email "),i("span",{class:"text-red-500"},"*")],-1)),Ce(i("input",{"onUpdate:modelValue":o[2]||(o[2]=a=>Ge(t).email=a),type:"email",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Masukkan email",required:""},null,512),[[$e,Ge(t).email]]),Ge(t).errors.email?(W(),Q("div",AA,R(Ge(t).errors.email),1)):me("",!0)]),i("div",BA,[o[10]||(o[10]=i("label",{class:"block text-gray-700 text-sm font-bold mb-2"}," Departement ",-1)),Ce(i("input",{"onUpdate:modelValue":o[3]||(o[3]=a=>Ge(t).departement=a),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Contoh: Produksi, Warehouse, QC"},null,512),[[$e,Ge(t).departement]]),Ge(t).errors.departement?(W(),Q("div",DA,R(Ge(t).errors.departement),1)):me("",!0)]),i("div",_A,[o[11]||(o[11]=i("label",{class:"block text-gray-700 text-sm font-bold mb-2"}," Jabatan ",-1)),Ce(i("input",{"onUpdate:modelValue":o[4]||(o[4]=a=>Ge(t).jabatan=a),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Contoh: Staff, Supervisor, Manager"},null,512),[[$e,Ge(t).jabatan]]),Ge(t).errors.jabatan?(W(),Q("div",kA,R(Ge(t).errors.jabatan),1)):me("",!0)]),i("div",SA,[o[12]||(o[12]=i("label",{class:"block text-gray-700 text-sm font-bold mb-2"},[Qe(" Password "),i("span",{class:"text-red-500"},"*")],-1)),Ce(i("input",{"onUpdate:modelValue":o[5]||(o[5]=a=>Ge(t).password=a),type:"password",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Minimal 8 karakter",required:""},null,512),[[$e,Ge(t).password]]),Ge(t).errors.password?(W(),Q("div",FA,R(Ge(t).errors.password),1)):me("",!0)]),i("div",TA,[o[13]||(o[13]=i("label",{class:"block text-gray-700 text-sm font-bold mb-2"},[Qe(" Konfirmasi Password "),i("span",{class:"text-red-500"},"*")],-1)),Ce(i("input",{"onUpdate:modelValue":o[6]||(o[6]=a=>Ge(t).password_confirmation=a),type:"password",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ulangi password",required:""},null,512),[[$e,Ge(t).password_confirmation]])]),i("button",{type:"submit",disabled:Ge(t).processing,class:"w-full bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 transition duration-200 disabled:opacity-50"},[Ge(t).processing?(W(),Q("span",MA,"Loading...")):(W(),Q("span",PA,"Daftar"))],8,IA),i("div",RA,[_t(Ge(An),{href:"/login",class:"text-blue-500 hover:underline text-sm"},{default:yt(()=>[...o[14]||(o[14]=[Qe(" Sudah punya akun? Login ",-1)])]),_:1})])],32)])]))}},NA=Object.freeze(Object.defineProperty({__proto__:null,default:OA},Symbol.toStringTag,{value:"Module"}));function LA(){const e=co(),t=We(()=>e.props.permissions||[]),n=a=>t.value.includes(a);return{permissions:t,hasPermission:n,hasAnyPermission:a=>a.some(c=>n(c)),hasAllPermissions:a=>a.every(c=>n(c))}}const $A={class:"h-screen flex bg-gray-100 overflow-hidden"},jA={class:"p-4 border-b border-gray-200 flex items-center justify-between"},UA={class:"flex items-center space-x-2"},HA={class:"flex items-center space-x-2"},zA={class:"flex-1 overflow-y-auto py-4"},VA={class:"space-y-1 px-2"},qA={class:"font-medium"},WA={class:"font-medium"},GA={class:"font-medium"},QA={class:"font-medium"},KA={key:4,class:"my-4 px-2"},YA={class:"mt-3 mb-2 px-2"},XA={class:"font-medium"},ZA={class:"font-medium"},JA={class:"font-medium"},e7={class:"font-medium"},t7={class:"font-medium"},n7={class:"font-medium"},r7={class:"font-medium"},s7={key:12,class:"my-4 px-2"},o7={class:"mt-3 mb-2 px-2"},i7={class:"font-medium"},a7={class:"font-medium"},l7={class:"border-t border-gray-200 p-4"},c7={class:"flex items-center space-x-3"},d7={class:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0"},u7={class:"text-white font-semibold text-sm"},x7={class:"flex-1 min-w-0"},f7={class:"text-sm font-medium text-gray-800 truncate"},h7={class:"text-xs text-gray-500 truncate"},g7={class:"flex-1 flex flex-col min-w-0"},p7={class:"bg-white shadow-sm"},m7={class:"px-6 py-4 flex items-center justify-between"},y7={class:"text-2xl font-bold text-gray-800"},b7={class:"text-sm text-gray-500 mt-1"},E7={class:"flex items-center space-x-4"},v7={class:"flex items-center space-x-2 px-3 py-2 bg-gray-50 rounded-lg"},C7={class:"text-right"},w7={class:"text-sm font-medium text-gray-800"},A7={class:"text-xs text-gray-500"},B7={class:"flex-1 overflow-y-auto p-6 bg-gray-50"},Yn={__name:"AppLayout",props:{pageTitle:{type:String,default:"Dashboard"},pageDescription:{type:String,default:"Selamat datang di Warehouse Management System"}},setup(e){const t=co(),{hasAnyPermission:n}=LA(),r=Be(!0),o=We(()=>n(["incoming.view","incoming.create","qc.view","qc.input_qc_result","putaway.view","putaway.kerjakan_to","reservation.view","reservation.create_request","picking.view","picking.kerjakan_picking","return.view","return.create_return"])),a=We(()=>{const g=t.props.auth.user.name,f=g.split(" ");return f.length>=2?f[0][0]+f[1][0]:g.substring(0,2).toUpperCase()}),c=()=>{bt.post("/logout")},u=g=>{const f=t.url.split("?")[0],m=f===g||f.startsWith(g+"/"),y="flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200";return m?`${y} bg-[#157347] text-white shadow-lg`:`${y} text-gray-700 hover:bg-gray-100`};return(g,f)=>(W(),Q("div",$A,[i("aside",{class:Pe(["bg-white text-gray-800 shadow-lg","transition-all duration-300 flex flex-col","border-r border-gray-200",r.value?"w-64":"w-20"])},[i("div",jA,[Ce(i("div",UA,[...f[1]||(f[1]=[i("svg",{class:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})],-1),i("span",{class:"text-xl font-bold text-gray-800"},"WMS",-1)])],512),[[rn,r.value]]),i("div",HA,[i("button",{onClick:f[0]||(f[0]=m=>r.value=!r.value),class:"p-2 rounded hover:bg-gray-100 transition"},[...f[2]||(f[2]=[i("svg",{class:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])])])]),i("nav",zA,[i("div",VA,[Ge(n)(["incoming.view","qc.view","putaway.view","picking.view","reservation.view","return.view","central_data.user_management_view"])?(W(),Tt(Ge(An),{key:0,href:"/dashboard",class:Pe(u("/dashboard"))},{default:yt(()=>[f[3]||(f[3]=i("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1)),Ce(i("span",qA,"On Hand",512),[[rn,r.value]])]),_:1},8,["class"])):me("",!0),Ge(n)(["return.view","return.create_return","return.approve_return"])?(W(),Tt(Ge(An),{key:1,href:"/transaction/cycle-count",class:Pe(u("/transaction/cycle-count"))},{default:yt(()=>[f[4]||(f[4]=i("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v6h6M20 20v-6h-6"})],-1)),Ce(i("span",WA,"Cycle Count",512),[[rn,r.value]])]),_:1},8,["class"])):me("",!0),Ge(n)(["incoming.view","qc.view","putaway.view","picking.view","reservation.view","return.view"])?(W(),Tt(Ge(An),{key:2,href:"/activity-log",class:Pe(u("/activity-log"))},{default:yt(()=>[f[5]||(f[5]=i("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),Ce(i("span",GA,"Riwayat Aktivitas",512),[[rn,r.value]])]),_:1},8,["class"])):me("",!0),Ge(n)(["central_data.role_management_admin"])?(W(),Tt(Ge(An),{key:3,href:"/it-dashboard",class:Pe(u("/it-dashboard"))},{default:yt(()=>[f[6]||(f[6]=i("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),Ce(i("span",QA,"IT Dashboard",512),[[rn,r.value]])]),_:1},8,["class"])):me("",!0),o.value?(W(),Q("div",KA,[f[8]||(f[8]=i("div",{class:"border-t border-gray-200"},null,-1)),Ce(i("div",YA,[...f[7]||(f[7]=[i("span",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wider"}," Transaksi ",-1)])],512),[[rn,r.value]])])):me("",!0),Ge(n)(["incoming.view","incoming.create","incoming.edit"])?(W(),Tt(Ge(An),{key:5,href:"/transaction/goods-receipt",class:Pe(u("/transaction/goods-receipt"))},{default:yt(()=>[f[9]||(f[9]=i("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1)),Ce(i("span",XA,"Penerimaan Barang",512),[[rn,r.value]])]),_:1},8,["class"])):me("",!0),Ge(n)(["qc.view","qc.input_qc_result","qc.approve"])?(W(),Tt(Ge(An),{key:6,href:"/transaction/quality-control",class:Pe(u("/transaction/quality-control"))},{default:yt(()=>[f[10]||(f[10]=i("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2l4-4"}),i("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2",fill:"none"})],-1)),Ce(i("span",ZA,"Quality Control",512),[[rn,r.value]])]),_:1},8,["class"])):me("",!0),Ge(n)(["putaway.view","putaway.kerjakan_to"])?(W(),Tt(Ge(An),{key:7,href:"/transaction/putaway-transfer",class:Pe(u("/transaction/putaway-transfer"))},{default:yt(()=>[f[11]||(f[11]=i("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7"})],-1)),Ce(i("span",JA,"PutAway & Transfer Order",512),[[rn,r.value]])]),_:1},8,["class"])):me("",!0),Ge(n)(["bin-to-bin.view","bin-to-bin.pindah_barang"])?(W(),Tt(Ge(An),{key:8,href:"/transaction/bin-to-bin",class:Pe(u("/transaction/bin-to-bin"))},{default:yt(()=>[f[12]||(f[12]=i("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1)),Ce(i("span",e7,"Bin to Bin",512),[[rn,r.value]])]),_:1},8,["class"])):me("",!0),Ge(n)(["reservation.view","reservation.create_request","reservation.approve_request"])?(W(),Tt(Ge(An),{key:9,href:"/transaction/reservation",class:Pe(u("/transaction/reservation"))},{default:yt(()=>[f[13]||(f[13]=i("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",stroke:"currentColor","stroke-width":"2",fill:"none"}),i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 2v4M8 2v4"})],-1)),Ce(i("span",t7,"Reservation",512),[[rn,r.value]])]),_:1},8,["class"])):me("",!0),Ge(n)(["picking.view","picking.kerjakan_picking"])?(W(),Tt(Ge(An),{key:10,href:"/transaction/picking-list",class:Pe(u("/transaction/picking-list"))},{default:yt(()=>[f[14]||(f[14]=i("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",stroke:"currentColor","stroke-width":"2",fill:"none"}),i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 9h6M9 13h6"})],-1)),Ce(i("span",n7,"Picking List",512),[[rn,r.value]])]),_:1},8,["class"])):me("",!0),Ge(n)(["return.view","return.create_return","return.approve_return"])?(W(),Tt(Ge(An),{key:11,href:"/transaction/return",class:Pe(u("/transaction/return"))},{default:yt(()=>[f[15]||(f[15]=i("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h5M20 20v-5h-5m-1 5a8 8 0 01-14.8-3h-2m.2-2h-2m14-3h-2m-1 5a8 8 0 01-14.8-3"})],-1)),Ce(i("span",r7,"Return",512),[[rn,r.value]])]),_:1},8,["class"])):me("",!0),o.value?(W(),Q("div",s7,[f[17]||(f[17]=i("div",{class:"border-t border-gray-200"},null,-1)),Ce(i("div",o7,[...f[16]||(f[16]=[i("span",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wider"}," Kelola ",-1)])],512),[[rn,r.value]])])):me("",!0),Ge(n)(["central_data.sku_management_view","central_data.supplier_management_view","central_data.bin_management_view"])?(W(),Tt(Ge(An),{key:13,href:"/master-data",class:Pe(u("/master-data"))},{default:yt(()=>[f[18]||(f[18]=i("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"})],-1)),Ce(i("span",i7,"Master Data",512),[[rn,r.value]])]),_:1},8,["class"])):me("",!0),Ge(n)(["central_data.role_management_view","central_data.role_management_admin"])?(W(),Tt(Ge(An),{key:14,href:"/role-permission",class:Pe(u("/role-permission"))},{default:yt(()=>[f[19]||(f[19]=i("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"})],-1)),Ce(i("span",a7,"Role Permission",512),[[rn,r.value]])]),_:1},8,["class"])):me("",!0)])]),i("div",l7,[i("div",c7,[i("div",d7,[i("span",u7,R(a.value),1)]),Ce(i("div",x7,[i("p",f7,R(g.$page.props.auth.user.name),1),i("p",h7,R(g.$page.props.auth.user.role?.name||"Staff"),1)],512),[[rn,r.value]])]),Ce(i("button",{onClick:c,class:"mt-3 w-full flex items-center justify-center space-x-2 px-3 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition text-sm text-white"},[...f[20]||(f[20]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),i("span",null,"Logout",-1)])],512),[[rn,r.value]])])],2),i("div",g7,[i("header",p7,[i("div",m7,[i("div",null,[i("h1",y7,R(e.pageTitle),1),i("p",b7,R(e.pageDescription),1)]),i("div",E7,[f[21]||(f[21]=i("button",{class:"relative p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition"},[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})]),i("span",{class:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})],-1)),i("div",v7,[i("div",C7,[i("p",w7,R(g.$page.props.auth.user.name),1),i("p",A7,R(g.$page.props.auth.user.nik),1)])])])])]),i("main",B7,[Jb(g.$slots,"default")])])]))}};var Gl={exports:{}},D7=Gl.exports,Mh;function _7(){return Mh||(Mh=1,(function(e,t){(function(r,o){e.exports=o()})(typeof self<"u"?self:D7,function(){return(function(n){var r={};function o(a){if(r[a])return r[a].exports;var c=r[a]={i:a,l:!1,exports:{}};return n[a].call(c.exports,c,c.exports,o),c.l=!0,c.exports}return o.m=n,o.c=r,o.d=function(a,c,u){o.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:u})},o.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(c,"a",c),c},o.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)},o.p="",o(o.s=3)})([(function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function c(u,g){this.width=g,this.height=u.length/g,this.data=u}return c.createEmpty=function(u,g){return new c(new Uint8ClampedArray(u*g),u)},c.prototype.get=function(u,g){return u<0||u>=this.width||g<0||g>=this.height?!1:!!this.data[g*this.width+u]},c.prototype.set=function(u,g,f){this.data[g*this.width+u]=f?1:0},c.prototype.setRegion=function(u,g,f,m,y){for(var v=g;v<g+m;v++)for(var C=u;C<u+f;C++)this.set(C,v,!!y)},c})();r.BitMatrix=a}),(function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(2);function c(g,f){return g^f}r.addOrSubtractGF=c;var u=(function(){function g(f,m,y){this.primitive=f,this.size=m,this.generatorBase=y,this.expTable=new Array(this.size),this.logTable=new Array(this.size);for(var v=1,C=0;C<this.size;C++)this.expTable[C]=v,v=v*2,v>=this.size&&(v=(v^this.primitive)&this.size-1);for(var C=0;C<this.size-1;C++)this.logTable[this.expTable[C]]=C;this.zero=new a.default(this,Uint8ClampedArray.from([0])),this.one=new a.default(this,Uint8ClampedArray.from([1]))}return g.prototype.multiply=function(f,m){return f===0||m===0?0:this.expTable[(this.logTable[f]+this.logTable[m])%(this.size-1)]},g.prototype.inverse=function(f){if(f===0)throw new Error("Can't invert 0");return this.expTable[this.size-this.logTable[f]-1]},g.prototype.buildMonomial=function(f,m){if(f<0)throw new Error("Invalid monomial degree less than 0");if(m===0)return this.zero;var y=new Uint8ClampedArray(f+1);return y[0]=m,new a.default(this,y)},g.prototype.log=function(f){if(f===0)throw new Error("Can't take log(0)");return this.logTable[f]},g.prototype.exp=function(f){return this.expTable[f]},g})();r.default=u}),(function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(1),c=(function(){function u(g,f){if(f.length===0)throw new Error("No coefficients.");this.field=g;var m=f.length;if(m>1&&f[0]===0){for(var y=1;y<m&&f[y]===0;)y++;if(y===m)this.coefficients=g.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(m-y);for(var v=0;v<this.coefficients.length;v++)this.coefficients[v]=f[y+v]}}else this.coefficients=f}return u.prototype.degree=function(){return this.coefficients.length-1},u.prototype.isZero=function(){return this.coefficients[0]===0},u.prototype.getCoefficient=function(g){return this.coefficients[this.coefficients.length-1-g]},u.prototype.addOrSubtract=function(g){var f;if(this.isZero())return g;if(g.isZero())return this;var m=this.coefficients,y=g.coefficients;m.length>y.length&&(f=[y,m],m=f[0],y=f[1]);for(var v=new Uint8ClampedArray(y.length),C=y.length-m.length,A=0;A<C;A++)v[A]=y[A];for(var A=C;A<y.length;A++)v[A]=a.addOrSubtractGF(m[A-C],y[A]);return new u(this.field,v)},u.prototype.multiply=function(g){if(g===0)return this.field.zero;if(g===1)return this;for(var f=this.coefficients.length,m=new Uint8ClampedArray(f),y=0;y<f;y++)m[y]=this.field.multiply(this.coefficients[y],g);return new u(this.field,m)},u.prototype.multiplyPoly=function(g){if(this.isZero()||g.isZero())return this.field.zero;for(var f=this.coefficients,m=f.length,y=g.coefficients,v=y.length,C=new Uint8ClampedArray(m+v-1),A=0;A<m;A++)for(var D=f[A],_=0;_<v;_++)C[A+_]=a.addOrSubtractGF(C[A+_],this.field.multiply(D,y[_]));return new u(this.field,C)},u.prototype.multiplyByMonomial=function(g,f){if(g<0)throw new Error("Invalid degree less than 0");if(f===0)return this.field.zero;for(var m=this.coefficients.length,y=new Uint8ClampedArray(m+g),v=0;v<m;v++)y[v]=this.field.multiply(this.coefficients[v],f);return new u(this.field,y)},u.prototype.evaluateAt=function(g){var f=0;if(g===0)return this.getCoefficient(0);var m=this.coefficients.length;if(g===1)return this.coefficients.forEach(function(v){f=a.addOrSubtractGF(f,v)}),f;f=this.coefficients[0];for(var y=1;y<m;y++)f=a.addOrSubtractGF(this.field.multiply(g,f),this.coefficients[y]);return f},u})();r.default=c}),(function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(4),c=o(5),u=o(11),g=o(12);function f(v){var C=g.locate(v);if(!C)return null;for(var A=0,D=C;A<D.length;A++){var _=D[A],T=u.extract(v,_),j=c.decode(T.matrix);if(j)return{binaryData:j.bytes,data:j.text,chunks:j.chunks,version:j.version,location:{topRightCorner:T.mappingFunction(_.dimension,0),topLeftCorner:T.mappingFunction(0,0),bottomRightCorner:T.mappingFunction(_.dimension,_.dimension),bottomLeftCorner:T.mappingFunction(0,_.dimension),topRightFinderPattern:_.topRight,topLeftFinderPattern:_.topLeft,bottomLeftFinderPattern:_.bottomLeft,bottomRightAlignmentPattern:_.alignmentPattern}}}return null}var m={inversionAttempts:"attemptBoth"};function y(v,C,A,D){D===void 0&&(D={});var _=m;Object.keys(_||{}).forEach(function(O){_[O]=D[O]||_[O]});var T=_.inversionAttempts==="attemptBoth"||_.inversionAttempts==="invertFirst",j=_.inversionAttempts==="onlyInvert"||_.inversionAttempts==="invertFirst",F=a.binarize(v,C,A,T),k=F.binarized,P=F.inverted,$=f(j?P:k);return!$&&(_.inversionAttempts==="attemptBoth"||_.inversionAttempts==="invertFirst")&&($=f(j?k:P)),$}y.default=y,r.default=y}),(function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(0),c=8,u=24;function g(y,v,C){return y<v?v:y>C?C:y}var f=(function(){function y(v,C){this.width=v,this.data=new Uint8ClampedArray(v*C)}return y.prototype.get=function(v,C){return this.data[C*this.width+v]},y.prototype.set=function(v,C,A){this.data[C*this.width+v]=A},y})();function m(y,v,C,A){if(y.length!==v*C*4)throw new Error("Malformed data passed to binarizer.");for(var D=new f(v,C),_=0;_<v;_++)for(var T=0;T<C;T++){var j=y[(T*v+_)*4+0],F=y[(T*v+_)*4+1],k=y[(T*v+_)*4+2];D.set(_,T,.2126*j+.7152*F+.0722*k)}for(var P=Math.ceil(v/c),$=Math.ceil(C/c),O=new f(P,$),q=0;q<$;q++)for(var S=0;S<P;S++){for(var U=0,G=1/0,z=0,T=0;T<c;T++)for(var _=0;_<c;_++){var ee=D.get(S*c+_,q*c+T);U+=ee,G=Math.min(G,ee),z=Math.max(z,ee)}var se=U/Math.pow(c,2);if(z-G<=u&&(se=G/2,q>0&&S>0)){var J=(O.get(S,q-1)+2*O.get(S-1,q)+O.get(S-1,q-1))/4;G<J&&(se=J)}O.set(S,q,se)}var be=a.BitMatrix.createEmpty(v,C),he=null;A&&(he=a.BitMatrix.createEmpty(v,C));for(var q=0;q<$;q++)for(var S=0;S<P;S++){for(var we=g(S,2,P-3),Oe=g(q,2,$-3),U=0,Re=-2;Re<=2;Re++)for(var ge=-2;ge<=2;ge++)U+=O.get(we+Re,Oe+ge);for(var ve=U/25,Re=0;Re<c;Re++)for(var ge=0;ge<c;ge++){var _=S*c+Re,T=q*c+ge,re=D.get(_,T);be.set(_,T,re<=ve),A&&he.set(_,T,!(re<=ve))}}return A?{binarized:be,inverted:he}:{binarized:be}}r.binarize=m}),(function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(0),c=o(6),u=o(9),g=o(10);function f(k,P){for(var $=k^P,O=0;$;)O++,$&=$-1;return O}function m(k,P){return P<<1|k}var y=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],v=[function(k){return(k.y+k.x)%2===0},function(k){return k.y%2===0},function(k){return k.x%3===0},function(k){return(k.y+k.x)%3===0},function(k){return(Math.floor(k.y/2)+Math.floor(k.x/3))%2===0},function(k){return k.x*k.y%2+k.x*k.y%3===0},function(k){return(k.y*k.x%2+k.y*k.x%3)%2===0},function(k){return((k.y+k.x)%2+k.y*k.x%3)%2===0}];function C(k){var P=17+4*k.versionNumber,$=a.BitMatrix.createEmpty(P,P);$.setRegion(0,0,9,9,!0),$.setRegion(P-8,0,8,9,!0),$.setRegion(0,P-8,9,8,!0);for(var O=0,q=k.alignmentPatternCenters;O<q.length;O++)for(var S=q[O],U=0,G=k.alignmentPatternCenters;U<G.length;U++){var z=G[U];S===6&&z===6||S===6&&z===P-7||S===P-7&&z===6||$.setRegion(S-2,z-2,5,5,!0)}return $.setRegion(6,9,1,P-17,!0),$.setRegion(9,6,P-17,1,!0),k.versionNumber>6&&($.setRegion(P-11,0,3,6,!0),$.setRegion(0,P-11,6,3,!0)),$}function A(k,P,$){for(var O=v[$.dataMask],q=k.height,S=C(P),U=[],G=0,z=0,ee=!0,se=q-1;se>0;se-=2){se===6&&se--;for(var J=0;J<q;J++)for(var be=ee?q-1-J:J,he=0;he<2;he++){var we=se-he;if(!S.get(we,be)){z++;var Oe=k.get(we,be);O({y:be,x:we})&&(Oe=!Oe),G=m(Oe,G),z===8&&(U.push(G),z=0,G=0)}}ee=!ee}return U}function D(k){var P=k.height,$=Math.floor((P-17)/4);if($<=6)return g.VERSIONS[$-1];for(var O=0,q=5;q>=0;q--)for(var S=P-9;S>=P-11;S--)O=m(k.get(S,q),O);for(var U=0,S=5;S>=0;S--)for(var q=P-9;q>=P-11;q--)U=m(k.get(S,q),U);for(var G=1/0,z,ee=0,se=g.VERSIONS;ee<se.length;ee++){var J=se[ee];if(J.infoBits===O||J.infoBits===U)return J;var be=f(O,J.infoBits);be<G&&(z=J,G=be),be=f(U,J.infoBits),be<G&&(z=J,G=be)}if(G<=3)return z}function _(k){for(var P=0,$=0;$<=8;$++)$!==6&&(P=m(k.get($,8),P));for(var O=7;O>=0;O--)O!==6&&(P=m(k.get(8,O),P));for(var q=k.height,S=0,O=q-1;O>=q-7;O--)S=m(k.get(8,O),S);for(var $=q-8;$<q;$++)S=m(k.get($,8),S);for(var U=1/0,G=null,z=0,ee=y;z<ee.length;z++){var se=ee[z],J=se.bits,be=se.formatInfo;if(J===P||J===S)return be;var he=f(P,J);he<U&&(G=be,U=he),P!==S&&(he=f(S,J),he<U&&(G=be,U=he))}return U<=3?G:null}function T(k,P,$){var O=P.errorCorrectionLevels[$],q=[],S=0;if(O.ecBlocks.forEach(function(Oe){for(var Re=0;Re<Oe.numBlocks;Re++)q.push({numDataCodewords:Oe.dataCodewordsPerBlock,codewords:[]}),S+=Oe.dataCodewordsPerBlock+O.ecCodewordsPerBlock}),k.length<S)return null;k=k.slice(0,S);for(var U=O.ecBlocks[0].dataCodewordsPerBlock,G=0;G<U;G++)for(var z=0,ee=q;z<ee.length;z++){var se=ee[z];se.codewords.push(k.shift())}if(O.ecBlocks.length>1)for(var J=O.ecBlocks[0].numBlocks,be=O.ecBlocks[1].numBlocks,G=0;G<be;G++)q[J+G].codewords.push(k.shift());for(;k.length>0;)for(var he=0,we=q;he<we.length;he++){var se=we[he];se.codewords.push(k.shift())}return q}function j(k){var P=D(k);if(!P)return null;var $=_(k);if(!$)return null;var O=A(k,P,$),q=T(O,P,$.errorCorrectionLevel);if(!q)return null;for(var S=q.reduce(function(he,we){return he+we.numDataCodewords},0),U=new Uint8ClampedArray(S),G=0,z=0,ee=q;z<ee.length;z++){var se=ee[z],J=u.decode(se.codewords,se.codewords.length-se.numDataCodewords);if(!J)return null;for(var be=0;be<se.numDataCodewords;be++)U[G++]=J[be]}try{return c.decode(U,P.versionNumber)}catch{return null}}function F(k){if(k==null)return null;var P=j(k);if(P)return P;for(var $=0;$<k.width;$++)for(var O=$+1;O<k.height;O++)k.get($,O)!==k.get(O,$)&&(k.set($,O,!k.get($,O)),k.set(O,$,!k.get(O,$)));return j(k)}r.decode=F}),(function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(7),c=o(8),u;(function(D){D.Numeric="numeric",D.Alphanumeric="alphanumeric",D.Byte="byte",D.Kanji="kanji",D.ECI="eci"})(u=r.Mode||(r.Mode={}));var g;(function(D){D[D.Terminator=0]="Terminator",D[D.Numeric=1]="Numeric",D[D.Alphanumeric=2]="Alphanumeric",D[D.Byte=4]="Byte",D[D.Kanji=8]="Kanji",D[D.ECI=7]="ECI"})(g||(g={}));function f(D,_){for(var T=[],j="",F=[10,12,14][_],k=D.readBits(F);k>=3;){var P=D.readBits(10);if(P>=1e3)throw new Error("Invalid numeric value above 999");var $=Math.floor(P/100),O=Math.floor(P/10)%10,q=P%10;T.push(48+$,48+O,48+q),j+=$.toString()+O.toString()+q.toString(),k-=3}if(k===2){var P=D.readBits(7);if(P>=100)throw new Error("Invalid numeric value above 99");var $=Math.floor(P/10),O=P%10;T.push(48+$,48+O),j+=$.toString()+O.toString()}else if(k===1){var P=D.readBits(4);if(P>=10)throw new Error("Invalid numeric value above 9");T.push(48+P),j+=P.toString()}return{bytes:T,text:j}}var m=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function y(D,_){for(var T=[],j="",F=[9,11,13][_],k=D.readBits(F);k>=2;){var P=D.readBits(11),$=Math.floor(P/45),O=P%45;T.push(m[$].charCodeAt(0),m[O].charCodeAt(0)),j+=m[$]+m[O],k-=2}if(k===1){var $=D.readBits(6);T.push(m[$].charCodeAt(0)),j+=m[$]}return{bytes:T,text:j}}function v(D,_){for(var T=[],j="",F=[8,16,16][_],k=D.readBits(F),P=0;P<k;P++){var $=D.readBits(8);T.push($)}try{j+=decodeURIComponent(T.map(function(O){return"%"+("0"+O.toString(16)).substr(-2)}).join(""))}catch{}return{bytes:T,text:j}}function C(D,_){for(var T=[],j="",F=[8,10,12][_],k=D.readBits(F),P=0;P<k;P++){var $=D.readBits(13),O=Math.floor($/192)<<8|$%192;O<7936?O+=33088:O+=49472,T.push(O>>8,O&255),j+=String.fromCharCode(c.shiftJISTable[O])}return{bytes:T,text:j}}function A(D,_){for(var T,j,F,k,P=new a.BitStream(D),$=_<=9?0:_<=26?1:2,O={text:"",bytes:[],chunks:[],version:_};P.available()>=4;){var q=P.readBits(4);if(q===g.Terminator)return O;if(q===g.ECI)P.readBits(1)===0?O.chunks.push({type:u.ECI,assignmentNumber:P.readBits(7)}):P.readBits(1)===0?O.chunks.push({type:u.ECI,assignmentNumber:P.readBits(14)}):P.readBits(1)===0?O.chunks.push({type:u.ECI,assignmentNumber:P.readBits(21)}):O.chunks.push({type:u.ECI,assignmentNumber:-1});else if(q===g.Numeric){var S=f(P,$);O.text+=S.text,(T=O.bytes).push.apply(T,S.bytes),O.chunks.push({type:u.Numeric,text:S.text})}else if(q===g.Alphanumeric){var U=y(P,$);O.text+=U.text,(j=O.bytes).push.apply(j,U.bytes),O.chunks.push({type:u.Alphanumeric,text:U.text})}else if(q===g.Byte){var G=v(P,$);O.text+=G.text,(F=O.bytes).push.apply(F,G.bytes),O.chunks.push({type:u.Byte,bytes:G.bytes,text:G.text})}else if(q===g.Kanji){var z=C(P,$);O.text+=z.text,(k=O.bytes).push.apply(k,z.bytes),O.chunks.push({type:u.Kanji,bytes:z.bytes,text:z.text})}}if(P.available()===0||P.readBits(P.available())===0)return O}r.decode=A}),(function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function c(u){this.byteOffset=0,this.bitOffset=0,this.bytes=u}return c.prototype.readBits=function(u){if(u<1||u>32||u>this.available())throw new Error("Cannot read "+u.toString()+" bits");var g=0;if(this.bitOffset>0){var f=8-this.bitOffset,m=u<f?u:f,y=f-m,v=255>>8-m<<y;g=(this.bytes[this.byteOffset]&v)>>y,u-=m,this.bitOffset+=m,this.bitOffset===8&&(this.bitOffset=0,this.byteOffset++)}if(u>0){for(;u>=8;)g=g<<8|this.bytes[this.byteOffset]&255,this.byteOffset++,u-=8;if(u>0){var y=8-u,v=255>>y<<y;g=g<<u|(this.bytes[this.byteOffset]&v)>>y,this.bitOffset+=u}}return g},c.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},c})();r.BitStream=a}),(function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.shiftJISTable={32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:165,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:8254,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:92,33120:12316,33121:8214,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:8722,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:162,33170:163,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:172,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081}}),(function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(1),c=o(2);function u(y,v,C,A){var D;v.degree()<C.degree()&&(D=[C,v],v=D[0],C=D[1]);for(var _=v,T=C,j=y.zero,F=y.one;T.degree()>=A/2;){var k=_,P=j;if(_=T,j=F,_.isZero())return null;T=k;for(var $=y.zero,O=_.getCoefficient(_.degree()),q=y.inverse(O);T.degree()>=_.degree()&&!T.isZero();){var S=T.degree()-_.degree(),U=y.multiply(T.getCoefficient(T.degree()),q);$=$.addOrSubtract(y.buildMonomial(S,U)),T=T.addOrSubtract(_.multiplyByMonomial(S,U))}if(F=$.multiplyPoly(j).addOrSubtract(P),T.degree()>=_.degree())return null}var G=F.getCoefficient(0);if(G===0)return null;var z=y.inverse(G);return[F.multiply(z),T.multiply(z)]}function g(y,v){var C=v.degree();if(C===1)return[v.getCoefficient(1)];for(var A=new Array(C),D=0,_=1;_<y.size&&D<C;_++)v.evaluateAt(_)===0&&(A[D]=y.inverse(_),D++);return D!==C?null:A}function f(y,v,C){for(var A=C.length,D=new Array(A),_=0;_<A;_++){for(var T=y.inverse(C[_]),j=1,F=0;F<A;F++)_!==F&&(j=y.multiply(j,a.addOrSubtractGF(1,y.multiply(C[F],T))));D[_]=y.multiply(v.evaluateAt(T),y.inverse(j)),y.generatorBase!==0&&(D[_]=y.multiply(D[_],T))}return D}function m(y,v){var C=new Uint8ClampedArray(y.length);C.set(y);for(var A=new a.default(285,256,0),D=new c.default(A,C),_=new Uint8ClampedArray(v),T=!1,j=0;j<v;j++){var F=D.evaluateAt(A.exp(j+A.generatorBase));_[_.length-1-j]=F,F!==0&&(T=!0)}if(!T)return C;var k=new c.default(A,_),P=u(A,A.buildMonomial(v,1),k,v);if(P===null)return null;var $=g(A,P[0]);if($==null)return null;for(var O=f(A,P[1],$),q=0;q<$.length;q++){var S=C.length-1-A.log($[q]);if(S<0)return null;C[S]=a.addOrSubtractGF(C[S],O[q])}return C}r.decode=m}),(function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.VERSIONS=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}]}),(function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(0);function c(m,y,v,C){var A=m.x-y.x+v.x-C.x,D=m.y-y.y+v.y-C.y;if(A===0&&D===0)return{a11:y.x-m.x,a12:y.y-m.y,a13:0,a21:v.x-y.x,a22:v.y-y.y,a23:0,a31:m.x,a32:m.y,a33:1};var _=y.x-v.x,T=C.x-v.x,j=y.y-v.y,F=C.y-v.y,k=_*F-T*j,P=(A*F-T*D)/k,$=(_*D-A*j)/k;return{a11:y.x-m.x+P*y.x,a12:y.y-m.y+P*y.y,a13:P,a21:C.x-m.x+$*C.x,a22:C.y-m.y+$*C.y,a23:$,a31:m.x,a32:m.y,a33:1}}function u(m,y,v,C){var A=c(m,y,v,C);return{a11:A.a22*A.a33-A.a23*A.a32,a12:A.a13*A.a32-A.a12*A.a33,a13:A.a12*A.a23-A.a13*A.a22,a21:A.a23*A.a31-A.a21*A.a33,a22:A.a11*A.a33-A.a13*A.a31,a23:A.a13*A.a21-A.a11*A.a23,a31:A.a21*A.a32-A.a22*A.a31,a32:A.a12*A.a31-A.a11*A.a32,a33:A.a11*A.a22-A.a12*A.a21}}function g(m,y){return{a11:m.a11*y.a11+m.a21*y.a12+m.a31*y.a13,a12:m.a12*y.a11+m.a22*y.a12+m.a32*y.a13,a13:m.a13*y.a11+m.a23*y.a12+m.a33*y.a13,a21:m.a11*y.a21+m.a21*y.a22+m.a31*y.a23,a22:m.a12*y.a21+m.a22*y.a22+m.a32*y.a23,a23:m.a13*y.a21+m.a23*y.a22+m.a33*y.a23,a31:m.a11*y.a31+m.a21*y.a32+m.a31*y.a33,a32:m.a12*y.a31+m.a22*y.a32+m.a32*y.a33,a33:m.a13*y.a31+m.a23*y.a32+m.a33*y.a33}}function f(m,y){for(var v=u({x:3.5,y:3.5},{x:y.dimension-3.5,y:3.5},{x:y.dimension-6.5,y:y.dimension-6.5},{x:3.5,y:y.dimension-3.5}),C=c(y.topLeft,y.topRight,y.alignmentPattern,y.bottomLeft),A=g(C,v),D=a.BitMatrix.createEmpty(y.dimension,y.dimension),_=function($,O){var q=A.a13*$+A.a23*O+A.a33;return{x:(A.a11*$+A.a21*O+A.a31)/q,y:(A.a12*$+A.a22*O+A.a32)/q}},T=0;T<y.dimension;T++)for(var j=0;j<y.dimension;j++){var F=j+.5,k=T+.5,P=_(F,k);D.set(j,T,m.get(Math.floor(P.x),Math.floor(P.y)))}return{matrix:D,mappingFunction:_}}r.extract=f}),(function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=4,c=.5,u=1.5,g=function(F,k){return Math.sqrt(Math.pow(k.x-F.x,2)+Math.pow(k.y-F.y,2))};function f(F){return F.reduce(function(k,P){return k+P})}function m(F,k,P){var $,O,q,S,U=g(F,k),G=g(k,P),z=g(F,P),ee,se,J;return G>=U&&G>=z?($=[k,F,P],ee=$[0],se=$[1],J=$[2]):z>=G&&z>=U?(O=[F,k,P],ee=O[0],se=O[1],J=O[2]):(q=[F,P,k],ee=q[0],se=q[1],J=q[2]),(J.x-se.x)*(ee.y-se.y)-(J.y-se.y)*(ee.x-se.x)<0&&(S=[J,ee],ee=S[0],J=S[1]),{bottomLeft:ee,topLeft:se,topRight:J}}function y(F,k,P,$){var O=(f(C(F,P,$,5))/7+f(C(F,k,$,5))/7+f(C(P,F,$,5))/7+f(C(k,F,$,5))/7)/4;if(O<1)throw new Error("Invalid module size");var q=Math.round(g(F,k)/O),S=Math.round(g(F,P)/O),U=Math.floor((q+S)/2)+7;switch(U%4){case 0:U++;break;case 2:U--;break}return{dimension:U,moduleSize:O}}function v(F,k,P,$){var O=[{x:Math.floor(F.x),y:Math.floor(F.y)}],q=Math.abs(k.y-F.y)>Math.abs(k.x-F.x),S,U,G,z;q?(S=Math.floor(F.y),U=Math.floor(F.x),G=Math.floor(k.y),z=Math.floor(k.x)):(S=Math.floor(F.x),U=Math.floor(F.y),G=Math.floor(k.x),z=Math.floor(k.y));for(var ee=Math.abs(G-S),se=Math.abs(z-U),J=Math.floor(-ee/2),be=S<G?1:-1,he=U<z?1:-1,we=!0,Oe=S,Re=U;Oe!==G+be;Oe+=be){var ge=q?Re:Oe,ve=q?Oe:Re;if(P.get(ge,ve)!==we&&(we=!we,O.push({x:ge,y:ve}),O.length===$+1))break;if(J+=se,J>0){if(Re===z)break;Re+=he,J-=ee}}for(var re=[],ye=0;ye<$;ye++)O[ye]&&O[ye+1]?re.push(g(O[ye],O[ye+1])):re.push(0);return re}function C(F,k,P,$){var O,q=k.y-F.y,S=k.x-F.x,U=v(F,k,P,Math.ceil($/2)),G=v(F,{x:F.x-S,y:F.y-q},P,Math.ceil($/2)),z=U.shift()+G.shift()-1;return(O=G.concat(z)).concat.apply(O,U)}function A(F,k){var P=f(F)/f(k),$=0;return k.forEach(function(O,q){$+=Math.pow(F[q]-O*P,2)}),{averageSize:P,error:$}}function D(F,k,P){try{var $=C(F,{x:-1,y:F.y},P,k.length),O=C(F,{x:F.x,y:-1},P,k.length),q={x:Math.max(0,F.x-F.y)-1,y:Math.max(0,F.y-F.x)-1},S=C(F,q,P,k.length),U={x:Math.min(P.width,F.x+F.y)+1,y:Math.min(P.height,F.y+F.x)+1},G=C(F,U,P,k.length),z=A($,k),ee=A(O,k),se=A(S,k),J=A(G,k),be=Math.sqrt(z.error*z.error+ee.error*ee.error+se.error*se.error+J.error*J.error),he=(z.averageSize+ee.averageSize+se.averageSize+J.averageSize)/4,we=(Math.pow(z.averageSize-he,2)+Math.pow(ee.averageSize-he,2)+Math.pow(se.averageSize-he,2)+Math.pow(J.averageSize-he,2))/he;return be+we}catch{return 1/0}}function _(F,k){for(var P=Math.round(k.x);F.get(P,Math.round(k.y));)P--;for(var $=Math.round(k.x);F.get($,Math.round(k.y));)$++;for(var O=(P+$)/2,q=Math.round(k.y);F.get(Math.round(O),q);)q--;for(var S=Math.round(k.y);F.get(Math.round(O),S);)S++;var U=(q+S)/2;return{x:O,y:U}}function T(F){for(var k=[],P=[],$=[],O=[],q=function(ge){for(var ve=0,re=!1,ye=[0,0,0,0,0],Ke=function(ie){var ae=F.get(ie,ge);if(ae===re)ve++;else{ye=[ye[1],ye[2],ye[3],ye[4],ve],ve=1,re=ae;var Ne=f(ye)/7,Me=Math.abs(ye[0]-Ne)<Ne&&Math.abs(ye[1]-Ne)<Ne&&Math.abs(ye[2]-3*Ne)<3*Ne&&Math.abs(ye[3]-Ne)<Ne&&Math.abs(ye[4]-Ne)<Ne&&!ae,ze=f(ye.slice(-3))/3,et=Math.abs(ye[2]-ze)<ze&&Math.abs(ye[3]-ze)<ze&&Math.abs(ye[4]-ze)<ze&&ae;if(Me){var X=ie-ye[3]-ye[4],Y=X-ye[2],L={startX:Y,endX:X,y:ge},N=P.filter(function(ue){return Y>=ue.bottom.startX&&Y<=ue.bottom.endX||X>=ue.bottom.startX&&Y<=ue.bottom.endX||Y<=ue.bottom.startX&&X>=ue.bottom.endX&&ye[2]/(ue.bottom.endX-ue.bottom.startX)<u&&ye[2]/(ue.bottom.endX-ue.bottom.startX)>c});N.length>0?N[0].bottom=L:P.push({top:L,bottom:L})}if(et){var B=ie-ye[4],M=B-ye[3],L={startX:M,y:ge,endX:B},N=O.filter(function(te){return M>=te.bottom.startX&&M<=te.bottom.endX||B>=te.bottom.startX&&M<=te.bottom.endX||M<=te.bottom.startX&&B>=te.bottom.endX&&ye[2]/(te.bottom.endX-te.bottom.startX)<u&&ye[2]/(te.bottom.endX-te.bottom.startX)>c});N.length>0?N[0].bottom=L:O.push({top:L,bottom:L})}}},le=-1;le<=F.width;le++)Ke(le);k.push.apply(k,P.filter(function(ie){return ie.bottom.y!==ge&&ie.bottom.y-ie.top.y>=2})),P=P.filter(function(ie){return ie.bottom.y===ge}),$.push.apply($,O.filter(function(ie){return ie.bottom.y!==ge})),O=O.filter(function(ie){return ie.bottom.y===ge})},S=0;S<=F.height;S++)q(S);k.push.apply(k,P.filter(function(ge){return ge.bottom.y-ge.top.y>=2})),$.push.apply($,O);var U=k.filter(function(ge){return ge.bottom.y-ge.top.y>=2}).map(function(ge){var ve=(ge.top.startX+ge.top.endX+ge.bottom.startX+ge.bottom.endX)/4,re=(ge.top.y+ge.bottom.y+1)/2;if(F.get(Math.round(ve),Math.round(re))){var ye=[ge.top.endX-ge.top.startX,ge.bottom.endX-ge.bottom.startX,ge.bottom.y-ge.top.y+1],Ke=f(ye)/ye.length,le=D({x:Math.round(ve),y:Math.round(re)},[1,1,3,1,1],F);return{score:le,x:ve,y:re,size:Ke}}}).filter(function(ge){return!!ge}).sort(function(ge,ve){return ge.score-ve.score}).map(function(ge,ve,re){if(ve>a)return null;var ye=re.filter(function(le,ie){return ve!==ie}).map(function(le){return{x:le.x,y:le.y,score:le.score+Math.pow(le.size-ge.size,2)/ge.size,size:le.size}}).sort(function(le,ie){return le.score-ie.score});if(ye.length<2)return null;var Ke=ge.score+ye[0].score+ye[1].score;return{points:[ge].concat(ye.slice(0,2)),score:Ke}}).filter(function(ge){return!!ge}).sort(function(ge,ve){return ge.score-ve.score});if(U.length===0)return null;var G=m(U[0].points[0],U[0].points[1],U[0].points[2]),z=G.topRight,ee=G.topLeft,se=G.bottomLeft,J=j(F,$,z,ee,se),be=[];J&&be.push({alignmentPattern:{x:J.alignmentPattern.x,y:J.alignmentPattern.y},bottomLeft:{x:se.x,y:se.y},dimension:J.dimension,topLeft:{x:ee.x,y:ee.y},topRight:{x:z.x,y:z.y}});var he=_(F,z),we=_(F,ee),Oe=_(F,se),Re=j(F,$,he,we,Oe);return Re&&be.push({alignmentPattern:{x:Re.alignmentPattern.x,y:Re.alignmentPattern.y},bottomLeft:{x:Oe.x,y:Oe.y},topLeft:{x:we.x,y:we.y},topRight:{x:he.x,y:he.y},dimension:Re.dimension}),be.length===0?null:be}r.locate=T;function j(F,k,P,$,O){var q,S,U;try{q=y($,P,O,F),S=q.dimension,U=q.moduleSize}catch{return null}var G={x:P.x-$.x+O.x,y:P.y-$.y+O.y},z=(g($,O)+g($,P))/2/U,ee=1-3/z,se={x:$.x+ee*(G.x-$.x),y:$.y+ee*(G.y-$.y)},J=k.map(function(he){var we=(he.top.startX+he.top.endX+he.bottom.startX+he.bottom.endX)/4,Oe=(he.top.y+he.bottom.y+1)/2;if(F.get(Math.floor(we),Math.floor(Oe))){var Re=[he.top.endX-he.top.startX,he.bottom.endX-he.bottom.startX,he.bottom.y-he.top.y+1];f(Re)/Re.length;var ge=D({x:Math.floor(we),y:Math.floor(Oe)},[1,1,1],F),ve=ge+g({x:we,y:Oe},se);return{x:we,y:Oe,score:ve}}}).filter(function(he){return!!he}).sort(function(he,we){return he.score-we.score}),be=z>=15&&J.length?J[0]:se;return{alignmentPattern:be,dimension:S}}})]).default})})(Gl)),Gl.exports}var k7=_7();const S7=gx(k7),tl=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},F7={class:"py-8 bg-gradient-to-br from-slate-50 via-blue-50 to-slate-100 min-h-screen"},T7={class:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8"},I7={class:"mb-8 flex flex-col md:flex-row items-start md:items-center justify-between gap-4"},M7={class:"flex flex-wrap items-center gap-4 w-full md:w-auto"},P7={key:0,class:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center animate-pulse"},R7={class:"hidden md:block bg-white px-6 py-3 rounded-xl shadow-lg border border-gray-200"},O7={class:"font-semibold text-gray-900"},N7={class:"space-y-6"},L7={class:"bg-white rounded-2xl shadow-lg p-6 border border-gray-200"},$7={class:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 md:gap-0"},j7={class:"flex flex-col md:flex-row items-start md:items-center flex-1 w-full"},U7={key:0},H7={key:1,class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},z7={key:0},V7={key:1,class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},q7={class:"bg-gradient-to-br from-white to-blue-50 rounded-2xl shadow-2xl p-4 md:p-8 border-2 border-blue-200"},W7={class:"flex items-center justify-between mb-6"},G7={class:"text-2xl font-bold text-gray-900 mb-1"},Q7={class:"text-gray-600"},K7={key:0,class:"mb-6"},Y7={class:"bg-black rounded-2xl overflow-hidden relative border-4 border-blue-500 shadow-2xl"},X7={class:"absolute inset-0 flex items-center justify-center pointer-events-none"},Z7={class:"relative"},J7={class:"w-64 h-40 md:w-80 md:h-48 border-4 border-red-500 rounded-xl relative"},eB={key:0,class:"absolute inset-0"},tB={class:"mt-4 text-center"},nB={class:"text-white text-lg font-bold bg-black bg-opacity-70 px-6 py-3 rounded-full inline-block"},rB={key:1,class:"mb-6"},sB={class:"relative"},oB=["placeholder","disabled"],iB={class:"absolute right-4 top-1/2 transform -translate-y-1/2"},aB={key:0,class:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"},lB={key:1,class:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},cB={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},dB=["disabled"],uB=["disabled"],xB={key:0},fB={key:1},hB={class:"text-3xl mr-3"},gB={class:"flex-1"},pB={key:0,class:"bg-white rounded-2xl shadow-2xl overflow-hidden border-2 border-gray-200"},mB={class:"p-8 space-y-6"},yB={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},bB={class:"bg-gradient-to-br from-blue-50 to-indigo-100 p-6 rounded-2xl border-2 border-blue-300 shadow-lg"},EB={class:"text-4xl font-black text-blue-600"},vB={class:"bg-gradient-to-br from-green-50 to-emerald-100 p-6 rounded-2xl border-2 border-green-300 shadow-lg"},CB={class:"text-4xl font-black text-green-600"},wB={class:"text-2xl"},AB={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},BB={class:"bg-gradient-to-br from-gray-50 to-gray-100 p-5 rounded-xl border-2 border-gray-200 shadow"},DB={class:"font-bold text-gray-900 text-lg"},_B={class:"bg-gradient-to-br from-gray-50 to-gray-100 p-5 rounded-xl border-2 border-gray-200 shadow"},kB={class:"inline-block px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg text-sm font-bold shadow-md"},SB={class:"bg-gradient-to-br from-gray-50 to-gray-100 p-5 rounded-xl border-2 border-gray-200 shadow"},FB={class:"font-bold text-gray-900 text-lg"},TB={class:"bg-gradient-to-br from-gray-50 to-gray-100 p-5 rounded-xl border-2 border-gray-200 shadow"},IB={class:"font-bold text-gray-900 text-lg"},MB={class:"bg-gradient-to-r from-amber-50 via-yellow-50 to-orange-50 p-8 rounded-2xl border-3 border-amber-300 shadow-xl"},PB={class:"flex flex-col md:flex-row items-center justify-between gap-6 md:gap-0"},RB={class:"flex-1 w-full text-center md:text-left"},OB={class:"bg-white px-8 py-6 rounded-2xl shadow-lg border-3 border-amber-400"},NB={class:"text-4xl font-black text-amber-600"},LB={class:"flex-1 w-full text-center md:text-left"},$B={key:0,class:"bg-white px-8 py-6 rounded-2xl shadow-lg border-3 border-green-400"},jB={class:"text-4xl font-black text-green-600"},UB={key:1,class:"bg-gray-100 px-8 py-6 rounded-2xl shadow-lg border-3 border-gray-300"},HB={key:0,class:"pt-2"},zB={key:0,class:"fixed top-0 right-0 h-full w-full md:w-[600px] lg:w-[800px] bg-white shadow-2xl z-50 overflow-y-auto"},VB={class:"grid gap-6"},qB={class:"bg-white rounded-2xl shadow-xl p-6 border border-gray-200"},WB={class:"flex items-center justify-between mb-4"},GB={class:"px-3 py-1 bg-gray-100 rounded-lg text-sm font-semibold text-gray-600"},QB={key:0,class:"text-center py-12"},KB={key:1,class:"space-y-3 max-h-[800px] overflow-y-auto custom-scrollbar"},YB={class:"flex justify-between items-start mb-3"},XB={class:"flex-1"},ZB={class:"font-bold text-gray-900 mb-1"},JB={class:"text-xs text-gray-500 font-mono"},eD={class:"text-xs text-gray-500 bg-white px-2 py-1 rounded-lg"},tD={class:"flex items-center justify-between bg-white p-3 rounded-lg mb-2"},nD={class:"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-lg text-sm font-bold"},rD={class:"px-3 py-1 bg-green-100 text-green-800 rounded-lg text-sm font-bold"},sD={class:"flex items-center justify-between text-sm"},oD={class:"font-bold text-gray-900"},iD={__name:"Bintobin",props:{title:String,initialBins:Array,initialTransferHistory:Array,scannedMaterial:Object,destinationBin:String,errors:Object},setup(e){const t=e,n=co(),r=Be(!1),o=()=>r.value=!r.value,a=()=>r.value=!1,c=Be(""),u=Be(null),g=Be("scan_material"),f=Be(""),m=Be("success"),y=Be(!1),v=Be(!1),C=Be(null),A=Be(null),D=Be(null),_=Be(null),T=Be(!1),j=Be(t.initialTransferHistory),F=Be(t.initialBins),k=Be(t.scannedMaterial),P=Be(t.destinationBin),$=el({from_bin_id:null,to_bin_id:null,stock_id:null,quantity:null});Fr(()=>t.scannedMaterial,Re=>{k.value=Re}),Fr(()=>t.destinationBin,Re=>{P.value=Re}),Fr(()=>t.initialTransferHistory,Re=>{j.value=Re}),Fr(()=>t.initialBins,Re=>{F.value=Re}),Fr(()=>n.props.flash,Re=>{Re?.success?z(Re.success,"success"):Re?.error&&z(Re.error,"error")},{deep:!0}),E9(()=>{k.value&&P.value?(g.value="complete",$.stock_id=k.value.stock_id,$.from_bin_id=k.value.current_bin_id,$.quantity=k.value.quantity,$.to_bin_id=P.value.id):k.value?(g.value="scan_destination",!f.value&&!n.props.flash?.error&&z(` Material ${k.value.name} (Batch: ${k.value.batchNo}) berhasil di-scan! Silakan scan bin tujuan.`,"success")):g.value="scan_material"});const O=We(()=>new Date().toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),q=()=>{if(y.value||!c.value.trim()){c.value.trim()||z("Silakan scan atau masukkan kode barcode","error");return}const Re=c.value.trim();y.value=!0,f.value="";let ge={},ve="/transaction/bin-to-bin",re=Re.toUpperCase(),ye=!1;try{const Ke=JSON.parse(Re);Ke&&Ke.bin_code&&(re=String(Ke.bin_code).toUpperCase(),ye=!0,z(` Menganalisis Kode: Mengurai Bin Code dari JSON: ${re}`,"success"))}catch{}if(g.value==="scan_material"){if(!ye&&Re.includes("|")&&Re.length>20)try{const Ke=Re.split("|");Ke.length>=3&&(re=Ke[2].trim().toUpperCase(),z(` Menganalisis Batch: ${re} dari QR Code material...`,"success"))}catch{}ge={material_batch:re}}else if(g.value==="scan_destination"){if(k.value&&re===k.value.currentBin.toUpperCase()){y.value=!1,z(` Gagal: Bin Tujuan tidak boleh sama dengan Bin Sumber (${k.value.currentBin})!`,"error");return}ge={material_batch:k.value.batchNo,bin_code:re}}bt.get(ve,ge,{preserveState:!0,preserveScroll:!0,onFinish:()=>{y.value=!1,c.value="",ee()},onError:Ke=>{}})},S=()=>{q()},U=()=>{$.processing||$.post("/transaction/bin-to-bin/transfer",{preserveScroll:!0,onSuccess:()=>{},onError:Re=>{const ge=Object.values(Re).join(` 
`);z(` Gagal Konfirmasi: ${ge}`,"error")}})},G=()=>{bt.get("/bin-to-bin",{},{preserveState:!1})},z=(Re,ge)=>{f.value=Re,m.value=ge,setTimeout(()=>{f.value===Re&&(f.value="")},6e3)},ee=()=>{kr(()=>{u.value&&!v.value&&u.value.focus()})},se=async()=>{v.value?be():await J()},J=async()=>{try{const Re=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}});D.value=Re,v.value=!0,await kr(),C.value&&(C.value.srcObject=Re,C.value.play(),he(),z(" Kamera aktif! Arahkan barcode ke kamera.","success"))}catch(Re){console.error("Camera error:",Re),Re.name==="NotAllowedError"?z(" Izin kamera ditolak. Harap izinkan akses kamera di browser Anda.","error"):z(" Tidak dapat mengakses kamera. Pastikan Anda menggunakan HTTPS.","error")}},be=()=>{D.value&&(D.value.getTracks().forEach(Re=>Re.stop()),D.value=null),_.value&&(cancelAnimationFrame(_.value),_.value=null),v.value=!1,T.value=!1,C.value&&(C.value.srcObject=null),ee()},he=()=>{if(!(!v.value||!C.value||!A.value)){if(T.value=!1,C.value.readyState===C.value.HAVE_ENOUGH_DATA){const Re=A.value,ge=Re.getContext("2d",{willReadFrequently:!0});Re.height=C.value.videoHeight,Re.width=C.value.videoWidth,ge.drawImage(C.value,0,0,Re.width,Re.height);const ve=ge.getImageData(0,0,Re.width,Re.height),re=S7(ve.data,ve.width,ve.height,{inversionAttempts:"dontInvert"});if(T.value=!0,re){T.value=!1,be(),c.value=re.data,q();return}}_.value=requestAnimationFrame(he)}},we=We(()=>m.value==="success"?"bg-green-500 text-white border-2 border-green-600":"bg-red-500 text-white border-2 border-red-600");Kn(()=>{ee(),window.addEventListener("keydown",Re=>{Re.key==="Escape"&&r.value&&a()}),n.props.flash?.success?z(n.props.flash.success,"success"):n.props.flash?.error&&z(n.props.flash.error,"error")});const Oe=()=>{be()};return typeof window<"u"&&window.addEventListener("beforeunload",Oe),(Re,ge)=>(W(),Tt(Yn,{title:"Bin to Bin Transfer"},{default:yt(()=>[i("div",F7,[i("div",T7,[i("div",I7,[ge[6]||(ge[6]=i("div",null,[i("h1",{class:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent mb-2"}," Sistem Bin to Bin Transfer "),i("p",{class:"text-gray-600 text-base md:text-lg"},"Real-time warehouse material movement tracking system")],-1)),i("div",M7,[i("button",{onClick:o,class:"relative flex-1 md:flex-none px-6 py-3 bg-white rounded-xl shadow-lg border border-gray-200 hover:bg-gray-50 transition-all flex items-center justify-center space-x-2 group"},[ge[2]||(ge[2]=i("svg",{class:"w-6 h-6 text-gray-700 group-hover:text-blue-600 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),ge[3]||(ge[3]=i("span",{class:"font-semibold text-gray-700 group-hover:text-blue-600"},"Dashboard",-1)),j.value.length>0?(W(),Q("span",P7,R(j.value.length),1)):me("",!0)]),i("div",R7,[ge[4]||(ge[4]=i("div",{class:"text-xs text-gray-500 mb-1"},"Tanggal",-1)),i("div",O7,R(O.value),1)]),ge[5]||(ge[5]=i("div",{class:"hidden md:block bg-gradient-to-r from-green-500 to-emerald-500 px-6 py-3 rounded-xl shadow-lg text-white"},[i("div",{class:"text-xs opacity-90 mb-1"},"Status Sistem"),i("div",{class:"font-bold flex items-center"},[i("span",{class:"w-2 h-2 bg-white rounded-full mr-2 animate-pulse"}),Qe(" ONLINE ")])],-1))])]),i("div",N7,[i("div",L7,[i("div",$7,[i("div",j7,[i("div",{class:Pe(["flex items-center w-full md:w-auto mb-4 md:mb-0",g.value==="scan_material"||g.value==="scan_destination"||g.value==="complete"?"text-blue-600":"text-gray-400"])},[i("div",{class:Pe(["w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg border-2 shrink-0",g.value==="scan_material"||g.value==="scan_destination"||g.value==="complete"?"bg-blue-600 text-white border-blue-600":"bg-gray-200 text-gray-400 border-gray-300"])},[g.value==="scan_material"?(W(),Q("span",U7,"1")):(W(),Q("svg",H7,[...ge[7]||(ge[7]=[i("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])]))],2),ge[8]||(ge[8]=i("div",{class:"ml-3"},[i("p",{class:"font-bold"},"Scan Material"),i("p",{class:"text-xs"},"Scan kode material")],-1))],2),i("div",{class:Pe(["hidden md:block flex-1 h-1 mx-4",g.value==="scan_destination"||g.value==="complete"?"bg-blue-600":"bg-gray-300"])},null,2),i("div",{class:Pe(["md:hidden w-1 h-8 ml-5",g.value==="scan_destination"||g.value==="complete"?"bg-blue-600":"bg-gray-300"])},null,2),i("div",{class:Pe(["flex items-center w-full md:w-auto mb-4 md:mb-0",g.value==="scan_destination"||g.value==="complete"?"text-blue-600":"text-gray-400"])},[i("div",{class:Pe(["w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg border-2 shrink-0",g.value==="scan_destination"||g.value==="complete"?"bg-blue-600 text-white border-blue-600":"bg-gray-200 text-gray-400 border-gray-300"])},[g.value!=="complete"?(W(),Q("span",z7,"2")):(W(),Q("svg",V7,[...ge[9]||(ge[9]=[i("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])]))],2),ge[10]||(ge[10]=i("div",{class:"ml-3"},[i("p",{class:"font-bold"},"Scan Bin Tujuan"),i("p",{class:"text-xs"},"Scan lokasi tujuan")],-1))],2),i("div",{class:Pe(["hidden md:block flex-1 h-1 mx-4",g.value==="complete"?"bg-green-600":"bg-gray-300"])},null,2),i("div",{class:Pe(["md:hidden w-1 h-8 ml-5",g.value==="complete"?"bg-green-600":"bg-gray-300"])},null,2),i("div",{class:Pe(["flex items-center w-full md:w-auto",g.value==="complete"?"text-green-600":"text-gray-400"])},[i("div",{class:Pe(["w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg border-2 shrink-0",g.value==="complete"?"bg-green-600 text-white border-green-600":"bg-gray-200 text-gray-400 border-gray-300"])},"  ",2),ge[11]||(ge[11]=i("div",{class:"ml-3"},[i("p",{class:"font-bold"},"Konfirmasi"),i("p",{class:"text-xs"},"Selesaikan transfer")],-1))],2)])])]),i("div",q7,[i("div",W7,[i("div",null,[i("h2",G7,R(g.value==="scan_material"?" Scan Material":g.value==="scan_destination"?" Scan Bin Tujuan":" Siap Konfirmasi"),1),i("p",Q7,R(g.value==="scan_material"?"Pilih metode scanning untuk material":g.value==="scan_destination"?"Pilih metode scanning untuk bin tujuan":"Klik tombol konfirmasi untuk menyelesaikan"),1)])]),v.value?(W(),Q("div",K7,[i("div",Y7,[i("video",{ref_key:"videoElement",ref:C,autoplay:"",playsinline:"",class:"w-full h-64 md:h-96 object-cover"},null,512),i("div",X7,[i("div",Z7,[i("div",J7,[ge[13]||(ge[13]=i("div",{class:"absolute -top-1 -left-1 w-8 h-8 border-t-8 border-l-8 border-red-500 rounded-tl-xl"},null,-1)),ge[14]||(ge[14]=i("div",{class:"absolute -top-1 -right-1 w-8 h-8 border-t-8 border-r-8 border-red-500 rounded-tr-xl"},null,-1)),ge[15]||(ge[15]=i("div",{class:"absolute -bottom-1 -left-1 w-8 h-8 border-b-8 border-l-8 border-red-500 rounded-bl-xl"},null,-1)),ge[16]||(ge[16]=i("div",{class:"absolute -bottom-1 -right-1 w-8 h-8 border-b-8 border-r-8 border-red-500 rounded-br-xl"},null,-1)),T.value?(W(),Q("div",eB,[...ge[12]||(ge[12]=[i("div",{class:"camera-scan-line"},null,-1)])])):me("",!0)]),i("div",tB,[i("p",nB,R(T.value?" Scanning...":" Arahkan Barcode ke Frame"),1)])])]),i("canvas",{ref_key:"canvasElement",ref:A,class:"hidden"},null,512),i("div",{class:"absolute top-4 right-4 flex space-x-2"},[i("button",{onClick:be,class:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-all shadow-lg flex items-center"},[...ge[17]||(ge[17]=[i("svg",{class:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),Qe(" Tutup ",-1)])])])]),ge[18]||(ge[18]=i("p",{class:"text-center text-gray-600 mt-4 text-sm flex items-center justify-center"},[i("span",{class:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),Qe(" Kamera Aktif - Deteksi barcode otomatis ")],-1))])):me("",!0),v.value?me("",!0):(W(),Q("div",rB,[ge[20]||(ge[20]=i("label",{class:"block text-sm font-semibold text-gray-700 mb-3"},"  Input Manual - Ketik kode barcode ",-1)),i("div",sB,[Ce(i("input",{"onUpdate:modelValue":ge[0]||(ge[0]=ve=>c.value=ve),onKeyup:Ka(S,["enter"]),type:"text",placeholder:g.value==="scan_material"?"Contoh: MAT001, MAT002, MAT003...":"Contoh: A1, B2, C3...",class:"w-full px-6 py-5 bg-white border-3 border-gray-300 rounded-xl focus:ring-4 focus:ring-blue-500 focus:border-blue-500 text-gray-900 text-xl font-mono placeholder-gray-400 transition-all shadow-inner",disabled:g.value==="complete"||y.value,ref_key:"barcodeInputRef",ref:u},null,40,oB),[[$e,c.value]]),i("div",iB,[y.value?(W(),Q("div",aB)):(W(),Q("svg",lB,[...ge[19]||(ge[19]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"},null,-1)])]))])])])),i("div",cB,[i("button",{onClick:se,disabled:g.value==="complete",class:Pe(["py-5 px-6 rounded-xl font-bold text-lg transition-all duration-200 shadow-lg flex items-center justify-center",g.value==="complete"?"bg-gray-300 text-gray-500 cursor-not-allowed":v.value?"bg-red-600 hover:bg-red-700 text-white transform hover:scale-105":"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white transform hover:scale-105"])},[ge[21]||(ge[21]=i("svg",{class:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),Qe(" "+R(v.value?"Stop Kamera":"Buka Kamera"),1)],10,dB),i("button",{onClick:S,disabled:!c.value||g.value==="complete"||y.value||v.value,class:Pe(["py-5 px-6 rounded-xl font-bold text-lg transition-all duration-200 shadow-lg flex items-center justify-center",!c.value||g.value==="complete"||y.value||v.value?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white transform hover:scale-105"])},[ge[22]||(ge[22]=i("svg",{class:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),y.value?(W(),Q("span",fB,"Processing...")):(W(),Q("span",xB,"Scan Manual"))],10,uB)]),e.scannedMaterial&&g.value!=="complete"?(W(),Q("button",{key:2,onClick:G,class:"w-full mt-4 py-4 px-6 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white font-bold rounded-xl transition-all transform hover:scale-105 shadow-lg flex items-center justify-center"},[...ge[23]||(ge[23]=[i("svg",{class:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),Qe(" Reset Transfer ",-1)])])):me("",!0),_t(ml,{name:"slide-fade"},{default:yt(()=>[f.value?(W(),Q("div",{key:0,class:Pe(["mt-6 p-5 rounded-xl font-semibold flex items-center shadow-lg border-2",we.value])},[i("span",hB,R(m.value==="success"?"":""),1),i("span",gB,R(f.value),1),i("button",{onClick:ge[1]||(ge[1]=ve=>f.value=""),class:"ml-2 hover:opacity-70"},[...ge[24]||(ge[24]=[i("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},[i("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)])])],2)):me("",!0)]),_:1})]),_t(ml,{name:"scale-fade"},{default:yt(()=>[e.scannedMaterial?(W(),Q("div",pB,[ge[37]||(ge[37]=i("div",{class:"bg-gradient-to-r from-indigo-600 to-blue-600 p-6"},[i("h3",{class:"text-2xl font-bold text-white flex items-center"},[i("span",{class:"w-12 h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center mr-3 text-3xl"},""),Qe(" Informasi Material ")])],-1)),i("div",mB,[i("div",yB,[i("div",bB,[ge[25]||(ge[25]=i("p",{class:"text-sm text-blue-700 mb-2 font-bold uppercase tracking-wide"},"Kode Material",-1)),i("p",EB,R(e.scannedMaterial.code),1)]),i("div",vB,[ge[26]||(ge[26]=i("p",{class:"text-sm text-green-700 mb-2 font-bold uppercase tracking-wide"},"Jumlah ",-1)),i("p",CB,[Qe(R(e.scannedMaterial.quantity)+" ",1),i("span",wB,R(e.scannedMaterial.unit),1)])])]),i("div",AB,[i("div",BB,[ge[27]||(ge[27]=i("div",{class:"flex items-center mb-2"},[i("span",{class:"w-3 h-3 bg-purple-500 rounded-full mr-2"}),i("p",{class:"text-xs text-gray-600 font-bold uppercase tracking-wide"},"Nama Material")],-1)),i("p",DB,R(e.scannedMaterial.name),1)]),i("div",_B,[ge[28]||(ge[28]=i("div",{class:"flex items-center mb-2"},[i("span",{class:"w-3 h-3 bg-pink-500 rounded-full mr-2"}),i("p",{class:"text-xs text-gray-600 font-bold uppercase tracking-wide"},"Kategori ")],-1)),i("span",kB,R(e.scannedMaterial.category),1)]),i("div",SB,[ge[29]||(ge[29]=i("div",{class:"flex items-center mb-2"},[i("span",{class:"w-3 h-3 bg-blue-500 rounded-full mr-2"}),i("p",{class:"text-xs text-gray-600 font-bold uppercase tracking-wide"},"Batch Number")],-1)),i("p",FB,R(e.scannedMaterial.batchNo),1)]),i("div",TB,[ge[30]||(ge[30]=i("div",{class:"flex items-center mb-2"},[i("span",{class:"w-3 h-3 bg-orange-500 rounded-full mr-2"}),i("p",{class:"text-xs text-gray-600 font-bold uppercase tracking-wide"},"Tanggal Kadaluarsa")],-1)),i("p",IB,R(e.scannedMaterial.expiryDate),1)])]),i("div",MB,[ge[35]||(ge[35]=i("p",{class:"text-sm font-bold text-amber-900 mb-6 uppercase tracking-wider flex items-center"},[i("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})]),Qe(" Rute Perpindahan ")],-1)),i("div",PB,[i("div",RB,[ge[31]||(ge[31]=i("p",{class:"text-xs text-amber-700 mb-3 font-semibold uppercase"},"Dari Bin",-1)),i("div",OB,[i("p",NB,R(e.scannedMaterial.currentBin),1)])]),ge[34]||(ge[34]=i("div",{class:"px-6 transform rotate-90 md:rotate-0"},[i("svg",{class:"w-16 h-16 text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M13 7l5 5m0 0l-5 5m5-5H6"})])],-1)),i("div",LB,[ge[33]||(ge[33]=i("p",{class:"text-xs text-amber-700 mb-3 font-semibold uppercase"},"Ke Bin",-1)),e.destinationBin?(W(),Q("div",$B,[i("p",jB,R(e.destinationBin.code),1)])):(W(),Q("div",UB,[...ge[32]||(ge[32]=[i("p",{class:"text-4xl font-black text-gray-400"},"???",-1)])]))])])]),e.destinationBin&&g.value==="complete"?(W(),Q("div",HB,[i("button",{onClick:U,class:"w-full py-6 px-8 bg-gradient-to-r from-green-600 via-emerald-600 to-teal-600 hover:from-green-700 hover:via-emerald-700 hover:to-teal-700 text-white font-black text-2xl rounded-2xl transition-all duration-200 transform hover:scale-105 active:scale-95 shadow-2xl flex items-center justify-center"},[...ge[36]||(ge[36]=[i("svg",{class:"w-10 h-10 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"})],-1),Qe(" KONFIRMASI TRANSFER ",-1)])])])):me("",!0)])])):me("",!0)]),_:1}),ge[38]||(ge[38]=i("div",{class:"bg-gradient-to-br from-white to-blue-50 rounded-2xl shadow-2xl p-8 border-2 border-blue-200"},[i("div",{class:"text-center py-12"},[i("p",{class:"text-gray-500"},"Scanner Card Content - Gunakan kode yang sudah ada")])],-1))])])]),_t(ml,{name:"fade"},{default:yt(()=>[r.value?(W(),Q("div",{key:0,onClick:a,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm z-40 transition-all duration-300",style:{"background-color":"#00000054"}})):me("",!0)]),_:1}),_t(ml,{name:"slide"},{default:yt(()=>[r.value?(W(),Q("div",zB,[i("div",{class:"sticky top-0 p-6 flex items-center justify-between z-10 shadow-lg"},[ge[40]||(ge[40]=i("div",{class:"flex items-center space-x-3"},[i("div",{class:"w-12 h-12 bg-green bg-opacity-20 rounded-xl flex items-center justify-center"},[i("svg",{class:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])]),i("div",null,[i("h2",{class:"text-2xl font-bold"},"Dashboard"),i("p",{class:"text-black-100 text-sm"},"Real-time Statistics")])],-1)),i("button",{onClick:a,class:"w-10 h-10 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg flex items-center justify-center transition-all"},[...ge[39]||(ge[39]=[i("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",VB,[i("div",qB,[i("div",WB,[ge[41]||(ge[41]=i("h3",{class:"text-lg font-bold text-gray-800 flex items-center"},[i("span",{class:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center mr-2"},""),Qe(" Riwayat Transfer ")],-1)),i("span",GB,R(j.value.length),1)]),j.value.length===0?(W(),Q("div",QB,[...ge[42]||(ge[42]=[i("div",{class:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4"},[i("svg",{class:"w-10 h-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1),i("p",{class:"text-gray-400 font-semibold"},"Belum ada transfer",-1),i("p",{class:"text-gray-400 text-sm mt-1"},"Mulai scan untuk membuat transfer",-1)])])):(W(),Q("div",KB,[_t(l6,{name:"list"},{default:yt(()=>[(W(!0),Q(He,null,ot(j.value.slice().reverse(),(ve,re)=>(W(),Q("div",{key:re,class:"p-4 bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl border-2 border-gray-200 hover:border-blue-300 hover:shadow-lg transition-all duration-200"},[i("div",YB,[i("div",XB,[i("p",ZB,R(ve.materialName),1),i("p",JB,R(ve.materialCode),1)]),i("span",eD,R(ve.timestamp),1)]),i("div",tD,[i("span",nD,R(ve.fromBin),1),ge[43]||(ge[43]=i("svg",{class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1)),i("span",rD,R(ve.toBin),1)]),i("div",sD,[ge[44]||(ge[44]=i("span",{class:"text-gray-600"},"Qty:",-1)),i("span",oD,R(ve.quantity)+" "+R(ve.unit),1)])]))),128))]),_:1})]))])])])):me("",!0)]),_:1})]),_:1}))}},aD=tl(iD,[["__scopeId","data-v-7f90dc94"]]),lD=Object.freeze(Object.defineProperty({__proto__:null,default:aD},Symbol.toStringTag,{value:"Module"})),cD={__name:"CentralData",setup(e){return(t,n)=>(W(),Tt(Yn,{title:"Riwayat Aktivitas"},{default:yt(()=>[...n[0]||(n[0]=[i("div",{class:"py-12"},[i("div",{class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},[i("h1",{class:"text-2xl font-bold mb-4"},"Role Permission"),i("p",null,"Role n Permission")])],-1)])]),_:1}))}},dD=Object.freeze(Object.defineProperty({__proto__:null,default:cD},Symbol.toStringTag,{value:"Module"}));var Je;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Je||(Je={}));var Ph=new Map([[Je.QR_CODE,"QR_CODE"],[Je.AZTEC,"AZTEC"],[Je.CODABAR,"CODABAR"],[Je.CODE_39,"CODE_39"],[Je.CODE_93,"CODE_93"],[Je.CODE_128,"CODE_128"],[Je.DATA_MATRIX,"DATA_MATRIX"],[Je.MAXICODE,"MAXICODE"],[Je.ITF,"ITF"],[Je.EAN_13,"EAN_13"],[Je.EAN_8,"EAN_8"],[Je.PDF_417,"PDF_417"],[Je.RSS_14,"RSS_14"],[Je.RSS_EXPANDED,"RSS_EXPANDED"],[Je.UPC_A,"UPC_A"],[Je.UPC_E,"UPC_E"],[Je.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Rh;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Rh||(Rh={}));function uD(e){return Object.values(Je).includes(e)}var uo;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(uo||(uo={}));var Hr=(function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[uo.SCAN_TYPE_CAMERA,uo.SCAN_TYPE_FILE],e})(),by=(function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Ph.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,Ph.get(t))},e})(),Oh=(function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e})(),Mu;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Mu||(Mu={}));var Ey=(function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Mu.UNKWOWN_ERROR}},e})(),vy=(function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e})();function ls(e){return typeof e>"u"||e===null}function xD(e,t,n){return e>n?n:e<t?t:e}var gi=(function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e})(),Ot=(function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e})(),Nh=(function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e})(),Cy=(function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var o=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(o),c=Object.keys(t),u=0,g=c;u<g.length;u++){var f=g[u];if(a.has(f))return n.logError("".concat(f," is not supported videoConstaints."),!0),!1}return!0},e})(),ca={exports:{}},fD=ca.exports,Lh;function hD(){return Lh||(Lh=1,(function(e,t){(function(n,r){r(t)})(fD,(function(n){function r(H){return H==null}var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,s){H.__proto__=s}||function(H,s){for(var l in s)s.hasOwnProperty(l)&&(H[l]=s[l])};function a(H,s){o(H,s);function l(){this.constructor=H}H.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}function c(H,s){var l=Object.setPrototypeOf;l?l(H,s):H.__proto__=s}function u(H,s){s===void 0&&(s=H.constructor);var l=Error.captureStackTrace;l&&l(H,s)}var g=(function(H){a(s,H);function s(l){var d=this.constructor,x=H.call(this,l)||this;return Object.defineProperty(x,"name",{value:d.name,enumerable:!1}),c(x,d.prototype),u(x),x}return s})(Error);class f extends g{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}f.kind="Exception";class m extends f{}m.kind="ArgumentException";class y extends f{}y.kind="IllegalArgumentException";class v{constructor(s){if(this.binarizer=s,s===null)throw new y("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,l){return this.binarizer.getBlackRow(s,l)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,l,d,x){const h=this.binarizer.getLuminanceSource().crop(s,l,d,x);return new v(this.binarizer.createBinarizer(h))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new v(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new v(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class C extends f{static getChecksumInstance(){return new C}}C.kind="ChecksumException";class A{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class D{static arraycopy(s,l,d,x,h){for(;h--;)d[x++]=s[l++]}static currentTimeMillis(){return Date.now()}}class _ extends f{}_.kind="IndexOutOfBoundsException";class T extends _{constructor(s=void 0,l=void 0){super(l),this.index=s,this.message=l}}T.kind="ArrayIndexOutOfBoundsException";class j{static fill(s,l){for(let d=0,x=s.length;d<x;d++)s[d]=l}static fillWithin(s,l,d,x){j.rangeCheck(s.length,l,d);for(let h=l;h<d;h++)s[h]=x}static rangeCheck(s,l,d){if(l>d)throw new y("fromIndex("+l+") > toIndex("+d+")");if(l<0)throw new T(l);if(d>s)throw new T(d)}static asList(...s){return s}static create(s,l,d){return Array.from({length:s}).map(h=>Array.from({length:l}).fill(d))}static createInt32Array(s,l,d){return Array.from({length:s}).map(h=>Int32Array.from({length:l}).fill(d))}static equals(s,l){if(!s||!l||!s.length||!l.length||s.length!==l.length)return!1;for(let d=0,x=s.length;d<x;d++)if(s[d]!==l[d])return!1;return!0}static hashCode(s){if(s===null)return 0;let l=1;for(const d of s)l=31*l+d;return l}static fillUint8Array(s,l){for(let d=0;d!==s.length;d++)s[d]=l}static copyOf(s,l){return s.slice(0,l)}static copyOfUint8Array(s,l){if(s.length<=l){const d=new Uint8Array(l);return d.set(s),d}return s.slice(0,l)}static copyOfRange(s,l,d){const x=d-l,h=new Int32Array(x);return D.arraycopy(s,l,h,0,x),h}static binarySearch(s,l,d){d===void 0&&(d=j.numberComparator);let x=0,h=s.length-1;for(;x<=h;){const p=h+x>>1,b=d(l,s[p]);if(b>0)x=p+1;else if(b<0)h=p-1;else return p}return-x-1}static numberComparator(s,l){return s-l}}class F{static numberOfTrailingZeros(s){let l;if(s===0)return 32;let d=31;return l=s<<16,l!==0&&(d-=16,s=l),l=s<<8,l!==0&&(d-=8,s=l),l=s<<4,l!==0&&(d-=4,s=l),l=s<<2,l!==0&&(d-=2,s=l),d-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let l=1;return s>>>16||(l+=16,s<<=16),s>>>24||(l+=8,s<<=8),s>>>28||(l+=4,s<<=4),s>>>30||(l+=2,s<<=2),l-=s>>>31,l}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,l){return Math.trunc(s/l)}static parseInt(s,l=void 0){return parseInt(s,l)}}F.MIN_VALUE_32_BITS=-2147483648,F.MAX_VALUE=Number.MAX_SAFE_INTEGER;class k{constructor(s,l){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,l==null?this.bits=k.makeArray(s):this.bits=l)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const l=k.makeArray(s);D.arraycopy(this.bits,0,l,0,this.bits.length),this.bits=l}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const l=this.size;if(s>=l)return l;const d=this.bits;let x=Math.floor(s/32),h=d[x];h&=~((1<<(s&31))-1);const p=d.length;for(;h===0;){if(++x===p)return l;h=d[x]}const b=x*32+F.numberOfTrailingZeros(h);return b>l?l:b}getNextUnset(s){const l=this.size;if(s>=l)return l;const d=this.bits;let x=Math.floor(s/32),h=~d[x];h&=~((1<<(s&31))-1);const p=d.length;for(;h===0;){if(++x===p)return l;h=~d[x]}const b=x*32+F.numberOfTrailingZeros(h);return b>l?l:b}setBulk(s,l){this.bits[Math.floor(s/32)]=l}setRange(s,l){if(l<s||s<0||l>this.size)throw new y;if(l===s)return;l--;const d=Math.floor(s/32),x=Math.floor(l/32),h=this.bits;for(let p=d;p<=x;p++){const b=p>d?0:s&31,w=(2<<(p<x?31:l&31))-(1<<b);h[p]|=w}}clear(){const s=this.bits.length,l=this.bits;for(let d=0;d<s;d++)l[d]=0}isRange(s,l,d){if(l<s||s<0||l>this.size)throw new y;if(l===s)return!0;l--;const x=Math.floor(s/32),h=Math.floor(l/32),p=this.bits;for(let b=x;b<=h;b++){const E=b>x?0:s&31,I=(2<<(b<h?31:l&31))-(1<<E)&4294967295;if((p[b]&I)!==(d?I:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,l){if(l<0||l>32)throw new y("Num bits must be between 0 and 32");this.ensureCapacity(this.size+l);for(let d=l;d>0;d--)this.appendBit((s>>d-1&1)===1)}appendBitArray(s){const l=s.size;this.ensureCapacity(this.size+l);for(let d=0;d<l;d++)this.appendBit(s.get(d))}xor(s){if(this.size!==s.size)throw new y("Sizes don't match");const l=this.bits;for(let d=0,x=l.length;d<x;d++)l[d]^=s.bits[d]}toBytes(s,l,d,x){for(let h=0;h<x;h++){let p=0;for(let b=0;b<8;b++)this.get(s)&&(p|=1<<7-b),s++;l[d+h]=p}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),l=Math.floor((this.size-1)/32),d=l+1,x=this.bits;for(let h=0;h<d;h++){let p=x[h];p=p>>1&1431655765|(p&1431655765)<<1,p=p>>2&858993459|(p&858993459)<<2,p=p>>4&252645135|(p&252645135)<<4,p=p>>8&16711935|(p&16711935)<<8,p=p>>16&65535|(p&65535)<<16,s[l-h]=p}if(this.size!==d*32){const h=d*32-this.size;let p=s[0]>>>h;for(let b=1;b<d;b++){const E=s[b];p|=E<<32-h,s[b-1]=p,p=E>>>h}s[d-1]=p}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof k))return!1;const l=s;return this.size===l.size&&j.equals(this.bits,l.bits)}hashCode(){return 31*this.size+j.hashCode(this.bits)}toString(){let s="";for(let l=0,d=this.size;l<d;l++)(l&7)===0&&(s+=" "),s+=this.get(l)?"X":".";return s}clone(){return new k(this.size,this.bits.slice())}}var P;(function(H){H[H.OTHER=0]="OTHER",H[H.PURE_BARCODE=1]="PURE_BARCODE",H[H.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",H[H.TRY_HARDER=3]="TRY_HARDER",H[H.CHARACTER_SET=4]="CHARACTER_SET",H[H.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",H[H.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",H[H.ASSUME_GS1=7]="ASSUME_GS1",H[H.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",H[H.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",H[H.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(P||(P={}));var $=P;class O extends f{static getFormatInstance(){return new O}}O.kind="FormatException";var q;(function(H){H[H.Cp437=0]="Cp437",H[H.ISO8859_1=1]="ISO8859_1",H[H.ISO8859_2=2]="ISO8859_2",H[H.ISO8859_3=3]="ISO8859_3",H[H.ISO8859_4=4]="ISO8859_4",H[H.ISO8859_5=5]="ISO8859_5",H[H.ISO8859_6=6]="ISO8859_6",H[H.ISO8859_7=7]="ISO8859_7",H[H.ISO8859_8=8]="ISO8859_8",H[H.ISO8859_9=9]="ISO8859_9",H[H.ISO8859_10=10]="ISO8859_10",H[H.ISO8859_11=11]="ISO8859_11",H[H.ISO8859_13=12]="ISO8859_13",H[H.ISO8859_14=13]="ISO8859_14",H[H.ISO8859_15=14]="ISO8859_15",H[H.ISO8859_16=15]="ISO8859_16",H[H.SJIS=16]="SJIS",H[H.Cp1250=17]="Cp1250",H[H.Cp1251=18]="Cp1251",H[H.Cp1252=19]="Cp1252",H[H.Cp1256=20]="Cp1256",H[H.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",H[H.UTF8=22]="UTF8",H[H.ASCII=23]="ASCII",H[H.Big5=24]="Big5",H[H.GB18030=25]="GB18030",H[H.EUC_KR=26]="EUC_KR"})(q||(q={}));class S{constructor(s,l,d,...x){this.valueIdentifier=s,this.name=d,typeof l=="number"?this.values=Int32Array.from([l]):this.values=l,this.otherEncodingNames=x,S.VALUE_IDENTIFIER_TO_ECI.set(s,this),S.NAME_TO_ECI.set(d,this);const h=this.values;for(let p=0,b=h.length;p!==b;p++){const E=h[p];S.VALUES_TO_ECI.set(E,this)}for(const p of x)S.NAME_TO_ECI.set(p,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new O("incorect value");const l=S.VALUES_TO_ECI.get(s);if(l===void 0)throw new O("incorect value");return l}static getCharacterSetECIByName(s){const l=S.NAME_TO_ECI.get(s);if(l===void 0)throw new O("incorect value");return l}equals(s){if(!(s instanceof S))return!1;const l=s;return this.getName()===l.getName()}}S.VALUE_IDENTIFIER_TO_ECI=new Map,S.VALUES_TO_ECI=new Map,S.NAME_TO_ECI=new Map,S.Cp437=new S(q.Cp437,Int32Array.from([0,2]),"Cp437"),S.ISO8859_1=new S(q.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),S.ISO8859_2=new S(q.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),S.ISO8859_3=new S(q.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),S.ISO8859_4=new S(q.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),S.ISO8859_5=new S(q.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),S.ISO8859_6=new S(q.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),S.ISO8859_7=new S(q.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),S.ISO8859_8=new S(q.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),S.ISO8859_9=new S(q.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),S.ISO8859_10=new S(q.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),S.ISO8859_11=new S(q.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),S.ISO8859_13=new S(q.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),S.ISO8859_14=new S(q.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),S.ISO8859_15=new S(q.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),S.ISO8859_16=new S(q.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),S.SJIS=new S(q.SJIS,20,"SJIS","Shift_JIS"),S.Cp1250=new S(q.Cp1250,21,"Cp1250","windows-1250"),S.Cp1251=new S(q.Cp1251,22,"Cp1251","windows-1251"),S.Cp1252=new S(q.Cp1252,23,"Cp1252","windows-1252"),S.Cp1256=new S(q.Cp1256,24,"Cp1256","windows-1256"),S.UnicodeBigUnmarked=new S(q.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),S.UTF8=new S(q.UTF8,26,"UTF8","UTF-8"),S.ASCII=new S(q.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),S.Big5=new S(q.Big5,28,"Big5"),S.GB18030=new S(q.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),S.EUC_KR=new S(q.EUC_KR,30,"EUC_KR","EUC-KR");class U extends f{}U.kind="UnsupportedOperationException";class G{static decode(s,l){const d=this.encodingName(l);return this.customDecoder?this.customDecoder(s,d):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(d)?this.decodeFallback(s,d):new TextDecoder(d).decode(s)}static shouldDecodeOnFallback(s){return!G.isBrowser()&&s==="ISO-8859-1"}static encode(s,l){const d=this.encodingName(l);return this.customEncoder?this.customEncoder(s,d):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof S?s:S.getCharacterSetECIByName(s)}static decodeFallback(s,l){const d=this.encodingCharacterSet(l);if(G.isDecodeFallbackSupported(d)){let x="";for(let h=0,p=s.length;h<p;h++){let b=s[h].toString(16);b.length<2&&(b="0"+b),x+="%"+b}return decodeURIComponent(x)}if(d.equals(S.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new U(`Encoding ${this.encodingName(l)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(S.UTF8)||s.equals(S.ISO8859_1)||s.equals(S.ASCII)}static encodeFallback(s){const d=btoa(unescape(encodeURIComponent(s))).split(""),x=[];for(let h=0;h<d.length;h++)x.push(d[h].charCodeAt(0));return new Uint8Array(x)}}class z{static castAsNonUtf8Char(s,l=null){const d=l?l.getName():this.ISO88591;return G.decode(new Uint8Array([s]),d)}static guessEncoding(s,l){if(l!=null&&l.get($.CHARACTER_SET)!==void 0)return l.get($.CHARACTER_SET).toString();const d=s.length;let x=!0,h=!0,p=!0,b=0,E=0,w=0,I=0,V=0,K=0,oe=0,xe=0,pe=0,De=0,Te=0;const Ue=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let qe=0;qe<d&&(x||h||p);qe++){const je=s[qe]&255;p&&(b>0?(je&128)===0?p=!1:b--:(je&128)!==0&&((je&64)===0?p=!1:(b++,(je&32)===0?E++:(b++,(je&16)===0?w++:(b++,(je&8)===0?I++:p=!1))))),x&&(je>127&&je<160?x=!1:je>159&&(je<192||je===215||je===247)&&Te++),h&&(V>0?je<64||je===127||je>252?h=!1:V--:je===128||je===160||je>239?h=!1:je>160&&je<224?(K++,xe=0,oe++,oe>pe&&(pe=oe)):je>127?(V++,oe=0,xe++,xe>De&&(De=xe)):(oe=0,xe=0))}return p&&b>0&&(p=!1),h&&V>0&&(h=!1),p&&(Ue||E+w+I>0)?z.UTF8:h&&(z.ASSUME_SHIFT_JIS||pe>=3||De>=3)?z.SHIFT_JIS:x&&h?pe===2&&K===2||Te*10>=d?z.SHIFT_JIS:z.ISO88591:x?z.ISO88591:h?z.SHIFT_JIS:p?z.UTF8:z.PLATFORM_DEFAULT_ENCODING}static format(s,...l){let d=-1;function x(p,b,E,w,I,V){if(p==="%%")return"%";if(l[++d]===void 0)return;p=w?parseInt(w.substr(1)):void 0;let K=I?parseInt(I.substr(1)):void 0,oe;switch(V){case"s":oe=l[d];break;case"c":oe=l[d][0];break;case"f":oe=parseFloat(l[d]).toFixed(p);break;case"p":oe=parseFloat(l[d]).toPrecision(p);break;case"e":oe=parseFloat(l[d]).toExponential(p);break;case"x":oe=parseInt(l[d]).toString(K||16);break;case"d":oe=parseFloat(parseInt(l[d],K||10).toPrecision(p)).toFixed(0);break}oe=typeof oe=="object"?JSON.stringify(oe):(+oe).toString(K);let xe=parseInt(E),pe=E&&E[0]+""=="0"?"0":" ";for(;oe.length<xe;)oe=b!==void 0?oe+pe:pe+oe;return oe}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(h,x)}static getBytes(s,l){return G.encode(s,l)}static getCharCode(s,l=0){return s.charCodeAt(l)}static getCharAt(s){return String.fromCharCode(s)}}z.SHIFT_JIS=S.SJIS.getName(),z.GB2312="GB2312",z.ISO88591=S.ISO8859_1.getName(),z.EUC_JP="EUC_JP",z.UTF8=S.UTF8.getName(),z.PLATFORM_DEFAULT_ENCODING=z.UTF8,z.ASSUME_SHIFT_JIS=!1;class ee{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=z.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,l,d){for(let x=l;l<l+d;x++)this.append(s[x]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,l){this.value=this.value.substr(0,s)+l+this.value.substr(s+1)}substring(s,l){return this.value.substring(s,l)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,l){this.value=this.value.substr(0,s)+l+this.value.substr(s+l.length)}}class se{constructor(s,l,d,x){if(this.width=s,this.height=l,this.rowSize=d,this.bits=x,l==null&&(l=s),this.height=l,s<1||l<1)throw new y("Both dimensions must be greater than 0");d==null&&(d=Math.floor((s+31)/32)),this.rowSize=d,x==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const l=s.length,d=s[0].length,x=new se(d,l);for(let h=0;h<l;h++){const p=s[h];for(let b=0;b<d;b++)p[b]&&x.set(b,h)}return x}static parseFromString(s,l,d){if(s===null)throw new y("stringRepresentation cannot be null");const x=new Array(s.length);let h=0,p=0,b=-1,E=0,w=0;for(;w<s.length;)if(s.charAt(w)===`
`||s.charAt(w)==="\r"){if(h>p){if(b===-1)b=h-p;else if(h-p!==b)throw new y("row lengths do not match");p=h,E++}w++}else if(s.substring(w,w+l.length)===l)w+=l.length,x[h]=!0,h++;else if(s.substring(w,w+d.length)===d)w+=d.length,x[h]=!1,h++;else throw new y("illegal character encountered: "+s.substring(w));if(h>p){if(b===-1)b=h-p;else if(h-p!==b)throw new y("row lengths do not match");E++}const I=new se(b,E);for(let V=0;V<h;V++)x[V]&&I.set(Math.floor(V%b),Math.floor(V/b));return I}get(s,l){const d=l*this.rowSize+Math.floor(s/32);return(this.bits[d]>>>(s&31)&1)!==0}set(s,l){const d=l*this.rowSize+Math.floor(s/32);this.bits[d]|=1<<(s&31)&4294967295}unset(s,l){const d=l*this.rowSize+Math.floor(s/32);this.bits[d]&=~(1<<(s&31)&4294967295)}flip(s,l){const d=l*this.rowSize+Math.floor(s/32);this.bits[d]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new y("input matrix dimensions do not match");const l=new k(Math.floor(this.width/32)+1),d=this.rowSize,x=this.bits;for(let h=0,p=this.height;h<p;h++){const b=h*d,E=s.getRow(h,l).getBitArray();for(let w=0;w<d;w++)x[b+w]^=E[w]}}clear(){const s=this.bits,l=s.length;for(let d=0;d<l;d++)s[d]=0}setRegion(s,l,d,x){if(l<0||s<0)throw new y("Left and top must be nonnegative");if(x<1||d<1)throw new y("Height and width must be at least 1");const h=s+d,p=l+x;if(p>this.height||h>this.width)throw new y("The region must fit inside the matrix");const b=this.rowSize,E=this.bits;for(let w=l;w<p;w++){const I=w*b;for(let V=s;V<h;V++)E[I+Math.floor(V/32)]|=1<<(V&31)&4294967295}}getRow(s,l){l==null||l.getSize()<this.width?l=new k(this.width):l.clear();const d=this.rowSize,x=this.bits,h=s*d;for(let p=0;p<d;p++)l.setBulk(p*32,x[h+p]);return l}setRow(s,l){D.arraycopy(l.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),l=this.getHeight();let d=new k(s),x=new k(s);for(let h=0,p=Math.floor((l+1)/2);h<p;h++)d=this.getRow(h,d),x=this.getRow(l-1-h,x),d.reverse(),x.reverse(),this.setRow(h,x),this.setRow(l-1-h,d)}getEnclosingRectangle(){const s=this.width,l=this.height,d=this.rowSize,x=this.bits;let h=s,p=l,b=-1,E=-1;for(let w=0;w<l;w++)for(let I=0;I<d;I++){const V=x[w*d+I];if(V!==0){if(w<p&&(p=w),w>E&&(E=w),I*32<h){let K=0;for(;(V<<31-K&4294967295)===0;)K++;I*32+K<h&&(h=I*32+K)}if(I*32+31>b){let K=31;for(;!(V>>>K);)K--;I*32+K>b&&(b=I*32+K)}}}return b<h||E<p?null:Int32Array.from([h,p,b-h+1,E-p+1])}getTopLeftOnBit(){const s=this.rowSize,l=this.bits;let d=0;for(;d<l.length&&l[d]===0;)d++;if(d===l.length)return null;const x=d/s;let h=d%s*32;const p=l[d];let b=0;for(;(p<<31-b&4294967295)===0;)b++;return h+=b,Int32Array.from([h,x])}getBottomRightOnBit(){const s=this.rowSize,l=this.bits;let d=l.length-1;for(;d>=0&&l[d]===0;)d--;if(d<0)return null;const x=Math.floor(d/s);let h=Math.floor(d%s)*32;const p=l[d];let b=31;for(;!(p>>>b);)b--;return h+=b,Int32Array.from([h,x])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof se))return!1;const l=s;return this.width===l.width&&this.height===l.height&&this.rowSize===l.rowSize&&j.equals(this.bits,l.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+j.hashCode(this.bits),s}toString(s="X ",l="  ",d=`
`){return this.buildToString(s,l,d)}buildToString(s,l,d){let x=new ee;for(let h=0,p=this.height;h<p;h++){for(let b=0,E=this.width;b<E;b++)x.append(this.get(b,h)?s:l);x.append(d)}return x.toString()}clone(){return new se(this.width,this.height,this.rowSize,this.bits.slice())}}class J extends f{static getNotFoundInstance(){return new J}}J.kind="NotFoundException";class be extends A{constructor(s){super(s),this.luminances=be.EMPTY,this.buckets=new Int32Array(be.LUMINANCE_BUCKETS)}getBlackRow(s,l){const d=this.getLuminanceSource(),x=d.getWidth();l==null||l.getSize()<x?l=new k(x):l.clear(),this.initArrays(x);const h=d.getRow(s,this.luminances),p=this.buckets;for(let E=0;E<x;E++)p[(h[E]&255)>>be.LUMINANCE_SHIFT]++;const b=be.estimateBlackPoint(p);if(x<3)for(let E=0;E<x;E++)(h[E]&255)<b&&l.set(E);else{let E=h[0]&255,w=h[1]&255;for(let I=1;I<x-1;I++){const V=h[I+1]&255;(w*4-E-V)/2<b&&l.set(I),E=w,w=V}}return l}getBlackMatrix(){const s=this.getLuminanceSource(),l=s.getWidth(),d=s.getHeight(),x=new se(l,d);this.initArrays(l);const h=this.buckets;for(let E=1;E<5;E++){const w=Math.floor(d*E/5),I=s.getRow(w,this.luminances),V=Math.floor(l*4/5);for(let K=Math.floor(l/5);K<V;K++){const oe=I[K]&255;h[oe>>be.LUMINANCE_SHIFT]++}}const p=be.estimateBlackPoint(h),b=s.getMatrix();for(let E=0;E<d;E++){const w=E*l;for(let I=0;I<l;I++)(b[w+I]&255)<p&&x.set(I,E)}return x}createBinarizer(s){return new be(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const l=this.buckets;for(let d=0;d<be.LUMINANCE_BUCKETS;d++)l[d]=0}static estimateBlackPoint(s){const l=s.length;let d=0,x=0,h=0;for(let I=0;I<l;I++)s[I]>h&&(x=I,h=s[I]),s[I]>d&&(d=s[I]);let p=0,b=0;for(let I=0;I<l;I++){const V=I-x,K=s[I]*V*V;K>b&&(p=I,b=K)}if(x>p){const I=x;x=p,p=I}if(p-x<=l/16)throw new J;let E=p-1,w=-1;for(let I=p-1;I>x;I--){const V=I-x,K=V*V*(p-I)*(d-s[I]);K>w&&(E=I,w=K)}return E<<be.LUMINANCE_SHIFT}}be.LUMINANCE_BITS=5,be.LUMINANCE_SHIFT=8-be.LUMINANCE_BITS,be.LUMINANCE_BUCKETS=1<<be.LUMINANCE_BITS,be.EMPTY=Uint8ClampedArray.from([0]);class he extends be{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),l=s.getWidth(),d=s.getHeight();if(l>=he.MINIMUM_DIMENSION&&d>=he.MINIMUM_DIMENSION){const x=s.getMatrix();let h=l>>he.BLOCK_SIZE_POWER;(l&he.BLOCK_SIZE_MASK)!==0&&h++;let p=d>>he.BLOCK_SIZE_POWER;(d&he.BLOCK_SIZE_MASK)!==0&&p++;const b=he.calculateBlackPoints(x,h,p,l,d),E=new se(l,d);he.calculateThresholdForBlock(x,h,p,l,d,b,E),this.matrix=E}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new he(s)}static calculateThresholdForBlock(s,l,d,x,h,p,b){const E=h-he.BLOCK_SIZE,w=x-he.BLOCK_SIZE;for(let I=0;I<d;I++){let V=I<<he.BLOCK_SIZE_POWER;V>E&&(V=E);const K=he.cap(I,2,d-3);for(let oe=0;oe<l;oe++){let xe=oe<<he.BLOCK_SIZE_POWER;xe>w&&(xe=w);const pe=he.cap(oe,2,l-3);let De=0;for(let Ue=-2;Ue<=2;Ue++){const qe=p[K+Ue];De+=qe[pe-2]+qe[pe-1]+qe[pe]+qe[pe+1]+qe[pe+2]}const Te=De/25;he.thresholdBlock(s,xe,V,Te,x,b)}}}static cap(s,l,d){return s<l?l:s>d?d:s}static thresholdBlock(s,l,d,x,h,p){for(let b=0,E=d*h+l;b<he.BLOCK_SIZE;b++,E+=h)for(let w=0;w<he.BLOCK_SIZE;w++)(s[E+w]&255)<=x&&p.set(l+w,d+b)}static calculateBlackPoints(s,l,d,x,h){const p=h-he.BLOCK_SIZE,b=x-he.BLOCK_SIZE,E=new Array(d);for(let w=0;w<d;w++){E[w]=new Int32Array(l);let I=w<<he.BLOCK_SIZE_POWER;I>p&&(I=p);for(let V=0;V<l;V++){let K=V<<he.BLOCK_SIZE_POWER;K>b&&(K=b);let oe=0,xe=255,pe=0;for(let Te=0,Ue=I*x+K;Te<he.BLOCK_SIZE;Te++,Ue+=x){for(let qe=0;qe<he.BLOCK_SIZE;qe++){const je=s[Ue+qe]&255;oe+=je,je<xe&&(xe=je),je>pe&&(pe=je)}if(pe-xe>he.MIN_DYNAMIC_RANGE)for(Te++,Ue+=x;Te<he.BLOCK_SIZE;Te++,Ue+=x)for(let qe=0;qe<he.BLOCK_SIZE;qe++)oe+=s[Ue+qe]&255}let De=oe>>he.BLOCK_SIZE_POWER*2;if(pe-xe<=he.MIN_DYNAMIC_RANGE&&(De=xe/2,w>0&&V>0)){const Te=(E[w-1][V]+2*E[w][V-1]+E[w-1][V-1])/4;xe<Te&&(De=Te)}E[w][V]=De}}return E}}he.BLOCK_SIZE_POWER=3,he.BLOCK_SIZE=1<<he.BLOCK_SIZE_POWER,he.BLOCK_SIZE_MASK=he.BLOCK_SIZE-1,he.MINIMUM_DIMENSION=he.BLOCK_SIZE*5,he.MIN_DYNAMIC_RANGE=24;class we{constructor(s,l){this.width=s,this.height=l}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,l,d,x){throw new U("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new U("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new U("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let l=new ee;for(let d=0;d<this.height;d++){const x=this.getRow(d,s);for(let h=0;h<this.width;h++){const p=x[h]&255;let b;p<64?b="#":p<128?b="+":p<192?b=".":b=" ",l.append(b)}l.append(`
`)}return l.toString()}}class Oe extends we{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,l){const d=this.delegate.getRow(s,l),x=this.getWidth();for(let h=0;h<x;h++)d[h]=255-(d[h]&255);return d}getMatrix(){const s=this.delegate.getMatrix(),l=this.getWidth()*this.getHeight(),d=new Uint8ClampedArray(l);for(let x=0;x<l;x++)d[x]=255-(s[x]&255);return d}isCropSupported(){return this.delegate.isCropSupported()}crop(s,l,d,x){return new Oe(this.delegate.crop(s,l,d,x))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Oe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Oe(this.delegate.rotateCounterClockwise45())}}class Re extends we{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=Re.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const l=s.getContext("2d").getImageData(0,0,s.width,s.height);return Re.toGrayscaleBuffer(l.data,s.width,s.height)}static toGrayscaleBuffer(s,l,d){const x=new Uint8ClampedArray(l*d);for(let h=0,p=0,b=s.length;h<b;h+=4,p++){let E;if(s[h+3]===0)E=255;else{const I=s[h],V=s[h+1],K=s[h+2];E=306*I+601*V+117*K+512>>10}x[p]=E}return x}getRow(s,l){if(s<0||s>=this.getHeight())throw new y("Requested row is outside the image: "+s);const d=this.getWidth(),x=s*d;return l===null?l=this.buffer.slice(x,x+d):(l.length<d&&(l=new Uint8ClampedArray(d)),l.set(this.buffer.slice(x,x+d))),l}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,l,d,x){return super.crop(s,l,d,x),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const l=this.getTempCanvasElement(),d=l.getContext("2d"),x=s*Re.DEGREE_TO_RADIANS,h=this.canvas.width,p=this.canvas.height,b=Math.ceil(Math.abs(Math.cos(x))*h+Math.abs(Math.sin(x))*p),E=Math.ceil(Math.abs(Math.sin(x))*h+Math.abs(Math.cos(x))*p);return l.width=b,l.height=E,d.translate(b/2,E/2),d.rotate(x),d.drawImage(this.canvas,h/-2,p/-2),this.buffer=Re.makeBufferFromCanvasImageData(l),this}invert(){return new Oe(this)}}Re.DEGREE_TO_RADIANS=Math.PI/180;class ge{constructor(s,l,d){this.deviceId=s,this.label=l,this.kind="videoinput",this.groupId=d||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ve=(globalThis||hi||self||window||void 0)&&(globalThis||hi||self||window||void 0).__awaiter||function(H,s,l,d){function x(h){return h instanceof l?h:new l(function(p){p(h)})}return new(l||(l=Promise))(function(h,p){function b(I){try{w(d.next(I))}catch(V){p(V)}}function E(I){try{w(d.throw(I))}catch(V){p(V)}}function w(I){I.done?h(I.value):x(I.value).then(b,E)}w((d=d.apply(H,s||[])).next())})};class re{constructor(s,l=500,d){this.reader=s,this.timeBetweenScansMillis=l,this._hints=d,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return ve(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),l=[];for(const d of s){const x=d.kind==="video"?"videoinput":d.kind;if(x!=="videoinput")continue;const h=d.deviceId||d.id,p=d.label||`Video device ${l.length+1}`,b=d.groupId,E={deviceId:h,label:p,kind:x,groupId:b};l.push(E)}return l})}getVideoInputDevices(){return ve(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(l=>new ge(l.deviceId,l.label))})}findDeviceById(s){return ve(this,void 0,void 0,function*(){const l=yield this.listVideoInputDevices();return l?l.find(d=>d.deviceId===s):null})}decodeFromInputVideoDevice(s,l){return ve(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,l)})}decodeOnceFromVideoDevice(s,l){return ve(this,void 0,void 0,function*(){this.reset();let d;s?d={deviceId:{exact:s}}:d={facingMode:"environment"};const x={video:d};return yield this.decodeOnceFromConstraints(x,l)})}decodeOnceFromConstraints(s,l){return ve(this,void 0,void 0,function*(){const d=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(d,l)})}decodeOnceFromStream(s,l){return ve(this,void 0,void 0,function*(){this.reset();const d=yield this.attachStreamToVideo(s,l);return yield this.decodeOnce(d)})}decodeFromInputVideoDeviceContinuously(s,l,d){return ve(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,l,d)})}decodeFromVideoDevice(s,l,d){return ve(this,void 0,void 0,function*(){let x;s?x={deviceId:{exact:s}}:x={facingMode:"environment"};const h={video:x};return yield this.decodeFromConstraints(h,l,d)})}decodeFromConstraints(s,l,d){return ve(this,void 0,void 0,function*(){const x=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(x,l,d)})}decodeFromStream(s,l,d){return ve(this,void 0,void 0,function*(){this.reset();const x=yield this.attachStreamToVideo(s,l);return yield this.decodeContinuously(x,d)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,l){return ve(this,void 0,void 0,function*(){const d=this.prepareVideoElement(l);return this.addVideoSource(d,s),this.videoElement=d,this.stream=s,yield this.playVideoOnLoadAsync(d),d})}playVideoOnLoadAsync(s){return new Promise((l,d)=>this.playVideoOnLoad(s,()=>l()))}playVideoOnLoad(s,l){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",l),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return ve(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,l){const d=document.getElementById(s);if(!d)throw new m(`element with id '${s}' not found`);if(d.nodeName.toLowerCase()!==l.toLowerCase())throw new m(`element with id '${s}' must be an ${l} element`);return d}decodeFromImage(s,l){if(!s&&!l)throw new m("either imageElement with a src set or an url must be provided");return l&&!s?this.decodeFromImageUrl(l):this.decodeFromImageElement(s)}decodeFromVideo(s,l){if(!s&&!l)throw new m("Either an element with a src set or an URL must be provided");return l&&!s?this.decodeFromVideoUrl(l):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,l,d){if(s===void 0&&l===void 0)throw new m("Either an element with a src set or an URL must be provided");return l&&!s?this.decodeFromVideoUrlContinuously(l,d):this.decodeFromVideoElementContinuously(s,d)}decodeFromImageElement(s){if(!s)throw new m("An image element must be provided.");this.reset();const l=this.prepareImageElement(s);this.imageElement=l;let d;return this.isImageLoaded(l)?d=this.decodeOnce(l,!1,!0):d=this._decodeOnLoadImage(l),d}decodeFromVideoElement(s){const l=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(l)}decodeFromVideoElementContinuously(s,l){const d=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(d,l)}_decodeFromVideoElementSetup(s){if(!s)throw new m("A video element must be provided.");this.reset();const l=this.prepareVideoElement(s);return this.videoElement=l,l}decodeFromImageUrl(s){if(!s)throw new m("An URL must be provided.");this.reset();const l=this.prepareImageElement();this.imageElement=l;const d=this._decodeOnLoadImage(l);return l.src=s,d}decodeFromVideoUrl(s){if(!s)throw new m("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),d=this.decodeFromVideoElement(l);return l.src=s,d}decodeFromVideoUrlContinuously(s,l){if(!s)throw new m("An URL must be provided.");this.reset();const d=this.prepareVideoElement(),x=this.decodeFromVideoElementContinuously(d,l);return d.src=s,x}_decodeOnLoadImage(s){return new Promise((l,d)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(l,d),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return ve(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,l){return ve(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,l)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let l;return typeof s>"u"&&(l=document.createElement("img"),l.width=200,l.height=200),typeof s=="string"&&(l=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(l=s),l}prepareVideoElement(s){let l;return!s&&typeof document<"u"&&(l=document.createElement("video"),l.width=200,l.height=200),typeof s=="string"&&(l=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(l=s),l.setAttribute("autoplay","true"),l.setAttribute("muted","true"),l.setAttribute("playsinline","true"),l}decodeOnce(s,l=!0,d=!0){this._stopAsyncDecode=!1;const x=(h,p)=>{if(this._stopAsyncDecode){p(new J("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const b=this.decode(s);h(b)}catch(b){const E=l&&b instanceof J,I=(b instanceof C||b instanceof O)&&d;if(E||I)return setTimeout(x,this._timeBetweenDecodingAttempts,h,p);p(b)}};return new Promise((h,p)=>x(h,p))}decodeContinuously(s,l){this._stopContinuousDecode=!1;const d=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const x=this.decode(s);l(x,null),setTimeout(d,this.timeBetweenScansMillis)}catch(x){l(null,x);const h=x instanceof C||x instanceof O,p=x instanceof J;(h||p)&&setTimeout(d,this._timeBetweenDecodingAttempts)}};d()}decode(s){const l=this.createBinaryBitmap(s);return this.decodeBitmap(l)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,l,d){l||(l={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),d||(d=this.captureCanvasContext),d.drawImage(s,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}drawImageOnCanvas(s,l,d=this.captureCanvasContext){l||(l={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),d||(d=this.captureCanvasContext),d.drawImage(s,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const l=this.getCaptureCanvas(s),d=new Re(l),x=new he(d);return new v(x)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const d=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=d}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const l=this.createCaptureCanvas(s);this.captureCanvas=l}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const l=document.createElement("canvas");let d,x;return typeof s<"u"&&(s instanceof HTMLVideoElement?(d=s.videoWidth,x=s.videoHeight):s instanceof HTMLImageElement&&(d=s.naturalWidth||s.width,x=s.naturalHeight||s.height)),l.style.width=d+"px",l.style.height=x+"px",l.width=d,l.height=x,l}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,l){try{s.srcObject=l}catch{s.src=URL.createObjectURL(l)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class ye{constructor(s,l,d=l==null?0:8*l.length,x,h,p=D.currentTimeMillis()){this.text=s,this.rawBytes=l,this.numBits=d,this.resultPoints=x,this.format=h,this.timestamp=p,this.text=s,this.rawBytes=l,d==null?this.numBits=l==null?0:8*l.length:this.numBits=d,this.resultPoints=x,this.format=h,this.resultMetadata=null,p==null?this.timestamp=D.currentTimeMillis():this.timestamp=p}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,l){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,l)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const l=this.resultPoints;if(l===null)this.resultPoints=s;else if(s!==null&&s.length>0){const d=new Array(l.length+s.length);D.arraycopy(l,0,d,0,l.length),D.arraycopy(s,0,d,l.length,s.length),this.resultPoints=d}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ke;(function(H){H[H.AZTEC=0]="AZTEC",H[H.CODABAR=1]="CODABAR",H[H.CODE_39=2]="CODE_39",H[H.CODE_93=3]="CODE_93",H[H.CODE_128=4]="CODE_128",H[H.DATA_MATRIX=5]="DATA_MATRIX",H[H.EAN_8=6]="EAN_8",H[H.EAN_13=7]="EAN_13",H[H.ITF=8]="ITF",H[H.MAXICODE=9]="MAXICODE",H[H.PDF_417=10]="PDF_417",H[H.QR_CODE=11]="QR_CODE",H[H.RSS_14=12]="RSS_14",H[H.RSS_EXPANDED=13]="RSS_EXPANDED",H[H.UPC_A=14]="UPC_A",H[H.UPC_E=15]="UPC_E",H[H.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ke||(Ke={}));var le=Ke,ie;(function(H){H[H.OTHER=0]="OTHER",H[H.ORIENTATION=1]="ORIENTATION",H[H.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",H[H.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",H[H.ISSUE_NUMBER=4]="ISSUE_NUMBER",H[H.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",H[H.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",H[H.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",H[H.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",H[H.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",H[H.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ie||(ie={}));var ae=ie;class Ne{constructor(s,l,d,x,h=-1,p=-1){this.rawBytes=s,this.text=l,this.byteSegments=d,this.ecLevel=x,this.structuredAppendSequenceNumber=h,this.structuredAppendParity=p,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Me{exp(s){return this.expTable[s]}log(s){if(s===0)throw new y;return this.logTable[s]}static addOrSubtract(s,l){return s^l}}class ze{constructor(s,l){if(l.length===0)throw new y;this.field=s;const d=l.length;if(d>1&&l[0]===0){let x=1;for(;x<d&&l[x]===0;)x++;x===d?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(d-x),D.arraycopy(l,x,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const l=this.coefficients;let d;if(s===1){d=0;for(let p=0,b=l.length;p!==b;p++){const E=l[p];d=Me.addOrSubtract(d,E)}return d}d=l[0];const x=l.length,h=this.field;for(let p=1;p<x;p++)d=Me.addOrSubtract(h.multiply(s,d),l[p]);return d}addOrSubtract(s){if(!this.field.equals(s.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let l=this.coefficients,d=s.coefficients;if(l.length>d.length){const p=l;l=d,d=p}let x=new Int32Array(d.length);const h=d.length-l.length;D.arraycopy(d,0,x,0,h);for(let p=h;p<d.length;p++)x[p]=Me.addOrSubtract(l[p-h],d[p]);return new ze(this.field,x)}multiply(s){if(!this.field.equals(s.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const l=this.coefficients,d=l.length,x=s.coefficients,h=x.length,p=new Int32Array(d+h-1),b=this.field;for(let E=0;E<d;E++){const w=l[E];for(let I=0;I<h;I++)p[E+I]=Me.addOrSubtract(p[E+I],b.multiply(w,x[I]))}return new ze(b,p)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const l=this.coefficients.length,d=this.field,x=new Int32Array(l),h=this.coefficients;for(let p=0;p<l;p++)x[p]=d.multiply(h[p],s);return new ze(d,x)}multiplyByMonomial(s,l){if(s<0)throw new y;if(l===0)return this.field.getZero();const d=this.coefficients,x=d.length,h=new Int32Array(x+s),p=this.field;for(let b=0;b<x;b++)h[b]=p.multiply(d[b],l);return new ze(p,h)}divide(s){if(!this.field.equals(s.field))throw new y("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new y("Divide by 0");const l=this.field;let d=l.getZero(),x=this;const h=s.getCoefficient(s.getDegree()),p=l.inverse(h);for(;x.getDegree()>=s.getDegree()&&!x.isZero();){const b=x.getDegree()-s.getDegree(),E=l.multiply(x.getCoefficient(x.getDegree()),p),w=s.multiplyByMonomial(b,E),I=l.buildMonomial(b,E);d=d.addOrSubtract(I),x=x.addOrSubtract(w)}return[d,x]}toString(){let s="";for(let l=this.getDegree();l>=0;l--){let d=this.getCoefficient(l);if(d!==0){if(d<0?(s+=" - ",d=-d):s.length>0&&(s+=" + "),l===0||d!==1){const x=this.field.log(d);x===0?s+="1":x===1?s+="a":(s+="a^",s+=x)}l!==0&&(l===1?s+="x":(s+="x^",s+=l))}}return s}}class et extends f{}et.kind="ArithmeticException";class X extends Me{constructor(s,l,d){super(),this.primitive=s,this.size=l,this.generatorBase=d;const x=new Int32Array(l);let h=1;for(let b=0;b<l;b++)x[b]=h,h*=2,h>=l&&(h^=s,h&=l-1);this.expTable=x;const p=new Int32Array(l);for(let b=0;b<l-1;b++)p[x[b]]=b;this.logTable=p,this.zero=new ze(this,Int32Array.from([0])),this.one=new ze(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,l){if(s<0)throw new y;if(l===0)return this.zero;const d=new Int32Array(s+1);return d[0]=l,new ze(this,d)}inverse(s){if(s===0)throw new et;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,l){return s===0||l===0?0:this.expTable[(this.logTable[s]+this.logTable[l])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+F.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}X.AZTEC_DATA_12=new X(4201,4096,1),X.AZTEC_DATA_10=new X(1033,1024,1),X.AZTEC_DATA_6=new X(67,64,1),X.AZTEC_PARAM=new X(19,16,1),X.QR_CODE_FIELD_256=new X(285,256,0),X.DATA_MATRIX_FIELD_256=new X(301,256,1),X.AZTEC_DATA_8=X.DATA_MATRIX_FIELD_256,X.MAXICODE_FIELD_64=X.AZTEC_DATA_6;class Y extends f{}Y.kind="ReedSolomonException";class L extends f{}L.kind="IllegalStateException";class N{constructor(s){this.field=s}decode(s,l){const d=this.field,x=new ze(d,s),h=new Int32Array(l);let p=!0;for(let oe=0;oe<l;oe++){const xe=x.evaluateAt(d.exp(oe+d.getGeneratorBase()));h[h.length-1-oe]=xe,xe!==0&&(p=!1)}if(p)return;const b=new ze(d,h),E=this.runEuclideanAlgorithm(d.buildMonomial(l,1),b,l),w=E[0],I=E[1],V=this.findErrorLocations(w),K=this.findErrorMagnitudes(I,V);for(let oe=0;oe<V.length;oe++){const xe=s.length-1-d.log(V[oe]);if(xe<0)throw new Y("Bad error location");s[xe]=X.addOrSubtract(s[xe],K[oe])}}runEuclideanAlgorithm(s,l,d){if(s.getDegree()<l.getDegree()){const oe=s;s=l,l=oe}const x=this.field;let h=s,p=l,b=x.getZero(),E=x.getOne();for(;p.getDegree()>=(d/2|0);){let oe=h,xe=b;if(h=p,b=E,h.isZero())throw new Y("r_{i-1} was zero");p=oe;let pe=x.getZero();const De=h.getCoefficient(h.getDegree()),Te=x.inverse(De);for(;p.getDegree()>=h.getDegree()&&!p.isZero();){const Ue=p.getDegree()-h.getDegree(),qe=x.multiply(p.getCoefficient(p.getDegree()),Te);pe=pe.addOrSubtract(x.buildMonomial(Ue,qe)),p=p.addOrSubtract(h.multiplyByMonomial(Ue,qe))}if(E=pe.multiply(b).addOrSubtract(xe),p.getDegree()>=h.getDegree())throw new L("Division algorithm failed to reduce polynomial?")}const w=E.getCoefficient(0);if(w===0)throw new Y("sigmaTilde(0) was zero");const I=x.inverse(w),V=E.multiplyScalar(I),K=p.multiplyScalar(I);return[V,K]}findErrorLocations(s){const l=s.getDegree();if(l===1)return Int32Array.from([s.getCoefficient(1)]);const d=new Int32Array(l);let x=0;const h=this.field;for(let p=1;p<h.getSize()&&x<l;p++)s.evaluateAt(p)===0&&(d[x]=h.inverse(p),x++);if(x!==l)throw new Y("Error locator degree does not match number of roots");return d}findErrorMagnitudes(s,l){const d=l.length,x=new Int32Array(d),h=this.field;for(let p=0;p<d;p++){const b=h.inverse(l[p]);let E=1;for(let w=0;w<d;w++)if(p!==w){const I=h.multiply(l[w],b),V=(I&1)===0?I|1:I&-2;E=h.multiply(E,V)}x[p]=h.multiply(s.evaluateAt(b),h.inverse(E)),h.getGeneratorBase()!==0&&(x[p]=h.multiply(x[p],b))}return x}}var B;(function(H){H[H.UPPER=0]="UPPER",H[H.LOWER=1]="LOWER",H[H.MIXED=2]="MIXED",H[H.DIGIT=3]="DIGIT",H[H.PUNCT=4]="PUNCT",H[H.BINARY=5]="BINARY"})(B||(B={}));class M{decode(s){this.ddata=s;let l=s.getBits(),d=this.extractBits(l),x=this.correctBits(d),h=M.convertBoolArrayToByteArray(x),p=M.getEncodedData(x),b=new Ne(h,p,null,null);return b.setNumBits(x.length),b}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let l=s.length,d=B.UPPER,x=B.UPPER,h="",p=0;for(;p<l;)if(x===B.BINARY){if(l-p<5)break;let b=M.readCode(s,p,5);if(p+=5,b===0){if(l-p<11)break;b=M.readCode(s,p,11)+31,p+=11}for(let E=0;E<b;E++){if(l-p<8){p=l;break}const w=M.readCode(s,p,8);h+=z.castAsNonUtf8Char(w),p+=8}x=d}else{let b=x===B.DIGIT?4:5;if(l-p<b)break;let E=M.readCode(s,p,b);p+=b;let w=M.getCharacter(x,E);w.startsWith("CTRL_")?(d=x,x=M.getTable(w.charAt(5)),w.charAt(6)==="L"&&(d=x)):(h+=w,x=d)}return h}static getTable(s){switch(s){case"L":return B.LOWER;case"P":return B.PUNCT;case"M":return B.MIXED;case"D":return B.DIGIT;case"B":return B.BINARY;case"U":default:return B.UPPER}}static getCharacter(s,l){switch(s){case B.UPPER:return M.UPPER_TABLE[l];case B.LOWER:return M.LOWER_TABLE[l];case B.MIXED:return M.MIXED_TABLE[l];case B.PUNCT:return M.PUNCT_TABLE[l];case B.DIGIT:return M.DIGIT_TABLE[l];default:throw new L("Bad table")}}correctBits(s){let l,d;this.ddata.getNbLayers()<=2?(d=6,l=X.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(d=8,l=X.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(d=10,l=X.AZTEC_DATA_10):(d=12,l=X.AZTEC_DATA_12);let x=this.ddata.getNbDatablocks(),h=s.length/d;if(h<x)throw new O;let p=s.length%d,b=new Int32Array(h);for(let K=0;K<h;K++,p+=d)b[K]=M.readCode(s,p,d);try{new N(l).decode(b,h-x)}catch(K){throw new O(K)}let E=(1<<d)-1,w=0;for(let K=0;K<x;K++){let oe=b[K];if(oe===0||oe===E)throw new O;(oe===1||oe===E-1)&&w++}let I=new Array(x*d-w),V=0;for(let K=0;K<x;K++){let oe=b[K];if(oe===1||oe===E-1)I.fill(oe>1,V,V+d-1),V+=d-1;else for(let xe=d-1;xe>=0;--xe)I[V++]=(oe&1<<xe)!==0}return I}extractBits(s){let l=this.ddata.isCompact(),d=this.ddata.getNbLayers(),x=(l?11:14)+d*4,h=new Int32Array(x),p=new Array(this.totalBitsInLayer(d,l));if(l)for(let b=0;b<h.length;b++)h[b]=b;else{let b=x+1+2*F.truncDivision(F.truncDivision(x,2)-1,15),E=x/2,w=F.truncDivision(b,2);for(let I=0;I<E;I++){let V=I+F.truncDivision(I,15);h[E-I-1]=w-V-1,h[E+I]=w+V+1}}for(let b=0,E=0;b<d;b++){let w=(d-b)*4+(l?9:12),I=b*2,V=x-1-I;for(let K=0;K<w;K++){let oe=K*2;for(let xe=0;xe<2;xe++)p[E+oe+xe]=s.get(h[I+xe],h[I+K]),p[E+2*w+oe+xe]=s.get(h[I+K],h[V-xe]),p[E+4*w+oe+xe]=s.get(h[V-xe],h[V-K]),p[E+6*w+oe+xe]=s.get(h[V-K],h[I+xe])}E+=w*8}return p}static readCode(s,l,d){let x=0;for(let h=l;h<l+d;h++)x<<=1,s[h]&&(x|=1);return x}static readByte(s,l){let d=s.length-l;return d>=8?M.readCode(s,l,8):M.readCode(s,l,d)<<8-d}static convertBoolArrayToByteArray(s){let l=new Uint8Array((s.length+7)/8);for(let d=0;d<l.length;d++)l[d]=M.readByte(s,8*d);return l}totalBitsInLayer(s,l){return((l?88:112)+16*s)*s}}M.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],M.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],M.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],M.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],M.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ue{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,l,d,x){const h=s-d,p=l-x;return Math.sqrt(h*h+p*p)}static sum(s){let l=0;for(let d=0,x=s.length;d!==x;d++){const h=s[d];l+=h}return l}}class _e{static floatToIntBits(s){return s}}_e.MAX_VALUE=Number.MAX_SAFE_INTEGER;class te{constructor(s,l){this.x=s,this.y=l}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof te){const l=s;return this.x===l.x&&this.y===l.y}return!1}hashCode(){return 31*_e.floatToIntBits(this.x)+_e.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const l=this.distance(s[0],s[1]),d=this.distance(s[1],s[2]),x=this.distance(s[0],s[2]);let h,p,b;if(d>=l&&d>=x?(p=s[0],h=s[1],b=s[2]):x>=d&&x>=l?(p=s[1],h=s[0],b=s[2]):(p=s[2],h=s[0],b=s[1]),this.crossProductZ(h,p,b)<0){const E=h;h=b,b=E}s[0]=h,s[1]=p,s[2]=b}static distance(s,l){return ue.distance(s.x,s.y,l.x,l.y)}static crossProductZ(s,l,d){const x=l.x,h=l.y;return(d.x-x)*(s.y-h)-(d.y-h)*(s.x-x)}}class Z{constructor(s,l){this.bits=s,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class fe extends Z{constructor(s,l,d,x,h){super(s,l),this.compact=d,this.nbDatablocks=x,this.nbLayers=h}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class ce{constructor(s,l,d,x){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),l==null&&(l=ce.INIT_SIZE),d==null&&(d=s.getWidth()/2|0),x==null&&(x=s.getHeight()/2|0);const h=l/2|0;if(this.leftInit=d-h,this.rightInit=d+h,this.upInit=x-h,this.downInit=x+h,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new J}detect(){let s=this.leftInit,l=this.rightInit,d=this.upInit,x=this.downInit,h=!1,p=!0,b=!1,E=!1,w=!1,I=!1,V=!1;const K=this.width,oe=this.height;for(;p;){p=!1;let xe=!0;for(;(xe||!E)&&l<K;)xe=this.containsBlackPoint(d,x,l,!1),xe?(l++,p=!0,E=!0):E||l++;if(l>=K){h=!0;break}let pe=!0;for(;(pe||!w)&&x<oe;)pe=this.containsBlackPoint(s,l,x,!0),pe?(x++,p=!0,w=!0):w||x++;if(x>=oe){h=!0;break}let De=!0;for(;(De||!I)&&s>=0;)De=this.containsBlackPoint(d,x,s,!1),De?(s--,p=!0,I=!0):I||s--;if(s<0){h=!0;break}let Te=!0;for(;(Te||!V)&&d>=0;)Te=this.containsBlackPoint(s,l,d,!0),Te?(d--,p=!0,V=!0):V||d--;if(d<0){h=!0;break}p&&(b=!0)}if(!h&&b){const xe=l-s;let pe=null;for(let qe=1;pe===null&&qe<xe;qe++)pe=this.getBlackPointOnSegment(s,x-qe,s+qe,x);if(pe==null)throw new J;let De=null;for(let qe=1;De===null&&qe<xe;qe++)De=this.getBlackPointOnSegment(s,d+qe,s+qe,d);if(De==null)throw new J;let Te=null;for(let qe=1;Te===null&&qe<xe;qe++)Te=this.getBlackPointOnSegment(l,d+qe,l-qe,d);if(Te==null)throw new J;let Ue=null;for(let qe=1;Ue===null&&qe<xe;qe++)Ue=this.getBlackPointOnSegment(l,x-qe,l-qe,x);if(Ue==null)throw new J;return this.centerEdges(Ue,pe,Te,De)}else throw new J}getBlackPointOnSegment(s,l,d,x){const h=ue.round(ue.distance(s,l,d,x)),p=(d-s)/h,b=(x-l)/h,E=this.image;for(let w=0;w<h;w++){const I=ue.round(s+w*p),V=ue.round(l+w*b);if(E.get(I,V))return new te(I,V)}return null}centerEdges(s,l,d,x){const h=s.getX(),p=s.getY(),b=l.getX(),E=l.getY(),w=d.getX(),I=d.getY(),V=x.getX(),K=x.getY(),oe=ce.CORR;return h<this.width/2?[new te(V-oe,K+oe),new te(b+oe,E+oe),new te(w-oe,I-oe),new te(h+oe,p-oe)]:[new te(V+oe,K+oe),new te(b+oe,E-oe),new te(w-oe,I+oe),new te(h-oe,p-oe)]}containsBlackPoint(s,l,d,x){const h=this.image;if(x){for(let p=s;p<=l;p++)if(h.get(p,d))return!0}else for(let p=s;p<=l;p++)if(h.get(d,p))return!0;return!1}}ce.INIT_SIZE=10,ce.CORR=1;class de{static checkAndNudgePoints(s,l){const d=s.getWidth(),x=s.getHeight();let h=!0;for(let p=0;p<l.length&&h;p+=2){const b=Math.floor(l[p]),E=Math.floor(l[p+1]);if(b<-1||b>d||E<-1||E>x)throw new J;h=!1,b===-1?(l[p]=0,h=!0):b===d&&(l[p]=d-1,h=!0),E===-1?(l[p+1]=0,h=!0):E===x&&(l[p+1]=x-1,h=!0)}h=!0;for(let p=l.length-2;p>=0&&h;p-=2){const b=Math.floor(l[p]),E=Math.floor(l[p+1]);if(b<-1||b>d||E<-1||E>x)throw new J;h=!1,b===-1?(l[p]=0,h=!0):b===d&&(l[p]=d-1,h=!0),E===-1?(l[p+1]=0,h=!0):E===x&&(l[p+1]=x-1,h=!0)}}}class Se{constructor(s,l,d,x,h,p,b,E,w){this.a11=s,this.a21=l,this.a31=d,this.a12=x,this.a22=h,this.a32=p,this.a13=b,this.a23=E,this.a33=w}static quadrilateralToQuadrilateral(s,l,d,x,h,p,b,E,w,I,V,K,oe,xe,pe,De){const Te=Se.quadrilateralToSquare(s,l,d,x,h,p,b,E);return Se.squareToQuadrilateral(w,I,V,K,oe,xe,pe,De).times(Te)}transformPoints(s){const l=s.length,d=this.a11,x=this.a12,h=this.a13,p=this.a21,b=this.a22,E=this.a23,w=this.a31,I=this.a32,V=this.a33;for(let K=0;K<l;K+=2){const oe=s[K],xe=s[K+1],pe=h*oe+E*xe+V;s[K]=(d*oe+p*xe+w)/pe,s[K+1]=(x*oe+b*xe+I)/pe}}transformPointsWithValues(s,l){const d=this.a11,x=this.a12,h=this.a13,p=this.a21,b=this.a22,E=this.a23,w=this.a31,I=this.a32,V=this.a33,K=s.length;for(let oe=0;oe<K;oe++){const xe=s[oe],pe=l[oe],De=h*xe+E*pe+V;s[oe]=(d*xe+p*pe+w)/De,l[oe]=(x*xe+b*pe+I)/De}}static squareToQuadrilateral(s,l,d,x,h,p,b,E){const w=s-d+h-b,I=l-x+p-E;if(w===0&&I===0)return new Se(d-s,h-d,s,x-l,p-x,l,0,0,1);{const V=d-h,K=b-h,oe=x-p,xe=E-p,pe=V*xe-K*oe,De=(w*xe-K*I)/pe,Te=(V*I-w*oe)/pe;return new Se(d-s+De*d,b-s+Te*b,s,x-l+De*x,E-l+Te*E,l,De,Te,1)}}static quadrilateralToSquare(s,l,d,x,h,p,b,E){return Se.squareToQuadrilateral(s,l,d,x,h,p,b,E).buildAdjoint()}buildAdjoint(){return new Se(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new Se(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class tt extends de{sampleGrid(s,l,d,x,h,p,b,E,w,I,V,K,oe,xe,pe,De,Te,Ue,qe){const je=Se.quadrilateralToQuadrilateral(x,h,p,b,E,w,I,V,K,oe,xe,pe,De,Te,Ue,qe);return this.sampleGridWithTransform(s,l,d,je)}sampleGridWithTransform(s,l,d,x){if(l<=0||d<=0)throw new J;const h=new se(l,d),p=new Float32Array(2*l);for(let b=0;b<d;b++){const E=p.length,w=b+.5;for(let I=0;I<E;I+=2)p[I]=I/2+.5,p[I+1]=w;x.transformPoints(p),de.checkAndNudgePoints(s,p);try{for(let I=0;I<E;I+=2)s.get(Math.floor(p[I]),Math.floor(p[I+1]))&&h.set(I/2,b)}catch{throw new J}}return h}}class ct{static setGridSampler(s){ct.gridSampler=s}static getInstance(){return ct.gridSampler}}ct.gridSampler=new tt;class Ye{constructor(s,l){this.x=s,this.y=l}toResultPoint(){return new te(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ht{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let l=this.getMatrixCenter(),d=this.getBullsEyeCorners(l);if(s){let p=d[0];d[0]=d[2],d[2]=p}this.extractParameters(d);let x=this.sampleGrid(this.image,d[this.shift%4],d[(this.shift+1)%4],d[(this.shift+2)%4],d[(this.shift+3)%4]),h=this.getMatrixCornerPoints(d);return new fe(x,h,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new J;let l=2*this.nbCenterLayers,d=new Int32Array([this.sampleLine(s[0],s[1],l),this.sampleLine(s[1],s[2],l),this.sampleLine(s[2],s[3],l),this.sampleLine(s[3],s[0],l)]);this.shift=this.getRotation(d,l);let x=0;for(let p=0;p<4;p++){let b=d[(this.shift+p)%4];this.compact?(x<<=7,x+=b>>1&127):(x<<=10,x+=(b>>2&992)+(b>>1&31))}let h=this.getCorrectedParameterData(x,this.compact);this.compact?(this.nbLayers=(h>>6)+1,this.nbDataBlocks=(h&63)+1):(this.nbLayers=(h>>11)+1,this.nbDataBlocks=(h&2047)+1)}getRotation(s,l){let d=0;s.forEach((x,h,p)=>{let b=(x>>l-2<<1)+(x&1);d=(d<<3)+b}),d=((d&1)<<11)+(d>>1);for(let x=0;x<4;x++)if(F.bitCount(d^this.EXPECTED_CORNER_BITS[x])<=2)return x;throw new J}getCorrectedParameterData(s,l){let d,x;l?(d=7,x=2):(d=10,x=4);let h=d-x,p=new Int32Array(d);for(let E=d-1;E>=0;--E)p[E]=s&15,s>>=4;try{new N(X.AZTEC_PARAM).decode(p,h)}catch{throw new J}let b=0;for(let E=0;E<x;E++)b=(b<<4)+p[E];return b}getBullsEyeCorners(s){let l=s,d=s,x=s,h=s,p=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let V=this.getFirstDifferent(l,p,1,-1),K=this.getFirstDifferent(d,p,1,1),oe=this.getFirstDifferent(x,p,-1,1),xe=this.getFirstDifferent(h,p,-1,-1);if(this.nbCenterLayers>2){let pe=this.distancePoint(xe,V)*this.nbCenterLayers/(this.distancePoint(h,l)*(this.nbCenterLayers+2));if(pe<.75||pe>1.25||!this.isWhiteOrBlackRectangle(V,K,oe,xe))break}l=V,d=K,x=oe,h=xe,p=!p}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new J;this.compact=this.nbCenterLayers===5;let b=new te(l.getX()+.5,l.getY()-.5),E=new te(d.getX()+.5,d.getY()+.5),w=new te(x.getX()-.5,x.getY()+.5),I=new te(h.getX()-.5,h.getY()-.5);return this.expandSquare([b,E,w,I],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,l,d,x;try{let b=new ce(this.image).detect();s=b[0],l=b[1],d=b[2],x=b[3]}catch{let E=this.image.getWidth()/2,w=this.image.getHeight()/2;s=this.getFirstDifferent(new Ye(E+7,w-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new Ye(E+7,w+7),!1,1,1).toResultPoint(),d=this.getFirstDifferent(new Ye(E-7,w+7),!1,-1,1).toResultPoint(),x=this.getFirstDifferent(new Ye(E-7,w-7),!1,-1,-1).toResultPoint()}let h=ue.round((s.getX()+x.getX()+l.getX()+d.getX())/4),p=ue.round((s.getY()+x.getY()+l.getY()+d.getY())/4);try{let b=new ce(this.image,15,h,p).detect();s=b[0],l=b[1],d=b[2],x=b[3]}catch{s=this.getFirstDifferent(new Ye(h+7,p-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new Ye(h+7,p+7),!1,1,1).toResultPoint(),d=this.getFirstDifferent(new Ye(h-7,p+7),!1,-1,1).toResultPoint(),x=this.getFirstDifferent(new Ye(h-7,p-7),!1,-1,-1).toResultPoint()}return h=ue.round((s.getX()+x.getX()+l.getX()+d.getX())/4),p=ue.round((s.getY()+x.getY()+l.getY()+d.getY())/4),new Ye(h,p)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,l,d,x,h){let p=ct.getInstance(),b=this.getDimension(),E=b/2-this.nbCenterLayers,w=b/2+this.nbCenterLayers;return p.sampleGrid(s,b,b,E,E,w,E,w,w,E,w,l.getX(),l.getY(),d.getX(),d.getY(),x.getX(),x.getY(),h.getX(),h.getY())}sampleLine(s,l,d){let x=0,h=this.distanceResultPoint(s,l),p=h/d,b=s.getX(),E=s.getY(),w=p*(l.getX()-s.getX())/h,I=p*(l.getY()-s.getY())/h;for(let V=0;V<d;V++)this.image.get(ue.round(b+V*w),ue.round(E+V*I))&&(x|=1<<d-V-1);return x}isWhiteOrBlackRectangle(s,l,d,x){let h=3;s=new Ye(s.getX()-h,s.getY()+h),l=new Ye(l.getX()-h,l.getY()-h),d=new Ye(d.getX()+h,d.getY()-h),x=new Ye(x.getX()+h,x.getY()+h);let p=this.getColor(x,s);if(p===0)return!1;let b=this.getColor(s,l);return b!==p||(b=this.getColor(l,d),b!==p)?!1:(b=this.getColor(d,x),b===p)}getColor(s,l){let d=this.distancePoint(s,l),x=(l.getX()-s.getX())/d,h=(l.getY()-s.getY())/d,p=0,b=s.getX(),E=s.getY(),w=this.image.get(s.getX(),s.getY()),I=Math.ceil(d);for(let K=0;K<I;K++)b+=x,E+=h,this.image.get(ue.round(b),ue.round(E))!==w&&p++;let V=p/d;return V>.1&&V<.9?0:V<=.1===w?1:-1}getFirstDifferent(s,l,d,x){let h=s.getX()+d,p=s.getY()+x;for(;this.isValid(h,p)&&this.image.get(h,p)===l;)h+=d,p+=x;for(h-=d,p-=x;this.isValid(h,p)&&this.image.get(h,p)===l;)h+=d;for(h-=d;this.isValid(h,p)&&this.image.get(h,p)===l;)p+=x;return p-=x,new Ye(h,p)}expandSquare(s,l,d){let x=d/(2*l),h=s[0].getX()-s[2].getX(),p=s[0].getY()-s[2].getY(),b=(s[0].getX()+s[2].getX())/2,E=(s[0].getY()+s[2].getY())/2,w=new te(b+x*h,E+x*p),I=new te(b-x*h,E-x*p);h=s[1].getX()-s[3].getX(),p=s[1].getY()-s[3].getY(),b=(s[1].getX()+s[3].getX())/2,E=(s[1].getY()+s[3].getY())/2;let V=new te(b+x*h,E+x*p),K=new te(b-x*h,E-x*p);return[w,V,I,K]}isValid(s,l){return s>=0&&s<this.image.getWidth()&&l>0&&l<this.image.getHeight()}isValidPoint(s){let l=ue.round(s.getX()),d=ue.round(s.getY());return this.isValid(l,d)}distancePoint(s,l){return ue.distance(s.getX(),s.getY(),l.getX(),l.getY())}distanceResultPoint(s,l){return ue.distance(s.getX(),s.getY(),l.getX(),l.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(F.truncDivision(this.nbLayers-4,8)+1)+15}}class Rt{decode(s,l=null){let d=null,x=new Ht(s.getBlackMatrix()),h=null,p=null;try{let I=x.detectMirror(!1);h=I.getPoints(),this.reportFoundResultPoints(l,h),p=new M().decode(I)}catch(I){d=I}if(p==null)try{let I=x.detectMirror(!0);h=I.getPoints(),this.reportFoundResultPoints(l,h),p=new M().decode(I)}catch(I){throw d??I}let b=new ye(p.getText(),p.getRawBytes(),p.getNumBits(),h,le.AZTEC,D.currentTimeMillis()),E=p.getByteSegments();E!=null&&b.putMetadata(ae.BYTE_SEGMENTS,E);let w=p.getECLevel();return w!=null&&b.putMetadata(ae.ERROR_CORRECTION_LEVEL,w),b}reportFoundResultPoints(s,l){if(s!=null){let d=s.get($.NEED_RESULT_POINT_CALLBACK);d!=null&&l.forEach((x,h,p)=>{d.foundPossibleResultPoint(x)})}}reset(){}}class Vn extends re{constructor(s=500){super(new Rt,s)}}class Et{decode(s,l){try{return this.doDecode(s,l)}catch{if(l&&l.get($.TRY_HARDER)===!0&&s.isRotateSupported()){const h=s.rotateCounterClockwise(),p=this.doDecode(h,l),b=p.getResultMetadata();let E=270;b!==null&&b.get(ae.ORIENTATION)===!0&&(E=E+b.get(ae.ORIENTATION)%360),p.putMetadata(ae.ORIENTATION,E);const w=p.getResultPoints();if(w!==null){const I=h.getHeight();for(let V=0;V<w.length;V++)w[V]=new te(I-w[V].getY()-1,w[V].getX())}return p}else throw new J}}reset(){}doDecode(s,l){const d=s.getWidth(),x=s.getHeight();let h=new k(d);const p=l&&l.get($.TRY_HARDER)===!0,b=Math.max(1,x>>(p?8:5));let E;p?E=x:E=15;const w=Math.trunc(x/2);for(let I=0;I<E;I++){const V=Math.trunc((I+1)/2),K=(I&1)===0,oe=w+b*(K?V:-V);if(oe<0||oe>=x)break;try{h=s.getBlackRow(oe,h)}catch{continue}for(let xe=0;xe<2;xe++){if(xe===1&&(h.reverse(),l&&l.get($.NEED_RESULT_POINT_CALLBACK)===!0)){const pe=new Map;l.forEach((De,Te)=>pe.set(Te,De)),pe.delete($.NEED_RESULT_POINT_CALLBACK),l=pe}try{const pe=this.decodeRow(oe,h,l);if(xe===1){pe.putMetadata(ae.ORIENTATION,180);const De=pe.getResultPoints();De!==null&&(De[0]=new te(d-De[0].getX()-1,De[0].getY()),De[1]=new te(d-De[1].getX()-1,De[1].getY()))}return pe}catch{}}}throw new J}static recordPattern(s,l,d){const x=d.length;for(let w=0;w<x;w++)d[w]=0;const h=s.getSize();if(l>=h)throw new J;let p=!s.get(l),b=0,E=l;for(;E<h;){if(s.get(E)!==p)d[b]++;else{if(++b===x)break;d[b]=1,p=!p}E++}if(!(b===x||b===x-1&&E===h))throw new J}static recordPatternInReverse(s,l,d){let x=d.length,h=s.get(l);for(;l>0&&x>=0;)s.get(--l)!==h&&(x--,h=!h);if(x>=0)throw new J;Et.recordPattern(s,l+1,d)}static patternMatchVariance(s,l,d){const x=s.length;let h=0,p=0;for(let w=0;w<x;w++)h+=s[w],p+=l[w];if(h<p)return Number.POSITIVE_INFINITY;const b=h/p;d*=b;let E=0;for(let w=0;w<x;w++){const I=s[w],V=l[w]*b,K=I>V?I-V:V-I;if(K>d)return Number.POSITIVE_INFINITY;E+=K}return E/h}}class Ve extends Et{static findStartPattern(s){const l=s.getSize(),d=s.getNextSet(0);let x=0,h=Int32Array.from([0,0,0,0,0,0]),p=d,b=!1;const E=6;for(let w=d;w<l;w++)if(s.get(w)!==b)h[x]++;else{if(x===E-1){let I=Ve.MAX_AVG_VARIANCE,V=-1;for(let K=Ve.CODE_START_A;K<=Ve.CODE_START_C;K++){const oe=Et.patternMatchVariance(h,Ve.CODE_PATTERNS[K],Ve.MAX_INDIVIDUAL_VARIANCE);oe<I&&(I=oe,V=K)}if(V>=0&&s.isRange(Math.max(0,p-(w-p)/2),p,!1))return Int32Array.from([p,w,V]);p+=h[0]+h[1],h=h.slice(2,h.length-1),h[x-1]=0,h[x]=0,x--}else x++;h[x]=1,b=!b}throw new J}static decodeCode(s,l,d){Et.recordPattern(s,d,l);let x=Ve.MAX_AVG_VARIANCE,h=-1;for(let p=0;p<Ve.CODE_PATTERNS.length;p++){const b=Ve.CODE_PATTERNS[p],E=this.patternMatchVariance(l,b,Ve.MAX_INDIVIDUAL_VARIANCE);E<x&&(x=E,h=p)}if(h>=0)return h;throw new J}decodeRow(s,l,d){const x=d&&d.get($.ASSUME_GS1)===!0,h=Ve.findStartPattern(l),p=h[2];let b=0;const E=new Uint8Array(20);E[b++]=p;let w;switch(p){case Ve.CODE_START_A:w=Ve.CODE_CODE_A;break;case Ve.CODE_START_B:w=Ve.CODE_CODE_B;break;case Ve.CODE_START_C:w=Ve.CODE_CODE_C;break;default:throw new O}let I=!1,V=!1,K="",oe=h[0],xe=h[1];const pe=Int32Array.from([0,0,0,0,0,0]);let De=0,Te=0,Ue=p,qe=0,je=!0,vt=!1,xt=!1;for(;!I;){const ii=V;switch(V=!1,De=Te,Te=Ve.decodeCode(l,pe,xe),E[b++]=Te,Te!==Ve.CODE_STOP&&(je=!0),Te!==Ve.CODE_STOP&&(qe++,Ue+=qe*Te),oe=xe,xe+=pe.reduce((V8,q8)=>V8+q8,0),Te){case Ve.CODE_START_A:case Ve.CODE_START_B:case Ve.CODE_START_C:throw new O}switch(w){case Ve.CODE_CODE_A:if(Te<64)xt===vt?K+=String.fromCharCode(32+Te):K+=String.fromCharCode(32+Te+128),xt=!1;else if(Te<96)xt===vt?K+=String.fromCharCode(Te-64):K+=String.fromCharCode(Te+64),xt=!1;else switch(Te!==Ve.CODE_STOP&&(je=!1),Te){case Ve.CODE_FNC_1:x&&(K.length===0?K+="]C1":K+="");break;case Ve.CODE_FNC_2:case Ve.CODE_FNC_3:break;case Ve.CODE_FNC_4_A:!vt&&xt?(vt=!0,xt=!1):vt&&xt?(vt=!1,xt=!1):xt=!0;break;case Ve.CODE_SHIFT:V=!0,w=Ve.CODE_CODE_B;break;case Ve.CODE_CODE_B:w=Ve.CODE_CODE_B;break;case Ve.CODE_CODE_C:w=Ve.CODE_CODE_C;break;case Ve.CODE_STOP:I=!0;break}break;case Ve.CODE_CODE_B:if(Te<96)xt===vt?K+=String.fromCharCode(32+Te):K+=String.fromCharCode(32+Te+128),xt=!1;else switch(Te!==Ve.CODE_STOP&&(je=!1),Te){case Ve.CODE_FNC_1:x&&(K.length===0?K+="]C1":K+="");break;case Ve.CODE_FNC_2:case Ve.CODE_FNC_3:break;case Ve.CODE_FNC_4_B:!vt&&xt?(vt=!0,xt=!1):vt&&xt?(vt=!1,xt=!1):xt=!0;break;case Ve.CODE_SHIFT:V=!0,w=Ve.CODE_CODE_A;break;case Ve.CODE_CODE_A:w=Ve.CODE_CODE_A;break;case Ve.CODE_CODE_C:w=Ve.CODE_CODE_C;break;case Ve.CODE_STOP:I=!0;break}break;case Ve.CODE_CODE_C:if(Te<100)Te<10&&(K+="0"),K+=Te;else switch(Te!==Ve.CODE_STOP&&(je=!1),Te){case Ve.CODE_FNC_1:x&&(K.length===0?K+="]C1":K+="");break;case Ve.CODE_CODE_A:w=Ve.CODE_CODE_A;break;case Ve.CODE_CODE_B:w=Ve.CODE_CODE_B;break;case Ve.CODE_STOP:I=!0;break}break}ii&&(w=w===Ve.CODE_CODE_A?Ve.CODE_CODE_B:Ve.CODE_CODE_A)}const Jn=xe-oe;if(xe=l.getNextUnset(xe),!l.isRange(xe,Math.min(l.getSize(),xe+(xe-oe)/2),!1))throw new J;if(Ue-=qe*De,Ue%103!==De)throw new C;const jr=K.length;if(jr===0)throw new J;jr>0&&je&&(w===Ve.CODE_CODE_C?K=K.substring(0,jr-2):K=K.substring(0,jr-1));const er=(h[1]+h[0])/2,qt=oe+Jn/2,Sn=E.length,xr=new Uint8Array(Sn);for(let ii=0;ii<Sn;ii++)xr[ii]=E[ii];const oi=[new te(er,s),new te(qt,s)];return new ye(K,xr,0,oi,le.CODE_128,new Date().getTime())}}Ve.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ve.MAX_AVG_VARIANCE=.25,Ve.MAX_INDIVIDUAL_VARIANCE=.7,Ve.CODE_SHIFT=98,Ve.CODE_CODE_C=99,Ve.CODE_CODE_B=100,Ve.CODE_CODE_A=101,Ve.CODE_FNC_1=102,Ve.CODE_FNC_2=97,Ve.CODE_FNC_3=96,Ve.CODE_FNC_4_A=101,Ve.CODE_FNC_4_B=100,Ve.CODE_START_A=103,Ve.CODE_START_B=104,Ve.CODE_START_C=105,Ve.CODE_STOP=106;class zt extends Et{constructor(s=!1,l=!1){super(),this.usingCheckDigit=s,this.extendedMode=l,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,l,d){let x=this.counters;x.fill(0),this.decodeRowResult="";let h=zt.findAsteriskPattern(l,x),p=l.getNextSet(h[1]),b=l.getSize(),E,w;do{zt.recordPattern(l,p,x);let pe=zt.toNarrowWidePattern(x);if(pe<0)throw new J;E=zt.patternToChar(pe),this.decodeRowResult+=E,w=p;for(let De of x)p+=De;p=l.getNextSet(p)}while(E!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let I=0;for(let pe of x)I+=pe;let V=p-w-I;if(p!==b&&V*2<I)throw new J;if(this.usingCheckDigit){let pe=this.decodeRowResult.length-1,De=0;for(let Te=0;Te<pe;Te++)De+=zt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Te));if(this.decodeRowResult.charAt(pe)!==zt.ALPHABET_STRING.charAt(De%43))throw new C;this.decodeRowResult=this.decodeRowResult.substring(0,pe)}if(this.decodeRowResult.length===0)throw new J;let K;this.extendedMode?K=zt.decodeExtended(this.decodeRowResult):K=this.decodeRowResult;let oe=(h[1]+h[0])/2,xe=w+I/2;return new ye(K,null,0,[new te(oe,s),new te(xe,s)],le.CODE_39,new Date().getTime())}static findAsteriskPattern(s,l){let d=s.getSize(),x=s.getNextSet(0),h=0,p=x,b=!1,E=l.length;for(let w=x;w<d;w++)if(s.get(w)!==b)l[h]++;else{if(h===E-1){if(this.toNarrowWidePattern(l)===zt.ASTERISK_ENCODING&&s.isRange(Math.max(0,p-Math.floor((w-p)/2)),p,!1))return[p,w];p+=l[0]+l[1],l.copyWithin(0,2,2+h-1),l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,b=!b}throw new J}static toNarrowWidePattern(s){let l=s.length,d=0,x;do{let h=2147483647;for(let E of s)E<h&&E>d&&(h=E);d=h,x=0;let p=0,b=0;for(let E=0;E<l;E++){let w=s[E];w>d&&(b|=1<<l-1-E,x++,p+=w)}if(x===3){for(let E=0;E<l&&x>0;E++){let w=s[E];if(w>d&&(x--,w*2>=p))return-1}return b}}while(x>3);return-1}static patternToChar(s){for(let l=0;l<zt.CHARACTER_ENCODINGS.length;l++)if(zt.CHARACTER_ENCODINGS[l]===s)return zt.ALPHABET_STRING.charAt(l);if(s===zt.ASTERISK_ENCODING)return"*";throw new J}static decodeExtended(s){let l=s.length,d="";for(let x=0;x<l;x++){let h=s.charAt(x);if(h==="+"||h==="$"||h==="%"||h==="/"){let p=s.charAt(x+1),b="\0";switch(h){case"+":if(p>="A"&&p<="Z")b=String.fromCharCode(p.charCodeAt(0)+32);else throw new O;break;case"$":if(p>="A"&&p<="Z")b=String.fromCharCode(p.charCodeAt(0)-64);else throw new O;break;case"%":if(p>="A"&&p<="E")b=String.fromCharCode(p.charCodeAt(0)-38);else if(p>="F"&&p<="J")b=String.fromCharCode(p.charCodeAt(0)-11);else if(p>="K"&&p<="O")b=String.fromCharCode(p.charCodeAt(0)+16);else if(p>="P"&&p<="T")b=String.fromCharCode(p.charCodeAt(0)+43);else if(p==="U")b="\0";else if(p==="V")b="@";else if(p==="W")b="`";else if(p==="X"||p==="Y"||p==="Z")b="";else throw new O;break;case"/":if(p>="A"&&p<="O")b=String.fromCharCode(p.charCodeAt(0)-32);else if(p==="Z")b=":";else throw new O;break}d+=b,x++}else d+=h}return d}}zt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",zt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],zt.ASTERISK_ENCODING=148;class Ee extends Et{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,l,d){let x=this.decodeStart(l),h=this.decodeEnd(l),p=new ee;Ee.decodeMiddle(l,x[1],h[0],p);let b=p.toString(),E=null;d!=null&&(E=d.get($.ALLOWED_LENGTHS)),E==null&&(E=Ee.DEFAULT_ALLOWED_LENGTHS);let w=b.length,I=!1,V=0;for(let xe of E){if(w===xe){I=!0;break}xe>V&&(V=xe)}if(!I&&w>V&&(I=!0),!I)throw new O;const K=[new te(x[1],s),new te(h[0],s)];return new ye(b,null,0,K,le.ITF,new Date().getTime())}static decodeMiddle(s,l,d,x){let h=new Int32Array(10),p=new Int32Array(5),b=new Int32Array(5);for(h.fill(0),p.fill(0),b.fill(0);l<d;){Et.recordPattern(s,l,h);for(let w=0;w<5;w++){let I=2*w;p[w]=h[I],b[w]=h[I+1]}let E=Ee.decodeDigit(p);x.append(E.toString()),E=this.decodeDigit(b),x.append(E.toString()),h.forEach(function(w){l+=w})}}decodeStart(s){let l=Ee.skipWhiteSpace(s),d=Ee.findGuardPattern(s,l,Ee.START_PATTERN);return this.narrowLineWidth=(d[1]-d[0])/4,this.validateQuietZone(s,d[0]),d}validateQuietZone(s,l){let d=this.narrowLineWidth*10;d=d<l?d:l;for(let x=l-1;d>0&&x>=0&&!s.get(x);x--)d--;if(d!==0)throw new J}static skipWhiteSpace(s){const l=s.getSize(),d=s.getNextSet(0);if(d===l)throw new J;return d}decodeEnd(s){s.reverse();try{let l=Ee.skipWhiteSpace(s),d;try{d=Ee.findGuardPattern(s,l,Ee.END_PATTERN_REVERSED[0])}catch(h){h instanceof J&&(d=Ee.findGuardPattern(s,l,Ee.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,d[0]);let x=d[0];return d[0]=s.getSize()-d[1],d[1]=s.getSize()-x,d}finally{s.reverse()}}static findGuardPattern(s,l,d){let x=d.length,h=new Int32Array(x),p=s.getSize(),b=!1,E=0,w=l;h.fill(0);for(let I=l;I<p;I++)if(s.get(I)!==b)h[E]++;else{if(E===x-1){if(Et.patternMatchVariance(h,d,Ee.MAX_INDIVIDUAL_VARIANCE)<Ee.MAX_AVG_VARIANCE)return[w,I];w+=h[0]+h[1],D.arraycopy(h,2,h,0,E-1),h[E-1]=0,h[E]=0,E--}else E++;h[E]=1,b=!b}throw new J}static decodeDigit(s){let l=Ee.MAX_AVG_VARIANCE,d=-1,x=Ee.PATTERNS.length;for(let h=0;h<x;h++){let p=Ee.PATTERNS[h],b=Et.patternMatchVariance(s,p,Ee.MAX_INDIVIDUAL_VARIANCE);b<l?(l=b,d=h):b===l&&(d=-1)}if(d>=0)return d%10;throw new J}}Ee.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ee.MAX_AVG_VARIANCE=.38,Ee.MAX_INDIVIDUAL_VARIANCE=.5,Ee.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ee.START_PATTERN=Int32Array.from([1,1,1,1]),Ee.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ae extends Et{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let l=!1,d,x=0,h=Int32Array.from([0,0,0]);for(;!l;){h=Int32Array.from([0,0,0]),d=Ae.findGuardPattern(s,x,!1,this.START_END_PATTERN,h);let p=d[0];x=d[1];let b=p-(x-p);b>=0&&(l=s.isRange(b,p,!1))}return d}static checkChecksum(s){return Ae.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let l=s.length;if(l===0)return!1;let d=parseInt(s.charAt(l-1),10);return Ae.getStandardUPCEANChecksum(s.substring(0,l-1))===d}static getStandardUPCEANChecksum(s){let l=s.length,d=0;for(let x=l-1;x>=0;x-=2){let h=s.charAt(x).charCodeAt(0)-48;if(h<0||h>9)throw new O;d+=h}d*=3;for(let x=l-2;x>=0;x-=2){let h=s.charAt(x).charCodeAt(0)-48;if(h<0||h>9)throw new O;d+=h}return(1e3-d)%10}static decodeEnd(s,l){return Ae.findGuardPattern(s,l,!1,Ae.START_END_PATTERN,new Int32Array(Ae.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,l,d,x){return this.findGuardPattern(s,l,d,x,new Int32Array(x.length))}static findGuardPattern(s,l,d,x,h){let p=s.getSize();l=d?s.getNextUnset(l):s.getNextSet(l);let b=0,E=l,w=x.length,I=d;for(let V=l;V<p;V++)if(s.get(V)!==I)h[b]++;else{if(b===w-1){if(Et.patternMatchVariance(h,x,Ae.MAX_INDIVIDUAL_VARIANCE)<Ae.MAX_AVG_VARIANCE)return Int32Array.from([E,V]);E+=h[0]+h[1];let K=h.slice(2,h.length-1);for(let oe=0;oe<b-1;oe++)h[oe]=K[oe];h[b-1]=0,h[b]=0,b--}else b++;h[b]=1,I=!I}throw new J}static decodeDigit(s,l,d,x){this.recordPattern(s,d,l);let h=this.MAX_AVG_VARIANCE,p=-1,b=x.length;for(let E=0;E<b;E++){let w=x[E],I=Et.patternMatchVariance(l,w,Ae.MAX_INDIVIDUAL_VARIANCE);I<h&&(h=I,p=E)}if(p>=0)return p;throw new J}}Ae.MAX_AVG_VARIANCE=.48,Ae.MAX_INDIVIDUAL_VARIANCE=.7,Ae.START_END_PATTERN=Int32Array.from([1,1,1]),Ae.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ae.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ae.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ht{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,l,d){let x=this.decodeRowStringBuffer,h=this.decodeMiddle(l,d,x),p=x.toString(),b=ht.parseExtensionString(p),E=[new te((d[0]+d[1])/2,s),new te(h,s)],w=new ye(p,null,0,E,le.UPC_EAN_EXTENSION,new Date().getTime());return b!=null&&w.putAllMetadata(b),w}decodeMiddle(s,l,d){let x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let h=s.getSize(),p=l[1],b=0;for(let w=0;w<5&&p<h;w++){let I=Ae.decodeDigit(s,x,p,Ae.L_AND_G_PATTERNS);d+=String.fromCharCode(48+I%10);for(let V of x)p+=V;I>=10&&(b|=1<<4-w),w!==4&&(p=s.getNextSet(p),p=s.getNextUnset(p))}if(d.length!==5)throw new J;let E=this.determineCheckDigit(b);if(ht.extensionChecksum(d.toString())!==E)throw new J;return p}static extensionChecksum(s){let l=s.length,d=0;for(let x=l-2;x>=0;x-=2)d+=s.charAt(x).charCodeAt(0)-48;d*=3;for(let x=l-1;x>=0;x-=2)d+=s.charAt(x).charCodeAt(0)-48;return d*=3,d%10}determineCheckDigit(s){for(let l=0;l<10;l++)if(s===this.CHECK_DIGIT_ENCODINGS[l])return l;throw new J}static parseExtensionString(s){if(s.length!==5)return null;let l=ht.parseExtension5String(s);return l==null?null:new Map([[ae.SUGGESTED_PRICE,l]])}static parseExtension5String(s){let l;switch(s.charAt(0)){case"0":l="";break;case"5":l="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}l="";break;default:l="";break}let d=parseInt(s.substring(1)),x=(d/100).toString(),h=d%100,p=h<10?"0"+h:h.toString();return l+x+"."+p}}class At{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,l,d){let x=this.decodeRowStringBuffer,h=this.decodeMiddle(l,d,x),p=x.toString(),b=At.parseExtensionString(p),E=[new te((d[0]+d[1])/2,s),new te(h,s)],w=new ye(p,null,0,E,le.UPC_EAN_EXTENSION,new Date().getTime());return b!=null&&w.putAllMetadata(b),w}decodeMiddle(s,l,d){let x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let h=s.getSize(),p=l[1],b=0;for(let E=0;E<2&&p<h;E++){let w=Ae.decodeDigit(s,x,p,Ae.L_AND_G_PATTERNS);d+=String.fromCharCode(48+w%10);for(let I of x)p+=I;w>=10&&(b|=1<<1-E),E!==1&&(p=s.getNextSet(p),p=s.getNextUnset(p))}if(d.length!==2)throw new J;if(parseInt(d.toString())%4!==b)throw new J;return p}static parseExtensionString(s){return s.length!==2?null:new Map([[ae.ISSUE_NUMBER,parseInt(s)]])}}class $t{static decodeRow(s,l,d){let x=Ae.findGuardPattern(l,d,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new ht().decodeRow(s,l,x)}catch{return new At().decodeRow(s,l,x)}}}$t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Xe extends Ae{constructor(){super(),this.decodeRowStringBuffer="",Xe.L_AND_G_PATTERNS=Xe.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let l=Xe.L_PATTERNS[s-10],d=new Int32Array(l.length);for(let x=0;x<l.length;x++)d[x]=l[l.length-x-1];Xe.L_AND_G_PATTERNS[s]=d}}decodeRow(s,l,d){let x=Xe.findStartGuardPattern(l),h=d==null?null:d.get($.NEED_RESULT_POINT_CALLBACK);if(h!=null){const je=new te((x[0]+x[1])/2,s);h.foundPossibleResultPoint(je)}let p=this.decodeMiddle(l,x,this.decodeRowStringBuffer),b=p.rowOffset,E=p.resultString;if(h!=null){const je=new te(b,s);h.foundPossibleResultPoint(je)}let w=this.decodeEnd(l,b);if(h!=null){const je=new te((w[0]+w[1])/2,s);h.foundPossibleResultPoint(je)}let I=w[1],V=I+(I-w[0]);if(V>=l.getSize()||!l.isRange(I,V,!1))throw new J;let K=E.toString();if(K.length<8)throw new O;if(!Xe.checkChecksum(K))throw new C;let oe=(x[1]+x[0])/2,xe=(w[1]+w[0])/2,pe=this.getBarcodeFormat(),De=[new te(oe,s),new te(xe,s)],Te=new ye(K,null,0,De,pe,new Date().getTime()),Ue=0;try{let je=$t.decodeRow(s,l,w[1]);Te.putMetadata(ae.UPC_EAN_EXTENSION,je.getText()),Te.putAllMetadata(je.getResultMetadata()),Te.addResultPoints(je.getResultPoints()),Ue=je.getText().length}catch{}let qe=d==null?null:d.get($.ALLOWED_EAN_EXTENSIONS);if(qe!=null){let je=!1;for(let vt in qe)if(Ue.toString()===vt){je=!0;break}if(!je)throw new J}return Te}decodeEnd(s,l){return Xe.findGuardPattern(s,l,!1,Xe.START_END_PATTERN,new Int32Array(Xe.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return Xe.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let l=s.length;if(l===0)return!1;let d=parseInt(s.charAt(l-1),10);return Xe.getStandardUPCEANChecksum(s.substring(0,l-1))===d}static getStandardUPCEANChecksum(s){let l=s.length,d=0;for(let x=l-1;x>=0;x-=2){let h=s.charAt(x).charCodeAt(0)-48;if(h<0||h>9)throw new O;d+=h}d*=3;for(let x=l-2;x>=0;x-=2){let h=s.charAt(x).charCodeAt(0)-48;if(h<0||h>9)throw new O;d+=h}return(1e3-d)%10}}class Mn extends Xe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,l,d){let x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let h=s.getSize(),p=l[1],b=0;for(let w=0;w<6&&p<h;w++){let I=Xe.decodeDigit(s,x,p,Xe.L_AND_G_PATTERNS);d+=String.fromCharCode(48+I%10);for(let V of x)p+=V;I>=10&&(b|=1<<5-w)}d=Mn.determineFirstDigit(d,b),p=Xe.findGuardPattern(s,p,!0,Xe.MIDDLE_PATTERN,new Int32Array(Xe.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<6&&p<h;w++){let I=Xe.decodeDigit(s,x,p,Xe.L_PATTERNS);d+=String.fromCharCode(48+I);for(let V of x)p+=V}return{rowOffset:p,resultString:d}}getBarcodeFormat(){return le.EAN_13}static determineFirstDigit(s,l){for(let d=0;d<10;d++)if(l===this.FIRST_DIGIT_ENCODINGS[d])return s=String.fromCharCode(48+d)+s,s;throw new J}}Mn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Yr extends Xe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,l,d){const x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let h=s.getSize(),p=l[1];for(let E=0;E<4&&p<h;E++){let w=Xe.decodeDigit(s,x,p,Xe.L_PATTERNS);d+=String.fromCharCode(48+w);for(let I of x)p+=I}p=Xe.findGuardPattern(s,p,!0,Xe.MIDDLE_PATTERN,new Int32Array(Xe.MIDDLE_PATTERN.length).fill(0))[1];for(let E=0;E<4&&p<h;E++){let w=Xe.decodeDigit(s,x,p,Xe.L_PATTERNS);d+=String.fromCharCode(48+w);for(let I of x)p+=I}return{rowOffset:p,resultString:d}}getBarcodeFormat(){return le.EAN_8}}class Pn extends Xe{constructor(){super(...arguments),this.ean13Reader=new Mn}getBarcodeFormat(){return le.UPC_A}decode(s,l){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,l,d){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,l,d))}decodeMiddle(s,l,d){return this.ean13Reader.decodeMiddle(s,l,d)}maybeReturnResult(s){let l=s.getText();if(l.charAt(0)==="0"){let d=new ye(l.substring(1),null,null,s.getResultPoints(),le.UPC_A);return s.getResultMetadata()!=null&&d.putAllMetadata(s.getResultMetadata()),d}else throw new J}reset(){this.ean13Reader.reset()}}class xn extends Xe{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,l,d){const x=this.decodeMiddleCounters.map(w=>w);x[0]=0,x[1]=0,x[2]=0,x[3]=0;const h=s.getSize();let p=l[1],b=0;for(let w=0;w<6&&p<h;w++){const I=xn.decodeDigit(s,x,p,xn.L_AND_G_PATTERNS);d+=String.fromCharCode(48+I%10);for(let V of x)p+=V;I>=10&&(b|=1<<5-w)}let E=xn.determineNumSysAndCheckDigit(d,b);return{rowOffset:p,resultString:E}}decodeEnd(s,l){return xn.findGuardPatternWithoutCounters(s,l,!0,xn.MIDDLE_END_PATTERN)}checkChecksum(s){return Xe.checkChecksum(xn.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,l){for(let d=0;d<=1;d++)for(let x=0;x<10;x++)if(l===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[d][x]){let h=String.fromCharCode(48+d),p=String.fromCharCode(48+x);return h+s+p}throw J.getNotFoundInstance()}getBarcodeFormat(){return le.UPC_E}static convertUPCEtoUPCA(s){const l=s.slice(1,7).split("").map(h=>h.charCodeAt(0)),d=new ee;d.append(s.charAt(0));let x=l[5];switch(x){case 0:case 1:case 2:d.appendChars(l,0,2),d.append(x),d.append("0000"),d.appendChars(l,2,3);break;case 3:d.appendChars(l,0,3),d.append("00000"),d.appendChars(l,3,2);break;case 4:d.appendChars(l,0,4),d.append("00000"),d.append(l[4]);break;default:d.appendChars(l,0,5),d.append("0000"),d.append(x);break}return s.length>=8&&d.append(s.charAt(7)),d.toString()}}xn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),xn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ho extends Et{constructor(s){super();let l=s==null?null:s.get($.POSSIBLE_FORMATS),d=[];r(l)?(d.push(new Mn),d.push(new Pn),d.push(new Yr),d.push(new xn)):(l.indexOf(le.EAN_13)>-1&&d.push(new Mn),l.indexOf(le.UPC_A)>-1&&d.push(new Pn),l.indexOf(le.EAN_8)>-1&&d.push(new Yr),l.indexOf(le.UPC_E)>-1&&d.push(new xn)),this.readers=d}decodeRow(s,l,d){for(let x of this.readers)try{const h=x.decodeRow(s,l,d),p=h.getBarcodeFormat()===le.EAN_13&&h.getText().charAt(0)==="0",b=d==null?null:d.get($.POSSIBLE_FORMATS),E=b==null||b.includes(le.UPC_A);if(p&&E){const w=h.getRawBytes(),I=new ye(h.getText().substring(1),w,w?w.length:null,h.getResultPoints(),le.UPC_A);return I.putAllMetadata(h.getResultMetadata()),I}return h}catch{}throw new J}reset(){for(let s of this.readers)s.reset()}}class tn extends Et{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,l){for(let d=0;d<l.length;d++)if(Et.patternMatchVariance(s,l[d],tn.MAX_INDIVIDUAL_VARIANCE)<tn.MAX_AVG_VARIANCE)return d;throw new J}static count(s){return ue.sum(new Int32Array(s))}static increment(s,l){let d=0,x=l[0];for(let h=1;h<s.length;h++)l[h]>x&&(x=l[h],d=h);s[d]++}static decrement(s,l){let d=0,x=l[0];for(let h=1;h<s.length;h++)l[h]<x&&(x=l[h],d=h);s[d]--}static isFinderPattern(s){let l=s[0]+s[1],d=l+s[2]+s[3],x=l/d;if(x>=tn.MIN_FINDER_PATTERN_RATIO&&x<=tn.MAX_FINDER_PATTERN_RATIO){let h=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;for(let b of s)b>p&&(p=b),b<h&&(h=b);return p<10*h}return!1}}tn.MAX_AVG_VARIANCE=.2,tn.MAX_INDIVIDUAL_VARIANCE=.45,tn.MIN_FINDER_PATTERN_RATIO=9.5/12,tn.MAX_FINDER_PATTERN_RATIO=12.5/14;class En{constructor(s,l){this.value=s,this.checksumPortion=l}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof En))return!1;const l=s;return this.value===l.value&&this.checksumPortion===l.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class go{constructor(s,l,d,x,h){this.value=s,this.startEnd=l,this.value=s,this.startEnd=l,this.resultPoints=new Array,this.resultPoints.push(new te(d,h)),this.resultPoints.push(new te(x,h))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof go))return!1;const l=s;return this.value===l.value}hashCode(){return this.value}}class dr{constructor(){}static getRSSvalue(s,l,d){let x=0;for(let E of s)x+=E;let h=0,p=0,b=s.length;for(let E=0;E<b-1;E++){let w;for(w=1,p|=1<<E;w<s[E];w++,p&=~(1<<E)){let I=dr.combins(x-w-1,b-E-2);if(d&&p===0&&x-w-(b-E-1)>=b-E-1&&(I-=dr.combins(x-w-(b-E),b-E-2)),b-E-1>1){let V=0;for(let K=x-w-(b-E-2);K>l;K--)V+=dr.combins(x-w-K-1,b-E-3);I-=V*(b-1-E)}else x-w>l&&I--;h+=I}x-=w}return h}static combins(s,l){let d,x;s-l>l?(x=l,d=s-l):(x=s-l,d=l);let h=1,p=1;for(let b=s;b>d;b--)h*=b,p<=x&&(h/=p,p++);for(;p<=x;)h/=p,p++;return h}}class rl{static buildBitArray(s){let l=s.length*2-1;s[s.length-1].getRightChar()==null&&(l-=1);let d=12*l,x=new k(d),h=0,b=s[0].getRightChar().getValue();for(let E=11;E>=0;--E)(b&1<<E)!=0&&x.set(h),h++;for(let E=1;E<s.length;++E){let w=s[E],I=w.getLeftChar().getValue();for(let V=11;V>=0;--V)(I&1<<V)!=0&&x.set(h),h++;if(w.getRightChar()!=null){let V=w.getRightChar().getValue();for(let K=11;K>=0;--K)(V&1<<K)!=0&&x.set(h),h++}}return x}}class ur{constructor(s,l){l?this.decodedInformation=null:(this.finished=s,this.decodedInformation=l)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class po{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class fn extends po{constructor(s,l){super(s),this.value=l}getValue(){return this.value}isFNC1(){return this.value===fn.FNC1}}fn.FNC1="$";class $r extends po{constructor(s,l,d){super(s),d?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=l}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Rn extends po{constructor(s,l,d){if(super(s),l<0||l>10||d<0||d>10)throw new O;this.firstDigit=l,this.secondDigit=d}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Rn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Rn.FNC1}isAnyFNC1(){return this.firstDigit===Rn.FNC1||this.secondDigit===Rn.FNC1}}Rn.FNC1=10;class Ze{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new J;let l=s.substring(0,2);for(let h of Ze.TWO_DIGIT_DATA_LENGTH)if(h[0]===l)return h[1]===Ze.VARIABLE_LENGTH?Ze.processVariableAI(2,h[2],s):Ze.processFixedAI(2,h[1],s);if(s.length<3)throw new J;let d=s.substring(0,3);for(let h of Ze.THREE_DIGIT_DATA_LENGTH)if(h[0]===d)return h[1]===Ze.VARIABLE_LENGTH?Ze.processVariableAI(3,h[2],s):Ze.processFixedAI(3,h[1],s);for(let h of Ze.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(h[0]===d)return h[1]===Ze.VARIABLE_LENGTH?Ze.processVariableAI(4,h[2],s):Ze.processFixedAI(4,h[1],s);if(s.length<4)throw new J;let x=s.substring(0,4);for(let h of Ze.FOUR_DIGIT_DATA_LENGTH)if(h[0]===x)return h[1]===Ze.VARIABLE_LENGTH?Ze.processVariableAI(4,h[2],s):Ze.processFixedAI(4,h[1],s);throw new J}static processFixedAI(s,l,d){if(d.length<s)throw new J;let x=d.substring(0,s);if(d.length<s+l)throw new J;let h=d.substring(s,s+l),p=d.substring(s+l),b="("+x+")"+h,E=Ze.parseFieldsInGeneralPurpose(p);return E==null?b:b+E}static processVariableAI(s,l,d){let x=d.substring(0,s),h;d.length<s+l?h=d.length:h=s+l;let p=d.substring(s,h),b=d.substring(h),E="("+x+")"+p,w=Ze.parseFieldsInGeneralPurpose(b);return w==null?E:E+w}}Ze.VARIABLE_LENGTH=[],Ze.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ze.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ze.VARIABLE_LENGTH,20],["22",Ze.VARIABLE_LENGTH,29],["30",Ze.VARIABLE_LENGTH,8],["37",Ze.VARIABLE_LENGTH,8],["90",Ze.VARIABLE_LENGTH,30],["91",Ze.VARIABLE_LENGTH,30],["92",Ze.VARIABLE_LENGTH,30],["93",Ze.VARIABLE_LENGTH,30],["94",Ze.VARIABLE_LENGTH,30],["95",Ze.VARIABLE_LENGTH,30],["96",Ze.VARIABLE_LENGTH,30],["97",Ze.VARIABLE_LENGTH,3],["98",Ze.VARIABLE_LENGTH,30],["99",Ze.VARIABLE_LENGTH,30]],Ze.THREE_DIGIT_DATA_LENGTH=[["240",Ze.VARIABLE_LENGTH,30],["241",Ze.VARIABLE_LENGTH,30],["242",Ze.VARIABLE_LENGTH,6],["250",Ze.VARIABLE_LENGTH,30],["251",Ze.VARIABLE_LENGTH,30],["253",Ze.VARIABLE_LENGTH,17],["254",Ze.VARIABLE_LENGTH,20],["400",Ze.VARIABLE_LENGTH,30],["401",Ze.VARIABLE_LENGTH,30],["402",17],["403",Ze.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ze.VARIABLE_LENGTH,20],["421",Ze.VARIABLE_LENGTH,15],["422",3],["423",Ze.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ze.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ze.VARIABLE_LENGTH,15],["391",Ze.VARIABLE_LENGTH,18],["392",Ze.VARIABLE_LENGTH,15],["393",Ze.VARIABLE_LENGTH,18],["703",Ze.VARIABLE_LENGTH,30]],Ze.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ze.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ze.VARIABLE_LENGTH,20],["8003",Ze.VARIABLE_LENGTH,30],["8004",Ze.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ze.VARIABLE_LENGTH,30],["8008",Ze.VARIABLE_LENGTH,12],["8018",18],["8020",Ze.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ze.VARIABLE_LENGTH,70],["8200",Ze.VARIABLE_LENGTH,70]];class gs{constructor(s){this.buffer=new ee,this.information=s}decodeAllCodes(s,l){let d=l,x=null;do{let h=this.decodeGeneralPurposeField(d,x),p=Ze.parseFieldsInGeneralPurpose(h.getNewString());if(p!=null&&s.append(p),h.isRemaining()?x=""+h.getRemainingValue():x=null,d===h.getNewPosition())break;d=h.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let l=s;l<s+3;++l)if(this.information.get(l))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let h=this.extractNumericValueFromBitArray(s,4);return h===0?new Rn(this.information.getSize(),Rn.FNC1,Rn.FNC1):new Rn(this.information.getSize(),h-1,Rn.FNC1)}let l=this.extractNumericValueFromBitArray(s,7),d=(l-8)/11,x=(l-8)%11;return new Rn(s+7,d,x)}extractNumericValueFromBitArray(s,l){return gs.extractNumericValueFromBitArray(this.information,s,l)}static extractNumericValueFromBitArray(s,l,d){let x=0;for(let h=0;h<d;++h)s.get(l+h)&&(x|=1<<d-h-1);return x}decodeGeneralPurposeField(s,l){this.buffer.setLengthToZero(),l!=null&&this.buffer.append(l),this.current.setPosition(s);let d=this.parseBlocks();return d!=null&&d.isRemaining()?new $r(this.current.getPosition(),this.buffer.toString(),d.getRemainingValue()):new $r(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,l;do{let d=this.current.getPosition();if(this.current.isAlpha()?(l=this.parseAlphaBlock(),s=l.isFinished()):this.current.isIsoIec646()?(l=this.parseIsoIec646Block(),s=l.isFinished()):(l=this.parseNumericBlock(),s=l.isFinished()),!(d!==this.current.getPosition())&&!s)break}while(!s);return l.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let l;return s.isSecondDigitFNC1()?l=new $r(this.current.getPosition(),this.buffer.toString()):l=new $r(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new ur(!0,l)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let l=new $r(this.current.getPosition(),this.buffer.toString());return new ur(!0,l)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ur(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let l=new $r(this.current.getPosition(),this.buffer.toString());return new ur(!0,l)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ur(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let l=new $r(this.current.getPosition(),this.buffer.toString());return new ur(!0,l)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ur(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,5);if(l>=5&&l<16)return!0;if(s+7>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(s,7);if(d>=64&&d<116)return!0;if(s+8>this.information.getSize())return!1;let x=this.extractNumericValueFromBitArray(s,8);return x>=232&&x<253}decodeIsoIec646(s){let l=this.extractNumericValueFromBitArray(s,5);if(l===15)return new fn(s+5,fn.FNC1);if(l>=5&&l<15)return new fn(s+5,"0"+(l-5));let d=this.extractNumericValueFromBitArray(s,7);if(d>=64&&d<90)return new fn(s+7,""+(d+1));if(d>=90&&d<116)return new fn(s+7,""+(d+7));let x=this.extractNumericValueFromBitArray(s,8),h;switch(x){case 232:h="!";break;case 233:h='"';break;case 234:h="%";break;case 235:h="&";break;case 236:h="'";break;case 237:h="(";break;case 238:h=")";break;case 239:h="*";break;case 240:h="+";break;case 241:h=",";break;case 242:h="-";break;case 243:h=".";break;case 244:h="/";break;case 245:h=":";break;case 246:h=";";break;case 247:h="<";break;case 248:h="=";break;case 249:h=">";break;case 250:h="?";break;case 251:h="_";break;case 252:h=" ";break;default:throw new O}return new fn(s+8,h)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,5);if(l>=5&&l<16)return!0;if(s+6>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(s,6);return d>=16&&d<63}decodeAlphanumeric(s){let l=this.extractNumericValueFromBitArray(s,5);if(l===15)return new fn(s+5,fn.FNC1);if(l>=5&&l<15)return new fn(s+5,"0"+(l-5));let d=this.extractNumericValueFromBitArray(s,6);if(d>=32&&d<58)return new fn(s+6,""+(d+33));let x;switch(d){case 58:x="*";break;case 59:x=",";break;case 60:x="-";break;case 61:x=".";break;case 62:x="/";break;default:throw new L("Decoding invalid alphanumeric value: "+d)}return new fn(s+6,x)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let l=0;l<5&&l+s<this.information.getSize();++l)if(l===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+l))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let l=s;l<s+3;++l)if(this.information.get(l))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let l=0;l<4&&l+s<this.information.getSize();++l)if(this.information.get(s+l))return!1;return!0}}class mo{constructor(s){this.information=s,this.generalDecoder=new gs(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Dn extends mo{constructor(s){super(s)}encodeCompressedGtin(s,l){s.append("(01)");let d=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,l,d)}encodeCompressedGtinWithoutAI(s,l,d){for(let x=0;x<4;++x){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(l+10*x,10);h/100===0&&s.append("0"),h/10===0&&s.append("0"),s.append(h)}Dn.appendCheckDigit(s,d)}static appendCheckDigit(s,l){let d=0;for(let x=0;x<13;x++){let h=s.charAt(x+l).charCodeAt(0)-48;d+=(x&1)===0?3*h:h}d=10-d%10,d===10&&(d=0),s.append(d)}}Dn.GTIN_SIZE=40;class Xr extends Dn{constructor(s){super(s)}parseInformation(){let s=new ee;s.append("(01)");let l=s.length(),d=this.getGeneralDecoder().extractNumericValueFromBitArray(Xr.HEADER_SIZE,4);return s.append(d),this.encodeCompressedGtinWithoutAI(s,Xr.HEADER_SIZE+4,l),this.getGeneralDecoder().decodeAllCodes(s,Xr.HEADER_SIZE+44)}}Xr.HEADER_SIZE=4;class yo extends mo{constructor(s){super(s)}parseInformation(){let s=new ee;return this.getGeneralDecoder().decodeAllCodes(s,yo.HEADER_SIZE)}}yo.HEADER_SIZE=5;class Jo extends Dn{constructor(s){super(s)}encodeCompressedWeight(s,l,d){let x=this.getGeneralDecoder().extractNumericValueFromBitArray(l,d);this.addWeightCode(s,x);let h=this.checkWeight(x),p=1e5;for(let b=0;b<5;++b)h/p===0&&s.append("0"),p/=10;s.append(h)}}class Xn extends Jo{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=Xn.HEADER_SIZE+Jo.GTIN_SIZE+Xn.WEIGHT_SIZE)throw new J;let s=new ee;return this.encodeCompressedGtin(s,Xn.HEADER_SIZE),this.encodeCompressedWeight(s,Xn.HEADER_SIZE+Jo.GTIN_SIZE,Xn.WEIGHT_SIZE),s.toString()}}Xn.HEADER_SIZE=5,Xn.WEIGHT_SIZE=15;class Ns extends Xn{constructor(s){super(s)}addWeightCode(s,l){s.append("(3103)")}checkWeight(s){return s}}class ei extends Xn{constructor(s){super(s)}addWeightCode(s,l){l<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class vr extends Dn{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<vr.HEADER_SIZE+Dn.GTIN_SIZE)throw new J;let s=new ee;this.encodeCompressedGtin(s,vr.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(vr.HEADER_SIZE+Dn.GTIN_SIZE,vr.LAST_DIGIT_SIZE);s.append("(392"),s.append(l),s.append(")");let d=this.getGeneralDecoder().decodeGeneralPurposeField(vr.HEADER_SIZE+Dn.GTIN_SIZE+vr.LAST_DIGIT_SIZE,null);return s.append(d.getNewString()),s.toString()}}vr.HEADER_SIZE=8,vr.LAST_DIGIT_SIZE=2;class vn extends Dn{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<vn.HEADER_SIZE+Dn.GTIN_SIZE)throw new J;let s=new ee;this.encodeCompressedGtin(s,vn.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(vn.HEADER_SIZE+Dn.GTIN_SIZE,vn.LAST_DIGIT_SIZE);s.append("(393"),s.append(l),s.append(")");let d=this.getGeneralDecoder().extractNumericValueFromBitArray(vn.HEADER_SIZE+Dn.GTIN_SIZE+vn.LAST_DIGIT_SIZE,vn.FIRST_THREE_DIGITS_SIZE);d/100==0&&s.append("0"),d/10==0&&s.append("0"),s.append(d);let x=this.getGeneralDecoder().decodeGeneralPurposeField(vn.HEADER_SIZE+Dn.GTIN_SIZE+vn.LAST_DIGIT_SIZE+vn.FIRST_THREE_DIGITS_SIZE,null);return s.append(x.getNewString()),s.toString()}}vn.HEADER_SIZE=8,vn.LAST_DIGIT_SIZE=2,vn.FIRST_THREE_DIGITS_SIZE=10;class en extends Jo{constructor(s,l,d){super(s),this.dateCode=d,this.firstAIdigits=l}parseInformation(){if(this.getInformation().getSize()!=en.HEADER_SIZE+en.GTIN_SIZE+en.WEIGHT_SIZE+en.DATE_SIZE)throw new J;let s=new ee;return this.encodeCompressedGtin(s,en.HEADER_SIZE),this.encodeCompressedWeight(s,en.HEADER_SIZE+en.GTIN_SIZE,en.WEIGHT_SIZE),this.encodeCompressedDate(s,en.HEADER_SIZE+en.GTIN_SIZE+en.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,l){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(l,en.DATE_SIZE);if(d==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let x=d%32;d/=32;let h=d%12+1;d/=12;let p=d;p/10==0&&s.append("0"),s.append(p),h/10==0&&s.append("0"),s.append(h),x/10==0&&s.append("0"),s.append(x)}addWeightCode(s,l){s.append("("),s.append(this.firstAIdigits),s.append(l/1e5),s.append(")")}checkWeight(s){return s%1e5}}en.HEADER_SIZE=8,en.WEIGHT_SIZE=20,en.DATE_SIZE=16;function zx(H){try{if(H.get(1))return new Xr(H);if(!H.get(2))return new yo(H);switch(gs.extractNumericValueFromBitArray(H,1,4)){case 4:return new Ns(H);case 5:return new ei(H)}switch(gs.extractNumericValueFromBitArray(H,1,5)){case 12:return new vr(H);case 13:return new vn(H)}switch(gs.extractNumericValueFromBitArray(H,1,7)){case 56:return new en(H,"310","11");case 57:return new en(H,"320","11");case 58:return new en(H,"310","13");case 59:return new en(H,"320","13");case 60:return new en(H,"310","15");case 61:return new en(H,"320","15");case 62:return new en(H,"310","17");case 63:return new en(H,"320","17")}}catch(s){throw console.log(s),new L("unknown decoder: "+H)}}class Ls{constructor(s,l,d,x){this.leftchar=s,this.rightchar=l,this.finderpattern=d,this.maybeLast=x}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,l){return s instanceof Ls?Ls.equalsOrNull(s.leftchar,l.leftchar)&&Ls.equalsOrNull(s.rightchar,l.rightchar)&&Ls.equalsOrNull(s.finderpattern,l.finderpattern):!1}static equalsOrNull(s,l){return s===null?l===null:Ls.equals(s,l)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Q0{constructor(s,l,d){this.pairs=s,this.rowNumber=l,this.wasReversed=d}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,l){return s instanceof Q0?this.checkEqualitity(s,l)&&s.wasReversed===l.wasReversed:!1}checkEqualitity(s,l){if(!s||!l)return;let d;return s.forEach((x,h)=>{l.forEach(p=>{x.getLeftChar().getValue()===p.getLeftChar().getValue()&&x.getRightChar().getValue()===p.getRightChar().getValue()&&x.getFinderPatter().getValue()===p.getFinderPatter().getValue()&&(d=!0)})}),d}}class Le extends tn{constructor(s){super(...arguments),this.pairs=new Array(Le.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,l,d){this.pairs.length=0,this.startFromEven=!1;try{return Le.constructResult(this.decodeRow2pairs(s,l))}catch(x){this.verbose&&console.log(x)}return this.pairs.length=0,this.startFromEven=!0,Le.constructResult(this.decodeRow2pairs(s,l))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,l){let d=!1;for(;!d;)try{this.pairs.push(this.retrieveNextPair(l,this.pairs,s))}catch(h){if(h instanceof J){if(!this.pairs.length)throw new J;d=!0}}if(this.checkChecksum())return this.pairs;let x;if(this.rows.length?x=!0:x=!1,this.storeRow(s,!1),x){let h=this.checkRowsBoolean(!1);if(h!=null||(h=this.checkRowsBoolean(!0),h!=null))return h}throw new J}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let l=null;try{l=this.checkRows(new Array,0)}catch(d){this.verbose&&console.log(d)}return s&&(this.rows=this.rows.reverse()),l}checkRows(s,l){for(let d=l;d<this.rows.length;d++){let x=this.rows[d];this.pairs.length=0;for(let p of s)this.pairs.push(p.getPairs());if(this.pairs.push(x.getPairs()),!Le.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let h=new Array(s);h.push(x);try{return this.checkRows(h,d+1)}catch(p){this.verbose&&console.log(p)}}throw new J}static isValidSequence(s){for(let l of Le.FINDER_PATTERN_SEQUENCES){if(s.length>l.length)continue;let d=!0;for(let x=0;x<s.length;x++)if(s[x].getFinderPattern().getValue()!=l[x]){d=!1;break}if(d)return!0}return!1}storeRow(s,l){let d=0,x=!1,h=!1;for(;d<this.rows.length;){let p=this.rows[d];if(p.getRowNumber()>s){h=p.isEquivalent(this.pairs);break}x=p.isEquivalent(this.pairs),d++}h||x||Le.isPartialRow(this.pairs,this.rows)||(this.rows.push(d,new Q0(this.pairs,s,l)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,l){for(let d of l)if(d.getPairs().length!==s.length){for(let x of d.getPairs())for(let h of s)if(Ls.equals(x,h))break}}static isPartialRow(s,l){for(let d of l){let x=!0;for(let h of s){let p=!1;for(let b of d.getPairs())if(h.equals(b)){p=!0;break}if(!p){x=!1;break}}if(x)return!0}return!1}getRows(){return this.rows}static constructResult(s){let l=rl.buildBitArray(s),x=zx(l).parseInformation(),h=s[0].getFinderPattern().getResultPoints(),p=s[s.length-1].getFinderPattern().getResultPoints(),b=[h[0],h[1],p[0],p[1]];return new ye(x,null,null,b,le.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),l=s.getLeftChar(),d=s.getRightChar();if(d==null)return!1;let x=d.getChecksumPortion(),h=2;for(let b=1;b<this.pairs.size();++b){let E=this.pairs.get(b);x+=E.getLeftChar().getChecksumPortion(),h++;let w=E.getRightChar();w!=null&&(x+=w.getChecksumPortion(),h++)}return x%=211,211*(h-4)+x==l.getValue()}static getNextSecondBar(s,l){let d;return s.get(l)?(d=s.getNextUnset(l),d=s.getNextSet(d)):(d=s.getNextSet(l),d=s.getNextUnset(d)),d}retrieveNextPair(s,l,d){let x=l.length%2==0;this.startFromEven&&(x=!x);let h,p=!0,b=-1;do this.findNextPair(s,l,b),h=this.parseFoundFinderPattern(s,d,x),h==null?b=Le.getNextSecondBar(s,this.startEnd[0]):p=!1;while(p);let E=this.decodeDataCharacter(s,h,x,!0);if(!this.isEmptyPair(l)&&l[l.length-1].mustBeLast())throw new J;let w;try{w=this.decodeDataCharacter(s,h,x,!1)}catch(I){w=null,this.verbose&&console.log(I)}return new Ls(E,w,h,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,l,d){let x=this.getDecodeFinderCounters();x[0]=0,x[1]=0,x[2]=0,x[3]=0;let h=s.getSize(),p;d>=0?p=d:this.isEmptyPair(l)?p=0:p=l[l.length-1].getFinderPattern().getStartEnd()[1];let b=l.length%2!=0;this.startFromEven&&(b=!b);let E=!1;for(;p<h&&(E=!s.get(p),!!E);)p++;let w=0,I=p;for(let V=p;V<h;V++)if(s.get(V)!=E)x[w]++;else{if(w==3){if(b&&Le.reverseCounters(x),Le.isFinderPattern(x)){this.startEnd[0]=I,this.startEnd[1]=V;return}b&&Le.reverseCounters(x),I+=x[0]+x[1],x[0]=x[2],x[1]=x[3],x[2]=0,x[3]=0,w--}else w++;x[w]=1,E=!E}throw new J}static reverseCounters(s){let l=s.length;for(let d=0;d<l/2;++d){let x=s[d];s[d]=s[l-d-1],s[l-d-1]=x}}parseFoundFinderPattern(s,l,d){let x,h,p;if(d){let w=this.startEnd[0]-1;for(;w>=0&&!s.get(w);)w--;w++,x=this.startEnd[0]-w,h=w,p=this.startEnd[1]}else h=this.startEnd[0],p=s.getNextUnset(this.startEnd[1]+1),x=p-this.startEnd[1];let b=this.getDecodeFinderCounters();D.arraycopy(b,0,b,1,b.length-1),b[0]=x;let E;try{E=this.parseFinderValue(b,Le.FINDER_PATTERNS)}catch{return null}return new go(E,[h,p],h,p,l)}decodeDataCharacter(s,l,d,x){let h=this.getDataCharacterCounters();for(let qt=0;qt<h.length;qt++)h[qt]=0;if(x)Le.recordPatternInReverse(s,l.getStartEnd()[0],h);else{Le.recordPattern(s,l.getStartEnd()[1],h);for(let qt=0,Sn=h.length-1;qt<Sn;qt++,Sn--){let xr=h[qt];h[qt]=h[Sn],h[Sn]=xr}}let p=17,b=ue.sum(new Int32Array(h))/p,E=(l.getStartEnd()[1]-l.getStartEnd()[0])/15;if(Math.abs(b-E)/E>.3)throw new J;let w=this.getOddCounts(),I=this.getEvenCounts(),V=this.getOddRoundingErrors(),K=this.getEvenRoundingErrors();for(let qt=0;qt<h.length;qt++){let Sn=1*h[qt]/b,xr=Sn+.5;if(xr<1){if(Sn<.3)throw new J;xr=1}else if(xr>8){if(Sn>8.7)throw new J;xr=8}let oi=qt/2;(qt&1)==0?(w[oi]=xr,V[oi]=Sn-xr):(I[oi]=xr,K[oi]=Sn-xr)}this.adjustOddEvenCounts(p);let oe=4*l.getValue()+(d?0:2)+(x?0:1)-1,xe=0,pe=0;for(let qt=w.length-1;qt>=0;qt--){if(Le.isNotA1left(l,d,x)){let Sn=Le.WEIGHTS[oe][2*qt];pe+=w[qt]*Sn}xe+=w[qt]}let De=0;for(let qt=I.length-1;qt>=0;qt--)if(Le.isNotA1left(l,d,x)){let Sn=Le.WEIGHTS[oe][2*qt+1];De+=I[qt]*Sn}let Te=pe+De;if((xe&1)!=0||xe>13||xe<4)throw new J;let Ue=(13-xe)/2,qe=Le.SYMBOL_WIDEST[Ue],je=9-qe,vt=dr.getRSSvalue(w,qe,!0),xt=dr.getRSSvalue(I,je,!1),Jn=Le.EVEN_TOTAL_SUBSET[Ue],jr=Le.GSUM[Ue],er=vt*Jn+xt+jr;return new En(er,Te)}static isNotA1left(s,l,d){return!(s.getValue()==0&&l&&d)}adjustOddEvenCounts(s){let l=ue.sum(new Int32Array(this.getOddCounts())),d=ue.sum(new Int32Array(this.getEvenCounts())),x=!1,h=!1;l>13?h=!0:l<4&&(x=!0);let p=!1,b=!1;d>13?b=!0:d<4&&(p=!0);let E=l+d-s,w=(l&1)==1,I=(d&1)==0;if(E==1)if(w){if(I)throw new J;h=!0}else{if(!I)throw new J;b=!0}else if(E==-1)if(w){if(I)throw new J;x=!0}else{if(!I)throw new J;p=!0}else if(E==0){if(w){if(!I)throw new J;l<d?(x=!0,b=!0):(h=!0,p=!0)}else if(I)throw new J}else throw new J;if(x){if(h)throw new J;Le.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&Le.decrement(this.getOddCounts(),this.getOddRoundingErrors()),p){if(b)throw new J;Le.increment(this.getEvenCounts(),this.getOddRoundingErrors())}b&&Le.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Le.SYMBOL_WIDEST=[7,5,4,3,1],Le.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Le.GSUM=[0,348,1388,2948,3988],Le.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Le.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Le.FINDER_PAT_A=0,Le.FINDER_PAT_B=1,Le.FINDER_PAT_C=2,Le.FINDER_PAT_D=3,Le.FINDER_PAT_E=4,Le.FINDER_PAT_F=5,Le.FINDER_PATTERN_SEQUENCES=[[Le.FINDER_PAT_A,Le.FINDER_PAT_A],[Le.FINDER_PAT_A,Le.FINDER_PAT_B,Le.FINDER_PAT_B],[Le.FINDER_PAT_A,Le.FINDER_PAT_C,Le.FINDER_PAT_B,Le.FINDER_PAT_D],[Le.FINDER_PAT_A,Le.FINDER_PAT_E,Le.FINDER_PAT_B,Le.FINDER_PAT_D,Le.FINDER_PAT_C],[Le.FINDER_PAT_A,Le.FINDER_PAT_E,Le.FINDER_PAT_B,Le.FINDER_PAT_D,Le.FINDER_PAT_D,Le.FINDER_PAT_F],[Le.FINDER_PAT_A,Le.FINDER_PAT_E,Le.FINDER_PAT_B,Le.FINDER_PAT_D,Le.FINDER_PAT_E,Le.FINDER_PAT_F,Le.FINDER_PAT_F],[Le.FINDER_PAT_A,Le.FINDER_PAT_A,Le.FINDER_PAT_B,Le.FINDER_PAT_B,Le.FINDER_PAT_C,Le.FINDER_PAT_C,Le.FINDER_PAT_D,Le.FINDER_PAT_D],[Le.FINDER_PAT_A,Le.FINDER_PAT_A,Le.FINDER_PAT_B,Le.FINDER_PAT_B,Le.FINDER_PAT_C,Le.FINDER_PAT_C,Le.FINDER_PAT_D,Le.FINDER_PAT_E,Le.FINDER_PAT_E],[Le.FINDER_PAT_A,Le.FINDER_PAT_A,Le.FINDER_PAT_B,Le.FINDER_PAT_B,Le.FINDER_PAT_C,Le.FINDER_PAT_C,Le.FINDER_PAT_D,Le.FINDER_PAT_E,Le.FINDER_PAT_F,Le.FINDER_PAT_F],[Le.FINDER_PAT_A,Le.FINDER_PAT_A,Le.FINDER_PAT_B,Le.FINDER_PAT_B,Le.FINDER_PAT_C,Le.FINDER_PAT_D,Le.FINDER_PAT_D,Le.FINDER_PAT_E,Le.FINDER_PAT_E,Le.FINDER_PAT_F,Le.FINDER_PAT_F]],Le.MAX_PAIRS=11;class b8 extends En{constructor(s,l,d){super(s,l),this.count=0,this.finderPattern=d}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class sn extends tn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,l,d){const x=this.decodePair(l,!1,s,d);sn.addOrTally(this.possibleLeftPairs,x),l.reverse();let h=this.decodePair(l,!0,s,d);sn.addOrTally(this.possibleRightPairs,h),l.reverse();for(let p of this.possibleLeftPairs)if(p.getCount()>1){for(let b of this.possibleRightPairs)if(b.getCount()>1&&sn.checkChecksum(p,b))return sn.constructResult(p,b)}throw new J}static addOrTally(s,l){if(l==null)return;let d=!1;for(let x of s)if(x.getValue()===l.getValue()){x.incrementCount(),d=!0;break}d||s.push(l)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,l){let d=4537077*s.getValue()+l.getValue(),x=new String(d).toString(),h=new ee;for(let w=13-x.length;w>0;w--)h.append("0");h.append(x);let p=0;for(let w=0;w<13;w++){let I=h.charAt(w).charCodeAt(0)-48;p+=(w&1)===0?3*I:I}p=10-p%10,p===10&&(p=0),h.append(p.toString());let b=s.getFinderPattern().getResultPoints(),E=l.getFinderPattern().getResultPoints();return new ye(h.toString(),null,0,[b[0],b[1],E[0],E[1]],le.RSS_14,new Date().getTime())}static checkChecksum(s,l){let d=(s.getChecksumPortion()+16*l.getChecksumPortion())%79,x=9*s.getFinderPattern().getValue()+l.getFinderPattern().getValue();return x>72&&x--,x>8&&x--,d===x}decodePair(s,l,d,x){try{let h=this.findFinderPattern(s,l),p=this.parseFoundFinderPattern(s,d,l,h),b=x==null?null:x.get($.NEED_RESULT_POINT_CALLBACK);if(b!=null){let I=(h[0]+h[1])/2;l&&(I=s.getSize()-1-I),b.foundPossibleResultPoint(new te(I,d))}let E=this.decodeDataCharacter(s,p,!0),w=this.decodeDataCharacter(s,p,!1);return new b8(1597*E.getValue()+w.getValue(),E.getChecksumPortion()+4*w.getChecksumPortion(),p)}catch{return null}}decodeDataCharacter(s,l,d){let x=this.getDataCharacterCounters();for(let De=0;De<x.length;De++)x[De]=0;if(d)Et.recordPatternInReverse(s,l.getStartEnd()[0],x);else{Et.recordPattern(s,l.getStartEnd()[1]+1,x);for(let De=0,Te=x.length-1;De<Te;De++,Te--){let Ue=x[De];x[De]=x[Te],x[Te]=Ue}}let h=d?16:15,p=ue.sum(new Int32Array(x))/h,b=this.getOddCounts(),E=this.getEvenCounts(),w=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let De=0;De<x.length;De++){let Te=x[De]/p,Ue=Math.floor(Te+.5);Ue<1?Ue=1:Ue>8&&(Ue=8);let qe=Math.floor(De/2);(De&1)===0?(b[qe]=Ue,w[qe]=Te-Ue):(E[qe]=Ue,I[qe]=Te-Ue)}this.adjustOddEvenCounts(d,h);let V=0,K=0;for(let De=b.length-1;De>=0;De--)K*=9,K+=b[De],V+=b[De];let oe=0,xe=0;for(let De=E.length-1;De>=0;De--)oe*=9,oe+=E[De],xe+=E[De];let pe=K+3*oe;if(d){if((V&1)!==0||V>12||V<4)throw new J;let De=(12-V)/2,Te=sn.OUTSIDE_ODD_WIDEST[De],Ue=9-Te,qe=dr.getRSSvalue(b,Te,!1),je=dr.getRSSvalue(E,Ue,!0),vt=sn.OUTSIDE_EVEN_TOTAL_SUBSET[De],xt=sn.OUTSIDE_GSUM[De];return new En(qe*vt+je+xt,pe)}else{if((xe&1)!==0||xe>10||xe<4)throw new J;let De=(10-xe)/2,Te=sn.INSIDE_ODD_WIDEST[De],Ue=9-Te,qe=dr.getRSSvalue(b,Te,!0),je=dr.getRSSvalue(E,Ue,!1),vt=sn.INSIDE_ODD_TOTAL_SUBSET[De],xt=sn.INSIDE_GSUM[De];return new En(je*vt+qe+xt,pe)}}findFinderPattern(s,l){let d=this.getDecodeFinderCounters();d[0]=0,d[1]=0,d[2]=0,d[3]=0;let x=s.getSize(),h=!1,p=0;for(;p<x&&(h=!s.get(p),l!==h);)p++;let b=0,E=p;for(let w=p;w<x;w++)if(s.get(w)!==h)d[b]++;else{if(b===3){if(tn.isFinderPattern(d))return[E,w];E+=d[0]+d[1],d[0]=d[2],d[1]=d[3],d[2]=0,d[3]=0,b--}else b++;d[b]=1,h=!h}throw new J}parseFoundFinderPattern(s,l,d,x){let h=s.get(x[0]),p=x[0]-1;for(;p>=0&&h!==s.get(p);)p--;p++;const b=x[0]-p,E=this.getDecodeFinderCounters(),w=new Int32Array(E.length);D.arraycopy(E,0,w,1,E.length-1),w[0]=b;const I=this.parseFinderValue(w,sn.FINDER_PATTERNS);let V=p,K=x[1];return d&&(V=s.getSize()-1-V,K=s.getSize()-1-K),new go(I,[p,x[1]],V,K,l)}adjustOddEvenCounts(s,l){let d=ue.sum(new Int32Array(this.getOddCounts())),x=ue.sum(new Int32Array(this.getEvenCounts())),h=!1,p=!1,b=!1,E=!1;s?(d>12?p=!0:d<4&&(h=!0),x>12?E=!0:x<4&&(b=!0)):(d>11?p=!0:d<5&&(h=!0),x>10?E=!0:x<4&&(b=!0));let w=d+x-l,I=(d&1)===(s?1:0),V=(x&1)===1;if(w===1)if(I){if(V)throw new J;p=!0}else{if(!V)throw new J;E=!0}else if(w===-1)if(I){if(V)throw new J;h=!0}else{if(!V)throw new J;b=!0}else if(w===0){if(I){if(!V)throw new J;d<x?(h=!0,E=!0):(p=!0,b=!0)}else if(V)throw new J}else throw new J;if(h){if(p)throw new J;tn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(p&&tn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),b){if(E)throw new J;tn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}E&&tn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}sn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],sn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],sn.OUTSIDE_GSUM=[0,161,961,2015,2715],sn.INSIDE_GSUM=[0,336,1036,1516],sn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],sn.INSIDE_ODD_WIDEST=[2,4,6,8],sn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ti extends Et{constructor(s,l){super(),this.readers=[],this.verbose=l===!0;const d=s?s.get($.POSSIBLE_FORMATS):null,x=s&&s.get($.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;d?((d.includes(le.EAN_13)||d.includes(le.UPC_A)||d.includes(le.EAN_8)||d.includes(le.UPC_E))&&this.readers.push(new ho(s)),d.includes(le.CODE_39)&&this.readers.push(new zt(x)),d.includes(le.CODE_128)&&this.readers.push(new Ve),d.includes(le.ITF)&&this.readers.push(new Ee),d.includes(le.RSS_14)&&this.readers.push(new sn),d.includes(le.RSS_EXPANDED)&&this.readers.push(new Le(this.verbose))):(this.readers.push(new ho(s)),this.readers.push(new zt),this.readers.push(new ho(s)),this.readers.push(new Ve),this.readers.push(new Ee),this.readers.push(new sn),this.readers.push(new Le(this.verbose)))}decodeRow(s,l,d){for(let x=0;x<this.readers.length;x++)try{return this.readers[x].decodeRow(s,l,d)}catch{}throw new J}reset(){this.readers.forEach(s=>s.reset())}}class E8 extends re{constructor(s=500,l){super(new ti(l),s,l)}}class It{constructor(s,l,d){this.ecCodewords=s,this.ecBlocks=[l],d&&this.ecBlocks.push(d)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ft{constructor(s,l){this.count=s,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ct{constructor(s,l,d,x,h,p){this.versionNumber=s,this.symbolSizeRows=l,this.symbolSizeColumns=d,this.dataRegionSizeRows=x,this.dataRegionSizeColumns=h,this.ecBlocks=p;let b=0;const E=p.getECCodewords(),w=p.getECBlocks();for(let I of w)b+=I.getCount()*(I.getDataCodewords()+E);this.totalCodewords=b}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,l){if((s&1)!==0||(l&1)!==0)throw new O;for(let d of Ct.VERSIONS)if(d.symbolSizeRows===s&&d.symbolSizeColumns===l)return d;throw new O}toString(){return""+this.versionNumber}static buildVersions(){return[new Ct(1,10,10,8,8,new It(5,new Ft(1,3))),new Ct(2,12,12,10,10,new It(7,new Ft(1,5))),new Ct(3,14,14,12,12,new It(10,new Ft(1,8))),new Ct(4,16,16,14,14,new It(12,new Ft(1,12))),new Ct(5,18,18,16,16,new It(14,new Ft(1,18))),new Ct(6,20,20,18,18,new It(18,new Ft(1,22))),new Ct(7,22,22,20,20,new It(20,new Ft(1,30))),new Ct(8,24,24,22,22,new It(24,new Ft(1,36))),new Ct(9,26,26,24,24,new It(28,new Ft(1,44))),new Ct(10,32,32,14,14,new It(36,new Ft(1,62))),new Ct(11,36,36,16,16,new It(42,new Ft(1,86))),new Ct(12,40,40,18,18,new It(48,new Ft(1,114))),new Ct(13,44,44,20,20,new It(56,new Ft(1,144))),new Ct(14,48,48,22,22,new It(68,new Ft(1,174))),new Ct(15,52,52,24,24,new It(42,new Ft(2,102))),new Ct(16,64,64,14,14,new It(56,new Ft(2,140))),new Ct(17,72,72,16,16,new It(36,new Ft(4,92))),new Ct(18,80,80,18,18,new It(48,new Ft(4,114))),new Ct(19,88,88,20,20,new It(56,new Ft(4,144))),new Ct(20,96,96,22,22,new It(68,new Ft(4,174))),new Ct(21,104,104,24,24,new It(56,new Ft(6,136))),new Ct(22,120,120,18,18,new It(68,new Ft(6,175))),new Ct(23,132,132,20,20,new It(62,new Ft(8,163))),new Ct(24,144,144,22,22,new It(62,new Ft(8,156),new Ft(2,155))),new Ct(25,8,18,6,16,new It(7,new Ft(1,5))),new Ct(26,8,32,6,14,new It(11,new Ft(1,10))),new Ct(27,12,26,10,24,new It(14,new Ft(1,16))),new Ct(28,12,36,10,16,new It(18,new Ft(1,22))),new Ct(29,16,36,14,16,new It(24,new Ft(1,32))),new Ct(30,16,48,14,22,new It(28,new Ft(1,49)))]}}Ct.VERSIONS=Ct.buildVersions();class K0{constructor(s){const l=s.getHeight();if(l<8||l>144||(l&1)!==0)throw new O;this.version=K0.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new se(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const l=s.getHeight(),d=s.getWidth();return Ct.getVersionForDimensions(l,d)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let l=0,d=4,x=0;const h=this.mappingBitMatrix.getHeight(),p=this.mappingBitMatrix.getWidth();let b=!1,E=!1,w=!1,I=!1;do if(d===h&&x===0&&!b)s[l++]=this.readCorner1(h,p)&255,d-=2,x+=2,b=!0;else if(d===h-2&&x===0&&(p&3)!==0&&!E)s[l++]=this.readCorner2(h,p)&255,d-=2,x+=2,E=!0;else if(d===h+4&&x===2&&(p&7)===0&&!w)s[l++]=this.readCorner3(h,p)&255,d-=2,x+=2,w=!0;else if(d===h-2&&x===0&&(p&7)===4&&!I)s[l++]=this.readCorner4(h,p)&255,d-=2,x+=2,I=!0;else{do d<h&&x>=0&&!this.readMappingMatrix.get(x,d)&&(s[l++]=this.readUtah(d,x,h,p)&255),d-=2,x+=2;while(d>=0&&x<p);d+=1,x+=3;do d>=0&&x<p&&!this.readMappingMatrix.get(x,d)&&(s[l++]=this.readUtah(d,x,h,p)&255),d+=2,x-=2;while(d<h&&x>=0);d+=3,x+=1}while(d<h||x<p);if(l!==this.version.getTotalCodewords())throw new O;return s}readModule(s,l,d,x){return s<0&&(s+=d,l+=4-(d+4&7)),l<0&&(l+=x,s+=4-(x+4&7)),this.readMappingMatrix.set(l,s),this.mappingBitMatrix.get(l,s)}readUtah(s,l,d,x){let h=0;return this.readModule(s-2,l-2,d,x)&&(h|=1),h<<=1,this.readModule(s-2,l-1,d,x)&&(h|=1),h<<=1,this.readModule(s-1,l-2,d,x)&&(h|=1),h<<=1,this.readModule(s-1,l-1,d,x)&&(h|=1),h<<=1,this.readModule(s-1,l,d,x)&&(h|=1),h<<=1,this.readModule(s,l-2,d,x)&&(h|=1),h<<=1,this.readModule(s,l-1,d,x)&&(h|=1),h<<=1,this.readModule(s,l,d,x)&&(h|=1),h}readCorner1(s,l){let d=0;return this.readModule(s-1,0,s,l)&&(d|=1),d<<=1,this.readModule(s-1,1,s,l)&&(d|=1),d<<=1,this.readModule(s-1,2,s,l)&&(d|=1),d<<=1,this.readModule(0,l-2,s,l)&&(d|=1),d<<=1,this.readModule(0,l-1,s,l)&&(d|=1),d<<=1,this.readModule(1,l-1,s,l)&&(d|=1),d<<=1,this.readModule(2,l-1,s,l)&&(d|=1),d<<=1,this.readModule(3,l-1,s,l)&&(d|=1),d}readCorner2(s,l){let d=0;return this.readModule(s-3,0,s,l)&&(d|=1),d<<=1,this.readModule(s-2,0,s,l)&&(d|=1),d<<=1,this.readModule(s-1,0,s,l)&&(d|=1),d<<=1,this.readModule(0,l-4,s,l)&&(d|=1),d<<=1,this.readModule(0,l-3,s,l)&&(d|=1),d<<=1,this.readModule(0,l-2,s,l)&&(d|=1),d<<=1,this.readModule(0,l-1,s,l)&&(d|=1),d<<=1,this.readModule(1,l-1,s,l)&&(d|=1),d}readCorner3(s,l){let d=0;return this.readModule(s-1,0,s,l)&&(d|=1),d<<=1,this.readModule(s-1,l-1,s,l)&&(d|=1),d<<=1,this.readModule(0,l-3,s,l)&&(d|=1),d<<=1,this.readModule(0,l-2,s,l)&&(d|=1),d<<=1,this.readModule(0,l-1,s,l)&&(d|=1),d<<=1,this.readModule(1,l-3,s,l)&&(d|=1),d<<=1,this.readModule(1,l-2,s,l)&&(d|=1),d<<=1,this.readModule(1,l-1,s,l)&&(d|=1),d}readCorner4(s,l){let d=0;return this.readModule(s-3,0,s,l)&&(d|=1),d<<=1,this.readModule(s-2,0,s,l)&&(d|=1),d<<=1,this.readModule(s-1,0,s,l)&&(d|=1),d<<=1,this.readModule(0,l-2,s,l)&&(d|=1),d<<=1,this.readModule(0,l-1,s,l)&&(d|=1),d<<=1,this.readModule(1,l-1,s,l)&&(d|=1),d<<=1,this.readModule(2,l-1,s,l)&&(d|=1),d<<=1,this.readModule(3,l-1,s,l)&&(d|=1),d}extractDataRegion(s){const l=this.version.getSymbolSizeRows(),d=this.version.getSymbolSizeColumns();if(s.getHeight()!==l)throw new y("Dimension of bitMatrix must match the version size");const x=this.version.getDataRegionSizeRows(),h=this.version.getDataRegionSizeColumns(),p=l/x|0,b=d/h|0,E=p*x,w=b*h,I=new se(w,E);for(let V=0;V<p;++V){const K=V*x;for(let oe=0;oe<b;++oe){const xe=oe*h;for(let pe=0;pe<x;++pe){const De=V*(x+2)+1+pe,Te=K+pe;for(let Ue=0;Ue<h;++Ue){const qe=oe*(h+2)+1+Ue;if(s.get(qe,De)){const je=xe+Ue;I.set(je,Te)}}}}}return I}}class Y0{constructor(s,l){this.numDataCodewords=s,this.codewords=l}static getDataBlocks(s,l){const d=l.getECBlocks();let x=0;const h=d.getECBlocks();for(let pe of h)x+=pe.getCount();const p=new Array(x);let b=0;for(let pe of h)for(let De=0;De<pe.getCount();De++){const Te=pe.getDataCodewords(),Ue=d.getECCodewords()+Te;p[b++]=new Y0(Te,new Uint8Array(Ue))}const w=p[0].codewords.length-d.getECCodewords(),I=w-1;let V=0;for(let pe=0;pe<I;pe++)for(let De=0;De<b;De++)p[De].codewords[pe]=s[V++];const K=l.getVersionNumber()===24,oe=K?8:b;for(let pe=0;pe<oe;pe++)p[pe].codewords[w-1]=s[V++];const xe=p[0].codewords.length;for(let pe=w;pe<xe;pe++)for(let De=0;De<b;De++){const Te=K?(De+8)%b:De,Ue=K&&Te>7?pe-1:pe;p[Te].codewords[Ue]=s[V++]}if(V!==s.length)throw new y;return p}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class X0{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new y(""+s);let l=0,d=this.bitOffset,x=this.byteOffset;const h=this.bytes;if(d>0){const p=8-d,b=s<p?s:p,E=p-b,w=255>>8-b<<E;l=(h[x]&w)>>E,s-=b,d+=b,d===8&&(d=0,x++)}if(s>0){for(;s>=8;)l=l<<8|h[x]&255,x++,s-=8;if(s>0){const p=8-s,b=255>>p<<p;l=l<<s|(h[x]&b)>>p,d+=s}}return this.bitOffset=d,this.byteOffset=x,l}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var hn;(function(H){H[H.PAD_ENCODE=0]="PAD_ENCODE",H[H.ASCII_ENCODE=1]="ASCII_ENCODE",H[H.C40_ENCODE=2]="C40_ENCODE",H[H.TEXT_ENCODE=3]="TEXT_ENCODE",H[H.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",H[H.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",H[H.BASE256_ENCODE=6]="BASE256_ENCODE"})(hn||(hn={}));class $s{static decode(s){const l=new X0(s),d=new ee,x=new ee,h=new Array;let p=hn.ASCII_ENCODE;do if(p===hn.ASCII_ENCODE)p=this.decodeAsciiSegment(l,d,x);else{switch(p){case hn.C40_ENCODE:this.decodeC40Segment(l,d);break;case hn.TEXT_ENCODE:this.decodeTextSegment(l,d);break;case hn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(l,d);break;case hn.EDIFACT_ENCODE:this.decodeEdifactSegment(l,d);break;case hn.BASE256_ENCODE:this.decodeBase256Segment(l,d,h);break;default:throw new O}p=hn.ASCII_ENCODE}while(p!==hn.PAD_ENCODE&&l.available()>0);return x.length()>0&&d.append(x.toString()),new Ne(s,d.toString(),h.length===0?null:h,null)}static decodeAsciiSegment(s,l,d){let x=!1;do{let h=s.readBits(8);if(h===0)throw new O;if(h<=128)return x&&(h+=128),l.append(String.fromCharCode(h-1)),hn.ASCII_ENCODE;if(h===129)return hn.PAD_ENCODE;if(h<=229){const p=h-130;p<10&&l.append("0"),l.append(""+p)}else switch(h){case 230:return hn.C40_ENCODE;case 231:return hn.BASE256_ENCODE;case 232:l.append("");break;case 233:case 234:break;case 235:x=!0;break;case 236:l.append("[)>05"),d.insert(0,"");break;case 237:l.append("[)>06"),d.insert(0,"");break;case 238:return hn.ANSIX12_ENCODE;case 239:return hn.TEXT_ENCODE;case 240:return hn.EDIFACT_ENCODE;case 241:break;default:if(h!==254||s.available()!==0)throw new O;break}}while(s.available()>0);return hn.ASCII_ENCODE}static decodeC40Segment(s,l){let d=!1;const x=[];let h=0;do{if(s.available()===8)return;const p=s.readBits(8);if(p===254)return;this.parseTwoBytes(p,s.readBits(8),x);for(let b=0;b<3;b++){const E=x[b];switch(h){case 0:if(E<3)h=E+1;else if(E<this.C40_BASIC_SET_CHARS.length){const w=this.C40_BASIC_SET_CHARS[E];d?(l.append(String.fromCharCode(w.charCodeAt(0)+128)),d=!1):l.append(w)}else throw new O;break;case 1:d?(l.append(String.fromCharCode(E+128)),d=!1):l.append(String.fromCharCode(E)),h=0;break;case 2:if(E<this.C40_SHIFT2_SET_CHARS.length){const w=this.C40_SHIFT2_SET_CHARS[E];d?(l.append(String.fromCharCode(w.charCodeAt(0)+128)),d=!1):l.append(w)}else switch(E){case 27:l.append("");break;case 30:d=!0;break;default:throw new O}h=0;break;case 3:d?(l.append(String.fromCharCode(E+224)),d=!1):l.append(String.fromCharCode(E+96)),h=0;break;default:throw new O}}}while(s.available()>0)}static decodeTextSegment(s,l){let d=!1,x=[],h=0;do{if(s.available()===8)return;const p=s.readBits(8);if(p===254)return;this.parseTwoBytes(p,s.readBits(8),x);for(let b=0;b<3;b++){const E=x[b];switch(h){case 0:if(E<3)h=E+1;else if(E<this.TEXT_BASIC_SET_CHARS.length){const w=this.TEXT_BASIC_SET_CHARS[E];d?(l.append(String.fromCharCode(w.charCodeAt(0)+128)),d=!1):l.append(w)}else throw new O;break;case 1:d?(l.append(String.fromCharCode(E+128)),d=!1):l.append(String.fromCharCode(E)),h=0;break;case 2:if(E<this.TEXT_SHIFT2_SET_CHARS.length){const w=this.TEXT_SHIFT2_SET_CHARS[E];d?(l.append(String.fromCharCode(w.charCodeAt(0)+128)),d=!1):l.append(w)}else switch(E){case 27:l.append("");break;case 30:d=!0;break;default:throw new O}h=0;break;case 3:if(E<this.TEXT_SHIFT3_SET_CHARS.length){const w=this.TEXT_SHIFT3_SET_CHARS[E];d?(l.append(String.fromCharCode(w.charCodeAt(0)+128)),d=!1):l.append(w),h=0}else throw new O;break;default:throw new O}}}while(s.available()>0)}static decodeAnsiX12Segment(s,l){const d=[];do{if(s.available()===8)return;const x=s.readBits(8);if(x===254)return;this.parseTwoBytes(x,s.readBits(8),d);for(let h=0;h<3;h++){const p=d[h];switch(p){case 0:l.append("\r");break;case 1:l.append("*");break;case 2:l.append(">");break;case 3:l.append(" ");break;default:if(p<14)l.append(String.fromCharCode(p+44));else if(p<40)l.append(String.fromCharCode(p+51));else throw new O;break}}}while(s.available()>0)}static parseTwoBytes(s,l,d){let x=(s<<8)+l-1,h=Math.floor(x/1600);d[0]=h,x-=h*1600,h=Math.floor(x/40),d[1]=h,d[2]=x-h*40}static decodeEdifactSegment(s,l){do{if(s.available()<=16)return;for(let d=0;d<4;d++){let x=s.readBits(6);if(x===31){const h=8-s.getBitOffset();h!==8&&s.readBits(h);return}(x&32)===0&&(x|=64),l.append(String.fromCharCode(x))}}while(s.available()>0)}static decodeBase256Segment(s,l,d){let x=1+s.getByteOffset();const h=this.unrandomize255State(s.readBits(8),x++);let p;if(h===0?p=s.available()/8|0:h<250?p=h:p=250*(h-249)+this.unrandomize255State(s.readBits(8),x++),p<0)throw new O;const b=new Uint8Array(p);for(let E=0;E<p;E++){if(s.available()<8)throw new O;b[E]=this.unrandomize255State(s.readBits(8),x++)}d.push(b);try{l.append(G.decode(b,z.ISO88591))}catch(E){throw new L("Platform does not support required encoding: "+E.message)}}static unrandomize255State(s,l){const d=149*l%255+1,x=s-d;return x>=0?x:x+256}}$s.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],$s.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],$s.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],$s.TEXT_SHIFT2_SET_CHARS=$s.C40_SHIFT2_SET_CHARS,$s.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class v8{constructor(){this.rsDecoder=new N(X.DATA_MATRIX_FIELD_256)}decode(s){const l=new K0(s),d=l.getVersion(),x=l.readCodewords(),h=Y0.getDataBlocks(x,d);let p=0;for(let w of h)p+=w.getNumDataCodewords();const b=new Uint8Array(p),E=h.length;for(let w=0;w<E;w++){const I=h[w],V=I.getCodewords(),K=I.getNumDataCodewords();this.correctErrors(V,K);for(let oe=0;oe<K;oe++)b[oe*E+w]=V[oe]}return $s.decode(b)}correctErrors(s,l){const d=new Int32Array(s);try{this.rsDecoder.decode(d,s.length-l)}catch{throw new C}for(let x=0;x<l;x++)s[x]=d[x]}}class cn{constructor(s){this.image=s,this.rectangleDetector=new ce(this.image)}detect(){const s=this.rectangleDetector.detect();let l=this.detectSolid1(s);if(l=this.detectSolid2(l),l[3]=this.correctTopRight(l),!l[3])throw new J;l=this.shiftToModuleCenter(l);const d=l[0],x=l[1],h=l[2],p=l[3];let b=this.transitionsBetween(d,p)+1,E=this.transitionsBetween(h,p)+1;(b&1)===1&&(b+=1),(E&1)===1&&(E+=1),4*b<7*E&&4*E<7*b&&(b=E=Math.max(b,E));let w=cn.sampleGrid(this.image,d,x,h,p,b,E);return new Z(w,[d,x,h,p])}static shiftPoint(s,l,d){let x=(l.getX()-s.getX())/(d+1),h=(l.getY()-s.getY())/(d+1);return new te(s.getX()+x,s.getY()+h)}static moveAway(s,l,d){let x=s.getX(),h=s.getY();return x<l?x-=1:x+=1,h<d?h-=1:h+=1,new te(x,h)}detectSolid1(s){let l=s[0],d=s[1],x=s[3],h=s[2],p=this.transitionsBetween(l,d),b=this.transitionsBetween(d,x),E=this.transitionsBetween(x,h),w=this.transitionsBetween(h,l),I=p,V=[h,l,d,x];return I>b&&(I=b,V[0]=l,V[1]=d,V[2]=x,V[3]=h),I>E&&(I=E,V[0]=d,V[1]=x,V[2]=h,V[3]=l),I>w&&(V[0]=x,V[1]=h,V[2]=l,V[3]=d),V}detectSolid2(s){let l=s[0],d=s[1],x=s[2],h=s[3],p=this.transitionsBetween(l,h),b=cn.shiftPoint(d,x,(p+1)*4),E=cn.shiftPoint(x,d,(p+1)*4),w=this.transitionsBetween(b,l),I=this.transitionsBetween(E,h);return w<I?(s[0]=l,s[1]=d,s[2]=x,s[3]=h):(s[0]=d,s[1]=x,s[2]=h,s[3]=l),s}correctTopRight(s){let l=s[0],d=s[1],x=s[2],h=s[3],p=this.transitionsBetween(l,h),b=this.transitionsBetween(d,h),E=cn.shiftPoint(l,d,(b+1)*4),w=cn.shiftPoint(x,d,(p+1)*4);p=this.transitionsBetween(E,h),b=this.transitionsBetween(w,h);let I=new te(h.getX()+(x.getX()-d.getX())/(p+1),h.getY()+(x.getY()-d.getY())/(p+1)),V=new te(h.getX()+(l.getX()-d.getX())/(b+1),h.getY()+(l.getY()-d.getY())/(b+1));if(!this.isValid(I))return this.isValid(V)?V:null;if(!this.isValid(V))return I;let K=this.transitionsBetween(E,I)+this.transitionsBetween(w,I),oe=this.transitionsBetween(E,V)+this.transitionsBetween(w,V);return K>oe?I:V}shiftToModuleCenter(s){let l=s[0],d=s[1],x=s[2],h=s[3],p=this.transitionsBetween(l,h)+1,b=this.transitionsBetween(x,h)+1,E=cn.shiftPoint(l,d,b*4),w=cn.shiftPoint(x,d,p*4);p=this.transitionsBetween(E,h)+1,b=this.transitionsBetween(w,h)+1,(p&1)===1&&(p+=1),(b&1)===1&&(b+=1);let I=(l.getX()+d.getX()+x.getX()+h.getX())/4,V=(l.getY()+d.getY()+x.getY()+h.getY())/4;l=cn.moveAway(l,I,V),d=cn.moveAway(d,I,V),x=cn.moveAway(x,I,V),h=cn.moveAway(h,I,V);let K,oe;return E=cn.shiftPoint(l,d,b*4),E=cn.shiftPoint(E,h,p*4),K=cn.shiftPoint(d,l,b*4),K=cn.shiftPoint(K,x,p*4),w=cn.shiftPoint(x,h,b*4),w=cn.shiftPoint(w,d,p*4),oe=cn.shiftPoint(h,x,b*4),oe=cn.shiftPoint(oe,l,p*4),[E,K,w,oe]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,l,d,x,h,p,b){return ct.getInstance().sampleGrid(s,p,b,.5,.5,p-.5,.5,p-.5,b-.5,.5,b-.5,l.getX(),l.getY(),h.getX(),h.getY(),x.getX(),x.getY(),d.getX(),d.getY())}transitionsBetween(s,l){let d=Math.trunc(s.getX()),x=Math.trunc(s.getY()),h=Math.trunc(l.getX()),p=Math.trunc(l.getY()),b=Math.abs(p-x)>Math.abs(h-d);if(b){let pe=d;d=x,x=pe,pe=h,h=p,p=pe}let E=Math.abs(h-d),w=Math.abs(p-x),I=-E/2,V=x<p?1:-1,K=d<h?1:-1,oe=0,xe=this.image.get(b?x:d,b?d:x);for(let pe=d,De=x;pe!==h;pe+=K){let Te=this.image.get(b?De:pe,b?pe:De);if(Te!==xe&&(oe++,xe=Te),I+=w,I>0){if(De===p)break;De+=V,I-=E}}return oe}}class js{constructor(){this.decoder=new v8}decode(s,l=null){let d,x;if(l!=null&&l.has($.PURE_BARCODE)){const w=js.extractPureBits(s.getBlackMatrix());d=this.decoder.decode(w),x=js.NO_POINTS}else{const w=new cn(s.getBlackMatrix()).detect();d=this.decoder.decode(w.getBits()),x=w.getPoints()}const h=d.getRawBytes(),p=new ye(d.getText(),h,8*h.length,x,le.DATA_MATRIX,D.currentTimeMillis()),b=d.getByteSegments();b!=null&&p.putMetadata(ae.BYTE_SEGMENTS,b);const E=d.getECLevel();return E!=null&&p.putMetadata(ae.ERROR_CORRECTION_LEVEL,E),p}reset(){}static extractPureBits(s){const l=s.getTopLeftOnBit(),d=s.getBottomRightOnBit();if(l==null||d==null)throw new J;const x=this.moduleSize(l,s);let h=l[1];const p=d[1];let b=l[0];const w=(d[0]-b+1)/x,I=(p-h+1)/x;if(w<=0||I<=0)throw new J;const V=x/2;h+=V,b+=V;const K=new se(w,I);for(let oe=0;oe<I;oe++){const xe=h+oe*x;for(let pe=0;pe<w;pe++)s.get(b+pe*x,xe)&&K.set(pe,oe)}return K}static moduleSize(s,l){const d=l.getWidth();let x=s[0];const h=s[1];for(;x<d&&l.get(x,h);)x++;if(x===d)throw new J;const p=x-s[0];if(p===0)throw new J;return p}}js.NO_POINTS=[];class C8 extends re{constructor(s=500){super(new js,s)}}var ni;(function(H){H[H.L=0]="L",H[H.M=1]="M",H[H.Q=2]="Q",H[H.H=3]="H"})(ni||(ni={}));class Gt{constructor(s,l,d){this.value=s,this.stringValue=l,this.bits=d,Gt.FOR_BITS.set(d,this),Gt.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return Gt.L;case"M":return Gt.M;case"Q":return Gt.Q;case"H":return Gt.H;default:throw new m(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof Gt))return!1;const l=s;return this.value===l.value}static forBits(s){if(s<0||s>=Gt.FOR_BITS.size)throw new y;return Gt.FOR_BITS.get(s)}}Gt.FOR_BITS=new Map,Gt.FOR_VALUE=new Map,Gt.L=new Gt(ni.L,"L",1),Gt.M=new Gt(ni.M,"M",0),Gt.Q=new Gt(ni.Q,"Q",3),Gt.H=new Gt(ni.H,"H",2);class On{constructor(s){this.errorCorrectionLevel=Gt.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,l){return F.bitCount(s^l)}static decodeFormatInformation(s,l){const d=On.doDecodeFormatInformation(s,l);return d!==null?d:On.doDecodeFormatInformation(s^On.FORMAT_INFO_MASK_QR,l^On.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,l){let d=Number.MAX_SAFE_INTEGER,x=0;for(const h of On.FORMAT_INFO_DECODE_LOOKUP){const p=h[0];if(p===s||p===l)return new On(h[1]);let b=On.numBitsDiffering(s,p);b<d&&(x=h[1],d=b),s!==l&&(b=On.numBitsDiffering(l,p),b<d&&(x=h[1],d=b))}return d<=3?new On(x):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof On))return!1;const l=s;return this.errorCorrectionLevel===l.errorCorrectionLevel&&this.dataMask===l.dataMask}}On.FORMAT_INFO_MASK_QR=21522,On.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ke{constructor(s,...l){this.ecCodewordsPerBlock=s,this.ecBlocks=l}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const l=this.ecBlocks;for(const d of l)s+=d.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ne{constructor(s,l){this.count=s,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class nt{constructor(s,l,...d){this.versionNumber=s,this.alignmentPatternCenters=l,this.ecBlocks=d;let x=0;const h=d[0].getECCodewordsPerBlock(),p=d[0].getECBlocks();for(const b of p)x+=b.getCount()*(b.getDataCodewords()+h);this.totalCodewords=x}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new O;try{return this.getVersionForNumber((s-17)/4)}catch{throw new O}}static getVersionForNumber(s){if(s<1||s>40)throw new y;return nt.VERSIONS[s-1]}static decodeVersionInformation(s){let l=Number.MAX_SAFE_INTEGER,d=0;for(let x=0;x<nt.VERSION_DECODE_INFO.length;x++){const h=nt.VERSION_DECODE_INFO[x];if(h===s)return nt.getVersionForNumber(x+7);const p=On.numBitsDiffering(s,h);p<l&&(d=x+7,l=p)}return l<=3?nt.getVersionForNumber(d):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),l=new se(s);l.setRegion(0,0,9,9),l.setRegion(s-8,0,8,9),l.setRegion(0,s-8,9,8);const d=this.alignmentPatternCenters.length;for(let x=0;x<d;x++){const h=this.alignmentPatternCenters[x]-2;for(let p=0;p<d;p++)x===0&&(p===0||p===d-1)||x===d-1&&p===0||l.setRegion(this.alignmentPatternCenters[p]-2,h,5,5)}return l.setRegion(6,9,1,s-17),l.setRegion(9,6,s-17,1),this.versionNumber>6&&(l.setRegion(s-11,0,3,6),l.setRegion(0,s-11,6,3)),l}toString(){return""+this.versionNumber}}nt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),nt.VERSIONS=[new nt(1,new Int32Array(0),new ke(7,new ne(1,19)),new ke(10,new ne(1,16)),new ke(13,new ne(1,13)),new ke(17,new ne(1,9))),new nt(2,Int32Array.from([6,18]),new ke(10,new ne(1,34)),new ke(16,new ne(1,28)),new ke(22,new ne(1,22)),new ke(28,new ne(1,16))),new nt(3,Int32Array.from([6,22]),new ke(15,new ne(1,55)),new ke(26,new ne(1,44)),new ke(18,new ne(2,17)),new ke(22,new ne(2,13))),new nt(4,Int32Array.from([6,26]),new ke(20,new ne(1,80)),new ke(18,new ne(2,32)),new ke(26,new ne(2,24)),new ke(16,new ne(4,9))),new nt(5,Int32Array.from([6,30]),new ke(26,new ne(1,108)),new ke(24,new ne(2,43)),new ke(18,new ne(2,15),new ne(2,16)),new ke(22,new ne(2,11),new ne(2,12))),new nt(6,Int32Array.from([6,34]),new ke(18,new ne(2,68)),new ke(16,new ne(4,27)),new ke(24,new ne(4,19)),new ke(28,new ne(4,15))),new nt(7,Int32Array.from([6,22,38]),new ke(20,new ne(2,78)),new ke(18,new ne(4,31)),new ke(18,new ne(2,14),new ne(4,15)),new ke(26,new ne(4,13),new ne(1,14))),new nt(8,Int32Array.from([6,24,42]),new ke(24,new ne(2,97)),new ke(22,new ne(2,38),new ne(2,39)),new ke(22,new ne(4,18),new ne(2,19)),new ke(26,new ne(4,14),new ne(2,15))),new nt(9,Int32Array.from([6,26,46]),new ke(30,new ne(2,116)),new ke(22,new ne(3,36),new ne(2,37)),new ke(20,new ne(4,16),new ne(4,17)),new ke(24,new ne(4,12),new ne(4,13))),new nt(10,Int32Array.from([6,28,50]),new ke(18,new ne(2,68),new ne(2,69)),new ke(26,new ne(4,43),new ne(1,44)),new ke(24,new ne(6,19),new ne(2,20)),new ke(28,new ne(6,15),new ne(2,16))),new nt(11,Int32Array.from([6,30,54]),new ke(20,new ne(4,81)),new ke(30,new ne(1,50),new ne(4,51)),new ke(28,new ne(4,22),new ne(4,23)),new ke(24,new ne(3,12),new ne(8,13))),new nt(12,Int32Array.from([6,32,58]),new ke(24,new ne(2,92),new ne(2,93)),new ke(22,new ne(6,36),new ne(2,37)),new ke(26,new ne(4,20),new ne(6,21)),new ke(28,new ne(7,14),new ne(4,15))),new nt(13,Int32Array.from([6,34,62]),new ke(26,new ne(4,107)),new ke(22,new ne(8,37),new ne(1,38)),new ke(24,new ne(8,20),new ne(4,21)),new ke(22,new ne(12,11),new ne(4,12))),new nt(14,Int32Array.from([6,26,46,66]),new ke(30,new ne(3,115),new ne(1,116)),new ke(24,new ne(4,40),new ne(5,41)),new ke(20,new ne(11,16),new ne(5,17)),new ke(24,new ne(11,12),new ne(5,13))),new nt(15,Int32Array.from([6,26,48,70]),new ke(22,new ne(5,87),new ne(1,88)),new ke(24,new ne(5,41),new ne(5,42)),new ke(30,new ne(5,24),new ne(7,25)),new ke(24,new ne(11,12),new ne(7,13))),new nt(16,Int32Array.from([6,26,50,74]),new ke(24,new ne(5,98),new ne(1,99)),new ke(28,new ne(7,45),new ne(3,46)),new ke(24,new ne(15,19),new ne(2,20)),new ke(30,new ne(3,15),new ne(13,16))),new nt(17,Int32Array.from([6,30,54,78]),new ke(28,new ne(1,107),new ne(5,108)),new ke(28,new ne(10,46),new ne(1,47)),new ke(28,new ne(1,22),new ne(15,23)),new ke(28,new ne(2,14),new ne(17,15))),new nt(18,Int32Array.from([6,30,56,82]),new ke(30,new ne(5,120),new ne(1,121)),new ke(26,new ne(9,43),new ne(4,44)),new ke(28,new ne(17,22),new ne(1,23)),new ke(28,new ne(2,14),new ne(19,15))),new nt(19,Int32Array.from([6,30,58,86]),new ke(28,new ne(3,113),new ne(4,114)),new ke(26,new ne(3,44),new ne(11,45)),new ke(26,new ne(17,21),new ne(4,22)),new ke(26,new ne(9,13),new ne(16,14))),new nt(20,Int32Array.from([6,34,62,90]),new ke(28,new ne(3,107),new ne(5,108)),new ke(26,new ne(3,41),new ne(13,42)),new ke(30,new ne(15,24),new ne(5,25)),new ke(28,new ne(15,15),new ne(10,16))),new nt(21,Int32Array.from([6,28,50,72,94]),new ke(28,new ne(4,116),new ne(4,117)),new ke(26,new ne(17,42)),new ke(28,new ne(17,22),new ne(6,23)),new ke(30,new ne(19,16),new ne(6,17))),new nt(22,Int32Array.from([6,26,50,74,98]),new ke(28,new ne(2,111),new ne(7,112)),new ke(28,new ne(17,46)),new ke(30,new ne(7,24),new ne(16,25)),new ke(24,new ne(34,13))),new nt(23,Int32Array.from([6,30,54,78,102]),new ke(30,new ne(4,121),new ne(5,122)),new ke(28,new ne(4,47),new ne(14,48)),new ke(30,new ne(11,24),new ne(14,25)),new ke(30,new ne(16,15),new ne(14,16))),new nt(24,Int32Array.from([6,28,54,80,106]),new ke(30,new ne(6,117),new ne(4,118)),new ke(28,new ne(6,45),new ne(14,46)),new ke(30,new ne(11,24),new ne(16,25)),new ke(30,new ne(30,16),new ne(2,17))),new nt(25,Int32Array.from([6,32,58,84,110]),new ke(26,new ne(8,106),new ne(4,107)),new ke(28,new ne(8,47),new ne(13,48)),new ke(30,new ne(7,24),new ne(22,25)),new ke(30,new ne(22,15),new ne(13,16))),new nt(26,Int32Array.from([6,30,58,86,114]),new ke(28,new ne(10,114),new ne(2,115)),new ke(28,new ne(19,46),new ne(4,47)),new ke(28,new ne(28,22),new ne(6,23)),new ke(30,new ne(33,16),new ne(4,17))),new nt(27,Int32Array.from([6,34,62,90,118]),new ke(30,new ne(8,122),new ne(4,123)),new ke(28,new ne(22,45),new ne(3,46)),new ke(30,new ne(8,23),new ne(26,24)),new ke(30,new ne(12,15),new ne(28,16))),new nt(28,Int32Array.from([6,26,50,74,98,122]),new ke(30,new ne(3,117),new ne(10,118)),new ke(28,new ne(3,45),new ne(23,46)),new ke(30,new ne(4,24),new ne(31,25)),new ke(30,new ne(11,15),new ne(31,16))),new nt(29,Int32Array.from([6,30,54,78,102,126]),new ke(30,new ne(7,116),new ne(7,117)),new ke(28,new ne(21,45),new ne(7,46)),new ke(30,new ne(1,23),new ne(37,24)),new ke(30,new ne(19,15),new ne(26,16))),new nt(30,Int32Array.from([6,26,52,78,104,130]),new ke(30,new ne(5,115),new ne(10,116)),new ke(28,new ne(19,47),new ne(10,48)),new ke(30,new ne(15,24),new ne(25,25)),new ke(30,new ne(23,15),new ne(25,16))),new nt(31,Int32Array.from([6,30,56,82,108,134]),new ke(30,new ne(13,115),new ne(3,116)),new ke(28,new ne(2,46),new ne(29,47)),new ke(30,new ne(42,24),new ne(1,25)),new ke(30,new ne(23,15),new ne(28,16))),new nt(32,Int32Array.from([6,34,60,86,112,138]),new ke(30,new ne(17,115)),new ke(28,new ne(10,46),new ne(23,47)),new ke(30,new ne(10,24),new ne(35,25)),new ke(30,new ne(19,15),new ne(35,16))),new nt(33,Int32Array.from([6,30,58,86,114,142]),new ke(30,new ne(17,115),new ne(1,116)),new ke(28,new ne(14,46),new ne(21,47)),new ke(30,new ne(29,24),new ne(19,25)),new ke(30,new ne(11,15),new ne(46,16))),new nt(34,Int32Array.from([6,34,62,90,118,146]),new ke(30,new ne(13,115),new ne(6,116)),new ke(28,new ne(14,46),new ne(23,47)),new ke(30,new ne(44,24),new ne(7,25)),new ke(30,new ne(59,16),new ne(1,17))),new nt(35,Int32Array.from([6,30,54,78,102,126,150]),new ke(30,new ne(12,121),new ne(7,122)),new ke(28,new ne(12,47),new ne(26,48)),new ke(30,new ne(39,24),new ne(14,25)),new ke(30,new ne(22,15),new ne(41,16))),new nt(36,Int32Array.from([6,24,50,76,102,128,154]),new ke(30,new ne(6,121),new ne(14,122)),new ke(28,new ne(6,47),new ne(34,48)),new ke(30,new ne(46,24),new ne(10,25)),new ke(30,new ne(2,15),new ne(64,16))),new nt(37,Int32Array.from([6,28,54,80,106,132,158]),new ke(30,new ne(17,122),new ne(4,123)),new ke(28,new ne(29,46),new ne(14,47)),new ke(30,new ne(49,24),new ne(10,25)),new ke(30,new ne(24,15),new ne(46,16))),new nt(38,Int32Array.from([6,32,58,84,110,136,162]),new ke(30,new ne(4,122),new ne(18,123)),new ke(28,new ne(13,46),new ne(32,47)),new ke(30,new ne(48,24),new ne(14,25)),new ke(30,new ne(42,15),new ne(32,16))),new nt(39,Int32Array.from([6,26,54,82,110,138,166]),new ke(30,new ne(20,117),new ne(4,118)),new ke(28,new ne(40,47),new ne(7,48)),new ke(30,new ne(43,24),new ne(22,25)),new ke(30,new ne(10,15),new ne(67,16))),new nt(40,Int32Array.from([6,30,58,86,114,142,170]),new ke(30,new ne(19,118),new ne(6,119)),new ke(28,new ne(18,47),new ne(31,48)),new ke(30,new ne(34,24),new ne(34,25)),new ke(30,new ne(20,15),new ne(61,16)))];var Cn;(function(H){H[H.DATA_MASK_000=0]="DATA_MASK_000",H[H.DATA_MASK_001=1]="DATA_MASK_001",H[H.DATA_MASK_010=2]="DATA_MASK_010",H[H.DATA_MASK_011=3]="DATA_MASK_011",H[H.DATA_MASK_100=4]="DATA_MASK_100",H[H.DATA_MASK_101=5]="DATA_MASK_101",H[H.DATA_MASK_110=6]="DATA_MASK_110",H[H.DATA_MASK_111=7]="DATA_MASK_111"})(Cn||(Cn={}));class Cr{constructor(s,l){this.value=s,this.isMasked=l}unmaskBitMatrix(s,l){for(let d=0;d<l;d++)for(let x=0;x<l;x++)this.isMasked(d,x)&&s.flip(x,d)}}Cr.values=new Map([[Cn.DATA_MASK_000,new Cr(Cn.DATA_MASK_000,(H,s)=>(H+s&1)===0)],[Cn.DATA_MASK_001,new Cr(Cn.DATA_MASK_001,(H,s)=>(H&1)===0)],[Cn.DATA_MASK_010,new Cr(Cn.DATA_MASK_010,(H,s)=>s%3===0)],[Cn.DATA_MASK_011,new Cr(Cn.DATA_MASK_011,(H,s)=>(H+s)%3===0)],[Cn.DATA_MASK_100,new Cr(Cn.DATA_MASK_100,(H,s)=>(Math.floor(H/2)+Math.floor(s/3)&1)===0)],[Cn.DATA_MASK_101,new Cr(Cn.DATA_MASK_101,(H,s)=>H*s%6===0)],[Cn.DATA_MASK_110,new Cr(Cn.DATA_MASK_110,(H,s)=>H*s%6<3)],[Cn.DATA_MASK_111,new Cr(Cn.DATA_MASK_111,(H,s)=>(H+s+H*s%3&1)===0)]]);class w8{constructor(s){const l=s.getHeight();if(l<21||(l&3)!==1)throw new O;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let h=0;h<6;h++)s=this.copyBit(h,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let h=5;h>=0;h--)s=this.copyBit(8,h,s);const l=this.bitMatrix.getHeight();let d=0;const x=l-7;for(let h=l-1;h>=x;h--)d=this.copyBit(8,h,d);for(let h=l-8;h<l;h++)d=this.copyBit(h,8,d);if(this.parsedFormatInfo=On.decodeFormatInformation(s,d),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new O}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),l=Math.floor((s-17)/4);if(l<=6)return nt.getVersionForNumber(l);let d=0;const x=s-11;for(let p=5;p>=0;p--)for(let b=s-9;b>=x;b--)d=this.copyBit(b,p,d);let h=nt.decodeVersionInformation(d);if(h!==null&&h.getDimensionForVersion()===s)return this.parsedVersion=h,h;d=0;for(let p=5;p>=0;p--)for(let b=s-9;b>=x;b--)d=this.copyBit(p,b,d);if(h=nt.decodeVersionInformation(d),h!==null&&h.getDimensionForVersion()===s)return this.parsedVersion=h,h;throw new O}copyBit(s,l,d){return(this.isMirror?this.bitMatrix.get(l,s):this.bitMatrix.get(s,l))?d<<1|1:d<<1}readCodewords(){const s=this.readFormatInformation(),l=this.readVersion(),d=Cr.values.get(s.getDataMask()),x=this.bitMatrix.getHeight();d.unmaskBitMatrix(this.bitMatrix,x);const h=l.buildFunctionPattern();let p=!0;const b=new Uint8Array(l.getTotalCodewords());let E=0,w=0,I=0;for(let V=x-1;V>0;V-=2){V===6&&V--;for(let K=0;K<x;K++){const oe=p?x-1-K:K;for(let xe=0;xe<2;xe++)h.get(V-xe,oe)||(I++,w<<=1,this.bitMatrix.get(V-xe,oe)&&(w|=1),I===8&&(b[E++]=w,I=0,w=0))}p=!p}if(E!==l.getTotalCodewords())throw new O;return b}remask(){if(this.parsedFormatInfo===null)return;const s=Cr.values[this.parsedFormatInfo.getDataMask()],l=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,l)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let l=0,d=s.getWidth();l<d;l++)for(let x=l+1,h=s.getHeight();x<h;x++)s.get(l,x)!==s.get(x,l)&&(s.flip(x,l),s.flip(l,x))}}class Z0{constructor(s,l){this.numDataCodewords=s,this.codewords=l}static getDataBlocks(s,l,d){if(s.length!==l.getTotalCodewords())throw new y;const x=l.getECBlocksForLevel(d);let h=0;const p=x.getECBlocks();for(const xe of p)h+=xe.getCount();const b=new Array(h);let E=0;for(const xe of p)for(let pe=0;pe<xe.getCount();pe++){const De=xe.getDataCodewords(),Te=x.getECCodewordsPerBlock()+De;b[E++]=new Z0(De,new Uint8Array(Te))}const w=b[0].codewords.length;let I=b.length-1;for(;I>=0&&b[I].codewords.length!==w;)I--;I++;const V=w-x.getECCodewordsPerBlock();let K=0;for(let xe=0;xe<V;xe++)for(let pe=0;pe<E;pe++)b[pe].codewords[xe]=s[K++];for(let xe=I;xe<E;xe++)b[xe].codewords[V]=s[K++];const oe=b[0].codewords.length;for(let xe=V;xe<oe;xe++)for(let pe=0;pe<E;pe++){const De=pe<I?xe:xe+1;b[pe].codewords[De]=s[K++]}return b}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var wr;(function(H){H[H.TERMINATOR=0]="TERMINATOR",H[H.NUMERIC=1]="NUMERIC",H[H.ALPHANUMERIC=2]="ALPHANUMERIC",H[H.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",H[H.BYTE=4]="BYTE",H[H.ECI=5]="ECI",H[H.KANJI=6]="KANJI",H[H.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",H[H.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",H[H.HANZI=9]="HANZI"})(wr||(wr={}));class rt{constructor(s,l,d,x){this.value=s,this.stringValue=l,this.characterCountBitsForVersions=d,this.bits=x,rt.FOR_BITS.set(x,this),rt.FOR_VALUE.set(s,this)}static forBits(s){const l=rt.FOR_BITS.get(s);if(l===void 0)throw new y;return l}getCharacterCountBits(s){const l=s.getVersionNumber();let d;return l<=9?d=0:l<=26?d=1:d=2,this.characterCountBitsForVersions[d]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof rt))return!1;const l=s;return this.value===l.value}toString(){return this.stringValue}}rt.FOR_BITS=new Map,rt.FOR_VALUE=new Map,rt.TERMINATOR=new rt(wr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),rt.NUMERIC=new rt(wr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),rt.ALPHANUMERIC=new rt(wr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),rt.STRUCTURED_APPEND=new rt(wr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),rt.BYTE=new rt(wr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),rt.ECI=new rt(wr.ECI,"ECI",Int32Array.from([0,0,0]),7),rt.KANJI=new rt(wr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),rt.FNC1_FIRST_POSITION=new rt(wr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),rt.FNC1_SECOND_POSITION=new rt(wr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),rt.HANZI=new rt(wr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class nn{static decode(s,l,d,x){const h=new X0(s);let p=new ee;const b=new Array;let E=-1,w=-1;try{let I=null,V=!1,K;do{if(h.available()<4)K=rt.TERMINATOR;else{const oe=h.readBits(4);K=rt.forBits(oe)}switch(K){case rt.TERMINATOR:break;case rt.FNC1_FIRST_POSITION:case rt.FNC1_SECOND_POSITION:V=!0;break;case rt.STRUCTURED_APPEND:if(h.available()<16)throw new O;E=h.readBits(8),w=h.readBits(8);break;case rt.ECI:const oe=nn.parseECIValue(h);if(I=S.getCharacterSetECIByValue(oe),I===null)throw new O;break;case rt.HANZI:const xe=h.readBits(4),pe=h.readBits(K.getCharacterCountBits(l));xe===nn.GB2312_SUBSET&&nn.decodeHanziSegment(h,p,pe);break;default:const De=h.readBits(K.getCharacterCountBits(l));switch(K){case rt.NUMERIC:nn.decodeNumericSegment(h,p,De);break;case rt.ALPHANUMERIC:nn.decodeAlphanumericSegment(h,p,De,V);break;case rt.BYTE:nn.decodeByteSegment(h,p,De,I,b,x);break;case rt.KANJI:nn.decodeKanjiSegment(h,p,De);break;default:throw new O}break}}while(K!==rt.TERMINATOR)}catch{throw new O}return new Ne(s,p.toString(),b.length===0?null:b,d===null?null:d.toString(),E,w)}static decodeHanziSegment(s,l,d){if(d*13>s.available())throw new O;const x=new Uint8Array(2*d);let h=0;for(;d>0;){const p=s.readBits(13);let b=p/96<<8&4294967295|p%96;b<959?b+=41377:b+=42657,x[h]=b>>8&255,x[h+1]=b&255,h+=2,d--}try{l.append(G.decode(x,z.GB2312))}catch(p){throw new O(p)}}static decodeKanjiSegment(s,l,d){if(d*13>s.available())throw new O;const x=new Uint8Array(2*d);let h=0;for(;d>0;){const p=s.readBits(13);let b=p/192<<8&4294967295|p%192;b<7936?b+=33088:b+=49472,x[h]=b>>8,x[h+1]=b,h+=2,d--}try{l.append(G.decode(x,z.SHIFT_JIS))}catch(p){throw new O(p)}}static decodeByteSegment(s,l,d,x,h,p){if(8*d>s.available())throw new O;const b=new Uint8Array(d);for(let w=0;w<d;w++)b[w]=s.readBits(8);let E;x===null?E=z.guessEncoding(b,p):E=x.getName();try{l.append(G.decode(b,E))}catch(w){throw new O(w)}h.push(b)}static toAlphaNumericChar(s){if(s>=nn.ALPHANUMERIC_CHARS.length)throw new O;return nn.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,l,d,x){const h=l.length();for(;d>1;){if(s.available()<11)throw new O;const p=s.readBits(11);l.append(nn.toAlphaNumericChar(Math.floor(p/45))),l.append(nn.toAlphaNumericChar(p%45)),d-=2}if(d===1){if(s.available()<6)throw new O;l.append(nn.toAlphaNumericChar(s.readBits(6)))}if(x)for(let p=h;p<l.length();p++)l.charAt(p)==="%"&&(p<l.length()-1&&l.charAt(p+1)==="%"?l.deleteCharAt(p+1):l.setCharAt(p,""))}static decodeNumericSegment(s,l,d){for(;d>=3;){if(s.available()<10)throw new O;const x=s.readBits(10);if(x>=1e3)throw new O;l.append(nn.toAlphaNumericChar(Math.floor(x/100))),l.append(nn.toAlphaNumericChar(Math.floor(x/10)%10)),l.append(nn.toAlphaNumericChar(x%10)),d-=3}if(d===2){if(s.available()<7)throw new O;const x=s.readBits(7);if(x>=100)throw new O;l.append(nn.toAlphaNumericChar(Math.floor(x/10))),l.append(nn.toAlphaNumericChar(x%10))}else if(d===1){if(s.available()<4)throw new O;const x=s.readBits(4);if(x>=10)throw new O;l.append(nn.toAlphaNumericChar(x))}}static parseECIValue(s){const l=s.readBits(8);if((l&128)===0)return l&127;if((l&192)===128){const d=s.readBits(8);return(l&63)<<8&4294967295|d}if((l&224)===192){const d=s.readBits(16);return(l&31)<<16&4294967295|d}throw new O}}nn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",nn.GB2312_SUBSET=1;class Vx{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const l=s[0];s[0]=s[2],s[2]=l}}class A8{constructor(){this.rsDecoder=new N(X.QR_CODE_FIELD_256)}decodeBooleanArray(s,l){return this.decodeBitMatrix(se.parseFromBooleanArray(s),l)}decodeBitMatrix(s,l){const d=new w8(s);let x=null;try{return this.decodeBitMatrixParser(d,l)}catch(h){x=h}try{d.remask(),d.setMirror(!0),d.readVersion(),d.readFormatInformation(),d.mirror();const h=this.decodeBitMatrixParser(d,l);return h.setOther(new Vx(!0)),h}catch(h){throw x!==null?x:h}}decodeBitMatrixParser(s,l){const d=s.readVersion(),x=s.readFormatInformation().getErrorCorrectionLevel(),h=s.readCodewords(),p=Z0.getDataBlocks(h,d,x);let b=0;for(const I of p)b+=I.getNumDataCodewords();const E=new Uint8Array(b);let w=0;for(const I of p){const V=I.getCodewords(),K=I.getNumDataCodewords();this.correctErrors(V,K);for(let oe=0;oe<K;oe++)E[w++]=V[oe]}return nn.decode(E,d,x,l)}correctErrors(s,l){const d=new Int32Array(s);try{this.rsDecoder.decode(d,s.length-l)}catch{throw new C}for(let x=0;x<l;x++)s[x]=d[x]}}class J0 extends te{constructor(s,l,d){super(s,l),this.estimatedModuleSize=d}aboutEquals(s,l,d){if(Math.abs(l-this.getY())<=s&&Math.abs(d-this.getX())<=s){const x=Math.abs(s-this.estimatedModuleSize);return x<=1||x<=this.estimatedModuleSize}return!1}combineEstimate(s,l,d){const x=(this.getX()+l)/2,h=(this.getY()+s)/2,p=(this.estimatedModuleSize+d)/2;return new J0(x,h,p)}}class sl{constructor(s,l,d,x,h,p,b){this.image=s,this.startX=l,this.startY=d,this.width=x,this.height=h,this.moduleSize=p,this.resultPointCallback=b,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,l=this.height,d=this.width,x=s+d,h=this.startY+l/2,p=new Int32Array(3),b=this.image;for(let E=0;E<l;E++){const w=h+((E&1)===0?Math.floor((E+1)/2):-Math.floor((E+1)/2));p[0]=0,p[1]=0,p[2]=0;let I=s;for(;I<x&&!b.get(I,w);)I++;let V=0;for(;I<x;){if(b.get(I,w))if(V===1)p[1]++;else if(V===2){if(this.foundPatternCross(p)){const K=this.handlePossibleCenter(p,w,I);if(K!==null)return K}p[0]=p[2],p[1]=1,p[2]=0,V=1}else p[++V]++;else V===1&&V++,p[V]++;I++}if(this.foundPatternCross(p)){const K=this.handlePossibleCenter(p,w,x);if(K!==null)return K}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new J}static centerFromEnd(s,l){return l-s[2]-s[1]/2}foundPatternCross(s){const l=this.moduleSize,d=l/2;for(let x=0;x<3;x++)if(Math.abs(l-s[x])>=d)return!1;return!0}crossCheckVertical(s,l,d,x){const h=this.image,p=h.getHeight(),b=this.crossCheckStateCount;b[0]=0,b[1]=0,b[2]=0;let E=s;for(;E>=0&&h.get(l,E)&&b[1]<=d;)b[1]++,E--;if(E<0||b[1]>d)return NaN;for(;E>=0&&!h.get(l,E)&&b[0]<=d;)b[0]++,E--;if(b[0]>d)return NaN;for(E=s+1;E<p&&h.get(l,E)&&b[1]<=d;)b[1]++,E++;if(E===p||b[1]>d)return NaN;for(;E<p&&!h.get(l,E)&&b[2]<=d;)b[2]++,E++;if(b[2]>d)return NaN;const w=b[0]+b[1]+b[2];return 5*Math.abs(w-x)>=2*x?NaN:this.foundPatternCross(b)?sl.centerFromEnd(b,E):NaN}handlePossibleCenter(s,l,d){const x=s[0]+s[1]+s[2],h=sl.centerFromEnd(s,d),p=this.crossCheckVertical(l,h,2*s[1],x);if(!isNaN(p)){const b=(s[0]+s[1]+s[2])/3;for(const w of this.possibleCenters)if(w.aboutEquals(b,p,h))return w.combineEstimate(p,h,b);const E=new J0(h,p,b);this.possibleCenters.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return null}}class ec extends te{constructor(s,l,d,x){super(s,l),this.estimatedModuleSize=d,this.count=x,x===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,l,d){if(Math.abs(l-this.getY())<=s&&Math.abs(d-this.getX())<=s){const x=Math.abs(s-this.estimatedModuleSize);return x<=1||x<=this.estimatedModuleSize}return!1}combineEstimate(s,l,d){const x=this.count+1,h=(this.count*this.getX()+l)/x,p=(this.count*this.getY()+s)/x,b=(this.count*this.estimatedModuleSize+d)/x;return new ec(h,p,b,x)}}class B8{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class wn{constructor(s,l){this.image=s,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=l}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const l=s!=null&&s.get($.TRY_HARDER)!==void 0,d=s!=null&&s.get($.PURE_BARCODE)!==void 0,x=this.image,h=x.getHeight(),p=x.getWidth();let b=Math.floor(3*h/(4*wn.MAX_MODULES));(b<wn.MIN_SKIP||l)&&(b=wn.MIN_SKIP);let E=!1;const w=new Int32Array(5);for(let V=b-1;V<h&&!E;V+=b){w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0;let K=0;for(let oe=0;oe<p;oe++)if(x.get(oe,V))(K&1)===1&&K++,w[K]++;else if((K&1)===0)if(K===4)if(wn.foundPatternCross(w)){if(this.handlePossibleCenter(w,V,oe,d)===!0)if(b=2,this.hasSkipped===!0)E=this.haveMultiplyConfirmedCenters();else{const pe=this.findRowSkip();pe>w[2]&&(V+=pe-w[2]-b,oe=p-1)}else{w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,K=3;continue}K=0,w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0}else w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,K=3;else w[++K]++;else w[K]++;wn.foundPatternCross(w)&&this.handlePossibleCenter(w,V,p,d)===!0&&(b=w[0],this.hasSkipped&&(E=this.haveMultiplyConfirmedCenters()))}const I=this.selectBestPatterns();return te.orderBestPatterns(I),new B8(I)}static centerFromEnd(s,l){return l-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let l=0;for(let h=0;h<5;h++){const p=s[h];if(p===0)return!1;l+=p}if(l<7)return!1;const d=l/7,x=d/2;return Math.abs(d-s[0])<x&&Math.abs(d-s[1])<x&&Math.abs(3*d-s[2])<3*x&&Math.abs(d-s[3])<x&&Math.abs(d-s[4])<x}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,l,d,x){const h=this.getCrossCheckStateCount();let p=0;const b=this.image;for(;s>=p&&l>=p&&b.get(l-p,s-p);)h[2]++,p++;if(s<p||l<p)return!1;for(;s>=p&&l>=p&&!b.get(l-p,s-p)&&h[1]<=d;)h[1]++,p++;if(s<p||l<p||h[1]>d)return!1;for(;s>=p&&l>=p&&b.get(l-p,s-p)&&h[0]<=d;)h[0]++,p++;if(h[0]>d)return!1;const E=b.getHeight(),w=b.getWidth();for(p=1;s+p<E&&l+p<w&&b.get(l+p,s+p);)h[2]++,p++;if(s+p>=E||l+p>=w)return!1;for(;s+p<E&&l+p<w&&!b.get(l+p,s+p)&&h[3]<d;)h[3]++,p++;if(s+p>=E||l+p>=w||h[3]>=d)return!1;for(;s+p<E&&l+p<w&&b.get(l+p,s+p)&&h[4]<d;)h[4]++,p++;if(h[4]>=d)return!1;const I=h[0]+h[1]+h[2]+h[3]+h[4];return Math.abs(I-x)<2*x&&wn.foundPatternCross(h)}crossCheckVertical(s,l,d,x){const h=this.image,p=h.getHeight(),b=this.getCrossCheckStateCount();let E=s;for(;E>=0&&h.get(l,E);)b[2]++,E--;if(E<0)return NaN;for(;E>=0&&!h.get(l,E)&&b[1]<=d;)b[1]++,E--;if(E<0||b[1]>d)return NaN;for(;E>=0&&h.get(l,E)&&b[0]<=d;)b[0]++,E--;if(b[0]>d)return NaN;for(E=s+1;E<p&&h.get(l,E);)b[2]++,E++;if(E===p)return NaN;for(;E<p&&!h.get(l,E)&&b[3]<d;)b[3]++,E++;if(E===p||b[3]>=d)return NaN;for(;E<p&&h.get(l,E)&&b[4]<d;)b[4]++,E++;if(b[4]>=d)return NaN;const w=b[0]+b[1]+b[2]+b[3]+b[4];return 5*Math.abs(w-x)>=2*x?NaN:wn.foundPatternCross(b)?wn.centerFromEnd(b,E):NaN}crossCheckHorizontal(s,l,d,x){const h=this.image,p=h.getWidth(),b=this.getCrossCheckStateCount();let E=s;for(;E>=0&&h.get(E,l);)b[2]++,E--;if(E<0)return NaN;for(;E>=0&&!h.get(E,l)&&b[1]<=d;)b[1]++,E--;if(E<0||b[1]>d)return NaN;for(;E>=0&&h.get(E,l)&&b[0]<=d;)b[0]++,E--;if(b[0]>d)return NaN;for(E=s+1;E<p&&h.get(E,l);)b[2]++,E++;if(E===p)return NaN;for(;E<p&&!h.get(E,l)&&b[3]<d;)b[3]++,E++;if(E===p||b[3]>=d)return NaN;for(;E<p&&h.get(E,l)&&b[4]<d;)b[4]++,E++;if(b[4]>=d)return NaN;const w=b[0]+b[1]+b[2]+b[3]+b[4];return 5*Math.abs(w-x)>=x?NaN:wn.foundPatternCross(b)?wn.centerFromEnd(b,E):NaN}handlePossibleCenter(s,l,d,x){const h=s[0]+s[1]+s[2]+s[3]+s[4];let p=wn.centerFromEnd(s,d),b=this.crossCheckVertical(l,Math.floor(p),s[2],h);if(!isNaN(b)&&(p=this.crossCheckHorizontal(Math.floor(p),Math.floor(b),s[2],h),!isNaN(p)&&(!x||this.crossCheckDiagonal(Math.floor(b),Math.floor(p),s[2],h)))){const E=h/7;let w=!1;const I=this.possibleCenters;for(let V=0,K=I.length;V<K;V++){const oe=I[V];if(oe.aboutEquals(E,b,p)){I[V]=oe.combineEstimate(b,p,E),w=!0;break}}if(!w){const V=new ec(p,b,E);I.push(V),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(V)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let l=null;for(const d of this.possibleCenters)if(d.getCount()>=wn.CENTER_QUORUM)if(l==null)l=d;else return this.hasSkipped=!0,Math.floor((Math.abs(l.getX()-d.getX())-Math.abs(l.getY()-d.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,l=0;const d=this.possibleCenters.length;for(const p of this.possibleCenters)p.getCount()>=wn.CENTER_QUORUM&&(s++,l+=p.getEstimatedModuleSize());if(s<3)return!1;const x=l/d;let h=0;for(const p of this.possibleCenters)h+=Math.abs(p.getEstimatedModuleSize()-x);return h<=.05*l}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new J;const l=this.possibleCenters;let d;if(s>3){let x=0,h=0;for(const E of this.possibleCenters){const w=E.getEstimatedModuleSize();x+=w,h+=w*w}d=x/s;let p=Math.sqrt(h/s-d*d);l.sort((E,w)=>{const I=Math.abs(w.getEstimatedModuleSize()-d),V=Math.abs(E.getEstimatedModuleSize()-d);return I<V?-1:I>V?1:0});const b=Math.max(.2*d,p);for(let E=0;E<l.length&&l.length>3;E++){const w=l[E];Math.abs(w.getEstimatedModuleSize()-d)>b&&(l.splice(E,1),E--)}}if(l.length>3){let x=0;for(const h of l)x+=h.getEstimatedModuleSize();d=x/l.length,l.sort((h,p)=>{if(p.getCount()===h.getCount()){const b=Math.abs(p.getEstimatedModuleSize()-d),E=Math.abs(h.getEstimatedModuleSize()-d);return b<E?1:b>E?-1:0}else return p.getCount()-h.getCount()}),l.splice(3)}return[l[0],l[1],l[2]]}}wn.CENTER_QUORUM=2,wn.MIN_SKIP=3,wn.MAX_MODULES=57;class Ui{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get($.NEED_RESULT_POINT_CALLBACK);const d=new wn(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(d)}processFinderPatternInfo(s){const l=s.getTopLeft(),d=s.getTopRight(),x=s.getBottomLeft(),h=this.calculateModuleSize(l,d,x);if(h<1)throw new J("No pattern found in proccess finder.");const p=Ui.computeDimension(l,d,x,h),b=nt.getProvisionalVersionForDimension(p),E=b.getDimensionForVersion()-7;let w=null;if(b.getAlignmentPatternCenters().length>0){const oe=d.getX()-l.getX()+x.getX(),xe=d.getY()-l.getY()+x.getY(),pe=1-3/E,De=Math.floor(l.getX()+pe*(oe-l.getX())),Te=Math.floor(l.getY()+pe*(xe-l.getY()));for(let Ue=4;Ue<=16;Ue<<=1)try{w=this.findAlignmentInRegion(h,De,Te,Ue);break}catch(qe){if(!(qe instanceof J))throw qe}}const I=Ui.createTransform(l,d,x,w,p),V=Ui.sampleGrid(this.image,I,p);let K;return w===null?K=[x,l,d]:K=[x,l,d,w],new Z(V,K)}static createTransform(s,l,d,x,h){const p=h-3.5;let b,E,w,I;return x!==null?(b=x.getX(),E=x.getY(),w=p-3,I=w):(b=l.getX()-s.getX()+d.getX(),E=l.getY()-s.getY()+d.getY(),w=p,I=p),Se.quadrilateralToQuadrilateral(3.5,3.5,p,3.5,w,I,3.5,p,s.getX(),s.getY(),l.getX(),l.getY(),b,E,d.getX(),d.getY())}static sampleGrid(s,l,d){return ct.getInstance().sampleGridWithTransform(s,d,d,l)}static computeDimension(s,l,d,x){const h=ue.round(te.distance(s,l)/x),p=ue.round(te.distance(s,d)/x);let b=Math.floor((h+p)/2)+7;switch(b&3){case 0:b++;break;case 2:b--;break;case 3:throw new J("Dimensions could be not found.")}return b}calculateModuleSize(s,l,d){return(this.calculateModuleSizeOneWay(s,l)+this.calculateModuleSizeOneWay(s,d))/2}calculateModuleSizeOneWay(s,l){const d=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(l.getX()),Math.floor(l.getY())),x=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(d)?x/7:isNaN(x)?d/7:(d+x)/14}sizeOfBlackWhiteBlackRunBothWays(s,l,d,x){let h=this.sizeOfBlackWhiteBlackRun(s,l,d,x),p=1,b=s-(d-s);b<0?(p=s/(s-b),b=0):b>=this.image.getWidth()&&(p=(this.image.getWidth()-1-s)/(b-s),b=this.image.getWidth()-1);let E=Math.floor(l-(x-l)*p);return p=1,E<0?(p=l/(l-E),E=0):E>=this.image.getHeight()&&(p=(this.image.getHeight()-1-l)/(E-l),E=this.image.getHeight()-1),b=Math.floor(s+(b-s)*p),h+=this.sizeOfBlackWhiteBlackRun(s,l,b,E),h-1}sizeOfBlackWhiteBlackRun(s,l,d,x){const h=Math.abs(x-l)>Math.abs(d-s);if(h){let oe=s;s=l,l=oe,oe=d,d=x,x=oe}const p=Math.abs(d-s),b=Math.abs(x-l);let E=-p/2;const w=s<d?1:-1,I=l<x?1:-1;let V=0;const K=d+w;for(let oe=s,xe=l;oe!==K;oe+=w){const pe=h?xe:oe,De=h?oe:xe;if(V===1===this.image.get(pe,De)){if(V===2)return ue.distance(oe,xe,s,l);V++}if(E+=b,E>0){if(xe===x)break;xe+=I,E-=p}}return V===2?ue.distance(d+w,x,s,l):NaN}findAlignmentInRegion(s,l,d,x){const h=Math.floor(x*s),p=Math.max(0,l-h),b=Math.min(this.image.getWidth()-1,l+h);if(b-p<s*3)throw new J("Alignment top exceeds estimated module size.");const E=Math.max(0,d-h),w=Math.min(this.image.getHeight()-1,d+h);if(w-E<s*3)throw new J("Alignment bottom exceeds estimated module size.");return new sl(this.image,p,E,b-p,w-E,s,this.resultPointCallback).find()}}class Us{constructor(){this.decoder=new A8}getDecoder(){return this.decoder}decode(s,l){let d,x;if(l!=null&&l.get($.PURE_BARCODE)!==void 0){const E=Us.extractPureBits(s.getBlackMatrix());d=this.decoder.decodeBitMatrix(E,l),x=Us.NO_POINTS}else{const E=new Ui(s.getBlackMatrix()).detect(l);d=this.decoder.decodeBitMatrix(E.getBits(),l),x=E.getPoints()}d.getOther()instanceof Vx&&d.getOther().applyMirroredCorrection(x);const h=new ye(d.getText(),d.getRawBytes(),void 0,x,le.QR_CODE,void 0),p=d.getByteSegments();p!==null&&h.putMetadata(ae.BYTE_SEGMENTS,p);const b=d.getECLevel();return b!==null&&h.putMetadata(ae.ERROR_CORRECTION_LEVEL,b),d.hasStructuredAppend()&&(h.putMetadata(ae.STRUCTURED_APPEND_SEQUENCE,d.getStructuredAppendSequenceNumber()),h.putMetadata(ae.STRUCTURED_APPEND_PARITY,d.getStructuredAppendParity())),h}reset(){}static extractPureBits(s){const l=s.getTopLeftOnBit(),d=s.getBottomRightOnBit();if(l===null||d===null)throw new J;const x=this.moduleSize(l,s);let h=l[1],p=d[1],b=l[0],E=d[0];if(b>=E||h>=p)throw new J;if(p-h!==E-b&&(E=b+(p-h),E>=s.getWidth()))throw new J;const w=Math.round((E-b+1)/x),I=Math.round((p-h+1)/x);if(w<=0||I<=0)throw new J;if(I!==w)throw new J;const V=Math.floor(x/2);h+=V,b+=V;const K=b+Math.floor((w-1)*x)-E;if(K>0){if(K>V)throw new J;b-=K}const oe=h+Math.floor((I-1)*x)-p;if(oe>0){if(oe>V)throw new J;h-=oe}const xe=new se(w,I);for(let pe=0;pe<I;pe++){const De=h+Math.floor(pe*x);for(let Te=0;Te<w;Te++)s.get(b+Math.floor(Te*x),De)&&xe.set(Te,pe)}return xe}static moduleSize(s,l){const d=l.getHeight(),x=l.getWidth();let h=s[0],p=s[1],b=!0,E=0;for(;h<x&&p<d;){if(b!==l.get(h,p)){if(++E===5)break;b=!b}h++,p++}if(h===x||p===d)throw new J;return(h-s[0])/7}}Us.NO_POINTS=new Array;class at{PDF417Common(){}static getBitCountSum(s){return ue.sum(s)}static toIntArray(s){if(s==null||!s.length)return at.EMPTY_INT_ARRAY;const l=new Int32Array(s.length);let d=0;for(const x of s)l[d++]=x;return l}static getCodeword(s){const l=j.binarySearch(at.SYMBOL_TABLE,s&262143);return l<0?-1:(at.CODEWORD_TABLE[l]-1)%at.NUMBER_OF_CODEWORDS}}at.NUMBER_OF_CODEWORDS=929,at.MAX_CODEWORDS_IN_BARCODE=at.NUMBER_OF_CODEWORDS-1,at.MIN_ROWS_IN_BARCODE=3,at.MAX_ROWS_IN_BARCODE=90,at.MODULES_IN_CODEWORD=17,at.MODULES_IN_STOP_PATTERN=18,at.BARS_IN_MODULE=8,at.EMPTY_INT_ARRAY=new Int32Array([]),at.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),at.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class D8{constructor(s,l){this.bits=s,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class gt{static detectMultiple(s,l,d){let x=s.getBlackMatrix(),h=gt.detect(d,x);return h.length||(x=x.clone(),x.rotate180(),h=gt.detect(d,x)),new D8(x,h)}static detect(s,l){const d=new Array;let x=0,h=0,p=!1;for(;x<l.getHeight();){const b=gt.findVertices(l,x,h);if(b[0]==null&&b[3]==null){if(!p)break;p=!1,h=0;for(const E of d)E[1]!=null&&(x=Math.trunc(Math.max(x,E[1].getY()))),E[3]!=null&&(x=Math.max(x,Math.trunc(E[3].getY())));x+=gt.ROW_STEP;continue}if(p=!0,d.push(b),!s)break;b[2]!=null?(h=Math.trunc(b[2].getX()),x=Math.trunc(b[2].getY())):(h=Math.trunc(b[4].getX()),x=Math.trunc(b[4].getY()))}return d}static findVertices(s,l,d){const x=s.getHeight(),h=s.getWidth(),p=new Array(8);return gt.copyToResult(p,gt.findRowsWithPattern(s,x,h,l,d,gt.START_PATTERN),gt.INDEXES_START_PATTERN),p[4]!=null&&(d=Math.trunc(p[4].getX()),l=Math.trunc(p[4].getY())),gt.copyToResult(p,gt.findRowsWithPattern(s,x,h,l,d,gt.STOP_PATTERN),gt.INDEXES_STOP_PATTERN),p}static copyToResult(s,l,d){for(let x=0;x<d.length;x++)s[d[x]]=l[x]}static findRowsWithPattern(s,l,d,x,h,p){const b=new Array(4);let E=!1;const w=new Int32Array(p.length);for(;x<l;x+=gt.ROW_STEP){let V=gt.findGuardPattern(s,h,x,d,!1,p,w);if(V!=null){for(;x>0;){const K=gt.findGuardPattern(s,h,--x,d,!1,p,w);if(K!=null)V=K;else{x++;break}}b[0]=new te(V[0],x),b[1]=new te(V[1],x),E=!0;break}}let I=x+1;if(E){let V=0,K=Int32Array.from([Math.trunc(b[0].getX()),Math.trunc(b[1].getX())]);for(;I<l;I++){const oe=gt.findGuardPattern(s,K[0],I,d,!1,p,w);if(oe!=null&&Math.abs(K[0]-oe[0])<gt.MAX_PATTERN_DRIFT&&Math.abs(K[1]-oe[1])<gt.MAX_PATTERN_DRIFT)K=oe,V=0;else{if(V>gt.SKIPPED_ROW_COUNT_MAX)break;V++}}I-=V+1,b[2]=new te(K[0],I),b[3]=new te(K[1],I)}return I-x<gt.BARCODE_MIN_HEIGHT&&j.fill(b,null),b}static findGuardPattern(s,l,d,x,h,p,b){j.fillWithin(b,0,b.length,0);let E=l,w=0;for(;s.get(E,d)&&E>0&&w++<gt.MAX_PIXEL_DRIFT;)E--;let I=E,V=0,K=p.length;for(let oe=h;I<x;I++)if(s.get(I,d)!==oe)b[V]++;else{if(V===K-1){if(gt.patternMatchVariance(b,p,gt.MAX_INDIVIDUAL_VARIANCE)<gt.MAX_AVG_VARIANCE)return new Int32Array([E,I]);E+=b[0]+b[1],D.arraycopy(b,2,b,0,V-1),b[V-1]=0,b[V]=0,V--}else V++;b[V]=1,oe=!oe}return V===K-1&&gt.patternMatchVariance(b,p,gt.MAX_INDIVIDUAL_VARIANCE)<gt.MAX_AVG_VARIANCE?new Int32Array([E,I-1]):null}static patternMatchVariance(s,l,d){let x=s.length,h=0,p=0;for(let w=0;w<x;w++)h+=s[w],p+=l[w];if(h<p)return 1/0;let b=h/p;d*=b;let E=0;for(let w=0;w<x;w++){let I=s[w],V=l[w]*b,K=I>V?I-V:V-I;if(K>d)return 1/0;E+=K}return E/h}}gt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),gt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),gt.MAX_AVG_VARIANCE=.42,gt.MAX_INDIVIDUAL_VARIANCE=.8,gt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),gt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),gt.MAX_PIXEL_DRIFT=3,gt.MAX_PATTERN_DRIFT=5,gt.SKIPPED_ROW_COUNT_MAX=25,gt.ROW_STEP=5,gt.BARCODE_MIN_HEIGHT=10;class _n{constructor(s,l){if(l.length===0)throw new y;this.field=s;let d=l.length;if(d>1&&l[0]===0){let x=1;for(;x<d&&l[x]===0;)x++;x===d?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(d-x),D.arraycopy(l,x,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let x=0;for(let h of this.coefficients)x=this.field.add(x,h);return x}let l=this.coefficients[0],d=this.coefficients.length;for(let x=1;x<d;x++)l=this.field.add(this.field.multiply(s,l),this.coefficients[x]);return l}add(s){if(!this.field.equals(s.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let l=this.coefficients,d=s.coefficients;if(l.length>d.length){let p=l;l=d,d=p}let x=new Int32Array(d.length),h=d.length-l.length;D.arraycopy(d,0,x,0,h);for(let p=h;p<d.length;p++)x[p]=this.field.add(l[p-h],d[p]);return new _n(this.field,x)}subtract(s){if(!this.field.equals(s.field))throw new y("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof _n?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new _n(this.field,new Int32Array([0]));let l=this.coefficients,d=l.length,x=s.coefficients,h=x.length,p=new Int32Array(d+h-1);for(let b=0;b<d;b++){let E=l[b];for(let w=0;w<h;w++)p[b+w]=this.field.add(p[b+w],this.field.multiply(E,x[w]))}return new _n(this.field,p)}negative(){let s=this.coefficients.length,l=new Int32Array(s);for(let d=0;d<s;d++)l[d]=this.field.subtract(0,this.coefficients[d]);return new _n(this.field,l)}multiplyScalar(s){if(s===0)return new _n(this.field,new Int32Array([0]));if(s===1)return this;let l=this.coefficients.length,d=new Int32Array(l);for(let x=0;x<l;x++)d[x]=this.field.multiply(this.coefficients[x],s);return new _n(this.field,d)}multiplyByMonomial(s,l){if(s<0)throw new y;if(l===0)return new _n(this.field,new Int32Array([0]));let d=this.coefficients.length,x=new Int32Array(d+s);for(let h=0;h<d;h++)x[h]=this.field.multiply(this.coefficients[h],l);return new _n(this.field,x)}toString(){let s=new ee;for(let l=this.getDegree();l>=0;l--){let d=this.getCoefficient(l);d!==0&&(d<0?(s.append(" - "),d=-d):s.length()>0&&s.append(" + "),(l===0||d!==1)&&s.append(d),l!==0&&(l===1?s.append("x"):(s.append("x^"),s.append(l))))}return s.toString()}}class _8{add(s,l){return(s+l)%this.modulus}subtract(s,l){return(this.modulus+s-l)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new y;return this.logTable[s]}inverse(s){if(s===0)throw new et;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,l){return s===0||l===0?0:this.expTable[(this.logTable[s]+this.logTable[l])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class tc extends _8{constructor(s,l){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let d=1;for(let x=0;x<s;x++)this.expTable[x]=d,d=d*l%s;for(let x=0;x<s-1;x++)this.logTable[this.expTable[x]]=x;this.zero=new _n(this,new Int32Array([0])),this.one=new _n(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,l){if(s<0)throw new y;if(l===0)return this.zero;let d=new Int32Array(s+1);return d[0]=l,new _n(this,d)}}tc.PDF417_GF=new tc(at.NUMBER_OF_CODEWORDS,3);class qx{constructor(){this.field=tc.PDF417_GF}decode(s,l,d){let x=new _n(this.field,s),h=new Int32Array(l),p=!1;for(let xe=l;xe>0;xe--){let pe=x.evaluateAt(this.field.exp(xe));h[l-xe]=pe,pe!==0&&(p=!0)}if(!p)return 0;let b=this.field.getOne();if(d!=null)for(const xe of d){let pe=this.field.exp(s.length-1-xe),De=new _n(this.field,new Int32Array([this.field.subtract(0,pe),1]));b=b.multiply(De)}let E=new _n(this.field,h),w=this.runEuclideanAlgorithm(this.field.buildMonomial(l,1),E,l),I=w[0],V=w[1],K=this.findErrorLocations(I),oe=this.findErrorMagnitudes(V,I,K);for(let xe=0;xe<K.length;xe++){let pe=s.length-1-this.field.log(K[xe]);if(pe<0)throw C.getChecksumInstance();s[pe]=this.field.subtract(s[pe],oe[xe])}return K.length}runEuclideanAlgorithm(s,l,d){if(s.getDegree()<l.getDegree()){let K=s;s=l,l=K}let x=s,h=l,p=this.field.getZero(),b=this.field.getOne();for(;h.getDegree()>=Math.round(d/2);){let K=x,oe=p;if(x=h,p=b,x.isZero())throw C.getChecksumInstance();h=K;let xe=this.field.getZero(),pe=x.getCoefficient(x.getDegree()),De=this.field.inverse(pe);for(;h.getDegree()>=x.getDegree()&&!h.isZero();){let Te=h.getDegree()-x.getDegree(),Ue=this.field.multiply(h.getCoefficient(h.getDegree()),De);xe=xe.add(this.field.buildMonomial(Te,Ue)),h=h.subtract(x.multiplyByMonomial(Te,Ue))}b=xe.multiply(p).subtract(oe).negative()}let E=b.getCoefficient(0);if(E===0)throw C.getChecksumInstance();let w=this.field.inverse(E),I=b.multiply(w),V=h.multiply(w);return[I,V]}findErrorLocations(s){let l=s.getDegree(),d=new Int32Array(l),x=0;for(let h=1;h<this.field.getSize()&&x<l;h++)s.evaluateAt(h)===0&&(d[x]=this.field.inverse(h),x++);if(x!==l)throw C.getChecksumInstance();return d}findErrorMagnitudes(s,l,d){let x=l.getDegree(),h=new Int32Array(x);for(let w=1;w<=x;w++)h[x-w]=this.field.multiply(w,l.getCoefficient(w));let p=new _n(this.field,h),b=d.length,E=new Int32Array(b);for(let w=0;w<b;w++){let I=this.field.inverse(d[w]),V=this.field.subtract(0,s.evaluateAt(I)),K=this.field.inverse(p.evaluateAt(I));E[w]=this.field.multiply(V,K)}return E}}class bo{constructor(s,l,d,x,h){s instanceof bo?this.constructor_2(s):this.constructor_1(s,l,d,x,h)}constructor_1(s,l,d,x,h){const p=l==null||d==null,b=x==null||h==null;if(p&&b)throw new J;p?(l=new te(0,x.getY()),d=new te(0,h.getY())):b&&(x=new te(s.getWidth()-1,l.getY()),h=new te(s.getWidth()-1,d.getY())),this.image=s,this.topLeft=l,this.bottomLeft=d,this.topRight=x,this.bottomRight=h,this.minX=Math.trunc(Math.min(l.getX(),d.getX())),this.maxX=Math.trunc(Math.max(x.getX(),h.getX())),this.minY=Math.trunc(Math.min(l.getY(),x.getY())),this.maxY=Math.trunc(Math.max(d.getY(),h.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,l){return s==null?l:l==null?s:new bo(s.image,s.topLeft,s.bottomLeft,l.topRight,l.bottomRight)}addMissingRows(s,l,d){let x=this.topLeft,h=this.bottomLeft,p=this.topRight,b=this.bottomRight;if(s>0){let E=d?this.topLeft:this.topRight,w=Math.trunc(E.getY()-s);w<0&&(w=0);let I=new te(E.getX(),w);d?x=I:p=I}if(l>0){let E=d?this.bottomLeft:this.bottomRight,w=Math.trunc(E.getY()+l);w>=this.image.getHeight()&&(w=this.image.getHeight()-1);let I=new te(E.getX(),w);d?h=I:b=I}return new bo(this.image,x,h,p,b)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class k8{constructor(s,l,d,x){this.columnCount=s,this.errorCorrectionLevel=x,this.rowCountUpperPart=l,this.rowCountLowerPart=d,this.rowCount=l+d}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Hi{constructor(){this.buffer=""}static form(s,l){let d=-1;function x(p,b,E,w,I,V){if(p==="%%")return"%";if(l[++d]===void 0)return;p=w?parseInt(w.substr(1)):void 0;let K=I?parseInt(I.substr(1)):void 0,oe;switch(V){case"s":oe=l[d];break;case"c":oe=l[d][0];break;case"f":oe=parseFloat(l[d]).toFixed(p);break;case"p":oe=parseFloat(l[d]).toPrecision(p);break;case"e":oe=parseFloat(l[d]).toExponential(p);break;case"x":oe=parseInt(l[d]).toString(K||16);break;case"d":oe=parseFloat(parseInt(l[d],K||10).toPrecision(p)).toFixed(0);break}oe=typeof oe=="object"?JSON.stringify(oe):(+oe).toString(K);let xe=parseInt(E),pe=E&&E[0]+""=="0"?"0":" ";for(;oe.length<xe;)oe=b!==void 0?oe+pe:pe+oe;return oe}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(h,x)}format(s,...l){this.buffer+=Hi.form(s,l)}toString(){return this.buffer}}class zi{constructor(s){this.boundingBox=new bo(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let l=this.getCodeword(s);if(l!=null)return l;for(let d=1;d<zi.MAX_NEARBY_DISTANCE;d++){let x=this.imageRowToCodewordIndex(s)-d;if(x>=0&&(l=this.codewords[x],l!=null)||(x=this.imageRowToCodewordIndex(s)+d,x<this.codewords.length&&(l=this.codewords[x],l!=null)))return l}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,l){this.codewords[this.imageRowToCodewordIndex(s)]=l}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new Hi;let l=0;for(const d of this.codewords){if(d==null){s.format("%3d:    |   %n",l++);continue}s.format("%3d: %3d|%3d%n",l++,d.getRowNumber(),d.getValue())}return s.toString()}}zi.MAX_NEARBY_DISTANCE=5;class Vi{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let l=this.values.get(s);l==null&&(l=0),l++,this.values.set(s,l)}getValue(){let s=-1,l=new Array;for(const[d,x]of this.values.entries()){const h={getKey:()=>d,getValue:()=>x};h.getValue()>s?(s=h.getValue(),l=[],l.push(h.getKey())):h.getValue()===s&&l.push(h.getKey())}return at.toIntArray(l)}getConfidence(s){return this.values.get(s)}}class Wx extends zi{constructor(s,l){super(s),this._isLeft=l}setRowNumbers(){for(let s of this.getCodewords())s?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let l=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(l,s);let d=this.getBoundingBox(),x=this._isLeft?d.getTopLeft():d.getTopRight(),h=this._isLeft?d.getBottomLeft():d.getBottomRight(),p=this.imageRowToCodewordIndex(Math.trunc(x.getY())),b=this.imageRowToCodewordIndex(Math.trunc(h.getY())),E=-1,w=1,I=0;for(let V=p;V<b;V++){if(l[V]==null)continue;let K=l[V],oe=K.getRowNumber()-E;if(oe===0)I++;else if(oe===1)w=Math.max(w,I),I=1,E=K.getRowNumber();else if(oe<0||K.getRowNumber()>=s.getRowCount()||oe>V)l[V]=null;else{let xe;w>2?xe=(w-2)*oe:xe=oe;let pe=xe>=V;for(let De=1;De<=xe&&!pe;De++)pe=l[V-De]!=null;pe?l[V]=null:(E=K.getRowNumber(),I=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let l=new Int32Array(s.getRowCount());for(let d of this.getCodewords())if(d!=null){let x=d.getRowNumber();if(x>=l.length)continue;l[x]++}return l}adjustIncompleteIndicatorColumnRowNumbers(s){let l=this.getBoundingBox(),d=this._isLeft?l.getTopLeft():l.getTopRight(),x=this._isLeft?l.getBottomLeft():l.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(d.getY())),p=this.imageRowToCodewordIndex(Math.trunc(x.getY())),b=this.getCodewords(),E=-1;for(let w=h;w<p;w++){if(b[w]==null)continue;let I=b[w];I.setRowNumberAsRowIndicatorColumn();let V=I.getRowNumber()-E;V===0||(V===1?E=I.getRowNumber():I.getRowNumber()>=s.getRowCount()?b[w]=null:E=I.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),l=new Vi,d=new Vi,x=new Vi,h=new Vi;for(let b of s){if(b==null)continue;b.setRowNumberAsRowIndicatorColumn();let E=b.getValue()%30,w=b.getRowNumber();switch(this._isLeft||(w+=2),w%3){case 0:d.setValue(E*3+1);break;case 1:h.setValue(E/3),x.setValue(E%3);break;case 2:l.setValue(E+1);break}}if(l.getValue().length===0||d.getValue().length===0||x.getValue().length===0||h.getValue().length===0||l.getValue()[0]<1||d.getValue()[0]+x.getValue()[0]<at.MIN_ROWS_IN_BARCODE||d.getValue()[0]+x.getValue()[0]>at.MAX_ROWS_IN_BARCODE)return null;let p=new k8(l.getValue()[0],d.getValue()[0],x.getValue()[0],h.getValue()[0]);return this.removeIncorrectCodewords(s,p),p}removeIncorrectCodewords(s,l){for(let d=0;d<s.length;d++){let x=s[d];if(s[d]==null)continue;let h=x.getValue()%30,p=x.getRowNumber();if(p>l.getRowCount()){s[d]=null;continue}switch(this._isLeft||(p+=2),p%3){case 0:h*3+1!==l.getRowCountUpperPart()&&(s[d]=null);break;case 1:(Math.trunc(h/3)!==l.getErrorCorrectionLevel()||h%3!==l.getRowCountLowerPart())&&(s[d]=null);break;case 2:h+1!==l.getColumnCount()&&(s[d]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class qi{constructor(s,l){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=l,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=at.MAX_CODEWORDS_IN_BARCODE,l;do l=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<l);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let l=1;l<this.barcodeColumnCount+1;l++){let d=this.detectionResultColumns[l].getCodewords();for(let x=0;x<d.length;x++)d[x]!=null&&(d[x].hasValidRowNumber()||this.adjustRowNumbers(l,x,d))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let d=0;d<s.length;d++)if(s[d]!=null&&l[d]!=null&&s[d].getRowNumber()===l[d].getRowNumber())for(let x=1;x<=this.barcodeColumnCount;x++){let h=this.detectionResultColumns[x].getCodewords()[d];h!=null&&(h.setRowNumber(s[d].getRowNumber()),h.hasValidRowNumber()||(this.detectionResultColumns[x].getCodewords()[d]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let d=0;d<l.length;d++){if(l[d]==null)continue;let x=l[d].getRowNumber(),h=0;for(let p=this.barcodeColumnCount+1;p>0&&h<this.ADJUST_ROW_NUMBER_SKIP;p--){let b=this.detectionResultColumns[p].getCodewords()[d];b!=null&&(h=qi.adjustRowNumberIfValid(x,h,b),b.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,l=this.detectionResultColumns[0].getCodewords();for(let d=0;d<l.length;d++){if(l[d]==null)continue;let x=l[d].getRowNumber(),h=0;for(let p=1;p<this.barcodeColumnCount+1&&h<this.ADJUST_ROW_NUMBER_SKIP;p++){let b=this.detectionResultColumns[p].getCodewords()[d];b!=null&&(h=qi.adjustRowNumberIfValid(x,h,b),b.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,l,d){return d==null||d.hasValidRowNumber()||(d.isValidRowNumber(s)?(d.setRowNumber(s),l=0):++l),l}adjustRowNumbers(s,l,d){if(!this.detectionResultColumns[s-1])return;let x=d[l],h=this.detectionResultColumns[s-1].getCodewords(),p=h;this.detectionResultColumns[s+1]!=null&&(p=this.detectionResultColumns[s+1].getCodewords());let b=new Array(14);b[2]=h[l],b[3]=p[l],l>0&&(b[0]=d[l-1],b[4]=h[l-1],b[5]=p[l-1]),l>1&&(b[8]=d[l-2],b[10]=h[l-2],b[11]=p[l-2]),l<d.length-1&&(b[1]=d[l+1],b[6]=h[l+1],b[7]=p[l+1]),l<d.length-2&&(b[9]=d[l+2],b[12]=h[l+2],b[13]=p[l+2]);for(let E of b)if(qi.adjustRowNumber(x,E))return}static adjustRowNumber(s,l){return l==null?!1:l.hasValidRowNumber()&&l.getBucket()===s.getBucket()?(s.setRowNumber(l.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,l){this.detectionResultColumns[s]=l}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let l=new Hi;for(let d=0;d<s.getCodewords().length;d++){l.format("CW %3d:",d);for(let x=0;x<this.barcodeColumnCount+2;x++){if(this.detectionResultColumns[x]==null){l.format("    |   ");continue}let h=this.detectionResultColumns[x].getCodewords()[d];if(h==null){l.format("    |   ");continue}l.format(" %3d|%3d",h.getRowNumber(),h.getValue())}l.format("%n")}return l.toString()}}class Wi{constructor(s,l,d,x){this.rowNumber=Wi.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(l),this.bucket=Math.trunc(d),this.value=Math.trunc(x)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==Wi.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}Wi.BARCODE_ROW_UNKNOWN=-1;class Zn{static initialize(){for(let s=0;s<at.SYMBOL_TABLE.length;s++){let l=at.SYMBOL_TABLE[s],d=l&1;for(let x=0;x<at.BARS_IN_MODULE;x++){let h=0;for(;(l&1)===d;)h+=1,l>>=1;d=l&1,Zn.RATIOS_TABLE[s]||(Zn.RATIOS_TABLE[s]=new Array(at.BARS_IN_MODULE)),Zn.RATIOS_TABLE[s][at.BARS_IN_MODULE-x-1]=Math.fround(h/at.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let l=Zn.getDecodedCodewordValue(Zn.sampleBitCounts(s));return l!==-1?l:Zn.getClosestDecodedValue(s)}static sampleBitCounts(s){let l=ue.sum(s),d=new Int32Array(at.BARS_IN_MODULE),x=0,h=0;for(let p=0;p<at.MODULES_IN_CODEWORD;p++){let b=l/(2*at.MODULES_IN_CODEWORD)+p*l/at.MODULES_IN_CODEWORD;h+s[x]<=b&&(h+=s[x],x++),d[x]++}return d}static getDecodedCodewordValue(s){let l=Zn.getBitValue(s);return at.getCodeword(l)===-1?-1:l}static getBitValue(s){let l=0;for(let d=0;d<s.length;d++)for(let x=0;x<s[d];x++)l=l<<1|(d%2===0?1:0);return Math.trunc(l)}static getClosestDecodedValue(s){let l=ue.sum(s),d=new Array(at.BARS_IN_MODULE);if(l>1)for(let p=0;p<d.length;p++)d[p]=Math.fround(s[p]/l);let x=_e.MAX_VALUE,h=-1;this.bSymbolTableReady||Zn.initialize();for(let p=0;p<Zn.RATIOS_TABLE.length;p++){let b=0,E=Zn.RATIOS_TABLE[p];for(let w=0;w<at.BARS_IN_MODULE;w++){let I=Math.fround(E[w]-d[w]);if(b+=Math.fround(I*I),b>=x)break}b<x&&(x=b,h=at.SYMBOL_TABLE[p])}return h}}Zn.bSymbolTableReady=!1,Zn.RATIOS_TABLE=new Array(at.SYMBOL_TABLE.length).map(H=>new Array(at.BARS_IN_MODULE));class Gx{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class Qx{static parseLong(s,l=void 0){return parseInt(s,l)}}class Kx extends f{}Kx.kind="NullPointerException";class S8{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,l,d){if(s==null)throw new Kx;if(l<0||l>s.length||d<0||l+d>s.length||l+d<0)throw new _;if(d===0)return;for(let x=0;x<d;x++)this.write(s[l+x])}flush(){}close(){}}class F8 extends f{}class T8 extends S8{constructor(s=32){if(super(),this.count=0,s<0)throw new y("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let d=this.buf.length<<1;if(d-s<0&&(d=s),d<0){if(s<0)throw new F8;d=F.MAX_VALUE}this.buf=j.copyOfUint8Array(this.buf,d)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,l,d){if(l<0||l>s.length||d<0||l+d-s.length>0)throw new _;this.ensureCapacity(this.count+d),D.arraycopy(s,l,this.buf,this.count,d),this.count+=d}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return j.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var jt;(function(H){H[H.ALPHA=0]="ALPHA",H[H.LOWER=1]="LOWER",H[H.MIXED=2]="MIXED",H[H.PUNCT=3]="PUNCT",H[H.ALPHA_SHIFT=4]="ALPHA_SHIFT",H[H.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(jt||(jt={}));function Yx(){if(typeof window<"u")return window.BigInt||null;if(typeof hi<"u")return hi.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let ol;function Hs(H){if(typeof ol>"u"&&(ol=Yx()),ol===null)throw new Error("BigInt is not supported!");return ol(H)}function I8(){let H=[];H[0]=Hs(1);let s=Hs(900);H[1]=s;for(let l=2;l<16;l++)H[l]=H[l-1]*s;return H}class Fe{static decode(s,l){let d=new ee(""),x=S.ISO8859_1;d.enableDecoding(x);let h=1,p=s[h++],b=new Gx;for(;h<s[0];){switch(p){case Fe.TEXT_COMPACTION_MODE_LATCH:h=Fe.textCompaction(s,h,d);break;case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:h=Fe.byteCompaction(p,s,x,h,d);break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(s[h++]);break;case Fe.NUMERIC_COMPACTION_MODE_LATCH:h=Fe.numericCompaction(s,h,d);break;case Fe.ECI_CHARSET:S.getCharacterSetECIByValue(s[h++]);break;case Fe.ECI_GENERAL_PURPOSE:h+=2;break;case Fe.ECI_USER_DEFINED:h++;break;case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:h=Fe.decodeMacroBlock(s,h,b);break;case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:throw new O;default:h--,h=Fe.textCompaction(s,h,d);break}if(h<s.length)p=s[h++];else throw O.getFormatInstance()}if(d.length()===0)throw O.getFormatInstance();let E=new Ne(null,d.toString(),null,l);return E.setOther(b),E}static decodeMacroBlock(s,l,d){if(l+Fe.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw O.getFormatInstance();let x=new Int32Array(Fe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let b=0;b<Fe.NUMBER_OF_SEQUENCE_CODEWORDS;b++,l++)x[b]=s[l];d.setSegmentIndex(F.parseInt(Fe.decodeBase900toBase10(x,Fe.NUMBER_OF_SEQUENCE_CODEWORDS)));let h=new ee;l=Fe.textCompaction(s,l,h),d.setFileId(h.toString());let p=-1;for(s[l]===Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(p=l+1);l<s[0];)switch(s[l]){case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(l++,s[l]){case Fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let b=new ee;l=Fe.textCompaction(s,l+1,b),d.setFileName(b.toString());break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let E=new ee;l=Fe.textCompaction(s,l+1,E),d.setSender(E.toString());break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let w=new ee;l=Fe.textCompaction(s,l+1,w),d.setAddressee(w.toString());break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let I=new ee;l=Fe.numericCompaction(s,l+1,I),d.setSegmentCount(F.parseInt(I.toString()));break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let V=new ee;l=Fe.numericCompaction(s,l+1,V),d.setTimestamp(Qx.parseLong(V.toString()));break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let K=new ee;l=Fe.numericCompaction(s,l+1,K),d.setChecksum(F.parseInt(K.toString()));break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let oe=new ee;l=Fe.numericCompaction(s,l+1,oe),d.setFileSize(Qx.parseLong(oe.toString()));break;default:throw O.getFormatInstance()}break;case Fe.MACRO_PDF417_TERMINATOR:l++,d.setLastSegment(!0);break;default:throw O.getFormatInstance()}if(p!==-1){let b=l-p;d.isLastSegment()&&b--,d.setOptionalData(j.copyOfRange(s,p,p+b))}return l}static textCompaction(s,l,d){let x=new Int32Array((s[0]-l)*2),h=new Int32Array((s[0]-l)*2),p=0,b=!1;for(;l<s[0]&&!b;){let E=s[l++];if(E<Fe.TEXT_COMPACTION_MODE_LATCH)x[p]=E/30,x[p+1]=E%30,p+=2;else switch(E){case Fe.TEXT_COMPACTION_MODE_LATCH:x[p++]=Fe.TEXT_COMPACTION_MODE_LATCH;break;case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:case Fe.NUMERIC_COMPACTION_MODE_LATCH:case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:l--,b=!0;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x[p]=Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,E=s[l++],h[p]=E,p++;break}}return Fe.decodeTextCompaction(x,h,p,d),l}static decodeTextCompaction(s,l,d,x){let h=jt.ALPHA,p=jt.ALPHA,b=0;for(;b<d;){let E=s[b],w="";switch(h){case jt.ALPHA:if(E<26)w=String.fromCharCode(65+E);else switch(E){case 26:w=" ";break;case Fe.LL:h=jt.LOWER;break;case Fe.ML:h=jt.MIXED;break;case Fe.PS:p=h,h=jt.PUNCT_SHIFT;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(l[b]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:h=jt.ALPHA;break}break;case jt.LOWER:if(E<26)w=String.fromCharCode(97+E);else switch(E){case 26:w=" ";break;case Fe.AS:p=h,h=jt.ALPHA_SHIFT;break;case Fe.ML:h=jt.MIXED;break;case Fe.PS:p=h,h=jt.PUNCT_SHIFT;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(l[b]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:h=jt.ALPHA;break}break;case jt.MIXED:if(E<Fe.PL)w=Fe.MIXED_CHARS[E];else switch(E){case Fe.PL:h=jt.PUNCT;break;case 26:w=" ";break;case Fe.LL:h=jt.LOWER;break;case Fe.AL:h=jt.ALPHA;break;case Fe.PS:p=h,h=jt.PUNCT_SHIFT;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(l[b]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:h=jt.ALPHA;break}break;case jt.PUNCT:if(E<Fe.PAL)w=Fe.PUNCT_CHARS[E];else switch(E){case Fe.PAL:h=jt.ALPHA;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(l[b]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:h=jt.ALPHA;break}break;case jt.ALPHA_SHIFT:if(h=p,E<26)w=String.fromCharCode(65+E);else switch(E){case 26:w=" ";break;case Fe.TEXT_COMPACTION_MODE_LATCH:h=jt.ALPHA;break}break;case jt.PUNCT_SHIFT:if(h=p,E<Fe.PAL)w=Fe.PUNCT_CHARS[E];else switch(E){case Fe.PAL:h=jt.ALPHA;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(l[b]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:h=jt.ALPHA;break}break}w!==""&&x.append(w),b++}}static byteCompaction(s,l,d,x,h){let p=new T8,b=0,E=0,w=!1;switch(s){case Fe.BYTE_COMPACTION_MODE_LATCH:let I=new Int32Array(6),V=l[x++];for(;x<l[0]&&!w;)switch(I[b++]=V,E=900*E+V,V=l[x++],V){case Fe.TEXT_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.NUMERIC_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:x--,w=!0;break;default:if(b%5===0&&b>0){for(let K=0;K<6;++K)p.write(Number(Hs(E)>>Hs(8*(5-K))));E=0,b=0}break}x===l[0]&&V<Fe.TEXT_COMPACTION_MODE_LATCH&&(I[b++]=V);for(let K=0;K<b;K++)p.write(I[K]);break;case Fe.BYTE_COMPACTION_MODE_LATCH_6:for(;x<l[0]&&!w;){let K=l[x++];if(K<Fe.TEXT_COMPACTION_MODE_LATCH)b++,E=900*E+K;else switch(K){case Fe.TEXT_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.NUMERIC_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:x--,w=!0;break}if(b%5===0&&b>0){for(let oe=0;oe<6;++oe)p.write(Number(Hs(E)>>Hs(8*(5-oe))));E=0,b=0}}break}return h.append(G.decode(p.toByteArray(),d)),x}static numericCompaction(s,l,d){let x=0,h=!1,p=new Int32Array(Fe.MAX_NUMERIC_CODEWORDS);for(;l<s[0]&&!h;){let b=s[l++];if(l===s[0]&&(h=!0),b<Fe.TEXT_COMPACTION_MODE_LATCH)p[x]=b,x++;else switch(b){case Fe.TEXT_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:l--,h=!0;break}(x%Fe.MAX_NUMERIC_CODEWORDS===0||b===Fe.NUMERIC_COMPACTION_MODE_LATCH||h)&&x>0&&(d.append(Fe.decodeBase900toBase10(p,x)),x=0)}return l}static decodeBase900toBase10(s,l){let d=Hs(0);for(let h=0;h<l;h++)d+=Fe.EXP900[l-h-1]*Hs(s[h]);let x=d.toString();if(x.charAt(0)!=="1")throw new O;return x.substring(1)}}Fe.TEXT_COMPACTION_MODE_LATCH=900,Fe.BYTE_COMPACTION_MODE_LATCH=901,Fe.NUMERIC_COMPACTION_MODE_LATCH=902,Fe.BYTE_COMPACTION_MODE_LATCH_6=924,Fe.ECI_USER_DEFINED=925,Fe.ECI_GENERAL_PURPOSE=926,Fe.ECI_CHARSET=927,Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Fe.MACRO_PDF417_TERMINATOR=922,Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Fe.MAX_NUMERIC_CODEWORDS=15,Fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Fe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Fe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Fe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Fe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Fe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Fe.PL=25,Fe.LL=27,Fe.AS=27,Fe.ML=28,Fe.AL=28,Fe.PS=29,Fe.PAL=29,Fe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Fe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Fe.EXP900=Yx()?I8():[],Fe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class pt{constructor(){}static decode(s,l,d,x,h,p,b){let E=new bo(s,l,d,x,h),w=null,I=null,V;for(let xe=!0;;xe=!1){if(l!=null&&(w=pt.getRowIndicatorColumn(s,E,l,!0,p,b)),x!=null&&(I=pt.getRowIndicatorColumn(s,E,x,!1,p,b)),V=pt.merge(w,I),V==null)throw J.getNotFoundInstance();let pe=V.getBoundingBox();if(xe&&pe!=null&&(pe.getMinY()<E.getMinY()||pe.getMaxY()>E.getMaxY()))E=pe;else break}V.setBoundingBox(E);let K=V.getBarcodeColumnCount()+1;V.setDetectionResultColumn(0,w),V.setDetectionResultColumn(K,I);let oe=w!=null;for(let xe=1;xe<=K;xe++){let pe=oe?xe:K-xe;if(V.getDetectionResultColumn(pe)!==void 0)continue;let De;pe===0||pe===K?De=new Wx(E,pe===0):De=new zi(E),V.setDetectionResultColumn(pe,De);let Te=-1,Ue=Te;for(let qe=E.getMinY();qe<=E.getMaxY();qe++){if(Te=pt.getStartColumn(V,pe,qe,oe),Te<0||Te>E.getMaxX()){if(Ue===-1)continue;Te=Ue}let je=pt.detectCodeword(s,E.getMinX(),E.getMaxX(),oe,Te,qe,p,b);je!=null&&(De.setCodeword(qe,je),Ue=Te,p=Math.min(p,je.getWidth()),b=Math.max(b,je.getWidth()))}}return pt.createDecoderResult(V)}static merge(s,l){if(s==null&&l==null)return null;let d=pt.getBarcodeMetadata(s,l);if(d==null)return null;let x=bo.merge(pt.adjustBoundingBox(s),pt.adjustBoundingBox(l));return new qi(d,x)}static adjustBoundingBox(s){if(s==null)return null;let l=s.getRowHeights();if(l==null)return null;let d=pt.getMax(l),x=0;for(let b of l)if(x+=d-b,b>0)break;let h=s.getCodewords();for(let b=0;x>0&&h[b]==null;b++)x--;let p=0;for(let b=l.length-1;b>=0&&(p+=d-l[b],!(l[b]>0));b--);for(let b=h.length-1;p>0&&h[b]==null;b--)p--;return s.getBoundingBox().addMissingRows(x,p,s.isLeft())}static getMax(s){let l=-1;for(let d of s)l=Math.max(l,d);return l}static getBarcodeMetadata(s,l){let d;if(s==null||(d=s.getBarcodeMetadata())==null)return l==null?null:l.getBarcodeMetadata();let x;return l==null||(x=l.getBarcodeMetadata())==null?d:d.getColumnCount()!==x.getColumnCount()&&d.getErrorCorrectionLevel()!==x.getErrorCorrectionLevel()&&d.getRowCount()!==x.getRowCount()?null:d}static getRowIndicatorColumn(s,l,d,x,h,p){let b=new Wx(l,x);for(let E=0;E<2;E++){let w=E===0?1:-1,I=Math.trunc(Math.trunc(d.getX()));for(let V=Math.trunc(Math.trunc(d.getY()));V<=l.getMaxY()&&V>=l.getMinY();V+=w){let K=pt.detectCodeword(s,0,s.getWidth(),x,I,V,h,p);K!=null&&(b.setCodeword(V,K),x?I=K.getStartX():I=K.getEndX())}}return b}static adjustCodewordCount(s,l){let d=l[0][1],x=d.getValue(),h=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-pt.getNumberOfECCodeWords(s.getBarcodeECLevel());if(x.length===0){if(h<1||h>at.MAX_CODEWORDS_IN_BARCODE)throw J.getNotFoundInstance();d.setValue(h)}else x[0]!==h&&d.setValue(h)}static createDecoderResult(s){let l=pt.createBarcodeMatrix(s);pt.adjustCodewordCount(s,l);let d=new Array,x=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),h=[],p=new Array;for(let E=0;E<s.getBarcodeRowCount();E++)for(let w=0;w<s.getBarcodeColumnCount();w++){let I=l[E][w+1].getValue(),V=E*s.getBarcodeColumnCount()+w;I.length===0?d.push(V):I.length===1?x[V]=I[0]:(p.push(V),h.push(I))}let b=new Array(h.length);for(let E=0;E<b.length;E++)b[E]=h[E];return pt.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),x,at.toIntArray(d),at.toIntArray(p),b)}static createDecoderResultFromAmbiguousValues(s,l,d,x,h){let p=new Int32Array(x.length),b=100;for(;b-- >0;){for(let E=0;E<p.length;E++)l[x[E]]=h[E][p[E]];try{return pt.decodeCodewords(l,s,d)}catch(E){if(!(E instanceof C))throw E}if(p.length===0)throw C.getChecksumInstance();for(let E=0;E<p.length;E++)if(p[E]<h[E].length-1){p[E]++;break}else if(p[E]=0,E===p.length-1)throw C.getChecksumInstance()}throw C.getChecksumInstance()}static createBarcodeMatrix(s){let l=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let x=0;x<l.length;x++)for(let h=0;h<l[x].length;h++)l[x][h]=new Vi;let d=0;for(let x of s.getDetectionResultColumns()){if(x!=null){for(let h of x.getCodewords())if(h!=null){let p=h.getRowNumber();if(p>=0){if(p>=l.length)continue;l[p][d].setValue(h.getValue())}}}d++}return l}static isValidBarcodeColumn(s,l){return l>=0&&l<=s.getBarcodeColumnCount()+1}static getStartColumn(s,l,d,x){let h=x?1:-1,p=null;if(pt.isValidBarcodeColumn(s,l-h)&&(p=s.getDetectionResultColumn(l-h).getCodeword(d)),p!=null)return x?p.getEndX():p.getStartX();if(p=s.getDetectionResultColumn(l).getCodewordNearby(d),p!=null)return x?p.getStartX():p.getEndX();if(pt.isValidBarcodeColumn(s,l-h)&&(p=s.getDetectionResultColumn(l-h).getCodewordNearby(d)),p!=null)return x?p.getEndX():p.getStartX();let b=0;for(;pt.isValidBarcodeColumn(s,l-h);){l-=h;for(let E of s.getDetectionResultColumn(l).getCodewords())if(E!=null)return(x?E.getEndX():E.getStartX())+h*b*(E.getEndX()-E.getStartX());b++}return x?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,l,d,x,h,p,b,E){h=pt.adjustCodewordStartColumn(s,l,d,x,h,p);let w=pt.getModuleBitCount(s,l,d,x,h,p);if(w==null)return null;let I,V=ue.sum(w);if(x)I=h+V;else{for(let xe=0;xe<w.length/2;xe++){let pe=w[xe];w[xe]=w[w.length-1-xe],w[w.length-1-xe]=pe}I=h,h=I-V}if(!pt.checkCodewordSkew(V,b,E))return null;let K=Zn.getDecodedValue(w),oe=at.getCodeword(K);return oe===-1?null:new Wi(h,I,pt.getCodewordBucketNumber(K),oe)}static getModuleBitCount(s,l,d,x,h,p){let b=h,E=new Int32Array(8),w=0,I=x?1:-1,V=x;for(;(x?b<d:b>=l)&&w<E.length;)s.get(b,p)===V?(E[w]++,b+=I):(w++,V=!V);return w===E.length||b===(x?d:l)&&w===E.length-1?E:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,l,d,x,h,p){let b=h,E=x?-1:1;for(let w=0;w<2;w++){for(;(x?b>=l:b<d)&&x===s.get(b,p);){if(Math.abs(h-b)>pt.CODEWORD_SKEW_SIZE)return h;b+=E}E=-E,x=!x}return b}static checkCodewordSkew(s,l,d){return l-pt.CODEWORD_SKEW_SIZE<=s&&s<=d+pt.CODEWORD_SKEW_SIZE}static decodeCodewords(s,l,d){if(s.length===0)throw O.getFormatInstance();let x=1<<l+1,h=pt.correctErrors(s,d,x);pt.verifyCodewordCount(s,x);let p=Fe.decode(s,""+l);return p.setErrorsCorrected(h),p.setErasures(d.length),p}static correctErrors(s,l,d){if(l!=null&&l.length>d/2+pt.MAX_ERRORS||d<0||d>pt.MAX_EC_CODEWORDS)throw C.getChecksumInstance();return pt.errorCorrection.decode(s,d,l)}static verifyCodewordCount(s,l){if(s.length<4)throw O.getFormatInstance();let d=s[0];if(d>s.length)throw O.getFormatInstance();if(d===0)if(l<s.length)s[0]=s.length-l;else throw O.getFormatInstance()}static getBitCountForCodeword(s){let l=new Int32Array(8),d=0,x=l.length-1;for(;!((s&1)!==d&&(d=s&1,x--,x<0));)l[x]++,s>>=1;return l}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return pt.getCodewordBucketNumber(pt.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let l=new Hi;for(let d=0;d<s.length;d++){l.format("Row %2d: ",d);for(let x=0;x<s[d].length;x++){let h=s[d][x];h.getValue().length===0?l.format("        ",null):l.format("%4d(%2d)",h.getValue()[0],h.getConfidence(h.getValue()[0]))}l.format("%n")}return l.toString()}}pt.CODEWORD_SKEW_SIZE=2,pt.MAX_ERRORS=3,pt.MAX_EC_CODEWORDS=512,pt.errorCorrection=new qx;class kn{decode(s,l=null){let d=kn.decode(s,l,!1);if(d==null||d.length===0||d[0]==null)throw J.getNotFoundInstance();return d[0]}decodeMultiple(s,l=null){try{return kn.decode(s,l,!0)}catch(d){throw d instanceof O||d instanceof C?J.getNotFoundInstance():d}}static decode(s,l,d){const x=new Array,h=gt.detectMultiple(s,l,d);for(const p of h.getPoints()){const b=pt.decode(h.getBits(),p[4],p[5],p[6],p[7],kn.getMinCodewordWidth(p),kn.getMaxCodewordWidth(p)),E=new ye(b.getText(),b.getRawBytes(),void 0,p,le.PDF_417);E.putMetadata(ae.ERROR_CORRECTION_LEVEL,b.getECLevel());const w=b.getOther();w!=null&&E.putMetadata(ae.PDF417_EXTRA_METADATA,w),x.push(E)}return x.map(p=>p)}static getMaxWidth(s,l){return s==null||l==null?0:Math.trunc(Math.abs(s.getX()-l.getX()))}static getMinWidth(s,l){return s==null||l==null?F.MAX_VALUE:Math.trunc(Math.abs(s.getX()-l.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(kn.getMaxWidth(s[0],s[4]),kn.getMaxWidth(s[6],s[2])*at.MODULES_IN_CODEWORD/at.MODULES_IN_STOP_PATTERN),Math.max(kn.getMaxWidth(s[1],s[5]),kn.getMaxWidth(s[7],s[3])*at.MODULES_IN_CODEWORD/at.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(kn.getMinWidth(s[0],s[4]),kn.getMinWidth(s[6],s[2])*at.MODULES_IN_CODEWORD/at.MODULES_IN_STOP_PATTERN),Math.min(kn.getMinWidth(s[1],s[5]),kn.getMinWidth(s[7],s[3])*at.MODULES_IN_CODEWORD/at.MODULES_IN_STOP_PATTERN)))}reset(){}}class il extends f{}il.kind="ReaderException";class Xx{constructor(s,l){this.verbose=s===!0,l&&this.setHints(l)}decode(s,l){return l&&this.setHints(l),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const l=!r(s)&&s.get($.TRY_HARDER)===!0,d=r(s)?null:s.get($.POSSIBLE_FORMATS),x=new Array;if(!r(d)){const h=d.some(p=>p===le.UPC_A||p===le.UPC_E||p===le.EAN_13||p===le.EAN_8||p===le.CODABAR||p===le.CODE_39||p===le.CODE_93||p===le.CODE_128||p===le.ITF||p===le.RSS_14||p===le.RSS_EXPANDED);h&&!l&&x.push(new ti(s,this.verbose)),d.includes(le.QR_CODE)&&x.push(new Us),d.includes(le.DATA_MATRIX)&&x.push(new js),d.includes(le.AZTEC)&&x.push(new Rt),d.includes(le.PDF_417)&&x.push(new kn),h&&l&&x.push(new ti(s,this.verbose))}x.length===0&&(l||x.push(new ti(s,this.verbose)),x.push(new Us),x.push(new js),x.push(new Rt),x.push(new kn),l&&x.push(new ti(s,this.verbose))),this.readers=x}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new il("No readers where selected, nothing can be read.");for(const l of this.readers)try{return l.decode(s,this.hints)}catch(d){if(d instanceof il)continue}throw new J("No MultiFormat Readers were able to detect the code.")}}class M8 extends re{constructor(s=null,l=500){const d=new Xx;d.setHints(s),super(d,l)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class P8 extends re{constructor(s=500){super(new kn,s)}}class R8 extends re{constructor(s=500){super(new Us,s)}}var nc;(function(H){H[H.ERROR_CORRECTION=0]="ERROR_CORRECTION",H[H.CHARACTER_SET=1]="CHARACTER_SET",H[H.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",H[H.MIN_SIZE=3]="MIN_SIZE",H[H.MAX_SIZE=4]="MAX_SIZE",H[H.MARGIN=5]="MARGIN",H[H.PDF417_COMPACT=6]="PDF417_COMPACT",H[H.PDF417_COMPACTION=7]="PDF417_COMPACTION",H[H.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",H[H.AZTEC_LAYERS=9]="AZTEC_LAYERS",H[H.QR_VERSION=10]="QR_VERSION"})(nc||(nc={}));var gn=nc;class rc{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new ze(s,Int32Array.from([1])))}buildGenerator(s){const l=this.cachedGenerators;if(s>=l.length){let d=l[l.length-1];const x=this.field;for(let h=l.length;h<=s;h++){const p=d.multiply(new ze(x,Int32Array.from([1,x.exp(h-1+x.getGeneratorBase())])));l.push(p),d=p}}return l[s]}encode(s,l){if(l===0)throw new y("No error correction bytes");const d=s.length-l;if(d<=0)throw new y("No data bytes provided");const x=this.buildGenerator(l),h=new Int32Array(d);D.arraycopy(s,0,h,0,d);let p=new ze(this.field,h);p=p.multiplyByMonomial(l,1);const E=p.divide(x)[1].getCoefficients(),w=l-E.length;for(let I=0;I<w;I++)s[d+I]=0;D.arraycopy(E,0,s,d+w,E.length)}}class on{constructor(){}static applyMaskPenaltyRule1(s){return on.applyMaskPenaltyRule1Internal(s,!0)+on.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let l=0;const d=s.getArray(),x=s.getWidth(),h=s.getHeight();for(let p=0;p<h-1;p++){const b=d[p];for(let E=0;E<x-1;E++){const w=b[E];w===b[E+1]&&w===d[p+1][E]&&w===d[p+1][E+1]&&l++}}return on.N2*l}static applyMaskPenaltyRule3(s){let l=0;const d=s.getArray(),x=s.getWidth(),h=s.getHeight();for(let p=0;p<h;p++)for(let b=0;b<x;b++){const E=d[p];b+6<x&&E[b]===1&&E[b+1]===0&&E[b+2]===1&&E[b+3]===1&&E[b+4]===1&&E[b+5]===0&&E[b+6]===1&&(on.isWhiteHorizontal(E,b-4,b)||on.isWhiteHorizontal(E,b+7,b+11))&&l++,p+6<h&&d[p][b]===1&&d[p+1][b]===0&&d[p+2][b]===1&&d[p+3][b]===1&&d[p+4][b]===1&&d[p+5][b]===0&&d[p+6][b]===1&&(on.isWhiteVertical(d,b,p-4,p)||on.isWhiteVertical(d,b,p+7,p+11))&&l++}return l*on.N3}static isWhiteHorizontal(s,l,d){l=Math.max(l,0),d=Math.min(d,s.length);for(let x=l;x<d;x++)if(s[x]===1)return!1;return!0}static isWhiteVertical(s,l,d,x){d=Math.max(d,0),x=Math.min(x,s.length);for(let h=d;h<x;h++)if(s[h][l]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let l=0;const d=s.getArray(),x=s.getWidth(),h=s.getHeight();for(let E=0;E<h;E++){const w=d[E];for(let I=0;I<x;I++)w[I]===1&&l++}const p=s.getHeight()*s.getWidth();return Math.floor(Math.abs(l*2-p)*10/p)*on.N4}static getDataMaskBit(s,l,d){let x,h;switch(s){case 0:x=d+l&1;break;case 1:x=d&1;break;case 2:x=l%3;break;case 3:x=(d+l)%3;break;case 4:x=Math.floor(d/2)+Math.floor(l/3)&1;break;case 5:h=d*l,x=(h&1)+h%3;break;case 6:h=d*l,x=(h&1)+h%3&1;break;case 7:h=d*l,x=h%3+(d+l&1)&1;break;default:throw new y("Invalid mask pattern: "+s)}return x===0}static applyMaskPenaltyRule1Internal(s,l){let d=0;const x=l?s.getHeight():s.getWidth(),h=l?s.getWidth():s.getHeight(),p=s.getArray();for(let b=0;b<x;b++){let E=0,w=-1;for(let I=0;I<h;I++){const V=l?p[b][I]:p[I][b];V===w?E++:(E>=5&&(d+=on.N1+(E-5)),E=1,w=V)}E>=5&&(d+=on.N1+(E-5))}return d}}on.N1=3,on.N2=3,on.N3=40,on.N4=10;class al{constructor(s,l){this.width=s,this.height=l;const d=new Array(l);for(let x=0;x!==l;x++)d[x]=new Uint8Array(s);this.bytes=d}getHeight(){return this.height}getWidth(){return this.width}get(s,l){return this.bytes[l][s]}getArray(){return this.bytes}setNumber(s,l,d){this.bytes[l][s]=d}setBoolean(s,l,d){this.bytes[l][s]=d?1:0}clear(s){for(const l of this.bytes)j.fill(l,s)}equals(s){if(!(s instanceof al))return!1;const l=s;if(this.width!==l.width||this.height!==l.height)return!1;for(let d=0,x=this.height;d<x;++d){const h=this.bytes[d],p=l.bytes[d];for(let b=0,E=this.width;b<E;++b)if(h[b]!==p[b])return!1}return!0}toString(){const s=new ee;for(let l=0,d=this.height;l<d;++l){const x=this.bytes[l];for(let h=0,p=this.width;h<p;++h)switch(x[h]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class Eo{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new ee;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<Eo.NUM_MASK_PATTERNS}}Eo.NUM_MASK_PATTERNS=8;class Vt extends f{}Vt.kind="WriterException";class it{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,l,d,x,h){it.clearMatrix(h),it.embedBasicPatterns(d,h),it.embedTypeInfo(l,x,h),it.maybeEmbedVersionInfo(d,h),it.embedDataBits(s,x,h)}static embedBasicPatterns(s,l){it.embedPositionDetectionPatternsAndSeparators(l),it.embedDarkDotAtLeftBottomCorner(l),it.maybeEmbedPositionAdjustmentPatterns(s,l),it.embedTimingPatterns(l)}static embedTypeInfo(s,l,d){const x=new k;it.makeTypeInfoBits(s,l,x);for(let h=0,p=x.getSize();h<p;++h){const b=x.get(x.getSize()-1-h),E=it.TYPE_INFO_COORDINATES[h],w=E[0],I=E[1];if(d.setBoolean(w,I,b),h<8){const V=d.getWidth()-h-1;d.setBoolean(V,8,b)}else{const K=d.getHeight()-7+(h-8);d.setBoolean(8,K,b)}}}static maybeEmbedVersionInfo(s,l){if(s.getVersionNumber()<7)return;const d=new k;it.makeVersionInfoBits(s,d);let x=17;for(let h=0;h<6;++h)for(let p=0;p<3;++p){const b=d.get(x);x--,l.setBoolean(h,l.getHeight()-11+p,b),l.setBoolean(l.getHeight()-11+p,h,b)}}static embedDataBits(s,l,d){let x=0,h=-1,p=d.getWidth()-1,b=d.getHeight()-1;for(;p>0;){for(p===6&&(p-=1);b>=0&&b<d.getHeight();){for(let E=0;E<2;++E){const w=p-E;if(!it.isEmpty(d.get(w,b)))continue;let I;x<s.getSize()?(I=s.get(x),++x):I=!1,l!==255&&on.getDataMaskBit(l,w,b)&&(I=!I),d.setBoolean(w,b,I)}b+=h}h=-h,b+=h,p-=2}if(x!==s.getSize())throw new Vt("Not all bits consumed: "+x+"/"+s.getSize())}static findMSBSet(s){return 32-F.numberOfLeadingZeros(s)}static calculateBCHCode(s,l){if(l===0)throw new y("0 polynomial");const d=it.findMSBSet(l);for(s<<=d-1;it.findMSBSet(s)>=d;)s^=l<<it.findMSBSet(s)-d;return s}static makeTypeInfoBits(s,l,d){if(!Eo.isValidMaskPattern(l))throw new Vt("Invalid mask pattern");const x=s.getBits()<<3|l;d.appendBits(x,5);const h=it.calculateBCHCode(x,it.TYPE_INFO_POLY);d.appendBits(h,10);const p=new k;if(p.appendBits(it.TYPE_INFO_MASK_PATTERN,15),d.xor(p),d.getSize()!==15)throw new Vt("should not happen but we got: "+d.getSize())}static makeVersionInfoBits(s,l){l.appendBits(s.getVersionNumber(),6);const d=it.calculateBCHCode(s.getVersionNumber(),it.VERSION_INFO_POLY);if(l.appendBits(d,12),l.getSize()!==18)throw new Vt("should not happen but we got: "+l.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let l=8;l<s.getWidth()-8;++l){const d=(l+1)%2;it.isEmpty(s.get(l,6))&&s.setNumber(l,6,d),it.isEmpty(s.get(6,l))&&s.setNumber(6,l,d)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new Vt;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,l,d){for(let x=0;x<8;++x){if(!it.isEmpty(d.get(s+x,l)))throw new Vt;d.setNumber(s+x,l,0)}}static embedVerticalSeparationPattern(s,l,d){for(let x=0;x<7;++x){if(!it.isEmpty(d.get(s,l+x)))throw new Vt;d.setNumber(s,l+x,0)}}static embedPositionAdjustmentPattern(s,l,d){for(let x=0;x<5;++x){const h=it.POSITION_ADJUSTMENT_PATTERN[x];for(let p=0;p<5;++p)d.setNumber(s+p,l+x,h[p])}}static embedPositionDetectionPattern(s,l,d){for(let x=0;x<7;++x){const h=it.POSITION_DETECTION_PATTERN[x];for(let p=0;p<7;++p)d.setNumber(s+p,l+x,h[p])}}static embedPositionDetectionPatternsAndSeparators(s){const l=it.POSITION_DETECTION_PATTERN[0].length;it.embedPositionDetectionPattern(0,0,s),it.embedPositionDetectionPattern(s.getWidth()-l,0,s),it.embedPositionDetectionPattern(0,s.getWidth()-l,s);const d=8;it.embedHorizontalSeparationPattern(0,d-1,s),it.embedHorizontalSeparationPattern(s.getWidth()-d,d-1,s),it.embedHorizontalSeparationPattern(0,s.getWidth()-d,s);const x=7;it.embedVerticalSeparationPattern(x,0,s),it.embedVerticalSeparationPattern(s.getHeight()-x-1,0,s),it.embedVerticalSeparationPattern(x,s.getHeight()-x,s)}static maybeEmbedPositionAdjustmentPatterns(s,l){if(s.getVersionNumber()<2)return;const d=s.getVersionNumber()-1,x=it.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[d];for(let h=0,p=x.length;h!==p;h++){const b=x[h];if(b>=0)for(let E=0;E!==p;E++){const w=x[E];w>=0&&it.isEmpty(l.get(w,b))&&it.embedPositionAdjustmentPattern(w-2,b-2,l)}}}}it.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),it.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),it.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),it.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),it.VERSION_INFO_POLY=7973,it.TYPE_INFO_POLY=1335,it.TYPE_INFO_MASK_PATTERN=21522;class O8{constructor(s,l){this.dataBytes=s,this.errorCorrectionBytes=l}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Yt{constructor(){}static calculateMaskPenalty(s){return on.applyMaskPenaltyRule1(s)+on.applyMaskPenaltyRule2(s)+on.applyMaskPenaltyRule3(s)+on.applyMaskPenaltyRule4(s)}static encode(s,l,d=null){let x=Yt.DEFAULT_BYTE_MODE_ENCODING;const h=d!==null&&d.get(gn.CHARACTER_SET)!==void 0;h&&(x=d.get(gn.CHARACTER_SET).toString());const p=this.chooseMode(s,x),b=new k;if(p===rt.BYTE&&(h||Yt.DEFAULT_BYTE_MODE_ENCODING!==x)){const qe=S.getCharacterSetECIByName(x);qe!==void 0&&this.appendECI(qe,b)}this.appendModeInfo(p,b);const E=new k;this.appendBytes(s,p,E,x);let w;if(d!==null&&d.get(gn.QR_VERSION)!==void 0){const qe=Number.parseInt(d.get(gn.QR_VERSION).toString(),10);w=nt.getVersionForNumber(qe);const je=this.calculateBitsNeeded(p,b,E,w);if(!this.willFit(je,w,l))throw new Vt("Data too big for requested version")}else w=this.recommendVersion(l,p,b,E);const I=new k;I.appendBitArray(b);const V=p===rt.BYTE?E.getSizeInBytes():s.length;this.appendLengthInfo(V,w,p,I),I.appendBitArray(E);const K=w.getECBlocksForLevel(l),oe=w.getTotalCodewords()-K.getTotalECCodewords();this.terminateBits(oe,I);const xe=this.interleaveWithECBytes(I,w.getTotalCodewords(),oe,K.getNumBlocks()),pe=new Eo;pe.setECLevel(l),pe.setMode(p),pe.setVersion(w);const De=w.getDimensionForVersion(),Te=new al(De,De),Ue=this.chooseMaskPattern(xe,l,w,Te);return pe.setMaskPattern(Ue),it.buildMatrix(xe,l,w,Ue,Te),pe.setMatrix(Te),pe}static recommendVersion(s,l,d,x){const h=this.calculateBitsNeeded(l,d,x,nt.getVersionForNumber(1)),p=this.chooseVersion(h,s),b=this.calculateBitsNeeded(l,d,x,p);return this.chooseVersion(b,s)}static calculateBitsNeeded(s,l,d,x){return l.getSize()+s.getCharacterCountBits(x)+d.getSize()}static getAlphanumericCode(s){return s<Yt.ALPHANUMERIC_TABLE.length?Yt.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,l=null){if(S.SJIS.getName()===l&&this.isOnlyDoubleByteKanji(s))return rt.KANJI;let d=!1,x=!1;for(let h=0,p=s.length;h<p;++h){const b=s.charAt(h);if(Yt.isDigit(b))d=!0;else if(this.getAlphanumericCode(b.charCodeAt(0))!==-1)x=!0;else return rt.BYTE}return x?rt.ALPHANUMERIC:d?rt.NUMERIC:rt.BYTE}static isOnlyDoubleByteKanji(s){let l;try{l=G.encode(s,S.SJIS)}catch{return!1}const d=l.length;if(d%2!==0)return!1;for(let x=0;x<d;x+=2){const h=l[x]&255;if((h<129||h>159)&&(h<224||h>235))return!1}return!0}static chooseMaskPattern(s,l,d,x){let h=Number.MAX_SAFE_INTEGER,p=-1;for(let b=0;b<Eo.NUM_MASK_PATTERNS;b++){it.buildMatrix(s,l,d,b,x);let E=this.calculateMaskPenalty(x);E<h&&(h=E,p=b)}return p}static chooseVersion(s,l){for(let d=1;d<=40;d++){const x=nt.getVersionForNumber(d);if(Yt.willFit(s,x,l))return x}throw new Vt("Data too big")}static willFit(s,l,d){const x=l.getTotalCodewords(),p=l.getECBlocksForLevel(d).getTotalECCodewords(),b=x-p,E=(s+7)/8;return b>=E}static terminateBits(s,l){const d=s*8;if(l.getSize()>d)throw new Vt("data bits cannot fit in the QR Code"+l.getSize()+" > "+d);for(let p=0;p<4&&l.getSize()<d;++p)l.appendBit(!1);const x=l.getSize()&7;if(x>0)for(let p=x;p<8;p++)l.appendBit(!1);const h=s-l.getSizeInBytes();for(let p=0;p<h;++p)l.appendBits((p&1)===0?236:17,8);if(l.getSize()!==d)throw new Vt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,l,d,x,h,p){if(x>=d)throw new Vt("Block ID too large");const b=s%d,E=d-b,w=Math.floor(s/d),I=w+1,V=Math.floor(l/d),K=V+1,oe=w-V,xe=I-K;if(oe!==xe)throw new Vt("EC bytes mismatch");if(d!==E+b)throw new Vt("RS blocks mismatch");if(s!==(V+oe)*E+(K+xe)*b)throw new Vt("Total bytes mismatch");x<E?(h[0]=V,p[0]=oe):(h[0]=K,p[0]=xe)}static interleaveWithECBytes(s,l,d,x){if(s.getSizeInBytes()!==d)throw new Vt("Number of bits and data bytes does not match");let h=0,p=0,b=0;const E=new Array;for(let I=0;I<x;++I){const V=new Int32Array(1),K=new Int32Array(1);Yt.getNumDataBytesAndNumECBytesForBlockID(l,d,x,I,V,K);const oe=V[0],xe=new Uint8Array(oe);s.toBytes(8*h,xe,0,oe);const pe=Yt.generateECBytes(xe,K[0]);E.push(new O8(xe,pe)),p=Math.max(p,oe),b=Math.max(b,pe.length),h+=V[0]}if(d!==h)throw new Vt("Data bytes does not match offset");const w=new k;for(let I=0;I<p;++I)for(const V of E){const K=V.getDataBytes();I<K.length&&w.appendBits(K[I],8)}for(let I=0;I<b;++I)for(const V of E){const K=V.getErrorCorrectionBytes();I<K.length&&w.appendBits(K[I],8)}if(l!==w.getSizeInBytes())throw new Vt("Interleaving error: "+l+" and "+w.getSizeInBytes()+" differ.");return w}static generateECBytes(s,l){const d=s.length,x=new Int32Array(d+l);for(let p=0;p<d;p++)x[p]=s[p]&255;new rc(X.QR_CODE_FIELD_256).encode(x,l);const h=new Uint8Array(l);for(let p=0;p<l;p++)h[p]=x[d+p];return h}static appendModeInfo(s,l){l.appendBits(s.getBits(),4)}static appendLengthInfo(s,l,d,x){const h=d.getCharacterCountBits(l);if(s>=1<<h)throw new Vt(s+" is bigger than "+((1<<h)-1));x.appendBits(s,h)}static appendBytes(s,l,d,x){switch(l){case rt.NUMERIC:Yt.appendNumericBytes(s,d);break;case rt.ALPHANUMERIC:Yt.appendAlphanumericBytes(s,d);break;case rt.BYTE:Yt.append8BitBytes(s,d,x);break;case rt.KANJI:Yt.appendKanjiBytes(s,d);break;default:throw new Vt("Invalid mode: "+l)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const l=Yt.getDigit(s);return l>=0&&l<=9}static appendNumericBytes(s,l){const d=s.length;let x=0;for(;x<d;){const h=Yt.getDigit(s.charAt(x));if(x+2<d){const p=Yt.getDigit(s.charAt(x+1)),b=Yt.getDigit(s.charAt(x+2));l.appendBits(h*100+p*10+b,10),x+=3}else if(x+1<d){const p=Yt.getDigit(s.charAt(x+1));l.appendBits(h*10+p,7),x+=2}else l.appendBits(h,4),x++}}static appendAlphanumericBytes(s,l){const d=s.length;let x=0;for(;x<d;){const h=Yt.getAlphanumericCode(s.charCodeAt(x));if(h===-1)throw new Vt;if(x+1<d){const p=Yt.getAlphanumericCode(s.charCodeAt(x+1));if(p===-1)throw new Vt;l.appendBits(h*45+p,11),x+=2}else l.appendBits(h,6),x++}}static append8BitBytes(s,l,d){let x;try{x=G.encode(s,d)}catch(h){throw new Vt(h)}for(let h=0,p=x.length;h!==p;h++){const b=x[h];l.appendBits(b,8)}}static appendKanjiBytes(s,l){let d;try{d=G.encode(s,S.SJIS)}catch(h){throw new Vt(h)}const x=d.length;for(let h=0;h<x;h+=2){const p=d[h]&255,b=d[h+1]&255,E=p<<8&4294967295|b;let w=-1;if(E>=33088&&E<=40956?w=E-33088:E>=57408&&E<=60351&&(w=E-49472),w===-1)throw new Vt("Invalid byte sequence");const I=(w>>8)*192+(w&255);l.appendBits(I,13)}}static appendECI(s,l){l.appendBits(rt.ECI.getBits(),4),l.appendBits(s.getValue(),8)}}Yt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Yt.DEFAULT_BYTE_MODE_ENCODING=S.UTF8.getName();class vo{write(s,l,d,x=null){if(s.length===0)throw new y("Found empty contents");if(l<0||d<0)throw new y("Requested dimensions are too small: "+l+"x"+d);let h=Gt.L,p=vo.QUIET_ZONE_SIZE;x!==null&&(x.get(gn.ERROR_CORRECTION)!==void 0&&(h=Gt.fromString(x.get(gn.ERROR_CORRECTION).toString())),x.get(gn.MARGIN)!==void 0&&(p=Number.parseInt(x.get(gn.MARGIN).toString(),10)));const b=Yt.encode(s,h,x);return this.renderResult(b,l,d,p)}writeToDom(s,l,d,x,h=null){typeof s=="string"&&(s=document.querySelector(s));const p=this.write(l,d,x,h);s&&s.appendChild(p)}renderResult(s,l,d,x){const h=s.getMatrix();if(h===null)throw new L;const p=h.getWidth(),b=h.getHeight(),E=p+x*2,w=b+x*2,I=Math.max(l,E),V=Math.max(d,w),K=Math.min(Math.floor(I/E),Math.floor(V/w)),oe=Math.floor((I-p*K)/2),xe=Math.floor((V-b*K)/2),pe=this.createSVGElement(I,V);for(let De=0,Te=xe;De<b;De++,Te+=K)for(let Ue=0,qe=oe;Ue<p;Ue++,qe+=K)if(h.get(Ue,De)===1){const je=this.createSvgRectElement(qe,Te,K,K);pe.appendChild(je)}return pe}createSVGElement(s,l){const d=document.createElementNS(vo.SVG_NS,"svg");return d.setAttributeNS(null,"height",s.toString()),d.setAttributeNS(null,"width",l.toString()),d}createSvgRectElement(s,l,d,x){const h=document.createElementNS(vo.SVG_NS,"rect");return h.setAttributeNS(null,"x",s.toString()),h.setAttributeNS(null,"y",l.toString()),h.setAttributeNS(null,"height",d.toString()),h.setAttributeNS(null,"width",x.toString()),h.setAttributeNS(null,"fill","#000000"),h}}vo.QUIET_ZONE_SIZE=4,vo.SVG_NS="http://www.w3.org/2000/svg";class ri{encode(s,l,d,x,h){if(s.length===0)throw new y("Found empty contents");if(l!==le.QR_CODE)throw new y("Can only encode QR_CODE, but got "+l);if(d<0||x<0)throw new y(`Requested dimensions are too small: ${d}x${x}`);let p=Gt.L,b=ri.QUIET_ZONE_SIZE;h!==null&&(h.get(gn.ERROR_CORRECTION)!==void 0&&(p=Gt.fromString(h.get(gn.ERROR_CORRECTION).toString())),h.get(gn.MARGIN)!==void 0&&(b=Number.parseInt(h.get(gn.MARGIN).toString(),10)));const E=Yt.encode(s,p,h);return ri.renderResult(E,d,x,b)}static renderResult(s,l,d,x){const h=s.getMatrix();if(h===null)throw new L;const p=h.getWidth(),b=h.getHeight(),E=p+x*2,w=b+x*2,I=Math.max(l,E),V=Math.max(d,w),K=Math.min(Math.floor(I/E),Math.floor(V/w)),oe=Math.floor((I-p*K)/2),xe=Math.floor((V-b*K)/2),pe=new se(I,V);for(let De=0,Te=xe;De<b;De++,Te+=K)for(let Ue=0,qe=oe;Ue<p;Ue++,qe+=K)h.get(Ue,De)===1&&pe.setRegion(qe,Te,K,K);return pe}}ri.QUIET_ZONE_SIZE=4;class N8{encode(s,l,d,x,h){let p;switch(l){case le.QR_CODE:p=new ri;break;default:throw new y("No encoder available for format "+l)}return p.encode(s,l,d,x,h)}}class Zr extends we{constructor(s,l,d,x,h,p,b,E){if(super(p,b),this.yuvData=s,this.dataWidth=l,this.dataHeight=d,this.left=x,this.top=h,x+p>l||h+b>d)throw new y("Crop rectangle does not fit within image data.");E&&this.reverseHorizontal(p,b)}getRow(s,l){if(s<0||s>=this.getHeight())throw new y("Requested row is outside the image: "+s);const d=this.getWidth();(l==null||l.length<d)&&(l=new Uint8ClampedArray(d));const x=(s+this.top)*this.dataWidth+this.left;return D.arraycopy(this.yuvData,x,l,0,d),l}getMatrix(){const s=this.getWidth(),l=this.getHeight();if(s===this.dataWidth&&l===this.dataHeight)return this.yuvData;const d=s*l,x=new Uint8ClampedArray(d);let h=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return D.arraycopy(this.yuvData,h,x,0,d),x;for(let p=0;p<l;p++){const b=p*s;D.arraycopy(this.yuvData,h,x,b,s),h+=this.dataWidth}return x}isCropSupported(){return!0}crop(s,l,d,x){return new Zr(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+l,d,x,!1)}renderThumbnail(){const s=this.getWidth()/Zr.THUMBNAIL_SCALE_FACTOR,l=this.getHeight()/Zr.THUMBNAIL_SCALE_FACTOR,d=new Int32Array(s*l),x=this.yuvData;let h=this.top*this.dataWidth+this.left;for(let p=0;p<l;p++){const b=p*s;for(let E=0;E<s;E++){const w=x[h+E*Zr.THUMBNAIL_SCALE_FACTOR]&255;d[b+E]=4278190080|w*65793}h+=this.dataWidth*Zr.THUMBNAIL_SCALE_FACTOR}return d}getThumbnailWidth(){return this.getWidth()/Zr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Zr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,l){const d=this.yuvData;for(let x=0,h=this.top*this.dataWidth+this.left;x<l;x++,h+=this.dataWidth){const p=h+s/2;for(let b=h,E=h+s-1;b<p;b++,E--){const w=d[b];d[b]=d[E],d[E]=w}}}invert(){return new Oe(this)}}Zr.THUMBNAIL_SCALE_FACTOR=2;class sc extends we{constructor(s,l,d,x,h,p,b){if(super(l,d),this.dataWidth=x,this.dataHeight=h,this.left=p,this.top=b,s.BYTES_PER_ELEMENT===4){const E=l*d,w=new Uint8ClampedArray(E);for(let I=0;I<E;I++){const V=s[I],K=V>>16&255,oe=V>>7&510,xe=V&255;w[I]=(K+oe+xe)/4&255}this.luminances=w}else this.luminances=s;if(x===void 0&&(this.dataWidth=l),h===void 0&&(this.dataHeight=d),p===void 0&&(this.left=0),b===void 0&&(this.top=0),this.left+l>this.dataWidth||this.top+d>this.dataHeight)throw new y("Crop rectangle does not fit within image data.")}getRow(s,l){if(s<0||s>=this.getHeight())throw new y("Requested row is outside the image: "+s);const d=this.getWidth();(l==null||l.length<d)&&(l=new Uint8ClampedArray(d));const x=(s+this.top)*this.dataWidth+this.left;return D.arraycopy(this.luminances,x,l,0,d),l}getMatrix(){const s=this.getWidth(),l=this.getHeight();if(s===this.dataWidth&&l===this.dataHeight)return this.luminances;const d=s*l,x=new Uint8ClampedArray(d);let h=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return D.arraycopy(this.luminances,h,x,0,d),x;for(let p=0;p<l;p++){const b=p*s;D.arraycopy(this.luminances,h,x,b,s),h+=this.dataWidth}return x}isCropSupported(){return!0}crop(s,l,d,x){return new sc(this.luminances,d,x,this.dataWidth,this.dataHeight,this.left+s,this.top+l)}invert(){return new Oe(this)}}class Zx extends S{static forName(s){return this.getCharacterSetECIByName(s)}}class oc{}oc.ISO_8859_1=S.ISO8859_1;class Jx{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class ef{static singletonList(s){return[s]}static min(s,l){return s.sort(l)[0]}}class L8{constructor(s){this.previous=s}getPrevious(){return this.previous}}class si extends L8{constructor(s,l,d){super(s),this.value=l,this.bitCount=d}appendTo(s,l){s.appendBits(this.value,this.bitCount)}add(s,l){return new si(this,s,l)}addBinaryShift(s,l){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new si(this,s,l)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+F.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class ic extends si{constructor(s,l,d){super(s,0,0),this.binaryShiftStart=l,this.binaryShiftByteCount=d}appendTo(s,l){for(let d=0;d<this.binaryShiftByteCount;d++)(d===0||d===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):d===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(l[this.binaryShiftStart+d],8)}addBinaryShift(s,l){return new ic(this,s,l)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function $8(H,s,l){return new ic(H,s,l)}function Gi(H,s,l){return new si(H,s,l)}const j8=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],zs=0,ll=1,Ar=2,tf=3,Jr=4,U8=new si(null,0,0),ac=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function H8(H){for(let s of H)j.fill(s,-1);return H[zs][Jr]=0,H[ll][Jr]=0,H[ll][zs]=28,H[tf][Jr]=0,H[Ar][Jr]=0,H[Ar][zs]=15,H}const nf=H8(j.createInt32Array(6,6));class es{constructor(s,l,d,x){this.token=s,this.mode=l,this.binaryShiftByteCount=d,this.bitCount=x}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,l){let d=this.bitCount,x=this.token;if(s!==this.mode){let p=ac[this.mode][s];x=Gi(x,p&65535,p>>16),d+=p>>16}let h=s===Ar?4:5;return x=Gi(x,l,h),new es(x,s,0,d+h)}shiftAndAppend(s,l){let d=this.token,x=this.mode===Ar?4:5;return d=Gi(d,nf[this.mode][s],x),d=Gi(d,l,5),new es(d,this.mode,0,this.bitCount+x+5)}addBinaryShiftChar(s){let l=this.token,d=this.mode,x=this.bitCount;if(this.mode===Jr||this.mode===Ar){let b=ac[d][zs];l=Gi(l,b&65535,b>>16),x+=b>>16,d=zs}let h=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,p=new es(l,d,this.binaryShiftByteCount+1,x+h);return p.binaryShiftByteCount===2078&&(p=p.endBinaryShift(s+1)),p}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let l=this.token;return l=$8(l,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new es(l,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let l=this.bitCount+(ac[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?l+=es.calculateBinaryShiftCost(s)-es.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(l+=10),l<=s.bitCount}toBitArray(s){let l=[];for(let x=this.endBinaryShift(s.length).token;x!==null;x=x.getPrevious())l.unshift(x);let d=new k;for(const x of l)x.appendTo(d,s);return d}toString(){return z.format("%s bits=%d bytes=%d",j8[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}es.INITIAL_STATE=new es(U8,zs,0,0);function z8(H){const s=z.getCharCode(" "),l=z.getCharCode("."),d=z.getCharCode(",");H[zs][s]=1;const x=z.getCharCode("Z"),h=z.getCharCode("A");for(let K=h;K<=x;K++)H[zs][K]=K-h+2;H[ll][s]=1;const p=z.getCharCode("z"),b=z.getCharCode("a");for(let K=b;K<=p;K++)H[ll][K]=K-b+2;H[Ar][s]=1;const E=z.getCharCode("9"),w=z.getCharCode("0");for(let K=w;K<=E;K++)H[Ar][K]=K-w+2;H[Ar][d]=12,H[Ar][l]=13;const I=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let K=0;K<I.length;K++)H[tf][z.getCharCode(I[K])]=K;const V=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let K=0;K<V.length;K++)z.getCharCode(V[K])>0&&(H[Jr][z.getCharCode(V[K])]=K);return H}const lc=z8(j.createInt32Array(5,256));class Qi{constructor(s){this.text=s}encode(){const s=z.getCharCode(" "),l=z.getCharCode(`
`);let d=ef.singletonList(es.INITIAL_STATE);for(let h=0;h<this.text.length;h++){let p,b=h+1<this.text.length?this.text[h+1]:0;switch(this.text[h]){case z.getCharCode("\r"):p=b===l?2:0;break;case z.getCharCode("."):p=b===s?3:0;break;case z.getCharCode(","):p=b===s?4:0;break;case z.getCharCode(":"):p=b===s?5:0;break;default:p=0}p>0?(d=Qi.updateStateListForPair(d,h,p),h++):d=this.updateStateListForChar(d,h)}return ef.min(d,(h,p)=>h.getBitCount()-p.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,l){const d=[];for(let x of s)this.updateStateForChar(x,l,d);return Qi.simplifyStates(d)}updateStateForChar(s,l,d){let x=this.text[l]&255,h=lc[s.getMode()][x]>0,p=null;for(let b=0;b<=Jr;b++){let E=lc[b][x];if(E>0){if(p==null&&(p=s.endBinaryShift(l)),!h||b===s.getMode()||b===Ar){const w=p.latchAndAppend(b,E);d.push(w)}if(!h&&nf[s.getMode()][b]>=0){const w=p.shiftAndAppend(b,E);d.push(w)}}}if(s.getBinaryShiftByteCount()>0||lc[s.getMode()][x]===0){let b=s.addBinaryShiftChar(l);d.push(b)}}static updateStateListForPair(s,l,d){const x=[];for(let h of s)this.updateStateForPair(h,l,d,x);return this.simplifyStates(x)}static updateStateForPair(s,l,d,x){let h=s.endBinaryShift(l);if(x.push(h.latchAndAppend(Jr,d)),s.getMode()!==Jr&&x.push(h.shiftAndAppend(Jr,d)),d===3||d===4){let p=h.latchAndAppend(Ar,16-d).latchAndAppend(Ar,1);x.push(p)}if(s.getBinaryShiftByteCount()>0){let p=s.addBinaryShiftChar(l).addBinaryShiftChar(l+1);x.push(p)}}static simplifyStates(s){let l=[];for(const d of s){let x=!0;for(const h of l){if(h.isBetterThanOrEqualTo(d)){x=!1;break}d.isBetterThanOrEqualTo(h)&&(l=l.filter(p=>p!==h))}x&&l.push(d)}return l}}class Bt{constructor(){}static encodeBytes(s){return Bt.encode(s,Bt.DEFAULT_EC_PERCENT,Bt.DEFAULT_AZTEC_LAYERS)}static encode(s,l,d){let x=new Qi(s).encode(),h=F.truncDivision(x.getSize()*l,100)+11,p=x.getSize()+h,b,E,w,I,V;if(d!==Bt.DEFAULT_AZTEC_LAYERS){if(b=d<0,E=Math.abs(d),E>(b?Bt.MAX_NB_BITS_COMPACT:Bt.MAX_NB_BITS))throw new y(z.format("Illegal value %s for layers",d));w=Bt.totalBitsInLayer(E,b),I=Bt.WORD_SIZE[E];let je=w-w%I;if(V=Bt.stuffBits(x,I),V.getSize()+h>je)throw new y("Data to large for user specified layer");if(b&&V.getSize()>I*64)throw new y("Data to large for user specified layer")}else{I=0,V=null;for(let je=0;;je++){if(je>Bt.MAX_NB_BITS)throw new y("Data too large for an Aztec code");if(b=je<=3,E=b?je+1:je,w=Bt.totalBitsInLayer(E,b),p>w)continue;(V==null||I!==Bt.WORD_SIZE[E])&&(I=Bt.WORD_SIZE[E],V=Bt.stuffBits(x,I));let vt=w-w%I;if(!(b&&V.getSize()>I*64)&&V.getSize()+h<=vt)break}}let K=Bt.generateCheckWords(V,w,I),oe=V.getSize()/I,xe=Bt.generateModeMessage(b,E,oe),pe=(b?11:14)+E*4,De=new Int32Array(pe),Te;if(b){Te=pe;for(let je=0;je<De.length;je++)De[je]=je}else{Te=pe+1+2*F.truncDivision(F.truncDivision(pe,2)-1,15);let je=F.truncDivision(pe,2),vt=F.truncDivision(Te,2);for(let xt=0;xt<je;xt++){let Jn=xt+F.truncDivision(xt,15);De[je-xt-1]=vt-Jn-1,De[je+xt]=vt+Jn+1}}let Ue=new se(Te);for(let je=0,vt=0;je<E;je++){let xt=(E-je)*4+(b?9:12);for(let Jn=0;Jn<xt;Jn++){let jr=Jn*2;for(let er=0;er<2;er++)K.get(vt+jr+er)&&Ue.set(De[je*2+er],De[je*2+Jn]),K.get(vt+xt*2+jr+er)&&Ue.set(De[je*2+Jn],De[pe-1-je*2-er]),K.get(vt+xt*4+jr+er)&&Ue.set(De[pe-1-je*2-er],De[pe-1-je*2-Jn]),K.get(vt+xt*6+jr+er)&&Ue.set(De[pe-1-je*2-Jn],De[je*2+er])}vt+=xt*8}if(Bt.drawModeMessage(Ue,b,Te,xe),b)Bt.drawBullsEye(Ue,F.truncDivision(Te,2),5);else{Bt.drawBullsEye(Ue,F.truncDivision(Te,2),7);for(let je=0,vt=0;je<F.truncDivision(pe,2)-1;je+=15,vt+=16)for(let xt=F.truncDivision(Te,2)&1;xt<Te;xt+=2)Ue.set(F.truncDivision(Te,2)-vt,xt),Ue.set(F.truncDivision(Te,2)+vt,xt),Ue.set(xt,F.truncDivision(Te,2)-vt),Ue.set(xt,F.truncDivision(Te,2)+vt)}let qe=new Jx;return qe.setCompact(b),qe.setSize(Te),qe.setLayers(E),qe.setCodeWords(oe),qe.setMatrix(Ue),qe}static drawBullsEye(s,l,d){for(let x=0;x<d;x+=2)for(let h=l-x;h<=l+x;h++)s.set(h,l-x),s.set(h,l+x),s.set(l-x,h),s.set(l+x,h);s.set(l-d,l-d),s.set(l-d+1,l-d),s.set(l-d,l-d+1),s.set(l+d,l-d),s.set(l+d,l-d+1),s.set(l+d,l+d-1)}static generateModeMessage(s,l,d){let x=new k;return s?(x.appendBits(l-1,2),x.appendBits(d-1,6),x=Bt.generateCheckWords(x,28,4)):(x.appendBits(l-1,5),x.appendBits(d-1,11),x=Bt.generateCheckWords(x,40,4)),x}static drawModeMessage(s,l,d,x){let h=F.truncDivision(d,2);if(l)for(let p=0;p<7;p++){let b=h-3+p;x.get(p)&&s.set(b,h-5),x.get(p+7)&&s.set(h+5,b),x.get(20-p)&&s.set(b,h+5),x.get(27-p)&&s.set(h-5,b)}else for(let p=0;p<10;p++){let b=h-5+p+F.truncDivision(p,5);x.get(p)&&s.set(b,h-7),x.get(p+10)&&s.set(h+7,b),x.get(29-p)&&s.set(b,h+7),x.get(39-p)&&s.set(h-7,b)}}static generateCheckWords(s,l,d){let x=s.getSize()/d,h=new rc(Bt.getGF(d)),p=F.truncDivision(l,d),b=Bt.bitsToWords(s,d,p);h.encode(b,p-x);let E=l%d,w=new k;w.appendBits(0,E);for(const I of Array.from(b))w.appendBits(I,d);return w}static bitsToWords(s,l,d){let x=new Int32Array(d),h,p;for(h=0,p=s.getSize()/l;h<p;h++){let b=0;for(let E=0;E<l;E++)b|=s.get(h*l+E)?1<<l-E-1:0;x[h]=b}return x}static getGF(s){switch(s){case 4:return X.AZTEC_PARAM;case 6:return X.AZTEC_DATA_6;case 8:return X.AZTEC_DATA_8;case 10:return X.AZTEC_DATA_10;case 12:return X.AZTEC_DATA_12;default:throw new y("Unsupported word size "+s)}}static stuffBits(s,l){let d=new k,x=s.getSize(),h=(1<<l)-2;for(let p=0;p<x;p+=l){let b=0;for(let E=0;E<l;E++)(p+E>=x||s.get(p+E))&&(b|=1<<l-1-E);(b&h)===h?(d.appendBits(b&h,l),p--):(b&h)===0?(d.appendBits(b|1,l),p--):d.appendBits(b,l)}return d}static totalBitsInLayer(s,l){return((l?88:112)+16*s)*s}}Bt.DEFAULT_EC_PERCENT=33,Bt.DEFAULT_AZTEC_LAYERS=0,Bt.MAX_NB_BITS=32,Bt.MAX_NB_BITS_COMPACT=4,Bt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class cl{encode(s,l,d,x){return this.encodeWithHints(s,l,d,x,null)}encodeWithHints(s,l,d,x,h){let p=oc.ISO_8859_1,b=Bt.DEFAULT_EC_PERCENT,E=Bt.DEFAULT_AZTEC_LAYERS;return h!=null&&(h.has(gn.CHARACTER_SET)&&(p=Zx.forName(h.get(gn.CHARACTER_SET).toString())),h.has(gn.ERROR_CORRECTION)&&(b=F.parseInt(h.get(gn.ERROR_CORRECTION).toString())),h.has(gn.AZTEC_LAYERS)&&(E=F.parseInt(h.get(gn.AZTEC_LAYERS).toString()))),cl.encodeLayers(s,l,d,x,p,b,E)}static encodeLayers(s,l,d,x,h,p,b){if(l!==le.AZTEC)throw new y("Can only encode AZTEC, but got "+l);let E=Bt.encode(z.getBytes(s,h),p,b);return cl.renderResult(E,d,x)}static renderResult(s,l,d){let x=s.getMatrix();if(x==null)throw new L;let h=x.getWidth(),p=x.getHeight(),b=Math.max(l,h),E=Math.max(d,p),w=Math.min(b/h,E/p),I=(b-h*w)/2,V=(E-p*w)/2,K=new se(b,E);for(let oe=0,xe=V;oe<p;oe++,xe+=w)for(let pe=0,De=I;pe<h;pe++,De+=w)x.get(pe,oe)&&K.setRegion(De,xe,w,w);return K}}n.AbstractExpandedDecoder=mo,n.ArgumentException=m,n.ArithmeticException=et,n.AztecCode=Jx,n.AztecCodeReader=Rt,n.AztecCodeWriter=cl,n.AztecDecoder=M,n.AztecDetector=Ht,n.AztecDetectorResult=fe,n.AztecEncoder=Bt,n.AztecHighLevelEncoder=Qi,n.AztecPoint=Ye,n.BarcodeFormat=le,n.Binarizer=A,n.BinaryBitmap=v,n.BitArray=k,n.BitMatrix=se,n.BitSource=X0,n.BrowserAztecCodeReader=Vn,n.BrowserBarcodeReader=E8,n.BrowserCodeReader=re,n.BrowserDatamatrixCodeReader=C8,n.BrowserMultiFormatReader=M8,n.BrowserPDF417Reader=P8,n.BrowserQRCodeReader=R8,n.BrowserQRCodeSvgWriter=vo,n.CharacterSetECI=S,n.ChecksumException=C,n.Code128Reader=Ve,n.Code39Reader=zt,n.DataMatrixDecodedBitStreamParser=$s,n.DataMatrixReader=js,n.DecodeHintType=$,n.DecoderResult=Ne,n.DefaultGridSampler=tt,n.DetectorResult=Z,n.EAN13Reader=Mn,n.EncodeHintType=gn,n.Exception=f,n.FormatException=O,n.GenericGF=X,n.GenericGFPoly=ze,n.GlobalHistogramBinarizer=be,n.GridSampler=de,n.GridSamplerInstance=ct,n.HTMLCanvasElementLuminanceSource=Re,n.HybridBinarizer=he,n.ITFReader=Ee,n.IllegalArgumentException=y,n.IllegalStateException=L,n.InvertedLuminanceSource=Oe,n.LuminanceSource=we,n.MathUtils=ue,n.MultiFormatOneDReader=ti,n.MultiFormatReader=Xx,n.MultiFormatWriter=N8,n.NotFoundException=J,n.OneDReader=Et,n.PDF417DecodedBitStreamParser=Fe,n.PDF417DecoderErrorCorrection=qx,n.PDF417Reader=kn,n.PDF417ResultMetadata=Gx,n.PerspectiveTransform=Se,n.PlanarYUVLuminanceSource=Zr,n.QRCodeByteMatrix=al,n.QRCodeDataMask=Cr,n.QRCodeDecodedBitStreamParser=nn,n.QRCodeDecoderErrorCorrectionLevel=Gt,n.QRCodeDecoderFormatInformation=On,n.QRCodeEncoder=Yt,n.QRCodeEncoderQRCode=Eo,n.QRCodeMaskUtil=on,n.QRCodeMatrixUtil=it,n.QRCodeMode=rt,n.QRCodeReader=Us,n.QRCodeVersion=nt,n.QRCodeWriter=ri,n.RGBLuminanceSource=sc,n.RSS14Reader=sn,n.RSSExpandedReader=Le,n.ReaderException=il,n.ReedSolomonDecoder=N,n.ReedSolomonEncoder=rc,n.ReedSolomonException=Y,n.Result=ye,n.ResultMetadataType=ae,n.ResultPoint=te,n.StringUtils=z,n.UnsupportedOperationException=U,n.VideoInputDevice=ge,n.WhiteRectangleDetector=ce,n.WriterException=Vt,n.ZXingArrays=j,n.ZXingCharset=Zx,n.ZXingInteger=F,n.ZXingStandardCharsets=oc,n.ZXingStringBuilder=ee,n.ZXingStringEncoding=G,n.ZXingSystem=D,n.createAbstractExpandedDecoder=zx,Object.defineProperty(n,"__esModule",{value:!0})}))})(ca,ca.exports)),ca.exports}var Xt=hD();const gD=gx(Xt),pD=G8({__proto__:null,default:gD},[Xt]);var $h=(function(){function e(t,n,r){if(this.formatMap=new Map([[Je.QR_CODE,Xt.BarcodeFormat.QR_CODE],[Je.AZTEC,Xt.BarcodeFormat.AZTEC],[Je.CODABAR,Xt.BarcodeFormat.CODABAR],[Je.CODE_39,Xt.BarcodeFormat.CODE_39],[Je.CODE_93,Xt.BarcodeFormat.CODE_93],[Je.CODE_128,Xt.BarcodeFormat.CODE_128],[Je.DATA_MATRIX,Xt.BarcodeFormat.DATA_MATRIX],[Je.MAXICODE,Xt.BarcodeFormat.MAXICODE],[Je.ITF,Xt.BarcodeFormat.ITF],[Je.EAN_13,Xt.BarcodeFormat.EAN_13],[Je.EAN_8,Xt.BarcodeFormat.EAN_8],[Je.PDF_417,Xt.BarcodeFormat.PDF_417],[Je.RSS_14,Xt.BarcodeFormat.RSS_14],[Je.RSS_EXPANDED,Xt.BarcodeFormat.RSS_EXPANDED],[Je.UPC_A,Xt.BarcodeFormat.UPC_A],[Je.UPC_E,Xt.BarcodeFormat.UPC_E],[Je.UPC_EAN_EXTENSION,Xt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!pD)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var o=this.createZXingFormats(t),a=new Map;a.set(Xt.DecodeHintType.POSSIBLE_FORMATS,o),a.set(Xt.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,o){try{r(n.decode(t))}catch(a){o(a)}})},e.prototype.decode=function(t){var n=new Xt.MultiFormatReader(this.verbose,this.hints),r=new Xt.HTMLCanvasElementLuminanceSource(t),o=new Xt.BinaryBitmap(new Xt.HybridBinarizer(r)),a=n.decode(o);return{text:a.text,format:by.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,o){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,o=t;r<o.length;r++){var a=o[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e})(),mD=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{f(r.next(m))}catch(y){c(y)}}function g(m){try{f(r.throw(m))}catch(y){c(y)}}function f(m){m.done?a(m.value):o(m.value).then(u,g)}f((r=r.apply(e,t||[])).next())})},yD=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(m){return g([f,m])}}function g(f){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,f[0]&&(n=0)),n;)try{if(r=1,o&&(a=f[0]&2?o.return:f[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,f[1])).done)return a;switch(o=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,o=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(m){f=[6,m],o=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},jh=(function(){function e(t,n,r){if(this.formatMap=new Map([[Je.QR_CODE,"qr_code"],[Je.AZTEC,"aztec"],[Je.CODABAR,"codabar"],[Je.CODE_39,"code_39"],[Je.CODE_93,"code_93"],[Je.CODE_128,"code_128"],[Je.DATA_MATRIX,"data_matrix"],[Je.ITF,"itf"],[Je.EAN_13,"ean_13"],[Je.EAN_8,"ean_8"],[Je.PDF_417,"pdf417"],[Je.UPC_A,"upc_a"],[Je.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var o=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(o),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return mD(this,void 0,void 0,function(){var n,r;return yD(this,function(o){switch(o.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=o.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:by.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,o=0,a=t;o<a.length;o++){var c=a[o],u=c.boundingBox.width*c.boundingBox.height;u>r&&(r=u,n=c)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,o=t;r<o.length;r++){var a=o[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,o){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e})(),Uh=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{f(r.next(m))}catch(y){c(y)}}function g(m){try{f(r.throw(m))}catch(y){c(y)}}function f(m){m.done?a(m.value):o(m.value).then(u,g)}f((r=r.apply(e,t||[])).next())})},Hh=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(m){return g([f,m])}}function g(f){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,f[0]&&(n=0)),n;)try{if(r=1,o&&(a=f[0]&2?o.return:f[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,f[1])).done)return a;switch(o=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,o=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(m){f=[6,m],o=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},bD=(function(){function e(t,n,r,o){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&jh.isSupported()?(this.primaryDecoder=new jh(t,r,o),this.secondaryDecoder=new $h(t,r,o)):this.primaryDecoder=new $h(t,r,o)}return e.prototype.decodeAsync=function(t){return Uh(this,void 0,void 0,function(){var n;return Hh(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Uh(this,void 0,void 0,function(){var n,r;return Hh(this,function(o){switch(o.label){case 0:n=performance.now(),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,o.sent()];case 3:if(r=o.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var o=r[n];t+=o}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e})(),Cx=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),h0=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{f(r.next(m))}catch(y){c(y)}}function g(m){try{f(r.throw(m))}catch(y){c(y)}}function f(m){m.done?a(m.value):o(m.value).then(u,g)}f((r=r.apply(e,t||[])).next())})},g0=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(m){return g([f,m])}}function g(f){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,f[0]&&(n=0)),n;)try{if(r=1,o&&(a=f[0]&2?o.return:f[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,f[1])).done)return a;switch(o=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,o=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(m){f=[6,m],o=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},wy=(function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e})(),ED=(function(e){Cx(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var o={advanced:[r]};return this.track.applyConstraints(o)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t})(wy),vD=(function(e){Cx(t,e);function t(n){return e.call(this,"zoom",n)||this}return t})(ED),CD=(function(e){Cx(t,e);function t(n){return e.call(this,"torch",n)||this}return t})(wy),wD=(function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new vD(this.track)},e.prototype.torchFeature=function(){return new CD(this.track)},e})(),AD=(function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,o=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,o),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,o){return h0(this,void 0,void 0,function(){var a,c;return g0(this,function(u){switch(u.label){case 0:return a=new e(t,n,o),r.aspectRatio?(c={aspectRatio:r.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:u.sent(),u.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return h0(this,void 0,void 0,function(){return g0(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var o=t.mediaStream.getVideoTracks(),a=o.length,c=0;t.mediaStream.getVideoTracks().forEach(function(u){t.mediaStream.removeTrack(u),u.stop(),++c,c>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new wD(this.getFirstTrackOrFail())},e})(),BD=(function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return h0(this,void 0,void 0,function(){return g0(this,function(o){return[2,AD.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return h0(this,void 0,void 0,function(){var n,r;return g0(this,function(o){switch(o.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=o.sent(),[2,new e(r)]}})})},e})(),zh=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{f(r.next(m))}catch(y){c(y)}}function g(m){try{f(r.throw(m))}catch(y){c(y)}}function f(m){m.done?a(m.value):o(m.value).then(u,g)}f((r=r.apply(e,t||[])).next())})},Vh=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(m){return g([f,m])}}function g(f){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,f[0]&&(n=0)),n;)try{if(r=1,o&&(a=f[0]&2?o.return:f[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,f[1])).done)return a;switch(o=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,o=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(m){f=[6,m],o=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},DD=(function(){function e(){}return e.failIfNotSupported=function(){return zh(this,void 0,void 0,function(){return Vh(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return zh(this,void 0,void 0,function(){return Vh(this,function(n){return[2,BD.create(t)]})})},e})(),_D=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{f(r.next(m))}catch(y){c(y)}}function g(m){try{f(r.throw(m))}catch(y){c(y)}}function f(m){m.done?a(m.value):o(m.value).then(u,g)}f((r=r.apply(e,t||[])).next())})},kD=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(m){return g([f,m])}}function g(f){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,f[0]&&(n=0)),n;)try{if(r=1,o&&(a=f[0]&2?o.return:f[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,f[1])).done)return a;switch(o=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,o=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(m){f=[6,m],o=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},SD=(function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=gi.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=gi.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return _D(this,void 0,void 0,function(){var t,n,r,o,a,c,u;return kD(this,function(g){switch(g.label){case 0:return t=function(f){for(var m=f.getVideoTracks(),y=0,v=m;y<v.length;y++){var C=v[y];C.enabled=!1,C.stop(),f.removeTrack(C)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=g.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=g.sent(),o=[],a=0,c=r;a<c.length;a++)u=c[a],u.kind==="videoinput"&&o.push({id:u.deviceId,label:u.label});return t(n),[2,o]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(a){for(var c=[],u=0,g=a;u<g.length;u++){var f=g[u];f.kind==="video"&&c.push({id:f.id,label:f.label})}t(c)},o=MediaStreamTrack;o.getSources(r)})},e})(),an;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(an||(an={}));var FD=(function(){function e(){this.state=an.NOT_STARTED,this.onGoingTransactionNewState=an.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===an.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=an.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===an.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=an.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==an.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case an.UNKNOWN:throw"Transition from unknown is not allowed";case an.NOT_STARTED:this.failIfNewStateIs(t,[an.PAUSED]);break;case an.SCANNING:break;case an.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,o=n;r<o.length;r++){var a=o[r];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e})(),TD=(function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===an.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==an.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===an.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===an.PAUSED},e})(),ID=(function(){function e(){}return e.create=function(){return new TD(new FD)},e})(),MD=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),gr=(function(e){MD(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t})(Hr),PD=(function(){function e(t,n){this.logger=n,this.fps=gr.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=gr.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Cy.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!ls(this.qrbox)},e.create=function(t,n){return new e(t,n)},e})(),Pa=(function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new vy(this.verbose),this.qrcode=new bD(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=ID.create()}return e.prototype.start=function(t,n,r,o){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var c;o?c=o:c=this.verbose?this.logger.log:function(){};var u=PD.create(n,this.logger);this.clearElement();var g=!1;u.videoConstraints&&(u.isMediaStreamConstraintsValid()?g=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var f=g,m=document.getElementById(this.elementId);m.clientWidth?m.clientWidth:gr.DEFAULT_WIDTH,m.style.position="relative",this.shouldScan=!0,this.element=m;var y=this,v=this.stateManagerProxy.startTransition(an.SCANNING);return new Promise(function(C,A){var D=f?u.videoConstraints:y.createVideoConstraints(t);if(!D){v.cancel(),A("videoConstraints should be defined");return}var _={};(!f||u.aspectRatio)&&(_.aspectRatio=u.aspectRatio);var T={onRenderSurfaceReady:function(j,F){y.setupUi(j,F,u),y.isScanning=!0,y.foreverScan(u,r,c)}};DD.failIfNotSupported().then(function(j){j.create(D).then(function(F){return F.render(a.element,_,T).then(function(k){y.renderedCamera=k,v.execute(),C(null)}).catch(function(k){v.cancel(),A(k)})}).catch(function(F){v.cancel(),A(gi.errorGettingUserMedia(F))})}).catch(function(j){v.cancel(),A(gi.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(an.PAUSED),this.showPausedState(),(ls(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(an.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(an.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var a=document.getElementById(gr.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},o=this;return this.renderedCamera.close().then(function(){return o.renderedCamera=null,o.element&&(o.element.removeChild(o.canvasElement),o.canvasElement=null),r(),o.qrRegion&&(o.qrRegion=null),o.context&&(o.context=null),n.execute(),o.hidePausedState(),o.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ls(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(o,a){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var c=new Image;c.onload=function(){var u=c.width,g=c.height,f=document.getElementById(r.elementId),m=f.clientWidth?f.clientWidth:gr.DEFAULT_WIDTH,y=Math.max(f.clientHeight?f.clientHeight:g,gr.FILE_SCAN_MIN_HEIGHT),v=r.computeCanvasDrawConfig(u,g,m,y);if(n){var C=r.createCanvasElement(m,y,"qr-canvas-visible");C.style.display="inline-block",f.appendChild(C);var A=C.getContext("2d");if(!A)throw"Unable to get 2d context from canvas";A.canvas.width=m,A.canvas.height=y,A.drawImage(c,0,0,u,g,v.x,v.y,v.width,v.height)}var D=gr.FILE_SCAN_HIDDEN_CANVAS_PADDING,_=Math.max(c.width,v.width),T=Math.max(c.height,v.height),j=_+2*D,F=T+2*D,k=r.createCanvasElement(j,F);f.appendChild(k);var P=k.getContext("2d");if(!P)throw"Unable to get 2d context from canvas";P.canvas.width=j,P.canvas.height=F,P.drawImage(c,0,0,u,g,D,D,_,T);try{r.qrcode.decodeRobustlyAsync(k).then(function($){o(Oh.createFromQrcodeResult($))}).catch(a)}catch($){a("QR code parse error, error = ".concat($))}},c.onerror=a,c.onabort=a,c.onstalled=a,c.onsuspend=a,c.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return SD.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!Cy.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[Je.QR_CODE,Je.AZTEC,Je.CODABAR,Je.CODE_39,Je.CODE_93,Je.CODE_128,Je.DATA_MATRIX,Je.MAXICODE,Je.ITF,Je.EAN_13,Je.EAN_8,Je.PDF_417,Je.RSS_14,Je.RSS_EXPANDED,Je.UPC_A,Je.UPC_E,Je.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],o=0,a=t.formatsToSupport;o<a.length;o++){var c=a[o];uD(c)?r.push(c):this.logger.warn("Invalid format: ".concat(c," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(ls(t))return!0;if(!ls(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(ls(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return ls(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var o=this,a=r.qrbox;this.validateQrboxConfig(a);var c=this.toQrdimensions(t,n,a),u=function(f){if(f<gr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(gr.MIN_QR_BOX_SIZE,"px.")},g=function(f){return f>t&&(o.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),f=t),f};u(c.width),u(c.height),c.width=g(c.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(o){throw new Error("qrbox config was passed as a function but it failed with unknown error"+o)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var o=ls(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(o);var a=this.toQrdimensions(t,n,o);a.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=r.isShadedBoxEnabled()&&a.height<=n,u={x:0,y:0,width:t,height:n},g=c?this.getShadedRegionBounds(t,n,a):u,f=this.createCanvasElement(g.width,g.height),m={willReadFrequently:!0},y=f.getContext("2d",m);y.canvas.width=g.width,y.canvas.height=g.height,this.element.append(f),c&&this.possiblyInsertShadingElement(this.element,t,n,a),this.createScannerPausedUiElement(this.element),this.qrRegion=g,this.context=y,this.canvasElement=f},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=gi.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(o){return t(o.text,Oh.createFromQrcodeResult(o)),r.possiblyUpdateShaders(!0),!0}).catch(function(o){r.possiblyUpdateShaders(!1);var a=gi.codeParseError(o);return n(a,Ey.createFrom(a)),!1})},e.prototype.foreverScan=function(t,n,r){var o=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),c=a.videoWidth/a.clientWidth,u=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var g=this.qrRegion.width*c,f=this.qrRegion.height*u,m=this.qrRegion.x*c,y=this.qrRegion.y*u;this.context.drawImage(a,m,y,g,f,0,0,this.qrRegion.width,this.qrRegion.height);var v=function(){o.foreverScanTimeout=setTimeout(function(){o.foreverScan(t,n,r)},o.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(C){!C&&t.disableFlip!==!0?(o.context.translate(o.context.canvas.width,0),o.context.scale(-1,1),o.scanContext(n,r).finally(function(){v()})):v()}).catch(function(C){o.logger.logError("Error happend while scanning context",C),v()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",o={user:!0,environment:!0},a="exact",c=function(A){if(A in o)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(A,"'")},u=Object.keys(t);if(u.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(u.length," keys");var g=Object.keys(t)[0];if(g!==n&&g!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(g===n){var f=t.facingMode;if(typeof f=="string"){if(c(f))return{facingMode:f}}else if(typeof f=="object")if(a in f){if(c(f["".concat(a)]))return{facingMode:{exact:f["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var m=typeof f;throw"Invalid type of 'facingMode' = ".concat(m)}}else{var y=t.deviceId;if(typeof y=="string")return{deviceId:y};if(typeof y=="object"){if(a in y)return{deviceId:{exact:y["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var v=typeof y;throw"Invalid type of 'deviceId' = ".concat(v)}}}var C=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(C)},e.prototype.computeCanvasDrawConfig=function(t,n,r,o){if(t<=r&&n<=o){var a=(r-t)/2,c=(o-n)/2;return{x:a,y:c,width:t,height:n}}else{var u=t,g=n;return t>r&&(n=r/t*n,t=r),n>o&&(t=o/n*t,n=o),this.logger.log("Image downsampled from "+"".concat(u,"X").concat(g)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,o)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?gr.BORDER_SHADER_MATCH_COLOR:gr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var o=t,a=n,c=document.createElement("canvas");return c.style.width="".concat(o,"px"),c.style.height="".concat(a,"px"),c.style.display="none",c.id=ls(r)?"qr-canvas":r,c},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,o){if(!(n-o.width<1||r-o.height<1)){var a=document.createElement("div");a.style.position="absolute";var c=(n-o.width)/2,u=(r-o.height)/2;if(a.style.borderLeft="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(gr.SHADED_REGION_ELEMENT_ID),n-o.width<11||r-o.height<11)this.hasBorderShaders=!1;else{var g=5,f=40;this.insertShaderBorders(a,f,g,-g,null,0,!0),this.insertShaderBorders(a,f,g,-g,null,0,!1),this.insertShaderBorders(a,f,g,null,-g,0,!0),this.insertShaderBorders(a,f,g,null,-g,0,!1),this.insertShaderBorders(a,g,f+g,-g,null,-g,!0),this.insertShaderBorders(a,g,f+g,null,-g,-g,!0),this.insertShaderBorders(a,g,f+g,-g,null,-g,!1),this.insertShaderBorders(a,g,f+g,null,-g,-g,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,n,r,o,a,c,u){var g=document.createElement("div");g.style.position="absolute",g.style.backgroundColor=gr.BORDER_SHADER_DEFAULT_COLOR,g.style.width="".concat(n,"px"),g.style.height="".concat(r,"px"),o!==null&&(g.style.top="".concat(o,"px")),a!==null&&(g.style.bottom="".concat(a,"px")),u?g.style.left="".concat(c,"px"):g.style.right="".concat(c,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(g),t.appendChild(g)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e})(),wx="data:image/svg+xml;base64,",RD=wx+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",OD=wx+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",qh=wx+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",ND="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Wh=(function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e})(),LD=(function(){function e(){this.data=Wh.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=Wh.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e})(),$D=(function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Nh.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),o=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(o);var a=document.createElement("a");a.innerText=Nh.reportIssues(),a.href="https://github.com/mebjas/html5-qrcode/issues",a.target="new",a.style.color="white",this.infoDiv.appendChild(a),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e})(),jD=(function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=qh,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=ND,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=qh,this.infoIcon.style.opacity="0.6")},e})(),UD=(function(){function e(){var t=this;this.infoDiv=new $D,this.infoIcon=new jD(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e})(),HD=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{f(r.next(m))}catch(y){c(y)}}function g(m){try{f(r.throw(m))}catch(y){c(y)}}function f(m){m.done?a(m.value):o(m.value).then(u,g)}f((r=r.apply(e,t||[])).next())})},zD=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(m){return g([f,m])}}function g(f){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,f[0]&&(n=0)),n;)try{if(r=1,o&&(a=f[0]&2?o.return:f[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,f[1])).done)return a;switch(o=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,o=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(m){f=[6,m],o=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Gh=(function(){function e(){}return e.hasPermissions=function(){return HD(this,void 0,void 0,function(){var t,n,r,o;return zD(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=a.sent(),n=0,r=t;n<r.length;n++)if(o=r[n],o.kind==="videoinput"&&o.label)return[2,!0];return[2,!1]}})})},e})(),qs=(function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(t){return t===uo.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===uo.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Hr.DEFAULT_SUPPORTED_SCAN_TYPE;var n=Hr.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,o=t;r<o.length;r++){var a=o[r];if(!Hr.DEFAULT_SUPPORTED_SCAN_TYPE.includes(a))throw"Unsupported scan type ".concat(a)}return t},e})(),mr=(function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e})(),_s=(function(){function e(){}return e.createElement=function(t,n){var r=document.createElement(t);return r.id=n,r.classList.add(mr.ALL_ELEMENT_CLASS),t==="button"&&r.setAttribute("type","button"),r},e})(),Ay=function(e,t,n,r){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{f(r.next(m))}catch(y){c(y)}}function g(m){try{f(r.throw(m))}catch(y){c(y)}}function f(m){m.done?a(m.value):o(m.value).then(u,g)}f((r=r.apply(e,t||[])).next())})},By=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,o,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(m){return g([f,m])}}function g(f){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,f[0]&&(n=0)),n;)try{if(r=1,o&&(a=f[0]&2?o.return:f[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,f[1])).done)return a;switch(o=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,o=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(m){f=[6,m],o=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Qh=(function(){function e(t,n,r){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return Ay(this,void 0,void 0,function(){var t,n;return By(this,function(r){switch(r.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=r.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?Ot.torchOffButton():Ot.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var r=t?Ot.torchOnFailedMessage():Ot.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e})(),VD=(function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=_s.createElement("button",mr.TORCH_BUTTON_ID),this.torchController=new Qh(t,this,n)}return e.prototype.render=function(t,n){var r=this;this.torchButton.innerText=Ot.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var o=this;this.torchButton.addEventListener("click",function(a){return Ay(r,void 0,void 0,function(){return By(this,function(c){switch(c.label){case 0:return[4,o.torchController.flipState()];case 1:return c.sent(),o.torchController.isTorchEnabled()?(o.torchButton.classList.remove(mr.TORCH_BUTTON_CLASS_TORCH_OFF),o.torchButton.classList.add(mr.TORCH_BUTTON_CLASS_TORCH_ON)):(o.torchButton.classList.remove(mr.TORCH_BUTTON_CLASS_TORCH_ON),o.torchButton.classList.add(mr.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new Qh(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Ot.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,o){var a=new e(n,o);return a.render(t,r),a},e})(),qD=(function(){function e(t,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var o=document.createElement("label");o.setAttribute("for",this.getFileScanInputId()),o.style.display="inline-block",this.fileBasedScanRegion.appendChild(o),this.fileSelectionButton=_s.createElement("button",mr.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(u){o.click()}),o.append(this.fileSelectionButton),this.fileScanInput=_s.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",o.appendChild(this.fileScanInput);var a=this;this.fileScanInput.addEventListener("change",function(u){if(!(u==null||u.target==null)){var g=u.target;if(!(g.files&&g.files.length===0)){var f=g.files,m=f[0],y=m.name;a.setImageNameToButton(y),r(m)}}});var c=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(c),this.fileBasedScanRegion.addEventListener("dragenter",function(u){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(u){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(u){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(u){u.stopPropagation(),u.preventDefault(),a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder();var g=u.dataTransfer;if(g){var f=g.files;if(!f||f.length===0)return;for(var m=!1,y=0;y<f.length;++y){var v=f.item(y);if(v){var C=/image.*/;if(v.type.match(C)){m=!0;var A=v.name;a.setImageNameToButton(A),r(v),c.innerText=Ot.dragAndDropMessage();break}}}m||(c.innerText=Ot.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Ot.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var r=t.substring(0,8),o=t.length,a=t.substring(o-8,o);t="".concat(r,"....").concat(a)}var c=Ot.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=c},e.prototype.setInitialValueToButton=function(){var t=Ot.fileSelectionChooseImage()+" - "+Ot.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){var o=new e(t,n,r);return o},e})(),WD=(function(){function e(t){this.selectElement=_s.createElement("select",mr.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var o=Ot.selectCamera();n.innerText="".concat(o," (").concat(this.cameras.length,")  ")}for(var a=1,c=0,u=this.cameras;c<u.length;c++){var g=u[c],f=g.id,m=g.label==null?f:g.label;(!m||m==="")&&(m=[Ot.anonymousCameraPrefix(),a++].join(" "));var y=document.createElement("option");y.value=f,y.innerText=m,this.options.push(y),this.selectElement.appendChild(y)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,r=this.options;n<r.length;n++){var o=r[n];if(o.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e})(),GD=(function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=_s.createElement("input",mr.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=Ot.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var o=this;this.rangeInput.addEventListener("input",function(){return o.onValueChange()}),this.rangeInput.addEventListener("change",function(){return o.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Ot.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,r,o){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=o.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e})(),pr;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(pr||(pr={}));function QD(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function KD(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var YD=(function(){function e(t,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new qs(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new vy(this.verbose),this.persistedDataManager=new LD,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(a,c){if(t)t(a,c);else{if(r.lastMatchFound===a)return;r.lastMatchFound=a,r.setHeaderMessage(Ot.lastMatch(a),pr.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(a,c){n&&n(a,c)};var o=document.getElementById(this.elementId);if(!o)throw"HTML Element with id=".concat(this.elementId," not found");o.innerHTML="",this.createBasicLayout(o),this.html5Qrcode=new Pa(this.getScanRegionId(),KD(this.config,this.verbose))},e.prototype.pause=function(t){(ls(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var r=document.getElementById(t.elementId);r&&(r.innerHTML="",t.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,o){if(!t.html5Qrcode){r();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(a){if(!t.html5Qrcode){r();return}t.html5Qrcode.clear(),n(),r()}).catch(function(a){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",a),o(a)}):(t.html5Qrcode.clear(),n(),r())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Hr.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Hr.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Hr.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Hr.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Hr.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Hr.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Hr.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),qs.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var o=document.createElement("div"),a=this.getDashboardId();o.id=a,o.style.width="100%",t.appendChild(o),this.setupInitialDashboard(o)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var r=new UD;r.renderInto(n);var o=document.createElement("div");o.id=this.getHeaderMessageContainerId(),o.style.display="none",o.style.textAlign="center",o.style.fontSize="14px",o.style.padding="2px 10px",o.style.margin="4px",o.style.borderTop="1px solid #f6f6f6",n.appendChild(o)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,r){var o=this;o.showHideScanTypeSwapLink(!1),o.setHeaderMessage(Ot.cameraPermissionRequesting());var a=function(){r||o.createPermissionButton(t,n)};Pa.getCameras().then(function(c){o.persistedDataManager.setHasPermission(!0),o.showHideScanTypeSwapLink(!0),o.resetHeaderMessage(),c&&c.length>0?(t.removeChild(n),o.renderCameraSelection(c)):(o.setHeaderMessage(Ot.noCameraFound(),pr.STATUS_WARNING),a())}).catch(function(c){o.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:a(),o.setHeaderMessage(c,pr.STATUS_WARNING),o.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var r=this,o=_s.createElement("button",this.getCameraPermissionButtonId());o.innerText=Ot.cameraPermissionTitle(),o.addEventListener("click",function(){o.disabled=!0,r.createCameraListUi(t,n,o)}),n.appendChild(o)},e.prototype.createPermissionsUi=function(t,n){var r=this;if(qs.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Gh.hasPermissions().then(function(o){o?r.createCameraListUi(t,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n))}).catch(function(o){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=qs.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var o=document.createElement("div");o.style.textAlign="center",r.appendChild(o),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,o),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=qs.isFileScanType(this.currentScanType),r=this,o=function(a){if(!r.html5Qrcode)throw"html5Qrcode not defined";qs.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(Ot.loadingImage()),r.html5Qrcode.scanFileV2(a,!0).then(function(c){r.resetHeaderMessage(),r.qrCodeSuccessCallback(c.decodedText,c)}).catch(function(c){r.setHeaderMessage(c,pr.STATUS_WARNING),r.qrCodeErrorCallback(c,Ey.createFrom(c))}))};this.fileSelectionUi=qD.create(t,n,o)},e.prototype.renderCameraSelection=function(t){var n=this,r=this,o=document.getElementById(this.getDashboardSectionCameraScanRegionId());o.style.textAlign="center";var a=GD.create(o,!1),c=function(D){var _=D.zoomFeature();if(_.isSupported()){a.setOnCameraZoomValueChangeCallback(function(j){_.apply(j)});var T=1;n.config.defaultZoomValueIfSupported&&(T=n.config.defaultZoomValueIfSupported),T=xD(T,_.min(),_.max()),a.setValues(_.min(),_.max(),T,_.step()),a.show()}},u=WD.create(o,t),g=document.createElement("span"),f=_s.createElement("button",mr.CAMERA_START_BUTTON_ID);f.innerText=Ot.scanButtonStartScanningText(),g.appendChild(f);var m=_s.createElement("button",mr.CAMERA_STOP_BUTTON_ID);m.innerText=Ot.scanButtonStopScanningText(),m.style.display="none",m.disabled=!0,g.appendChild(m);var y,v=function(D){if(!D.torchFeature().isSupported()){y&&y.hide();return}y?y.updateTorchCapability(D.torchFeature()):y=VD.create(g,D.torchFeature(),{display:"none",marginLeft:"5px"},function(_){r.setHeaderMessage(_,pr.STATUS_WARNING)}),y.show()};o.appendChild(g);var C=function(D){D||(f.style.display="none"),f.innerText=Ot.scanButtonStartScanningText(),f.style.opacity="1",f.disabled=!1,D&&(f.style.display="inline-block")};if(f.addEventListener("click",function(D){f.innerText=Ot.scanButtonScanningStarting(),u.disable(),f.disabled=!0,f.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var _=u.getValue();r.persistedDataManager.setLastUsedCameraId(_),r.html5Qrcode.start(_,QD(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(T){m.disabled=!1,m.style.display="inline-block",C(!1);var j=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&v(j),n.config.showZoomSliderIfSupported===!0&&c(j)}).catch(function(T){r.showHideScanTypeSwapLink(!0),u.enable(),C(!0),r.setHeaderMessage(T,pr.STATUS_WARNING)})}),u.hasSingleItem()&&f.click(),m.addEventListener("click",function(D){if(!r.html5Qrcode)throw"html5Qrcode not defined";m.disabled=!0,r.html5Qrcode.stop().then(function(_){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),u.enable(),f.disabled=!1,m.style.display="none",f.style.display="inline-block",y&&(y.reset(),y.hide()),a.removeOnCameraZoomValueChangeCallback(),a.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(_){m.disabled=!1,r.setHeaderMessage(_,pr.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var A=r.persistedDataManager.getLastUsedCameraId();u.hasValue(A)?(u.setValue(A),f.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=Ot.textIfCameraScanSelected(),r=Ot.textIfFileScanSelected(),o=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");a.style.textAlign="center";var c=_s.createElement("span",this.getDashboardSectionSwapLinkId());c.style.textDecoration="underline",c.style.cursor="pointer",c.innerText=qs.isCameraScanType(this.currentScanType)?n:r,c.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,qs.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),c.innerText=r,t.currentScanType=uo.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),c.innerText=n,t.currentScanType=uo.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),a.appendChild(c),o.appendChild(a)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){Gh.hasPermissions().then(function(r){if(r){var o=document.getElementById(n.getCameraPermissionButtonId());if(!o)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";o.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=pr.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=t,r.style.display="block",n){case pr.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case pr.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case pr.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=RD,this.cameraScanImage.alt=Ot.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=OD,this.fileScanImage.alt=Ot.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return mr.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return mr.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e})();const XD={class:"min-h-screen bg-gray-50 p-2 sm:p-4 md:p-6 transition-colors duration-300"},ZD={class:"mb-6 flex justify-between items-center"},JD=["disabled"],e_={key:0},t_={key:1},n_={key:0,class:"mb-4 p-4 bg-green-100 text-green-700 rounded border border-green-200"},r_={class:"overflow-x-auto bg-white shadow-md rounded-lg"},s_={class:"w-full border-collapse border border-blue-300 text-sm"},o_={class:"hover:bg-gray-50 text-center text-gray-700"},i_={class:"border border-gray-300 p-2 bg-gray-50 text-xs font-mono font-bold text-blue-900"},a_=["title"],l_={class:"border border-gray-300 p-2 bg-gray-50 text-right"},c_={class:"flex flex-col items-end justify-center"},d_={class:"font-bold text-gray-800"},u_={class:"border border-gray-300 p-2 bg-gray-50 font-bold"},x_={class:"border border-gray-300 p-1"},f_=["onClick"],h_={class:"truncate max-w-[80px]"},g_={class:"border border-gray-300 p-1"},p_=["onClick"],m_={class:"border border-gray-300 p-1"},y_=["onUpdate:modelValue","disabled"],b_={class:"border border-gray-300 p-1 bg-yellow-50"},E_=["onUpdate:modelValue"],v_={class:"border border-gray-300 p-1 bg-yellow-50 text-center align-middle"},C_={key:0,class:"flex flex-col items-center justify-center"},w_={key:0,class:"text-[9px] text-red-400 mt-1"},A_=["onClick"],B_={key:2,class:"text-green-600 font-bold text-[10px] border border-green-600 bg-green-50 px-2 py-0.5 rounded inline-block"},D_={key:3,class:"text-gray-400 text-[10px]"},__={key:0,class:"bg-gray-50"},k_={colspan:"10",class:"border border-gray-300 p-2"},S_={class:"flex items-center justify-between"},F_=["onClick"],T_={key:1,class:"text-xs text-gray-500 italic"},I_=["onClick"],M_={key:0,class:"mt-3 overflow-x-auto"},P_={class:"w-full text-xs border border-gray-300"},R_={class:"border border-gray-300 p-2 text-center"},O_={class:"border border-gray-300 p-2 text-right"},N_={class:"border border-gray-300 p-2 text-right"},L_={class:"border border-gray-300 p-2 text-center"},$_={class:"border border-gray-300 p-2"},j_={key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm transition-opacity"},U_={class:"bg-white rounded-lg shadow-2xl w-full max-w-sm mx-4 overflow-hidden relative animate-fade-in-down"},H_={class:"bg-gray-100 px-4 py-3 border-b flex justify-between items-center"},z_={class:"font-bold text-gray-800 text-sm"},V_={class:"text-blue-600"},q_={class:"p-0 bg-white relative"},W_={key:0,class:"absolute inset-0 flex items-center justify-center text-white text-xs"},G_={key:2,class:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 backdrop-blur-sm"},Q_={class:"bg-white rounded-lg shadow-xl max-w-sm w-full mx-4 p-6 text-center animate-bounce-short"},K_={class:"text-sm text-gray-500 mb-6"},Y_=Nr({__name:"CycleCount",props:{initialStocks:Array},setup(e){const t=e,n=el({items:[]}),r=Be(!1),o=Be(!1),a=Be(null),c=Be("");let u=null;const g=Be(!1),f=Be("");Kn(()=>{m()});const m=()=>{t.initialStocks&&(n.items=JSON.parse(JSON.stringify(t.initialStocks)),n.items.forEach(ee=>{ee.showHistory=!1}))};F0(()=>{u&&u.clear().catch(ee=>console.error(ee))});const y=ee=>{if(!ee)return"";const se=ee.toString().trim().toUpperCase();if(se.includes("|")){const J=se.split("|");if(J.length>=3)return J[2]}return se},v=(ee,se)=>{a.value=ee,c.value=se,r.value=!0,o.value=!0,setTimeout(()=>{kr(()=>{C()})},300)},C=()=>{if(!document.getElementById("reader"))return;const ee={fps:10,qrbox:{width:200,height:200},aspectRatio:1,formatsToSupport:[Je.QR_CODE,Je.CODE_128,Je.CODE_39]};u&&u.clear().catch(se=>console.warn(se));try{u=new YD("reader",ee,!1),u.render(A,()=>{}),o.value=!1}catch{alert("Error Camera"),D()}},A=ee=>{let se=ee.trim(),J=!1;try{const be=JSON.parse(se);c.value==="scan_bin"&&be.bin_code&&(se=be.bin_code,J=!0)}catch{}if(c.value==="scan_serial"&&!J&&(se=y(se)),se=se.toUpperCase(),a.value&&c.value){let be="",he="";if(c.value==="scan_bin"?(be=_(a.value.location),he="Lokasi Bin"):c.value==="scan_serial"&&(be=y(a.value.serial_number),he="Serial Number"),se!==be){D(),f.value=`Kode ${he} (${se}) TIDAK SESUAI target (${be}).`,g.value=!0;return}a.value[c.value]=se}D()},D=()=>{u?u.clear().catch(()=>{}).finally(()=>{u=null,r.value=!1}):r.value=!1},_=ee=>(ee||"").toString().trim().toUpperCase(),T=ee=>{const se=_(ee.scan_serial),J=y(ee.serial_number);return se===J&&se.length>0},j=ee=>_(ee.scan_bin)===_(ee.location)&&!!ee.scan_bin,F=ee=>T(ee)&&j(ee),k=ee=>new Intl.NumberFormat("en-US").format(ee),P=ee=>{if(!F(ee))return"0.00";const se=ee.physical_qty??0,J=ee.onhand;return J?(se/J*100).toFixed(2):"0.00"},$=ee=>{if(!F(ee))return"0.00";const se=ee.physical_qty;if(se==null||se==="")return"0.00";const J=ee.onhand;return J?((se-J)/J*100).toFixed(2):"0.00"},O=ee=>{if(!F(ee))return"text-gray-300";const se=parseFloat(P(ee));return se===100?"text-green-600":se>100?"text-blue-600":"text-red-600"},q=ee=>parseFloat($(ee))===0?"text-gray-400":"text-red-600",S=()=>{confirm("Simpan hasil opname?")&&n.post("/transaction/cycle-count/store",{onSuccess:()=>{alert("Berhasil disubmit ke Supervisor!")},onError:ee=>{console.error(ee),alert("Gagal menyimpan data.")}})},U=ee=>{if(ee.status!=="REVIEW_NEEDED"){alert("Item belum disubmit oleh Warehouseman!");return}!ee.spv_note&&!confirm("Approve tanpa catatan?")||bt.post("/transaction/cycle-count/approve",{id:ee.id,material_id:ee.material_id,spv_note:ee.spv_note},{onSuccess:()=>{ee.status="APPROVED",alert("Item berhasil diapprove!")},onError:se=>{alert("Gagal: Item mungkin belum disubmit.")}})},G=ee=>{n.items[ee].showHistory=!n.items[ee].showHistory},z=ee=>{confirm(`Apakah Anda yakin ingin mengulang cycle count untuk ${ee.product_name}?`)&&bt.post("/transaction/cycle-count/repeat",{material_id:ee.material_id,bin_id:ee.bin_id},{onSuccess:()=>{alert("Cycle count baru berhasil dibuat!"),bt.reload()},onError:se=>{console.error(se),alert("Gagal membuat cycle count baru.")}})};return(ee,se)=>(W(),Tt(Yn,{title:"Cycle Count"},{default:yt(()=>[i("div",XD,[i("div",ZD,[se[1]||(se[1]=i("div",null,[i("h2",{class:"text-xl font-bold text-gray-800"},"Cycle Count Inventory"),i("p",{class:"text-sm text-gray-500"}," Scan QR Lokasi & Serial Number untuk validasi. ")],-1)),i("button",{onClick:S,disabled:Ge(n).processing,class:Pe(["flex items-center gap-2 px-4 py-2 rounded shadow transition-colors",Ge(n).processing?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"])},[Ge(n).processing?(W(),Q("span",e_,"Menyimpan...")):(W(),Q("span",t_,"Submit ke Supervisor"))],10,JD)]),ee.$page.props.flash.success?(W(),Q("div",n_,R(ee.$page.props.flash.success),1)):me("",!0),i("div",r_,[i("table",s_,[se[9]||(se[9]=i("thead",{class:"bg-blue-200 text-gray-800 font-semibold text-center"},[i("tr",null,[i("th",{rowspan:"2",class:"border border-blue-400 p-2 align-middle"},"Serial Number"),i("th",{rowspan:"2",class:"border border-blue-400 p-2 align-middle"},"Product Name"),i("th",{rowspan:"2",class:"border border-blue-400 p-2 align-middle"},"Onhand"),i("th",{rowspan:"2",class:"border border-blue-400 p-2 align-middle"},"Loc"),i("th",{colspan:"3",class:"border border-blue-400 p-2 bg-blue-300"},"Input Warehouseman"),i("th",{colspan:"2",class:"border border-blue-400 p-2 bg-blue-300"},"Hasil"),i("th",{colspan:"2",class:"border border-blue-400 p-2 bg-yellow-200"},"Area Supervisor")]),i("tr",null,[i("th",{class:"border border-blue-400 p-2 bg-blue-100 w-32"},"Scan Serial"),i("th",{class:"border border-blue-400 p-2 bg-blue-100 w-24"},"Scan Bin"),i("th",{class:"border border-blue-400 p-2 bg-blue-100 w-20"},"Qty"),i("th",{class:"border border-blue-400 p-2 bg-blue-100 w-20"},"Acc"),i("th",{class:"border border-blue-400 p-2 bg-blue-100 w-20"},"In Acc"),i("th",{class:"border border-blue-400 p-2 bg-yellow-100 w-40"},"Note SPV"),i("th",{class:"border border-blue-400 p-2 bg-yellow-100 w-20"},"Action")])],-1)),i("tbody",null,[(W(!0),Q(He,null,ot(Ge(n).items,(J,be)=>(W(),Q(He,{key:be},[i("tr",o_,[i("td",i_,R(y(J.serial_number)),1),i("td",{class:"border border-gray-300 p-2 text-left bg-gray-50 text-xs truncate max-w-[150px]",title:J.product_name},R(J.product_name),9,a_),i("td",l_,[i("div",c_,[i("span",d_,R(k(J.onhand))+" "+R(J.uom),1)])]),i("td",u_,R(J.location),1),i("td",x_,[i("button",{type:"button",onClick:he=>v(J,"scan_serial"),class:Pe(["w-full py-1 px-2 text-xs rounded border flex items-center justify-center gap-1 transition-colors",T(J)?"bg-green-100 border-green-500 text-green-700 font-bold":"bg-white border-gray-300 hover:bg-gray-100"])},[se[2]||(se[2]=i("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v1m6 11h2m-6 0h-2v4h2v-4zM6 6h12v12H6V6z"})],-1)),i("span",h_,R(J.scan_serial?J.scan_serial:"Scan SN"),1)],10,f_)]),i("td",g_,[i("button",{type:"button",onClick:he=>v(J,"scan_bin"),class:Pe(["w-full py-1 px-2 text-xs rounded border flex items-center justify-center gap-1 transition-colors",j(J)?"bg-green-100 border-green-500 text-green-700 font-bold":"bg-white border-gray-300 hover:bg-gray-100"])},[se[3]||(se[3]=i("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),i("span",null,R(J.scan_bin?J.scan_bin:"Bin"),1)],10,p_)]),i("td",m_,[Ce(i("input",{type:"number","onUpdate:modelValue":he=>J.physical_qty=he,disabled:!F(J),class:Pe(["w-full text-center border rounded text-xs py-1 font-bold",F(J)?"bg-white border-blue-500 text-blue-800":"bg-gray-100 border-gray-200 text-gray-400 cursor-not-allowed"]),placeholder:"0"},null,10,y_),[[$e,J.physical_qty,void 0,{number:!0}]])]),i("td",{class:Pe(["border border-gray-300 p-2 text-xs font-bold",O(J)])},R(P(J))+"%",3),i("td",{class:Pe(["border border-gray-300 p-2 text-xs font-bold",q(J)])},R($(J))+"%",3),i("td",b_,[Ce(i("input",{type:"text","onUpdate:modelValue":he=>J.spv_note=he,class:"w-full text-xs border border-yellow-300 rounded px-1 py-1 bg-white focus:ring-yellow-500 focus:border-yellow-500",placeholder:"Catatan SPV..."},null,8,E_),[[$e,J.spv_note]])]),i("td",v_,[J.status==="DRAFT"||!J.status?(W(),Q("div",C_,[se[4]||(se[4]=i("span",{class:"text-gray-400 text-[10px] italic"},"Waiting Submit",-1)),F(J)?me("",!0):(W(),Q("span",w_,"(Belum Scan)"))])):J.status==="REVIEW_NEEDED"?(W(),Q("button",{key:1,onClick:he=>U(J),type:"button",class:"bg-blue-600 hover:bg-blue-700 text-white text-[10px] font-bold py-1 px-3 rounded shadow flex items-center justify-center gap-1 mx-auto transition-transform active:scale-95 animate-pulse"},[...se[5]||(se[5]=[i("span",null,"Approve",-1)])],8,A_)):J.status==="APPROVED"?(W(),Q("span",B_," DONE ")):(W(),Q("span",D_,"-"))])]),J.status==="APPROVED"||J.history&&J.history_count>0?(W(),Q("tr",__,[i("td",k_,[i("div",S_,[J.history&&J.history_count>0?(W(),Q("button",{key:0,onClick:he=>G(be),class:"flex items-center gap-2 text-xs text-blue-600 hover:text-blue-800 font-semibold"},[(W(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",class:Pe(["h-4 w-4 transition-transform",J.showHistory?"rotate-180":""]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...se[6]||(se[6]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2)),i("span",null,R(J.showHistory?"Sembunyikan":"Lihat")+" Riwayat ("+R(J.history_count)+"x)",1)],8,F_)):(W(),Q("span",T_," Material ini sudah selesai di-cycle count ")),i("button",{onClick:he=>z(J),class:"flex items-center gap-1 px-3 py-1 text-xs bg-orange-500 hover:bg-orange-600 text-white rounded shadow transition-colors"},[...se[7]||(se[7]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:" none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),i("span",null,"Ulangi Cycle Count",-1)])],8,I_)]),J.showHistory&&J.history&&J.history_count>0?(W(),Q("div",M_,[i("table",P_,[se[8]||(se[8]=i("thead",{class:"bg-gray-200"},[i("tr",null,[i("th",{class:"border border-gray-300 p-2"},"Tanggal"),i("th",{class:"border border-gray-300 p-2"},"System Qty"),i("th",{class:"border border-gray-300 p-2"},"Physical Qty"),i("th",{class:"border border-gray-300 p-2"},"Accuracy"),i("th",{class:"border border-gray-300 p-2"},"Status"),i("th",{class:"border border-gray-300 p-2"},"Note SPV")])],-1)),i("tbody",null,[(W(!0),Q(He,null,ot(J.history,(he,we)=>(W(),Q("tr",{key:we,class:"hover:bg-gray-100"},[i("td",R_,R(he.count_date),1),i("td",O_,R(k(he.system_qty)),1),i("td",N_,R(k(he.physical_qty)),1),i("td",{class:Pe(["border border-gray-300 p-2 text-center font-bold",he.accuracy===100?"text-green-600":"text-red-600"])},R(he.accuracy)+"%",3),i("td",L_,[i("span",{class:Pe(["px-2 py-0.5 rounded text-[10px] font-bold",he.status==="APPROVED"?"bg-green-100 text-green-700 border border-green-500":"bg-gray-100 text-gray-600"])},R(he.status),3)]),i("td",$_,R(he.spv_note||"-"),1)]))),128))])])])):me("",!0)])])):me("",!0)],64))),128))])])]),r.value?(W(),Q("div",j_,[i("div",U_,[i("div",H_,[i("h3",z_,[se[10]||(se[10]=Qe("Scan: ",-1)),i("span",V_,R(c.value==="scan_serial"?"Serial Number":"Lokasi Bin"),1)]),i("button",{onClick:D,class:"text-gray-400 hover:text-red-500 font-bold text-2xl leading-none"},"")]),i("div",q_,[se[11]||(se[11]=i("div",{id:"reader",class:"w-full",style:{"min-height":"300px"}},null,-1)),o.value?(W(),Q("div",W_,"Memuat Kamera...")):me("",!0)]),i("div",{class:"bg-white px-4 py-3 border-t text-center"},[i("button",{onClick:D,class:"w-full bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded shadow"},"Batal Scan")])])])):me("",!0),g.value?(W(),Q("div",G_,[i("div",Q_,[se[12]||(se[12]=i("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4"},[i("svg",{class:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})])],-1)),se[13]||(se[13]=i("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-2"},"Scan Ditolak!",-1)),i("p",K_,R(f.value),1),i("button",{onClick:se[0]||(se[0]=J=>g.value=!1),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 sm:text-sm"}," Tutup & Scan Ulang ")])])):me("",!0)])]),_:1}))}}),X_=Object.freeze(Object.defineProperty({__proto__:null,default:Y_},Symbol.toStringTag,{value:"Module"}));var ci={},wd,Kh;function Z_(){return Kh||(Kh=1,wd=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),wd}var Ad={},Ws={},Yh;function Yo(){if(Yh)return Ws;Yh=1;let e;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Ws.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},Ws.getSymbolTotalCodewords=function(r){return t[r]},Ws.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},Ws.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');e=r},Ws.isKanjiModeEnabled=function(){return typeof e<"u"},Ws.toSJIS=function(r){return e(r)},Ws}var Bd={},Xh;function Ax(){return Xh||(Xh=1,(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,o){if(e.isValid(r))return r;try{return t(r)}catch{return o}}})(Bd)),Bd}var Dd,Zh;function J_(){if(Zh)return Dd;Zh=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(t){const n=Math.floor(t/8);return(this.buffer[n]>>>7-t%8&1)===1},put:function(t,n){for(let r=0;r<n;r++)this.putBit((t>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),t&&(this.buffer[n]|=128>>>this.length%8),this.length++}},Dd=e,Dd}var _d,Jh;function ek(){if(Jh)return _d;Jh=1;function e(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}return e.prototype.set=function(t,n,r,o){const a=t*this.size+n;this.data[a]=r,o&&(this.reservedBit[a]=!0)},e.prototype.get=function(t,n){return this.data[t*this.size+n]},e.prototype.xor=function(t,n,r){this.data[t*this.size+n]^=r},e.prototype.isReserved=function(t,n){return this.reservedBit[t*this.size+n]},_d=e,_d}var kd={},eg;function tk(){return eg||(eg=1,(function(e){const t=Yo().getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const o=Math.floor(r/7)+2,a=t(r),c=a===145?26:Math.ceil((a-13)/(2*o-2))*2,u=[a-7];for(let g=1;g<o-1;g++)u[g]=u[g-1]-c;return u.push(6),u.reverse()},e.getPositions=function(r){const o=[],a=e.getRowColCoords(r),c=a.length;for(let u=0;u<c;u++)for(let g=0;g<c;g++)u===0&&g===0||u===0&&g===c-1||u===c-1&&g===0||o.push([a[u],a[g]]);return o}})(kd)),kd}var Sd={},tg;function nk(){if(tg)return Sd;tg=1;const e=Yo().getSymbolSize,t=7;return Sd.getPositions=function(r){const o=e(r);return[[0,0],[o-t,0],[0,o-t]]},Sd}var Fd={},ng;function rk(){return ng||(ng=1,(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(o){return o!=null&&o!==""&&!isNaN(o)&&o>=0&&o<=7},e.from=function(o){return e.isValid(o)?parseInt(o,10):void 0},e.getPenaltyN1=function(o){const a=o.size;let c=0,u=0,g=0,f=null,m=null;for(let y=0;y<a;y++){u=g=0,f=m=null;for(let v=0;v<a;v++){let C=o.get(y,v);C===f?u++:(u>=5&&(c+=t.N1+(u-5)),f=C,u=1),C=o.get(v,y),C===m?g++:(g>=5&&(c+=t.N1+(g-5)),m=C,g=1)}u>=5&&(c+=t.N1+(u-5)),g>=5&&(c+=t.N1+(g-5))}return c},e.getPenaltyN2=function(o){const a=o.size;let c=0;for(let u=0;u<a-1;u++)for(let g=0;g<a-1;g++){const f=o.get(u,g)+o.get(u,g+1)+o.get(u+1,g)+o.get(u+1,g+1);(f===4||f===0)&&c++}return c*t.N2},e.getPenaltyN3=function(o){const a=o.size;let c=0,u=0,g=0;for(let f=0;f<a;f++){u=g=0;for(let m=0;m<a;m++)u=u<<1&2047|o.get(f,m),m>=10&&(u===1488||u===93)&&c++,g=g<<1&2047|o.get(m,f),m>=10&&(g===1488||g===93)&&c++}return c*t.N3},e.getPenaltyN4=function(o){let a=0;const c=o.data.length;for(let g=0;g<c;g++)a+=o.data[g];return Math.abs(Math.ceil(a*100/c/5)-10)*t.N4};function n(r,o,a){switch(r){case e.Patterns.PATTERN000:return(o+a)%2===0;case e.Patterns.PATTERN001:return o%2===0;case e.Patterns.PATTERN010:return a%3===0;case e.Patterns.PATTERN011:return(o+a)%3===0;case e.Patterns.PATTERN100:return(Math.floor(o/2)+Math.floor(a/3))%2===0;case e.Patterns.PATTERN101:return o*a%2+o*a%3===0;case e.Patterns.PATTERN110:return(o*a%2+o*a%3)%2===0;case e.Patterns.PATTERN111:return(o*a%3+(o+a)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(o,a){const c=a.size;for(let u=0;u<c;u++)for(let g=0;g<c;g++)a.isReserved(g,u)||a.xor(g,u,n(o,g,u))},e.getBestMask=function(o,a){const c=Object.keys(e.Patterns).length;let u=0,g=1/0;for(let f=0;f<c;f++){a(f),e.applyMask(f,o);const m=e.getPenaltyN1(o)+e.getPenaltyN2(o)+e.getPenaltyN3(o)+e.getPenaltyN4(o);e.applyMask(f,o),m<g&&(g=m,u=f)}return u}})(Fd)),Fd}var wl={},rg;function Dy(){if(rg)return wl;rg=1;const e=Ax(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return wl.getBlocksCount=function(o,a){switch(a){case e.L:return t[(o-1)*4+0];case e.M:return t[(o-1)*4+1];case e.Q:return t[(o-1)*4+2];case e.H:return t[(o-1)*4+3];default:return}},wl.getTotalCodewordsCount=function(o,a){switch(a){case e.L:return n[(o-1)*4+0];case e.M:return n[(o-1)*4+1];case e.Q:return n[(o-1)*4+2];case e.H:return n[(o-1)*4+3];default:return}},wl}var Td={},ta={},sg;function sk(){if(sg)return ta;sg=1;const e=new Uint8Array(512),t=new Uint8Array(256);return(function(){let r=1;for(let o=0;o<255;o++)e[o]=r,t[r]=o,r<<=1,r&256&&(r^=285);for(let o=255;o<512;o++)e[o]=e[o-255]})(),ta.log=function(r){if(r<1)throw new Error("log("+r+")");return t[r]},ta.exp=function(r){return e[r]},ta.mul=function(r,o){return r===0||o===0?0:e[t[r]+t[o]]},ta}var og;function ok(){return og||(og=1,(function(e){const t=sk();e.mul=function(r,o){const a=new Uint8Array(r.length+o.length-1);for(let c=0;c<r.length;c++)for(let u=0;u<o.length;u++)a[c+u]^=t.mul(r[c],o[u]);return a},e.mod=function(r,o){let a=new Uint8Array(r);for(;a.length-o.length>=0;){const c=a[0];for(let g=0;g<o.length;g++)a[g]^=t.mul(o[g],c);let u=0;for(;u<a.length&&a[u]===0;)u++;a=a.slice(u)}return a},e.generateECPolynomial=function(r){let o=new Uint8Array([1]);for(let a=0;a<r;a++)o=e.mul(o,new Uint8Array([1,t.exp(a)]));return o}})(Td)),Td}var Id,ig;function ik(){if(ig)return Id;ig=1;const e=ok();function t(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(r){this.degree=r,this.genPoly=e.generateECPolynomial(this.degree)},t.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const o=new Uint8Array(r.length+this.degree);o.set(r);const a=e.mod(o,this.genPoly),c=this.degree-a.length;if(c>0){const u=new Uint8Array(this.degree);return u.set(a,c),u}return a},Id=t,Id}var Md={},Pd={},Rd={},ag;function _y(){return ag||(ag=1,Rd.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}),Rd}var rs={},lg;function ky(){if(lg)return rs;lg=1;const e="[0-9]+",t="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;rs.KANJI=new RegExp(n,"g"),rs.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),rs.BYTE=new RegExp(r,"g"),rs.NUMERIC=new RegExp(e,"g"),rs.ALPHANUMERIC=new RegExp(t,"g");const o=new RegExp("^"+n+"$"),a=new RegExp("^"+e+"$"),c=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return rs.testKanji=function(g){return o.test(g)},rs.testNumeric=function(g){return a.test(g)},rs.testAlphanumeric=function(g){return c.test(g)},rs}var cg;function Xo(){return cg||(cg=1,(function(e){const t=_y(),n=ky();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(a,c){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!t.isValid(c))throw new Error("Invalid version: "+c);return c>=1&&c<10?a.ccBits[0]:c<27?a.ccBits[1]:a.ccBits[2]},e.getBestModeForData=function(a){return n.testNumeric(a)?e.NUMERIC:n.testAlphanumeric(a)?e.ALPHANUMERIC:n.testKanji(a)?e.KANJI:e.BYTE},e.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},e.isValid=function(a){return a&&a.bit&&a.ccBits};function r(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+o)}}e.from=function(a,c){if(e.isValid(a))return a;try{return r(a)}catch{return c}}})(Pd)),Pd}var dg;function ak(){return dg||(dg=1,(function(e){const t=Yo(),n=Dy(),r=Ax(),o=Xo(),a=_y(),c=7973,u=t.getBCHDigit(c);function g(v,C,A){for(let D=1;D<=40;D++)if(C<=e.getCapacity(D,A,v))return D}function f(v,C){return o.getCharCountIndicator(v,C)+4}function m(v,C){let A=0;return v.forEach(function(D){const _=f(D.mode,C);A+=_+D.getBitsLength()}),A}function y(v,C){for(let A=1;A<=40;A++)if(m(v,A)<=e.getCapacity(A,C,o.MIXED))return A}e.from=function(C,A){return a.isValid(C)?parseInt(C,10):A},e.getCapacity=function(C,A,D){if(!a.isValid(C))throw new Error("Invalid QR Code version");typeof D>"u"&&(D=o.BYTE);const _=t.getSymbolTotalCodewords(C),T=n.getTotalCodewordsCount(C,A),j=(_-T)*8;if(D===o.MIXED)return j;const F=j-f(D,C);switch(D){case o.NUMERIC:return Math.floor(F/10*3);case o.ALPHANUMERIC:return Math.floor(F/11*2);case o.KANJI:return Math.floor(F/13);case o.BYTE:default:return Math.floor(F/8)}},e.getBestVersionForData=function(C,A){let D;const _=r.from(A,r.M);if(Array.isArray(C)){if(C.length>1)return y(C,_);if(C.length===0)return 1;D=C[0]}else D=C;return g(D.mode,D.getLength(),_)},e.getEncodedBits=function(C){if(!a.isValid(C)||C<7)throw new Error("Invalid QR Code version");let A=C<<12;for(;t.getBCHDigit(A)-u>=0;)A^=c<<t.getBCHDigit(A)-u;return C<<12|A}})(Md)),Md}var Od={},ug;function lk(){if(ug)return Od;ug=1;const e=Yo(),t=1335,n=21522,r=e.getBCHDigit(t);return Od.getEncodedBits=function(a,c){const u=a.bit<<3|c;let g=u<<10;for(;e.getBCHDigit(g)-r>=0;)g^=t<<e.getBCHDigit(g)-r;return(u<<10|g)^n},Od}var Nd={},Ld,xg;function ck(){if(xg)return Ld;xg=1;const e=Xo();function t(n){this.mode=e.NUMERIC,this.data=n.toString()}return t.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let o,a,c;for(o=0;o+3<=this.data.length;o+=3)a=this.data.substr(o,3),c=parseInt(a,10),r.put(c,10);const u=this.data.length-o;u>0&&(a=this.data.substr(o),c=parseInt(a,10),r.put(c,u*3+1))},Ld=t,Ld}var $d,fg;function dk(){if(fg)return $d;fg=1;const e=Xo(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=e.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(o){return 11*Math.floor(o/2)+6*(o%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(o){let a;for(a=0;a+2<=this.data.length;a+=2){let c=t.indexOf(this.data[a])*45;c+=t.indexOf(this.data[a+1]),o.put(c,11)}this.data.length%2&&o.put(t.indexOf(this.data[a]),6)},$d=n,$d}var jd,hg;function uk(){if(hg)return jd;hg=1;const e=Xo();function t(n){this.mode=e.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return t.getBitsLength=function(r){return r*8},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){for(let r=0,o=this.data.length;r<o;r++)n.put(this.data[r],8)},jd=t,jd}var Ud,gg;function xk(){if(gg)return Ud;gg=1;const e=Xo(),t=Yo();function n(r){this.mode=e.KANJI,this.data=r}return n.getBitsLength=function(o){return o*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let o;for(o=0;o<this.data.length;o++){let a=t.toSJIS(this.data[o]);if(a>=33088&&a<=40956)a-=33088;else if(a>=57408&&a<=60351)a-=49472;else throw new Error("Invalid SJIS character: "+this.data[o]+`
Make sure your charset is UTF-8`);a=(a>>>8&255)*192+(a&255),r.put(a,13)}},Ud=n,Ud}var Hd={exports:{}},pg;function fk(){return pg||(pg=1,(function(e){var t={single_source_shortest_paths:function(n,r,o){var a={},c={};c[r]=0;var u=t.PriorityQueue.make();u.push(r,0);for(var g,f,m,y,v,C,A,D,_;!u.empty();){g=u.pop(),f=g.value,y=g.cost,v=n[f]||{};for(m in v)v.hasOwnProperty(m)&&(C=v[m],A=y+C,D=c[m],_=typeof c[m]>"u",(_||D>A)&&(c[m]=A,u.push(m,A),a[m]=f))}if(typeof o<"u"&&typeof c[o]>"u"){var T=["Could not find a path from ",r," to ",o,"."].join("");throw new Error(T)}return a},extract_shortest_path_from_predecessor_list:function(n,r){for(var o=[],a=r;a;)o.push(a),n[a],a=n[a];return o.reverse(),o},find_path:function(n,r,o){var a=t.single_source_shortest_paths(n,r,o);return t.extract_shortest_path_from_predecessor_list(a,o)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,o={},a;n=n||{};for(a in r)r.hasOwnProperty(a)&&(o[a]=r[a]);return o.queue=[],o.sorter=n.sorter||r.default_sorter,o},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var o={value:n,cost:r};this.queue.push(o),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(Hd)),Hd.exports}var mg;function hk(){return mg||(mg=1,(function(e){const t=Xo(),n=ck(),r=dk(),o=uk(),a=xk(),c=ky(),u=Yo(),g=fk();function f(T){return unescape(encodeURIComponent(T)).length}function m(T,j,F){const k=[];let P;for(;(P=T.exec(F))!==null;)k.push({data:P[0],index:P.index,mode:j,length:P[0].length});return k}function y(T){const j=m(c.NUMERIC,t.NUMERIC,T),F=m(c.ALPHANUMERIC,t.ALPHANUMERIC,T);let k,P;return u.isKanjiModeEnabled()?(k=m(c.BYTE,t.BYTE,T),P=m(c.KANJI,t.KANJI,T)):(k=m(c.BYTE_KANJI,t.BYTE,T),P=[]),j.concat(F,k,P).sort(function(O,q){return O.index-q.index}).map(function(O){return{data:O.data,mode:O.mode,length:O.length}})}function v(T,j){switch(j){case t.NUMERIC:return n.getBitsLength(T);case t.ALPHANUMERIC:return r.getBitsLength(T);case t.KANJI:return a.getBitsLength(T);case t.BYTE:return o.getBitsLength(T)}}function C(T){return T.reduce(function(j,F){const k=j.length-1>=0?j[j.length-1]:null;return k&&k.mode===F.mode?(j[j.length-1].data+=F.data,j):(j.push(F),j)},[])}function A(T){const j=[];for(let F=0;F<T.length;F++){const k=T[F];switch(k.mode){case t.NUMERIC:j.push([k,{data:k.data,mode:t.ALPHANUMERIC,length:k.length},{data:k.data,mode:t.BYTE,length:k.length}]);break;case t.ALPHANUMERIC:j.push([k,{data:k.data,mode:t.BYTE,length:k.length}]);break;case t.KANJI:j.push([k,{data:k.data,mode:t.BYTE,length:f(k.data)}]);break;case t.BYTE:j.push([{data:k.data,mode:t.BYTE,length:f(k.data)}])}}return j}function D(T,j){const F={},k={start:{}};let P=["start"];for(let $=0;$<T.length;$++){const O=T[$],q=[];for(let S=0;S<O.length;S++){const U=O[S],G=""+$+S;q.push(G),F[G]={node:U,lastCount:0},k[G]={};for(let z=0;z<P.length;z++){const ee=P[z];F[ee]&&F[ee].node.mode===U.mode?(k[ee][G]=v(F[ee].lastCount+U.length,U.mode)-v(F[ee].lastCount,U.mode),F[ee].lastCount+=U.length):(F[ee]&&(F[ee].lastCount=U.length),k[ee][G]=v(U.length,U.mode)+4+t.getCharCountIndicator(U.mode,j))}}P=q}for(let $=0;$<P.length;$++)k[P[$]].end=0;return{map:k,table:F}}function _(T,j){let F;const k=t.getBestModeForData(T);if(F=t.from(j,k),F!==t.BYTE&&F.bit<k.bit)throw new Error('"'+T+'" cannot be encoded with mode '+t.toString(F)+`.
 Suggested mode is: `+t.toString(k));switch(F===t.KANJI&&!u.isKanjiModeEnabled()&&(F=t.BYTE),F){case t.NUMERIC:return new n(T);case t.ALPHANUMERIC:return new r(T);case t.KANJI:return new a(T);case t.BYTE:return new o(T)}}e.fromArray=function(j){return j.reduce(function(F,k){return typeof k=="string"?F.push(_(k,null)):k.data&&F.push(_(k.data,k.mode)),F},[])},e.fromString=function(j,F){const k=y(j,u.isKanjiModeEnabled()),P=A(k),$=D(P,F),O=g.find_path($.map,"start","end"),q=[];for(let S=1;S<O.length-1;S++)q.push($.table[O[S]].node);return e.fromArray(C(q))},e.rawSplit=function(j){return e.fromArray(y(j,u.isKanjiModeEnabled()))}})(Nd)),Nd}var yg;function gk(){if(yg)return Ad;yg=1;const e=Yo(),t=Ax(),n=J_(),r=ek(),o=tk(),a=nk(),c=rk(),u=Dy(),g=ik(),f=ak(),m=lk(),y=Xo(),v=hk();function C($,O){const q=$.size,S=a.getPositions(O);for(let U=0;U<S.length;U++){const G=S[U][0],z=S[U][1];for(let ee=-1;ee<=7;ee++)if(!(G+ee<=-1||q<=G+ee))for(let se=-1;se<=7;se++)z+se<=-1||q<=z+se||(ee>=0&&ee<=6&&(se===0||se===6)||se>=0&&se<=6&&(ee===0||ee===6)||ee>=2&&ee<=4&&se>=2&&se<=4?$.set(G+ee,z+se,!0,!0):$.set(G+ee,z+se,!1,!0))}}function A($){const O=$.size;for(let q=8;q<O-8;q++){const S=q%2===0;$.set(q,6,S,!0),$.set(6,q,S,!0)}}function D($,O){const q=o.getPositions(O);for(let S=0;S<q.length;S++){const U=q[S][0],G=q[S][1];for(let z=-2;z<=2;z++)for(let ee=-2;ee<=2;ee++)z===-2||z===2||ee===-2||ee===2||z===0&&ee===0?$.set(U+z,G+ee,!0,!0):$.set(U+z,G+ee,!1,!0)}}function _($,O){const q=$.size,S=f.getEncodedBits(O);let U,G,z;for(let ee=0;ee<18;ee++)U=Math.floor(ee/3),G=ee%3+q-8-3,z=(S>>ee&1)===1,$.set(U,G,z,!0),$.set(G,U,z,!0)}function T($,O,q){const S=$.size,U=m.getEncodedBits(O,q);let G,z;for(G=0;G<15;G++)z=(U>>G&1)===1,G<6?$.set(G,8,z,!0):G<8?$.set(G+1,8,z,!0):$.set(S-15+G,8,z,!0),G<8?$.set(8,S-G-1,z,!0):G<9?$.set(8,15-G-1+1,z,!0):$.set(8,15-G-1,z,!0);$.set(S-8,8,1,!0)}function j($,O){const q=$.size;let S=-1,U=q-1,G=7,z=0;for(let ee=q-1;ee>0;ee-=2)for(ee===6&&ee--;;){for(let se=0;se<2;se++)if(!$.isReserved(U,ee-se)){let J=!1;z<O.length&&(J=(O[z]>>>G&1)===1),$.set(U,ee-se,J),G--,G===-1&&(z++,G=7)}if(U+=S,U<0||q<=U){U-=S,S=-S;break}}}function F($,O,q){const S=new n;q.forEach(function(se){S.put(se.mode.bit,4),S.put(se.getLength(),y.getCharCountIndicator(se.mode,$)),se.write(S)});const U=e.getSymbolTotalCodewords($),G=u.getTotalCodewordsCount($,O),z=(U-G)*8;for(S.getLengthInBits()+4<=z&&S.put(0,4);S.getLengthInBits()%8!==0;)S.putBit(0);const ee=(z-S.getLengthInBits())/8;for(let se=0;se<ee;se++)S.put(se%2?17:236,8);return k(S,$,O)}function k($,O,q){const S=e.getSymbolTotalCodewords(O),U=u.getTotalCodewordsCount(O,q),G=S-U,z=u.getBlocksCount(O,q),ee=S%z,se=z-ee,J=Math.floor(S/z),be=Math.floor(G/z),he=be+1,we=J-be,Oe=new g(we);let Re=0;const ge=new Array(z),ve=new Array(z);let re=0;const ye=new Uint8Array($.buffer);for(let Ne=0;Ne<z;Ne++){const Me=Ne<se?be:he;ge[Ne]=ye.slice(Re,Re+Me),ve[Ne]=Oe.encode(ge[Ne]),Re+=Me,re=Math.max(re,Me)}const Ke=new Uint8Array(S);let le=0,ie,ae;for(ie=0;ie<re;ie++)for(ae=0;ae<z;ae++)ie<ge[ae].length&&(Ke[le++]=ge[ae][ie]);for(ie=0;ie<we;ie++)for(ae=0;ae<z;ae++)Ke[le++]=ve[ae][ie];return Ke}function P($,O,q,S){let U;if(Array.isArray($))U=v.fromArray($);else if(typeof $=="string"){let J=O;if(!J){const be=v.rawSplit($);J=f.getBestVersionForData(be,q)}U=v.fromString($,J||40)}else throw new Error("Invalid data");const G=f.getBestVersionForData(U,q);if(!G)throw new Error("The amount of data is too big to be stored in a QR Code");if(!O)O=G;else if(O<G)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+G+`.
`);const z=F(O,q,U),ee=e.getSymbolSize(O),se=new r(ee);return C(se,O),A(se),D(se,O),T(se,q,0),O>=7&&_(se,O),j(se,z),isNaN(S)&&(S=c.getBestMask(se,T.bind(null,se,q))),c.applyMask(S,se),T(se,q,S),{modules:se,version:O,errorCorrectionLevel:q,maskPattern:S,segments:U}}return Ad.create=function(O,q){if(typeof O>"u"||O==="")throw new Error("No input text");let S=t.M,U,G;return typeof q<"u"&&(S=t.from(q.errorCorrectionLevel,t.M),U=f.from(q.version),G=c.from(q.maskPattern),q.toSJISFunc&&e.setToSJISFunction(q.toSJISFunc)),P(O,U,S,G)},Ad}var zd={},Vd={},bg;function Sy(){return bg||(bg=1,(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(a){return[a,a]}))),r.length===6&&r.push("F","F");const o=parseInt(r.join(""),16);return{r:o>>24&255,g:o>>16&255,b:o>>8&255,a:o&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const o=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,a=r.width&&r.width>=21?r.width:void 0,c=r.scale||4;return{width:a,scale:a?4:c,margin:o,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,o){return o.width&&o.width>=r+o.margin*2?o.width/(r+o.margin*2):o.scale},e.getImageWidth=function(r,o){const a=e.getScale(r,o);return Math.floor((r+o.margin*2)*a)},e.qrToImageData=function(r,o,a){const c=o.modules.size,u=o.modules.data,g=e.getScale(c,a),f=Math.floor((c+a.margin*2)*g),m=a.margin*g,y=[a.color.light,a.color.dark];for(let v=0;v<f;v++)for(let C=0;C<f;C++){let A=(v*f+C)*4,D=a.color.light;if(v>=m&&C>=m&&v<f-m&&C<f-m){const _=Math.floor((v-m)/g),T=Math.floor((C-m)/g);D=y[u[_*c+T]?1:0]}r[A++]=D.r,r[A++]=D.g,r[A++]=D.b,r[A]=D.a}}})(Vd)),Vd}var Eg;function pk(){return Eg||(Eg=1,(function(e){const t=Sy();function n(o,a,c){o.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=c,a.width=c,a.style.height=c+"px",a.style.width=c+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(a,c,u){let g=u,f=c;typeof g>"u"&&(!c||!c.getContext)&&(g=c,c=void 0),c||(f=r()),g=t.getOptions(g);const m=t.getImageWidth(a.modules.size,g),y=f.getContext("2d"),v=y.createImageData(m,m);return t.qrToImageData(v.data,a,g),n(y,f,m),y.putImageData(v,0,0),f},e.renderToDataURL=function(a,c,u){let g=u;typeof g>"u"&&(!c||!c.getContext)&&(g=c,c=void 0),g||(g={});const f=e.render(a,c,g),m=g.type||"image/png",y=g.rendererOpts||{};return f.toDataURL(m,y.quality)}})(zd)),zd}var qd={},vg;function mk(){if(vg)return qd;vg=1;const e=Sy();function t(o,a){const c=o.a/255,u=a+'="'+o.hex+'"';return c<1?u+" "+a+'-opacity="'+c.toFixed(2).slice(1)+'"':u}function n(o,a,c){let u=o+a;return typeof c<"u"&&(u+=" "+c),u}function r(o,a,c){let u="",g=0,f=!1,m=0;for(let y=0;y<o.length;y++){const v=Math.floor(y%a),C=Math.floor(y/a);!v&&!f&&(f=!0),o[y]?(m++,y>0&&v>0&&o[y-1]||(u+=f?n("M",v+c,.5+C+c):n("m",g,0),g=0,f=!1),v+1<a&&o[y+1]||(u+=n("h",m),m=0)):g++}return u}return qd.render=function(a,c,u){const g=e.getOptions(c),f=a.modules.size,m=a.modules.data,y=f+g.margin*2,v=g.color.light.a?"<path "+t(g.color.light,"fill")+' d="M0 0h'+y+"v"+y+'H0z"/>':"",C="<path "+t(g.color.dark,"stroke")+' d="'+r(m,f,g.margin)+'"/>',A='viewBox="0 0 '+y+" "+y+'"',_='<svg xmlns="http://www.w3.org/2000/svg" '+(g.width?'width="'+g.width+'" height="'+g.width+'" ':"")+A+' shape-rendering="crispEdges">'+v+C+`</svg>
`;return typeof u=="function"&&u(null,_),_},qd}var Cg;function yk(){if(Cg)return ci;Cg=1;const e=Z_(),t=gk(),n=pk(),r=mk();function o(a,c,u,g,f){const m=[].slice.call(arguments,1),y=m.length,v=typeof m[y-1]=="function";if(!v&&!e())throw new Error("Callback required as last argument");if(v){if(y<2)throw new Error("Too few arguments provided");y===2?(f=u,u=c,c=g=void 0):y===3&&(c.getContext&&typeof f>"u"?(f=g,g=void 0):(f=g,g=u,u=c,c=void 0))}else{if(y<1)throw new Error("Too few arguments provided");return y===1?(u=c,c=g=void 0):y===2&&!c.getContext&&(g=u,u=c,c=void 0),new Promise(function(C,A){try{const D=t.create(u,g);C(a(D,c,g))}catch(D){A(D)}})}try{const C=t.create(u,g);f(null,a(C,c,g))}catch(C){f(C)}}return ci.create=t.create,ci.toCanvas=o.bind(null,n.render),ci.toDataURL=o.bind(null,n.renderToDataURL),ci.toString=o.bind(null,function(a,c,u){return r.render(a,u)}),ci}var bk=yk();const p0=gx(bk),Ek={class:"min-h-screen bg-gray-50 p-6"},vk={class:"mb-6"},Ck={key:0,class:"mb-4 space-y-2"},wk=["onClick"],Ak={class:"flex items-center space-x-2"},Bk={key:0,class:"w-5 h-5 text-current",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Dk={key:1,class:"w-5 h-5 text-current",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_k={key:2,class:"w-5 h-5 text-current",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},kk=["onClick"],Sk={key:1,class:"mb-6"},Fk={class:"bg-gradient-to-r from-red-500 to-red-600 rounded-lg shadow-lg p-6 text-white"},Tk={class:"flex items-center justify-between mb-4"},Ik={class:"flex items-center space-x-4"},Mk={class:"text-2xl font-bold mb-1"},Pk=["disabled"],Rk={class:"mt-4 pt-4 border-t border-white/20"},Ok={class:"flex items-center justify-between mb-3"},Nk={class:"grid grid-cols-1 md:grid-cols-2 gap-2 max-h-60 overflow-y-auto"},Lk=["value"],$k={class:"flex-1 text-sm"},jk={class:"font-semibold flex items-center gap-2"},Uk={key:0,class:"px-1.5 py-0.5 bg-orange-600 text-white text-[9px] font-bold rounded"},Hk={class:"text-red-100 text-xs mt-0.5"},zk={key:0,class:"text-orange-200 text-[10px] mt-1"},Vk={key:0,class:"text-xs text-red-100 mt-2"},qk={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-4"},Wk={class:"flex flex-wrap gap-4 items-center justify-between"},Gk={class:"flex flex-wrap gap-4 items-center flex-1"},Qk={class:"relative"},Kk=["value"],Yk={class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},Xk={class:"overflow-x-auto"},Zk={class:"w-full"},Jk={class:"bg-gray-50"},eS=["onClick"],tS={class:"flex items-center space-x-1"},nS={class:"bg-white divide-y divide-gray-200"},rS=["onClick"],sS={class:"px-4 py-3 whitespace-nowrap"},oS={class:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900"},iS={class:"px-4 py-3 text-sm text-gray-900"},aS={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900"},lS={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900"},cS={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900"},dS={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900"},uS={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900"},xS={class:"px-4 py-3 whitespace-nowrap"},fS={class:"px-4 py-3 whitespace-nowrap text-sm space-x-2 flex items-center"},hS=["onClick"],gS=["onClick"],pS=["onClick"],mS=["onClick"],yS={key:0,class:"text-center py-12"},bS={key:0,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[9999]"},ES={class:"bg-white rounded-lg p-6 w-full max-w-3xl max-h-screen overflow-y-auto"},vS={class:"bg-gray-50 rounded-lg p-4 mb-6"},CS={class:"grid grid-cols-2 gap-4 text-sm"},wS={class:"ml-2 font-medium text-gray-900"},AS={class:"ml-2 font-medium text-gray-900"},BS={class:"ml-2 font-medium text-gray-900"},DS={class:"ml-2 font-medium text-blue-600"},_S={class:"ml-2 font-medium text-gray-900"},kS={class:"space-y-4"},SS={class:"flex items-center space-x-2"},FS=["max"],TS={class:"text-gray-600"},IS={key:0,class:"text-red-500 text-xs mt-1"},MS={label:"Standard Storage"},PS=["value"],RS={label:"Hazardous Storage"},OS=["value"],NS={key:0,class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},LS={class:"space-y-1 text-sm text-blue-800"},$S={class:"flex justify-between"},jS={class:"font-medium"},US={class:"flex justify-between"},HS={class:"font-medium"},zS={class:"flex justify-between"},VS={class:"font-medium"},qS={class:"flex justify-between"},WS={class:"flex gap-3 justify-end mt-6 pt-6 border-t border-gray-200"},GS=["disabled"],QS={class:"h-full flex flex-col"},KS={class:"flex-1 overflow-y-auto"},YS={class:"p-6 space-y-6"},XS={class:"space-y-2 text-sm"},ZS={class:"flex justify-between"},JS={class:"flex justify-between"},eF={class:"font-medium text-gray-900"},tF={class:"flex justify-between"},nF={class:"font-medium text-gray-900 text-right"},rF={class:"flex justify-between"},sF={class:"font-medium text-gray-900"},oF={class:"flex justify-between"},iF={class:"font-medium text-gray-900"},aF={class:"flex justify-between"},lF={class:"font-medium text-gray-900"},cF={class:"flex justify-between"},dF={class:"flex justify-between"},uF={class:"bg-gray-50 rounded-lg p-4 text-center"},xF={class:"w-32 h-32 bg-white mx-auto mb-2 flex items-center justify-center border-2 border-dashed border-gray-300 rounded-lg overflow-hidden"},fF=["src"],hF={key:1,class:"text-xs text-gray-400"},gF={class:"text-xs text-gray-500 mb-2"},pF={key:0,class:"space-y-3"},mF={class:"flex-1 text-sm"},yF={class:"flex justify-between items-start"},bF={class:"text-gray-900 font-medium"},EF={class:"text-gray-500 text-xs"},vF={class:"text-gray-600 text-xs mt-1"},CF={class:"text-gray-500 text-xs"},wF={key:1,class:"text-sm text-gray-500 italic p-3 bg-gray-50 rounded-lg"},AF={key:3,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[10000]"},BF={class:"bg-white rounded-lg p-6 w-full max-w-sm"},DF={class:"flex justify-between items-center mb-6 border-b pb-4"},_F={class:"text-xl font-semibold text-gray-900"},kF={class:"text-center space-y-4"},SF={id:"qr-code-to-print",class:"p-4 border border-gray-200 rounded-lg inline-block"},FF={class:"w-48 h-48 bg-white mx-auto flex items-center justify-center overflow-hidden"},TF=["src"],IF={key:1,class:"text-xs text-gray-600"},MF={class:"text-sm font-medium text-gray-700"},PF={class:"text-xs text-gray-500"},RF={class:"mt-6 flex justify-between gap-3"},OF={key:4,class:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-fadeIn"},NF={class:"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 overflow-hidden animate-slideUp"},LF={class:"p-6"},$F={class:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4"},jF={class:"text-sm text-red-800 whitespace-pre-line leading-relaxed"},UF=Nr({__name:"Dashboard",props:{materialItems:{},alerts:{}},setup(e){const t=Be(""),n=e;Be(!1);const r=Be(""),o=Be(""),a=Be(""),c=Be(""),u=Be("kode"),g=Be("asc"),f=Be(null),m=Be(!1),y=Be(!1),v=Be(!1),C=Be(null),A=Be([...n.alerts]),D=Be({material:null,qty:0,destinationBin:"",reason:"",notes:""}),_=Be([]);Kn(async()=>{try{const te=await St.get("/master-data/bins");_.value=te.data}catch(te){console.error("Error fetching bin locations:",te)}});const T=[{key:"type",label:"RM/PM"},{key:"kode",label:"Kode"},{key:"nama",label:"Nama Material"},{key:"lot",label:"Serial/Lot"},{key:"lokasi",label:"Lokasi"},{key:"qty",label:"Qty"},{key:"uom",label:"UoM"},{key:"expiredDate",label:"Expired Date"},{key:"status",label:"Status"}],j=We(()=>[...new Set(n.materialItems.map(te=>te.lokasi))].sort()),F=We(()=>{const te=D.value.material?.lokasi;return{standard:_.value.filter(Z=>Z.type==="STD"&&Z.code!==te),hazardous:_.value.filter(Z=>Z.type==="HAZ"&&Z.code!==te)}}),k=We(()=>_.value.find(te=>te.code===D.value.destinationBin)),P=We(()=>D.value.material!==null&&D.value.qty>0&&D.value.qty<=(D.value.material?.qty||0)&&D.value.destinationBin!==""&&D.value.reason!==""),$=We(()=>{let te=n.materialItems;if(t.value==="putAwayRequired")te=te.filter(Z=>Z.requiresPutAway);else if(t.value==="requiresQC")te=te.filter(Z=>Z.requiresQC);else if(t.value==="expiringSoon"){const Z=new Date,fe=new Date;fe.setDate(Z.getDate()+30),te=te.filter(ce=>{const de=new Date(ce.expiredDate);return de>Z&&de<=fe})}if(r.value){const Z=r.value.toLowerCase();te=te.filter(fe=>fe.kode.toLowerCase().includes(Z)||fe.nama.toLowerCase().includes(Z)||fe.lot.toLowerCase().includes(Z))}return o.value&&(te=te.filter(Z=>Z.status===o.value)),a.value&&(te=te.filter(Z=>Z.type===a.value)),c.value&&(te=te.filter(Z=>Z.lokasi===c.value)),te.sort((Z,fe)=>{let ce=Z[u.value],de=fe[u.value];return typeof ce=="string"&&(ce=ce.toLowerCase()),typeof de=="string"&&(de=de.toLowerCase()),ce<de?g.value==="asc"?-1:1:ce>de?g.value==="asc"?1:-1:0}),te}),O=We(()=>{const te=new Date;return n.materialItems.filter(Z=>new Date(Z.expiredDate)<te)}),q=We(()=>O.value.length),S=Be([]),U=Be(!1),G=Be(""),z=()=>{S.value.length===O.value.length?S.value=[]:S.value=O.value.map(te=>se(te)).filter(te=>te!==null)},ee=te=>["QRT-HALAL","QRT-NON HALAL","QRT-HALAL-AC"].includes(te),se=te=>{const Z=te.id.match(/INV-(\d+)/);return Z?Z[1]:null},J=()=>{U.value=!1,G.value=""},be=()=>{if(S.value.length===0){G.value="Pilih minimal 1 material untuk Re-QC",U.value=!0;return}console.log(" Initiating Re-QC for:",S.value),bt.post("/dashboard/reqc/initiate",{inventory_stock_ids:S.value},{preserveState:!1,preserveScroll:!1,onStart:()=>{console.log(" Re-QC request started...")},onSuccess:te=>{console.log(" Re-QC initiated successfully",te)},onError:te=>{if(console.error(" Re-QC error:",te),te.message)G.value=te.message;else{const Z=Object.values(te).flat().join(`
`);G.value=Z||"Terjadi kesalahan. Silakan coba lagi."}U.value=!0},onFinish:()=>{console.log(" Re-QC request finished")}})},he=te=>{t.value===te?t.value="":(t.value=te,o.value="",a.value="",c.value="",r.value="")},we=te=>{u.value===te?g.value=g.value==="asc"?"desc":"asc":(u.value=te,g.value="asc")},Oe=te=>{const Z=new Date,fe=new Date(te.expiredDate),ce=Math.ceil((fe.getTime()-Z.getTime())/(1e3*60*60*24));return ce<0?"bg-red-50 dark:bg-red-900/20":ce<=30?"bg-yellow-50 dark:bg-yellow-900/20":""},Re=te=>{const Z=new Date,fe=new Date(te),ce=Math.ceil((fe.getTime()-Z.getTime())/(1e3*60*60*24));return ce<0?"text-red-600 dark:text-red-400 font-semibold":ce<=30?"text-yellow-600 dark:text-yellow-400 font-semibold":"text-gray-900"},ge=te=>({"Waiting QC":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",Karantina:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",Released:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",Reject:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200","In Production":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",Returned:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"})[te]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",ve=te=>({error:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",info:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"})[te]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",re=te=>{if(!te)return"";const Z=te.currentItems/te.maxItems*100;return Z>=90?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":Z>=70?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},ye=te=>{if(!te)return"";const Z=te.currentItems/te.maxItems*100;return Z>=90?"Hampir Penuh":Z>=70?"Cukup Terisi":"Tersedia"},Ke=te=>new Date(te).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),le=te=>new Date(te).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),ie=async te=>{const Z=te.status.toUpperCase(),fe=`${te.lot}|${te.kode}|${Z}|${te.qty}|${te.expiredDate}`;te.qr_data=fe;try{const ce=await p0.toDataURL(fe,{width:200,margin:1,errorCorrectionLevel:"M"});te.qr_image_url=ce}catch(ce){console.error("Error generating QR:",ce)}},ae=async te=>{f.value=te,m.value=!0,await ie(te)},Ne=()=>{m.value=!1,setTimeout(()=>{f.value=null},300)},Me=te=>{const Z=A.value.findIndex(fe=>fe.id===te);Z>-1&&A.value.splice(Z,1)},ze=async te=>{C.value=te,v.value=!0,await ie(te)},et=()=>{v.value=!1,C.value=null},X=te=>{D.value={material:{...te},qty:te.qty,destinationBin:"",reason:"",notes:""},y.value=!0},Y=te=>{console.log(`Mempersiapkan cetak QR Code untuk: ${te.kode}-${te.lot} (Tipe: ${te.qr_type})`);const Z=document.getElementById("qr-code-to-print")?.innerHTML;if(Z){const fe=window.open("","_blank");if(fe){fe.document.write("<html><head><title>Cetak QR Code</title>"),fe.document.write("<style>"),fe.document.write("body { font-family: sans-serif; margin: 0; padding: 10mm; }"),fe.document.write("#qr-content { display: flex; flex-direction: column; align-items: center; text-align: center; border: 2px solid #3b82f6; padding: 2px; width: fit-content; margin: 0 auto; }"),fe.document.write("h4 { margin-bottom: 5px; font-size: 14pt; }"),fe.document.write("p { margin: 0; font-size: 8pt; }"),fe.document.write(".qr-area { margin-bottom: 10px; }"),fe.document.write("@media print { body { padding: 0; } #qr-content { border: none; padding: 0; } }"),fe.document.write("</style>"),fe.document.write("</head><body>");let ce=te.status==="Karantina"?"QR KARANTINA":"QR RELEASED";fe.document.write('<div id="qr-content">'),fe.document.write(`<h4>${ce}</h4>`),fe.document.write('<div class="qr-area">'),fe.document.write(Z),fe.document.write("</div>"),fe.document.write(`<p>Kode Material: ${te.kode}</p>`),fe.document.write(`<p>Lot/Serial: ${te.lot}</p>`),fe.document.write(`<p>Qty: ${te.qty} ${te.uom}</p>`),fe.document.write(`<p>Lokasi: ${te.lokasi}</p>`),fe.document.write("</div>"),fe.document.write("<script>window.onload = function() { window.print(); window.close(); }<\/script>"),fe.document.write("</body></html>"),fe.document.close()}}else alert("Gagal mengambil konten QR Code untuk dicetak.")},L=()=>{y.value=!1,D.value={material:null,qty:0,destinationBin:"",reason:"",notes:""}},N=()=>{if(!P.value||!D.value.material)return;const te=`TO-B2B-${new Date().getFullYear()}-${String(Math.floor(Math.random()*1e3)).padStart(3,"0")}`,Z={toNumber:te,type:"Bin to Bin Transfer",status:"Pending Approval",material:D.value.material,sourceBin:D.value.material.lokasi,destinationBin:D.value.destinationBin,qty:D.value.qty,reason:D.value.reason,notes:D.value.notes,createdBy:"Admin User",createdAt:new Date().toISOString(),approvalRequired:!0};console.log("Transfer Order Created:",Z),alert(` Transfer Order ${te} berhasil dibuat!

Material: ${D.value.material.kode} - ${D.value.material.nama}
Dari: ${D.value.material.lokasi}
Ke: ${D.value.destinationBin}
Qty: ${D.value.qty} ${D.value.material.uom}

Status: Menunggu approval dari Manager/Admin`),L()},B=()=>{alert("QR Scanner akan dibuka - integrasi dengan camera device")},M=()=>{alert("Import Modal akan dibuka - upload Excel/CSV")},ue=()=>{const te=JSON.stringify($.value,null,2),Z=new Blob([te],{type:"application/json"}),fe=URL.createObjectURL(Z),ce=document.createElement("a");ce.href=fe,ce.download=`wms_central_data_${new Date().toISOString().split("T")[0]}.json`,ce.click(),URL.revokeObjectURL(fe)},_e=te=>{let Z="";te.qr_type==="Karantina"?(Z="QR KARANTINA (JANGAN DIGUNAKAN)",alert(`Print QR KARANTINA untuk ${te.kode} - ${te.lot}
Data QR: ${te.qr_data}`)):(Z="QR RELEASED (SIAP PRODUKSI)",alert(`Print QR RELEASED untuk ${te.kode} - ${te.lot}
Data QR: ${te.qr_data}`)),console.log(`Logika cetak QR Code: ${Z}`)};return(te,Z)=>(W(),Tt(Yn,{pageTitle:"Dashboard",pageDescription:"Ringkasan sistem warehouse management"},{default:yt(()=>[i("div",Ek,[i("div",vk,[i("div",{class:"flex justify-between items-center mb-4"},[Z[12]||(Z[12]=i("div",null,[i("h1",{class:"text-3xl font-bold text-gray-900"},"Central Data WMS"),i("p",{class:"text-gray-600 mt-1"},"Kelola semua material di gudang")],-1)),i("div",{class:"flex items-center space-x-4"},[i("button",{onClick:B,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2"},[...Z[11]||(Z[11]=[i("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h2M4 4h5a3 3 0 000 6H4V4zm3 2h.01M8 16h.01"})],-1),i("span",null,"Scan QR",-1)])])])]),A.value.length>0?(W(),Q("div",Ck,[(W(!0),Q(He,null,ot(A.value,fe=>(W(),Q("div",{key:fe.id,class:Pe([[ve(fe.type),{"ring-2 ring-blue-500 ring-offset-2":t.value==="putAwayRequired"&&fe.id==="0","ring-2 ring-orange-500 ring-offset-2":t.value==="requiresQC"&&fe.id==="3","ring-2 ring-yellow-500 ring-offset-2":t.value==="expiringSoon"&&fe.id==="1","cursor-pointer hover:shadow-md transition duration-150 ease-in-out":["0","3","1"].includes(fe.id)}],"p-3 rounded-lg flex items-center justify-between"]),onClick:ce=>fe.id==="0"?he("putAwayRequired"):fe.id==="3"?he("requiresQC"):fe.id==="1"?he("expiringSoon"):null},[i("div",Ak,[fe.id==="0"?(W(),Q("svg",Bk,[...Z[13]||(Z[13]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"},null,-1)])])):me("",!0),fe.id==="3"?(W(),Q("svg",Dk,[...Z[14]||(Z[14]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.276a2 2 0 010 2.553l-3.52 3.52c-.144.144-.33.225-.53.225H12V7h3.707l-3.52-3.52a2 2 0 012.553 0l3.52 3.52z"},null,-1)])])):me("",!0),fe.id==="1"?(W(),Q("svg",_k,[...Z[15]||(Z[15]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])):me("",!0),i("span",null,R(fe.message),1)]),i("button",{onClick:sr(ce=>Me(fe.id),["stop"]),class:"text-current opacity-70 hover:opacity-100 p-1"},[...Z[16]||(Z[16]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,kk)],10,wk))),128))])):me("",!0),q.value>0?(W(),Q("div",Sk,[i("form",{onSubmit:sr(be,["prevent"]),method:"POST"},[i("div",Fk,[i("div",Tk,[i("div",Ik,[Z[19]||(Z[19]=i("div",{class:"relative"},[i("div",{class:"absolute inset-0 bg-white/20 rounded-full animate-ping"}),i("div",{class:"relative bg-white/30 p-4 rounded-full"},[i("svg",{class:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])])],-1)),i("div",null,[i("h3",Mk,R(q.value)+" Material Expired!",1),Z[17]||(Z[17]=i("p",{class:"text-red-100 text-sm"},"Pilih material yang sudah di bin QRT untuk proses Re-QC",-1)),Z[18]||(Z[18]=i("p",{class:"text-red-100 text-xs mt-1"},"Bin QRT: QRT-HALAL, QRT-NON HALAL, QRT-HALAL-AC",-1))])]),i("button",{type:"submit",disabled:S.value.length===0,class:Pe([S.value.length>0?"bg-white hover:bg-red-50":"bg-white/50 cursor-not-allowed","text-red-600 px-6 py-3 rounded-lg font-semibold shadow-lg transition-all hover:scale-105 flex items-center space-x-2 group"])},[i("span",null,"Proses Re-QC ("+R(S.value.length)+")",1),Z[20]||(Z[20]=i("svg",{class:"w-5 h-5 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1))],10,Pk)]),i("div",Rk,[i("div",Ok,[Z[21]||(Z[21]=i("p",{class:"text-sm text-red-100"},"Pilih material untuk Re-QC:",-1)),i("button",{type:"button",onClick:z,class:"text-xs text-white hover:text-red-100 underline"},R(S.value.length===O.value.length?"Batalkan Semua":"Pilih Semua"),1)]),i("div",Nk,[(W(!0),Q(He,null,ot(O.value,fe=>(W(),Q("label",{key:fe.id,class:Pe(["flex items-start gap-3 p-3 rounded cursor-pointer transition-colors",ee(fe.lokasi)?"bg-white/10 hover:bg-white/20":"bg-orange-500/50 hover:bg-orange-500/60"])},[Ce(i("input",{type:"checkbox",value:se(fe),"onUpdate:modelValue":Z[0]||(Z[0]=ce=>S.value=ce),class:"mt-1 w-4 h-4 rounded"},null,8,Lk),[[Di,S.value]]),i("div",$k,[i("div",jk,[Qe(R(fe.nama)+" ",1),ee(fe.lokasi)?me("",!0):(W(),Q("span",Uk," Belum QRT "))]),i("div",Hk," Exp: "+R(Ke(fe.expiredDate))+"  "+R(fe.lokasi)+"  "+R(fe.lot),1),ee(fe.lokasi)?me("",!0):(W(),Q("div",zk,[...Z[22]||(Z[22]=[i("a",{href:"/transaction/bin-to-bin",class:"underline hover:text-white"},"Bin-to-Bin dulu ",-1)])]))])],2))),128))]),q.value>10?(W(),Q("p",Vk," +"+R(q.value-10)+" material lainnya (scroll untuk lihat semua) ",1)):me("",!0)])])],32)])):me("",!0),i("div",qk,[i("div",Wk,[i("div",Gk,[i("div",Qk,[Z[23]||(Z[23]=i("svg",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),Ce(i("input",{"onUpdate:modelValue":Z[1]||(Z[1]=fe=>r.value=fe),type:"text",placeholder:"Cari kode, nama material, atau lot...",class:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg w-80 bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[$e,r.value]])]),Ce(i("select",{"onUpdate:modelValue":Z[2]||(Z[2]=fe=>o.value=fe),class:"px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900"},[...Z[24]||(Z[24]=[i("option",{value:""},"Semua Status",-1)])],512),[[dt,o.value]]),Ce(i("select",{"onUpdate:modelValue":Z[3]||(Z[3]=fe=>a.value=fe),class:"px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900"},[...Z[25]||(Z[25]=[i("option",{value:""},"Semua Tipe",-1),i("option",{value:"RM"},"Raw Material",-1),i("option",{value:"PM"},"Packaging Material",-1)])],512),[[dt,a.value]]),Ce(i("select",{"onUpdate:modelValue":Z[4]||(Z[4]=fe=>c.value=fe),class:"px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900"},[Z[26]||(Z[26]=i("option",{value:""},"Semua Lokasi",-1)),(W(!0),Q(He,null,ot(j.value,fe=>(W(),Q("option",{key:fe,value:fe},R(fe),9,Kk))),128))],512),[[dt,c.value]])]),i("div",{class:"flex gap-2"},[i("button",{onClick:M,class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2"},[...Z[27]||(Z[27]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1),i("span",null,"Import",-1)])]),i("button",{onClick:ue,class:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2"},[...Z[28]||(Z[28]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),i("span",null,"Export",-1)])])])])])]),i("div",Yk,[i("div",Xk,[i("table",Zk,[i("thead",Jk,[i("tr",null,[(W(),Q(He,null,ot(T,fe=>i("th",{key:fe.key,onClick:ce=>we(fe.key),class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors"},[i("div",tS,[i("span",null,R(fe.label),1),u.value===fe.key?(W(),Q("svg",{key:0,class:Pe(["w-4 h-4",g.value==="asc"?"":"transform rotate-180"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...Z[29]||(Z[29]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"},null,-1)])],2)):me("",!0)])],8,eS)),64)),Z[30]||(Z[30]=i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi",-1))])]),i("tbody",nS,[(W(!0),Q(He,null,ot($.value,fe=>(W(),Q("tr",{key:fe.id,onClick:ce=>ae(fe),class:Pe([Oe(fe),"hover:bg-gray-50 cursor-pointer transition-colors"])},[i("td",sS,[i("span",{class:Pe([fe.type==="Raw Material"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800","px-2 py-1 text-xs font-semibold rounded-full"])},R(fe.type),3)]),i("td",oS,R(fe.kode),1),i("td",iS,R(fe.nama),1),i("td",aS,R(fe.lot),1),i("td",lS,R(fe.lokasi),1),i("td",cS,R(fe.qty),1),i("td",dS,R(fe.uom),1),i("td",uS,[i("span",{class:Pe(Re(fe.expiredDate))},R(Ke(fe.expiredDate)),3)]),i("td",xS,[i("span",{class:Pe([ge(fe.status),"px-2 py-1 text-xs font-semibold rounded-full"])},R(fe.status),3)]),i("td",fS,[fe.requiresPutAway?(W(),Q(He,{key:0},[i("button",{onClick:sr(ce=>X(fe),["stop"]),class:"px-2 py-1 text-xs font-semibold bg-indigo-500 text-white rounded hover:bg-indigo-700 transition-colors flex items-center space-x-1",title:"Put Away Cepat ke lokasi permanen"},[...Z[31]||(Z[31]=[i("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1),i("span",null,"Put Away",-1)])],8,hS),i("button",{onClick:sr(ce=>ze(fe),["stop"]),class:"text-blue-600 hover:text-blue-900 transition-colors ml-2",title:"Cetak/Lihat Detail QR"},[...Z[32]||(Z[32]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h2M4 4h5a3 3 0 000 6H4V4zm3 2h.01M8 16h.01"})],-1)])],8,gS)],64)):(W(),Q(He,{key:1},[i("button",{onClick:sr(ce=>ze(fe),["stop"]),class:"text-blue-600 hover:text-blue-900 transition-colors",title:"Cetak/Lihat Detail QR"},[...Z[33]||(Z[33]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h2M4 4h5a3 3 0 000 6H4V4zm3 2h.01M8 16h.01"})],-1)])],8,pS),i("button",{onClick:sr(ce=>X(fe),["stop"]),class:"text-green-600 hover:text-green-900 transition-colors ml-2",title:"Bin to Bin Transfer"},[...Z[34]||(Z[34]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1)])],8,mS)],64))])],10,rS))),128))])])]),$.value.length===0?(W(),Q("div",yS,[...Z[35]||(Z[35]=[i("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-4.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 009.586 13H7"})],-1),i("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Tidak ada data",-1),i("p",{class:"mt-1 text-sm text-gray-500"},"Data material tidak ditemukan atau filter terlalu spesifik",-1)])])):me("",!0)]),y.value?(W(),Q("div",bS,[i("div",ES,[i("div",{class:"flex justify-between items-center mb-6"},[Z[37]||(Z[37]=i("h3",{class:"text-xl font-semibold text-gray-900"},"Bin to Bin Transfer",-1)),i("button",{onClick:L,class:"text-gray-400 hover:text-gray-600"},[...Z[36]||(Z[36]=[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",vS,[Z[43]||(Z[43]=i("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Informasi Material",-1)),i("div",CS,[i("div",null,[Z[38]||(Z[38]=i("span",{class:"text-gray-600"},"Kode:",-1)),i("span",wS,R(D.value.material?.kode),1)]),i("div",null,[Z[39]||(Z[39]=i("span",{class:"text-gray-600"},"Nama:",-1)),i("span",AS,R(D.value.material?.nama),1)]),i("div",null,[Z[40]||(Z[40]=i("span",{class:"text-gray-600"},"Lot:",-1)),i("span",BS,R(D.value.material?.lot),1)]),i("div",null,[Z[41]||(Z[41]=i("span",{class:"text-gray-600"},"Lokasi Saat Ini:",-1)),i("span",DS,R(D.value.material?.lokasi),1)]),i("div",null,[Z[42]||(Z[42]=i("span",{class:"text-gray-600"},"Qty Tersedia:",-1)),i("span",_S,R(D.value.material?.qty)+" "+R(D.value.material?.uom),1)])])]),i("div",kS,[i("div",null,[Z[44]||(Z[44]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[Qe(" Quantity Transfer "),i("span",{class:"text-red-500"},"*")],-1)),i("div",SS,[Ce(i("input",{"onUpdate:modelValue":Z[5]||(Z[5]=fe=>D.value.qty=fe),type:"number",max:D.value.material?.qty,min:"0",class:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500",placeholder:"Masukkan qty yang akan di-transfer"},null,8,FS),[[$e,D.value.qty,void 0,{number:!0}]]),i("span",TS,R(D.value.material?.uom),1)]),D.value.qty>(D.value.material?.qty||0)?(W(),Q("p",IS," Qty transfer melebihi qty tersedia! ")):me("",!0)]),i("div",null,[Z[46]||(Z[46]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[Qe(" Bin Tujuan "),i("span",{class:"text-red-500"},"*")],-1)),Ce(i("select",{"onUpdate:modelValue":Z[6]||(Z[6]=fe=>D.value.destinationBin=fe),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[Z[45]||(Z[45]=i("option",{value:""},"-- Pilih Bin Tujuan --",-1)),i("optgroup",MS,[(W(!0),Q(He,null,ot(F.value.standard,fe=>(W(),Q("option",{key:fe.code,value:fe.code},R(fe.code)+" - "+R(fe.zone)+" ("+R(fe.currentItems)+"/"+R(fe.maxItems)+" items) ",9,PS))),128))]),i("optgroup",RS,[(W(!0),Q(He,null,ot(F.value.hazardous,fe=>(W(),Q("option",{key:fe.code,value:fe.code},R(fe.code)+" - "+R(fe.zone)+" ("+R(fe.currentItems)+"/"+R(fe.maxItems)+" items) ",9,OS))),128))])],512),[[dt,D.value.destinationBin]])]),D.value.destinationBin?(W(),Q("div",NS,[Z[51]||(Z[51]=i("h5",{class:"text-sm font-medium text-blue-900 mb-2"},"Detail Bin Tujuan",-1)),i("div",LS,[i("div",$S,[Z[47]||(Z[47]=i("span",null,"Kode Bin:",-1)),i("span",jS,R(k.value?.code),1)]),i("div",US,[Z[48]||(Z[48]=i("span",null,"Zona:",-1)),i("span",HS,R(k.value?.zone),1)]),i("div",zS,[Z[49]||(Z[49]=i("span",null,"Kapasitas:",-1)),i("span",VS,R(k.value?.currentItems)+"/"+R(k.value?.maxItems)+" items",1)]),i("div",qS,[Z[50]||(Z[50]=i("span",null,"Status:",-1)),i("span",{class:Pe([re(k.value),"px-2 py-0.5 text-xs rounded-full"])},R(ye(k.value)),3)])])])):me("",!0),i("div",null,[Z[53]||(Z[53]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[Qe(" Alasan Transfer "),i("span",{class:"text-red-500"},"*")],-1)),Ce(i("select",{"onUpdate:modelValue":Z[7]||(Z[7]=fe=>D.value.reason=fe),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 mb-2"},[...Z[52]||(Z[52]=[i("option",{value:""},"-- Pilih Alasan --",-1),i("option",{value:"optimization"},"Optimasi Ruang Gudang",-1),i("option",{value:"consolidation"},"Konsolidasi Material",-1),i("option",{value:"reorganization"},"Reorganisasi Zona",-1),i("option",{value:"safety"},"Alasan Keamanan",-1),i("option",{value:"quality"},"Segregasi Quality",-1),i("option",{value:"other"},"Lainnya",-1)])],512),[[dt,D.value.reason]]),D.value.reason==="other"||D.value.reason?Ce((W(),Q("textarea",{key:0,"onUpdate:modelValue":Z[8]||(Z[8]=fe=>D.value.notes=fe),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500",placeholder:"Catatan tambahan..."},null,512)),[[$e,D.value.notes]]):me("",!0)]),Z[54]||(Z[54]=i("div",{class:"bg-yellow-50 border border-yellow-200 rounded-lg p-4"},[i("div",{class:"flex items-start space-x-2"},[i("svg",{class:"w-5 h-5 text-yellow-600 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[i("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})]),i("div",{class:"flex-1"},[i("h5",{class:"text-sm font-medium text-yellow-900"},"Persetujuan Manager"),i("p",{class:"text-xs text-yellow-800 mt-1"}," Transfer Order Bin to Bin akan dibuat dan memerlukan approval dari manager/admin sebelum dapat dieksekusi. ")])])],-1))]),i("div",WS,[i("button",{onClick:L,class:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"}," Batal "),i("button",{onClick:N,disabled:!P.value,class:Pe([P.value?"bg-green-600 hover:bg-green-700":"bg-gray-400 cursor-not-allowed","px-4 py-2 text-white rounded-lg transition-colors flex items-center space-x-2"])},[...Z[55]||(Z[55]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),i("span",null,"Buat Transfer Order",-1)])],10,GS)])])])):me("",!0),f.value?(W(),Q("div",{key:1,class:Pe(["fixed inset-y-0 right-0 w-96 bg-white shadow-xl z-[998] transform transition-transform duration-300 border-l border-gray-200",m.value?"translate-x-0":"translate-x-full"]),style:{"max-height":"100vh",overflow:"hidden"}},[i("div",QS,[i("div",{class:"px-6 py-4 bg-gray-50 border-b border-gray-200"},[i("div",{class:"flex items-center justify-between"},[Z[57]||(Z[57]=i("h3",{class:"text-lg font-medium text-gray-900"},"Detail Material",-1)),i("button",{onClick:Ne,class:"text-gray-400 hover:text-gray-600"},[...Z[56]||(Z[56]=[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),i("div",KS,[i("div",YS,[i("div",null,[Z[66]||(Z[66]=i("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Informasi Material",-1)),i("div",XS,[i("div",ZS,[Z[58]||(Z[58]=i("span",{class:"text-gray-600"},"Tipe:",-1)),i("span",{class:Pe([f.value.type==="RM"?"text-blue-600":"text-green-600","font-medium"])},R(f.value.type),3)]),i("div",JS,[Z[59]||(Z[59]=i("span",{class:"text-gray-600"},"Kode:",-1)),i("span",eF,R(f.value.kode),1)]),i("div",tF,[Z[60]||(Z[60]=i("span",{class:"text-gray-600"},"Nama:",-1)),i("span",nF,R(f.value.nama),1)]),i("div",rF,[Z[61]||(Z[61]=i("span",{class:"text-gray-600"},"Lot/Serial:",-1)),i("span",sF,R(f.value.lot),1)]),i("div",oF,[Z[62]||(Z[62]=i("span",{class:"text-gray-600"},"Lokasi:",-1)),i("span",iF,R(f.value.lokasi),1)]),i("div",aF,[Z[63]||(Z[63]=i("span",{class:"text-gray-600"},"Qty:",-1)),i("span",lF,R(f.value.qty)+" "+R(f.value.uom),1)]),i("div",cF,[Z[64]||(Z[64]=i("span",{class:"text-gray-600"},"Expired:",-1)),i("span",{class:Pe([Re(f.value.expiredDate),"font-medium"])},R(Ke(f.value.expiredDate)),3)]),i("div",dF,[Z[65]||(Z[65]=i("span",{class:"text-gray-600"},"Status:",-1)),i("span",{class:Pe([ge(f.value.status),"px-2 py-1 text-xs font-semibold rounded-full"])},R(f.value.status),3)])])]),i("div",null,[Z[67]||(Z[67]=i("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"QR Code & Dokumen",-1)),i("div",uF,[i("div",xF,[f.value.qr_image_url?(W(),Q("img",{key:0,src:f.value.qr_image_url,alt:"QR Code",class:"w-full h-full object-contain"},null,8,fF)):(W(),Q("div",hF,"Generating..."))]),i("p",gF,R(f.value.kode)+"-"+R(f.value.lot),1),i("button",{onClick:Z[9]||(Z[9]=fe=>_e(f.value)),class:"text-blue-600 text-sm hover:underline font-medium"}," Print QR Code ")]),Z[68]||(Z[68]=i("div",{class:"mt-3 space-y-1 text-sm"},[i("div",{class:"flex justify-between"},[i("span",{class:"text-gray-600"},"PO Number:"),i("span",{class:"text-blue-600 cursor-pointer hover:underline"},"PO-2024-001")]),i("div",{class:"flex justify-between"},[i("span",{class:"text-gray-600"},"GR Number:"),i("span",{class:"text-blue-600 cursor-pointer hover:underline"},"GR-2024-001")])],-1))]),i("div",null,[Z[70]||(Z[70]=i("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Riwayat Pergerakan",-1)),f.value.history.length>0?(W(),Q("div",pF,[(W(!0),Q(He,null,ot(f.value.history,fe=>(W(),Q("div",{key:fe.id,class:"flex items-start space-x-3"},[Z[69]||(Z[69]=i("div",{class:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"},null,-1)),i("div",mF,[i("div",yF,[i("span",bF,R(fe.action),1),i("span",EF,R(le(fe.date)),1)]),i("p",vF,R(fe.detail),1),i("p",CF,"Oleh: "+R(fe.user),1)])]))),128))])):(W(),Q("div",wF," Belum ada riwayat pergerakan untuk item ini. "))])])])])],2)):me("",!0),m.value?(W(),Q("div",{key:2,onClick:Ne,class:"fixed inset-0 bg-black/40 backdrop-blur-sm z-[997]"})):me("",!0),v.value&&C.value?(W(),Q("div",AF,[i("div",BF,[i("div",DF,[i("h3",_F,[Z[71]||(Z[71]=Qe(" QR Code: ",-1)),i("span",{class:Pe(C.value.qr_type==="Karantina"?"text-orange-600":"text-green-600")},R(C.value.qr_type),3)]),i("button",{onClick:et,class:"text-gray-400 hover:text-gray-600"},[...Z[72]||(Z[72]=[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",kF,[i("div",SF,[i("div",FF,[C.value.qr_image_url?(W(),Q("img",{key:0,src:C.value.qr_image_url,alt:"QR Code",class:"w-full h-full object-contain"},null,8,TF)):(W(),Q("span",IF,"Generating..."))])]),i("p",MF,"Kode: **"+R(C.value.kode)+"-"+R(C.value.lot)+"**",1),i("p",PF," Data Terenkripsi: `"+R(C.value.qr_data.substring(0,40))+"...` ",1),i("div",RF,[i("button",{onClick:et,class:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"}," Tutup "),i("button",{onClick:Z[10]||(Z[10]=fe=>Y(C.value)),class:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2"},[...Z[73]||(Z[73]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2v2H5v-2h2M17 17v-5H7v5m12 0a2 2 0 01-2 2H7a2 2 0 01-2-2m2-5V4a2 2 0 012-2h6a2 2 0 012 2v8M7 7h10"})],-1),i("span",null,"Cetak QR",-1)])])])])])])):me("",!0),U.value?(W(),Q("div",OF,[i("div",NF,[Z[75]||(Z[75]=i("div",{class:"bg-gradient-to-r from-red-500 to-red-600 px-6 py-4"},[i("div",{class:"flex items-center gap-3"},[i("div",{class:"bg-white/20 p-2 rounded-full"},[i("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])]),i("h3",{class:"text-xl font-bold text-white"},"Validasi Gagal")])],-1)),i("div",LF,[i("div",$F,[i("p",jF,R(G.value),1)]),Z[74]||(Z[74]=i("div",{class:"bg-blue-50 border border-blue-200 rounded-lg p-3 flex items-start gap-2"},[i("svg",{class:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[i("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})]),i("div",{class:"text-xs text-blue-800"},[i("p",{class:"font-semibold mb-1"},"Solusi:"),i("p",null,[Qe("Lakukan "),i("a",{href:"/transaction/bin-to-bin",class:"underline hover:text-blue-900 font-medium"},"Bin-to-Bin Transfer"),Qe(" terlebih dahulu ke bin QRT (QRT-HALAL, QRT-NON HALAL, atau QRT-HALAL-AC)")])])],-1))]),i("div",{class:"bg-gray-50 px-6 py-4 flex justify-end gap-3"},[i("button",{onClick:J,class:"px-6 py-2.5 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-semibold rounded-lg shadow-lg transition-all hover:scale-105 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2"}," Tutup ")])])])):me("",!0)])]),_:1}))}}),HF=tl(UF,[["__scopeId","data-v-25006d00"]]),zF=Object.freeze(Object.defineProperty({__proto__:null,default:HF},Symbol.toStringTag,{value:"Module"}));/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function nl(e){return e+.5|0}const Xs=(e,t,n)=>Math.max(Math.min(e,n),t);function da(e){return Xs(nl(e*2.55),0,255)}function no(e){return Xs(nl(e*255),0,255)}function ws(e){return Xs(nl(e/2.55)/100,0,1)}function wg(e){return Xs(nl(e*100),0,100)}const Dr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Pu=[..."0123456789ABCDEF"],VF=e=>Pu[e&15],qF=e=>Pu[(e&240)>>4]+Pu[e&15],Al=e=>(e&240)>>4===(e&15),WF=e=>Al(e.r)&&Al(e.g)&&Al(e.b)&&Al(e.a);function GF(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&Dr[e[1]]*17,g:255&Dr[e[2]]*17,b:255&Dr[e[3]]*17,a:t===5?Dr[e[4]]*17:255}:(t===7||t===9)&&(n={r:Dr[e[1]]<<4|Dr[e[2]],g:Dr[e[3]]<<4|Dr[e[4]],b:Dr[e[5]]<<4|Dr[e[6]],a:t===9?Dr[e[7]]<<4|Dr[e[8]]:255})),n}const QF=(e,t)=>e<255?t(e):"";function KF(e){var t=WF(e)?VF:qF;return e?"#"+t(e.r)+t(e.g)+t(e.b)+QF(e.a,t):void 0}const YF=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Fy(e,t,n){const r=t*Math.min(n,1-n),o=(a,c=(a+e/30)%12)=>n-r*Math.max(Math.min(c-3,9-c,1),-1);return[o(0),o(8),o(4)]}function XF(e,t,n){const r=(o,a=(o+e/60)%6)=>n-n*t*Math.max(Math.min(a,4-a,1),0);return[r(5),r(3),r(1)]}function ZF(e,t,n){const r=Fy(e,1,.5);let o;for(t+n>1&&(o=1/(t+n),t*=o,n*=o),o=0;o<3;o++)r[o]*=1-t-n,r[o]+=t;return r}function JF(e,t,n,r,o){return e===o?(t-n)/r+(t<n?6:0):t===o?(n-e)/r+2:(e-t)/r+4}function Bx(e){const n=e.r/255,r=e.g/255,o=e.b/255,a=Math.max(n,r,o),c=Math.min(n,r,o),u=(a+c)/2;let g,f,m;return a!==c&&(m=a-c,f=u>.5?m/(2-a-c):m/(a+c),g=JF(n,r,o,m,a),g=g*60+.5),[g|0,f||0,u]}function Dx(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(no)}function _x(e,t,n){return Dx(Fy,e,t,n)}function eT(e,t,n){return Dx(ZF,e,t,n)}function tT(e,t,n){return Dx(XF,e,t,n)}function Ty(e){return(e%360+360)%360}function nT(e){const t=YF.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?da(+t[5]):no(+t[5]));const o=Ty(+t[2]),a=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?r=eT(o,a,c):t[1]==="hsv"?r=tT(o,a,c):r=_x(o,a,c),{r:r[0],g:r[1],b:r[2],a:n}}function rT(e,t){var n=Bx(e);n[0]=Ty(n[0]+t),n=_x(n),e.r=n[0],e.g=n[1],e.b=n[2]}function sT(e){if(!e)return;const t=Bx(e),n=t[0],r=wg(t[1]),o=wg(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${o}%, ${ws(e.a)})`:`hsl(${n}, ${r}%, ${o}%)`}const Ag={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Bg={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function oT(){const e={},t=Object.keys(Bg),n=Object.keys(Ag);let r,o,a,c,u;for(r=0;r<t.length;r++){for(c=u=t[r],o=0;o<n.length;o++)a=n[o],u=u.replace(a,Ag[a]);a=parseInt(Bg[c],16),e[u]=[a>>16&255,a>>8&255,a&255]}return e}let Bl;function iT(e){Bl||(Bl=oT(),Bl.transparent=[0,0,0,0]);const t=Bl[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const aT=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function lT(e){const t=aT.exec(e);let n=255,r,o,a;if(t){if(t[7]!==r){const c=+t[7];n=t[8]?da(c):Xs(c*255,0,255)}return r=+t[1],o=+t[3],a=+t[5],r=255&(t[2]?da(r):Xs(r,0,255)),o=255&(t[4]?da(o):Xs(o,0,255)),a=255&(t[6]?da(a):Xs(a,0,255)),{r,g:o,b:a,a:n}}}function cT(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${ws(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Wd=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,di=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function dT(e,t,n){const r=di(ws(e.r)),o=di(ws(e.g)),a=di(ws(e.b));return{r:no(Wd(r+n*(di(ws(t.r))-r))),g:no(Wd(o+n*(di(ws(t.g))-o))),b:no(Wd(a+n*(di(ws(t.b))-a))),a:e.a+n*(t.a-e.a)}}function Dl(e,t,n){if(e){let r=Bx(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=_x(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function Iy(e,t){return e&&Object.assign(t||{},e)}function Dg(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=no(e[3]))):(t=Iy(e,{r:0,g:0,b:0,a:1}),t.a=no(t.a)),t}function uT(e){return e.charAt(0)==="r"?lT(e):nT(e)}class Ra{constructor(t){if(t instanceof Ra)return t;const n=typeof t;let r;n==="object"?r=Dg(t):n==="string"&&(r=GF(t)||iT(t)||uT(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=Iy(this._rgb);return t&&(t.a=ws(t.a)),t}set rgb(t){this._rgb=Dg(t)}rgbString(){return this._valid?cT(this._rgb):void 0}hexString(){return this._valid?KF(this._rgb):void 0}hslString(){return this._valid?sT(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,o=t.rgb;let a;const c=n===a?.5:n,u=2*c-1,g=r.a-o.a,f=((u*g===-1?u:(u+g)/(1+u*g))+1)/2;a=1-f,r.r=255&f*r.r+a*o.r+.5,r.g=255&f*r.g+a*o.g+.5,r.b=255&f*r.b+a*o.b+.5,r.a=c*r.a+(1-c)*o.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=dT(this._rgb,t._rgb,n)),this}clone(){return new Ra(this.rgb)}alpha(t){return this._rgb.a=no(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=nl(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Dl(this._rgb,2,t),this}darken(t){return Dl(this._rgb,2,-t),this}saturate(t){return Dl(this._rgb,1,t),this}desaturate(t){return Dl(this._rgb,1,-t),this}rotate(t){return rT(this._rgb,t),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ms(){}const xT=(()=>{let e=0;return()=>e++})();function Pt(e){return e==null}function mn(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function kt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Rr(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function ss(e,t){return Rr(e)?e:t}function mt(e,t){return typeof e>"u"?t:e}const fT=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,My=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Jt(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Nt(e,t,n,r){let o,a,c;if(mn(e))for(a=e.length,o=0;o<a;o++)t.call(n,e[o],o);else if(kt(e))for(c=Object.keys(e),a=c.length,o=0;o<a;o++)t.call(n,e[c[o]],c[o])}function m0(e,t){let n,r,o,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(o=e[n],a=t[n],o.datasetIndex!==a.datasetIndex||o.index!==a.index)return!1;return!0}function y0(e){if(mn(e))return e.map(y0);if(kt(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let o=0;for(;o<r;++o)t[n[o]]=y0(e[n[o]]);return t}return e}function Py(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function hT(e,t,n,r){if(!Py(e))return;const o=t[e],a=n[e];kt(o)&&kt(a)?Oa(o,a,r):t[e]=y0(a)}function Oa(e,t,n){const r=mn(t)?t:[t],o=r.length;if(!kt(e))return e;n=n||{};const a=n.merger||hT;let c;for(let u=0;u<o;++u){if(c=r[u],!kt(c))continue;const g=Object.keys(c);for(let f=0,m=g.length;f<m;++f)a(g[f],e,c,n)}return e}function Ea(e,t){return Oa(e,t,{merger:gT})}function gT(e,t,n){if(!Py(e))return;const r=t[e],o=n[e];kt(r)&&kt(o)?Ea(r,o):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=y0(o))}const _g={"":e=>e,x:e=>e.x,y:e=>e.y};function pT(e){const t=e.split("."),n=[];let r="";for(const o of t)r+=o,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function mT(e){const t=pT(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function Wo(e,t){return(_g[t]||(_g[t]=mT(t)))(e)}function kx(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Na=e=>typeof e<"u",xo=e=>typeof e=="function",kg=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function yT(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Lt=Math.PI,ln=2*Lt,bT=ln+Lt,b0=Number.POSITIVE_INFINITY,ET=Lt/180,yn=Lt/2,Ao=Lt/4,Sg=Lt*2/3,Ry=Math.log10,xs=Math.sign;function va(e,t,n){return Math.abs(e-t)<n}function Fg(e){const t=Math.round(e);e=va(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Ry(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function vT(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((o,a)=>o-a).pop(),t}function CT(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function La(e){return!CT(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function wT(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function AT(e,t,n){let r,o,a;for(r=0,o=e.length;r<o;r++)a=e[r][n],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function ks(e){return e*(Lt/180)}function BT(e){return e*(180/Lt)}function Tg(e){if(!Rr(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Oy(e,t){const n=t.x-e.x,r=t.y-e.y,o=Math.sqrt(n*n+r*r);let a=Math.atan2(r,n);return a<-.5*Lt&&(a+=ln),{angle:a,distance:o}}function Ru(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function DT(e,t){return(e-t+bT)%ln-Lt}function zr(e){return(e%ln+ln)%ln}function $a(e,t,n,r){const o=zr(e),a=zr(t),c=zr(n),u=zr(a-o),g=zr(c-o),f=zr(o-a),m=zr(o-c);return o===a||o===c||r&&a===c||u>g&&f<m}function Un(e,t,n){return Math.max(t,Math.min(n,e))}function _T(e){return Un(e,-32768,32767)}function Zs(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Sx(e,t,n){n=n||(c=>e[c]<t);let r=e.length-1,o=0,a;for(;r-o>1;)a=o+r>>1,n(a)?o=a:r=a;return{lo:o,hi:r}}const Po=(e,t,n,r)=>Sx(e,n,r?o=>{const a=e[o][t];return a<n||a===n&&e[o+1][t]===n}:o=>e[o][t]<n),kT=(e,t,n)=>Sx(e,n,r=>e[r][t]>=n);function ST(e,t,n){let r=0,o=e.length;for(;r<o&&e[r]<t;)r++;for(;o>r&&e[o-1]>n;)o--;return r>0||o<e.length?e.slice(r,o):e}const Ny=["push","pop","shift","splice","unshift"];function FT(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Ny.forEach(n=>{const r="_onData"+kx(n),o=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...a){const c=o.apply(this,a);return e._chartjs.listeners.forEach(u=>{typeof u[r]=="function"&&u[r](...a)}),c}})})}function Ig(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,o=r.indexOf(t);o!==-1&&r.splice(o,1),!(r.length>0)&&(Ny.forEach(a=>{delete e[a]}),delete e._chartjs)}function Ly(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const $y=(function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame})();function jy(e,t){let n=[],r=!1;return function(...o){n=o,r||(r=!0,$y.call(window,()=>{r=!1,e.apply(t,n)}))}}function TT(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const Fx=e=>e==="start"?"left":e==="end"?"right":"center",Nn=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,IT=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t;function MT(e,t,n){const r=t.length;let o=0,a=r;if(e._sorted){const{iScale:c,vScale:u,_parsed:g}=e,f=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,m=c.axis,{min:y,max:v,minDefined:C,maxDefined:A}=c.getUserBounds();if(C){if(o=Math.min(Po(g,m,y).lo,n?r:Po(t,m,c.getPixelForValue(y)).lo),f){const D=g.slice(0,o+1).reverse().findIndex(_=>!Pt(_[u.axis]));o-=Math.max(0,D)}o=Un(o,0,r-1)}if(A){let D=Math.max(Po(g,c.axis,v,!0).hi+1,n?0:Po(t,m,c.getPixelForValue(v),!0).hi+1);if(f){const _=g.slice(D-1).findIndex(T=>!Pt(T[u.axis]));D+=Math.max(0,_)}a=Un(D,o,r)-o}else a=r-o}return{start:o,count:a}}function PT(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,o={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=o,!0;const a=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,o),a}const _l=e=>e===0||e===1,Mg=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*ln/n)),Pg=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*ln/n)+1,Ca={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*yn)+1,easeOutSine:e=>Math.sin(e*yn),easeInOutSine:e=>-.5*(Math.cos(Lt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>_l(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>_l(e)?e:Mg(e,.075,.3),easeOutElastic:e=>_l(e)?e:Pg(e,.075,.3),easeInOutElastic(e){return _l(e)?e:e<.5?.5*Mg(e*2,.1125,.45):.5+.5*Pg(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Ca.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Ca.easeInBounce(e*2)*.5:Ca.easeOutBounce(e*2-1)*.5+.5};function Tx(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Rg(e){return Tx(e)?e:new Ra(e)}function Gd(e){return Tx(e)?e:new Ra(e).saturate(.5).darken(.1).hexString()}const RT=["x","y","borderWidth","radius","tension"],OT=["color","borderColor","backgroundColor"];function NT(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:OT},numbers:{type:"number",properties:RT}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function LT(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Og=new Map;function $T(e,t){t=t||{};const n=e+JSON.stringify(t);let r=Og.get(n);return r||(r=new Intl.NumberFormat(e,t),Og.set(n,r)),r}function Ix(e,t,n){return $T(t,n).format(e)}const jT={values(e){return mn(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let o,a=e;if(n.length>1){const f=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(f<1e-4||f>1e15)&&(o="scientific"),a=UT(e,n)}const c=Ry(Math.abs(a)),u=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),g={notation:o,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(g,this.options.ticks.format),Ix(e,r,g)}};function UT(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Uy={formatters:jT};function HT(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Uy.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Go=Object.create(null),Ou=Object.create(null);function wa(e,t){if(!t)return e;const n=t.split(".");for(let r=0,o=n.length;r<o;++r){const a=n[r];e=e[a]||(e[a]=Object.create(null))}return e}function Qd(e,t,n){return typeof t=="string"?Oa(wa(e,t),n):Oa(wa(e,""),t)}class zT{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,o)=>Gd(o.backgroundColor),this.hoverBorderColor=(r,o)=>Gd(o.borderColor),this.hoverColor=(r,o)=>Gd(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Qd(this,t,n)}get(t){return wa(this,t)}describe(t,n){return Qd(Ou,t,n)}override(t,n){return Qd(Go,t,n)}route(t,n,r,o){const a=wa(this,t),c=wa(this,r),u="_"+n;Object.defineProperties(a,{[u]:{value:a[n],writable:!0},[n]:{enumerable:!0,get(){const g=this[u],f=c[o];return kt(g)?Object.assign({},f,g):mt(g,f)},set(g){this[u]=g}}})}apply(t){t.forEach(n=>n(this))}}var dn=new zT({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[NT,LT,HT]);function VT(e){return!e||Pt(e.size)||Pt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Ng(e,t,n,r,o){let a=t[o];return a||(a=t[o]=e.measureText(o).width,n.push(o)),a>r&&(r=a),r}function Bo(e,t,n){const r=e.currentDevicePixelRatio,o=n!==0?Math.max(n/2,.5):0;return Math.round((t-o)*r)/r+o}function Lg(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Nu(e,t,n,r){Hy(e,t,n,r,null)}function Hy(e,t,n,r,o){let a,c,u,g,f,m,y,v;const C=t.pointStyle,A=t.rotation,D=t.radius;let _=(A||0)*ET;if(C&&typeof C=="object"&&(a=C.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(_),e.drawImage(C,-C.width/2,-C.height/2,C.width,C.height),e.restore();return}if(!(isNaN(D)||D<=0)){switch(e.beginPath(),C){default:o?e.ellipse(n,r,o/2,D,0,0,ln):e.arc(n,r,D,0,ln),e.closePath();break;case"triangle":m=o?o/2:D,e.moveTo(n+Math.sin(_)*m,r-Math.cos(_)*D),_+=Sg,e.lineTo(n+Math.sin(_)*m,r-Math.cos(_)*D),_+=Sg,e.lineTo(n+Math.sin(_)*m,r-Math.cos(_)*D),e.closePath();break;case"rectRounded":f=D*.516,g=D-f,c=Math.cos(_+Ao)*g,y=Math.cos(_+Ao)*(o?o/2-f:g),u=Math.sin(_+Ao)*g,v=Math.sin(_+Ao)*(o?o/2-f:g),e.arc(n-y,r-u,f,_-Lt,_-yn),e.arc(n+v,r-c,f,_-yn,_),e.arc(n+y,r+u,f,_,_+yn),e.arc(n-v,r+c,f,_+yn,_+Lt),e.closePath();break;case"rect":if(!A){g=Math.SQRT1_2*D,m=o?o/2:g,e.rect(n-m,r-g,2*m,2*g);break}_+=Ao;case"rectRot":y=Math.cos(_)*(o?o/2:D),c=Math.cos(_)*D,u=Math.sin(_)*D,v=Math.sin(_)*(o?o/2:D),e.moveTo(n-y,r-u),e.lineTo(n+v,r-c),e.lineTo(n+y,r+u),e.lineTo(n-v,r+c),e.closePath();break;case"crossRot":_+=Ao;case"cross":y=Math.cos(_)*(o?o/2:D),c=Math.cos(_)*D,u=Math.sin(_)*D,v=Math.sin(_)*(o?o/2:D),e.moveTo(n-y,r-u),e.lineTo(n+y,r+u),e.moveTo(n+v,r-c),e.lineTo(n-v,r+c);break;case"star":y=Math.cos(_)*(o?o/2:D),c=Math.cos(_)*D,u=Math.sin(_)*D,v=Math.sin(_)*(o?o/2:D),e.moveTo(n-y,r-u),e.lineTo(n+y,r+u),e.moveTo(n+v,r-c),e.lineTo(n-v,r+c),_+=Ao,y=Math.cos(_)*(o?o/2:D),c=Math.cos(_)*D,u=Math.sin(_)*D,v=Math.sin(_)*(o?o/2:D),e.moveTo(n-y,r-u),e.lineTo(n+y,r+u),e.moveTo(n+v,r-c),e.lineTo(n-v,r+c);break;case"line":c=o?o/2:Math.cos(_)*D,u=Math.sin(_)*D,e.moveTo(n-c,r-u),e.lineTo(n+c,r+u);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(_)*(o?o/2:D),r+Math.sin(_)*D);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function ja(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Mx(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Px(e){e.restore()}function qT(e,t,n,r,o){if(!t)return e.lineTo(n.x,n.y);if(o==="middle"){const a=(t.x+n.x)/2;e.lineTo(a,t.y),e.lineTo(a,n.y)}else o==="after"!=!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function WT(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function GT(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Pt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function QT(e,t,n,r,o){if(o.strikethrough||o.underline){const a=e.measureText(r),c=t-a.actualBoundingBoxLeft,u=t+a.actualBoundingBoxRight,g=n-a.actualBoundingBoxAscent,f=n+a.actualBoundingBoxDescent,m=o.strikethrough?(g+f)/2:f;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=o.decorationWidth||2,e.moveTo(c,m),e.lineTo(u,m),e.stroke()}}function KT(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Ua(e,t,n,r,o,a={}){const c=mn(t)?t:[t],u=a.strokeWidth>0&&a.strokeColor!=="";let g,f;for(e.save(),e.font=o.string,GT(e,a),g=0;g<c.length;++g)f=c[g],a.backdrop&&KT(e,a.backdrop),u&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),Pt(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(f,n,r,a.maxWidth)),e.fillText(f,n,r,a.maxWidth),QT(e,n,r,f,a),r+=Number(o.lineHeight);e.restore()}function E0(e,t){const{x:n,y:r,w:o,h:a,radius:c}=t;e.arc(n+c.topLeft,r+c.topLeft,c.topLeft,1.5*Lt,Lt,!0),e.lineTo(n,r+a-c.bottomLeft),e.arc(n+c.bottomLeft,r+a-c.bottomLeft,c.bottomLeft,Lt,yn,!0),e.lineTo(n+o-c.bottomRight,r+a),e.arc(n+o-c.bottomRight,r+a-c.bottomRight,c.bottomRight,yn,0,!0),e.lineTo(n+o,r+c.topRight),e.arc(n+o-c.topRight,r+c.topRight,c.topRight,0,-yn,!0),e.lineTo(n+c.topLeft,r)}const YT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,XT=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function ZT(e,t){const n=(""+e).match(YT);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const JT=e=>+e||0;function Rx(e,t){const n={},r=kt(t),o=r?Object.keys(t):t,a=kt(e)?r?c=>mt(e[c],e[t[c]]):c=>e[c]:()=>e;for(const c of o)n[c]=JT(a(c));return n}function zy(e){return Rx(e,{top:"y",right:"x",bottom:"y",left:"x"})}function wi(e){return Rx(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Or(e){const t=zy(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Hn(e,t){e=e||{},t=t||dn.font;let n=mt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=mt(e.style,t.style);r&&!(""+r).match(XT)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const o={family:mt(e.family,t.family),lineHeight:ZT(mt(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:mt(e.weight,t.weight),string:""};return o.string=VT(o),o}function kl(e,t,n,r){let o,a,c;for(o=0,a=e.length;o<a;++o)if(c=e[o],c!==void 0&&c!==void 0)return c}function eI(e,t,n){const{min:r,max:o}=e,a=My(t,(o-r)/2),c=(u,g)=>n&&u===0?0:u+g;return{min:c(r,-Math.abs(a)),max:c(o,a)}}function Zo(e,t){return Object.assign(Object.create(e),t)}function Ox(e,t=[""],n,r,o=()=>e[0]){const a=n||e;typeof r>"u"&&(r=Gy("_fallback",e));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:r,_getTarget:o,override:u=>Ox([u,...e],t,a,r)};return new Proxy(c,{deleteProperty(u,g){return delete u[g],delete u._keys,delete e[0][g],!0},get(u,g){return qy(u,g,()=>lI(g,t,e,u))},getOwnPropertyDescriptor(u,g){return Reflect.getOwnPropertyDescriptor(u._scopes[0],g)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(u,g){return jg(u).includes(g)},ownKeys(u){return jg(u)},set(u,g,f){const m=u._storage||(u._storage=o());return u[g]=m[g]=f,delete u._keys,!0}})}function Ii(e,t,n,r){const o={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Vy(e,r),setContext:a=>Ii(e,a,n,r),override:a=>Ii(e.override(a),t,n,r)};return new Proxy(o,{deleteProperty(a,c){return delete a[c],delete e[c],!0},get(a,c,u){return qy(a,c,()=>nI(a,c,u))},getOwnPropertyDescriptor(a,c){return a._descriptors.allKeys?Reflect.has(e,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,c)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(a,c){return Reflect.has(e,c)},ownKeys(){return Reflect.ownKeys(e)},set(a,c,u){return e[c]=u,delete a[c],!0}})}function Vy(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:o=t.allKeys}=e;return{allKeys:o,scriptable:n,indexable:r,isScriptable:xo(n)?n:()=>n,isIndexable:xo(r)?r:()=>r}}const tI=(e,t)=>e?e+kx(t):t,Nx=(e,t)=>kt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function qy(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function nI(e,t,n){const{_proxy:r,_context:o,_subProxy:a,_descriptors:c}=e;let u=r[t];return xo(u)&&c.isScriptable(t)&&(u=rI(t,u,e,n)),mn(u)&&u.length&&(u=sI(t,u,e,c.isIndexable)),Nx(t,u)&&(u=Ii(u,o,a&&a[t],c)),u}function rI(e,t,n,r){const{_proxy:o,_context:a,_subProxy:c,_stack:u}=n;if(u.has(e))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+e);u.add(e);let g=t(a,c||r);return u.delete(e),Nx(e,g)&&(g=Lx(o._scopes,o,e,g)),g}function sI(e,t,n,r){const{_proxy:o,_context:a,_subProxy:c,_descriptors:u}=n;if(typeof a.index<"u"&&r(e))return t[a.index%t.length];if(kt(t[0])){const g=t,f=o._scopes.filter(m=>m!==g);t=[];for(const m of g){const y=Lx(f,o,e,m);t.push(Ii(y,a,c&&c[e],u))}}return t}function Wy(e,t,n){return xo(e)?e(t,n):e}const oI=(e,t)=>e===!0?t:typeof e=="string"?Wo(t,e):void 0;function iI(e,t,n,r,o){for(const a of t){const c=oI(n,a);if(c){e.add(c);const u=Wy(c._fallback,n,o);if(typeof u<"u"&&u!==n&&u!==r)return u}else if(c===!1&&typeof r<"u"&&n!==r)return null}return!1}function Lx(e,t,n,r){const o=t._rootScopes,a=Wy(t._fallback,n,r),c=[...e,...o],u=new Set;u.add(r);let g=$g(u,c,n,a||n,r);return g===null||typeof a<"u"&&a!==n&&(g=$g(u,c,a,g,r),g===null)?!1:Ox(Array.from(u),[""],o,a,()=>aI(t,n,r))}function $g(e,t,n,r,o){for(;n;)n=iI(e,t,n,r,o);return n}function aI(e,t,n){const r=e._getTarget();t in r||(r[t]={});const o=r[t];return mn(o)&&kt(n)?n:o||{}}function lI(e,t,n,r){let o;for(const a of t)if(o=Gy(tI(a,e),n),typeof o<"u")return Nx(e,o)?Lx(n,r,e,o):o}function Gy(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function jg(e){let t=e._keys;return t||(t=e._keys=cI(e._scopes)),t}function cI(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(o=>!o.startsWith("_")))t.add(r);return Array.from(t)}const dI=Number.EPSILON||1e-14,Mi=(e,t)=>t<e.length&&!e[t].skip&&e[t],Qy=e=>e==="x"?"y":"x";function uI(e,t,n,r){const o=e.skip?t:e,a=t,c=n.skip?t:n,u=Ru(a,o),g=Ru(c,a);let f=u/(u+g),m=g/(u+g);f=isNaN(f)?0:f,m=isNaN(m)?0:m;const y=r*f,v=r*m;return{previous:{x:a.x-y*(c.x-o.x),y:a.y-y*(c.y-o.y)},next:{x:a.x+v*(c.x-o.x),y:a.y+v*(c.y-o.y)}}}function xI(e,t,n){const r=e.length;let o,a,c,u,g,f=Mi(e,0);for(let m=0;m<r-1;++m)if(g=f,f=Mi(e,m+1),!(!g||!f)){if(va(t[m],0,dI)){n[m]=n[m+1]=0;continue}o=n[m]/t[m],a=n[m+1]/t[m],u=Math.pow(o,2)+Math.pow(a,2),!(u<=9)&&(c=3/Math.sqrt(u),n[m]=o*c*t[m],n[m+1]=a*c*t[m])}}function fI(e,t,n="x"){const r=Qy(n),o=e.length;let a,c,u,g=Mi(e,0);for(let f=0;f<o;++f){if(c=u,u=g,g=Mi(e,f+1),!u)continue;const m=u[n],y=u[r];c&&(a=(m-c[n])/3,u[`cp1${n}`]=m-a,u[`cp1${r}`]=y-a*t[f]),g&&(a=(g[n]-m)/3,u[`cp2${n}`]=m+a,u[`cp2${r}`]=y+a*t[f])}}function hI(e,t="x"){const n=Qy(t),r=e.length,o=Array(r).fill(0),a=Array(r);let c,u,g,f=Mi(e,0);for(c=0;c<r;++c)if(u=g,g=f,f=Mi(e,c+1),!!g){if(f){const m=f[t]-g[t];o[c]=m!==0?(f[n]-g[n])/m:0}a[c]=u?f?xs(o[c-1])!==xs(o[c])?0:(o[c-1]+o[c])/2:o[c-1]:o[c]}xI(e,o,a),fI(e,a,t)}function Sl(e,t,n){return Math.max(Math.min(e,n),t)}function gI(e,t){let n,r,o,a,c,u=ja(e[0],t);for(n=0,r=e.length;n<r;++n)c=a,a=u,u=n<r-1&&ja(e[n+1],t),a&&(o=e[n],c&&(o.cp1x=Sl(o.cp1x,t.left,t.right),o.cp1y=Sl(o.cp1y,t.top,t.bottom)),u&&(o.cp2x=Sl(o.cp2x,t.left,t.right),o.cp2y=Sl(o.cp2y,t.top,t.bottom)))}function pI(e,t,n,r,o){let a,c,u,g;if(t.spanGaps&&(e=e.filter(f=>!f.skip)),t.cubicInterpolationMode==="monotone")hI(e,o);else{let f=r?e[e.length-1]:e[0];for(a=0,c=e.length;a<c;++a)u=e[a],g=uI(f,u,e[Math.min(a+1,c-(r?0:1))%c],t.tension),u.cp1x=g.previous.x,u.cp1y=g.previous.y,u.cp2x=g.next.x,u.cp2y=g.next.y,f=u}t.capBezierPoints&&gI(e,n)}function $x(){return typeof window<"u"&&typeof document<"u"}function jx(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function v0(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const z0=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function mI(e,t){return z0(e).getPropertyValue(t)}const yI=["top","right","bottom","left"];function jo(e,t,n){const r={};n=n?"-"+n:"";for(let o=0;o<4;o++){const a=yI[o];r[a]=parseFloat(e[t+"-"+a+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const bI=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function EI(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:o,offsetY:a}=r;let c=!1,u,g;if(bI(o,a,e.target))u=o,g=a;else{const f=t.getBoundingClientRect();u=r.clientX-f.left,g=r.clientY-f.top,c=!0}return{x:u,y:g,box:c}}function ko(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,o=z0(n),a=o.boxSizing==="border-box",c=jo(o,"padding"),u=jo(o,"border","width"),{x:g,y:f,box:m}=EI(e,n),y=c.left+(m&&u.left),v=c.top+(m&&u.top);let{width:C,height:A}=t;return a&&(C-=c.width+u.width,A-=c.height+u.height),{x:Math.round((g-y)/C*n.width/r),y:Math.round((f-v)/A*n.height/r)}}function vI(e,t,n){let r,o;if(t===void 0||n===void 0){const a=e&&jx(e);if(!a)t=e.clientWidth,n=e.clientHeight;else{const c=a.getBoundingClientRect(),u=z0(a),g=jo(u,"border","width"),f=jo(u,"padding");t=c.width-f.width-g.width,n=c.height-f.height-g.height,r=v0(u.maxWidth,a,"clientWidth"),o=v0(u.maxHeight,a,"clientHeight")}}return{width:t,height:n,maxWidth:r||b0,maxHeight:o||b0}}const Js=e=>Math.round(e*10)/10;function CI(e,t,n,r){const o=z0(e),a=jo(o,"margin"),c=v0(o.maxWidth,e,"clientWidth")||b0,u=v0(o.maxHeight,e,"clientHeight")||b0,g=vI(e,t,n);let{width:f,height:m}=g;if(o.boxSizing==="content-box"){const v=jo(o,"border","width"),C=jo(o,"padding");f-=C.width+v.width,m-=C.height+v.height}return f=Math.max(0,f-a.width),m=Math.max(0,r?f/r:m-a.height),f=Js(Math.min(f,c,g.maxWidth)),m=Js(Math.min(m,u,g.maxHeight)),f&&!m&&(m=Js(f/2)),(t!==void 0||n!==void 0)&&r&&g.height&&m>g.height&&(m=g.height,f=Js(Math.floor(m*r))),{width:f,height:m}}function Ug(e,t,n){const r=t||1,o=Js(e.height*r),a=Js(e.width*r);e.height=Js(e.height),e.width=Js(e.width);const c=e.canvas;return c.style&&(n||!c.style.height&&!c.style.width)&&(c.style.height=`${e.height}px`,c.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||c.height!==o||c.width!==a?(e.currentDevicePixelRatio=r,c.height=o,c.width=a,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const wI=(function(){let e=!1;try{const t={get passive(){return e=!0,!1}};$x()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e})();function Hg(e,t){const n=mI(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function So(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function AI(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:r==="middle"?n<.5?e.y:t.y:r==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function BI(e,t,n,r){const o={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},c=So(e,o,n),u=So(o,a,n),g=So(a,t,n),f=So(c,u,n),m=So(u,g,n);return So(f,m,n)}const DI=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},_I=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Ai(e,t,n){return e?DI(t,n):_I()}function Ky(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function Yy(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Xy(e){return e==="angle"?{between:$a,compare:DT,normalize:zr}:{between:Zs,compare:(t,n)=>t-n,normalize:t=>t}}function zg({start:e,end:t,count:n,loop:r,style:o}){return{start:e%n,end:t%n,loop:r&&(t-e+1)%n===0,style:o}}function kI(e,t,n){const{property:r,start:o,end:a}=n,{between:c,normalize:u}=Xy(r),g=t.length;let{start:f,end:m,loop:y}=e,v,C;if(y){for(f+=g,m+=g,v=0,C=g;v<C&&c(u(t[f%g][r]),o,a);++v)f--,m--;f%=g,m%=g}return m<f&&(m+=g),{start:f,end:m,loop:y,style:e.style}}function SI(e,t,n){if(!n)return[e];const{property:r,start:o,end:a}=n,c=t.length,{compare:u,between:g,normalize:f}=Xy(r),{start:m,end:y,loop:v,style:C}=kI(e,t,n),A=[];let D=!1,_=null,T,j,F;const k=()=>g(o,F,T)&&u(o,F)!==0,P=()=>u(a,T)===0||g(a,F,T),$=()=>D||k(),O=()=>!D||P();for(let q=m,S=m;q<=y;++q)j=t[q%c],!j.skip&&(T=f(j[r]),T!==F&&(D=g(T,o,a),_===null&&$()&&(_=u(T,o)===0?q:S),_!==null&&O()&&(A.push(zg({start:_,end:q,loop:v,count:c,style:C})),_=null),S=q,F=T));return _!==null&&A.push(zg({start:_,end:y,loop:v,count:c,style:C})),A}function FI(e,t){const n=[],r=e.segments;for(let o=0;o<r.length;o++){const a=SI(r[o],e.points,t);a.length&&n.push(...a)}return n}function TI(e,t,n,r){let o=0,a=t-1;if(n&&!r)for(;o<t&&!e[o].skip;)o++;for(;o<t&&e[o].skip;)o++;for(o%=t,n&&(a+=o);a>o&&e[a%t].skip;)a--;return a%=t,{start:o,end:a}}function II(e,t,n,r){const o=e.length,a=[];let c=t,u=e[t],g;for(g=t+1;g<=n;++g){const f=e[g%o];f.skip||f.stop?u.skip||(r=!1,a.push({start:t%o,end:(g-1)%o,loop:r}),t=c=f.stop?g:null):(c=g,u.skip&&(t=g)),u=f}return c!==null&&a.push({start:t%o,end:c%o,loop:r}),a}function MI(e,t){const n=e.points,r=e.options.spanGaps,o=n.length;if(!o)return[];const a=!!e._loop,{start:c,end:u}=TI(n,o,a,r);if(r===!0)return Vg(e,[{start:c,end:u,loop:a}],n,t);const g=u<c?u+o:u,f=!!e._fullLoop&&c===0&&u===o-1;return Vg(e,II(n,c,g,f),n,t)}function Vg(e,t,n,r){return!r||!r.setContext||!n?t:PI(e,t,n,r)}function PI(e,t,n,r){const o=e._chart.getContext(),a=qg(e.options),{_datasetIndex:c,options:{spanGaps:u}}=e,g=n.length,f=[];let m=a,y=t[0].start,v=y;function C(A,D,_,T){const j=u?-1:1;if(A!==D){for(A+=g;n[A%g].skip;)A-=j;for(;n[D%g].skip;)D+=j;A%g!==D%g&&(f.push({start:A%g,end:D%g,loop:_,style:T}),m=T,y=D%g)}}for(const A of t){y=u?y:A.start;let D=n[y%g],_;for(v=y+1;v<=A.end;v++){const T=n[v%g];_=qg(r.setContext(Zo(o,{type:"segment",p0:D,p1:T,p0DataIndex:(v-1)%g,p1DataIndex:v%g,datasetIndex:c}))),RI(_,m)&&C(y,v-1,A.loop,m),D=T,m=_}y<v-1&&C(y,v-1,A.loop,m)}return f}function qg(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function RI(e,t){if(!t)return!1;const n=[],r=function(o,a){return Tx(a)?(n.includes(a)||n.push(a),n.indexOf(a)):a};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function Fl(e,t,n){return e.options.clip?e[n]:t[n]}function OI(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:Fl(n,t,"left"),right:Fl(n,t,"right"),top:Fl(r,t,"top"),bottom:Fl(r,t,"bottom")}:t}function NI(e,t){const n=t._clip;if(n.disabled)return!1;const r=OI(t,e.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class LI{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,o){const a=n.listeners[o],c=n.duration;a.forEach(u=>u({chart:t,initial:n.initial,numSteps:c,currentStep:Math.min(r-n.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=$y.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,o)=>{if(!r.running||!r.items.length)return;const a=r.items;let c=a.length-1,u=!1,g;for(;c>=0;--c)g=a[c],g._active?(g._total>r.duration&&(r.duration=g._total),g.tick(t),u=!0):(a[c]=a[a.length-1],a.pop());u&&(o.draw(),this._notify(o,r,t,"progress")),a.length||(r.running=!1,this._notify(o,r,t,"complete"),r.initial=!1),n+=a.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,o)=>Math.max(r,o._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let o=r.length-1;for(;o>=0;--o)r[o].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var bs=new LI;const Wg="transparent",$I={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=Rg(e||Wg),o=r.valid&&Rg(t||Wg);return o&&o.valid?o.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class jI{constructor(t,n,r,o){const a=n[r];o=kl([t.to,o,a,t.from]);const c=kl([t.from,a,o]);this._active=!0,this._fn=t.fn||$I[t.type||typeof c],this._easing=Ca[t.easing]||Ca.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=c,this._to=o,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const o=this._target[this._prop],a=r-this._start,c=this._duration-a;this._start=r,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=kl([t.to,n,o,t.from]),this._from=kl([t.from,o,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,o=this._prop,a=this._from,c=this._loop,u=this._to;let g;if(this._active=a!==u&&(c||n<r),!this._active){this._target[o]=u,this._notify(!0);return}if(n<0){this._target[o]=a;return}g=n/r%2,g=c&&g>1?2-g:g,g=this._easing(Math.min(1,Math.max(0,g))),this._target[o]=this._fn(a,u,g)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let o=0;o<r.length;o++)r[o][n]()}}class Zy{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!kt(t))return;const n=Object.keys(dn.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(o=>{const a=t[o];if(!kt(a))return;const c={};for(const u of n)c[u]=a[u];(mn(a.properties)&&a.properties||[o]).forEach(u=>{(u===o||!r.has(u))&&r.set(u,c)})})}_animateOptions(t,n){const r=n.options,o=HI(t,r);if(!o)return[];const a=this._createAnimations(o,r);return r.$shared&&UI(t.options.$animations,r).then(()=>{t.options=r},()=>{}),a}_createAnimations(t,n){const r=this._properties,o=[],a=t.$animations||(t.$animations={}),c=Object.keys(n),u=Date.now();let g;for(g=c.length-1;g>=0;--g){const f=c[g];if(f.charAt(0)==="$")continue;if(f==="options"){o.push(...this._animateOptions(t,n));continue}const m=n[f];let y=a[f];const v=r.get(f);if(y)if(v&&y.active()){y.update(v,m,u);continue}else y.cancel();if(!v||!v.duration){t[f]=m;continue}a[f]=y=new jI(v,t,f,m),o.push(y)}return o}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return bs.add(this._chart,r),!0}}function UI(e,t){const n=[],r=Object.keys(t);for(let o=0;o<r.length;o++){const a=e[r[o]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}function HI(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Gg(e,t){const n=e&&e.options||{},r=n.reverse,o=n.min===void 0?t:0,a=n.max===void 0?t:0;return{start:r?a:o,end:r?o:a}}function zI(e,t,n){if(n===!1)return!1;const r=Gg(e,n),o=Gg(t,n);return{top:o.end,right:r.end,bottom:o.start,left:r.start}}function VI(e){let t,n,r,o;return kt(e)?(t=e.top,n=e.right,r=e.bottom,o=e.left):t=n=r=o=e,{top:t,right:n,bottom:r,left:o,disabled:e===!1}}function Jy(e,t){const n=[],r=e._getSortedDatasetMetas(t);let o,a;for(o=0,a=r.length;o<a;++o)n.push(r[o].index);return n}function Qg(e,t,n,r={}){const o=e.keys,a=r.mode==="single";let c,u,g,f;if(t===null)return;let m=!1;for(c=0,u=o.length;c<u;++c){if(g=+o[c],g===n){if(m=!0,r.all)continue;break}f=e.values[g],Rr(f)&&(a||t===0||xs(t)===xs(f))&&(t+=f)}return!m&&!r.all?0:t}function qI(e,t){const{iScale:n,vScale:r}=t,o=n.axis==="x"?"x":"y",a=r.axis==="x"?"x":"y",c=Object.keys(e),u=new Array(c.length);let g,f,m;for(g=0,f=c.length;g<f;++g)m=c[g],u[g]={[o]:m,[a]:e[m]};return u}function Kd(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function WI(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function GI(e){const{min:t,max:n,minDefined:r,maxDefined:o}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:o?n:Number.POSITIVE_INFINITY}}function QI(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function Kg(e,t,n,r){for(const o of t.getMatchingVisibleMetas(r).reverse()){const a=e[o.index];if(n&&a>0||!n&&a<0)return o.index}return null}function Yg(e,t){const{chart:n,_cachedMeta:r}=e,o=n._stacks||(n._stacks={}),{iScale:a,vScale:c,index:u}=r,g=a.axis,f=c.axis,m=WI(a,c,r),y=t.length;let v;for(let C=0;C<y;++C){const A=t[C],{[g]:D,[f]:_}=A,T=A._stacks||(A._stacks={});v=T[f]=QI(o,m,D),v[u]=_,v._top=Kg(v,c,!0,r.type),v._bottom=Kg(v,c,!1,r.type);const j=v._visualValues||(v._visualValues={});j[u]=_}}function Yd(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function KI(e,t){return Zo(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function YI(e,t,n){return Zo(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function na(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const o of t){const a=o._stacks;if(!a||a[r]===void 0||a[r][n]===void 0)return;delete a[r][n],a[r]._visualValues!==void 0&&a[r]._visualValues[n]!==void 0&&delete a[r]._visualValues[n]}}}const Xd=e=>e==="reset"||e==="none",Xg=(e,t)=>t?e:Object.assign({},e),XI=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:Jy(n,!0),values:null};class V0{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Kd(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&na(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),o=(y,v,C,A)=>y==="x"?v:y==="r"?A:C,a=n.xAxisID=mt(r.xAxisID,Yd(t,"x")),c=n.yAxisID=mt(r.yAxisID,Yd(t,"y")),u=n.rAxisID=mt(r.rAxisID,Yd(t,"r")),g=n.indexAxis,f=n.iAxisID=o(g,a,c,u),m=n.vAxisID=o(g,c,a,u);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(c),n.rScale=this.getScaleForId(u),n.iScale=this.getScaleForId(f),n.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Ig(this._data,this),t._stacked&&na(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(kt(n)){const o=this._cachedMeta;this._data=qI(n,o)}else if(r!==n){if(r){Ig(r,this);const o=this._cachedMeta;na(o),o._parsed=[]}n&&Object.isExtensible(n)&&FT(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let o=!1;this._dataCheck();const a=n._stacked;n._stacked=Kd(n.vScale,n),n.stack!==r.stack&&(o=!0,na(n),n.stack=r.stack),this._resyncElements(t),(o||a!==n._stacked)&&(Yg(this,n._parsed),n._stacked=Kd(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:o}=this,{iScale:a,_stacked:c}=r,u=a.axis;let g=t===0&&n===o.length?!0:r._sorted,f=t>0&&r._parsed[t-1],m,y,v;if(this._parsing===!1)r._parsed=o,r._sorted=!0,v=o;else{mn(o[t])?v=this.parseArrayData(r,o,t,n):kt(o[t])?v=this.parseObjectData(r,o,t,n):v=this.parsePrimitiveData(r,o,t,n);const C=()=>y[u]===null||f&&y[u]<f[u];for(m=0;m<n;++m)r._parsed[m+t]=y=v[m],g&&(C()&&(g=!1),f=y);r._sorted=g}c&&Yg(this,v)}parsePrimitiveData(t,n,r,o){const{iScale:a,vScale:c}=t,u=a.axis,g=c.axis,f=a.getLabels(),m=a===c,y=new Array(o);let v,C,A;for(v=0,C=o;v<C;++v)A=v+r,y[v]={[u]:m||a.parse(f[A],A),[g]:c.parse(n[A],A)};return y}parseArrayData(t,n,r,o){const{xScale:a,yScale:c}=t,u=new Array(o);let g,f,m,y;for(g=0,f=o;g<f;++g)m=g+r,y=n[m],u[g]={x:a.parse(y[0],m),y:c.parse(y[1],m)};return u}parseObjectData(t,n,r,o){const{xScale:a,yScale:c}=t,{xAxisKey:u="x",yAxisKey:g="y"}=this._parsing,f=new Array(o);let m,y,v,C;for(m=0,y=o;m<y;++m)v=m+r,C=n[v],f[m]={x:a.parse(Wo(C,u),v),y:c.parse(Wo(C,g),v)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const o=this.chart,a=this._cachedMeta,c=n[t.axis],u={keys:Jy(o,!0),values:n._stacks[t.axis]._visualValues};return Qg(u,c,a.index,{mode:r})}updateRangeFromParsed(t,n,r,o){const a=r[n.axis];let c=a===null?NaN:a;const u=o&&r._stacks[n.axis];o&&u&&(o.values=u,c=Qg(o,a,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,n){const r=this._cachedMeta,o=r._parsed,a=r._sorted&&t===r.iScale,c=o.length,u=this._getOtherScale(t),g=XI(n,r,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:y}=GI(u);let v,C;function A(){C=o[v];const D=C[u.axis];return!Rr(C[t.axis])||m>D||y<D}for(v=0;v<c&&!(!A()&&(this.updateRangeFromParsed(f,t,C,g),a));++v);if(a){for(v=c-1;v>=0;--v)if(!A()){this.updateRangeFromParsed(f,t,C,g);break}}return f}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let o,a,c;for(o=0,a=n.length;o<a;++o)c=n[o][t.axis],Rr(c)&&r.push(c);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,o=n.vScale,a=this.getParsed(t);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:o?""+o.getLabelForValue(a[o.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=VI(mt(this.options.clip,zI(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,o=r.data||[],a=n.chartArea,c=[],u=this._drawStart||0,g=this._drawCount||o.length-u,f=this.options.drawActiveElementsOnTop;let m;for(r.dataset&&r.dataset.draw(t,a,u,g),m=u;m<u+g;++m){const y=o[m];y.hidden||(y.active&&f?c.push(y):y.draw(t,a))}for(m=0;m<c.length;++m)c[m].draw(t,a)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const o=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];a=c.$context||(c.$context=YI(this.getContext(),t,c)),a.parsed=this.getParsed(t),a.raw=o.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=KI(this.chart.getContext(),this.index)),a.dataset=o,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=r,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const o=n==="active",a=this._cachedDataOpts,c=t+"-"+n,u=a[c],g=this.enableOptionSharing&&Na(r);if(u)return Xg(u,g);const f=this.chart.config,m=f.datasetElementScopeKeys(this._type,t),y=o?[`${t}Hover`,"hover",t,""]:[t,""],v=f.getOptionScopes(this.getDataset(),m),C=Object.keys(dn.elements[t]),A=()=>this.getContext(r,o,n),D=f.resolveNamedOptions(v,C,A,y);return D.$shared&&(D.$shared=g,a[c]=Object.freeze(Xg(D,g))),D}_resolveAnimations(t,n,r){const o=this.chart,a=this._cachedDataOpts,c=`animation-${n}`,u=a[c];if(u)return u;let g;if(o.options.animation!==!1){const m=this.chart.config,y=m.datasetAnimationScopeKeys(this._type,n),v=m.getOptionScopes(this.getDataset(),y);g=m.createResolver(v,this.getContext(t,r,n))}const f=new Zy(o,g&&g.animations);return g&&g._cacheable&&(a[c]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Xd(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),o=this._sharedOptions,a=this.getSharedOptions(r),c=this.includeOptions(n,a)||a!==o;return this.updateSharedOptions(a,n,r),{sharedOptions:a,includeOptions:c}}updateElement(t,n,r,o){Xd(o)?Object.assign(t,r):this._resolveAnimations(n,o).update(t,r)}updateSharedOptions(t,n,r){t&&!Xd(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,o){t.active=o;const a=this.getStyle(n,o);this._resolveAnimations(n,r,o).update(t,{options:!o&&this.getSharedOptions(a)||a})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[u,g,f]of this._syncList)this[u](g,f);this._syncList=[];const o=r.length,a=n.length,c=Math.min(a,o);c&&this.parse(0,c),a>o?this._insertElements(o,a-o,t):a<o&&this._removeElements(a,o-a)}_insertElements(t,n,r=!0){const o=this._cachedMeta,a=o.data,c=t+n;let u;const g=f=>{for(f.length+=n,u=f.length-1;u>=c;u--)f[u]=f[u-n]};for(g(a),u=t;u<c;++u)a[u]=new this.dataElementType;this._parsing&&g(o._parsed),this.parse(t,n),r&&this.updateElements(a,t,n,"reset")}updateElements(t,n,r,o){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const o=r._parsed.splice(t,n);r._stacked&&na(r,o)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,o]=t;this[n](r,o)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function ZI(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let o=0,a=n.length;o<a;o++)r=r.concat(n[o].controller.getAllParsedValues(e));e._cache.$bar=Ly(r.sort((o,a)=>o-a))}return e._cache.$bar}function JI(e){const t=e.iScale,n=ZI(t,e.type);let r=t._length,o,a,c,u;const g=()=>{c===32767||c===-32768||(Na(u)&&(r=Math.min(r,Math.abs(c-u)||r)),u=c)};for(o=0,a=n.length;o<a;++o)c=t.getPixelForValue(n[o]),g();for(u=void 0,o=0,a=t.ticks.length;o<a;++o)c=t.getPixelForTick(o),g();return r}function eM(e,t,n,r){const o=n.barThickness;let a,c;return Pt(o)?(a=t.min*n.categoryPercentage,c=n.barPercentage):(a=o*r,c=1),{chunk:a/r,ratio:c,start:t.pixels[e]-a/2}}function tM(e,t,n,r){const o=t.pixels,a=o[e];let c=e>0?o[e-1]:null,u=e<o.length-1?o[e+1]:null;const g=n.categoryPercentage;c===null&&(c=a-(u===null?t.end-t.start:u-a)),u===null&&(u=a+a-c);const f=a-(a-Math.min(c,u))/2*g;return{chunk:Math.abs(u-c)/2*g/r,ratio:n.barPercentage,start:f}}function nM(e,t,n,r){const o=n.parse(e[0],r),a=n.parse(e[1],r),c=Math.min(o,a),u=Math.max(o,a);let g=c,f=u;Math.abs(c)>Math.abs(u)&&(g=u,f=c),t[n.axis]=f,t._custom={barStart:g,barEnd:f,start:o,end:a,min:c,max:u}}function e8(e,t,n,r){return mn(e)?nM(e,t,n,r):t[n.axis]=n.parse(e,r),t}function Zg(e,t,n,r){const o=e.iScale,a=e.vScale,c=o.getLabels(),u=o===a,g=[];let f,m,y,v;for(f=n,m=n+r;f<m;++f)v=t[f],y={},y[o.axis]=u||o.parse(c[f],f),g.push(e8(v,y,a,f));return g}function Zd(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function rM(e,t,n){return e!==0?xs(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function sM(e){let t,n,r,o,a;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(o="end",a="start"):(o="start",a="end"),{start:n,end:r,reverse:t,top:o,bottom:a}}function oM(e,t,n,r){let o=t.borderSkipped;const a={};if(!o){e.borderSkipped=a;return}if(o===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:u,reverse:g,top:f,bottom:m}=sM(e);o==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?o=f:(n._bottom||0)===r?o=m:(a[Jg(m,c,u,g)]=!0,o=f)),a[Jg(o,c,u,g)]=!0,e.borderSkipped=a}function Jg(e,t,n,r){return r?(e=iM(e,t,n),e=ep(e,n,t)):e=ep(e,t,n),e}function iM(e,t,n){return e===t?n:e===n?t:e}function ep(e,t,n){return e==="start"?t:e==="end"?n:e}function aM(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class lM extends V0{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,n,r,o){return Zg(t,n,r,o)}parseArrayData(t,n,r,o){return Zg(t,n,r,o)}parseObjectData(t,n,r,o){const{iScale:a,vScale:c}=t,{xAxisKey:u="x",yAxisKey:g="y"}=this._parsing,f=a.axis==="x"?u:g,m=c.axis==="x"?u:g,y=[];let v,C,A,D;for(v=r,C=r+o;v<C;++v)D=n[v],A={},A[a.axis]=a.parse(Wo(D,f),v),y.push(e8(Wo(D,m),A,c,v));return y}updateRangeFromParsed(t,n,r,o){super.updateRangeFromParsed(t,n,r,o);const a=r._custom;a&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:r,vScale:o}=n,a=this.getParsed(t),c=a._custom,u=Zd(c)?"["+c.start+", "+c.end+"]":""+o.getLabelForValue(a[o.axis]);return{label:""+r.getLabelForValue(a[r.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,r,o){const a=o==="reset",{index:c,_cachedMeta:{vScale:u}}=this,g=u.getBasePixel(),f=u.isHorizontal(),m=this._getRuler(),{sharedOptions:y,includeOptions:v}=this._getSharedOptions(n,o);for(let C=n;C<n+r;C++){const A=this.getParsed(C),D=a||Pt(A[u.axis])?{base:g,head:g}:this._calculateBarValuePixels(C),_=this._calculateBarIndexPixels(C,m),T=(A._stacks||{})[u.axis],j={horizontal:f,base:D.base,enableBorderRadius:!T||Zd(A._custom)||c===T._top||c===T._bottom,x:f?D.head:_.center,y:f?_.center:D.head,height:f?_.size:Math.abs(D.size),width:f?Math.abs(D.size):_.size};v&&(j.options=y||this.resolveDataElementOptions(C,t[C].active?"active":o));const F=j.options||t[C].options;oM(j,F,T,c),aM(j,F,m.ratio),this.updateElement(t[C],C,j,o)}}_getStacks(t,n){const{iScale:r}=this._cachedMeta,o=r.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),a=r.options.stacked,c=[],u=this._cachedMeta.controller.getParsed(n),g=u&&u[r.axis],f=m=>{const y=m._parsed.find(C=>C[r.axis]===g),v=y&&y[m.vScale.axis];if(Pt(v)||isNaN(v))return!0};for(const m of o)if(!(n!==void 0&&f(m))&&((a===!1||c.indexOf(m.stack)===-1||a===void 0&&m.stack===void 0)&&c.push(m.stack),m.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(r=>t[r].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)t[mt(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,r){const o=this._getStacks(t,r),a=n!==void 0?o.indexOf(n):-1;return a===-1?o.length-1:a}_getRuler(){const t=this.options,n=this._cachedMeta,r=n.iScale,o=[];let a,c;for(a=0,c=n.data.length;a<c;++a)o.push(r.getPixelForValue(this.getParsed(a)[r.axis],a));const u=t.barThickness;return{min:u||JI(n),pixels:o,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:r,index:o},options:{base:a,minBarLength:c}}=this,u=a||0,g=this.getParsed(t),f=g._custom,m=Zd(f);let y=g[n.axis],v=0,C=r?this.applyStack(n,g,r):y,A,D;C!==y&&(v=C-y,C=y),m&&(y=f.barStart,C=f.barEnd-f.barStart,y!==0&&xs(y)!==xs(f.barEnd)&&(v=0),v+=y);const _=!Pt(a)&&!m?a:v;let T=n.getPixelForValue(_);if(this.chart.getDataVisibility(t)?A=n.getPixelForValue(v+C):A=T,D=A-T,Math.abs(D)<c){D=rM(D,n,u)*c,y===u&&(T-=D/2);const j=n.getPixelForDecimal(0),F=n.getPixelForDecimal(1),k=Math.min(j,F),P=Math.max(j,F);T=Math.max(Math.min(T,P),k),A=T+D,r&&!m&&(g._stacks[n.axis]._visualValues[o]=n.getValueForPixel(A)-n.getValueForPixel(T))}if(T===n.getPixelForValue(u)){const j=xs(D)*n.getLineWidthForValue(u)/2;T+=j,D-=j}return{size:D,base:T,head:A,center:A+D/2}}_calculateBarIndexPixels(t,n){const r=n.scale,o=this.options,a=o.skipNull,c=mt(o.maxBarThickness,1/0);let u,g;const f=this._getAxisCount();if(n.grouped){const m=a?this._getStackCount(t):n.stackCount,y=o.barThickness==="flex"?tM(t,n,o,m*f):eM(t,n,o,m*f),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,C=this._getAxis().indexOf(mt(v,this.getFirstScaleIdForIndexAxis())),A=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0)+C;u=y.start+y.chunk*A+y.chunk/2,g=Math.min(c,y.chunk*y.ratio)}else u=r.getPixelForValue(this.getParsed(t)[r.axis],t),g=Math.min(c,n.min*n.ratio);return{base:u-g/2,head:u+g/2,center:u,size:g}}draw(){const t=this._cachedMeta,n=t.vScale,r=t.data,o=r.length;let a=0;for(;a<o;++a)this.getParsed(a)[n.axis]!==null&&!r[a].hidden&&r[a].draw(this._ctx)}}function cM(e,t,n){let r=1,o=1,a=0,c=0;if(t<ln){const u=e,g=u+t,f=Math.cos(u),m=Math.sin(u),y=Math.cos(g),v=Math.sin(g),C=(F,k,P)=>$a(F,u,g,!0)?1:Math.max(k,k*n,P,P*n),A=(F,k,P)=>$a(F,u,g,!0)?-1:Math.min(k,k*n,P,P*n),D=C(0,f,y),_=C(yn,m,v),T=A(Lt,f,y),j=A(Lt+yn,m,v);r=(D-T)/2,o=(_-j)/2,a=-(D+T)/2,c=-(_+j)/2}return{ratioX:r,ratioY:o,offsetX:a,offsetY:c}}class dM extends V0{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data,{labels:{pointStyle:r,textAlign:o,color:a,useBorderRadius:c,borderRadius:u}}=t.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((g,f)=>{const y=t.getDatasetMeta(0).controller.getStyle(f);return{text:g,fillStyle:y.backgroundColor,fontColor:a,hidden:!t.getDataVisibility(f),lineDash:y.borderDash,lineDashOffset:y.borderDashOffset,lineJoin:y.borderJoinStyle,lineWidth:y.borderWidth,strokeStyle:y.borderColor,textAlign:o,pointStyle:r,borderRadius:c&&(u||y.borderRadius),index:f}}):[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const r=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=r;else{let a=g=>+r[g];if(kt(r[t])){const{key:g="value"}=this._parsing;a=f=>+Wo(r[f],g)}let c,u;for(c=t,u=t+n;c<u;++c)o._parsed[c]=a(c)}}_getRotation(){return ks(this.options.rotation-90)}_getCircumference(){return ks(this.options.circumference)}_getRotationExtents(){let t=ln,n=-ln;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const o=this.chart.getDatasetMeta(r).controller,a=o._getRotation(),c=o._getCircumference();t=Math.min(t,a),n=Math.max(n,a+c)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:r}=n,o=this._cachedMeta,a=o.data,c=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,u=Math.max((Math.min(r.width,r.height)-c)/2,0),g=Math.min(fT(this.options.cutout,u),1),f=this._getRingWeight(this.index),{circumference:m,rotation:y}=this._getRotationExtents(),{ratioX:v,ratioY:C,offsetX:A,offsetY:D}=cM(y,m,g),_=(r.width-c)/v,T=(r.height-c)/C,j=Math.max(Math.min(_,T)/2,0),F=My(this.options.radius,j),k=Math.max(F*g,0),P=(F-k)/this._getVisibleDatasetWeightTotal();this.offsetX=A*F,this.offsetY=D*F,o.total=this.calculateTotal(),this.outerRadius=F-P*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-P*f,0),this.updateElements(a,0,a.length,t)}_circumference(t,n){const r=this.options,o=this._cachedMeta,a=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||o._parsed[t]===null||o.data[t].hidden?0:this.calculateCircumference(o._parsed[t]*a/ln)}updateElements(t,n,r,o){const a=o==="reset",c=this.chart,u=c.chartArea,f=c.options.animation,m=(u.left+u.right)/2,y=(u.top+u.bottom)/2,v=a&&f.animateScale,C=v?0:this.innerRadius,A=v?0:this.outerRadius,{sharedOptions:D,includeOptions:_}=this._getSharedOptions(n,o);let T=this._getRotation(),j;for(j=0;j<n;++j)T+=this._circumference(j,a);for(j=n;j<n+r;++j){const F=this._circumference(j,a),k=t[j],P={x:m+this.offsetX,y:y+this.offsetY,startAngle:T,endAngle:T+F,circumference:F,outerRadius:A,innerRadius:C};_&&(P.options=D||this.resolveDataElementOptions(j,k.active?"active":o)),T+=F,this.updateElement(k,j,P,o)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let r=0,o;for(o=0;o<n.length;o++){const a=t._parsed[o];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(o)&&!n[o].hidden&&(r+=Math.abs(a))}return r}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?ln*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,o=r.data.labels||[],a=Ix(n._parsed[t],r.options.locale);return{label:o[t]||"",value:a}}getMaxBorderWidth(t){let n=0;const r=this.chart;let o,a,c,u,g;if(!t){for(o=0,a=r.data.datasets.length;o<a;++o)if(r.isDatasetVisible(o)){c=r.getDatasetMeta(o),t=c.data,u=c.controller;break}}if(!t)return 0;for(o=0,a=t.length;o<a;++o)g=u.resolveDataElementOptions(o),g.borderAlign!=="inner"&&(n=Math.max(n,g.borderWidth||0,g.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let r=0,o=t.length;r<o;++r){const a=this.resolveDataElementOptions(r);n=Math.max(n,a.offset||0,a.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(t){return Math.max(mt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class uM extends V0{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:r,data:o=[],_dataset:a}=n,c=this.chart._animationsDisabled;let{start:u,count:g}=MT(n,o,c);this._drawStart=u,this._drawCount=g,PT(n)&&(u=0,g=o.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=o;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(r,void 0,{animated:!c,options:f},t),this.updateElements(o,u,g,t)}updateElements(t,n,r,o){const a=o==="reset",{iScale:c,vScale:u,_stacked:g,_dataset:f}=this._cachedMeta,{sharedOptions:m,includeOptions:y}=this._getSharedOptions(n,o),v=c.axis,C=u.axis,{spanGaps:A,segment:D}=this.options,_=La(A)?A:Number.POSITIVE_INFINITY,T=this.chart._animationsDisabled||a||o==="none",j=n+r,F=t.length;let k=n>0&&this.getParsed(n-1);for(let P=0;P<F;++P){const $=t[P],O=T?$:{};if(P<n||P>=j){O.skip=!0;continue}const q=this.getParsed(P),S=Pt(q[C]),U=O[v]=c.getPixelForValue(q[v],P),G=O[C]=a||S?u.getBasePixel():u.getPixelForValue(g?this.applyStack(u,q,g):q[C],P);O.skip=isNaN(U)||isNaN(G)||S,O.stop=P>0&&Math.abs(q[v]-k[v])>_,D&&(O.parsed=q,O.raw=f.data[P]),y&&(O.options=m||this.resolveDataElementOptions(P,$.active?"active":o)),T||this.updateElement($,P,O,o),k=q}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,r=n.options&&n.options.borderWidth||0,o=t.data||[];if(!o.length)return r;const a=o[0].size(this.resolveDataElementOptions(0)),c=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(r,a,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function Do(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ux{static override(t){Object.assign(Ux.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Do()}parse(){return Do()}format(){return Do()}add(){return Do()}diff(){return Do()}startOf(){return Do()}endOf(){return Do()}}var xM={_date:Ux};function fM(e,t,n,r){const{controller:o,data:a,_sorted:c}=e,u=o._cachedMeta.iScale,g=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&c&&a.length){const f=u._reversePixels?kT:Po;if(r){if(o._sharedOptions){const m=a[0],y=typeof m.getRange=="function"&&m.getRange(t);if(y){const v=f(a,t,n-y),C=f(a,t,n+y);return{lo:v.lo,hi:C.hi}}}}else{const m=f(a,t,n);if(g){const{vScale:y}=o._cachedMeta,{_parsed:v}=e,C=v.slice(0,m.lo+1).reverse().findIndex(D=>!Pt(D[y.axis]));m.lo-=Math.max(0,C);const A=v.slice(m.hi).findIndex(D=>!Pt(D[y.axis]));m.hi+=Math.max(0,A)}return m}}return{lo:0,hi:a.length-1}}function q0(e,t,n,r,o){const a=e.getSortedVisibleDatasetMetas(),c=n[t];for(let u=0,g=a.length;u<g;++u){const{index:f,data:m}=a[u],{lo:y,hi:v}=fM(a[u],t,c,o);for(let C=y;C<=v;++C){const A=m[C];A.skip||r(A,f,C)}}}function hM(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,o){const a=t?Math.abs(r.x-o.x):0,c=n?Math.abs(r.y-o.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(c,2))}}function Jd(e,t,n,r,o){const a=[];return!o&&!e.isPointInArea(t)||q0(e,n,t,function(u,g,f){!o&&!ja(u,e.chartArea,0)||u.inRange(t.x,t.y,r)&&a.push({element:u,datasetIndex:g,index:f})},!0),a}function gM(e,t,n,r){let o=[];function a(c,u,g){const{startAngle:f,endAngle:m}=c.getProps(["startAngle","endAngle"],r),{angle:y}=Oy(c,{x:t.x,y:t.y});$a(y,f,m)&&o.push({element:c,datasetIndex:u,index:g})}return q0(e,n,t,a),o}function pM(e,t,n,r,o,a){let c=[];const u=hM(n);let g=Number.POSITIVE_INFINITY;function f(m,y,v){const C=m.inRange(t.x,t.y,o);if(r&&!C)return;const A=m.getCenterPoint(o);if(!(!!a||e.isPointInArea(A))&&!C)return;const _=u(t,A);_<g?(c=[{element:m,datasetIndex:y,index:v}],g=_):_===g&&c.push({element:m,datasetIndex:y,index:v})}return q0(e,n,t,f),c}function eu(e,t,n,r,o,a){return!a&&!e.isPointInArea(t)?[]:n==="r"&&!r?gM(e,t,n,o):pM(e,t,n,r,o,a)}function tp(e,t,n,r,o){const a=[],c=n==="x"?"inXRange":"inYRange";let u=!1;return q0(e,n,t,(g,f,m)=>{g[c]&&g[c](t[n],o)&&(a.push({element:g,datasetIndex:f,index:m}),u=u||g.inRange(t.x,t.y,o))}),r&&!u?[]:a}var mM={modes:{index(e,t,n,r){const o=ko(t,e),a=n.axis||"x",c=n.includeInvisible||!1,u=n.intersect?Jd(e,o,a,r,c):eu(e,o,a,!1,r,c),g=[];return u.length?(e.getSortedVisibleDatasetMetas().forEach(f=>{const m=u[0].index,y=f.data[m];y&&!y.skip&&g.push({element:y,datasetIndex:f.index,index:m})}),g):[]},dataset(e,t,n,r){const o=ko(t,e),a=n.axis||"xy",c=n.includeInvisible||!1;let u=n.intersect?Jd(e,o,a,r,c):eu(e,o,a,!1,r,c);if(u.length>0){const g=u[0].datasetIndex,f=e.getDatasetMeta(g).data;u=[];for(let m=0;m<f.length;++m)u.push({element:f[m],datasetIndex:g,index:m})}return u},point(e,t,n,r){const o=ko(t,e),a=n.axis||"xy",c=n.includeInvisible||!1;return Jd(e,o,a,r,c)},nearest(e,t,n,r){const o=ko(t,e),a=n.axis||"xy",c=n.includeInvisible||!1;return eu(e,o,a,n.intersect,r,c)},x(e,t,n,r){const o=ko(t,e);return tp(e,o,"x",n.intersect,r)},y(e,t,n,r){const o=ko(t,e);return tp(e,o,"y",n.intersect,r)}}};const t8=["left","top","right","bottom"];function ra(e,t){return e.filter(n=>n.pos===t)}function np(e,t){return e.filter(n=>t8.indexOf(n.pos)===-1&&n.box.axis===t)}function sa(e,t){return e.sort((n,r)=>{const o=t?r:n,a=t?n:r;return o.weight===a.weight?o.index-a.index:o.weight-a.weight})}function yM(e){const t=[];let n,r,o,a,c,u;for(n=0,r=(e||[]).length;n<r;++n)o=e[n],{position:a,options:{stack:c,stackWeight:u=1}}=o,t.push({index:n,box:o,pos:a,horizontal:o.isHorizontal(),weight:o.weight,stack:c&&a+c,stackWeight:u});return t}function bM(e){const t={};for(const n of e){const{stack:r,pos:o,stackWeight:a}=n;if(!r||!t8.includes(o))continue;const c=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=a}return t}function EM(e,t){const n=bM(e),{vBoxMaxWidth:r,hBoxMaxHeight:o}=t;let a,c,u;for(a=0,c=e.length;a<c;++a){u=e[a];const{fullSize:g}=u.box,f=n[u.stack],m=f&&u.stackWeight/f.weight;u.horizontal?(u.width=m?m*r:g&&t.availableWidth,u.height=o):(u.width=r,u.height=m?m*o:g&&t.availableHeight)}return n}function vM(e){const t=yM(e),n=sa(t.filter(f=>f.box.fullSize),!0),r=sa(ra(t,"left"),!0),o=sa(ra(t,"right")),a=sa(ra(t,"top"),!0),c=sa(ra(t,"bottom")),u=np(t,"x"),g=np(t,"y");return{fullSize:n,leftAndTop:r.concat(a),rightAndBottom:o.concat(g).concat(c).concat(u),chartArea:ra(t,"chartArea"),vertical:r.concat(o).concat(g),horizontal:a.concat(c).concat(u)}}function rp(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function n8(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function CM(e,t,n,r){const{pos:o,box:a}=n,c=e.maxPadding;if(!kt(o)){n.size&&(e[o]-=n.size);const y=r[n.stack]||{size:0,count:1};y.size=Math.max(y.size,n.horizontal?a.height:a.width),n.size=y.size/y.count,e[o]+=n.size}a.getPadding&&n8(c,a.getPadding());const u=Math.max(0,t.outerWidth-rp(c,e,"left","right")),g=Math.max(0,t.outerHeight-rp(c,e,"top","bottom")),f=u!==e.w,m=g!==e.h;return e.w=u,e.h=g,n.horizontal?{same:f,other:m}:{same:m,other:f}}function wM(e){const t=e.maxPadding;function n(r){const o=Math.max(t[r]-e[r],0);return e[r]+=o,o}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function AM(e,t){const n=t.maxPadding;function r(o){const a={left:0,top:0,right:0,bottom:0};return o.forEach(c=>{a[c]=Math.max(t[c],n[c])}),a}return r(e?["left","right"]:["top","bottom"])}function ua(e,t,n,r){const o=[];let a,c,u,g,f,m;for(a=0,c=e.length,f=0;a<c;++a){u=e[a],g=u.box,g.update(u.width||t.w,u.height||t.h,AM(u.horizontal,t));const{same:y,other:v}=CM(t,n,u,r);f|=y&&o.length,m=m||v,g.fullSize||o.push(u)}return f&&ua(o,t,n,r)||m}function Tl(e,t,n,r,o){e.top=n,e.left=t,e.right=t+r,e.bottom=n+o,e.width=r,e.height=o}function sp(e,t,n,r){const o=n.padding;let{x:a,y:c}=t;for(const u of e){const g=u.box,f=r[u.stack]||{placed:0,weight:1},m=u.stackWeight/f.weight||1;if(u.horizontal){const y=t.w*m,v=f.size||g.height;Na(f.start)&&(c=f.start),g.fullSize?Tl(g,o.left,c,n.outerWidth-o.right-o.left,v):Tl(g,t.left+f.placed,c,y,v),f.start=c,f.placed+=y,c=g.bottom}else{const y=t.h*m,v=f.size||g.width;Na(f.start)&&(a=f.start),g.fullSize?Tl(g,a,o.top,v,n.outerHeight-o.bottom-o.top):Tl(g,a,t.top+f.placed,v,y),f.start=a,f.placed+=y,a=g.right}}t.x=a,t.y=c}var Ir={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const o=Or(e.options.layout.padding),a=Math.max(t-o.width,0),c=Math.max(n-o.height,0),u=vM(e.boxes),g=u.vertical,f=u.horizontal;Nt(e.boxes,D=>{typeof D.beforeLayout=="function"&&D.beforeLayout()});const m=g.reduce((D,_)=>_.box.options&&_.box.options.display===!1?D:D+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:n,padding:o,availableWidth:a,availableHeight:c,vBoxMaxWidth:a/2/m,hBoxMaxHeight:c/2}),v=Object.assign({},o);n8(v,Or(r));const C=Object.assign({maxPadding:v,w:a,h:c,x:o.left,y:o.top},o),A=EM(g.concat(f),y);ua(u.fullSize,C,y,A),ua(g,C,y,A),ua(f,C,y,A)&&ua(g,C,y,A),wM(C),sp(u.leftAndTop,C,y,A),C.x+=C.w,C.y+=C.h,sp(u.rightAndBottom,C,y,A),e.chartArea={left:C.left,top:C.top,right:C.left+C.w,bottom:C.top+C.h,height:C.h,width:C.w},Nt(u.chartArea,D=>{const _=D.box;Object.assign(_,e.chartArea),_.update(C.w,C.h,{left:0,top:0,right:0,bottom:0})})}};class r8{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,o){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,o?Math.floor(n/o):r)}}isAttached(t){return!0}updateConfig(t){}}class BM extends r8{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Ql="$chartjs",DM={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},op=e=>e===null||e==="";function _M(e,t){const n=e.style,r=e.getAttribute("height"),o=e.getAttribute("width");if(e[Ql]={initial:{height:r,width:o,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",op(o)){const a=Hg(e,"width");a!==void 0&&(e.width=a)}if(op(r))if(e.style.height==="")e.height=e.width/(t||2);else{const a=Hg(e,"height");a!==void 0&&(e.height=a)}return e}const s8=wI?{passive:!0}:!1;function kM(e,t,n){e&&e.addEventListener(t,n,s8)}function SM(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,s8)}function FM(e,t){const n=DM[e.type]||e.type,{x:r,y:o}=ko(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:o!==void 0?o:null}}function C0(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function TM(e,t,n){const r=e.canvas,o=new MutationObserver(a=>{let c=!1;for(const u of a)c=c||C0(u.addedNodes,r),c=c&&!C0(u.removedNodes,r);c&&n()});return o.observe(document,{childList:!0,subtree:!0}),o}function IM(e,t,n){const r=e.canvas,o=new MutationObserver(a=>{let c=!1;for(const u of a)c=c||C0(u.removedNodes,r),c=c&&!C0(u.addedNodes,r);c&&n()});return o.observe(document,{childList:!0,subtree:!0}),o}const Ha=new Map;let ip=0;function o8(){const e=window.devicePixelRatio;e!==ip&&(ip=e,Ha.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function MM(e,t){Ha.size||window.addEventListener("resize",o8),Ha.set(e,t)}function PM(e){Ha.delete(e),Ha.size||window.removeEventListener("resize",o8)}function RM(e,t,n){const r=e.canvas,o=r&&jx(r);if(!o)return;const a=jy((u,g)=>{const f=o.clientWidth;n(u,g),f<o.clientWidth&&n()},window),c=new ResizeObserver(u=>{const g=u[0],f=g.contentRect.width,m=g.contentRect.height;f===0&&m===0||a(f,m)});return c.observe(o),MM(e,a),c}function tu(e,t,n){n&&n.disconnect(),t==="resize"&&PM(e)}function OM(e,t,n){const r=e.canvas,o=jy(a=>{e.ctx!==null&&n(FM(a,e))},e);return kM(r,t,o),o}class NM extends r8{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(_M(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[Ql])return!1;const r=n[Ql].initial;["height","width"].forEach(a=>{const c=r[a];Pt(c)?n.removeAttribute(a):n.setAttribute(a,c)});const o=r.style||{};return Object.keys(o).forEach(a=>{n.style[a]=o[a]}),n.width=n.width,delete n[Ql],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const o=t.$proxies||(t.$proxies={}),c={attach:TM,detach:IM,resize:RM}[n]||OM;o[n]=c(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),o=r[n];if(!o)return;({attach:tu,detach:tu,resize:tu}[n]||SM)(t,n,o),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,o){return CI(t,n,r,o)}isAttached(t){const n=t&&jx(t);return!!(n&&n.isConnected)}}function LM(e){return!$x()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?BM:NM}let Os=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return La(this.x)&&La(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const o={};return t.forEach(a=>{o[a]=r[a]&&r[a].active()?r[a]._to:this[a]}),o}};function $M(e,t){const n=e.options.ticks,r=jM(e),o=Math.min(n.maxTicksLimit||r,r),a=n.major.enabled?HM(t):[],c=a.length,u=a[0],g=a[c-1],f=[];if(c>o)return zM(t,f,a,c/o),f;const m=UM(a,t,o);if(c>0){let y,v;const C=c>1?Math.round((g-u)/(c-1)):null;for(Il(t,f,m,Pt(C)?0:u-C,u),y=0,v=c-1;y<v;y++)Il(t,f,m,a[y],a[y+1]);return Il(t,f,m,g,Pt(C)?t.length:g+C),f}return Il(t,f,m),f}function jM(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),o=e._maxLength/n;return Math.floor(Math.min(r,o))}function UM(e,t,n){const r=VM(e),o=t.length/n;if(!r)return Math.max(o,1);const a=vT(r);for(let c=0,u=a.length-1;c<u;c++){const g=a[c];if(g>o)return g}return Math.max(o,1)}function HM(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function zM(e,t,n,r){let o=0,a=n[0],c;for(r=Math.ceil(r),c=0;c<e.length;c++)c===a&&(t.push(e[c]),o++,a=n[o*r])}function Il(e,t,n,r,o){const a=mt(r,0),c=Math.min(mt(o,e.length),e.length);let u=0,g,f,m;for(n=Math.ceil(n),o&&(g=o-r,n=g/Math.floor(g/n)),m=a;m<0;)u++,m=Math.round(a+u*n);for(f=Math.max(a,0);f<c;f++)f===m&&(t.push(e[f]),u++,m=Math.round(a+u*n))}function VM(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const qM=e=>e==="left"?"right":e==="right"?"left":e,ap=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,lp=(e,t)=>Math.min(t||e,e);function cp(e,t){const n=[],r=e.length/t,o=e.length;let a=0;for(;a<o;a+=r)n.push(e[Math.floor(a)]);return n}function WM(e,t,n){const r=e.ticks.length,o=Math.min(t,r-1),a=e._startPixel,c=e._endPixel,u=1e-6;let g=e.getPixelForTick(o),f;if(!(n&&(r===1?f=Math.max(g-a,c-g):t===0?f=(e.getPixelForTick(1)-g)/2:f=(g-e.getPixelForTick(o-1))/2,g+=o<t?f:-f,g<a-u||g>c+u)))return g}function GM(e,t){Nt(e,n=>{const r=n.gc,o=r.length/2;let a;if(o>t){for(a=0;a<o;++a)delete n.data[r[a]];r.splice(0,o)}})}function oa(e){return e.drawTicks?e.tickLength:0}function dp(e,t){if(!e.display)return 0;const n=Hn(e.font,t),r=Or(e.padding);return(mn(e.text)?e.text.length:1)*n.lineHeight+r.height}function QM(e,t){return Zo(e,{scale:t,type:"scale"})}function KM(e,t,n){return Zo(e,{tick:n,index:t,type:"tick"})}function YM(e,t,n){let r=Fx(e);return(n&&t!=="right"||!n&&t==="right")&&(r=qM(r)),r}function XM(e,t,n,r){const{top:o,left:a,bottom:c,right:u,chart:g}=e,{chartArea:f,scales:m}=g;let y=0,v,C,A;const D=c-o,_=u-a;if(e.isHorizontal()){if(C=Nn(r,a,u),kt(n)){const T=Object.keys(n)[0],j=n[T];A=m[T].getPixelForValue(j)+D-t}else n==="center"?A=(f.bottom+f.top)/2+D-t:A=ap(e,n,t);v=u-a}else{if(kt(n)){const T=Object.keys(n)[0],j=n[T];C=m[T].getPixelForValue(j)-_+t}else n==="center"?C=(f.left+f.right)/2-_+t:C=ap(e,n,t);A=Nn(r,c,o),y=n==="left"?-yn:yn}return{titleX:C,titleY:A,maxWidth:v,rotation:y}}class ji extends Os{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:o}=this;return t=ss(t,Number.POSITIVE_INFINITY),n=ss(n,Number.NEGATIVE_INFINITY),r=ss(r,Number.POSITIVE_INFINITY),o=ss(o,Number.NEGATIVE_INFINITY),{min:ss(t,r),max:ss(n,o),minDefined:Rr(t),maxDefined:Rr(n)}}getMinMax(t){let{min:n,max:r,minDefined:o,maxDefined:a}=this.getUserBounds(),c;if(o&&a)return{min:n,max:r};const u=this.getMatchingVisibleMetas();for(let g=0,f=u.length;g<f;++g)c=u[g].controller.getMinMax(this,t),o||(n=Math.min(n,c.min)),a||(r=Math.max(r,c.max));return n=a&&n>r?r:n,r=o&&n>r?n:r,{min:ss(n,ss(r,n)),max:ss(r,ss(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Jt(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:o,grace:a,ticks:c}=this.options,u=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=eI(this,a,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const g=u<this.ticks.length;this._convertTicksToLabels(g?cp(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=$M(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),g&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Jt(this.options.afterUpdate,[this])}beforeSetDimensions(){Jt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Jt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Jt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Jt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,o,a;for(r=0,o=t.length;r<o;r++)a=t[r],a.label=Jt(n.callback,[a.value,r,t],this)}afterTickToLabelConversion(){Jt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Jt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=lp(this.ticks.length,t.ticks.maxTicksLimit),o=n.minRotation||0,a=n.maxRotation;let c=o,u,g,f;if(!this._isVisible()||!n.display||o>=a||r<=1||!this.isHorizontal()){this.labelRotation=o;return}const m=this._getLabelSizes(),y=m.widest.width,v=m.highest.height,C=Un(this.chart.width-y,0,this.maxWidth);u=t.offset?this.maxWidth/r:C/(r-1),y+6>u&&(u=C/(r-(t.offset?.5:1)),g=this.maxHeight-oa(t.grid)-n.padding-dp(t.title,this.chart.options.font),f=Math.sqrt(y*y+v*v),c=BT(Math.min(Math.asin(Un((m.highest.height+6)/u,-1,1)),Math.asin(Un(g/f,-1,1))-Math.asin(Un(v/f,-1,1)))),c=Math.max(o,Math.min(a,c))),this.labelRotation=c}afterCalculateLabelRotation(){Jt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Jt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:o,grid:a}}=this,c=this._isVisible(),u=this.isHorizontal();if(c){const g=dp(o,n.options.font);if(u?(t.width=this.maxWidth,t.height=oa(a)+g):(t.height=this.maxHeight,t.width=oa(a)+g),r.display&&this.ticks.length){const{first:f,last:m,widest:y,highest:v}=this._getLabelSizes(),C=r.padding*2,A=ks(this.labelRotation),D=Math.cos(A),_=Math.sin(A);if(u){const T=r.mirror?0:_*y.width+D*v.height;t.height=Math.min(this.maxHeight,t.height+T+C)}else{const T=r.mirror?0:D*y.width+_*v.height;t.width=Math.min(this.maxWidth,t.width+T+C)}this._calculatePadding(f,m,_,D)}}this._handleMargins(),u?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,o){const{ticks:{align:a,padding:c},position:u}=this.options,g=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,C=0;g?f?(v=o*t.width,C=r*n.height):(v=r*t.height,C=o*n.width):a==="start"?C=n.width:a==="end"?v=t.width:a!=="inner"&&(v=t.width/2,C=n.width/2),this.paddingLeft=Math.max((v-m+c)*this.width/(this.width-m),0),this.paddingRight=Math.max((C-y+c)*this.width/(this.width-y),0)}else{let m=n.height/2,y=t.height/2;a==="start"?(m=0,y=t.height):a==="end"&&(m=n.height,y=0),this.paddingTop=m+c,this.paddingBottom=y+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Jt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)Pt(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=cp(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:o,_longestTextCache:a}=this,c=[],u=[],g=Math.floor(n/lp(n,r));let f=0,m=0,y,v,C,A,D,_,T,j,F,k,P;for(y=0;y<n;y+=g){if(A=t[y].label,D=this._resolveTickFontOptions(y),o.font=_=D.string,T=a[_]=a[_]||{data:{},gc:[]},j=D.lineHeight,F=k=0,!Pt(A)&&!mn(A))F=Ng(o,T.data,T.gc,F,A),k=j;else if(mn(A))for(v=0,C=A.length;v<C;++v)P=A[v],!Pt(P)&&!mn(P)&&(F=Ng(o,T.data,T.gc,F,P),k+=j);c.push(F),u.push(k),f=Math.max(F,f),m=Math.max(k,m)}GM(a,n);const $=c.indexOf(f),O=u.indexOf(m),q=S=>({width:c[S]||0,height:u[S]||0});return{first:q(0),last:q(n-1),widest:q($),highest:q(O),widths:c,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return _T(this._alignToPixels?Bo(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=KM(this.getContext(),t,r))}return this.$context||(this.$context=QM(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=ks(this.labelRotation),r=Math.abs(Math.cos(n)),o=Math.abs(Math.sin(n)),a=this._getLabelSizes(),c=t.autoSkipPadding||0,u=a?a.widest.width+c:0,g=a?a.highest.height+c:0;return this.isHorizontal()?g*r>u*o?u/r:g/o:g*o<u*r?g/r:u/o}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,o=this.options,{grid:a,position:c,border:u}=o,g=a.offset,f=this.isHorizontal(),y=this.ticks.length+(g?1:0),v=oa(a),C=[],A=u.setContext(this.getContext()),D=A.display?A.width:0,_=D/2,T=function(be){return Bo(r,be,D)};let j,F,k,P,$,O,q,S,U,G,z,ee;if(c==="top")j=T(this.bottom),O=this.bottom-v,S=j-_,G=T(t.top)+_,ee=t.bottom;else if(c==="bottom")j=T(this.top),G=t.top,ee=T(t.bottom)-_,O=j+_,S=this.top+v;else if(c==="left")j=T(this.right),$=this.right-v,q=j-_,U=T(t.left)+_,z=t.right;else if(c==="right")j=T(this.left),U=t.left,z=T(t.right)-_,$=j+_,q=this.left+v;else if(n==="x"){if(c==="center")j=T((t.top+t.bottom)/2+.5);else if(kt(c)){const be=Object.keys(c)[0],he=c[be];j=T(this.chart.scales[be].getPixelForValue(he))}G=t.top,ee=t.bottom,O=j+_,S=O+v}else if(n==="y"){if(c==="center")j=T((t.left+t.right)/2);else if(kt(c)){const be=Object.keys(c)[0],he=c[be];j=T(this.chart.scales[be].getPixelForValue(he))}$=j-_,q=$-v,U=t.left,z=t.right}const se=mt(o.ticks.maxTicksLimit,y),J=Math.max(1,Math.ceil(y/se));for(F=0;F<y;F+=J){const be=this.getContext(F),he=a.setContext(be),we=u.setContext(be),Oe=he.lineWidth,Re=he.color,ge=we.dash||[],ve=we.dashOffset,re=he.tickWidth,ye=he.tickColor,Ke=he.tickBorderDash||[],le=he.tickBorderDashOffset;k=WM(this,F,g),k!==void 0&&(P=Bo(r,k,Oe),f?$=q=U=z=P:O=S=G=ee=P,C.push({tx1:$,ty1:O,tx2:q,ty2:S,x1:U,y1:G,x2:z,y2:ee,width:Oe,color:Re,borderDash:ge,borderDashOffset:ve,tickWidth:re,tickColor:ye,tickBorderDash:Ke,tickBorderDashOffset:le}))}return this._ticksLength=y,this._borderValue=j,C}_computeLabelItems(t){const n=this.axis,r=this.options,{position:o,ticks:a}=r,c=this.isHorizontal(),u=this.ticks,{align:g,crossAlign:f,padding:m,mirror:y}=a,v=oa(r.grid),C=v+m,A=y?-m:C,D=-ks(this.labelRotation),_=[];let T,j,F,k,P,$,O,q,S,U,G,z,ee="middle";if(o==="top")$=this.bottom-A,O=this._getXAxisLabelAlignment();else if(o==="bottom")$=this.top+A,O=this._getXAxisLabelAlignment();else if(o==="left"){const J=this._getYAxisLabelAlignment(v);O=J.textAlign,P=J.x}else if(o==="right"){const J=this._getYAxisLabelAlignment(v);O=J.textAlign,P=J.x}else if(n==="x"){if(o==="center")$=(t.top+t.bottom)/2+C;else if(kt(o)){const J=Object.keys(o)[0],be=o[J];$=this.chart.scales[J].getPixelForValue(be)+C}O=this._getXAxisLabelAlignment()}else if(n==="y"){if(o==="center")P=(t.left+t.right)/2-C;else if(kt(o)){const J=Object.keys(o)[0],be=o[J];P=this.chart.scales[J].getPixelForValue(be)}O=this._getYAxisLabelAlignment(v).textAlign}n==="y"&&(g==="start"?ee="top":g==="end"&&(ee="bottom"));const se=this._getLabelSizes();for(T=0,j=u.length;T<j;++T){F=u[T],k=F.label;const J=a.setContext(this.getContext(T));q=this.getPixelForTick(T)+a.labelOffset,S=this._resolveTickFontOptions(T),U=S.lineHeight,G=mn(k)?k.length:1;const be=G/2,he=J.color,we=J.textStrokeColor,Oe=J.textStrokeWidth;let Re=O;c?(P=q,O==="inner"&&(T===j-1?Re=this.options.reverse?"left":"right":T===0?Re=this.options.reverse?"right":"left":Re="center"),o==="top"?f==="near"||D!==0?z=-G*U+U/2:f==="center"?z=-se.highest.height/2-be*U+U:z=-se.highest.height+U/2:f==="near"||D!==0?z=U/2:f==="center"?z=se.highest.height/2-be*U:z=se.highest.height-G*U,y&&(z*=-1),D!==0&&!J.showLabelBackdrop&&(P+=U/2*Math.sin(D))):($=q,z=(1-G)*U/2);let ge;if(J.showLabelBackdrop){const ve=Or(J.backdropPadding),re=se.heights[T],ye=se.widths[T];let Ke=z-ve.top,le=0-ve.left;switch(ee){case"middle":Ke-=re/2;break;case"bottom":Ke-=re;break}switch(O){case"center":le-=ye/2;break;case"right":le-=ye;break;case"inner":T===j-1?le-=ye:T>0&&(le-=ye/2);break}ge={left:le,top:Ke,width:ye+ve.width,height:re+ve.height,color:J.backdropColor}}_.push({label:k,font:S,textOffset:z,options:{rotation:D,color:he,strokeColor:we,strokeWidth:Oe,textAlign:Re,textBaseline:ee,translation:[P,$],backdrop:ge}})}return _}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-ks(this.labelRotation))return t==="top"?"left":"right";let o="center";return n.align==="start"?o="left":n.align==="end"?o="right":n.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:o,padding:a}}=this.options,c=this._getLabelSizes(),u=t+a,g=c.widest.width;let f,m;return n==="left"?o?(m=this.right+a,r==="near"?f="left":r==="center"?(f="center",m+=g/2):(f="right",m+=g)):(m=this.right-u,r==="near"?f="right":r==="center"?(f="center",m-=g/2):(f="left",m=this.left)):n==="right"?o?(m=this.left+a,r==="near"?f="right":r==="center"?(f="center",m-=g/2):(f="left",m-=g)):(m=this.left+u,r==="near"?f="left":r==="center"?(f="center",m+=g/2):(f="right",m=this.right)):f="right",{textAlign:f,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:o,width:a,height:c}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,o,a,c),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const o=this.ticks.findIndex(a=>a.value===t);return o>=0?n.setContext(this.getContext(o)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,c;const u=(g,f,m)=>{!m.width||!m.color||(r.save(),r.lineWidth=m.width,r.strokeStyle=m.color,r.setLineDash(m.borderDash||[]),r.lineDashOffset=m.borderDashOffset,r.beginPath(),r.moveTo(g.x,g.y),r.lineTo(f.x,f.y),r.stroke(),r.restore())};if(n.display)for(a=0,c=o.length;a<c;++a){const g=o[a];n.drawOnChartArea&&u({x:g.x1,y:g.y1},{x:g.x2,y:g.y2},g),n.drawTicks&&u({x:g.tx1,y:g.ty1},{x:g.tx2,y:g.ty2},{color:g.tickColor,width:g.tickWidth,borderDash:g.tickBorderDash,borderDashOffset:g.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:o}}=this,a=r.setContext(this.getContext()),c=r.display?a.width:0;if(!c)return;const u=o.setContext(this.getContext(0)).lineWidth,g=this._borderValue;let f,m,y,v;this.isHorizontal()?(f=Bo(t,this.left,c)-c/2,m=Bo(t,this.right,u)+u/2,y=v=g):(y=Bo(t,this.top,c)-c/2,v=Bo(t,this.bottom,u)+u/2,f=m=g),n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.beginPath(),n.moveTo(f,y),n.lineTo(m,v),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,o=this._computeLabelArea();o&&Mx(r,o);const a=this.getLabelItems(t);for(const c of a){const u=c.options,g=c.font,f=c.label,m=c.textOffset;Ua(r,f,0,m,g,u)}o&&Px(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:o}}=this;if(!r.display)return;const a=Hn(r.font),c=Or(r.padding),u=r.align;let g=a.lineHeight/2;n==="bottom"||n==="center"||kt(n)?(g+=c.bottom,mn(r.text)&&(g+=a.lineHeight*(r.text.length-1))):g+=c.top;const{titleX:f,titleY:m,maxWidth:y,rotation:v}=XM(this,g,n,u);Ua(t,r.text,0,0,a,{color:r.color,maxWidth:y,rotation:v,textAlign:YM(u,n,o),textBaseline:"middle",translation:[f,m]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=mt(t.grid&&t.grid.z,-1),o=mt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==ji.prototype.draw?[{z:n,draw:a=>{this.draw(a)}}]:[{z:r,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:n,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",o=[];let a,c;for(a=0,c=n.length;a<c;++a){const u=n[a];u[r]===this.id&&(!t||u.type===t)&&o.push(u)}return o}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Hn(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Ml{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;eP(n)&&(r=this.register(n));const o=this.items,a=t.id,c=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in o||(o[a]=t,ZM(t,c,r),this.override&&dn.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,o=this.scope;r in n&&delete n[r],o&&r in dn[o]&&(delete dn[o][r],this.override&&delete Go[r])}}function ZM(e,t,n){const r=Oa(Object.create(null),[n?dn.get(n):{},dn.get(t),e.defaults]);dn.set(t,r),e.defaultRoutes&&JM(t,e.defaultRoutes),e.descriptors&&dn.describe(t,e.descriptors)}function JM(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),o=r.pop(),a=[e].concat(r).join("."),c=t[n].split("."),u=c.pop(),g=c.join(".");dn.route(a,o,g,u)})}function eP(e){return"id"in e&&"defaults"in e}class tP{constructor(){this.controllers=new Ml(V0,"datasets",!0),this.elements=new Ml(Os,"elements"),this.plugins=new Ml(Object,"plugins"),this.scales=new Ml(ji,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(o=>{const a=r||this._getRegistryForType(o);r||a.isForType(o)||a===this.plugins&&o.id?this._exec(t,a,o):Nt(o,c=>{const u=r||this._getRegistryForType(c);this._exec(t,u,c)})})}_exec(t,n,r){const o=kx(t);Jt(r["before"+o],[],r),n[t](r),Jt(r["after"+o],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const o=n.get(t);if(o===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return o}}var cs=new tP;class nP{constructor(){this._init=void 0}notify(t,n,r,o){if(n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const a=o?this._descriptors(t).filter(o):this._descriptors(t),c=this._notify(a,t,n,r);return n==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),c}_notify(t,n,r,o){o=o||{};for(const a of t){const c=a.plugin,u=c[r],g=[n,o,a.options];if(Jt(u,g,c)===!1&&o.cancelable)return!1}return!0}invalidate(){Pt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,o=mt(r.options&&r.options.plugins,{}),a=rP(r);return o===!1&&!n?[]:oP(t,a,o,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,o=(a,c)=>a.filter(u=>!c.some(g=>u.plugin.id===g.plugin.id));this._notify(o(n,r),t,"stop"),this._notify(o(r,n),t,"start")}}function rP(e){const t={},n=[],r=Object.keys(cs.plugins.items);for(let a=0;a<r.length;a++)n.push(cs.getPlugin(r[a]));const o=e.plugins||[];for(let a=0;a<o.length;a++){const c=o[a];n.indexOf(c)===-1&&(n.push(c),t[c.id]=!0)}return{plugins:n,localIds:t}}function sP(e,t){return!t&&e===!1?null:e===!0?{}:e}function oP(e,{plugins:t,localIds:n},r,o){const a=[],c=e.getContext();for(const u of t){const g=u.id,f=sP(r[g],o);f!==null&&a.push({plugin:u,options:iP(e.config,{plugin:u,local:n[g]},f,c)})}return a}function iP(e,{plugin:t,local:n},r,o){const a=e.pluginScopeKeys(t),c=e.getOptionScopes(r,a);return n&&t.defaults&&c.push(t.defaults),e.createResolver(c,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Lu(e,t){const n=dn.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function aP(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function lP(e,t){return e===t?"_index_":"_value_"}function up(e){if(e==="x"||e==="y"||e==="r")return e}function cP(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function $u(e,...t){if(up(e))return e;for(const n of t){const r=n.axis||cP(n.position)||e.length>1&&up(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function xp(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function dP(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return xp(e,"x",n[0])||xp(e,"y",n[0])}return{}}function uP(e,t){const n=Go[e.type]||{scales:{}},r=t.scales||{},o=Lu(e.type,t),a=Object.create(null);return Object.keys(r).forEach(c=>{const u=r[c];if(!kt(u))return console.error(`Invalid scale configuration for scale: ${c}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const g=$u(c,u,dP(c,e),dn.scales[u.type]),f=lP(g,o),m=n.scales||{};a[c]=Ea(Object.create(null),[{axis:g},u,m[g],m[f]])}),e.data.datasets.forEach(c=>{const u=c.type||e.type,g=c.indexAxis||Lu(u,t),m=(Go[u]||{}).scales||{};Object.keys(m).forEach(y=>{const v=aP(y,g),C=c[v+"AxisID"]||v;a[C]=a[C]||Object.create(null),Ea(a[C],[{axis:v},r[C],m[y]])})}),Object.keys(a).forEach(c=>{const u=a[c];Ea(u,[dn.scales[u.type],dn.scale])}),a}function i8(e){const t=e.options||(e.options={});t.plugins=mt(t.plugins,{}),t.scales=uP(e,t)}function a8(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function xP(e){return e=e||{},e.data=a8(e.data),i8(e),e}const fp=new Map,l8=new Set;function Pl(e,t){let n=fp.get(e);return n||(n=t(),fp.set(e,n),l8.add(n)),n}const ia=(e,t,n)=>{const r=Wo(t,n);r!==void 0&&e.add(r)};class fP{constructor(t){this._config=xP(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=a8(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),i8(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Pl(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Pl(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Pl(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return Pl(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let o=r.get(t);return(!o||n)&&(o=new Map,r.set(t,o)),o}getOptionScopes(t,n,r){const{options:o,type:a}=this,c=this._cachedScopes(t,r),u=c.get(n);if(u)return u;const g=new Set;n.forEach(m=>{t&&(g.add(t),m.forEach(y=>ia(g,t,y))),m.forEach(y=>ia(g,o,y)),m.forEach(y=>ia(g,Go[a]||{},y)),m.forEach(y=>ia(g,dn,y)),m.forEach(y=>ia(g,Ou,y))});const f=Array.from(g);return f.length===0&&f.push(Object.create(null)),l8.has(n)&&c.set(n,f),f}chartOptionScopes(){const{options:t,type:n}=this;return[t,Go[n]||{},dn.datasets[n]||{},{type:n},dn,Ou]}resolveNamedOptions(t,n,r,o=[""]){const a={$shared:!0},{resolver:c,subPrefixes:u}=hp(this._resolverCache,t,o);let g=c;if(gP(c,n)){a.$shared=!1,r=xo(r)?r():r;const f=this.createResolver(t,r,u);g=Ii(c,r,f)}for(const f of n)a[f]=g[f];return a}createResolver(t,n,r=[""],o){const{resolver:a}=hp(this._resolverCache,t,r);return kt(n)?Ii(a,n,void 0,o):a}}function hp(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const o=n.join();let a=r.get(o);return a||(a={resolver:Ox(t,n),subPrefixes:n.filter(u=>!u.toLowerCase().includes("hover"))},r.set(o,a)),a}const hP=e=>kt(e)&&Object.getOwnPropertyNames(e).some(t=>xo(e[t]));function gP(e,t){const{isScriptable:n,isIndexable:r}=Vy(e);for(const o of t){const a=n(o),c=r(o),u=(c||a)&&e[o];if(a&&(xo(u)||hP(u))||c&&mn(u))return!0}return!1}var pP="4.5.1";const mP=["top","bottom","left","right","chartArea"];function gp(e,t){return e==="top"||e==="bottom"||mP.indexOf(e)===-1&&t==="x"}function pp(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function mp(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Jt(n&&n.onComplete,[e],t)}function yP(e){const t=e.chart,n=t.options.animation;Jt(n&&n.onProgress,[e],t)}function c8(e){return $x()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Kl={},yp=e=>{const t=c8(e);return Object.values(Kl).filter(n=>n.canvas===t).pop()};function bP(e,t,n){const r=Object.keys(e);for(const o of r){const a=+o;if(a>=t){const c=e[o];delete e[o],(n>0||a>t)&&(e[a+n]=c)}}}function EP(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}let W0=class{static defaults=dn;static instances=Kl;static overrides=Go;static registry=cs;static version=pP;static getChart=yp;static register(...t){cs.add(...t),bp()}static unregister(...t){cs.remove(...t),bp()}constructor(t,n){const r=this.config=new fP(n),o=c8(t),a=yp(o);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const c=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||LM(o)),this.platform.updateConfig(r);const u=this.platform.acquireContext(o,c.aspectRatio),g=u&&u.canvas,f=g&&g.height,m=g&&g.width;if(this.id=xT(),this.ctx=u,this.canvas=g,this.width=m,this.height=f,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new nP,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=TT(y=>this.update(y),c.resizeDelay||0),this._dataChanges=[],Kl[this.id]=this,!u||!g){console.error("Failed to create chart: can't acquire context from the given item");return}bs.listen(this,"complete",mp),bs.listen(this,"progress",yP),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:o,_aspectRatio:a}=this;return Pt(t)?n&&a?a:o?r/o:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return cs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ug(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Lg(this.canvas,this.ctx),this}stop(){return bs.stop(this),this}resize(t,n){bs.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,o=this.canvas,a=r.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(o,t,n,a),u=r.devicePixelRatio||this.platform.getDevicePixelRatio(),g=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,Ug(this,u,!0)&&(this.notifyPlugins("resize",{size:c}),Jt(r.onResize,[this,c],this),this.attached&&this._doResize(g)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Nt(n,(r,o)=>{r.id=o})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,o=Object.keys(r).reduce((c,u)=>(c[u]=!1,c),{});let a=[];n&&(a=a.concat(Object.keys(n).map(c=>{const u=n[c],g=$u(c,u),f=g==="r",m=g==="x";return{options:u,dposition:f?"chartArea":m?"bottom":"left",dtype:f?"radialLinear":m?"category":"linear"}}))),Nt(a,c=>{const u=c.options,g=u.id,f=$u(g,u),m=mt(u.type,c.dtype);(u.position===void 0||gp(u.position,f)!==gp(c.dposition))&&(u.position=c.dposition),o[g]=!0;let y=null;if(g in r&&r[g].type===m)y=r[g];else{const v=cs.getScale(m);y=new v({id:g,type:m,ctx:this.ctx,chart:this}),r[y.id]=y}y.init(u,t)}),Nt(o,(c,u)=>{c||delete r[u]}),Nt(r,c=>{Ir.configure(this,c,c.options),Ir.addBox(this,c)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((o,a)=>o.index-a.index),r>n){for(let o=n;o<r;++o)this._destroyDatasetMeta(o);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(pp("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,o)=>{n.filter(a=>a===r._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,o;for(this._removeUnreferencedMetasets(),r=0,o=n.length;r<o;r++){const a=n[r];let c=this.getDatasetMeta(r);const u=a.type||this.config.type;if(c.type&&c.type!==u&&(this._destroyDatasetMeta(r),c=this.getDatasetMeta(r)),c.type=u,c.indexAxis=a.indexAxis||Lu(u,this.options),c.order=a.order||0,c.index=r,c.label=""+a.label,c.visible=this.isDatasetVisible(r),c.controller)c.controller.updateIndex(r),c.controller.linkScales();else{const g=cs.getController(u),{datasetElementType:f,dataElementType:m}=dn.datasets[u];Object.assign(g,{dataElementType:cs.getElement(m),datasetElementType:f&&cs.getElement(f)}),c.controller=new g(this,r),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){Nt(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let f=0,m=this.data.datasets.length;f<m;f++){const{controller:y}=this.getDatasetMeta(f),v=!o&&a.indexOf(y)===-1;y.buildOrUpdateElements(v),c=Math.max(+y.getMaxOverflow(),c)}c=this._minPadding=r.layout.autoPadding?c:0,this._updateLayout(c),o||Nt(a,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(pp("z","_idx"));const{_active:u,_lastEvent:g}=this;g?this._eventHandler(g,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Nt(this.scales,t=>{Ir.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!kg(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:o,count:a}of n){const c=r==="_removeElements"?-a:a;bP(t,o,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=a=>new Set(t.filter(c=>c[0]===a).map((c,u)=>u+","+c.splice(1).join(","))),o=r(0);for(let a=1;a<n;a++)if(!kg(o,r(a)))return;return Array.from(o).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ir.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Nt(this.boxes,o=>{r&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,a)=>{o._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,xo(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),o={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(r.controller._update(n),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(bs.has(this)?this.attached&&!bs.running(this)&&bs.start(this):(this.draw(),mp({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let o,a;for(o=0,a=n.length;o<a;++o){const c=n[o];(!t||c.visible)&&r.push(c)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r={meta:t,index:t.index,cancelable:!0},o=NI(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(o&&Mx(n,o),t.controller.draw(),o&&Px(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return ja(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,o){const a=mM.modes[n];return typeof a=="function"?a(this,t,r,o):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let o=r.filter(a=>a&&a._dataset===n).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(o)),o}getContext(){return this.$context||(this.$context=Zo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const o=r?"show":"hide",a=this.getDatasetMeta(t),c=a.controller._resolveAnimations(void 0,o);Na(n)?(a.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),c.update(a,{visible:r}),this.update(u=>u.datasetIndex===t?o:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),bs.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Lg(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Kl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(a,c)=>{n.addEventListener(this,a,c),t[a]=c},o=(a,c,u)=>{a.offsetX=c,a.offsetY=u,this._eventHandler(a)};Nt(this.options.events,a=>r(a,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(g,f)=>{n.addEventListener(this,g,f),t[g]=f},o=(g,f)=>{t[g]&&(n.removeEventListener(this,g,f),delete t[g])},a=(g,f)=>{this.canvas&&this.resize(g,f)};let c;const u=()=>{o("attach",u),this.attached=!0,this.resize(),r("resize",a),r("detach",c)};c=()=>{this.attached=!1,o("resize",a),this._stop(),this._resize(0,0),r("attach",u)},n.isAttached(this.canvas)?u():c()}unbindEvents(){Nt(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Nt(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const o=r?"set":"remove";let a,c,u,g;for(n==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+o+"DatasetHoverStyle"]()),u=0,g=t.length;u<g;++u){c=t[u];const f=c&&this.getDatasetMeta(c.datasetIndex).controller;f&&f[o+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:a,index:c})=>{const u=this.getDatasetMeta(a);if(!u)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:u.data[c],index:c}});!m0(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const o=this.options.hover,a=(g,f)=>g.filter(m=>!f.some(y=>m.datasetIndex===y.datasetIndex&&m.index===y.index)),c=a(n,t),u=r?t:a(t,n);c.length&&this.updateHoverStyle(c,o.mode,!1),u.length&&o.mode&&this.updateHoverStyle(u,o.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},o=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,o)===!1)return;const a=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,o),(a||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:o=[],options:a}=this,c=n,u=this._getActiveElements(t,o,r,c),g=yT(t),f=EP(t,this._lastEvent,r,g);r&&(this._lastEvent=null,Jt(a.onHover,[t,u,this],this),g&&Jt(a.onClick,[t,u,this],this));const m=!m0(u,o);return(m||n)&&(this._active=u,this._updateHoverStyles(u,o,n)),this._lastEvent=f,m}_getActiveElements(t,n,r,o){if(t.type==="mouseout")return[];if(!r)return n;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,o)}};function bp(){return Nt(W0.instances,e=>e._plugins.invalidate())}function vP(e,t,n){const{startAngle:r,x:o,y:a,outerRadius:c,innerRadius:u,options:g}=t,{borderWidth:f,borderJoinStyle:m}=g,y=Math.min(f/c,zr(r-n));if(e.beginPath(),e.arc(o,a,c-f/2,r+y/2,n-y/2),u>0){const v=Math.min(f/u,zr(r-n));e.arc(o,a,u+f/2,n-v/2,r+v/2,!0)}else{const v=Math.min(f/2,c*zr(r-n));if(m==="round")e.arc(o,a,v,n-Lt/2,r+Lt/2,!0);else if(m==="bevel"){const C=2*v*v,A=-C*Math.cos(n+Lt/2)+o,D=-C*Math.sin(n+Lt/2)+a,_=C*Math.cos(r+Lt/2)+o,T=C*Math.sin(r+Lt/2)+a;e.lineTo(A,D),e.lineTo(_,T)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function CP(e,t,n){const{startAngle:r,pixelMargin:o,x:a,y:c,outerRadius:u,innerRadius:g}=t;let f=o/u;e.beginPath(),e.arc(a,c,u,r-f,n+f),g>o?(f=o/g,e.arc(a,c,g,n+f,r-f,!0)):e.arc(a,c,o,n+yn,r-yn),e.closePath(),e.clip()}function wP(e){return Rx(e,["outerStart","outerEnd","innerStart","innerEnd"])}function AP(e,t,n,r){const o=wP(e.options.borderRadius),a=(n-t)/2,c=Math.min(a,r*t/2),u=g=>{const f=(n-Math.min(a,g))*r/2;return Un(g,0,Math.min(a,f))};return{outerStart:u(o.outerStart),outerEnd:u(o.outerEnd),innerStart:Un(o.innerStart,0,c),innerEnd:Un(o.innerEnd,0,c)}}function ui(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function w0(e,t,n,r,o,a){const{x:c,y:u,startAngle:g,pixelMargin:f,innerRadius:m}=t,y=Math.max(t.outerRadius+r+n-f,0),v=m>0?m+r+n+f:0;let C=0;const A=o-g;if(r){const J=m>0?m-r:0,be=y>0?y-r:0,he=(J+be)/2,we=he!==0?A*he/(he+r):A;C=(A-we)/2}const D=Math.max(.001,A*y-n/Lt)/y,_=(A-D)/2,T=g+_+C,j=o-_-C,{outerStart:F,outerEnd:k,innerStart:P,innerEnd:$}=AP(t,v,y,j-T),O=y-F,q=y-k,S=T+F/O,U=j-k/q,G=v+P,z=v+$,ee=T+P/G,se=j-$/z;if(e.beginPath(),a){const J=(S+U)/2;if(e.arc(c,u,y,S,J),e.arc(c,u,y,J,U),k>0){const Oe=ui(q,U,c,u);e.arc(Oe.x,Oe.y,k,U,j+yn)}const be=ui(z,j,c,u);if(e.lineTo(be.x,be.y),$>0){const Oe=ui(z,se,c,u);e.arc(Oe.x,Oe.y,$,j+yn,se+Math.PI)}const he=(j-$/v+(T+P/v))/2;if(e.arc(c,u,v,j-$/v,he,!0),e.arc(c,u,v,he,T+P/v,!0),P>0){const Oe=ui(G,ee,c,u);e.arc(Oe.x,Oe.y,P,ee+Math.PI,T-yn)}const we=ui(O,T,c,u);if(e.lineTo(we.x,we.y),F>0){const Oe=ui(O,S,c,u);e.arc(Oe.x,Oe.y,F,T-yn,S)}}else{e.moveTo(c,u);const J=Math.cos(S)*y+c,be=Math.sin(S)*y+u;e.lineTo(J,be);const he=Math.cos(U)*y+c,we=Math.sin(U)*y+u;e.lineTo(he,we)}e.closePath()}function BP(e,t,n,r,o){const{fullCircles:a,startAngle:c,circumference:u}=t;let g=t.endAngle;if(a){w0(e,t,n,r,g,o);for(let f=0;f<a;++f)e.fill();isNaN(u)||(g=c+(u%ln||ln))}return w0(e,t,n,r,g,o),e.fill(),g}function DP(e,t,n,r,o){const{fullCircles:a,startAngle:c,circumference:u,options:g}=t,{borderWidth:f,borderJoinStyle:m,borderDash:y,borderDashOffset:v,borderRadius:C}=g,A=g.borderAlign==="inner";if(!f)return;e.setLineDash(y||[]),e.lineDashOffset=v,A?(e.lineWidth=f*2,e.lineJoin=m||"round"):(e.lineWidth=f,e.lineJoin=m||"bevel");let D=t.endAngle;if(a){w0(e,t,n,r,D,o);for(let _=0;_<a;++_)e.stroke();isNaN(u)||(D=c+(u%ln||ln))}A&&CP(e,t,D),g.selfJoin&&D-c>=Lt&&C===0&&m!=="miter"&&vP(e,t,D),a||(w0(e,t,n,r,D,o),e.stroke())}class _P extends Os{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,r){const o=this.getProps(["x","y"],r),{angle:a,distance:c}=Oy(o,{x:t,y:n}),{startAngle:u,endAngle:g,innerRadius:f,outerRadius:m,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),v=(this.options.spacing+this.options.borderWidth)/2,C=mt(y,g-u),A=$a(a,u,g)&&u!==g,D=C>=ln||A,_=Zs(c,f+v,m+v);return D&&_}getCenterPoint(t){const{x:n,y:r,startAngle:o,endAngle:a,innerRadius:c,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:g,spacing:f}=this.options,m=(o+a)/2,y=(c+u+f+g)/2;return{x:n+Math.cos(m)*y,y:r+Math.sin(m)*y}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:r}=this,o=(n.offset||0)/4,a=(n.spacing||0)/2,c=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>ln?Math.floor(r/ln):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const u=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(u)*o,Math.sin(u)*o);const g=1-Math.sin(Math.min(Lt,r||0)),f=o*g;t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,BP(t,this,f,a,c),DP(t,this,f,a,c),t.restore()}}function d8(e,t,n=t){e.lineCap=mt(n.borderCapStyle,t.borderCapStyle),e.setLineDash(mt(n.borderDash,t.borderDash)),e.lineDashOffset=mt(n.borderDashOffset,t.borderDashOffset),e.lineJoin=mt(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=mt(n.borderWidth,t.borderWidth),e.strokeStyle=mt(n.borderColor,t.borderColor)}function kP(e,t,n){e.lineTo(n.x,n.y)}function SP(e){return e.stepped?qT:e.tension||e.cubicInterpolationMode==="monotone"?WT:kP}function u8(e,t,n={}){const r=e.length,{start:o=0,end:a=r-1}=n,{start:c,end:u}=t,g=Math.max(o,c),f=Math.min(a,u),m=o<c&&a<c||o>u&&a>u;return{count:r,start:g,loop:t.loop,ilen:f<g&&!m?r+f-g:f-g}}function FP(e,t,n,r){const{points:o,options:a}=t,{count:c,start:u,loop:g,ilen:f}=u8(o,n,r),m=SP(a);let{move:y=!0,reverse:v}=r||{},C,A,D;for(C=0;C<=f;++C)A=o[(u+(v?f-C:C))%c],!A.skip&&(y?(e.moveTo(A.x,A.y),y=!1):m(e,D,A,v,a.stepped),D=A);return g&&(A=o[(u+(v?f:0))%c],m(e,D,A,v,a.stepped)),!!g}function TP(e,t,n,r){const o=t.points,{count:a,start:c,ilen:u}=u8(o,n,r),{move:g=!0,reverse:f}=r||{};let m=0,y=0,v,C,A,D,_,T;const j=k=>(c+(f?u-k:k))%a,F=()=>{D!==_&&(e.lineTo(m,_),e.lineTo(m,D),e.lineTo(m,T))};for(g&&(C=o[j(0)],e.moveTo(C.x,C.y)),v=0;v<=u;++v){if(C=o[j(v)],C.skip)continue;const k=C.x,P=C.y,$=k|0;$===A?(P<D?D=P:P>_&&(_=P),m=(y*m+k)/++y):(F(),e.lineTo(k,P),A=$,y=0,D=_=P),T=P}F()}function ju(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?TP:FP}function IP(e){return e.stepped?AI:e.tension||e.cubicInterpolationMode==="monotone"?BI:So}function MP(e,t,n,r){let o=t._path;o||(o=t._path=new Path2D,t.path(o,n,r)&&o.closePath()),d8(e,t.options),e.stroke(o)}function PP(e,t,n,r){const{segments:o,options:a}=t,c=ju(t);for(const u of o)d8(e,a,u.style),e.beginPath(),c(e,t,u,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}const RP=typeof Path2D=="function";function OP(e,t,n,r){RP&&!t.options.segment?MP(e,t,n,r):PP(e,t,n,r)}class NP extends Os{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const o=r.spanGaps?this._loop:this._fullLoop;pI(this._points,r,t,o,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=MI(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,r=t.length;return r&&n[t[r-1].end]}interpolate(t,n){const r=this.options,o=t[n],a=this.points,c=FI(this,{property:n,start:o,end:o});if(!c.length)return;const u=[],g=IP(r);let f,m;for(f=0,m=c.length;f<m;++f){const{start:y,end:v}=c[f],C=a[y],A=a[v];if(C===A){u.push(C);continue}const D=Math.abs((o-C[n])/(A[n]-C[n])),_=g(C,A,D,r.stepped);_[n]=t[n],u.push(_)}return u.length===1?u[0]:u}pathSegment(t,n,r){return ju(this)(t,this,n,r)}path(t,n,r){const o=this.segments,a=ju(this);let c=this._loop;n=n||0,r=r||this.points.length-n;for(const u of o)c&=a(t,this,u,{start:n,end:n+r-1});return!!c}draw(t,n,r,o){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),OP(t,this,r,o),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Ep(e,t,n,r){const o=e.options,{[n]:a}=e.getProps([n],r);return Math.abs(t-a)<o.radius+o.hitRadius}class LP extends Os{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,r){const o=this.options,{x:a,y:c}=this.getProps(["x","y"],r);return Math.pow(t-a,2)+Math.pow(n-c,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(t,n){return Ep(this,t,"x",n)}inYRange(t,n){return Ep(this,t,"y",n)}getCenterPoint(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const r=n&&t.borderWidth||0;return(n+r)*2}draw(t,n){const r=this.options;this.skip||r.radius<.1||!ja(this,n,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,Nu(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function x8(e,t){const{x:n,y:r,base:o,width:a,height:c}=e.getProps(["x","y","base","width","height"],t);let u,g,f,m,y;return e.horizontal?(y=c/2,u=Math.min(n,o),g=Math.max(n,o),f=r-y,m=r+y):(y=a/2,u=n-y,g=n+y,f=Math.min(r,o),m=Math.max(r,o)),{left:u,top:f,right:g,bottom:m}}function eo(e,t,n,r){return e?0:Un(t,n,r)}function $P(e,t,n){const r=e.options.borderWidth,o=e.borderSkipped,a=zy(r);return{t:eo(o.top,a.top,0,n),r:eo(o.right,a.right,0,t),b:eo(o.bottom,a.bottom,0,n),l:eo(o.left,a.left,0,t)}}function jP(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),o=e.options.borderRadius,a=wi(o),c=Math.min(t,n),u=e.borderSkipped,g=r||kt(o);return{topLeft:eo(!g||u.top||u.left,a.topLeft,0,c),topRight:eo(!g||u.top||u.right,a.topRight,0,c),bottomLeft:eo(!g||u.bottom||u.left,a.bottomLeft,0,c),bottomRight:eo(!g||u.bottom||u.right,a.bottomRight,0,c)}}function UP(e){const t=x8(e),n=t.right-t.left,r=t.bottom-t.top,o=$P(e,n/2,r/2),a=jP(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:a},inner:{x:t.left+o.l,y:t.top+o.t,w:n-o.l-o.r,h:r-o.t-o.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,a.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(o.b,o.r))}}}}function nu(e,t,n,r){const o=t===null,a=n===null,u=e&&!(o&&a)&&x8(e,r);return u&&(o||Zs(t,u.left,u.right))&&(a||Zs(n,u.top,u.bottom))}function HP(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function zP(e,t){e.rect(t.x,t.y,t.w,t.h)}function ru(e,t,n={}){const r=e.x!==n.x?-t:0,o=e.y!==n.y?-t:0,a=(e.x+e.w!==n.x+n.w?t:0)-r,c=(e.y+e.h!==n.y+n.h?t:0)-o;return{x:e.x+r,y:e.y+o,w:e.w+a,h:e.h+c,radius:e.radius}}class VP extends Os{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:r,backgroundColor:o}}=this,{inner:a,outer:c}=UP(this),u=HP(c.radius)?E0:zP;t.save(),(c.w!==a.w||c.h!==a.h)&&(t.beginPath(),u(t,ru(c,n,a)),t.clip(),u(t,ru(a,-n,c)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),u(t,ru(a,n)),t.fillStyle=o,t.fill(),t.restore()}inRange(t,n,r){return nu(this,t,n,r)}inXRange(t,n){return nu(this,t,null,n)}inYRange(t,n){return nu(this,null,t,n)}getCenterPoint(t){const{x:n,y:r,base:o,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(n+o)/2:n,y:a?r:(r+o)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const vp=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},qP=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Cp extends Os{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Jt(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,o)=>t.sort(r,o,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,o=Hn(r.font),a=o.size,c=this._computeTitleHeight(),{boxWidth:u,itemHeight:g}=vp(r,a);let f,m;n.font=o.string,this.isHorizontal()?(f=this.maxWidth,m=this._fitRows(c,a,u,g)+10):(m=this.maxHeight,f=this._fitCols(c,o,u,g)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(m,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,o){const{ctx:a,maxWidth:c,options:{labels:{padding:u}}}=this,g=this.legendHitBoxes=[],f=this.lineWidths=[0],m=o+u;let y=t;a.textAlign="left",a.textBaseline="middle";let v=-1,C=-m;return this.legendItems.forEach((A,D)=>{const _=r+n/2+a.measureText(A.text).width;(D===0||f[f.length-1]+_+2*u>c)&&(y+=m,f[f.length-(D>0?0:1)]=0,C+=m,v++),g[D]={left:0,top:C,row:v,width:_,height:o},f[f.length-1]+=_+u}),y}_fitCols(t,n,r,o){const{ctx:a,maxHeight:c,options:{labels:{padding:u}}}=this,g=this.legendHitBoxes=[],f=this.columnSizes=[],m=c-t;let y=u,v=0,C=0,A=0,D=0;return this.legendItems.forEach((_,T)=>{const{itemWidth:j,itemHeight:F}=WP(r,n,a,_,o);T>0&&C+F+2*u>m&&(y+=v+u,f.push({width:v,height:C}),A+=v+u,D++,v=C=0),g[T]={left:A,top:C,col:D,width:j,height:F},v=Math.max(v,j),C+=F+u}),y+=v,f.push({width:v,height:C}),y}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:o},rtl:a}}=this,c=Ai(a,this.left,this.width);if(this.isHorizontal()){let u=0,g=Nn(r,this.left+o,this.right-this.lineWidths[u]);for(const f of n)u!==f.row&&(u=f.row,g=Nn(r,this.left+o,this.right-this.lineWidths[u])),f.top+=this.top+t+o,f.left=c.leftForLtr(c.x(g),f.width),g+=f.width+o}else{let u=0,g=Nn(r,this.top+t+o,this.bottom-this.columnSizes[u].height);for(const f of n)f.col!==u&&(u=f.col,g=Nn(r,this.top+t+o,this.bottom-this.columnSizes[u].height)),f.top=g,f.left+=this.left+o,f.left=c.leftForLtr(c.x(f.left),f.width),g+=f.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Mx(t,this),this._draw(),Px(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:o}=this,{align:a,labels:c}=t,u=dn.color,g=Ai(t.rtl,this.left,this.width),f=Hn(c.font),{padding:m}=c,y=f.size,v=y/2;let C;this.drawTitle(),o.textAlign=g.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=f.string;const{boxWidth:A,boxHeight:D,itemHeight:_}=vp(c,y),T=function($,O,q){if(isNaN(A)||A<=0||isNaN(D)||D<0)return;o.save();const S=mt(q.lineWidth,1);if(o.fillStyle=mt(q.fillStyle,u),o.lineCap=mt(q.lineCap,"butt"),o.lineDashOffset=mt(q.lineDashOffset,0),o.lineJoin=mt(q.lineJoin,"miter"),o.lineWidth=S,o.strokeStyle=mt(q.strokeStyle,u),o.setLineDash(mt(q.lineDash,[])),c.usePointStyle){const U={radius:D*Math.SQRT2/2,pointStyle:q.pointStyle,rotation:q.rotation,borderWidth:S},G=g.xPlus($,A/2),z=O+v;Hy(o,U,G,z,c.pointStyleWidth&&A)}else{const U=O+Math.max((y-D)/2,0),G=g.leftForLtr($,A),z=wi(q.borderRadius);o.beginPath(),Object.values(z).some(ee=>ee!==0)?E0(o,{x:G,y:U,w:A,h:D,radius:z}):o.rect(G,U,A,D),o.fill(),S!==0&&o.stroke()}o.restore()},j=function($,O,q){Ua(o,q.text,$,O+_/2,f,{strikethrough:q.hidden,textAlign:g.textAlign(q.textAlign)})},F=this.isHorizontal(),k=this._computeTitleHeight();F?C={x:Nn(a,this.left+m,this.right-r[0]),y:this.top+m+k,line:0}:C={x:this.left+m,y:Nn(a,this.top+k+m,this.bottom-n[0].height),line:0},Ky(this.ctx,t.textDirection);const P=_+m;this.legendItems.forEach(($,O)=>{o.strokeStyle=$.fontColor,o.fillStyle=$.fontColor;const q=o.measureText($.text).width,S=g.textAlign($.textAlign||($.textAlign=c.textAlign)),U=A+v+q;let G=C.x,z=C.y;g.setWidth(this.width),F?O>0&&G+U+m>this.right&&(z=C.y+=P,C.line++,G=C.x=Nn(a,this.left+m,this.right-r[C.line])):O>0&&z+P>this.bottom&&(G=C.x=G+n[C.line].width+m,C.line++,z=C.y=Nn(a,this.top+k+m,this.bottom-n[C.line].height));const ee=g.x(G);if(T(ee,z,$),G=IT(S,G+A+v,F?G+U:this.right,t.rtl),j(g.x(G),z,$),F)C.x+=U+m;else if(typeof $.text!="string"){const se=f.lineHeight;C.y+=f8($,se)+m}else C.y+=P}),Yy(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=Hn(n.font),o=Or(n.padding);if(!n.display)return;const a=Ai(t.rtl,this.left,this.width),c=this.ctx,u=n.position,g=r.size/2,f=o.top+g;let m,y=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),m=this.top+f,y=Nn(t.align,y,this.right-v);else{const A=this.columnSizes.reduce((D,_)=>Math.max(D,_.height),0);m=f+Nn(t.align,this.top,this.bottom-A-t.labels.padding-this._computeTitleHeight())}const C=Nn(u,y,y+v);c.textAlign=a.textAlign(Fx(u)),c.textBaseline="middle",c.strokeStyle=n.color,c.fillStyle=n.color,c.font=r.string,Ua(c,n.text,C,m,r)}_computeTitleHeight(){const t=this.options.title,n=Hn(t.font),r=Or(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,o,a;if(Zs(t,this.left,this.right)&&Zs(n,this.top,this.bottom)){for(a=this.legendHitBoxes,r=0;r<a.length;++r)if(o=a[r],Zs(t,o.left,o.left+o.width)&&Zs(n,o.top,o.top+o.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!KP(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const o=this._hoveredItem,a=qP(o,r);o&&!a&&Jt(n.onLeave,[t,o,this],this),this._hoveredItem=r,r&&!a&&Jt(n.onHover,[t,r,this],this)}else r&&Jt(n.onClick,[t,r,this],this)}}function WP(e,t,n,r,o){const a=GP(r,e,t,n),c=QP(o,r,t.lineHeight);return{itemWidth:a,itemHeight:c}}function GP(e,t,n,r){let o=e.text;return o&&typeof o!="string"&&(o=o.reduce((a,c)=>a.length>c.length?a:c)),t+n.size/2+r.measureText(o).width}function QP(e,t,n){let r=e;return typeof t.text!="string"&&(r=f8(t,n)),r}function f8(e,t){const n=e.text?e.text.length:0;return t*n}function KP(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var YP={id:"legend",_element:Cp,start(e,t,n){const r=e.legend=new Cp({ctx:e.ctx,options:n,chart:e});Ir.configure(e,r,n),Ir.addBox(e,r)},stop(e){Ir.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;Ir.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,o=n.chart;o.isDatasetVisible(r)?(o.hide(r),t.hidden=!0):(o.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:o,color:a,useBorderRadius:c,borderRadius:u}}=e.legend.options;return e._getSortedDatasetMetas().map(g=>{const f=g.controller.getStyle(n?0:void 0),m=Or(f.borderWidth);return{text:t[g.index].label,fillStyle:f.backgroundColor,fontColor:a,hidden:!g.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:f.borderColor,pointStyle:r||f.pointStyle,rotation:f.rotation,textAlign:o||f.textAlign,borderRadius:c&&(u||f.borderRadius),datasetIndex:g.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class h8 extends Os{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const o=mn(r.text)?r.text.length:1;this._padding=Or(r.padding);const a=o*Hn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:r,bottom:o,right:a,options:c}=this,u=c.align;let g=0,f,m,y;return this.isHorizontal()?(m=Nn(u,r,a),y=n+t,f=a-r):(c.position==="left"?(m=r+t,y=Nn(u,o,n),g=Lt*-.5):(m=a-t,y=Nn(u,n,o),g=Lt*.5),f=o-n),{titleX:m,titleY:y,maxWidth:f,rotation:g}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const r=Hn(n.font),a=r.lineHeight/2+this._padding.top,{titleX:c,titleY:u,maxWidth:g,rotation:f}=this._drawArgs(a);Ua(t,n.text,0,0,r,{color:n.color,maxWidth:g,rotation:f,textAlign:Fx(n.align),textBaseline:"middle",translation:[c,u]})}}function XP(e,t){const n=new h8({ctx:e.ctx,options:t,chart:e});Ir.configure(e,n,t),Ir.addBox(e,n),e.titleBlock=n}var ZP={id:"title",_element:h8,start(e,t,n){XP(e,n)},stop(e){const t=e.titleBlock;Ir.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;Ir.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const xa={average(e){if(!e.length)return!1;let t,n,r=new Set,o=0,a=0;for(t=0,n=e.length;t<n;++t){const u=e[t].element;if(u&&u.hasValue()){const g=u.tooltipPosition();r.add(g.x),o+=g.y,++a}}return a===0||r.size===0?!1:{x:[...r].reduce((u,g)=>u+g)/r.size,y:o/a}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,o=Number.POSITIVE_INFINITY,a,c,u;for(a=0,c=e.length;a<c;++a){const g=e[a].element;if(g&&g.hasValue()){const f=g.getCenterPoint(),m=Ru(t,f);m<o&&(o=m,u=g)}}if(u){const g=u.tooltipPosition();n=g.x,r=g.y}return{x:n,y:r}}};function is(e,t){return t&&(mn(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Es(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function JP(e,t){const{element:n,datasetIndex:r,index:o}=t,a=e.getDatasetMeta(r).controller,{label:c,value:u}=a.getLabelAndValue(o);return{chart:e,label:c,parsed:a.getParsed(o),raw:e.data.datasets[r].data[o],formattedValue:u,dataset:a.getDataset(),dataIndex:o,datasetIndex:r,element:n}}function wp(e,t){const n=e.chart.ctx,{body:r,footer:o,title:a}=e,{boxWidth:c,boxHeight:u}=t,g=Hn(t.bodyFont),f=Hn(t.titleFont),m=Hn(t.footerFont),y=a.length,v=o.length,C=r.length,A=Or(t.padding);let D=A.height,_=0,T=r.reduce((k,P)=>k+P.before.length+P.lines.length+P.after.length,0);if(T+=e.beforeBody.length+e.afterBody.length,y&&(D+=y*f.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),T){const k=t.displayColors?Math.max(u,g.lineHeight):g.lineHeight;D+=C*k+(T-C)*g.lineHeight+(T-1)*t.bodySpacing}v&&(D+=t.footerMarginTop+v*m.lineHeight+(v-1)*t.footerSpacing);let j=0;const F=function(k){_=Math.max(_,n.measureText(k).width+j)};return n.save(),n.font=f.string,Nt(e.title,F),n.font=g.string,Nt(e.beforeBody.concat(e.afterBody),F),j=t.displayColors?c+2+t.boxPadding:0,Nt(r,k=>{Nt(k.before,F),Nt(k.lines,F),Nt(k.after,F)}),j=0,n.font=m.string,Nt(e.footer,F),n.restore(),_+=A.width,{width:_,height:D}}function eR(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function tR(e,t,n,r){const{x:o,width:a}=r,c=n.caretSize+n.caretPadding;if(e==="left"&&o+a+c>t.width||e==="right"&&o-a-c<0)return!0}function nR(e,t,n,r){const{x:o,width:a}=n,{width:c,chartArea:{left:u,right:g}}=e;let f="center";return r==="center"?f=o<=(u+g)/2?"left":"right":o<=a/2?f="left":o>=c-a/2&&(f="right"),tR(f,e,t,n)&&(f="center"),f}function Ap(e,t,n){const r=n.yAlign||t.yAlign||eR(e,n);return{xAlign:n.xAlign||t.xAlign||nR(e,t,n,r),yAlign:r}}function rR(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function sR(e,t,n){let{y:r,height:o}=e;return t==="top"?r+=n:t==="bottom"?r-=o+n:r-=o/2,r}function Bp(e,t,n,r){const{caretSize:o,caretPadding:a,cornerRadius:c}=e,{xAlign:u,yAlign:g}=n,f=o+a,{topLeft:m,topRight:y,bottomLeft:v,bottomRight:C}=wi(c);let A=rR(t,u);const D=sR(t,g,f);return g==="center"?u==="left"?A+=f:u==="right"&&(A-=f):u==="left"?A-=Math.max(m,v)+o:u==="right"&&(A+=Math.max(y,C)+o),{x:Un(A,0,r.width-t.width),y:Un(D,0,r.height-t.height)}}function Rl(e,t,n){const r=Or(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function Dp(e){return is([],Es(e))}function oR(e,t,n){return Zo(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function _p(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const g8={beforeTitle:ms,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:ms,beforeBody:ms,beforeLabel:ms,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Pt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:ms,afterBody:ms,beforeFooter:ms,footer:ms,afterFooter:ms};function tr(e,t,n,r){const o=e[t].call(n,r);return typeof o>"u"?g8[t].call(n,r):o}class kp extends Os{static positioners=xa;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),o=r.enabled&&n.options.animation&&r.animations,a=new Zy(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=oR(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,o=tr(r,"beforeTitle",this,t),a=tr(r,"title",this,t),c=tr(r,"afterTitle",this,t);let u=[];return u=is(u,Es(o)),u=is(u,Es(a)),u=is(u,Es(c)),u}getBeforeBody(t,n){return Dp(tr(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,o=[];return Nt(t,a=>{const c={before:[],lines:[],after:[]},u=_p(r,a);is(c.before,Es(tr(u,"beforeLabel",this,a))),is(c.lines,tr(u,"label",this,a)),is(c.after,Es(tr(u,"afterLabel",this,a))),o.push(c)}),o}getAfterBody(t,n){return Dp(tr(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,o=tr(r,"beforeFooter",this,t),a=tr(r,"footer",this,t),c=tr(r,"afterFooter",this,t);let u=[];return u=is(u,Es(o)),u=is(u,Es(a)),u=is(u,Es(c)),u}_createItems(t){const n=this._active,r=this.chart.data,o=[],a=[],c=[];let u=[],g,f;for(g=0,f=n.length;g<f;++g)u.push(JP(this.chart,n[g]));return t.filter&&(u=u.filter((m,y,v)=>t.filter(m,y,v,r))),t.itemSort&&(u=u.sort((m,y)=>t.itemSort(m,y,r))),Nt(u,m=>{const y=_p(t.callbacks,m);o.push(tr(y,"labelColor",this,m)),a.push(tr(y,"labelPointStyle",this,m)),c.push(tr(y,"labelTextColor",this,m))}),this.labelColors=o,this.labelPointStyles=a,this.labelTextColors=c,this.dataPoints=u,u}update(t,n){const r=this.options.setContext(this.getContext()),o=this._active;let a,c=[];if(!o.length)this.opacity!==0&&(a={opacity:0});else{const u=xa[r.position].call(this,o,this._eventPosition);c=this._createItems(r),this.title=this.getTitle(c,r),this.beforeBody=this.getBeforeBody(c,r),this.body=this.getBody(c,r),this.afterBody=this.getAfterBody(c,r),this.footer=this.getFooter(c,r);const g=this._size=wp(this,r),f=Object.assign({},u,g),m=Ap(this.chart,r,f),y=Bp(r,f,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,a={opacity:1,x:y.x,y:y.y,width:g.width,height:g.height,caretX:u.x,caretY:u.y}}this._tooltipItems=c,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,o){const a=this.getCaretPosition(t,r,o);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(t,n,r){const{xAlign:o,yAlign:a}=this,{caretSize:c,cornerRadius:u}=r,{topLeft:g,topRight:f,bottomLeft:m,bottomRight:y}=wi(u),{x:v,y:C}=t,{width:A,height:D}=n;let _,T,j,F,k,P;return a==="center"?(k=C+D/2,o==="left"?(_=v,T=_-c,F=k+c,P=k-c):(_=v+A,T=_+c,F=k-c,P=k+c),j=_):(o==="left"?T=v+Math.max(g,m)+c:o==="right"?T=v+A-Math.max(f,y)-c:T=this.caretX,a==="top"?(F=C,k=F-c,_=T-c,j=T+c):(F=C+D,k=F+c,_=T+c,j=T-c),P=F),{x1:_,x2:T,x3:j,y1:F,y2:k,y3:P}}drawTitle(t,n,r){const o=this.title,a=o.length;let c,u,g;if(a){const f=Ai(r.rtl,this.x,this.width);for(t.x=Rl(this,r.titleAlign,r),n.textAlign=f.textAlign(r.titleAlign),n.textBaseline="middle",c=Hn(r.titleFont),u=r.titleSpacing,n.fillStyle=r.titleColor,n.font=c.string,g=0;g<a;++g)n.fillText(o[g],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+u,g+1===a&&(t.y+=r.titleMarginBottom-u)}}_drawColorBox(t,n,r,o,a){const c=this.labelColors[r],u=this.labelPointStyles[r],{boxHeight:g,boxWidth:f}=a,m=Hn(a.bodyFont),y=Rl(this,"left",a),v=o.x(y),C=g<m.lineHeight?(m.lineHeight-g)/2:0,A=n.y+C;if(a.usePointStyle){const D={radius:Math.min(f,g)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},_=o.leftForLtr(v,f)+f/2,T=A+g/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,Nu(t,D,_,T),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,Nu(t,D,_,T)}else{t.lineWidth=kt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const D=o.leftForLtr(v,f),_=o.leftForLtr(o.xPlus(v,1),f-2),T=wi(c.borderRadius);Object.values(T).some(j=>j!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,E0(t,{x:D,y:A,w:f,h:g,radius:T}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),E0(t,{x:_,y:A+1,w:f-2,h:g-2,radius:T}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(D,A,f,g),t.strokeRect(D,A,f,g),t.fillStyle=c.backgroundColor,t.fillRect(_,A+1,f-2,g-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:o}=this,{bodySpacing:a,bodyAlign:c,displayColors:u,boxHeight:g,boxWidth:f,boxPadding:m}=r,y=Hn(r.bodyFont);let v=y.lineHeight,C=0;const A=Ai(r.rtl,this.x,this.width),D=function(q){n.fillText(q,A.x(t.x+C),t.y+v/2),t.y+=v+a},_=A.textAlign(c);let T,j,F,k,P,$,O;for(n.textAlign=c,n.textBaseline="middle",n.font=y.string,t.x=Rl(this,_,r),n.fillStyle=r.bodyColor,Nt(this.beforeBody,D),C=u&&_!=="right"?c==="center"?f/2+m:f+2+m:0,k=0,$=o.length;k<$;++k){for(T=o[k],j=this.labelTextColors[k],n.fillStyle=j,Nt(T.before,D),F=T.lines,u&&F.length&&(this._drawColorBox(n,t,k,A,r),v=Math.max(y.lineHeight,g)),P=0,O=F.length;P<O;++P)D(F[P]),v=y.lineHeight;Nt(T.after,D)}C=0,v=y.lineHeight,Nt(this.afterBody,D),t.y-=a}drawFooter(t,n,r){const o=this.footer,a=o.length;let c,u;if(a){const g=Ai(r.rtl,this.x,this.width);for(t.x=Rl(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=g.textAlign(r.footerAlign),n.textBaseline="middle",c=Hn(r.footerFont),n.fillStyle=r.footerColor,n.font=c.string,u=0;u<a;++u)n.fillText(o[u],g.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+r.footerSpacing}}drawBackground(t,n,r,o){const{xAlign:a,yAlign:c}=this,{x:u,y:g}=t,{width:f,height:m}=r,{topLeft:y,topRight:v,bottomLeft:C,bottomRight:A}=wi(o.cornerRadius);n.fillStyle=o.backgroundColor,n.strokeStyle=o.borderColor,n.lineWidth=o.borderWidth,n.beginPath(),n.moveTo(u+y,g),c==="top"&&this.drawCaret(t,n,r,o),n.lineTo(u+f-v,g),n.quadraticCurveTo(u+f,g,u+f,g+v),c==="center"&&a==="right"&&this.drawCaret(t,n,r,o),n.lineTo(u+f,g+m-A),n.quadraticCurveTo(u+f,g+m,u+f-A,g+m),c==="bottom"&&this.drawCaret(t,n,r,o),n.lineTo(u+C,g+m),n.quadraticCurveTo(u,g+m,u,g+m-C),c==="center"&&a==="left"&&this.drawCaret(t,n,r,o),n.lineTo(u,g+y),n.quadraticCurveTo(u,g,u+y,g),n.closePath(),n.fill(),o.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,o=r&&r.x,a=r&&r.y;if(o||a){const c=xa[t.position].call(this,this._active,this._eventPosition);if(!c)return;const u=this._size=wp(this,t),g=Object.assign({},c,this._size),f=Ap(n,t,g),m=Bp(t,g,f,n);(o._to!==m.x||a._to!==m.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const o={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const c=Or(n.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&u&&(t.save(),t.globalAlpha=r,this.drawBackground(a,t,o,n),Ky(t,n.textDirection),a.y+=c.top,this.drawTitle(a,t,n),this.drawBody(a,t,n),this.drawFooter(a,t,n),Yy(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,o=t.map(({datasetIndex:u,index:g})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[g],index:g}}),a=!m0(r,o),c=this._positionChanged(o,n);(a||c)&&(this._active=o,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,a=this._active||[],c=this._getActiveElements(t,a,n,r),u=this._positionChanged(c,t),g=n||!m0(c,a)||u;return g&&(this._active=c,(o.enabled||o.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),g}_getActiveElements(t,n,r,o){const a=this.options;if(t.type==="mouseout")return[];if(!o)return n.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,a.mode,a,r);return a.reverse&&c.reverse(),c}_positionChanged(t,n){const{caretX:r,caretY:o,options:a}=this,c=xa[a.position].call(this,t,n);return c!==!1&&(r!==c.x||o!==c.y)}}var iR={id:"tooltip",_element:kp,positioners:xa,afterInit(e,t,n){n&&(e.tooltip=new kp({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:g8},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const aR=(e,t,n,r)=>(typeof t=="string"?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function lR(e,t,n,r){const o=e.indexOf(t);if(o===-1)return aR(e,t,n,r);const a=e.lastIndexOf(t);return o!==a?n:o}const cR=(e,t)=>e===null?null:Un(Math.round(e),0,t);function Sp(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class dR extends ji{static id="category";static defaults={ticks:{callback:Sp}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:o,label:a}of n)r[o]===a&&r.splice(o,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Pt(t))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===t?n:lR(r,t,mt(n,t),this._addedLabels),cR(n,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),n||(o=this.getLabels().length-1)),this.min=r,this.max=o}buildTicks(){const t=this.min,n=this.max,r=this.options.offset,o=[];let a=this.getLabels();a=t===0&&n===a.length-1?a:a.slice(t,n+1),this._valueRange=Math.max(a.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let c=t;c<=n;c++)o.push({value:c});return o}getLabelForValue(t){return Sp.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function uR(e,t){const n=[],{bounds:o,step:a,min:c,max:u,precision:g,count:f,maxTicks:m,maxDigits:y,includeBounds:v}=e,C=a||1,A=m-1,{min:D,max:_}=t,T=!Pt(c),j=!Pt(u),F=!Pt(f),k=(_-D)/(y+1);let P=Fg((_-D)/A/C)*C,$,O,q,S;if(P<1e-14&&!T&&!j)return[{value:D},{value:_}];S=Math.ceil(_/P)-Math.floor(D/P),S>A&&(P=Fg(S*P/A/C)*C),Pt(g)||($=Math.pow(10,g),P=Math.ceil(P*$)/$),o==="ticks"?(O=Math.floor(D/P)*P,q=Math.ceil(_/P)*P):(O=D,q=_),T&&j&&a&&wT((u-c)/a,P/1e3)?(S=Math.round(Math.min((u-c)/P,m)),P=(u-c)/S,O=c,q=u):F?(O=T?c:O,q=j?u:q,S=f-1,P=(q-O)/S):(S=(q-O)/P,va(S,Math.round(S),P/1e3)?S=Math.round(S):S=Math.ceil(S));const U=Math.max(Tg(P),Tg(O));$=Math.pow(10,Pt(g)?U:g),O=Math.round(O*$)/$,q=Math.round(q*$)/$;let G=0;for(T&&(v&&O!==c?(n.push({value:c}),O<c&&G++,va(Math.round((O+G*P)*$)/$,c,Fp(c,k,e))&&G++):O<c&&G++);G<S;++G){const z=Math.round((O+G*P)*$)/$;if(j&&z>u)break;n.push({value:z})}return j&&v&&q!==u?n.length&&va(n[n.length-1].value,u,Fp(u,k,e))?n[n.length-1].value=u:n.push({value:u}):(!j||q===u)&&n.push({value:q}),n}function Fp(e,t,{horizontal:n,minRotation:r}){const o=ks(r),a=(n?Math.sin(o):Math.cos(o))||.001,c=.75*t*(""+e).length;return Math.min(t/a,c)}class xR extends ji{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Pt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:o,max:a}=this;const c=g=>o=n?o:g,u=g=>a=r?a:g;if(t){const g=xs(o),f=xs(a);g<0&&f<0?u(0):g>0&&f>0&&c(0)}if(o===a){let g=a===0?1:Math.abs(a*.05);u(a+g),t||c(o-g)}this.min=o,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=t,o;return r?(o=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),n=n||11),n&&(o=Math.min(n,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const o={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},a=this._range||this,c=uR(o,a);return t.bounds==="ticks"&&AT(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const o=(r-n)/Math.max(t.length-1,1)/2;n-=o,r+=o}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(t){return Ix(t,this.chart.options.locale,this.options.ticks.format)}}class fR extends xR{static id="linear";static defaults={ticks:{callback:Uy.formatters.numeric}};determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Rr(t)?t:0,this.max=Rr(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,r=ks(this.options.ticks.minRotation),o=(t?Math.sin(r):Math.cos(r))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,a.lineHeight/o))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const G0={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},or=Object.keys(G0);function Tp(e,t){return e-t}function Ip(e,t){if(Pt(t))return null;const n=e._adapter,{parser:r,round:o,isoWeekday:a}=e._parseOpts;let c=t;return typeof r=="function"&&(c=r(c)),Rr(c)||(c=typeof r=="string"?n.parse(c,r):n.parse(c)),c===null?null:(o&&(c=o==="week"&&(La(a)||a===!0)?n.startOf(c,"isoWeek",a):n.startOf(c,o)),+c)}function Mp(e,t,n,r){const o=or.length;for(let a=or.indexOf(e);a<o-1;++a){const c=G0[or[a]],u=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((n-t)/(u*c.size))<=r)return or[a]}return or[o-1]}function hR(e,t,n,r,o){for(let a=or.length-1;a>=or.indexOf(n);a--){const c=or[a];if(G0[c].common&&e._adapter.diff(o,r,c)>=t-1)return c}return or[n?or.indexOf(n):0]}function gR(e){for(let t=or.indexOf(e)+1,n=or.length;t<n;++t)if(G0[or[t]].common)return or[t]}function Pp(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:o}=Sx(n,t),a=n[r]>=t?n[r]:n[o];e[a]=!0}}function pR(e,t,n,r){const o=e._adapter,a=+o.startOf(t[0].value,r),c=t[t.length-1].value;let u,g;for(u=a;u<=c;u=+o.add(u,1,r))g=n[u],g>=0&&(t[g].major=!0);return t}function Rp(e,t,n){const r=[],o={},a=t.length;let c,u;for(c=0;c<a;++c)u=t[c],o[u]=c,r.push({value:u,major:!1});return a===0||!n?r:pR(e,r,o,n)}class Op extends ji{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),o=this._adapter=new xM._date(t.adapters.date);o.init(n),Ea(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:Ip(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:o,max:a,minDefined:c,maxDefined:u}=this.getUserBounds();function g(f){!c&&!isNaN(f.min)&&(o=Math.min(o,f.min)),!u&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!c||!u)&&(g(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&g(this.getMinMax(!1))),o=Rr(o)&&!isNaN(o)?o:+n.startOf(Date.now(),r),a=Rr(a)&&!isNaN(a)?a:+n.endOf(Date.now(),r)+1,this.min=Math.min(o,a-1),this.max=Math.max(o+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,o=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const a=this.min,c=this.max,u=ST(o,a,c);return this._unit=n.unit||(r.autoSkip?Mp(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):hR(this,u.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:gR(this._unit),this.initOffsets(o),t.reverse&&u.reverse(),Rp(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,o,a;this.options.offset&&t.length&&(o=this.getDecimalForValue(t[0]),t.length===1?n=1-o:n=(this.getDecimalForValue(t[1])-o)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?r=a:r=(a-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;n=Un(n,0,c),r=Un(r,0,c),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,o=this.options,a=o.time,c=a.unit||Mp(a.minUnit,n,r,this._getLabelCapacity(n)),u=mt(o.ticks.stepSize,1),g=c==="week"?a.isoWeekday:!1,f=La(g)||g===!0,m={};let y=n,v,C;if(f&&(y=+t.startOf(y,"isoWeek",g)),y=+t.startOf(y,f?"day":c),t.diff(r,n,c)>1e5*u)throw new Error(n+" and "+r+" are too far apart with stepSize of "+u+" "+c);const A=o.ticks.source==="data"&&this.getDataTimestamps();for(v=y,C=0;v<r;v=+t.add(v,u,c),C++)Pp(m,v,A);return(v===r||o.bounds==="ticks"||C===1)&&Pp(m,v,A),Object.keys(m).sort(Tp).map(D=>+D)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const o=this.options.time.displayFormats,a=this._unit,c=n||o[a];return this._adapter.format(t,c)}_tickFormatFunction(t,n,r,o){const a=this.options,c=a.ticks.callback;if(c)return Jt(c,[t,n,r],this);const u=a.time.displayFormats,g=this._unit,f=this._majorUnit,m=g&&u[g],y=f&&u[f],v=r[n],C=f&&y&&v&&v.major;return this._adapter.format(t,o||(C?y:m))}generateTickLabels(t){let n,r,o;for(n=0,r=t.length;n<r;++n)o=t[n],o.label=this._tickFormatFunction(o.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,o=ks(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(o),c=Math.sin(o),u=this._resolveTickFontOptions(0).size;return{w:r*a+u*c,h:r*c+u*a}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,o=r[n.unit]||r.millisecond,a=this._tickFormatFunction(t,0,Rp(this,[t],this._majorUnit),o),c=this._getLabelSize(a),u=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(n=0,r=o.length;n<r;++n)t=t.concat(o[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const o=this.getLabels();for(n=0,r=o.length;n<r;++n)t.push(Ip(this,o[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Ly(t.sort(Tp))}}function Ol(e,t,n){let r=0,o=e.length-1,a,c,u,g;n?(t>=e[r].pos&&t<=e[o].pos&&({lo:r,hi:o}=Po(e,"pos",t)),{pos:a,time:u}=e[r],{pos:c,time:g}=e[o]):(t>=e[r].time&&t<=e[o].time&&({lo:r,hi:o}=Po(e,"time",t)),{time:a,pos:u}=e[r],{time:c,pos:g}=e[o]);const f=c-a;return f?u+(g-u)*(t-a)/f:u}class Mte extends Op{static id="timeseries";static defaults=Op.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Ol(n,this.min),this._tableRange=Ol(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,o=[],a=[];let c,u,g,f,m;for(c=0,u=t.length;c<u;++c)f=t[c],f>=n&&f<=r&&o.push(f);if(o.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(c=0,u=o.length;c<u;++c)m=o[c+1],g=o[c-1],f=o[c],Math.round((m+g)/2)!==f&&a.push({time:f,pos:c/(u-1)});return a}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((o,a)=>o-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(Ol(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return Ol(this._table,r*this._tableRange+this._minPos,!0)}}const p8={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},mR={ariaLabel:{type:String},ariaDescribedby:{type:String}},yR={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...p8,...mR},bR=W2[0]==="2"?(e,t)=>Object.assign(e,{attrs:t}):(e,t)=>Object.assign(e,t);function xi(e){return Wa(e)?wt(e):e}function ER(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;return Wa(t)?new Proxy(e,{}):e}function vR(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function m8(e,t){e.labels=t}function y8(e,t,n){const r=[];e.datasets=t.map(o=>{const a=e.datasets.find(c=>c[n]===o[n]);return!a||!o.data||r.includes(a)?{...o}:(r.push(a),Object.assign(a,o),a)})}function CR(e,t){const n={labels:[],datasets:[]};return m8(n,e.labels),y8(n,e.datasets,t),n}const wR=Nr({props:yR,setup(e,t){let{expose:n,slots:r}=t;const o=Be(null),a=Zu(null);n({chart:a});const c=()=>{if(!o.value)return;const{type:f,data:m,options:y,plugins:v,datasetIdKey:C}=e,A=CR(m,C),D=ER(A,m);a.value=new W0(o.value,{type:f,data:D,options:{...y},plugins:v})},u=()=>{const f=wt(a.value);f&&(e.destroyDelay>0?setTimeout(()=>{f.destroy(),a.value=null},e.destroyDelay):(f.destroy(),a.value=null))},g=f=>{f.update(e.updateMode)};return Kn(c),zo(u),Fr([()=>e.options,()=>e.data],(f,m)=>{let[y,v]=f,[C,A]=m;const D=wt(a.value);if(!D)return;let _=!1;if(y){const T=xi(y),j=xi(C);T&&T!==j&&(vR(D,T),_=!0)}if(v){const T=xi(v.labels),j=xi(A.labels),F=xi(v.datasets),k=xi(A.datasets);T!==j&&(m8(D.config.data,T),_=!0),F&&F!==k&&(y8(D.config.data,F,e.datasetIdKey),_=!0)}_&&kr(()=>{g(D)})},{deep:!0}),()=>ir("canvas",{role:"img","aria-label":e.ariaLabel,"aria-describedby":e.ariaDescribedby,ref:o},[ir("p",{},[r.default?r.default():""])])}});function Hx(e,t){return W0.register(t),Nr({props:p8,setup(n,r){let{expose:o}=r;const a=Zu(null),c=u=>{a.value=u?.chart};return o({chart:a}),()=>ir(wR,bR({ref:c},{type:e,...n}))}})}const AR=Hx("bar",lM),BR=Hx("doughnut",dM),DR=Hx("line",uM),_R={class:"space-y-6"},kR={class:"flex justify-between items-center"},SR={class:"text-sm text-gray-500"},FR={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},TR={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},IR={class:"flex items-center justify-between mb-4"},MR={class:"text-xs font-medium text-green-600 bg-green-50 px-2 py-1 rounded-full"},PR={class:"text-3xl font-bold text-gray-900"},RR={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},OR={class:"text-3xl font-bold text-gray-900"},NR={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},LR={class:"text-3xl font-bold text-gray-900"},$R={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},jR={class:"text-3xl font-bold text-gray-900"},UR={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},HR={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-100"},zR={class:"h-64"},VR={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-100"},qR={class:"h-64 flex justify-center"},WR={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},GR={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-100"},QR={class:"h-64"},KR={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-100"},YR={class:"space-y-4"},XR={class:"pt-4 border-t border-gray-100"},ZR={class:"flex gap-3"},JR={__name:"ITDashboard",props:{stats:Object,activeUsers:Number,moduleStats:Object,hourlyStats:Array,topUsers:Array},setup(e){W0.register(dR,fR,LP,NP,VP,_P,ZP,iR,YP);const t=e,n=We(()=>({labels:Array.from({length:24},(g,f)=>`${f}:00`),datasets:[{label:"Activities",data:t.hourlyStats,borderColor:"#3B82F6",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4,fill:!0}]})),r=We(()=>({labels:Object.keys(t.moduleStats),datasets:[{data:Object.values(t.moduleStats),backgroundColor:["#3B82F6","#F59E0B","#10B981","#EF4444","#8B5CF6","#EC4899","#6B7280"]}]})),o=We(()=>({labels:t.topUsers.map(g=>g.name),datasets:[{label:"Total Actions",data:t.topUsers.map(g=>g.count),backgroundColor:"#8B5CF6",borderRadius:6}]})),a={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,grid:{display:!0,borderDash:[2,2]}},x:{grid:{display:!1}}}},c={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right"}}},u={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0},x:{grid:{display:!1}}}};return(g,f)=>(W(),Tt(Yn,{title:"IT Admin Dashboard"},{default:yt(()=>[i("div",_R,[i("div",kR,[f[0]||(f[0]=i("div",null,[i("h2",{class:"text-2xl font-bold text-gray-900"},"IT Admin Dashboard"),i("p",{class:"text-sm text-gray-600"},"System Monitoring & Statistics")],-1)),i("div",SR," Last updated: "+R(new Date().toLocaleTimeString()),1)]),i("div",FR,[i("div",TR,[i("div",IR,[f[1]||(f[1]=i("div",{class:"bg-blue-100 p-3 rounded-lg"},[i("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})])],-1)),i("span",MR,"+"+R(e.stats.total_today)+" Today",1)]),i("h3",PR,R(e.stats.total_today),1),f[2]||(f[2]=i("p",{class:"text-sm text-gray-500 mt-1"},"Total Activities Today",-1))]),i("div",RR,[f[3]||(f[3]=i("div",{class:"flex items-center justify-between mb-4"},[i("div",{class:"bg-purple-100 p-3 rounded-lg"},[i("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})])]),i("span",{class:"text-xs font-medium text-purple-600 bg-purple-50 px-2 py-1 rounded-full"},"Active Now")],-1)),i("h3",OR,R(e.activeUsers),1),f[4]||(f[4]=i("p",{class:"text-sm text-gray-500 mt-1"},"Unique Users Today",-1))]),i("div",NR,[f[5]||(f[5]=i("div",{class:"flex items-center justify-between mb-4"},[i("div",{class:"bg-orange-100 p-3 rounded-lg"},[i("svg",{class:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])]),i("span",{class:"text-xs font-medium text-gray-600 bg-gray-50 px-2 py-1 rounded-full"},"Weekly")],-1)),i("h3",LR,R(e.stats.total_week),1),f[6]||(f[6]=i("p",{class:"text-sm text-gray-500 mt-1"},"Activities This Week",-1))]),i("div",$R,[f[7]||(f[7]=i("div",{class:"flex items-center justify-between mb-4"},[i("div",{class:"bg-green-100 p-3 rounded-lg"},[i("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])]),i("span",{class:"text-xs font-medium text-gray-600 bg-gray-50 px-2 py-1 rounded-full"},"Monthly")],-1)),i("h3",jR,R(e.stats.total_month),1),f[8]||(f[8]=i("p",{class:"text-sm text-gray-500 mt-1"},"Activities This Month",-1))])]),i("div",UR,[i("div",HR,[f[9]||(f[9]=i("h3",{class:"text-lg font-bold text-gray-900 mb-4"},"Hourly Activity (Last 24h)",-1)),i("div",zR,[_t(Ge(DR),{data:n.value,options:a},null,8,["data"])])]),i("div",VR,[f[10]||(f[10]=i("h3",{class:"text-lg font-bold text-gray-900 mb-4"},"System Usage by Module",-1)),i("div",qR,[_t(Ge(BR),{data:r.value,options:c},null,8,["data"])])])]),i("div",WR,[i("div",GR,[f[11]||(f[11]=i("h3",{class:"text-lg font-bold text-gray-900 mb-4"},"Top 5 Most Active Users",-1)),i("div",QR,[_t(Ge(AR),{data:o.value,options:u},null,8,["data"])])]),i("div",KR,[f[18]||(f[18]=i("h3",{class:"text-lg font-bold text-gray-900 mb-4"},"System Health & Actions",-1)),i("div",YR,[f[16]||(f[16]=i("div",{class:"flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-100"},[i("div",{class:"flex items-center gap-3"},[i("div",{class:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),i("span",{class:"font-medium text-green-900"},"Database Connection")]),i("span",{class:"text-sm text-green-700"},"Healthy")],-1)),f[17]||(f[17]=i("div",{class:"flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-100"},[i("div",{class:"flex items-center gap-3"},[i("div",{class:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),i("span",{class:"font-medium text-green-900"},"Queue Worker")]),i("span",{class:"text-sm text-green-700"},"Running")],-1)),i("div",XR,[f[15]||(f[15]=i("h4",{class:"text-sm font-semibold text-gray-700 mb-3"},"Quick Links",-1)),i("div",ZR,[_t(Ge(An),{href:g.route("activity-log"),class:"text-sm text-blue-600 hover:text-blue-800 hover:underline"},{default:yt(()=>[...f[12]||(f[12]=[Qe("View Full Logs",-1)])]),_:1},8,["href"]),f[14]||(f[14]=i("span",{class:"text-gray-300"},"|",-1)),_t(Ge(An),{href:g.route("master-data.index"),class:"text-sm text-blue-600 hover:text-blue-800 hover:underline"},{default:yt(()=>[...f[13]||(f[13]=[Qe("Manage Master Data",-1)])]),_:1},8,["href"])])])])])])])]),_:1}))}},eO=Object.freeze(Object.defineProperty({__proto__:null,default:JR},Symbol.toStringTag,{value:"Module"})),tO={class:"min-h-screen transition-colors duration-300"},nO={class:"min-h-screen bg-gray-50 p-6 relative"},rO={key:0,class:"fixed inset-0 bg-white/90 backdrop-blur-sm z-50 flex flex-col items-center justify-center"},sO={class:"mb-6"},oO={class:"flex justify-between items-center"},iO={class:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6"},aO={class:"border-b border-gray-200"},lO={class:"-mb-px flex space-x-8 px-6"},cO=["onClick"],dO={class:"p-6"},uO={class:"flex flex-wrap gap-3 mb-6"},xO={class:"flex flex-wrap gap-4 mb-6"},fO={class:"flex-1 min-w-64"},hO=["placeholder"],gO={class:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-200"},pO={class:"overflow-x-auto"},mO={class:"min-w-full divide-y divide-gray-200"},yO={class:"bg-white divide-y divide-gray-200"},bO={class:"px-6 py-4 whitespace-nowrap"},EO={class:"text-sm font-mono text-gray-900"},vO={class:"px-6 py-4"},CO={class:"text-sm text-gray-900"},wO={class:"px-6 py-4 whitespace-nowrap"},AO={class:"text-sm text-gray-900"},BO={class:"px-6 py-4 whitespace-nowrap"},DO={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800"},_O={class:"px-6 py-4 whitespace-nowrap"},kO={class:"px-6 py-4 whitespace-nowrap"},SO={class:"px-6 py-4 whitespace-nowrap"},FO={class:"text-sm text-gray-900"},TO={class:"px-6 py-4 whitespace-nowrap"},IO={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},MO=["onClick"],PO=["onClick"],RO={class:"p-4 border-t"},OO={class:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-200"},NO={class:"overflow-x-auto"},LO={class:"min-w-full divide-y divide-gray-200"},$O={class:"bg-white divide-y divide-gray-200"},jO={class:"px-6 py-4 whitespace-nowrap"},UO={class:"text-sm font-mono text-gray-900"},HO={class:"px-6 py-4"},zO={class:"text-sm font-medium text-gray-900"},VO={class:"px-6 py-4"},qO={class:"text-sm text-gray-900"},WO={class:"px-6 py-4 whitespace-nowrap"},GO={class:"text-sm text-gray-900"},QO={class:"px-6 py-4 whitespace-nowrap"},KO={class:"text-sm text-gray-900"},YO={class:"px-6 py-4 whitespace-nowrap"},XO={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},ZO=["onClick"],JO=["onClick"],eN={class:"p-4 border-t"},tN={class:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-200"},nN={class:"overflow-x-auto"},rN={class:"min-w-full divide-y divide-gray-200"},sN={class:"bg-white divide-y divide-gray-200"},oN={class:"px-6 py-4 whitespace-nowrap"},iN={class:"text-sm font-mono text-gray-900"},aN={class:"px-6 py-4 whitespace-nowrap"},lN={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"},cN={class:"px-6 py-4 whitespace-nowrap"},dN={class:"px-6 py-4 whitespace-nowrap"},uN={class:"px-6 py-4 whitespace-nowrap"},xN={key:0},fN=["onClick"],hN={key:1,class:"text-sm text-gray-400"},gN={class:"px-6 py-4 whitespace-nowrap"},pN=["onClick"],mN={key:1,class:"text-gray-400 text-xs"},yN={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},bN=["onClick"],EN=["onClick"],vN={class:"p-4 border-t"},CN={class:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-200"},wN={class:"overflow-x-auto"},AN={class:"min-w-full divide-y divide-gray-200"},BN={class:"bg-white divide-y divide-gray-200"},DN={class:"px-6 py-4 whitespace-nowrap"},_N={class:"text-sm font-medium text-gray-900"},kN={class:"px-6 py-4 whitespace-nowrap"},SN={class:"text-sm text-gray-900"},FN={class:"px-6 py-4 whitespace-nowrap"},TN={class:"px-6 py-4 whitespace-nowrap"},IN={class:"text-sm text-gray-900"},MN={class:"px-6 py-4 whitespace-nowrap"},PN={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},RN=["onClick"],ON=["onClick"],NN={class:"p-4 border-t"},LN={key:1,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},$N={class:"bg-white rounded-lg p-6 w-full max-w-lg border border-gray-200 shadow-2xl"},jN={class:"flex justify-between items-center mb-6"},UN={class:"text-xl font-semibold text-gray-900"},HN={class:"flex justify-center mb-6 bg-gray-50 p-6 rounded-lg"},zN=["src"],VN={class:"bg-blue-50 rounded-lg p-4 mb-6 space-y-2"},qN={class:"flex justify-between"},WN={class:"text-sm font-bold text-gray-900"},GN={class:"flex justify-between"},QN={class:"text-sm text-gray-900"},KN={class:"flex justify-between"},YN={class:"text-sm text-gray-900"},XN={class:"flex justify-between"},ZN={class:"text-sm text-gray-900"},JN={class:"flex justify-between"},eL={class:"text-sm text-gray-900"},tL={key:2,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},nL={class:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto border border-gray-200"},rL={class:"flex justify-between items-center mb-6"},sL={class:"text-xl font-semibold text-gray-900"},oL={key:0,class:"space-y-4"},iL={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},aL={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},lL={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},cL={class:"flex gap-6"},dL={class:"flex items-center"},uL={class:"flex items-center"},xL={key:1,class:"space-y-4"},fL={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},hL={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},gL={key:2,class:"space-y-4"},pL={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},mL={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},yL={key:3,class:"space-y-4"},bL={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},EL={key:0},vL={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},CL=["value"],wL={class:"flex justify-end gap-3 mt-6 pt-4 border-t border-gray-200"},AL={class:"flex items-center gap-2"},BL={key:0,class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},DL={key:1,class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},_L={key:4,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},kL={class:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto border border-gray-200 shadow-2xl"},SL={class:"flex justify-between items-center mb-6"},FL={class:"text-xl font-semibold text-gray-900"},TL={key:0,class:"text-center py-8 text-gray-500"},IL={key:1,class:"text-center py-8 text-gray-500"},ML={key:2,class:"overflow-x-auto"},PL={class:"min-w-full divide-y divide-gray-200"},RL={class:"bg-white divide-y divide-gray-200"},OL={class:"px-4 py-2 whitespace-nowrap text-sm font-medium text-gray-900"},NL={class:"px-4 py-2 text-sm text-gray-900"},LL={class:"px-4 py-2 whitespace-nowrap text-sm text-gray-900"},$L={class:"px-4 py-2 whitespace-nowrap text-sm text-gray-900"},jL={class:"px-4 py-2 whitespace-nowrap text-sm text-gray-900"},UL={class:"px-4 py-2 whitespace-nowrap text-sm text-gray-900"},HL={class:"px-4 py-2 whitespace-nowrap text-sm"},zL={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800"},VL=Nr({__name:"MasterData",props:{skuData:{},supplierData:{},binData:{},userData:{},supplierList:{},zoneList:{},roleList:{},activeTab:{},search:{},status:{}},setup(e){const t=e;co(),Be(!1);const n=Be(t.activeTab||"sku"),r=Be(t.search||""),o=Be(t.status||""),a=Be(!1),c=Be(null),u=Be(!1),g=Be(null),f=Be(!1),m=Be(!1),y=Be(null),v=Be({}),C=Be(null),A=Be(null),D=[{id:"sku",label:"SKU (Material Master)"},{id:"supplier",label:"Supplier"},{id:"bin",label:"Bin Location"},{id:"user",label:"User & Role"}],_=N=>{if(!N.links||N.links.length<=3)return ir("div");const B=N.links.map((M,ue)=>{const _e={"mr-1 mb-1 px-4 py-3 text-sm leading-4 border rounded hover:bg-white focus:border-blue-500 focus:text-blue-500":!0,"bg-blue-500 text-white":M.active,"text-gray-400":M.url===null};return M.url===null?ir("div",{key:ue,class:_e,innerHTML:M.label}):ir(An,{key:ue,class:_e,href:M.url,innerHTML:M.label,preserveState:!0,preserveScroll:!0})});return ir("div",{class:"flex flex-wrap -mb-1"},B)},T=We(()=>G.value.data.filter(N=>{const B=!r.value||N.code.toLowerCase().includes(r.value.toLowerCase())||N.name.toLowerCase().includes(r.value.toLowerCase()),M=!o.value||N.status===o.value;return B&&M})),j=We(()=>z.value.data.filter(N=>{const B=!r.value||N.code.toLowerCase().includes(r.value.toLowerCase())||N.name.toLowerCase().includes(r.value.toLowerCase()),M=!o.value||N.status===o.value;return B&&M})),F=We(()=>ee.value.data.filter(N=>{const B=!r.value||N.code.toLowerCase().includes(r.value.toLowerCase())||N.zone.toLowerCase().includes(r.value.toLowerCase()),M=!o.value||N.status===o.value;return B&&M})),k=We(()=>se.value.data.filter(N=>{const B=!r.value||N.jabatan.toLowerCase().includes(r.value.toLowerCase())||N.fullName.toLowerCase().includes(r.value.toLowerCase()),M=!o.value||N.status===o.value;return B&&M})),P=async(N,B)=>{g.value=null,u.value=!0;try{const M=route("bin.stocks.details",{binId:N}),ue=await fetch(M);if(!ue.ok){X("error",`Gagal memuat detail Bin ${B}`),g.value={bin_code:B,details:[]};return}const _e=await ue.json();g.value=_e}catch(M){console.error("Fetch Bin Details error:",M),X("error","Error saat memuat detail material."),g.value={bin_code:B,details:[]}}},$=()=>{u.value=!1,g.value=null},O=()=>D.find(N=>N.id===n.value)?.label||"",q=N=>N==="Active"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",S=N=>({Normal:"bg-blue-100 text-blue-800",Quarantine:"bg-yellow-100 text-yellow-800",Reject:"bg-red-100 text-red-800",Staging:"bg-purple-100 text-purple-800",Production:"bg-green-100 text-green-800"})[N]||"bg-gray-100 text-gray-800",U=N=>({Admin:"bg-purple-100 text-purple-800",QC:"bg-blue-100 text-blue-800",Receiving:"bg-green-100 text-green-800",Warehouse:"bg-yellow-100 text-yellow-800",Production:"bg-orange-100 text-orange-800",Supervisor:"bg-red-100 text-red-800"})[N]||"bg-gray-100 text-gray-800",G=We(()=>t.skuData),z=We(()=>t.supplierData),ee=We(()=>t.binData),se=We(()=>t.userData),J=Be(t.zoneList||[]),be=Be(t.roleList||[]),he=()=>{const N={sku:{code:"",name:"",uom:"",category:"",qcRequired:!1,expiry:!1,supplierDefault:"",abcClass:"",status:"Active"},supplier:{code:"",name:"",address:"",contactPerson:"",phone:"",status:"Active"},bin:{code:"",zone:"",capacity:0,type:"",status:"Active"},user:{jabatan:"",password:"",fullName:"",role:"",department:"",status:"Active"}};v.value={...N[n.value]}},we=()=>{f.value=!1,m.value=!1,y.value=null,he()},Oe=N=>{if(y.value=N,n.value==="bin"){const B=J.value.find(M=>M.name===N.zone);v.value={...N,zone:B?.id||""}}else v.value={...N};m.value=!0},Re=async()=>{try{if(n.value!=="user"&&!v.value.code){X("error","Kode wajib diisi");return}if(n.value==="user"){if(!v.value.fullName){X("error","Nama lengkap wajib diisi");return}if(!m.value&&!v.value.password){X("error","Password wajib diisi");return}if(!v.value.role){X("error","Role wajib dipilih");return}if(!v.value.department){X("error","Department wajib dipilih");return}}if(n.value==="bin"){if(!v.value.zone){X("error","Zone wajib dipilih");return}if(!v.value.type){X("error","Type wajib dipilih");return}}const N=m.value?`/master-data/${n.value}/${y.value.id}`:`/master-data/${n.value}`,B=m.value?"PUT":"POST";console.log("Submit data:",{endpoint:N,method:B,data:v.value});const M=await fetch(N,{method:B,headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||"",Accept:"application/json"},body:JSON.stringify(v.value)}),ue=await M.json();if(console.log("Response:",ue),!M.ok){X("error",ue.message||"Terjadi kesalahan");return}X("success",ue.message||"Data berhasil disimpan"),we(),setTimeout(()=>window.location.reload(),1500)}catch(N){console.error("Save error:",N),X("error","Error: "+N.message)}},ge=async N=>{try{const B=await fetch(`/master-data/bin/${N}/qr-code/preview`,{method:"GET",headers:{Accept:"application/json"}}),M=await B.json();if(!B.ok){X("error",M.message||"Gagal memuat QR Code");return}c.value=M.data,a.value=!0}catch(B){console.error("Preview error:",B),X("error","Error saat memuat QR Code")}},ve=async()=>{if(c.value)try{const N=c.value.bin_code,B=binData.value.find(Z=>Z.code===N);if(!B){X("error","Bin tidak ditemukan");return}const M=await fetch(`/master-data/bin/${B.id}/qr-code/download`);if(!M.ok){X("error","Gagal mengunduh QR Code");return}const ue=await M.blob(),_e=window.URL.createObjectURL(ue),te=document.createElement("a");te.href=_e,te.download=`QR_${N}.png`,document.body.appendChild(te),te.click(),window.URL.revokeObjectURL(_e),document.body.removeChild(te),X("success","QR Code berhasil diunduh")}catch(N){console.error("Download error:",N),X("error","Error saat mengunduh QR Code")}},re=()=>{if(!c.value)return;const N=window.open("","_blank");if(!N){X("error","Gagal membuka window print. Mohon izinkan popup.");return}const B=`
    <!DOCTYPE html>
    <html>
    <head>
      <title>Print QR Code - ${c.value.bin_code}</title>
      <style>
        body {
          margin: 0;
          padding: 20px;
          font-family: Arial, sans-serif;
          display: flex;
          justify-content: center;
          align-items: center;
          min-height: 100vh;
        }
        .print-container {
          text-align: center;
          max-width: 400px;
        }
        .qr-image {
          width: 300px;
          height: 300px;
          margin: 20px auto;
        }
        .info {
          margin: 10px 0;
          font-size: 16px;
          font-weight: bold;
        }
        @media print {
          body {
            padding: 0;
          }
        }
      </style>
    </head>
    <body>
      <div class="print-container">
        <img src="${c.value.image}" alt="QR Code" class="qr-image">
        <div class="info">Bin Name: ${c.value.bin_name}</div>
        <div class="info">Zone: ${c.value.zone_name}</div>
      </div>
      <script>
        window.onload = function() {
          window.print();
        }
      <\/script>
    </body>
    </html>
  `;N.document.write(B),N.document.close()},ye=async()=>{try{X("success","Memuat semua QR Codes...");const N=await fetch("/master-data/bins",{method:"GET",headers:{Accept:"application/json"}});if(!N.ok){X("error","Gagal memuat bin locations");return}const B=await N.json();if(!B||B.length===0){X("error","Tidak ada bin location untuk di-print");return}X("success",`Memuat ${B.length} QR Codes...`);const M=B.map(ce=>fetch(`/master-data/bin/${ce.id}/qr-code/preview`).then(de=>de.ok?de.json():(console.error(`HTTP error for bin ${ce.code}: ${de.status}`),null)).then(de=>!de||!de.success?(console.error(`Invalid data for bin ${ce.code}`),null):de.data).catch(de=>(console.error(`Error fetching QR for bin ${ce.code}:`,de),null))),_e=(await Promise.all(M)).filter(ce=>ce!==null);if(_e.length===0){X("error","Gagal memuat QR Codes");return}const te=window.open("","_blank");if(!te){X("error","Gagal membuka window print. Mohon izinkan popup.");return}let Z="";for(let ce=0;ce<_e.length;ce+=4){const de=_e.slice(ce,ce+4);Z+=`
        <div class="page">
          <div class="qr-container">
            ${de.map(Se=>`
              <div class="qr-item">
                <img src="${Se.image}" alt="QR Code" class="qr-image">
                <div class="info">Bin Name: ${Se.bin_name}</div>
                <div class="info">Zone: ${Se.zone_name}</div>
              </div>
            `).join("")}
          </div>
        </div>
      `}const fe=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Print All QR Codes</title>
        <style>
          * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }
          
          body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
          }
          
          .page {
            width: 210mm;
            height: 297mm;
            padding: 12mm;
            page-break-after: always;
            display: flex;
            align-items: center;
            justify-content: center;
            box-sizing: border-box;
          }
          
          .page:last-child {
            page-break-after: auto;
          }
          
          .qr-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            grid-template-rows: repeat(2, 1fr);
            gap: 8mm;
            width: 100%;
            height: 100%;
          }
          
          .qr-item {
            text-align: center;
            padding: 3mm;
            border: 1px solid #ddd;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
          }
          
          .qr-image {
            width: 70mm;
            height: 70mm;
            margin-bottom: 3mm;
          }
          
          .info {
            font-size: 11px;
            font-weight: bold;
            margin: 1mm 0;
            line-height: 1.3;
          }
          
          @media print {
            body {
              margin: 0;
              padding: 0;
            }
            
            @page {
              size: A4 portrait;
              margin: 0;
            }
            
            .page {
              margin: 0;
              padding: 10mm;
            }
          }
        </style>
      </head>
      <body>
        ${Z}
        <script>
          window.onload = function() {
            setTimeout(() => {
              window.print();
            }, 500);
          }
        <\/script>
      </body>
      </html>
    `;te.document.write(fe),te.document.close()}catch(N){console.error("Print All QR Codes error:",N),X("error","Error saat print QR Codes")}},Ke=()=>{a.value=!1,c.value=null},le=async N=>{if(confirm("Apakah Anda yakin ingin menghapus data ini?"))try{const B=await fetch(`/master-data/${n.value}/${N}`,{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||"",Accept:"application/json"}}),M=await B.json();if(!B.ok){X("error",M.message||"Terjadi kesalahan");return}X("success",M.message),setTimeout(()=>window.location.reload(),1e3)}catch(B){console.error("Delete error:",B),X("error","Error: "+B.message)}},ie=()=>{C.value?.click()},ae=Be(!1),Ne=N=>{const B=N.target.files?.[0];if(B){ae.value=!0;const M=new FormData;M.append("file",B),bt.post("/master-data/import-stock",M,{forceFormData:!0,onSuccess:()=>{X("success",`File ${B.name} berhasil diimport!`),setTimeout(()=>window.location.reload(),1e3)},onError:ue=>{console.error("Import error:",ue),X("error","Gagal mengimport file. Cek format data.")},onFinish:()=>{ae.value=!1,C.value&&(C.value.value="")}})}},Me=()=>{const N={sku:T.value,supplier:j.value,bin:F.value,user:k.value},B=ze(N[n.value]);et(B,`${n.value}_data.csv`),X("success",`Data ${O()} berhasil diexport`)},ze=N=>{if(!N.length)return"";const B=Object.keys(N[0]).join(","),M=N.map(ue=>Object.values(ue).join(","));return[B,...M].join(`
`)},et=(N,B)=>{const M=new Blob([N],{type:"text/csv;charset=utf-8;"}),ue=document.createElement("a");if(ue.download!==void 0){const _e=URL.createObjectURL(M);ue.setAttribute("href",_e),ue.setAttribute("download",B),ue.style.visibility="hidden",document.body.appendChild(ue),ue.click(),document.body.removeChild(ue)}},X=(N,B)=>{A.value={type:N,text:B},setTimeout(()=>{A.value=null},3e3)},Y=N=>{n.value=N,L()},L=()=>{bt.get(route("master-data.index"),{search:r.value,status:o.value,activeTab:n.value},{preserveState:!0,preserveScroll:!0,only:["skuData","supplierData","binData","userData"],onSuccess:()=>{we()}})};return Fr(n,()=>{he()}),Kn(()=>{he()}),(N,B)=>(W(),Tt(Yn,{pageTitle:"Master Data",pageDescription:"Kelola data master sistem WMS"},{default:yt(()=>[i("div",tO,[i("div",nO,[ae.value?(W(),Q("div",rO,[...B[29]||(B[29]=[i("div",{class:"bg-white p-8 rounded-xl shadow-2xl flex flex-col items-center border border-gray-100"},[i("div",{class:"warehouse-loader mb-4"},[i("div",{class:"forklift"},[i("div",{class:"forks"})]),i("div",{class:"box"})]),i("h3",{class:"text-xl font-bold text-gray-800"},"Importing Stock Data..."),i("p",{class:"text-gray-500 mt-2"},"Memproses data warehouse, mohon tunggu.")],-1)])])):me("",!0),i("div",sO,[i("div",oO,[B[31]||(B[31]=i("div",null,[i("h1",{class:"text-3xl font-bold text-gray-900"},"Master Data"),i("p",{class:"text-gray-600 mt-1"},"Kelola data master untuk seluruh sistem WMS")],-1)),i("div",null,[i("button",{onClick:ie,class:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors shadow-sm"},[...B[30]||(B[30]=[i("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})],-1),Qe(" Import Initial Stock ",-1)])]),i("input",{ref_key:"fileInput",ref:C,type:"file",accept:".xlsx,.xls,.csv",onChange:Ne,class:"hidden"},null,544)])])]),i("div",iO,[i("div",aO,[i("nav",lO,[(W(),Q(He,null,ot(D,M=>i("button",{key:M.id,onClick:ue=>Y(M.id),class:Pe([n.value===M.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","py-4 px-1 border-b-2 font-medium text-sm transition-colors"])},R(M.label),11,cO)),64))])]),i("div",dO,[i("div",uO,[i("button",{onClick:B[0]||(B[0]=M=>f.value=!0),class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},[B[32]||(B[32]=i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)),Qe(" Tambah "+R(O()),1)]),i("button",{onClick:Me,class:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},[...B[33]||(B[33]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),Qe(" Export Excel ",-1)])]),n.value==="bin"?(W(),Q("button",{key:0,onClick:ye,class:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},[...B[34]||(B[34]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})],-1),Qe(" Print All QR Codes ",-1)])])):me("",!0)]),i("div",xO,[i("div",fO,[Ce(i("input",{"onUpdate:modelValue":B[1]||(B[1]=M=>r.value=M),onKeyup:Ka(L,["enter"]),type:"text",placeholder:"Cari "+O()+"...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,40,hO),[[$e,r.value]])]),Ce(i("select",{"onUpdate:modelValue":B[2]||(B[2]=M=>o.value=M),class:"px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...B[35]||(B[35]=[i("option",{value:""},"Semua Status",-1),i("option",{value:"Active"},"Active",-1),i("option",{value:"Inactive"},"Inactive",-1)])],512),[[dt,o.value]])]),Ce(i("div",null,[i("div",gO,[i("div",pO,[i("table",mO,[B[36]||(B[36]=i("thead",{class:"bg-gray-50"},[i("tr",null,[i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Kode Item"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Nama Material"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"UoM"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Kategori"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"QC Required"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Expiry"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Supplier Default"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),i("tbody",yO,[(W(!0),Q(He,null,ot(T.value,M=>(W(),Q("tr",{key:M.id,class:"hover:bg-gray-50"},[i("td",bO,[i("div",EO,R(M.code),1)]),i("td",vO,[i("div",CO,R(M.name),1)]),i("td",wO,[i("div",AO,R(M.uom),1)]),i("td",BO,[i("span",DO,R(M.category),1)]),i("td",_O,[i("span",{class:Pe(M.qcRequired?"text-green-600":"text-gray-400")},R(M.qcRequired?"":""),3)]),i("td",kO,[i("span",{class:Pe(M.expiry?"text-green-600":"text-gray-400")},R(M.expiry?"":""),3)]),i("td",SO,[i("div",FO,R(M.supplierDefault),1)]),i("td",TO,[i("span",{class:Pe([q(M.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(M.status),3)]),i("td",IO,[i("button",{onClick:ue=>Oe(M),class:"text-blue-600 hover:text-blue-900"},"Edit",8,MO),i("button",{onClick:ue=>le(M.id),class:"text-red-600 hover:text-red-900"},"Hapus",8,PO)])]))),128))])])]),i("div",RO,[_t(_,{links:G.value.links},null,8,["links"])])])],512),[[rn,n.value==="sku"]]),Ce(i("div",null,[i("div",OO,[i("div",NO,[i("table",LO,[B[37]||(B[37]=i("thead",{class:"bg-gray-50"},[i("tr",null,[i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Supplier Code"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Supplier Name"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Address"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Contact Person"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Phone"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),i("tbody",$O,[(W(!0),Q(He,null,ot(j.value,M=>(W(),Q("tr",{key:M.id,class:"hover:bg-gray-50"},[i("td",jO,[i("div",UO,R(M.code),1)]),i("td",HO,[i("div",zO,R(M.name),1)]),i("td",VO,[i("div",qO,R(M.address),1)]),i("td",WO,[i("div",GO,R(M.contactPerson),1)]),i("td",QO,[i("div",KO,R(M.phone),1)]),i("td",YO,[i("span",{class:Pe([q(M.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(M.status),3)]),i("td",XO,[i("button",{onClick:ue=>Oe(M),class:"text-blue-600 hover:text-blue-900"},"Edit",8,ZO),i("button",{onClick:ue=>le(M.id),class:"text-red-600 hover:text-red-900"},"Hapus",8,JO)])]))),128))])])]),i("div",eN,[_t(_,{links:z.value.links},null,8,["links"])])])],512),[[rn,n.value==="supplier"]]),Ce(i("div",null,[i("div",tN,[i("div",nN,[i("table",rN,[B[39]||(B[39]=i("thead",{class:"bg-gray-50"},[i("tr",null,[i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Bin Code"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Zone"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Type"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Material Count"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"QR Code"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),i("tbody",sN,[(W(!0),Q(He,null,ot(F.value,M=>(W(),Q("tr",{key:M.id,class:"hover:bg-gray-50"},[i("td",oN,[i("div",iN,R(M.code),1)]),i("td",aN,[i("span",lN,R(M.zone),1)]),i("td",cN,[i("span",{class:Pe([S(M.type),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(M.type),3)]),i("td",dN,[i("span",{class:Pe([q(M.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(M.status),3)]),i("td",uN,[M.current_items_count>0?(W(),Q("div",xN,[i("button",{onClick:ue=>P(M.id,M.code),class:"text-sm font-semibold text-blue-600 hover:text-blue-800 underline"},R(M.current_items_count)+" Item ",9,fN)])):(W(),Q("span",hN,"Kosong"))]),i("td",gN,[M.qrCode||M.id?(W(),Q("button",{key:0,onClick:ue=>ge(M.id),class:"text-blue-600 hover:text-blue-900 flex items-center gap-1",title:"Preview QR Code"},[...B[38]||(B[38]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),Qe(" Preview QR ",-1)])],8,pN)):(W(),Q("span",mN,"No QR"))]),i("td",yN,[i("button",{onClick:ue=>Oe(M),class:"text-blue-600 hover:text-blue-900"},"Edit",8,bN),i("button",{onClick:ue=>le(M.id),class:"text-red-600 hover:text-red-900"},"Hapus",8,EN)])]))),128))])])]),i("div",vN,[_t(_,{links:ee.value.links},null,8,["links"])])])],512),[[rn,n.value==="bin"]]),Ce(i("div",null,[i("div",CN,[i("div",wN,[i("table",AN,[B[40]||(B[40]=i("thead",{class:"bg-gray-50"},[i("tr",null,[i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"jabatan"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Full Name"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Role"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Department"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),i("tbody",BN,[(W(!0),Q(He,null,ot(k.value,M=>(W(),Q("tr",{key:M.id,class:"hover:bg-gray-50"},[i("td",DN,[i("div",_N,R(M.jabatan),1)]),i("td",kN,[i("div",SN,R(M.fullName),1)]),i("td",FN,[i("span",{class:Pe([U(M.role),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(M.role),3)]),i("td",TN,[i("div",IN,R(M.department),1)]),i("td",MN,[i("span",{class:Pe([q(M.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(M.status),3)]),i("td",PN,[i("button",{onClick:ue=>Oe(M),class:"text-blue-600 hover:text-blue-900"},"Edit",8,RN),i("button",{onClick:ue=>le(M.id),class:"text-red-600 hover:text-red-900"},"Hapus",8,ON)])]))),128))])])]),i("div",NN,[_t(_,{links:se.value.links},null,8,["links"])])])],512),[[rn,n.value==="user"]])])]),a.value&&c.value?(W(),Q("div",LN,[i("div",$N,[i("div",jN,[i("h3",UN,"QR Code - "+R(c.value.bin_code),1),i("button",{onClick:Ke,class:"text-gray-400 hover:text-gray-600"},[...B[41]||(B[41]=[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",HN,[i("img",{src:c.value.image,alt:"QR Code",class:"w-64 h-64 border-2 border-gray-200 rounded-lg shadow-sm"},null,8,zN)]),i("div",VN,[i("div",qN,[B[42]||(B[42]=i("span",{class:"text-sm font-medium text-gray-600"},"Bin Code:",-1)),i("span",WN,R(c.value.bin_code),1)]),i("div",GN,[B[43]||(B[43]=i("span",{class:"text-sm font-medium text-gray-600"},"Bin Name:",-1)),i("span",QN,R(c.value.bin_name),1)]),i("div",KN,[B[44]||(B[44]=i("span",{class:"text-sm font-medium text-gray-600"},"Zone:",-1)),i("span",YN,R(c.value.zone_name),1)]),i("div",XN,[B[45]||(B[45]=i("span",{class:"text-sm font-medium text-gray-600"},"Type:",-1)),i("span",ZN,R(c.value.bin_type),1)]),i("div",JN,[B[46]||(B[46]=i("span",{class:"text-sm font-medium text-gray-600"},"Capacity:",-1)),i("span",eL,R(c.value.capacity),1)])]),i("div",{class:"flex gap-3"},[i("button",{onClick:ve,class:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors"},[...B[47]||(B[47]=[i("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),Qe(" Download ",-1)])]),i("button",{onClick:re,class:"flex-1 bg-green-600 hover:bg-green-700 text-white px-4 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors"},[...B[48]||(B[48]=[i("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})],-1),Qe(" Print ",-1)])]),i("button",{onClick:Ke,class:"px-4 py-3 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Tutup ")])])])):me("",!0),f.value||m.value?(W(),Q("div",tL,[i("div",nL,[i("div",rL,[i("h3",sL,R(m.value?"Edit":"Tambah")+" "+R(O()),1),i("button",{onClick:we,class:"text-gray-400 hover:text-gray-600"},[...B[49]||(B[49]=[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),n.value==="sku"?(W(),Q("div",oL,[i("div",iL,[i("div",null,[B[50]||(B[50]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Kode Item *",-1)),Ce(i("input",{"onUpdate:modelValue":B[3]||(B[3]=M=>v.value.code=M),type:"text",placeholder:"ITM001",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[$e,v.value.code]])]),i("div",null,[B[52]||(B[52]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"UoM *",-1)),Ce(i("select",{"onUpdate:modelValue":B[4]||(B[4]=M=>v.value.uom=M),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...B[51]||(B[51]=[i("option",{value:""},"Pilih UoM",-1),i("option",{value:"PCS"},"PCS",-1),i("option",{value:"KG"},"KG",-1),i("option",{value:"LTR"},"LITER",-1),i("option",{value:"BOX"},"BOX",-1)])],512),[[dt,v.value.uom]])])]),i("div",null,[B[53]||(B[53]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nama Material *",-1)),Ce(i("input",{"onUpdate:modelValue":B[5]||(B[5]=M=>v.value.name=M),type:"text",placeholder:"Nama material lengkap",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[$e,v.value.name]])]),i("div",aL,[i("div",null,[B[55]||(B[55]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Kategori *",-1)),Ce(i("select",{"onUpdate:modelValue":B[6]||(B[6]=M=>v.value.category=M),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...B[54]||(B[54]=[i("option",{value:""},"Pilih Kategori",-1),i("option",{value:"Raw Material"},"Raw Material",-1),i("option",{value:"Packaging"},"Packaging",-1),i("option",{value:"Finished Goods"},"Finished Goods",-1),i("option",{value:"Spare Parts"},"Spare Parts",-1)])],512),[[dt,v.value.category]])]),i("div",null,[B[57]||(B[57]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"ABC Class",-1)),Ce(i("select",{"onUpdate:modelValue":B[7]||(B[7]=M=>v.value.abcClass=M),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...B[56]||(B[56]=[i("option",{value:""},"Pilih ABC Class",-1),i("option",{value:"A"},"A",-1),i("option",{value:"B"},"B",-1),i("option",{value:"C"},"C",-1)])],512),[[dt,v.value.abcClass]])])]),i("div",lL,[i("div",null,[B[59]||(B[59]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Supplier Default",-1)),Ce(i("select",{"onUpdate:modelValue":B[8]||(B[8]=M=>v.value.supplierDefault=M),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...B[58]||(B[58]=[i("option",{value:""},"Pilih Supplier",-1),i("option",{value:"PT. Supplier A"},"PT. Supplier A",-1),i("option",{value:"PT. Supplier B"},"PT. Supplier B",-1),i("option",{value:"PT. Supplier C"},"PT. Supplier C",-1)])],512),[[dt,v.value.supplierDefault]])]),i("div",null,[B[61]||(B[61]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),Ce(i("select",{"onUpdate:modelValue":B[9]||(B[9]=M=>v.value.status=M),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...B[60]||(B[60]=[i("option",{value:"Active"},"Active",-1),i("option",{value:"Inactive"},"Inactive",-1)])],512),[[dt,v.value.status]])])]),i("div",cL,[i("label",dL,[Ce(i("input",{"onUpdate:modelValue":B[10]||(B[10]=M=>v.value.qcRequired=M),type:"checkbox",class:"text-blue-600 focus:ring-blue-500 rounded"},null,512),[[Di,v.value.qcRequired]]),B[62]||(B[62]=i("span",{class:"ml-2 text-gray-900"},"QC Required",-1))]),i("label",uL,[Ce(i("input",{"onUpdate:modelValue":B[11]||(B[11]=M=>v.value.expiry=M),type:"checkbox",class:"text-blue-600 focus:ring-blue-500 rounded"},null,512),[[Di,v.value.expiry]]),B[63]||(B[63]=i("span",{class:"ml-2 text-gray-900"},"Expiry Date Required",-1))])])])):me("",!0),n.value==="supplier"?(W(),Q("div",xL,[i("div",fL,[i("div",null,[B[64]||(B[64]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Supplier Code *",-1)),Ce(i("input",{"onUpdate:modelValue":B[12]||(B[12]=M=>v.value.code=M),type:"text",placeholder:"SUP001",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[$e,v.value.code]])]),i("div",null,[B[66]||(B[66]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),Ce(i("select",{"onUpdate:modelValue":B[13]||(B[13]=M=>v.value.status=M),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...B[65]||(B[65]=[i("option",{value:"Active"},"Active",-1),i("option",{value:"Inactive"},"Inactive",-1)])],512),[[dt,v.value.status]])])]),i("div",null,[B[67]||(B[67]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Supplier Name *",-1)),Ce(i("input",{"onUpdate:modelValue":B[14]||(B[14]=M=>v.value.name=M),type:"text",placeholder:"PT. Nama Supplier",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[$e,v.value.name]])]),i("div",null,[B[68]||(B[68]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Address",-1)),Ce(i("textarea",{"onUpdate:modelValue":B[15]||(B[15]=M=>v.value.address=M),placeholder:"Alamat lengkap supplier",rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[$e,v.value.address]])]),i("div",hL,[i("div",null,[B[69]||(B[69]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Contact Person",-1)),Ce(i("input",{"onUpdate:modelValue":B[16]||(B[16]=M=>v.value.contactPerson=M),type:"text",placeholder:"Nama PIC",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[$e,v.value.contactPerson]])]),i("div",null,[B[70]||(B[70]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Phone",-1)),Ce(i("input",{"onUpdate:modelValue":B[17]||(B[17]=M=>v.value.phone=M),type:"text",placeholder:"0812-3456-7890",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[$e,v.value.phone]])])])])):me("",!0),n.value==="bin"?(W(),Q("div",gL,[i("div",pL,[i("div",null,[B[71]||(B[71]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Bin Code *",-1)),Ce(i("input",{"onUpdate:modelValue":B[18]||(B[18]=M=>v.value.code=M),type:"text",placeholder:"A1-001",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[$e,v.value.code]])]),i("div",null,[B[73]||(B[73]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Zone *",-1)),Ce(i("select",{"onUpdate:modelValue":B[19]||(B[19]=M=>v.value.zone=M),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...B[72]||(B[72]=[i("option",{value:""},"Pilih Zone",-1),i("option",{value:"1"},"Zone A",-1),i("option",{value:"2"},"Zone B",-1),i("option",{value:"3"},"Zone C",-1),i("option",{value:"4"},"Cold Storage",-1),i("option",{value:"5"},"Reject",-1)])],512),[[dt,v.value.zone]])])]),i("div",mL,[i("div",null,[B[74]||(B[74]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Capacity",-1)),Ce(i("input",{"onUpdate:modelValue":B[20]||(B[20]=M=>v.value.capacity=M),type:"number",placeholder:"1000",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[$e,v.value.capacity]])]),i("div",null,[B[76]||(B[76]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Type *",-1)),Ce(i("select",{"onUpdate:modelValue":B[21]||(B[21]=M=>v.value.type=M),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...B[75]||(B[75]=[i("option",{value:""},"Pilih Type",-1),i("option",{value:"Normal"},"Normal",-1),i("option",{value:"Quarantine"},"Quarantine",-1),i("option",{value:"Reject"},"Reject",-1),i("option",{value:"Staging"},"Staging",-1),i("option",{value:"Production"},"Production",-1)])],512),[[dt,v.value.type]])])]),i("div",null,[B[78]||(B[78]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),Ce(i("select",{"onUpdate:modelValue":B[22]||(B[22]=M=>v.value.status=M),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...B[77]||(B[77]=[i("option",{value:"Active"},"Active",-1),i("option",{value:"Inactive"},"Inactive",-1)])],512),[[dt,v.value.status]])])])):me("",!0),n.value==="user"?(W(),Q("div",yL,[i("div",bL,[i("div",null,[B[80]||(B[80]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Jabatan * ",-1)),Ce(i("select",{"onUpdate:modelValue":B[23]||(B[23]=M=>v.value.jabatan=M),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[...B[79]||(B[79]=[i("option",{value:"",disabled:""},"Pilih jabatan",-1),i("option",{value:"Manager"},"Manager",-1),i("option",{value:"Supervisor"},"Supervisor",-1),i("option",{value:"Staff"},"Staff",-1),i("option",{value:"Intern"},"Intern",-1)])],512),[[dt,v.value.jabatan]])]),m.value?me("",!0):(W(),Q("div",EL,[B[81]||(B[81]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Password *",-1)),Ce(i("input",{"onUpdate:modelValue":B[24]||(B[24]=M=>v.value.password=M),type:"password",placeholder:"********",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[$e,v.value.password]])]))]),i("div",null,[B[82]||(B[82]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Full Name *",-1)),Ce(i("input",{"onUpdate:modelValue":B[25]||(B[25]=M=>v.value.fullName=M),type:"text",placeholder:"John Doe",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[$e,v.value.fullName]])]),i("div",vL,[i("div",null,[B[84]||(B[84]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Role *",-1)),Ce(i("select",{"onUpdate:modelValue":B[26]||(B[26]=M=>v.value.role=M),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[B[83]||(B[83]=i("option",{value:""},"Pilih Role",-1)),(W(!0),Q(He,null,ot(be.value,M=>(W(),Q("option",{key:M.id,value:M.name},R(M.name),9,CL))),128))],512),[[dt,v.value.role]])]),i("div",null,[B[86]||(B[86]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Department *",-1)),Ce(i("select",{"onUpdate:modelValue":B[27]||(B[27]=M=>v.value.department=M),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...B[85]||(B[85]=[i("option",{value:""},"Pilih Department",-1),i("option",{value:"Gudang"},"Gudang",-1),i("option",{value:"QC"},"Quality Control",-1),i("option",{value:"Produksi"},"Produksi",-1),i("option",{value:"PPIC"},"PPIC",-1),i("option",{value:"IT"},"IT",-1)])],512),[[dt,v.value.department]])])]),i("div",null,[B[88]||(B[88]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),Ce(i("select",{"onUpdate:modelValue":B[28]||(B[28]=M=>v.value.status=M),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...B[87]||(B[87]=[i("option",{value:"Active"},"Active",-1),i("option",{value:"Inactive"},"Inactive",-1)])],512),[[dt,v.value.status]])])])):me("",!0),i("div",wL,[i("button",{onClick:we,class:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Batal "),i("button",{onClick:Re,class:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors"},R(m.value?"Update":"Simpan"),1)])])])):me("",!0),A.value?(W(),Q("div",{key:3,class:Pe([A.value.type==="success"?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800","fixed top-4 right-4 border rounded-lg p-4 shadow-lg"]),style:{"z-index":"99999"}},[i("div",AL,[A.value.type==="success"?(W(),Q("svg",BL,[...B[89]||(B[89]=[i("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)])])):(W(),Q("svg",DL,[...B[90]||(B[90]=[i("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"},null,-1)])])),Qe(" "+R(A.value.text),1)])],2)):me("",!0),u.value?(W(),Q("div",_L,[i("div",kL,[i("div",SL,[i("h3",FL," Material di Bin: "+R(g.value?.bin_code||"Memuat..."),1),i("button",{onClick:$,class:"text-gray-400 hover:text-gray-600"},[...B[91]||(B[91]=[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),g.value?g.value.details.length===0?(W(),Q("div",IL," Bin ini tidak memiliki stok material aktif. ")):(W(),Q("div",ML,[i("table",PL,[B[92]||(B[92]=i("thead",{class:"bg-gray-50"},[i("tr",null,[i("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Kode Item"),i("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Nama Material"),i("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Batch/Lot"),i("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Qty Tersedia"),i("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"UoM"),i("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Exp Date"),i("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Status")])],-1)),i("tbody",RL,[(W(!0),Q(He,null,ot(g.value.details,M=>(W(),Q("tr",{key:M.id},[i("td",OL,R(M.material_code),1),i("td",NL,R(M.material_name),1),i("td",LL,R(M.batch_lot),1),i("td",$L,R(M.qty_available),1),i("td",jL,R(M.uom),1),i("td",UL,R(M.exp_date),1),i("td",HL,[i("span",zL,R(M.status),1)])]))),128))])])])):(W(),Q("div",TL,"Memuat data material...")),i("div",{class:"flex justify-end mt-6 pt-4 border-t border-gray-200"},[i("button",{onClick:$,class:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Tutup ")])])])):me("",!0)])])]),_:1}))}}),qL=tl(VL,[["__scopeId","data-v-b960fdbd"]]),WL=Object.freeze(Object.defineProperty({__proto__:null,default:qL},Symbol.toStringTag,{value:"Module"})),GL={class:"space-y-6"},QL={class:"flex justify-between items-center"},KL={class:"bg-white rounded-lg shadow overflow-hidden"},YL={class:"overflow-x-auto"},XL={class:"min-w-full divide-y divide-gray-200"},ZL={class:"bg-white divide-y divide-gray-200"},JL={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},e$={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},t$={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},n$={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},r$={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},s$={class:"px-6 py-4 whitespace-nowrap"},o$={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},i$={class:"flex space-x-2"},a$=["onClick"],l$=["onClick"],c$=["onClick"],d$=["onClick"],u$={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},x$={class:"bg-white rounded-lg max-w-6xl w-full mx-4 max-h-[90vh] overflow-y-auto"},f$={class:"p-6"},h$={class:"flex justify-between items-center mb-6"},g$={class:"text-lg font-semibold text-gray-900"},p$={class:"bg-gray-50 rounded-lg p-4 mb-6"},m$={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm"},y$={class:"ml-2 text-gray-900"},b$={class:"ml-2 text-gray-900"},E$={class:"ml-2 text-gray-900"},v$={class:"ml-2 text-gray-900"},C$={class:"ml-2 text-gray-900"},w$={class:"ml-2 text-gray-900"},A$={class:"ml-2 text-gray-900"},B$={class:"border-t border-gray-200 pt-6"},D$={class:"overflow-x-auto border border-gray-200 rounded-lg"},_$={class:"min-w-full divide-y divide-gray-200",style:{"min-width":"1400px"}},k$={class:"divide-y divide-gray-200 bg-white"},S$={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},F$={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},T$={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},I$={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},M$={class:"font-semibold mb-1"},P$={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},R$={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},O$={class:"px-3 py-2 whitespace-nowrap"},N$={class:"flex gap-1"},L$={key:0,class:"bg-green-500 text-white px-2 py-1 text-xs rounded"},$$={key:1,class:"bg-red-500 text-white px-2 py-1 text-xs rounded"},j$={class:"px-3 py-2 whitespace-nowrap"},U$={class:"flex gap-1"},H$={key:0,class:"bg-green-500 text-white px-2 py-1 text-xs rounded"},z$={key:1,class:"bg-red-500 text-white px-2 py-1 text-xs rounded"},V$={class:"px-3 py-2 whitespace-nowrap"},q$={class:"flex gap-1"},W$={key:0,class:"bg-green-500 text-white px-2 py-1 text-xs rounded"},G$={key:1,class:"bg-red-500 text-white px-2 py-1 text-xs rounded"},Q$={class:"px-3 py-2 whitespace-nowrap"},K$={class:"flex gap-1"},Y$={key:0,class:"bg-green-500 text-white px-2 py-1 text-xs rounded"},X$={key:1,class:"bg-red-500 text-white px-2 py-1 text-xs rounded"},Z$={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},J$={class:"px-3 py-2 whitespace-nowrap"},ej={class:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200"},tj={key:1,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},nj={class:"bg-white rounded-lg max-w-4xl w-full mx-4 max-h-[80vh] overflow-y-auto"},rj={class:"p-6"},sj={class:"flex justify-between items-center mb-6"},oj={class:"text-lg font-semibold text-gray-900"},ij={class:"bg-gray-50 rounded-lg p-4 mb-6"},aj={class:"grid grid-cols-2 gap-4 text-sm"},lj={class:"ml-2 text-gray-900"},cj={class:"ml-2 text-gray-900"},dj={class:"ml-2 text-gray-900"},uj={class:"ml-2 text-gray-900"},xj={class:"space-y-4"},fj={key:0,class:"space-y-4"},hj={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},gj={class:"font-medium text-gray-900 mb-2"},pj={class:"text-sm text-gray-600 space-y-1"},mj={class:"bg-gray-100 p-2 rounded font-mono text-xs text-gray-800 mt-3"},yj={class:"flex space-x-2 mt-3"},bj=["onClick"],Ej={class:"flex flex-col items-center justify-center"},vj={class:"bg-white p-4 rounded-lg border-2 border-gray-300 mb-2"},Cj=["data-qr-canvas"],wj={key:1,class:"text-center py-8 text-gray-500"},Aj={key:2,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},Bj={class:"bg-white rounded-lg max-w-6xl w-full mx-4 max-h-[90vh] overflow-y-auto"},Dj={class:"p-6"},_j={class:"border p-4 mb-6 rounded-lg bg-indigo-50 border-indigo-200"},kj={class:"flex flex-col sm:flex-row gap-4 items-end"},Sj={class:"flex-grow"},Fj=["disabled"],Tj={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Ij={key:0,class:"text-sm text-green-600 mt-2 font-medium"},Mj={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6"},Pj={class:"block text-sm font-medium text-gray-700 mb-1"},Rj={key:0},Oj=["readonly"],Nj={class:"relative"},Lj={key:0,class:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto"},$j=["onClick"],jj={key:0,class:"text-xs text-gray-500 mt-1"},Uj={class:"border-t border-gray-200 pt-6"},Hj={class:"overflow-x-auto border border-gray-200 rounded-lg"},zj={class:"min-w-full divide-y divide-gray-200",style:{"min-width":"1400px"}},Vj={class:"divide-y divide-gray-200 bg-white"},qj={class:"px-3 py-2 whitespace-nowrap"},Wj={class:"flex gap-1"},Gj=["onClick"],Qj=["onClick"],Kj={class:"px-3 py-2 whitespace-nowrap"},Yj=["onUpdate:modelValue"],Xj=["value"],Zj={class:"px-3 py-2 whitespace-nowrap"},Jj={class:"relative"},eU=["onUpdate:modelValue","onInput","onFocus","onBlur"],tU={key:0,class:"absolute z-20 w-80 mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto",style:{"z-index":"99999"}},nU=["onMousedown"],rU={key:1,class:"text-xs text-gray-500 mt-1"},sU={class:"px-3 py-2 whitespace-nowrap"},oU=["onUpdate:modelValue"],iU={class:"px-3 py-2 whitespace-nowrap"},aU=["onUpdate:modelValue"],lU={class:"px-3 py-2 whitespace-nowrap"},cU=["onUpdate:modelValue"],dU={class:"px-3 py-2 whitespace-nowrap"},uU=["onUpdate:modelValue"],xU={class:"px-3 py-2 whitespace-nowrap"},fU=["onUpdate:modelValue"],hU={class:"px-3 py-2 whitespace-nowrap"},gU={class:"flex gap-1"},pU=["onClick"],mU=["onClick"],yU={class:"px-3 py-2 whitespace-nowrap"},bU={class:"flex gap-1"},EU=["onClick"],vU=["onClick"],CU={class:"px-3 py-2 whitespace-nowrap"},wU={class:"flex gap-1"},AU=["onClick"],BU=["onClick"],DU={class:"px-3 py-2 whitespace-nowrap"},_U={class:"flex gap-1"},kU=["onClick"],SU=["onClick"],FU={class:"px-3 py-2 whitespace-nowrap"},TU=["onUpdate:modelValue"],IU={class:"px-3 py-2 whitespace-nowrap"},MU={class:"text-sm text-gray-600"},PU={class:"px-3 py-2 whitespace-nowrap"},RU=["onClick"],OU={key:0,class:"mt-6 p-4 bg-yellow-50 rounded-lg border border-yellow-200"},NU={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},LU={class:"font-bold text-gray-900 truncate"},$U={class:"text-md font-extrabold text-blue-600 mt-1"},jU={class:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200"},UU={class:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200"},HU=["disabled"],zU={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},VU={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},qU={class:"bg-white rounded-lg max-w-4xl w-full mx-4 max-h-[80vh] overflow-y-auto"},WU={class:"p-6"},GU={class:"flex justify-between items-center mb-6"},QU={class:"text-lg font-semibold text-gray-900"},KU={class:"bg-gray-50 rounded-lg p-4 mb-6"},YU={class:"grid grid-cols-2 gap-4 text-sm"},XU={class:"ml-2 text-gray-900"},ZU={class:"ml-2 text-gray-900"},JU={class:"ml-2 text-gray-900"},eH={class:"ml-2 text-gray-900"},tH={class:"space-y-4"},nH={key:0,class:"space-y-4"},rH={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},sH={class:"font-medium text-gray-900 mb-2"},oH={class:"text-sm text-gray-600 space-y-1"},iH={class:"bg-gray-100 p-2 rounded font-mono text-xs text-gray-800 mt-3"},aH={class:"flex space-x-2 mt-3"},lH=["onClick"],cH=["onClick"],dH={class:"flex flex-col items-center justify-center"},uH={class:"bg-white p-4 rounded-lg border-2 border-gray-300 mb-2"},xH=["data-qr-canvas"],fH={key:1,class:"text-center py-8 text-gray-500"},hH=Nr({__name:"PenerimaanBarang",props:{shipments:Array,purchaseOrders:Array,suppliers:Array,materials:Array},setup(e){const t=e,n=Be(""),r=Be([]),o=Be(!1),a=Be(!1),c=Be(!1),u=Be(!1),g=Be(null),f=Be({noPo:"",noSuratJalan:"",supplier:"",noKendaraan:"",namaDriver:"",tanggalTerima:new Date().toISOString().slice(0,16),kategori:"",supplierName:"",incomingNumber:"",erpPdfFile:null,isErpDataLoaded:!1,items:[]}),m=Be(!1),y=We(()=>f.value.noPo&&f.value.noSuratJalan&&f.value.supplier&&f.value.noKendaraan&&f.value.namaDriver&&f.value.items.length>0),v=We(()=>{const le={};return f.value.items.forEach(ie=>{const ae=ie.kodeItem,Ne=parseInt(ie.qtyWadah)||0,Me=parseInt(ie.qtyUnit)||0;if(ae){const ze=t.materials.find(X=>X.id===ae),et=Ne*Me;le[ae]?le[ae].totalQty+=et:le[ae]={totalQty:et,materialName:ie.namaMaterial||ie.kodeItemDisplay,satuan:ze?ze.unit:"Pcs"}}}),Object.values(le)}),C=le=>{g.value=le,u.value=!0},A=()=>{u.value=!1,g.value=null},D=()=>{a.value=!1,F()},_=()=>{c.value=!1,g.value=null},T=le=>{f.value.erpPdfFile=le.target.files?le.target.files[0]:null,f.value.isErpDataLoaded=!1},j=async()=>{if(!f.value.erpPdfFile){alert("Mohon pilih file PDF ERP terlebih dahulu.");return}m.value=!0,f.value.isErpDataLoaded=!1;const le=new FormData;le.append("erp_pdf",f.value.erpPdfFile);try{const ae=(await St.post("/transaction/goods-receipt/parse-erp-pdf",le,{headers:{"Content-Type":"multipart/form-data"}})).data;f.value.items=[],f.value.incomingNumber=ae.incoming_number||"",f.value.noSuratJalan=ae.no_surat_jalan||"",f.value.noPo=ae.no_po||"",f.value.noKendaraan=ae.no_truck||"",f.value.namaDriver=ae.driver_name||"";const Ne=t.suppliers.find(Me=>Me.nama_supplier.toLowerCase().includes(ae.supplier_name.toLowerCase())||Me.kode_supplier.toLowerCase()===ae.supplier_code.toLowerCase());Ne?(f.value.supplier=Ne.id,f.value.supplierName=Ne.nama_supplier,n.value=Ne.nama_supplier):(f.value.supplier="",f.value.supplierName=`*Supplier tidak ditemukan: ${ae.supplier_name}`,n.value=`*Supplier tidak ditemukan: ${ae.supplier_name}`),ae.items.forEach(Me=>{const ze=t.materials.find(X=>X.code===Me.kode_material);let et="Karantina";ze&&ze.qcRequired===!1&&(et="Direct Putaway"),f.value.items.push({kodeItem:ze?ze.id:"",kodeItemDisplay:Me.kode_material,namaMaterial:ze?ze.name:Me.description,batchLot:"",expDate:"",qtyWadah:Me.quantity,qtyUnit:"1",pabrikPembuat:ze?ze.mfg:"",skuSearch:Me.kode_material,filteredMaterials:[],showSuggestions:!1,kondisiBaik:!0,kondisiTidakBaik:!1,coaAda:!1,coaTidakAda:!0,labelMfgAda:!1,labelMfgTidakAda:!0,labelCoaSesuai:!1,labelCoaTidakSesuai:!0,statusQC:et,binTarget:"QRT-HALAL",isHalal:!0,isNonHalal:!1})}),f.value.isErpDataLoaded=!0}catch(ie){console.error("Error processing ERP PDF:",ie),alert(`Gagal memproses file ERP. Error: ${ie.message||"Server error"}`)}finally{m.value=!1}},F=()=>{f.value={noPo:"",noSuratJalan:"",supplier:"",noKendaraan:"",namaDriver:"",tanggalTerima:new Date().toISOString().slice(0,16),kategori:"",supplierName:"",incomingNumber:"",erpPdfFile:null,isErpDataLoaded:!1,items:[]},n.value=""},k=()=>{f.value.items.push({kodeItem:"",kodeItemDisplay:"",namaMaterial:"",batchLot:"",expDate:"",qtyWadah:"",qtyUnit:"",pabrikPembuat:"",skuSearch:"",filteredMaterials:[],showSuggestions:!1,kondisiBaik:!1,kondisiTidakBaik:!1,coaAda:!1,coaTidakAda:!1,labelMfgAda:!1,labelMfgTidakAda:!1,labelCoaSesuai:!1,labelCoaTidakSesuai:!1,statusQC:"Karantina",binTarget:"",isHalal:!1,isNonHalal:!1})},P=[{code:"QRT-HALAL",name:"Karantina Halal"},{code:"QRT-NON HALAL",name:"Karantina Non Halal"},{code:"QRT-HALAL-AC",name:"Karantina hALAL AC"}],$=le=>{f.value.items.splice(le,1)},O=(le,ie)=>{ie==="isHalal"||ie==="isNonHalal"?(le.isHalal=!1,le.isNonHalal=!1):ie==="kondisiBaik"||ie==="kondisiTidakBaik"?(le.kondisiBaik=!1,le.kondisiTidakBaik=!1):ie==="coaAda"||ie==="coaTidakAda"?(le.coaAda=!1,le.coaTidakAda=!1):ie==="labelMfgAda"||ie==="labelMfgTidakAda"?(le.labelMfgAda=!1,le.labelMfgTidakAda=!1):(ie==="labelCoaSesuai"||ie==="labelCoaTidakSesuai")&&(le.labelCoaSesuai=!1,le.labelCoaTidakSesuai=!1),le[ie]=!0},q=()=>{if(n.value.length<2){r.value=[];return}const le=n.value.toLowerCase();r.value=t.suppliers.filter(ie=>{if(!ie)return!1;const ae=ie.nama_supplier||"",Ne=ie.code||"";return ae.toLowerCase().includes(le)||Ne.toLowerCase().includes(le)}).slice(0,10)},S=le=>{f.value.supplier=le.id,f.value.supplierName=le.nama_supplier,n.value=le.nama_supplier,r.value=[]},U=le=>{const ie=f.value.items[le],ae=ie.skuSearch.toLowerCase();if(ae.length<2){ie.filteredMaterials=[];return}ie.filteredMaterials=t.materials.filter(Ne=>Ne.code.toLowerCase().includes(ae)||Ne.name.toLowerCase().includes(ae)).slice(0,10)},G=(le,ie)=>{const ae=f.value.items[le];ae.kodeItem=ie.id,ae.kodeItemDisplay=ie.code,ae.namaMaterial=ie.name,ae.pabrikPembuat=ie.mfg,ae.statusQC=ie.qcRequired?"To QC":"Direct Putaway",ae.skuSearch=ie.code,ae.filteredMaterials=[],ae.showSuggestions=!1},z=()=>{if(o.value){console.log("Penyimpanan sedang dalam proses. Permintaan diabaikan.");return}if(!y.value){alert("Mohon lengkapi semua field yang diperlukan");return}o.value=!0,console.log("Data yang akan dikirim:",JSON.stringify(f.value,null,2)),bt.post("/transaction/goods-receipt",f.value,{preserveScroll:!0,onBefore:()=>{console.log("Request dimulai...")},onSuccess:le=>{console.log("Response sukses:",le),console.log("Flash messages:",le.props.flash),D(),bt.reload({only:["shipments"]}),alert("Penerimaan berhasil disimpan")},onError:le=>{console.error("Validation errors:",le);let ie=`Gagal menyimpan:
`;Object.entries(le).forEach(([ae,Ne])=>{ie+=`${ae}: ${Ne}
`}),alert(ie)},onFinish:()=>{o.value=!1,console.log("Request selesai")}})},ee=le=>new Date(le).toLocaleString("id-ID",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),se=le=>le?new Date(le.split("T")[0]).toLocaleDateString("id-ID",{year:"numeric",month:"2-digit",day:"2-digit"}):"-",J=le=>{if(!le)return{text:"N/A",class:"text-gray-500"};const ie=new Date(le.split("T")[0]),ae=new Date;ae.setHours(0,0,0,0);const Ne=ie.getTime()-ae.getTime(),Me=Math.ceil(Ne/(1e3*60*60*24));return Me<0?{text:"Expired",class:"bg-red-500 text-white"}:Me===0?{text:"Hari Ini!",class:"bg-red-400 text-white"}:Me<=30?{text:`${Me} hari lagi`,class:"bg-orange-400 text-white"}:Me<=90?{text:`${Me} hari lagi`,class:"bg-yellow-400 text-gray-900"}:{text:`${Me} hari lagi`,class:"text-green-600"}},be=le=>new Date(le).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}),he=le=>({Draft:"bg-gray-100 text-gray-800",Karantina:"bg-yellow-100 text-yellow-800",Proses:"bg-orange-100 text-orange-800",Selesai:"bg-green-100 text-green-800"})[le]||"bg-gray-100 text-gray-800",we=le=>{const ie=window.open("","_blank"),ae=new Date(le.tanggalTerima),Ne=ae.getFullYear(),Me=String(ae.getMonth()+1).padStart(2,"0"),ze=le.incomingNumber||le.id,et=`GR-${Ne}${Me}-${ze}`,X=(Se,tt)=>Se?`<span style="font-weight: bold;">${tt} </span>`:`<span style="text-decoration: line-through; color: #888;">${tt}</span>`;let Y="",L=1,N=0;le.items.forEach((Se,tt)=>{const ct=parseInt(Se.qtyWadah||"0");N+=ct;const Ye=L,Ht=Ye+ct-1;L=Ht+1;let Rt;ct===0?Rt="N/A":Ye===Ht?Rt=Ye:Rt=`${Ye}-${Ht}`,Y+=`
            <tr>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle; height: 40px;">
                    ${Rt}
                </td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;">
                    ${Se.kondisiBaik?"":""}
                </td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;">
                    ${Se.kondisiTidakBaik?"":""}
                </td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;"></td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;"></td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;">
                    ${Se.labelMfgAda?"":""}
                </td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;">
                    ${Se.labelMfgTidakAda?"":""}
                </td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;">PCS</td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;">N/A</td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;">N/A</td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;">${Se.qtyUnit?parseInt(Se.qtyUnit):""}</td>
            </tr>
        `});for(let Se=le.items.length;Se<10;Se++)Y+=`
          <tr>
            <td style="border: 1px solid #000; padding: 8px; height: 40px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
          </tr>
        `;const B=le.items[0]||{},M=X(B.labelMfgAda,"Ada"),ue=X(B.labelMfgTidakAda,"Tidak"),_e=X(B.labelCoaSesuai,"Ada"),te=X(B.labelCoaTidakSesuai,"Tidak"),Z=X(B.coaAda,"Ada"),fe=X(B.coaTidakAda,"Tidak"),ce=X(B.isHalal,"Halal"),de=X(B.isNonHalal,"Non-Halal");ie.document.write(`
        <html>
        <head>
            <title>Form Checklist Penerimaan Material - ${le.noSuratJalan}</title>
            <style>
            @page {
                size: A4;
                margin: 1cm;
            }
            
            body { 
                font-family: Arial, sans-serif; 
                margin: 0;
                padding: 0;
                font-size: 10px;
                line-height: 1.2;
            }
            
            .main-container {
                border: 2px solid #000;
                padding: 0;
                width: 100%;
                box-sizing: border-box;
            }
            
            .header { 
                text-align: center; 
                padding: 10px;
                border-bottom: 1px solid #000;
                position: relative;
                height: 80px;
                box-sizing: border-box;
            }
            
            .logo-section {
                position: absolute;
                left: 10px;
                top: 10px;
                width: 100px;
                height: 60px;
            }
            
            .logo-box {
                border: 1px solid #000;
                padding: 5px;
                height: 100%;
                box-sizing: border-box;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
            }
            
            .logo-icon {
                width: 30px;
                height: 20px;
                background: linear-gradient(45deg, #4CAF50, #2E7D32);
                margin-bottom: 3px;
                position: relative;
            }
            
            .logo-icon::before {
                content: '';
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                width: 15px;
                height: 15px;
                background: #FFF;
                clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
            }
            
            .company-name {
                font-weight: bold;
                font-size: 8px;
                color: #2E7D32;
            }
            
            .form-number-section {
                position: absolute;
                right: 10px;
                top: 15px;
                width: 120px;
                text-align: center;
            }
            
            .form-number-box {
                background: #000;
                color: white;
                padding: 3px;
                font-size: 9px;
                font-weight: bold;
            }
            
            .header-title {
                margin-top: 10px;
                font-weight: bold;
                font-size: 11px;
            }
            
            .form-fields {
                border-collapse: collapse;
                width: 100%;
            }
            
            .form-fields tr {
                border-bottom: 1px solid #000;
            }
            
            .form-fields tr:last-child {
                border-bottom: none;
            }
            
            .form-fields td {
                border-right: 1px solid #000;
                padding: 6px 8px;
                vertical-align: middle;
                height: 25px;
            }
            
            .form-fields td:last-child {
                border-right: none;
            }
            
            .field-label {
                background-color: #f5f5f5;
                font-weight: bold;
                width: 120px;
            }
            
            .field-value {
                width: auto;
            }
            
            .checkbox-inline {
                display: inline-block;
                margin-right: 15px;
            }

            /* CSS agar tanda centang () terlihat tebal dan coretan terlihat tipis */
            .checkbox-inline span {
                font-size: 10px; /* Base font size */
            }
            .checkbox-inline span[style*="line-through"] {
                color: #888;
                font-weight: normal;
            }
            
            .data-table {
                width: 100%;
                border-collapse: collapse;
                margin-top: 0;
            }
            
            .data-table th,
            .data-table td {
                border: 1px solid #000;
                padding: 5px;
                text-align: center;
                vertical-align: middle;
            }
            
            .data-table th {
                background-color: #f0f0f0;
                font-weight: bold;
                font-size: 9px;
                height: 30px;
            }
            
            .main-header {
                height: 50px;
            }
            
            .sub-header {
                height: 35px;
                font-size: 8px;
                line-height: 1.1;
            }
            
            .kemasan-header {
                width: 200px;
            }
            
            .label-header {
                width: 100px;
            }
            
            .unit-header {
                width: 50px;
            }
            
            .jumlah-headers {
                width: 60px;
            }
            
            .wadah-col {
                width: 60px;
            }
            
            .kemasan-cols {
                width: 100px;
            }
            
            .label-cols {
                width: 50px;
            }
            
            .signature-section {
                border-top: 1px solid #000;
                display: flex;
                height: 120px;
            }
            
            .signature-left,
            .signature-right {
                flex: 1;
                padding: 15px;
                text-align: center;
                position: relative;
            }
            
            .signature-left {
                border-right: 1px solid #000;
            }
            
            .signature-title {
                font-weight: bold;
                margin-bottom: 50px;
            }
            
            .signature-fields {
                position: absolute;
                bottom: 15px;
                left: 15px;
                text-align: left;
                font-size: 9px;
            }
            
            .footer-note {
                padding: 10px;
                font-size: 8px;
                font-style: italic;
                border-top: 1px solid #000;
            }
            
            @media print {
                body {
                    margin: 0;
                    -webkit-print-color-adjust: exact;
                    print-color-adjust: exact;
                }
                .no-print { display: none; }
            }
            </style>
        </head>
        <body>
            <div class="main-container">
                <div class="header">
                    <div class="logo-section">
                        <div class="logo-box">
                            <div class="logo-icon"></div>
                            <div class="company-name">GONDOWANGI</div>
                        </div>
                    </div>
                    
                    <div class="form-number-section">
                        ${et}
                    </div>
                    
                    <div class="header-title">E-FORM CHECKLIST PENERIMAAN MATERIAL DARI VENDOR</div>
                </div>
                
                <table class="form-fields">
                    <tr>
                        <td class="field-label">Kode Item</td>
                        <td class="field-value">${B.kodeItem||""}</td>
                    </tr>
                    <tr>
                        <td class="field-label">Nama Material</td>
                        <td class="field-value">${B.namaMaterial||""}</td>
                    </tr>
                    <tr>
                        <td class="field-label">Label dari Mfg*</td>
                        <td class="field-value">
                            <span class="checkbox-inline">${M}</span>
                            <span class="checkbox-inline">${ue}</span>
                            <span style="margin-left: 100px;">Label & CoA sesuai :</span>
                            <span class="checkbox-inline">${_e}</span>
                            <span class="checkbox-inline">${te}</span>
                        </td>
                    </tr>
                    <tr>
                        <td class="field-label">Pabrik Pembuat (mfg)*</td>
                        <td class="field-value">${B.pabrikPembuat||""}</td>
                    </tr>
                    <tr>
                        <td class="field-label">Produksi di negara*</td>
                        <td class="field-value">Indonesia</td>
                    </tr>
                    <tr>
                        <td class="field-label">Supplier</td>
                        <td class="field-value">${le.supplier}</td>
                    </tr>
                    <tr>
                        <td class="field-label">No. PO</td>
                        <td class="field-value">${le.noPo}</td>
                    </tr>
                    <tr>
                        <td class="field-label">No. Surat Jalan</td>
                        <td class="field-value">${le.noSuratJalan}</td>
                    </tr>
                    <tr>
                        <td class="field-label">Mfg. Batch</td>
                        <td class="field-value">${B.batchLot||""}</td>
                    </tr>
                    <tr>
                        <td class="field-label">ED</td>
                        <td class="field-value">${B.expDate?se(B.expDate):""}</td>
                    </tr>
                    <tr>
                        <td class="field-label">CoA</td>
                        <td class="field-value">
                            <span class="checkbox-inline">${Z}</span>
                            <span class="checkbox-inline">${fe}</span>
                        </td>
                    </tr>
                    <tr>
                        <td class="field-label">Kategori Halal</td> <td class="field-value">
                            <span class="checkbox-inline">${ce}</span>
                            <span class="checkbox-inline">${de}</span>
                        </td>
                    </tr>
                    
                    <tr>
                        <td class="field-label">Jumlah Wadah</td>
                        <td class="field-value">${N}</td>
                    </tr>
                    <tr>
                        <td class="field-label">Tgl. Diterima</td>
                        <td class="field-value">
                            ${se(le.tanggalTerima)} &nbsp;&nbsp;&nbsp; -
                            ${be(le.tanggalTerima)} WIB &nbsp;&nbsp;&nbsp;
                            
                        </td>
                    </tr>
                    <tr>
                        <td class="field-label">Kategori</td>
                        <td class="field-value">${le.kategori||""}</td>
                    </tr>
                    <tr>
                        <td class="field-label">Nama Driver</td>
                        <td class="field-value">${le.namaDriver}</td>
                    </tr>
                    <tr>
                        <td class="field-label">No Kendaraan</td>
                        <td class="field-value">${le.noKendaraan}</td>
                    </tr>
                </table>
                
                <table class="data-table">
                    <thead>
                        <tr>
                            <th rowspan="2" class="main-header wadah-col">Wadah Ke-</th>
                            <th colspan="4" class="main-header kemasan-header">Kemasan</th>
                            <th colspan="2" class="main-header label-header">Label</th>
                            <th colspan="4" class="main-header">Jumlah</th>
                        </tr>
                        <tr>
                            <th class="sub-header kemasan-cols">BAIK</th>
                            <th class="sub-header kemasan-cols">TIDAK BAIK</th>
                            <th class="sub-header kemasan-cols">Sobek</th>
                            <th class="sub-header kemasan-cols">Penyok yang mempengaruhi material</th>
                            <th class="sub-header label-cols">Ada</th>
                            <th class="sub-header label-cols">Tidak</th>
                            <th class="sub-header unit-header">Unit</th>
                            <th class="sub-header jumlah-headers">Bruto</th>
                            <th class="sub-header jumlah-headers">Tara</th>
                            <th class="sub-header jumlah-headers">Netto</th>
                        </tr>
                        <tr>
                            <th style="height: 25px; font-size: 8px;"></th>
                            <th style="height: 25px; font-size: 7px; line-height: 1;">
                                Bersih, utuh, tidak<br>sobek/penyok, dll
                            </th>
                            <th style="height: 25px; font-size: 7px; line-height: 1;">
                                Kotor (potensi kotor<br>sampai kedalam)
                            </th>
                            <th style="height: 25px; font-size: 8px;"></th>
                            <th style="height: 25px; font-size: 8px;"></th>
                            <th style="height: 25px; font-size: 8px;"></th>
                            <th style="height: 25px; font-size: 8px;"></th>
                            <th style="height: 25px; font-size: 8px;">Jumlah</th>
                            <th style="height: 25px; font-size: 8px;"></th>
                            <th style="height: 25px; font-size: 8px;"></th>
                            <th style="height: 25px; font-size: 8px;"></th>
                        </tr>
                    </thead>
                    <tbody>
                        ${Y}
                    </tbody>
                </table>
                
                <div class="signature-section">
                    <div class="signature-left">
                        <div class="signature-title">Dilaporkan oleh</div>
                        <div class="signature-fields">
                            <div>Nama &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:</div>
                            <div>Tanggal &nbsp;&nbsp;:</div>
                        </div>
                    </div>
                    <div class="signature-right">
                        <div class="signature-title">Diperiksa Oleh</div>
                        <div class="signature-fields">
                            <div>Nama &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:</div>
                            <div>Tanggal &nbsp;&nbsp;:</div>
                        </div>
                    </div>
                </div>
                
                <div class="footer-note">
                    *khusus untuk bahan baku
                </div>
            </div>
            
            <div class="no-print" style="margin-top: 20px; text-align: center;">
                <button onclick="window.print()" style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;">Print</button>
                <button onclick="window.close()" style="padding: 10px 20px; background: #6c757d; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 10px;">Close</button>
            </div>
        </body>
        </html>
    `),ie.document.close(),ie.focus()},Oe=le=>{const ie=window.open("","_blank");let ae="";le.items.forEach(Ne=>{ae+=`
      <tr>
        <td style="border: 1px solid #000; padding: 8px;">${Ne.kodeItem}</td>
        <td style="border: 1px solid #000; padding: 8px;">${Ne.namaMaterial}</td>
        <td style="border: 1px solid #000; padding: 8px; text-align: right;">${Ne.qtyUnit}</td>
        <td style="border: 1px solid #000; padding: 8px; text-align: center;">Pcs</td>
      </tr>
    `}),ie.document.write(`
    <html>
      <head>
        <title>Good Receipt Slip - ${le.noSuratJalan}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; font-size: 12px; }
          .letterhead { text-align: center; margin-bottom: 20px; border-bottom: 2px solid #000; padding-bottom: 15px; }
          .company-info { margin-bottom: 10px; }
          .addresses { display: flex; justify-content: space-between; margin: 20px 0; }
          .address-box { border: 1px solid #000; padding: 15px; width: 45%; }
          .shipment-info { margin: 20px 0; }
          .shipment-table { width: 100%; border-collapse: collapse; margin: 10px 0; }
          .shipment-table th, .shipment-table td { border: 1px solid #000; padding: 5px; }
          .shipment-table th { background-color: #f0f0f0; font-weight: bold; text-align: center; }
          .items-table { width: 100%; border-collapse: collapse; margin: 20px 0; }
          .items-table th, .items-table td { border: 1px solid #000; padding: 8px; }
          .items-table th { background-color: #f0f0f0; font-weight: bold; text-align: center; }
          .signature-section { display: flex; justify-content: space-between; margin-top: 40px; }
          .signature-box { text-align: center; width: 200px; }
          @media print {
            body { margin: 0; }
            .no-print { display: none; }
          }
        </style>
      </head>
      <body>
        <div class="letterhead">
          <div class="company-info">
            <strong>PT. Gondowangi Tradisional Kosmetika</strong><br>
            JL. JABABEKA BLOK U NO. 29-C<br>
            RT/RW:03/03 KARANG BARU<br>
            BEKASI<br>
            Indonesia<br>
            Phone: (021) 8910 7915 - 17 | Fax: (021) 8910 7919 | Website: www.gondowangi.com<br>
            Contact : Reza Rizky - Page: 1
          </div>
        </div>
        
        <div class="addresses">
          <div class="address-box">
            <strong>Supplier Address :</strong><br>
            ${le.supplier}<br>
            Jl. Satria Raya II No. 32 RT 05 RW 09 Margahayu<br>
            Utara-Babakan Ciparay<br>
            Bandung<br>
            Indonesia
          </div>
          <div class="address-box">
            <strong>Contact Address :</strong><br>
            +62.22.5417871
          </div>
        </div>
        
        <div class="shipment-info">
          <strong>Incoming Shipment : ${le.incomingNumber}</strong>
        </div>
        
        <table class="shipment-table">
          <tr>
            <th>No SJ</th>
            <th>Order(Origin)</th>
            <th>Date</th>
            <th>Input by</th>
            <th>No Truck</th>
            <th>Driver Name</th>
          </tr>
          <tr>
            <td>${le.noSuratJalan}</td>
            <td>${le.noPo}</td>
            <td>${ee(le.tanggalTerima)}</td>
            <td>Dita A.P</td>
            <td>${le.noKendaraan}</td>
            <td>${le.namaDriver}</td>
          </tr>
        </table>
        
        <table class="items-table">
          <thead>
            <tr>
              <th>Code</th>
              <th>Description</th>
              <th>Quantity</th>
              <th>UoM</th>
            </tr>
          </thead>
          <tbody>
            ${ae}
          </tbody>
        </table>
        
        <div class="signature-section">
          <div class="signature-box">
            <strong>Approved By,</strong><br><br><br><br>
            <div style="border-top: 1px solid #000; padding-top: 5px;">
              Reza Rizky<br>
              DD/MM/YYYY
            </div>
          </div>
          <div class="signature-box">
            <strong>Received By,</strong><br><br><br><br>
            <div style="border-top: 1px solid #000; padding-top: 5px;">
              Permadi Rohiman<br>
              DD/MM/YYYY
            </div>
          </div>
        </div>
        
        <div class="no-print" style="margin-top: 20px; text-align: center;">
          <button onclick="window.print()" style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;">Print</button>
          <button onclick="window.close()" style="padding: 10px 20px; background: #6c757d; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 10px;">Close</button>
        </div>
      </body>
    </html>
  `),ie.document.close(),ie.focus()},Re=le=>{const ie=[];return!le||!le.items||(le.items.forEach(ae=>{const Ne=parseInt(ae.qtyWadah||0);for(let Me=1;Me<=Ne;Me++){const ze=`${le.incomingNumber}|${ae.kodeItem}|${ae.batchLot}|${Me}|${ae.expDate}`;ie.push({qrContent:ze,kodeItem:ae.kodeItemDisplay||ae.kodeItem,namaMaterial:ae.namaMaterial,batchLot:ae.batchLot,qtyUnit:ae.qtyUnit,qtyWadah:Ne,wadahKe:Me,expDate:ae.expDate,supplier:le.supplier,tanggalTerima:le.tanggalTerima})}}),le.qrCodeLabels=ie),ie},ge=le=>{g.value=le,Re(g.value),c.value=!0,setTimeout(()=>{ve()},100)},ve=()=>{if(g.value?.qrCodeLabels){if(typeof p0>"u"){console.error("QRCode library not loaded");return}g.value.qrCodeLabels.forEach((le,ie)=>{const ae=document.querySelector(`canvas[data-qr-canvas="${ie}"]`);if(ae){ae.getContext("2d").clearRect(0,0,ae.width,ae.height);try{p0.toCanvas(ae,le.qrContent,{width:180,height:180,margin:1,errorCorrectionLevel:"M",color:{dark:"#000000",light:"#FFFFFF"}},function(Me){Me&&console.error("QR Code generation error:",Me)})}catch(Me){console.error("Failed to generate QR code:",Me)}}})}},re=le=>{const ie=g.value.items.findIndex(Ne=>Ne===le),ae=document.querySelector(`canvas[data-qr-canvas="${ie}"]`);if(ae){const Ne=document.createElement("a");Ne.download=`QR_${le.kodeItem}_${le.batchLot}.png`,Ne.href=ae.toDataURL("image/png"),Ne.click()}},ye=le=>{const ie=g.value.qrCodeLabels.findIndex(Me=>Me.qrContent===le.qrContent),ae=document.querySelector(`canvas[data-qr-canvas="${ie}"]`),Ne=co().props.auth?.user?.name||"Admin";if(ae){const Me=window.open("","_blank"),ze=ae.toDataURL("image/png"),et=se(g.value.tanggalTerima),X=se(le.expDate),Y=`${le.qtyUnit} Pcs`,L=le.qtyWadah>0?`${le.qtyUnit/le.qtyWadah} x ${le.qtyWadah} box`:"";Me.document.write(`
            <html>
            <head>
                <title>Label Karantina - ${le.kodeItem} - Wadah ${le.wadahKe}</title>
                <style>
                    body {
                        font-family: 'Arial', sans-serif;
                        margin: 0;
                        padding: 0;
                        display: flex;
                        justify-content: center;
                        align-items: flex-start;
                        min-height: 100vh;
                        background-color: #f0f0f0;
                    }
                    .label-container {
                        width: 10cm; /* Lebar label yang lebih besar agar mirip contoh */
                        height: 7cm; /* Tinggi label */
                        border: 2px solid #000;
                        padding: 5px;
                        box-sizing: border-box;
                        background-color: #fff;
                        display: flex;
                        flex-direction: column;
                        font-size: 10px; 
                        margin-top: 20px; 
                    }
                    .header {
                        display: flex;
                        flex-direction: column;
                        align-items: center;
                        border-bottom: 2px solid #000;
                        padding-bottom: 5px;
                        margin-bottom: 5px;
                    }
                    .logo-img {
                        width: 90px; /* Ukuran logo lebih besar */
                        height: auto;
                        margin-bottom: 5px;
                    }
                    .company-name {
                        font-weight: bold;
                        font-size: 16px; /* Font lebih besar */
                        color: #2d5f3f; 
                        margin-top: 3px;
                    }
                    .status-box {
                        margin-top: 5px;
                        border: 1px solid #000;
                        padding: 2px 5px;
                        font-weight: bold;
                        font-size: 14px; /* Font lebih besar */
                        background-color: #000;
                        color: #fff;
                        width: 100%;
                        text-align: center;
                    }
                    .content {
                        display: flex;
                        flex-grow: 1;
                        padding-top: 5px;
                        gap: 10px; /* Jarak antara info dan QR */
                    }
                    .info-section {
                        flex: 1;
                        display: flex;
                        flex-direction: column;
                        justify-content: space-between;
                    }
                    .info-row {
                        display: flex;
                        margin-bottom: 2px;
                        align-items: baseline; /* Agar teks sejajar di baris pertama */
                    }
                    .info-label {
                        width: 80px; /* Sesuaikan lebar label teks */
                        min-width: 80px;
                        font-weight: normal;
                        flex-shrink: 0;
                    }
                    .info-value {
                        flex: 1;
                        font-weight: bold;
                        overflow: hidden;
                        text-overflow: ellipsis;
                    }
                    .info-value.multi-line {
                        white-space: normal; /* Izinkan wrap untuk detail box */
                    }

                    .qr-section {
                        width: 80px; /* Ukuran QR Code */
                        height: 80px; 
                        display: flex;
                        flex-direction: column;
                        justify-content: flex-start;
                        align-items: flex-end; 
                        flex-shrink: 0; /* Pastikan QR tidak menyusut */
                    }
                    .qr-code {
                        width: 100%;
                        height: 100%;
                        border: 1px solid #ccc;
                    }
                    .footer {
                        display: flex;
                        justify-content: space-between;
                        font-size: 10px; /* Font footer */
                        border-top: 2px solid #000;
                        padding-top: 5px;
                        margin-top: 5px;
                    }
                    .footer-left {
                        font-style: italic;
                    }
                    .footer-right {
                        font-weight: bold;
                    }

                    /* Untuk mode print */
                    @media print {
                        body {
                            background-color: #fff;
                            display: block; 
                            margin: 0;
                            padding: 0;
                            -webkit-print-color-adjust: exact;
                            print-color-adjust: exact;
                        }
                        .label-container {
                            margin: 0;
                            border: 1px solid #000; 
                        }
                        .no-print {
                            display: none;
                        }
                        @page {
                            size: 10cm 7cm; /* Custom size jika ini 1 label per halaman */
                            margin: 0; /* Hapus margin halaman jika ini 1 label per halaman */
                        }
                    }
                </style>
            </head>
            <body>
                <div class="label-container">
                    <div class="header">
                        <img src="https://karir-production.nos.jkt-1.neo.id/logos/05/6980305/logo_gondowangi.png" alt="Logo Gondowangi" class="logo-img">
                        
                        <div class="status-box">KARANTINA</div>
                    </div>
                    
                    <div class="content">
                        <div class="info-section">
                            <div class="info-row">
                                <div class="info-label">Nama Barang</div>
                                <div class="info-value">: [${le.kodeItem}] ${le.namaMaterial}</div>
                            </div>
                            <div class="info-row">
                                <div class="info-label">Kode Barang</div>
                                <div class="info-value">: ${le.kodeItem}</div>
                            </div>
                            <div class="info-row">
                                <div class="info-label">No Lot</div>
                                <div class="info-value">: ${le.batchLot}</div>
                            </div>
                            <div class="info-row">
                                <div class="info-label">Supplier</div>
                                <div class="info-value">: ${le.supplier}</div>
                            </div>
                            <div class="info-row">
                                <div class="info-label">Jmlh Barang</div>
                                <div class="info-value">: ${Y}</div>
                            </div>
                            ${L?`<div class="info-row">
                                <div class="info-label"></div>
                                <div class="info-value multi-line">: ${L}</div>
                            </div>`:""}
                            <div class="info-row">
                                <div class="info-label">Tgl Datang</div>
                                <div class="info-value">: ${et}</div>
                            </div>
                            <div class="info-row">
                                <div class="info-label">Exp. Date</div>
                                <div class="info-value">: ${X}</div>
                            </div>
                            <div class="info-row">
                                <div class="info-label">Dibuat Oleh</div>
                                <div class="info-value">: ${Ne}</div>
                            </div>
                        </div>
                        
                        <div class="qr-section">
                            <img src="${ze}" class="qr-code" alt="QR Code">
                        </div>
                    </div>
                    
                    <div class="footer">
                        <span class="footer-left">Logistik</span>
                        <span class="footer-right">QL1001-01 Rev. 02</span>
                    </div>
                </div>
                
                <div class="no-print" style="margin-top: 20px; text-align: center;">
                    <button onclick="window.print()" style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;">Print</button>
                    <button onclick="window.close()" style="padding: 10px 20px; background: #6c757d; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 10px; font-size: 14px;">Close</button>
                </div>
            </body>
            </html>
        `),Me.document.close(),Me.focus(),setTimeout(()=>{Me.print()},500)}},Ke=()=>{const le=g.value?.qrCodeLabels;if(!le||le.length===0){alert("Tidak ada label QR untuk dicetak.");return}const ie=window.open("","_blank"),ae=co().props.auth?.user?.name||"Admin",Ne=6,Me="https://karir-production.nos.jkt-1.neo.id/logos/05/6980305/logo_gondowangi.png";let ze="";for(let et=0;et<le.length;et+=Ne){const X=le.slice(et,et+Ne);let Y="";X.forEach((L,N)=>{const B=et+N,M=document.querySelector(`canvas[data-qr-canvas="${B}"]`);let ue="";const _e=L.wadahKe===1;_e&&M&&(ue=M.toDataURL("image/png"));const te=_e?`<img src="${ue}" class="qr-code" alt="QR Code">`:'<div class="qr-placeholder">NO QR</div>',Z=se(g.value.tanggalTerima),fe=se(L.expDate),ce=`${L.qtyUnit} Pcs`,de=L.qtyWadah>0?`${L.qtyUnit/L.qtyWadah} x ${L.qtyWadah} box`:"";Y+=`
          <div class="label-wrapper">
              <div class="label-container">
                  <div class="header">
                      <img src="${Me}" alt="Logo Gondowangi" class="logo-img">
                      <div class="status-box">KARANTINA</div>
                  </div>
                  
                  <div class="content">
                      <div class="info-section">
                          <div class="info-row">
                              <div class="info-label">Nama Barang</div>
                              <div class="info-value">: [${L.kodeItem}] ${L.namaMaterial}</div>
                          </div>
                          <div class="info-row">
                              <div class="info-label">Kode Barang</div>
                              <div class="info-value">: ${L.kodeItem}</div>
                          </div>
                          <div class="info-row">
                              <div class="info-label">No Lot</div>
                              <div class="info-value">: ${L.batchLot}</div>
                          </div>
                          <div class="info-row">
                              <div class="info-label">Supplier</div>
                              <div class="info-value">: ${L.supplier}</div>
                          </div>
                          <div class="info-row">
                              <div class="info-label">Jmlh Barang</div>
                              <div class="info-value">: ${ce}</div>
                          </div>
                          ${de?`<div class="info-row">
                              <div class="info-label">Wadah Detail</div>
                              <div class="info-value multi-line">: ${de}</div>
                          </div>`:""}
                          <div class="info-row">
                              <div class="info-label">Wadah Ke</div>
                              <div class="info-value">: ${L.wadahKe} / ${L.qtyWadah}</div>
                          </div>
                          <div class="info-row">
                              <div class="info-label">Tgl Datang</div>
                              <div class="info-value">: ${Z}</div>
                          </div>
                          <div class="info-row">
                              <div class="info-label">Exp. Date</div>
                              <div class="info-value">: ${fe}</div>
                          </div>
                          <div class="info-row">
                              <div class="info-label">Dibuat Oleh</div>
                              <div class="info-value">: ${ae}</div>
                          </div>
                      </div>
                      
                      <div class="qr-section">
                          ${te}
                      </div>
                  </div>
                  
                  <div class="footer">
                      <span class="footer-left">Logistik</span>
                      <span class="footer-right">Rev. 02</span>
                  </div>
              </div>
          </div>
      `}),ze+=`
            <div class="print-page" style="${et>0?"page-break-before: always;":""}">
                ${Y}
            </div>
        `}ie.document.write(`
        <html>
        <head>
            <title>Cetak ${le.length} Label QR - ${g.value.noSuratJalan}</title>
            <style>
                /* Pengaturan Halaman A4 untuk cetak 6 label (2x3) */
                @page {
                    size: A4;
                    margin: 0.5cm; /* Margin halaman disetel */
                }
                
                body {
                    font-family: 'Arial', sans-serif;
                    margin: 0;
                    padding: 0;
                    background: white;
                }
                
                .print-page {
                    width: 20cm; /* Lebar A4 efektif */
                    height: 28.7cm; /* Tinggi A4 efektif */
                    margin: 0.5cm auto; 
                    box-sizing: border-box;
                    display: flex;
                    flex-wrap: wrap;
                    align-content: flex-start;
                    justify-content: space-between; 
                }

                /* Container untuk setiap label. 
                   2 kolom (49%) dan 3 baris (33.33% - margin) */
                .label-wrapper {
                    width: 9.9cm; /* Hampir 10cm untuk 2 kolom */
                    height: calc(33.33% - 0.4cm); /* 3 baris di tinggi A4 dikurangi margin */
                    padding: 0; 
                    box-sizing: border-box;
                    margin-bottom: 0.4cm; /* Jarak antar baris */
                    margin-right: 0.1cm;
                    margin-left: 0.1cm;
                }
                
                /* ===========================================
                   GAYA DARI printSingleQR (Diselaraskan)
                   =========================================== */

                .label-container {
                    width: 100%; 
                    height: 100%; 
                    border: 2px solid #000;
                    padding: 5px; /* Padding mirip single QR */
                    box-sizing: border-box;
                    background-color: #fff;
                    display: flex;
                    flex-direction: column;
                    font-size: 10px; /* Font size dinaikkan agar mirip single QR */
                }
                .header {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    border-bottom: 2px solid #000;
                    padding-bottom: 5px; 
                    margin-bottom: 5px; 
                }
                .logo-img {
                    width: 130px; /* Ukuran logo dikembalikan ke single QR */
                    height: auto;
                    margin-bottom: 5px;
                }
                .status-box {
                    margin-top: 5px;
                    border-top: 0.8px solid #000; /* Menggunakan 2px agar tebal seperti border header/footer */
                    border-bottom: none;
                    border-left: none;
                    border-right: none;
                    padding: 2px 5px;
                    font-weight: bold;
                    font-size: 14px; 
                    padding: 2px;
                    
                    color: #000; 
                    width: 100%;
                    text-align: center;
                }
                .content {
                    display: flex;
                    flex-grow: 1;
                    padding-top: 5px;
                    gap: 10px; /* Jarak dikembalikan ke single QR */
                }
                .info-section {
                    flex: 1;
                    display: flex;
                    flex-direction: column;
                    justify-content: space-between;
                }
                .info-row {
                    display: flex;
                    margin-bottom: 2px;
                    align-items: baseline;
                }
                .info-label {
                    width: 80px; /* Lebar label teks dikembalikan ke single QR */
                    min-width: 80px;
                    font-weight: normal;
                    flex-shrink: 0;
                }
                .info-value {
                    flex: 1;
                    font-weight: bold;
                    overflow: hidden;
                    text-overflow: ellipsis;
                }
                .info-value.multi-line {
                    white-space: normal; 
                }

                .qr-section {
                    width: 80px; /* Ukuran QR Code dikembalikan ke single QR */
                    height: 80px; 
                    display: flex;
                    flex-direction: column;
                    justify-content: flex-start;
                    align-items: flex-end; 
                    flex-shrink: 0;
                }
                .qr-code {
                    width: 100%;
                    height: 100%;
                    border: 1px solid #ccc;
                }
                .qr-placeholder { /* Gaya untuk NO QR */
                    width: 100%;
                    height: 100%;
                    border: 1px dashed #999;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 10px;
                    color: #999;
                    font-weight: bold;
                }
                
                .footer {
                    display: flex;
                    justify-content: space-between;
                    font-size: 10px; /* Font footer dikembalikan ke single QR */
                    border-top: 2px solid #000;
                    padding-top: 25px;
                    margin-top: 5px;
                }
                .footer-left {
                    font-style: italic;
                }
                .footer-right {
                    font-weight: bold;
                }
                
                /* Untuk mode print */
                @media print {
                    .print-page { 
                        page-break-after: always;
                        width: initial;
                        height: initial;
                        padding: 1px;
                    }
                    .print-page:last-child { page-break-after: avoid; }
                    body { 
                        -webkit-print-color-adjust: exact; 
                        print-color-adjust: exact;
                        display: block;
                        margin: 0;
                    }
                    /* Mengganti border tebal di print */
                    .label-container {
                        border-top: 0.8px solid #000; 
                        padding: 2px;
                    }
                        
                    .header {
                        border-bottom: 0.8px solid #000; 
                        padding: 2px;
                        padding-bottom: 0px; 
                        margin-bottom: 0px; 
                    }
                    .footer {
                        border-top: 0.8px solid #000; 
                        padding-top: 30px;
                        margin-top: 3px;
                    }
                }
            </style>
        </head>
        <body>
            ${ze}
        </body>
        </html>
    `),ie.document.close(),ie.focus(),setTimeout(()=>{ie.print()},500)};return Kn(()=>{F()}),(le,ie)=>(W(),Tt(Yn,{title:"Riwayat Aktivitas"},{default:yt(()=>[i("div",GL,[i("div",QL,[ie[13]||(ie[13]=i("h2",{class:"text-2xl font-bold text-gray-900"},"Daftar Penerimaan",-1)),i("button",{onClick:ie[0]||(ie[0]=ae=>a.value=!0),class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},[...ie[12]||(ie[12]=[i("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),Qe(" Buat Penerimaan ",-1)])])]),i("div",KL,[i("div",YL,[i("table",XL,[ie[14]||(ie[14]=i("thead",{class:"bg-gray-50"},[i("tr",null,[i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"No PO"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"No Surat Jalan"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Supplier"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tanggal Terima"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"No Kendaraan "),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),i("tbody",ZL,[(W(!0),Q(He,null,ot(e.shipments,ae=>(W(),Q("tr",{key:ae.id,class:"hover:bg-gray-50"},[i("td",JL,R(ae.noPo),1),i("td",e$,R(ae.noSuratJalan),1),i("td",t$,R(ae.supplier),1),i("td",n$,R(ee(ae.tanggalTerima)),1),i("td",r$,R(ae.noKendaraan),1),i("td",s$,[i("span",{class:Pe([he(ae.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(ae.status),3)]),i("td",o$,[i("div",i$,[i("button",{onClick:Ne=>C(ae),class:"bg-indigo-100 text-indigo-700 hover:bg-indigo-200 px-2 py-1 rounded text-xs"},"Detail",8,a$),i("button",{onClick:Ne=>we(ae),class:"bg-green-100 text-green-700 hover:bg-green-200 px-2 py-1 rounded text-xs"},"Cetak Checklist",8,l$),i("button",{onClick:Ne=>Oe(ae),class:"bg-purple-100 text-purple-700 hover:bg-purple-200 px-2 py-1 rounded text-xs"},"Cetak Finance",8,c$),i("button",{onClick:Ne=>ge(ae),class:"bg-blue-600 text-white hover:bg-blue-700 px-2 py-1 rounded text-xs"}," Cetak Label QR ",8,d$)])])]))),128))])])])]),u.value?(W(),Q("div",u$,[i("div",x$,[i("div",f$,[i("div",h$,[i("h3",g$,"Detail Penerimaan - "+R(g.value?.noSuratJalan),1),i("button",{onClick:A,class:"text-gray-400 hover:text-gray-600"},[...ie[15]||(ie[15]=[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",p$,[i("div",m$,[i("div",null,[ie[16]||(ie[16]=i("span",{class:"font-medium text-gray-700"},"No Incoming:",-1)),i("span",y$,R(g.value?.incomingNumber),1)]),i("div",null,[ie[17]||(ie[17]=i("span",{class:"font-medium text-gray-700"},"No PO:",-1)),i("span",b$,R(g.value?.noPo),1)]),i("div",null,[ie[18]||(ie[18]=i("span",{class:"font-medium text-gray-700"},"Supplier:",-1)),i("span",E$,R(g.value?.supplier),1)]),i("div",null,[ie[19]||(ie[19]=i("span",{class:"font-medium text-gray-700"},"No Kendaraan:",-1)),i("span",v$,R(g.value?.noKendaraan),1)]),i("div",null,[ie[20]||(ie[20]=i("span",{class:"font-medium text-gray-700"},"Nama Driver:",-1)),i("span",C$,R(g.value?.namaDriver),1)]),i("div",null,[ie[21]||(ie[21]=i("span",{class:"font-medium text-gray-700"},"Tanggal Terima:",-1)),i("span",w$,R(ee(g.value?.tanggalTerima)),1)]),i("div",null,[ie[22]||(ie[22]=i("span",{class:"font-medium text-gray-700"},"Kategori:",-1)),i("span",A$,R(g.value?.kategori),1)]),i("div",null,[ie[23]||(ie[23]=i("span",{class:"font-medium text-gray-700"},"Status:",-1)),i("span",{class:Pe([he(g.value?.status),"ml-2 px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(g.value?.status),3)])])]),i("div",B$,[ie[25]||(ie[25]=i("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Detail Material",-1)),i("div",D$,[i("table",_$,[ie[24]||(ie[24]=i("thead",{class:"bg-gray-50"},[i("tr",null,[i("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Kode Item"),i("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Nama Material"),i("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Batch/Mfg Lot"),i("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Exp Date"),i("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Qty Wadah"),i("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Qty Unit"),i("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Kondisi"),i("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"CoA "),i("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Label Mfg"),i("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Label & CoA Sesuai"),i("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Pabrik Pembuat"),i("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Status QC")])],-1)),i("tbody",k$,[(W(!0),Q(He,null,ot(g.value?.items,(ae,Ne)=>(W(),Q("tr",{key:Ne},[i("td",S$,R(ae.kodeItem),1),i("td",F$,R(ae.namaMaterial),1),i("td",T$,R(ae.batchLot),1),i("td",I$,[i("div",M$,R(se(ae.expDate)),1),i("span",{class:Pe([J(ae.expDate).class,"px-2 py-0.5 text-xs font-medium rounded-full"])},R(J(ae.expDate).text),3)]),i("td",P$,R(parseInt(ae.qtyWadah)),1),i("td",R$,R(parseInt(ae.qtyUnit)),1),i("td",O$,[i("div",N$,[ae.kondisiBaik?(W(),Q("span",L$,"Baik")):me("",!0),ae.kondisiTidakBaik?(W(),Q("span",$$,"Tidak Baik")):me("",!0)])]),i("td",j$,[i("div",U$,[ae.coaAda?(W(),Q("span",H$,"Ada")):me("",!0),ae.coaTidakAda?(W(),Q("span",z$,"Tidak")):me("",!0)])]),i("td",V$,[i("div",q$,[ae.labelMfgAda?(W(),Q("span",W$,"Ada")):me("",!0),ae.labelMfgTidakAda?(W(),Q("span",G$,"Tidak")):me("",!0)])]),i("td",Q$,[i("div",K$,[ae.labelCoaSesuai?(W(),Q("span",Y$,"Sesuai")):me("",!0),ae.labelCoaTidakSesuai?(W(),Q("span",X$,"Tidak Sesuai")):me("",!0)])]),i("td",Z$,R(ae.pabrikPembuat),1),i("td",J$,[i("span",{class:Pe([ae.statusQC==="To QC"?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800","px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(ae.statusQC),3)])]))),128))])])])]),i("div",ej,[i("button",{onClick:A,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"}," Tutup "),i("button",{onClick:ie[1]||(ie[1]=ae=>we(g.value)),class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700"}," Cetak Checklist "),i("button",{onClick:ie[2]||(ie[2]=ae=>Oe(g.value)),class:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700"}," Cetak Finance "),i("button",{onClick:ie[3]||(ie[3]=ae=>ge(g.value)),class:"bg-blue-600 hover:bg-blue-700 px-4 py-2 text-white rounded-md"}," Cetak Label QR ")])])])])):me("",!0),c.value?(W(),Q("div",tj,[i("div",nj,[i("div",rj,[i("div",sj,[i("h3",oj,"Label QR Code - "+R(g.value?.noSuratJalan),1),i("button",{onClick:_,class:"text-gray-400 hover:text-gray-600"},[...ie[26]||(ie[26]=[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",ij,[i("div",aj,[i("div",null,[ie[27]||(ie[27]=i("span",{class:"font-medium text-gray-700"},"No PO:",-1)),i("span",lj,R(g.value?.noPo),1)]),i("div",null,[ie[28]||(ie[28]=i("span",{class:"font-medium text-gray-700"},"Supplier:",-1)),i("span",cj,R(g.value?.supplier),1)]),i("div",null,[ie[29]||(ie[29]=i("span",{class:"font-medium text-gray-700"},"No Kendaraan:",-1)),i("span",dj,R(g.value?.noKendaraan),1)]),i("div",null,[ie[30]||(ie[30]=i("span",{class:"font-medium text-gray-700"},"Tanggal:",-1)),i("span",uj,R(ee(g.value?.tanggalTerima)),1)])])]),i("div",xj,[ie[34]||(ie[34]=i("h4",{class:"text-md font-medium text-gray-900"},"Daftar QR Code per Item:",-1)),g.value?.qrCodeLabels&&g.value.qrCodeLabels.length>0?(W(),Q("div",fj,[(W(!0),Q(He,null,ot(g.value.qrCodeLabels,(ae,Ne)=>(W(),Q("div",{key:Ne,class:"border border-gray-200 rounded-lg p-4"},[i("div",hj,[i("div",null,[i("div",gj,"["+R(ae.kodeItem)+"] - "+R(ae.namaMaterial),1),i("div",pj,[i("div",null,"Batch: "+R(ae.batchLot),1),i("div",null,"Wadah Ke: **"+R(ae.wadahKe)+"** / "+R(ae.qtyWadah),1),i("div",null,"Qty: "+R(ae.qtyUnit),1),i("div",null,"Exp: "+R(ae.expDate),1)]),i("div",mj,[ie[31]||(ie[31]=i("strong",null,"QR Content:",-1)),ie[32]||(ie[32]=i("br",null,null,-1)),Qe(R(ae.qrContent),1)]),i("div",yj,[i("button",{onClick:Me=>ye(ae),class:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm"}," Cetak QR Wadah "+R(ae.wadahKe),9,bj)])]),i("div",Ej,[i("div",vj,[i("canvas",{"data-qr-canvas":Ne,class:"block"},null,8,Cj)]),ie[33]||(ie[33]=i("div",{class:"text-xs text-gray-500 text-center"}," Preview QR Code ",-1))])])]))),128))])):(W(),Q("div",wj," Belum ada item untuk shipment ini "))]),i("div",{class:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200"},[i("button",{onClick:_,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"}," Tutup "),i("button",{onClick:Ke,class:"bg-blue-600 hover:bg-blue-700 px-4 py-2 text-white rounded-md"}," Cetak Semua QR ")])])])])):me("",!0),a.value?(W(),Q("div",Aj,[i("div",Bj,[i("div",Dj,[i("div",{class:"flex justify-between items-center mb-6"},[ie[36]||(ie[36]=i("h3",{class:"text-lg font-semibold text-gray-900"},"Buat Penerimaan Baru",-1)),i("button",{onClick:D,class:"text-gray-400 hover:text-gray-600"},[...ie[35]||(ie[35]=[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",_j,[ie[39]||(ie[39]=i("h4",{class:"font-bold text-indigo-700 mb-3 flex items-center"},[i("svg",{class:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[i("path",{"fill-rule":"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L10 11.586l2.293-2.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z","clip-rule":"evenodd"}),i("path",{"fill-rule":"evenodd",d:"M10 2a1 1 0 011 1v7a1 1 0 11-2 0V3a1 1 0 011-1z","clip-rule":"evenodd"})]),Qe(" Opsi 1: Upload Data Penerimaan dari PDF ERP ")],-1)),i("div",kj,[i("div",Sj,[ie[37]||(ie[37]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"File PDF dari ERP",-1)),i("input",{onChange:T,type:"file",accept:".pdf",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white text-gray-900 text-sm"},null,32)]),i("button",{onClick:j,disabled:!f.value.erpPdfFile||m.value,class:"w-full sm:w-auto px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:bg-indigo-300 flex items-center justify-center transition-colors"},[m.value?(W(),Q("svg",Tj,[...ie[38]||(ie[38]=[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):me("",!0),Qe(" "+R(m.value?"Memproses...":"Proses File ERP"),1)],8,Fj)]),f.value.isErpDataLoaded?(W(),Q("p",Ij," Data dari PDF ERP berhasil dimuat! Mohon cek dan lengkapi rincian di bawah. ")):me("",!0)]),i("div",Mj,[i("div",null,[i("label",Pj,[ie[40]||(ie[40]=Qe("No Incoming (ERP) ",-1)),f.value.incomingNumber?(W(),Q("span",Rj,"(Otomatis)")):me("",!0)]),Ce(i("input",{"onUpdate:modelValue":ie[4]||(ie[4]=ae=>f.value.incomingNumber=ae),type:"text",placeholder:"Auto dari sistem/ERP",readonly:!!f.value.incomingNumber,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-100 text-gray-900"},null,8,Oj),[[$e,f.value.incomingNumber]])]),i("div",null,[ie[41]||(ie[41]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"No PO *",-1)),Ce(i("input",{"onUpdate:modelValue":ie[5]||(ie[5]=ae=>f.value.noPo=ae),type:"text",placeholder:"Masukkan No PO",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[$e,f.value.noPo]])]),i("div",null,[ie[42]||(ie[42]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"No Surat Jalan *",-1)),Ce(i("input",{"onUpdate:modelValue":ie[6]||(ie[6]=ae=>f.value.noSuratJalan=ae),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[$e,f.value.noSuratJalan]])]),i("div",null,[ie[43]||(ie[43]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Supplier * ",-1)),i("div",Nj,[Ce(i("input",{"onUpdate:modelValue":ie[7]||(ie[7]=ae=>n.value=ae),onInput:q,type:"text",placeholder:"Ketik untuk mencari Supplier...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,544),[[$e,n.value]]),r.value.length>0&&n.value?(W(),Q("div",Lj,[(W(!0),Q(He,null,ot(r.value,ae=>(W(),Q("div",{key:ae.id,onClick:Ne=>S(ae),class:"px-3 py-2 cursor-pointer hover:bg-blue-50 text-gray-900"},R(ae.nama_supplier),9,$j))),128))])):me("",!0)]),f.value.supplierName?(W(),Q("p",jj," **Dipilih:** "+R(f.value.supplierName),1)):me("",!0)]),i("div",null,[ie[44]||(ie[44]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"No Kendaraan *",-1)),Ce(i("input",{"onUpdate:modelValue":ie[8]||(ie[8]=ae=>f.value.noKendaraan=ae),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[$e,f.value.noKendaraan]])]),i("div",null,[ie[45]||(ie[45]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nama Driver *",-1)),Ce(i("input",{"onUpdate:modelValue":ie[9]||(ie[9]=ae=>f.value.namaDriver=ae),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[$e,f.value.namaDriver]])]),i("div",null,[ie[46]||(ie[46]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tanggal & Waktu Terima",-1)),Ce(i("input",{"onUpdate:modelValue":ie[10]||(ie[10]=ae=>f.value.tanggalTerima=ae),type:"datetime-local",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[$e,f.value.tanggalTerima]])]),i("div",null,[ie[48]||(ie[48]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Kategori",-1)),Ce(i("select",{"onUpdate:modelValue":ie[11]||(ie[11]=ae=>f.value.kategori=ae),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},[...ie[47]||(ie[47]=[i("option",{value:""},"Pilih Kategori",-1),i("option",{value:"Raw Material"},"Raw Material",-1),i("option",{value:"Packaging Material"},"Packaging Material",-1)])],512),[[dt,f.value.kategori]])]),ie[49]||(ie[49]=i("div",null,[i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Upload Dokumen"),i("input",{type:"file",multiple:"",accept:"image/*,.pdf",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"})],-1))]),i("div",Uj,[i("div",{class:"flex justify-between items-center mb-4"},[ie[50]||(ie[50]=i("h4",{class:"text-lg font-medium text-gray-900"},"Detail Material",-1)),i("button",{onClick:k,class:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm"}," + Tambah Baris ")]),i("div",Hj,[i("table",zj,[ie[52]||(ie[52]=i("thead",{class:"bg-gray-50"},[i("tr",null,[i("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Halal/Non-Halal "),i("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Bin Karantina Tujuan "),i("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Kode Item"),i("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Nama Material"),i("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Batch/Mfg Lot"),i("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Exp Date"),i("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Qty Wadah"),i("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Qty Unit"),i("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Kondisi"),i("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"CoA "),i("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Label Mfg"),i("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Label & CoA Sesuai"),i("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Pabrik Pembuat"),i("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Status QC"),i("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Aksi ")])],-1)),i("tbody",Vj,[(W(!0),Q(He,null,ot(f.value.items,(ae,Ne)=>(W(),Q("tr",{key:Ne},[i("td",qj,[i("div",Wj,[i("button",{onClick:Me=>O(ae,"isHalal"),class:Pe([ae.isHalal?"bg-green-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Halal",10,Gj),i("button",{onClick:Me=>O(ae,"isNonHalal"),class:Pe([ae.isNonHalal?"bg-red-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Non-Halal",10,Qj)])]),i("td",Kj,[Ce(i("select",{"onUpdate:modelValue":Me=>ae.binTarget=Me,class:"w-32 text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-900"},[ie[51]||(ie[51]=i("option",{value:""},"Pilih Bin QRT",-1)),(W(),Q(He,null,ot(P,Me=>i("option",{key:Me.code,value:Me.code},R(Me.code),9,Xj)),64))],8,Yj),[[dt,ae.binTarget]])]),i("td",Zj,[i("div",Jj,[Ce(i("input",{"onUpdate:modelValue":Me=>ae.skuSearch=Me,onInput:Me=>U(Ne),onFocus:Me=>ae.showSuggestions=!0,onBlur:Me=>le.setTimeout(()=>{ae.showSuggestions=!1},200),type:"text",placeholder:"Cari Kode/Nama SKU",class:"w-32 text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-900"},null,40,eU),[[$e,ae.skuSearch]])]),ae.showSuggestions&&ae.filteredMaterials.length>0?(W(),Q("div",tU,[(W(!0),Q(He,null,ot(ae.filteredMaterials,Me=>(W(),Q("div",{key:Me.id,onMousedown:sr(ze=>G(Ne,Me),["prevent"]),class:"px-3 py-2 cursor-pointer hover:bg-blue-50 text-xs text-gray-900"}," **["+R(Me.code)+"]** - "+R(Me.name),41,nU))),128))])):me("",!0),ae.kodeItem?(W(),Q("p",rU," **Dipilih:** "+R(ae.kodeItemDisplay),1)):me("",!0)]),i("td",sU,[Ce(i("input",{"onUpdate:modelValue":Me=>ae.namaMaterial=Me,type:"text",readonly:"",class:"w-40 text-sm border border-gray-300 rounded px-2 py-1 bg-gray-50 text-gray-900"},null,8,oU),[[$e,ae.namaMaterial]])]),i("td",iU,[Ce(i("input",{"onUpdate:modelValue":Me=>ae.batchLot=Me,type:"text",class:"w-28 text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-900"},null,8,aU),[[$e,ae.batchLot]])]),i("td",lU,[Ce(i("input",{"onUpdate:modelValue":Me=>ae.expDate=Me,type:"date",class:"w-36 text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-900"},null,8,cU),[[$e,ae.expDate]])]),i("td",dU,[Ce(i("input",{"onUpdate:modelValue":Me=>ae.qtyUnit=Me,type:"number",class:"w-24 text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-900"},null,8,uU),[[$e,ae.qtyUnit]])]),i("td",xU,[Ce(i("input",{"onUpdate:modelValue":Me=>ae.qtyWadah=Me,type:"number",class:"w-24 text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-900"},null,8,fU),[[$e,ae.qtyWadah]])]),i("td",hU,[i("div",gU,[i("button",{onClick:Me=>O(ae,"kondisiBaik"),class:Pe([ae.kondisiBaik?"bg-green-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Baik",10,pU),i("button",{onClick:Me=>O(ae,"kondisiTidakBaik"),class:Pe([ae.kondisiTidakBaik?"bg-red-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Tidak Baik",10,mU)])]),i("td",yU,[i("div",bU,[i("button",{onClick:Me=>O(ae,"coaAda"),class:Pe([ae.coaAda?"bg-green-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Ada",10,EU),i("button",{onClick:Me=>O(ae,"coaTidakAda"),class:Pe([ae.coaTidakAda?"bg-red-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Tidak",10,vU)])]),i("td",CU,[i("div",wU,[i("button",{onClick:Me=>O(ae,"labelMfgAda"),class:Pe([ae.labelMfgAda?"bg-green-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Ada",10,AU),i("button",{onClick:Me=>O(ae,"labelMfgTidakAda"),class:Pe([ae.labelMfgTidakAda?"bg-red-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Tidak",10,BU)])]),i("td",DU,[i("div",_U,[i("button",{onClick:Me=>O(ae,"labelCoaSesuai"),class:Pe([ae.labelCoaSesuai?"bg-green-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Ada",10,kU),i("button",{onClick:Me=>O(ae,"labelCoaTidakSesuai"),class:Pe([ae.labelCoaTidakSesuai?"bg-red-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Tidak",10,SU)])]),i("td",FU,[Ce(i("input",{"onUpdate:modelValue":Me=>ae.pabrikPembuat=Me,type:"text",class:"w-32 text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-900",placeholder:"Nama pabrik"},null,8,TU),[[$e,ae.pabrikPembuat]])]),i("td",IU,[i("span",MU,R(ae.statusQC),1)]),i("td",PU,[i("button",{onClick:Me=>$(Ne),class:"bg-red-100 text-red-700 hover:bg-red-200 px-2 py-1 rounded text-xs"},"Hapus",8,RU)])]))),128))])])])]),v.value.length>0?(W(),Q("div",OU,[ie[54]||(ie[54]=i("h4",{class:"text-md font-bold text-yellow-800 mb-3"},[i("span",{class:"inline-block align-middle mr-2"},""),Qe(" Ringkasan Total Stok Masuk (Kalkulasi) ")],-1)),i("div",NU,[(W(!0),Q(He,null,ot(v.value,(ae,Ne)=>(W(),Q("div",{key:Ne,class:"bg-white p-3 rounded-md border border-yellow-300"},[ie[53]||(ie[53]=i("p",{class:"text-sm text-gray-600 truncate"},"Material:",-1)),i("p",LU,R(ae.materialName),1),i("p",$U,R(ae.totalQty)+" "+R(ae.satuan),1)]))),128))])])):me("",!0),i("div",jU,[i("div",UU,[i("button",{onClick:D,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"}," Batal "),i("button",{onClick:z,disabled:!y.value||o.value,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 flex items-center justify-center"},[o.value?(W(),Q("svg",zU,[...ie[55]||(ie[55]=[i("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),i("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):me("",!0),Qe(" "+R(o.value?"Menyimpan...":"Simpan")+"         ",1)],8,HU)])])])]),c.value?(W(),Q("div",VU,[i("div",qU,[i("div",WU,[i("div",GU,[i("h3",QU,"Label QR Code - "+R(g.value?.noSuratJalan),1),i("button",{onClick:_,class:"text-gray-400 hover:text-gray-600"},[...ie[56]||(ie[56]=[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",KU,[i("div",YU,[i("div",null,[ie[57]||(ie[57]=i("span",{class:"font-medium text-gray-700"},"No PO:",-1)),i("span",XU,R(g.value?.noPo),1)]),i("div",null,[ie[58]||(ie[58]=i("span",{class:"font-medium text-gray-700"},"Supplier:",-1)),i("span",ZU,R(g.value?.supplier),1)]),i("div",null,[ie[59]||(ie[59]=i("span",{class:"font-medium text-gray-700"},"No Kendaraan:",-1)),i("span",JU,R(g.value?.noKendaraan),1)]),i("div",null,[ie[60]||(ie[60]=i("span",{class:"font-medium text-gray-700"},"Tanggal:",-1)),i("span",eH,R(ee(g.value?.tanggalTerima)),1)])])]),i("div",tH,[ie[64]||(ie[64]=i("h4",{class:"text-md font-medium text-gray-900"},"Daftar QR Code per Item:",-1)),g.value?.items&&g.value.items.length>0?(W(),Q("div",nH,[(W(!0),Q(He,null,ot(g.value.items,(ae,Ne)=>(W(),Q("div",{key:Ne,class:"border border-gray-200 rounded-lg p-4"},[i("div",rH,[i("div",null,[i("div",sH,R(ae.kodeItem)+" - "+R(ae.namaMaterial),1),i("div",oH,[i("div",null,"Batch: "+R(ae.batchLot),1),i("div",null,"Qty: "+R(ae.qtyUnit),1),i("div",null,"Exp: "+R(ae.expDate),1)]),i("div",iH,[ie[61]||(ie[61]=i("strong",null,"QR Content:",-1)),ie[62]||(ie[62]=i("br",null,null,-1)),Qe(R(ae.qrCode),1)]),i("div",aH,[i("button",{onClick:Me=>re(ae),class:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm"}," Download QR ",8,lH),i("button",{onClick:Me=>ye(ae),class:"bg-gray-400 text-white px-3 py-1 rounded text-sm"}," Cetak QR ",8,cH)])]),i("div",dH,[i("div",uH,[i("canvas",{"data-qr-canvas":Ne,class:"block"},null,8,xH)]),ie[63]||(ie[63]=i("div",{class:"text-xs text-gray-500 text-center"}," Preview QR Code ",-1))])])]))),128))])):(W(),Q("div",fH," Belum ada item untuk shipment ini "))]),i("div",{class:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200"},[i("button",{onClick:_,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"}," Tutup "),i("button",{onClick:Ke,class:"bg-gray-400 px-4 py-2 text-white rounded-md"}," Cetak Semua QR ")])])])])):me("",!0)])):me("",!0)])]),_:1}))}}),gH=Object.freeze(Object.defineProperty({__proto__:null,default:hH},Symbol.toStringTag,{value:"Module"})),pH={class:"space-y-6"},mH={class:"flex justify-between items-center"},yH={class:"text-sm text-gray-600"},bH={class:"bg-white rounded-lg p-4 shadow"},EH={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-4 items-end"},vH={class:"md:col-span-3 lg:col-span-3"},CH={class:"flex flex-wrap gap-2"},wH={class:"md:col-span-1 lg:col-span-1"},AH={class:"bg-white rounded-lg shadow overflow-hidden"},BH={class:"overflow-x-auto"},DH={class:"min-w-full divide-y divide-gray-200"},_H={class:"bg-white divide-y divide-gray-200"},kH={key:0},SH={colspan:"7",class:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-500"},FH={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},TH=["onClick"],IH={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},MH={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},PH={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},RH={class:"px-6 py-4 whitespace-nowrap"},OH={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},NH={class:"flex space-x-2"},LH=["onClick"],$H=["onClick"],jH=["onClick"],UH={key:0,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},HH={class:"bg-white rounded-lg max-w-7xl w-full mx-4 max-h-[90vh] overflow-y-auto"},zH={class:"p-6"},VH={class:"flex justify-between items-center mb-6"},qH={class:"text-lg font-semibold text-gray-900"},WH={key:0,class:"bg-gray-50 rounded-lg p-4 mb-6"},GH={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},QH={class:"text-gray-900 font-medium"},KH={class:"text-gray-900"},YH={class:"text-gray-900"},XH={class:"bg-blue-50 rounded-lg p-4 mb-6"},ZH={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},JH={class:"text-center"},ez={class:"text-2xl font-bold text-blue-600"},tz={class:"text-center"},nz={class:"text-2xl font-bold text-green-600"},rz={class:"text-center"},sz={class:"text-2xl font-bold text-gray-600"},oz={class:"mt-4"},iz={class:"flex justify-between text-sm mb-1"},az={class:"text-blue-700"},lz={class:"w-full bg-blue-200 rounded-full h-2"},cz={class:"border border-gray-200 rounded-lg overflow-hidden"},dz={class:"overflow-x-auto"},uz={class:"min-w-full divide-y divide-gray-200",style:{"min-width":"1400px"}},xz={class:"divide-y divide-gray-200 bg-white"},fz={class:"px-3 py-2 whitespace-nowrap"},hz=["onClick","disabled"],gz={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},pz={class:"px-3 py-2 whitespace-nowrap text-sm font-medium text-gray-900"},mz={class:"text-xs text-gray-600 font-normal"},yz={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},bz={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},Ez={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},vz={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900 font-medium"},Cz={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},wz={class:"px-3 py-2 whitespace-nowrap"},Az={class:"flex justify-between items-center mt-6 pt-6 border-t border-gray-200"},Bz={class:"text-sm text-gray-600"},Dz={class:"flex space-x-3"},_z=["disabled"],kz={key:1,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},Sz={class:"bg-white rounded-lg max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto"},Fz={class:"p-6"},Tz={class:"flex justify-between items-center mb-4"},Iz={class:"text-lg font-semibold text-gray-900"},Mz={key:0,class:"bg-gray-50 p-3 rounded-lg mb-4"},Pz={class:"text-sm"},Rz={class:"font-medium text-gray-900"},Oz={class:"text-gray-600"},Nz={class:"text-gray-600"},Lz={class:"space-y-4"},$z={class:"bg-blue-50 p-3 rounded-lg"},jz={class:"text-sm font-medium text-blue-900"},Uz={class:"text-xs text-blue-700"},Hz={class:"relative bg-black rounded-lg overflow-hidden",style:{"aspect-ratio":"4/3"}},zz={key:0,class:"absolute inset-0 flex items-center justify-center"},Vz={class:"absolute top-2 right-2 bg-black bg-opacity-75 text-white px-3 py-1 rounded text-xs"},qz={class:"flex space-x-2"},Wz={class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Gz={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"},Qz={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"},Kz={key:0,class:"space-y-2"},Yz={class:"block text-sm font-medium text-gray-700"},Xz=["max"],Zz={class:"flex space-x-3"},Jz={key:2,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},eV={class:"bg-white rounded-lg max-w-7xl w-full mx-4 max-h-[90vh] overflow-y-auto"},tV={class:"p-6"},nV={class:"flex justify-between items-center mb-6"},rV={class:"text-lg font-semibold text-gray-900"},sV={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"},oV={class:"bg-blue-50 p-4 rounded-lg"},iV={class:"text-2xl font-bold text-blue-600"},aV={class:"bg-green-50 p-4 rounded-lg"},lV={class:"text-2xl font-bold text-green-600"},cV={class:"bg-gray-50 p-4 rounded-lg"},dV={class:"text-2xl font-bold text-gray-600"},uV={class:"bg-white border border-gray-200 rounded-lg overflow-hidden"},xV={class:"overflow-x-auto"},fV={class:"min-w-full divide-y divide-gray-200"},hV={class:"divide-y divide-gray-200"},gV={class:"px-4 py-3 text-sm font-medium text-gray-900"},pV={class:"px-4 py-3 text-sm text-gray-900"},mV={class:"px-4 py-3 text-sm text-gray-900"},yV={class:"px-4 py-3 text-sm text-gray-900"},bV={class:"px-4 py-3 text-sm text-gray-900"},EV={class:"px-4 py-3 text-sm text-gray-900"},vV={class:"px-4 py-3"},CV={class:"px-4 py-3 text-sm text-gray-900"},wV={__name:"PickingList",setup(e){const t=Be("ALL"),n=Be(""),r=Be([]),o=Be(!1),a=Be(!1),c=Be(!1),u=Be(null),g=Be(null),f=Be(""),m=Be(1),y=Be(null),v=Be(0),C=Be(""),A=Be(null),D=Be(null),_=Be(!1),T=Be(!1),j=Be("Kamera Off");let F=null,k=null;const P={box:{SHP001:"SHP001|LOT001|50|2025-12-31|ACTIVE",SHP002:"SHP002|LOT002|100|2025-12-31|ACTIVE",20008:"20008|BATCH-A|100|2024-10-01|ACTIVE",20009:"20009|BATCH-B|1100|2024-12-31|ACTIVE"}},$=async()=>{try{const ce=await St.get(route("transaction.api.picking-list"));r.value=ce.data}catch(ce){console.error("Error fetching picking list:",ce)}},O=We(()=>u.value?.items?u.value.items.length:0),q=We(()=>u.value?.items?u.value.items.filter(ce=>ce.status==="Picked").length:0);We(()=>u.value?.items?u.value.items.filter(ce=>ce.status==="Short-Pick").length:0);const S=We(()=>u.value?.items?u.value.items.filter(ce=>ce.status==="Reserved"||ce.status==="In Progress").length:0),U=We(()=>u.value?.items?u.value.items.filter(ce=>ce.status==="Picked"||ce.status==="Short-Pick").length:0),G=We(()=>{if(!u.value?.items)return 0;const ce=u.value.items.length,de=U.value;return ce>0?de/ce*100:0}),z=We(()=>u.value?.items?u.value.items.every(ce=>ce.status==="Picked"||ce.status==="Short-Pick"):!1),ee=We(()=>["","Scan QR Box/Material untuk validasi kode dan batch","Scan QR Source Bin untuk validasi lokasi pengambilan","Input quantity yang dipick","Scan QR Dest Bin (Staging Area) untuk validasi transfer"][m.value]),se=We(()=>g.value?.items?g.value.items.length:0),J=We(()=>g.value?.items?g.value.items.filter(ce=>ce.status==="Picked").length:0);We(()=>g.value?.items?g.value.items.filter(ce=>ce.status==="Short-Pick").length:0);const be=We(()=>g.value?.items?g.value.items.filter(ce=>ce.status==="Reserved"||ce.status==="In Progress").length:0),he=async()=>{try{j.value="Mengaktifkan kamera...";const ce={video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}};F=await navigator.mediaDevices.getUserMedia(ce),A.value&&(A.value.srcObject=F,_.value=!0,T.value=!0,j.value="Kamera Aktif - Siap Scan",Re())}catch(ce){console.error("Error accessing camera:",ce),j.value="Error: Tidak dapat mengakses kamera",console.error("Tidak dapat mengakses kamera. Pastikan Anda memberikan izin akses kamera.")}},we=()=>{F&&(F.getTracks().forEach(ce=>ce.stop()),F=null),A.value&&(A.value.srcObject=null),k&&(clearInterval(k),k=null),_.value=!1,T.value=!1,j.value="Kamera Off"},Oe=()=>{_.value?we():he()},Re=()=>{k=setInterval(()=>{!T.value||A.value},100)},ge=()=>{if(!y.value)return;let ce="";switch(m.value){case 1:ce=P.box[y.value.kodeItem]?`${y.value.kodeItem}|${y.value.lotSerial}|100|2025-12-31|ACTIVE`:`${y.value.kodeItem}|${y.value.lotSerial}|50|2025-12-31|ACTIVE`;break;case 2:ce=y.value.sourceBin;break;case 4:ce=y.value.destBin;break;default:console.warn("Step ini tidak memerlukan scan QR");return}f.value=ce;const de=j.value;j.value=" QR Terdeteksi!",setTimeout(()=>{j.value=de,L()},500)},ve=We(()=>r.value.filter(ce=>{const de=t.value==="ALL"||ce.status===t.value||t.value==="Pending"&&(ce.status==="Reserved"||ce.status==="Ready to Pick"),Se=n.value.toLowerCase().trim(),tt=!Se||ce.items.some(ct=>ct.lotSerial&&ct.lotSerial.toLowerCase().includes(Se));return de&&tt})),re=ce=>({Reserved:"bg-gray-100 text-gray-800",Pending:"bg-gray-100 text-gray-800","In Progress":"bg-yellow-100 text-yellow-800",Completed:"bg-green-100 text-green-800","Short-Pick":"bg-orange-100 text-orange-800"})[ce]||"bg-gray-100 text-gray-800",ye=ce=>({Reserved:"bg-gray-100 text-gray-700",Pending:"bg-gray-100 text-gray-700",Picked:"bg-green-100 text-green-700","Short-Pick":"bg-orange-100 text-orange-700"})[ce]||"bg-gray-100 text-gray-700",Ke=ce=>({Picked:"bg-green-50","Short-Pick":"bg-orange-50",Reserved:"bg-white",Pending:"bg-white"})[ce]||"bg-white",le=ce=>{if(!ce)return"-";try{return new Date(ce).toLocaleString("id-ID",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return ce}},ie=ce=>{console.log(`Melihat detail reservasi: ${ce}`)},ae=ce=>{g.value=ce,c.value=!0},Ne=async ce=>{if(u.value=JSON.parse(JSON.stringify(ce)),ce.status==="Reserved"||ce.status==="Pending"||ce.status==="Ready to Pick")try{await St.post(route("transaction.picking-list.update-status",ce.id),{status:"In Progress"});const de=r.value.findIndex(Se=>Se.id===ce.id);de!==-1&&(r.value[de].status="In Progress",u.value.status="In Progress",console.log(`Status Task ${ce.toNumber} diubah menjadi In Progress.`))}catch(de){console.error("Gagal update status task:",de),alert("Gagal memulai Picking Task: "+(de.response?.data?.message||de.message))}o.value=!0},Me=()=>{o.value=!1,u.value=null,Y(),$()},ze=()=>{c.value=!1,g.value=null},et=(ce,de)=>{ce.status!=="Picked"&&(y.value=JSON.parse(JSON.stringify(ce)),v.value=de,a.value=!0,Y())},X=()=>{we(),a.value=!1,Y()},Y=()=>{m.value=1,f.value="",C.value=""},L=()=>{if(!f.value&&m.value!==3){console.error("Silakan scan atau input QR Code!");return}switch(m.value){case 1:N(f.value);break;case 2:B(f.value);break;case 3:M();break;case 4:ue(f.value);break}},N=ce=>{const de=ce.split("|");if(de.length<2){console.error("Format QR Box tidak valid! Harap ikuti format: ITEM_CODE|BATCH_LOT|...");return}const Se=de[0],tt=de[1];if(Se!==y.value.kodeItem||tt!==y.value.lotSerial){console.error(`Item/Batch tidak sesuai!
Harus: ${y.value.kodeItem} - ${y.value.lotSerial}
Di-scan: ${Se} - ${tt}`);return}m.value=2,f.value="",console.log(` Item valid: ${y.value.kodeItem} - ${y.value.lotSerial}`)},B=ce=>{if(y.value){if(ce!==y.value.sourceBin){console.error(`Lokasi bin salah!
Harus: ${y.value.sourceBin}
Di-scan: ${ce}`);return}m.value=3,f.value="",C.value=y.value.qtyDiminta,console.log(` Source Bin valid: ${ce}`)}},M=()=>{const ce=parseFloat(C.value);if(isNaN(ce)||ce<=0){console.error("Silakan input quantity yang valid!");return}const de=y.value.qtyDiminta;if(ce>de){console.error(`Quantity melebihi yang dialokasikan!
Dialokasikan: ${de}
Input: ${ce}`);return}y.value.qtyPicked=ce,ce===de?(y.value.status="Picked",console.log(` Batch berhasil dipick complete: ${ce}/${de}`)):(y.value.status="Short-Pick",console.warn(` Short-pick detected: ${ce}/${de}`));const Se=u.value.items.find(tt=>tt.id===y.value.id);Se&&(Se.qtyPicked=y.value.qtyPicked,Se.status=y.value.status),y.value.destBin&&y.value.destBin!=="-"?(m.value=4,f.value=""):_e()},ue=ce=>{if(y.value){if(ce!==y.value.destBin){console.error(`Destination bin salah!
Harus: ${y.value.destBin}
Di-scan: ${ce}`);return}console.log(` Destination Bin valid: ${ce}`),_e()}},_e=()=>{console.log(`Batch ${y.value.lotSerial} untuk ${y.value.kodeItem} berhasil diselesaikan!`),X(),u.value.items.filter(de=>de.status==="Reserved"||de.status==="In Progress").length===0&&console.log('Semua alokasi batch sudah dipick! Silakan klik "Selesai Picking"')},te=()=>{m.value>1&&(m.value--,f.value="")},Z=async()=>{if(!u.value)return;if(!z.value){console.error("Mohon selesaikan semua alokasi batch sebelum menyelesaikan picking task.");return}const ce=u.value.items.map(de=>({reservation_id:de.id,picked_quantity:de.qtyPicked||0}));try{const de=await St.post(route("transaction.picking-list.store"),{reservation_request_id:u.value.id,items:ce});let Se="Picking Task berhasil diselesaikan dan status diperbarui.";de.data&&de.data.flash&&de.data.flash.message&&(Se=de.data.flash.message),alert(Se),Me()}catch(de){console.error("Error finishing picking:",de),de.response?de.response.data&&de.response.data.message?de.response.data.message:de.response.data&&de.response.data.errors?Object.values(de.response.data.errors).flat().join(`
`):`${de.response.status}${de.response.statusText}`:de.request||de.message,alert("Gagal menyelesaikan picking: "+(de.response?.data?.message||"Terjadi kesalahan pada server."))}},fe=ce=>{const de=window.open("","_blank"),Se=ce.items.length,tt=ce.items.filter(Ye=>Ye.status==="Picked").length,ct=ce.items.filter(Ye=>Ye.status==="Short-Pick").length;de.document.write(`
        <html>
            <head>
                <title>Picking List - ${ce.toNumber}</title>
                <style>
                    body { font-family: Arial, sans-serif; margin: 20px; font-size: 12px; }
                    .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 15px; margin-bottom: 20px; }
                    .info-section { margin: 15px 0; }
                    .info-row { display: flex; justify-content: space-between; margin: 8px 0; }
                    .items-table { width: 100%; border-collapse: collapse; margin: 20px 0; }
                    .items-table th, .items-table td { border: 1px solid #000; padding: 6px; text-align: left; font-size: 11px; }
                    .items-table th { background-color: #f0f0f0; font-weight: bold; }
                    .picked { background-color: #e6ffe6; }
                    .short-pick { background-color: #fff2e6; }
                    .summary { margin: 20px 0; padding: 10px; background-color: #f9f9f9; border: 1px solid #ddd; }
                    .signature { margin-top: 40px; display: flex; justify-content: space-between; }
                    .signature div { text-align: center; }
                    .signature-line { border-top: 1px solid #000; width: 150px; margin-top: 40px; }
                    @media print {
                        body { margin: 0; font-size: 10px; }
                    }
                </style>
            </head>
            <body>
                <div class="header">
                    <h2>PICKING LIST</h2>
                    <p><strong>TO Number: ${ce.toNumber}</strong></p>
                    <p>Creation Date: ${le(ce.tanggalDibuat)} | Warehouse: Main WH</p>
                </div>
                
                <div class="info-section">
                    <div class="info-row">
                        <span><strong>No Reservasi:</strong> ${ce.noReservasi}</span>
                        <span><strong>Transaction Type:</strong> Picking</span>
                    </div>
                    <div class="info-row">
                        <span><strong>Requester:</strong> ${ce.requester}</span>
                        <span><strong>Departemen:</strong> ${ce.departemen}</span>
                    </div>
                    <div class="info-row">
                        <span><strong>Status:</strong> ${ce.status}</span>
                        <span><strong>Print Date:</strong> ${new Date().toLocaleString("id-ID")}</span>
                    </div>
                </div>

                <div class="summary">
                    <strong>Summary:</strong> Total ${Se} Batch Alokasi | Picked: ${tt} | Short-pick: ${ct} | Pending: ${Se-tt-ct}
                </div>
                
                <table class="items-table">
                    <thead>
                        <tr>
                            <th rowspan="2" style="vertical-align: middle; text-align: center; width: 5%;">No</th>
                            <th rowspan="2" style="vertical-align: middle; text-align: center; width: 10%;">Code Item</th>
                            <th rowspan="2" style="vertical-align: middle; text-align: center; width: 25%;">Material Description</th>
                            <th rowspan="2" style="vertical-align: middle; text-align: center; width: 10%;">Batch/Lot</th>
                            <th colspan="2" style="text-align: center; width: 20%;">Bin Location</th>
                            <th rowspan="2" style="vertical-align: middle; text-align: center; width: 8%;">Qty Alokasi</th>
                            <th rowspan="2" style="vertical-align: middle; text-align: center; width: 5%;">UoM</th>
                            <th rowspan="2" style="vertical-align: middle; text-align: center; width: 10%;">Qty Picked</th>
                        </tr>
                        <tr>
                            <th style="text-align: center; width: 10%;">Source Bin Location</th>
                            <th style="text-align: center; width: 10%;">Dest. Bin Location</th>
                        </tr>
                    </thead>
                    <tbody>
                    ${ce.items.map((Ye,Ht)=>`
                        <tr class="${Ye.status==="Picked"?"picked":Ye.status==="Short-Pick"?"short-pick":""}" style="height: 40px;">
                            <td style="text-align: center; vertical-align: middle;">${Ht+1}</td>
                            <td style="vertical-align: middle;">${Ye.kodeItem}</td>
                            <td style="vertical-align: middle;">${Ye.namaMaterial}</td>
                            <td style="text-align: center; vertical-align: middle;">${Ye.lotSerial}</td>
                            <td style="text-align: center; vertical-align: middle;">${Ye.sourceBin}</td>
                            <td style="text-align: center; vertical-align: middle;">${Ye.destBin}</td>
                            <td style="text-align: center; vertical-align: middle;">${Ye.qtyDiminta}</td>
                            <td style="text-align: center; vertical-align: middle;">${Ye.uom}</td>
                            <td style="text-align: center; vertical-align: middle;">${Ye.qtyPicked||""}</td>
                        </tr>
                    `).join("")}
                    </tbody>
                </table>
                
                <div class="signature">
                    <div>
                        <p>Diserahkan Oleh:</p>
                        <div class="signature-line"></div>
                        <p>Warehouse Staff</p>
                    </div>
                    <div>
                        <p>Diterima Oleh:</p>
                        <div class="signature-line"></div>
                        <p>${ce.requester}</p>
                    </div>
                    <div>
                        <p>Mengetahui:</p>
                        <div class="signature-line"></div>
                        <p>Supervisor</p>
                    </div>
                </div>
            </body>
        </html>
    `),de.document.close(),de.focus(),setTimeout(()=>{de.print(),de.close()},500)};return Kn(()=>{$()}),F0(()=>{we()}),(ce,de)=>(W(),Tt(Yn,{title:"Riwayat Aktivitas"},{default:yt(()=>[i("div",pH,[i("div",mH,[de[9]||(de[9]=i("h2",{class:"text-2xl font-bold text-gray-900"},"Picking List (Transfer Order)",-1)),i("div",yH," Total picking tasks: "+R(r.value.length),1)]),i("div",bH,[i("div",EH,[i("div",vH,[de[10]||(de[10]=i("span",{class:"text-sm font-medium text-gray-700 block mb-2"},"Filter Status:",-1)),i("div",CH,[i("button",{onClick:de[0]||(de[0]=Se=>t.value="ALL"),class:Pe([t.value==="ALL"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700","px-3 py-1 rounded text-sm hover:bg-blue-500 hover:text-white"])}," Semua ",2),i("button",{onClick:de[1]||(de[1]=Se=>t.value="Pending"),class:Pe([t.value==="Pending"?"bg-gray-600 text-white":"bg-gray-200 text-gray-700","px-3 py-1 rounded text-sm hover:bg-gray-500 hover:text-white"])}," Pending ",2),i("button",{onClick:de[2]||(de[2]=Se=>t.value="In Progress"),class:Pe([t.value==="In Progress"?"bg-yellow-600 text-white":"bg-gray-200 text-gray-700","px-3 py-1 rounded text-sm hover:bg-yellow-500 hover:text-white"])}," In Progress ",2),i("button",{onClick:de[3]||(de[3]=Se=>t.value="Completed"),class:Pe([t.value==="Completed"?"bg-green-600 text-white":"bg-gray-200 text-gray-700","px-3 py-1 rounded text-sm hover:bg-green-500 hover:text-white"])}," Completed ",2),i("button",{onClick:de[4]||(de[4]=Se=>t.value="Short-Pick"),class:Pe([t.value==="Short-Pick"?"bg-orange-600 text-white":"bg-gray-200 text-gray-700","px-3 py-1 rounded text-sm hover:bg-orange-500 hover:text-white"])}," Short-Pick ",2)])]),i("div",wH,[de[11]||(de[11]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Cari Batch/Lot",-1)),Ce(i("input",{"onUpdate:modelValue":de[5]||(de[5]=Se=>n.value=Se),type:"text",placeholder:"BCH-123...",class:"w-full px-3 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"},null,512),[[$e,n.value]])])])]),i("div",AH,[i("div",BH,[i("table",DH,[de[12]||(de[12]=i("thead",{class:"bg-gray-50"},[i("tr",null,[i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"TO Number"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"No Reservasi"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Batch/Lot Utama"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tanggal Dibuat"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Requester / Departemen"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),i("tbody",_H,[ve.value.length===0?(W(),Q("tr",kH,[i("td",SH," Tidak ada Picking Task yang ditemukan untuk status "+R(t.value==="ALL"?"apapun":t.value)+". ",1)])):me("",!0),(W(!0),Q(He,null,ot(ve.value,Se=>(W(),Q("tr",{key:Se.id,class:"hover:bg-gray-50"},[i("td",FH,R(Se.toNumber),1),i("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-blue-600 hover:underline cursor-pointer",onClick:tt=>ie(Se.noReservasi)},R(Se.noReservasi),9,TH),i("td",IH,R(Se.items&&Se.items.length>0?Se.items[0].lotSerial:"N/A"),1),i("td",MH,R(le(Se.tanggalDibuat)),1),i("td",PH,R(Se.requester)+" / "+R(Se.departemen),1),i("td",RH,[i("span",{class:Pe([re(Se.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(Se.status),3)]),i("td",OH,[i("div",NH,[i("button",{onClick:tt=>ae(Se),class:"bg-blue-100 text-blue-700 hover:bg-blue-200 px-2 py-1 rounded text-xs"}," Detail ",8,LH),Se.status==="Pending"||Se.status==="Reserved"||Se.status==="In Progress"||Se.status==="Ready to Pick"?(W(),Q("button",{key:0,onClick:tt=>Ne(Se),class:"bg-green-100 text-green-700 hover:bg-green-200 px-2 py-1 rounded text-xs"}," Kerjakan ",8,$H)):me("",!0),i("button",{onClick:tt=>fe(Se),class:"bg-purple-100 text-purple-700 hover:bg-purple-200 px-2 py-1 rounded text-xs"}," Cetak Picking List ",8,jH)])])]))),128))])])])]),o.value?(W(),Q("div",UH,[i("div",HH,[i("div",zH,[i("div",VH,[i("h3",qH,"Detail Picking Task - "+R(u.value?.toNumber),1),i("button",{onClick:Me,class:"text-gray-400 hover:text-gray-600"},[...de[13]||(de[13]=[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),u.value?(W(),Q("div",WH,[i("div",GH,[i("div",null,[de[14]||(de[14]=i("span",{class:"text-sm font-medium text-gray-700"},"TO Number:",-1)),i("div",QH,R(u.value.toNumber),1)]),i("div",null,[de[15]||(de[15]=i("span",{class:"text-sm font-medium text-gray-700"},"No Reservasi:",-1)),i("div",{class:"text-blue-600 cursor-pointer hover:underline",onClick:de[6]||(de[6]=Se=>ie(u.value.noReservasi))},R(u.value.noReservasi),1)]),i("div",null,[de[16]||(de[16]=i("span",{class:"text-sm font-medium text-gray-700"},"Tanggal Dibuat:",-1)),i("div",KH,R(le(u.value.tanggalDibuat)),1)]),i("div",null,[de[17]||(de[17]=i("span",{class:"text-sm font-medium text-gray-700"},"Requester:",-1)),i("div",YH,R(u.value.requester)+" / "+R(u.value.departemen),1)])])])):me("",!0),i("div",XH,[i("div",ZH,[i("div",JH,[i("div",ez,R(O.value),1),de[18]||(de[18]=i("div",{class:"text-sm text-blue-700"},"Total Alokasi Batch",-1))]),i("div",tz,[i("div",nz,R(q.value),1),de[19]||(de[19]=i("div",{class:"text-sm text-green-700"},"Picked Complete",-1))]),i("div",rz,[i("div",sz,R(S.value),1),de[20]||(de[20]=i("div",{class:"text-sm text-gray-700"},"Pending",-1))])]),i("div",oz,[i("div",iz,[de[21]||(de[21]=i("span",{class:"text-blue-700"},"Progress Picking",-1)),i("span",az,R(Math.round(G.value))+"%",1)]),i("div",lz,[i("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:qa({width:G.value+"%"})},null,4)])])]),i("div",cz,[i("div",dz,[i("table",uz,[de[24]||(de[24]=i("thead",{class:"bg-gray-50"},[i("tr",null,[i("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Aksi"),i("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"No"),i("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap min-w-[120px]"},"Kode Item / Nama Material"),i("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap min-w-[120px]"},"Lot/Batch"),i("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap min-w-[150px]"},"Source Bin"),i("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Exp Date"),i("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Qty Dialokasikan"),i("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"UoM"),i("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Status")])],-1)),i("tbody",xz,[(W(!0),Q(He,null,ot(u.value?.items||[],(Se,tt)=>(W(),Q("tr",{key:tt,class:Pe(Se.status==="Picked"?"bg-green-50":Se.status==="Short-Pick"?"bg-orange-50":"")},[i("td",fz,[i("button",{onClick:ct=>et(Se,tt),disabled:Se.status==="Picked",class:Pe([Se.status==="Picked"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white","px-3 py-1 rounded text-xs font-medium transition-colors duration-200"])},[de[22]||(de[22]=i("svg",{class:"w-4 h-4 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h2M4 4h16a2 2 0 012 2v12a2 2 0 01-2 2H4a2 2 0 01-2-2V6a2 2 0 012-2z"})],-1)),Qe(" "+R(Se.status==="Picked"?"Done":"Scan QR"),1)],10,hz)]),i("td",gz,R(tt+1),1),i("td",pz,[Qe(R(Se.kodeItem)+" ",1),de[23]||(de[23]=i("br",null,null,-1)),i("span",mz,R(Se.namaMaterial),1)]),i("td",yz,R(Se.lotSerial),1),i("td",bz,R(Se.sourceBin),1),i("td",Ez,R(Se.expDate?new Date(Se.expDate).toLocaleDateString("id-ID"):"-"),1),i("td",vz,R(Se.qtyDiminta),1),i("td",Cz,R(Se.uom),1),i("td",wz,[i("span",{class:Pe([ye(Se.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(Se.status),3)])],2))),128))])])])]),i("div",Az,[i("div",Bz," Progress: "+R(U.value)+"/"+R(u.value?.items?.length||0)+" batch allocations completed ",1),i("div",Dz,[i("button",{onClick:Me,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"}," Batal "),i("button",{onClick:Z,disabled:!z.value,class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-gray-400"}," Selesai Picking ",8,_z)])])])])])):me("",!0),a.value?(W(),Q("div",kz,[i("div",Sz,[i("div",Fz,[i("div",Tz,[i("h3",Iz,"QR Scanner - Batch Item #"+R(v.value+1),1),i("button",{onClick:X,class:"text-gray-400 hover:text-gray-600"},[...de[25]||(de[25]=[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),y.value?(W(),Q("div",Mz,[i("div",Pz,[i("div",Rz,R(y.value.kodeItem)+" - "+R(y.value.namaMaterial),1),i("div",Oz,"Batch: "+R(y.value.lotSerial)+" | Qty Alokasi: "+R(y.value.qtyDiminta)+" "+R(y.value.uom),1),i("div",Nz,"Source: "+R(y.value.sourceBin)+" ("+R(y.value.sourceWarehouse)+")",1)])])):me("",!0),i("div",Lz,[i("div",$z,[i("div",jz,"Step "+R(m.value)+"/4",1),i("div",Uz,R(ee.value),1)]),i("div",Hz,[i("video",{ref_key:"videoElement",ref:A,autoplay:"",playsinline:"",class:"w-full h-full object-cover"},null,512),i("canvas",{ref_key:"canvasElement",ref:D,class:"hidden"},null,512),T.value?(W(),Q("div",zz,[...de[26]||(de[26]=[i("div",{class:"border-4 border-green-500 rounded-lg",style:{width:"250px",height:"250px"}},[i("div",{class:"absolute inset-0 border-2 border-white opacity-50 animate-pulse"})],-1)])])):me("",!0),i("div",Vz,R(j.value),1)]),i("div",qz,[i("button",{onClick:Oe,class:Pe([_.value?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700","flex-1 text-white py-2 px-4 rounded-md flex items-center justify-center"])},[(W(),Q("svg",Wz,[_.value?(W(),Q("path",Qz)):(W(),Q("path",Gz))])),Qe(" "+R(_.value?"Matikan Kamera":"Aktifkan Kamera"),1)],2),i("button",{onClick:ge,class:"bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-md flex items-center justify-center"},[...de[27]||(de[27]=[i("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})],-1),Qe(" Simulasi Scan ",-1)])])]),i("div",null,[de[28]||(de[28]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Atau input manual QR Code:",-1)),Ce(i("input",{"onUpdate:modelValue":de[7]||(de[7]=Se=>f.value=Se),onKeyup:Ka(L,["enter"]),type:"text",placeholder:"Scan atau ketik QR Code...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,544),[[$e,f.value]])]),m.value===3?(W(),Q("div",Kz,[i("label",Yz,"Qty yang Dipick (Max: "+R(y.value?.qtyDiminta||0)+" "+R(y.value?.uom||"")+"):",1),Ce(i("input",{"onUpdate:modelValue":de[8]||(de[8]=Se=>C.value=Se),type:"number",max:y.value?.qtyDiminta,placeholder:"Masukkan quantity...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,8,Xz),[[$e,C.value,void 0,{number:!0}]])])):me("",!0),i("div",Zz,[i("button",{onClick:L,class:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-md"},R(m.value===3?"Confirm Qty":"Process QR"),1),m.value>1?(W(),Q("button",{key:0,onClick:te,class:"bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-md"}," Back ")):me("",!0)])])])])])):me("",!0),c.value?(W(),Q("div",Jz,[i("div",eV,[i("div",tV,[i("div",nV,[i("h3",rV,"Summary Detail - "+R(g.value?.toNumber),1),i("button",{onClick:ze,class:"text-gray-400 hover:text-gray-600"},[...de[29]||(de[29]=[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",sV,[i("div",oV,[i("div",iV,R(se.value),1),de[30]||(de[30]=i("div",{class:"text-sm text-blue-700"},"Total Alokasi Batch",-1))]),i("div",aV,[i("div",lV,R(J.value),1),de[31]||(de[31]=i("div",{class:"text-sm text-green-700"},"Batch Picked Complete",-1))]),i("div",cV,[i("div",dV,R(be.value),1),de[32]||(de[32]=i("div",{class:"text-sm text-gray-700"},"Pending",-1))])]),i("div",uV,[de[34]||(de[34]=i("div",{class:"px-4 py-3 bg-gray-50 border-b border-gray-200"},[i("h4",{class:"text-sm font-medium text-gray-900"},"Detail Alokasi Batch")],-1)),i("div",xV,[i("table",fV,[de[33]||(de[33]=i("thead",{class:"bg-gray-50"},[i("tr",null,[i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Kode Item"),i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Nama Material"),i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Batch/Lot"),i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Qty Alokasi"),i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Qty Picked"),i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"UoM"),i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status"),i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Source Bin")])],-1)),i("tbody",hV,[(W(!0),Q(He,null,ot(g.value?.items||[],(Se,tt)=>(W(),Q("tr",{key:tt,class:Pe(Ke(Se.status))},[i("td",gV,R(Se.kodeItem),1),i("td",pV,R(Se.namaMaterial),1),i("td",mV,R(Se.lotSerial),1),i("td",yV,R(Se.qtyDiminta),1),i("td",bV,R(Se.qtyPicked||0),1),i("td",EV,R(Se.uom),1),i("td",vV,[i("span",{class:Pe([ye(Se.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(Se.status),3)]),i("td",CV,R(Se.sourceBin),1)],2))),128))])])])]),i("div",{class:"flex justify-end mt-6"},[i("button",{onClick:ze,class:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700"}," Tutup ")])])])])):me("",!0)])]),_:1}))}},AV=Object.freeze(Object.defineProperty({__proto__:null,default:wV},Symbol.toStringTag,{value:"Module"})),BV={class:"min-h-screen bg-gray-50 p-6"},DV={class:"bg-white rounded-lg shadow-sm p-4 mb-6"},_V={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},kV={class:"bg-white rounded-lg shadow-sm overflow-hidden"},SV={class:"px-6 py-4 border-b border-gray-200"},FV={class:"text-sm text-gray-600 mt-1"},TV={class:"overflow-x-auto"},IV={class:"w-full"},MV={class:"bg-white divide-y divide-gray-200"},PV={key:0},RV={class:"px-6 py-4 whitespace-nowrap"},OV={class:"font-medium text-gray-900"},NV={key:0,class:"text-sm text-gray-500"},LV={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},$V={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},jV={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},UV={class:"px-6 py-4 whitespace-nowrap"},HV={class:"px-6 py-4 whitespace-nowrap"},zV={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},VV={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},qV={class:"flex items-center justify-end gap-2"},WV=["onClick"],GV=["onClick"],QV=["onClick"],KV={key:0,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},YV={class:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-screen overflow-y-auto"},XV={class:"flex justify-between items-center mb-6"},ZV={class:"space-y-6"},JV={class:"overflow-x-auto"},eq={class:"w-full border border-gray-200 rounded-lg"},tq={class:"bg-white divide-y divide-gray-200"},nq={class:"px-4 py-3"},rq=["onUpdate:modelValue"],sq={class:"px-4 py-3 text-sm text-gray-900"},oq={class:"px-4 py-3 text-sm text-gray-900"},iq={class:"px-4 py-3 text-sm text-gray-900"},aq={class:"px-4 py-3 text-sm text-gray-900"},lq={class:"px-4 py-3 text-sm text-gray-900"},cq={class:"px-4 py-3"},dq={class:"flex items-center gap-2"},uq=["onUpdate:modelValue","disabled"],xq=["value"],fq=["onClick","disabled"],hq={class:"flex gap-3 justify-end"},gq=["disabled"],pq={key:1,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},mq={class:"bg-white rounded-lg p-6 w-full max-w-2xl"},yq={class:"flex justify-between items-center mb-4"},bq={class:"text-lg font-semibold"},Eq={key:0,class:"space-y-4"},vq={class:"grid grid-cols-2 gap-4"},Cq={class:"text-sm text-gray-900 mt-1"},wq={class:"text-sm text-gray-900 mt-1"},Aq={class:"text-sm text-gray-900 mt-1"},Bq={class:"text-sm text-gray-900 mt-1"},Dq={class:"max-h-40 overflow-y-auto"},_q={class:"w-full text-sm"},kq={class:"px-3 py-2"},Sq={class:"px-3 py-2"},Fq={class:"px-3 py-2"},Tq={key:0,class:"border-t"},Iq={class:"flex justify-end mt-6"},Mq={key:2,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},Pq={class:"bg-white rounded-lg p-6 w-full max-w-7xl max-h-screen overflow-y-auto"},Rq={class:"flex justify-between items-center mb-6"},Oq={class:"text-xl font-semibold"},Nq={class:"text-gray-600 mt-1"},Lq={class:"bg-gray-50 rounded-lg p-4 mb-6"},$q={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},jq={class:"text-sm text-gray-900 mt-1"},Uq={key:0},Hq={class:"text-sm text-gray-900 mt-1"},zq={class:"text-sm text-gray-900 mt-1"},Vq={key:1},qq={class:"text-sm text-gray-900 mt-1"},Wq={class:"mb-6"},Gq={class:"overflow-x-auto"},Qq={class:"w-full border border-gray-200 rounded-lg"},Kq={class:"bg-gray-50"},Yq={key:0,class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},Xq={class:"bg-white divide-y divide-gray-200"},Zq={class:"px-4 py-3 text-sm text-gray-900"},Jq={class:"px-4 py-3 text-sm text-gray-900"},eW={class:"px-4 py-3 text-sm text-gray-900"},tW={class:"px-4 py-3 text-sm text-gray-900"},nW={class:"px-4 py-3 text-sm text-gray-900"},rW={class:"px-4 py-3 text-sm text-gray-900"},sW={class:"px-4 py-3 text-sm text-gray-900"},oW={class:"px-4 py-3 text-sm text-gray-900"},iW={class:"px-4 py-3"},aW={key:0,class:"px-4 py-3"},lW={key:0,class:"flex gap-2"},cW=["onClick"],dW={class:"flex items-center gap-1"},uW={class:"flex gap-3 justify-end"},xW=["disabled"],fW={key:3,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},hW={class:"bg-white rounded-lg p-6 w-full max-w-md"},gW={class:"flex justify-between items-center mb-4"},pW={class:"text-lg font-semibold"},mW={class:"text-sm text-gray-600"},yW={class:"mb-6"},bW={class:"flex items-center justify-between mb-2"},EW={class:"text-xs font-medium text-blue-600"},vW={class:"w-full bg-gray-200 rounded-full h-2"},CW={class:"flex items-center justify-between mb-6"},wW={class:"flex flex-col items-center flex-1"},AW={key:0},BW={key:1},DW={class:"flex flex-col items-center flex-1"},_W={key:0},kW={key:1},SW={class:"flex flex-col items-center flex-1"},FW={class:"text-center mb-4"},TW={key:0},IW={key:0,class:"mt-2 text-xs text-gray-500"},MW={key:1,class:"mt-2 text-xs text-gray-500"},PW={class:"mb-4"},RW={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},OW={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},NW={key:0,class:"space-y-4"},LW=["placeholder"],$W={key:0,class:"text-xs text-gray-500 text-left bg-gray-50 p-2 rounded"},jW={key:1,class:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg"},UW={class:"flex items-center gap-2"},HW={class:"text-sm text-green-900 font-mono"},zW={class:"flex gap-3 mt-6"},VW=["disabled"],su="in_progress_transfer_order",qW=Nr({__name:"PutAwasTO",setup(e){const t=N=>{try{localStorage.setItem(su,JSON.stringify(N)),console.log(`State saved for TO: ${N.toNumber}`)}catch(B){console.error("Error saving state to localStorage",B)}},n=()=>{try{const N=localStorage.getItem(su);if(N)return JSON.parse(N)}catch(N){console.error("Error loading state from localStorage",N)}return null},r=()=>{try{localStorage.removeItem(su),console.log("State cleared from localStorage.")}catch(N){console.error("Error clearing state from localStorage",N)}},o=co(),a=Be(o.props.transferOrders||[]);Fr(()=>o.props.transferOrders,N=>{a.value=N||[]},{deep:!0});const c=Be([]),u=Be([]),g=Be(""),f=Be(""),m=Be(""),y=Be(""),v=Be(""),C=Be(!1),A=Be(!1),D=Be(!1),_=Be(!1),T=Be(null),j=Be(null),F=Be(null),k=Be(""),P=Be(null),$=Be(1),O=Be(null),q=Be(!1),S=Be(!0),U=Be(""),G=We(()=>a.value.filter(N=>{const B=!g.value||N.toNumber.toLowerCase().includes(g.value.toLowerCase()),M=!m.value||N.type===m.value,ue=!y.value||N.status===y.value,_e=!v.value||N.warehouse.includes(v.value),te=!f.value||N.items.some(Z=>Z.batchLot&&Z.batchLot.toLowerCase().includes(f.value.toLowerCase()));return B&&te&&M&&ue&&_e})),z=We(()=>c.value.filter(N=>N.selected&&N.destinationBin)),ee=We(()=>T.value?T.value.items.every(N=>N.boxScanned&&N.sourceBinScanned&&N.destBinScanned&&N.actualQty!==void 0&&N.actualQty>0):!1),se=We(()=>{switch($.value){case 1:return"Scan Box QR Code";case 2:return"Scan Source Bin";case 3:return"Scan Destination Bin";default:return""}}),J=We(()=>{if(!F.value)return"";switch($.value){case 1:return`Box with ${F.value.itemCode}`;case 2:return F.value.sourceBin;case 3:return F.value.destBin;default:return""}}),be=async()=>{q.value=!1;try{if(!document.getElementById("qr-reader")){console.error("qr-reader element not found!");return}await he(),O.value=new Pa("qr-reader");const B={fps:10,qrbox:{width:250,height:250},aspectRatio:1};await O.value.start({facingMode:"environment"},B,we,Oe),q.value=!0}catch(N){console.error("Error starting camera:",N),alert(`Gagal memulai kamera: ${N.message}. Pastikan tidak ada aplikasi lain yang menggunakan. Coba lagi atau ganti ke mode manual.`)}},he=async()=>{if(O.value)try{typeof O.value.getState=="function"&&O.value.getState()===2&&await O.value.stop()}catch(N){console.error("Error attempting to stop camera:",N)}finally{try{await O.value.clear()}catch(N){console.warn("Error clearing html5QrCode UI:",N)}O.value=null,q.value=!1}q.value=!1},we=(N,B)=>{console.log("QR Code detected:",N),U.value=N,k.value=N,setTimeout(()=>{Ne()},500)},Oe=N=>{},Re=async()=>{S.value?(await he(),S.value=!1,kr(()=>{P.value?.focus()})):(S.value=!0,k.value="",kr(async()=>{await be()}))},ge=async()=>{try{const N=await fetch("/transaction/putaway-transfer/qc-released");if(!N.ok)throw new Error("Failed to fetch materials");const B=await N.json();c.value=B.map(_e=>({..._e,selected:!1,destinationBin:""}));const M=await fetch("/transaction/putaway-transfer/available-bins");if(!M.ok)throw new Error("Failed to fetch bins");const ue=await M.json();u.value=ue,C.value=!0}catch(N){console.error("Error loading data:",N),alert("Gagal memuat data")}},ve=async N=>{if(!N.destinationBin){alert("Pilih destination bin terlebih dahulu!");return}try{const B=await fetch(`/transaction/putaway-transfer/bin-details?binCode=${N.destinationBin}`);if(!B.ok)throw new Error("Failed to fetch bin details");const M=await B.json();j.value=M,A.value=!0}catch(B){console.error("Error loading bin details:",B),alert("Gagal memuat detail bin")}},re=async()=>{if(!z.value.length){alert("Pilih minimal 1 material untuk di-putaway!");return}if(confirm("Anda yakin ingin generate TO untuk item terpilih?"))try{bt.post("/transaction/putaway-transfer/generate",{materials:z.value.map(N=>({stockId:N.stockId,destinationBin:N.destinationBin,qty:N.qty}))},{onSuccess:()=>{C.value=!1,alert("Putaway TO berhasil digenerate!")},onError:N=>{console.error("Error generating putaway:",N),alert("Gagal generate putaway TO: "+(N.message||Object.values(N)[0]))}})}catch(N){console.error("Error submitting putaway:",N),alert("Gagal generate putaway TO: "+N.message)}},ye=N=>{T.value={...N,isExecuting:!1},D.value=!0},Ke=N=>{const B=n();B&&B.id===N.id?(T.value=B,console.log(`Resuming TO ${N.toNumber} from saved session.`)):T.value={...N,isExecuting:!0,status:"In Progress",items:N.items.map(M=>({...M,status:M.status==="completed"?"completed":"pending",actualQty:M.actualQty!==void 0?M.actualQty:M.qty}))},D.value=!0,T.value&&t(T.value)},le=()=>{T.value?.isExecuting&&T.value.status!=="Completed"?(t(T.value),alert(`Progress TO ${T.value.toNumber} disimpan secara parsial.`)):r(),T.value=null,D.value=!1},ie=async N=>{if(F.value=N,N.boxScanned&&N.sourceBinScanned&&N.destBinScanned){alert("Item ini sudah selesai di-scan.");return}else N.boxScanned&&N.sourceBinScanned?$.value=3:N.boxScanned?$.value=2:$.value=1;k.value="",U.value="",_.value=!0,await kr(),await new Promise(B=>setTimeout(B,500)),S.value?await be():kr(()=>{P.value?.focus()})},ae=async()=>{await he(),_.value=!1,F.value=null,$.value=1,k.value="",U.value="",T.value&&t(T.value)},Ne=()=>{if(!F.value||!k.value.trim()){alert("Silakan input QR code!");return}const N=F.value,B=k.value.trim();let M="",ue=!1,_e="";try{const te=JSON.parse(B);te&&te.bin_code?M=String(te.bin_code).toUpperCase():M=B.toUpperCase()}catch{M=B.toUpperCase()}switch($.value){case 1:_e=N.itemCode,ue=B.includes(N.itemCode),ue?(N.boxScanned=!0,$.value=2):alert(`Box QR tidak sesuai! Expected: ${_e} (atau mengandung ${_e}), Scanned: ${B}`);break;case 2:_e=N.sourceBin,ue=M===_e.toUpperCase(),ue?(N.sourceBinScanned=!0,$.value=3):alert(`Source Bin tidak sesuai! Expected: ${_e}, Scanned Code: ${M||B}`);break;case 3:_e=N.destBin,ue=M===_e.toUpperCase(),ue?(N.destBinScanned=!0,N.status="completed",(N.actualQty===void 0||N.actualQty===null)&&(N.actualQty=N.qty),alert(" Scan selesai! Semua tahap berhasil."),ae()):alert(`Destination Bin tidak sesuai! Expected: ${_e}, Scanned Code: ${M||B}`);break}k.value="",U.value="",T.value&&t(T.value),ue&&$.value<=3&&!S.value?kr(()=>{P.value?.focus()}):!ue&&!S.value&&kr(()=>{P.value?.select()})},Me=async()=>{if(!T.value||!ee.value){alert("Pastikan semua item sudah di-scan dan qty actual sudah diisi!");return}if(confirm(`Apakah Anda yakin ingin menyelesaikan TO ${T.value.toNumber}?`))try{bt.post(`/transaction/putaway-transfer/complete/${T.value.id}`,{items:T.value.items.map(N=>({id:N.id,actualQty:N.actualQty,status:N.status,boxScanned:N.boxScanned,sourceBinScanned:N.sourceBinScanned,destBinScanned:N.destBinScanned}))},{onSuccess:()=>{if(alert("Transfer Order berhasil diselesaikan!"),T.value){const N=a.value.findIndex(B=>B.id===T.value?.id);N!==-1&&(a.value[N].status="Completed")}T.value&&(T.value.status="Completed",T.value.isExecuting=!1),r(),le()},onError:N=>{console.error("Error completing TO:",N);const B=Object.values(N).join(`
`);alert(`Gagal menyelesaikan TO:
`+B)}})}catch(N){console.error("Error completing TO:",N),alert("Gagal menyelesaikan TO: "+N.message)}},ze=N=>{const B=`
    <h1 style="text-align: center; font-family: Arial, sans-serif; margin-bottom: 20px;">TRANSFER ORDER</h1>
    <table style="width: 100%; border-collapse: collapse; font-family: Arial, sans-serif; font-size: 12px;">
      <tr>
        <td style="padding: 5px; width: 150px;"><strong>TO Number</strong></td>
        <td style="padding: 5px;">: ${N.toNumber}</td>
        <td style="padding: 5px; width: 150px;"><strong>Transaction Type</strong></td>
        <td style="padding: 5px;">: ${N.type}</td>
      </tr>
      <tr>
        <td style="padding: 5px;"><strong>Creation Date</strong></td>
        <td style="padding: 5px;">: ${et(N.creationDate)}</td>
        <td style="padding: 5px;"><strong>Warehouse</strong></td>
        <td style="padding: 5px;">: ${N.warehouse}</td>
      </tr>
      ${N.reservationNo?`
      <tr>
        <td style="padding: 5px;"><strong>No Reservasi</strong></td>
        <td style="padding: 5px;" colspan="3">: ${N.reservationNo}</td>
      </tr>`:""}
    </table>
    
    <h3 style="font-family: Arial, sans-serif; margin-top: 25px; margin-bottom: 10px;">DAFTAR ITEM:</h3>
    <table style="width: 100%; border-collapse: collapse; font-family: Arial, sans-serif; font-size: 12px;">
      <thead style="background-color: #f4f4f4;">
        <tr>
          <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">No</th>
          <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Kode Item</th>
          <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Nama Material</th>
          <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Batch/Lot</th> <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Source Bin</th>
          <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Dest Bin</th>
          <th style="border: 1px solid #ddd; padding: 8px; text-align: right;">Qty</th>
          <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">UoM</th>
        </tr>
      </thead>
      <tbody>
        ${N.items.map((ue,_e)=>`
          <tr>
            <td style="border: 1px solid #ddd; padding: 8px;">${_e+1}</td>
            <td style="border: 1px solid #ddd; padding: 8px;">${ue.itemCode}</td>
            <td style="border: 1px solid #ddd; padding: 8px;">${ue.materialName}</td>
            <td style="border: 1px solid #ddd; padding: 8px;">${ue.batchLot}</td> <td style="border: 1px solid #ddd; padding: 8px;">${ue.sourceBin}</td>
            <td style="border: 1px solid #ddd; padding: 8px;">${ue.destBin}</td>
            <td style="border: 1px solid #ddd; padding: 8px; text-align: right;">${ue.actualQty!==void 0?ue.actualQty:ue.qty}</td>
            <td style="border: 1px solid #ddd; padding: 8px;">${ue.uom}</td>
          </tr>
        `).join("")}
      </tbody>
    </table>

    <table style="width: 100%; font-family: Arial, sans-serif; font-size: 12px; margin-top: 50px; text-align: center;">
      <tr>
        <td style="padding: 10px;">
          Diserahkan:
          <br><br><br><br>
          (________________)
          <br>
          Tgl: _______
        </td>
        <td style="padding: 10px;">
          Diterima:
          <br><br><br><br>
          (________________)
          <br>
          Tgl: _______
        </td>
        <td style="padding: 10px;">
          Mengetahui:
          <br><br><br><br>
          (________________)
          <br>
          Tgl: _______
        </td>
      </tr>
    </table>
  `,M=window.open("","_blank");if(M){const ue="script";M.document.write(`
      <html>
        <head>
          <title>Transfer Order - ${N.toNumber}</title>
          <style>
            @media print {
              body { -webkit-print-color-adjust: exact; }
            }
          </style>
        </head>
        <body>
          ${B}
          <${ue}>
            window.onload = function() {
              window.print();
              window.onafterprint = function() {
                 window.close();
              }
            }
          </${ue}>
        </body>
      </html>
    `),M.document.close()}},et=N=>{const B=typeof N=="string"?new Date(N):N;return isNaN(B.getTime())?"Invalid Date":new Intl.DateTimeFormat("id-ID",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(B)},X=N=>({"Putaway - QC Release":"bg-blue-100 text-blue-800","Transfer - Internal":"bg-green-100 text-green-800","Transfer - Bin to Bin":"bg-teal-100 text-teal-800","Picking - Production":"bg-purple-100 text-purple-800","Picking - Sales Order":"bg-pink-100 text-pink-800"})[N]||"bg-gray-100 text-gray-800",Y=N=>({Pending:"bg-yellow-100 text-yellow-800","In Progress":"bg-blue-100 text-blue-800",Completed:"bg-green-100 text-green-800"})[N]||"bg-gray-100 text-gray-800",L=N=>({pending:"bg-yellow-100 text-yellow-800",in_progress:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800"})[N]||"bg-gray-100 text-gray-800";return Kn(()=>{console.log("Mounted - Transfer Orders:",a.value)}),Kn(()=>{const N=n();if(N){const B=a.value.find(M=>M.id===N.id);if(B){const M={...B,...N,isExecuting:!0,status:"In Progress"};T.value=M,D.value=!0,alert(`Melanjutkan Transfer Order: ${N.toNumber}. Progress yang tersimpan telah dimuat.`)}else r()}}),zo(async()=>{await he()}),(N,B)=>(W(),Tt(Yn,{title:"PutAway & TO"},{default:yt(()=>[i("div",BV,[B[64]||(B[64]=i("div",{class:"mb-6"},[i("h1",{class:"text-2xl font-bold text-gray-900 mb-2"},"Putaway & Transfer Order"),i("p",{class:"text-gray-600"},"Kelola Transfer Order untuk putaway, transfer, dan picking barang")],-1)),i("div",{class:"mb-6"},[i("button",{onClick:ge,class:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium flex items-center gap-2"},[...B[9]||(B[9]=[i("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),Qe(" Generate Auto Putaway dari QC Released ",-1)])])]),i("div",DV,[i("div",_V,[i("div",null,[B[10]||(B[10]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Search TO Number",-1)),Ce(i("input",{"onUpdate:modelValue":B[0]||(B[0]=M=>g.value=M),type:"text",placeholder:"TO-2024-001...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[$e,g.value]])]),i("div",null,[B[11]||(B[11]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Search Batch/Lot",-1)),Ce(i("input",{"onUpdate:modelValue":B[1]||(B[1]=M=>f.value=M),type:"text",placeholder:"BCH-001...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[$e,f.value]])]),i("div",null,[B[13]||(B[13]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Tipe",-1)),Ce(i("select",{"onUpdate:modelValue":B[2]||(B[2]=M=>m.value=M),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[...B[12]||(B[12]=[i("option",{value:""},"Semua Tipe",-1),i("option",{value:"Putaway - QC Release"},"Putaway - QC Release",-1),i("option",{value:"Transfer - Internal"},"Transfer - Internal",-1),i("option",{value:"Transfer - Bin to Bin"},"Transfer - Bin to Bin",-1),i("option",{value:"Picking - Production"},"Picking - Production",-1),i("option",{value:"Picking - Sales Order"},"Picking - Sales Order",-1)])],512),[[dt,m.value]])]),i("div",null,[B[15]||(B[15]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Status",-1)),Ce(i("select",{"onUpdate:modelValue":B[3]||(B[3]=M=>y.value=M),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[...B[14]||(B[14]=[i("option",{value:""},"Semua Status",-1),i("option",{value:"Pending"},"Pending",-1),i("option",{value:"In Progress"},"In Progress",-1),i("option",{value:"Completed"},"Completed",-1)])],512),[[dt,y.value]])])])]),i("div",kV,[i("div",SV,[B[16]||(B[16]=i("h2",{class:"text-lg font-semibold text-gray-900"},"Daftar Transfer Order",-1)),i("p",FV,"Total: "+R(G.value.length)+" TO",1)]),i("div",TV,[i("table",IV,[B[21]||(B[21]=i("thead",{class:"bg-gray-50"},[i("tr",null,[i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"TO Number"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Batch/Lot"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Creation Date"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Warehouse"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tipe"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Items"),i("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),i("tbody",MV,[G.value.length?me("",!0):(W(),Q("tr",PV,[...B[17]||(B[17]=[i("td",{colspan:"7",class:"px-6 py-12 text-center"},[i("div",{class:"flex flex-col items-center justify-center"},[i("svg",{class:"w-16 h-16 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})]),i("h3",{class:"text-lg font-medium text-gray-900 mb-1"},"Belum Ada Transfer Order"),i("p",{class:"text-gray-500"},"Generate putaway dari material QC Released untuk membuat TO")])],-1)])])),(W(!0),Q(He,null,ot(G.value,M=>(W(),Q("tr",{key:M.id,class:"hover:bg-gray-50"},[i("td",RV,[i("div",OV,R(M.toNumber),1),M.reservationNo?(W(),Q("div",NV,R(M.reservationNo),1)):me("",!0)]),i("td",LV,R(M.items.length>0?M.items[0].batchLot:"N/A"),1),i("td",$V,R(et(M.creationDate)),1),i("td",jV,R(M.warehouse),1),i("td",UV,[i("span",{class:Pe([X(M.type),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(M.type),3)]),i("td",HV,[i("span",{class:Pe([Y(M.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(M.status),3)]),i("td",zV,R(M.items.length)+" item(s) ",1),i("td",VV,[i("div",qV,[i("button",{onClick:ue=>ye(M),class:"flex items-center gap-2 bg-blue-100 text-blue-700 hover:bg-blue-200 px-3 py-2 rounded-lg transition-colors"},[...B[18]||(B[18]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),i("span",{class:"text-xs font-medium"},"Detail",-1)])],8,WV),M.status!=="Completed"?(W(),Q("button",{key:0,onClick:ue=>Ke(M),class:"flex items-center gap-2 bg-green-100 text-green-700 hover:bg-green-200 px-3 py-2 rounded-lg transition-colors"},[...B[19]||(B[19]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H15M6 6h3m5 0h3"})],-1),i("span",{class:"text-xs font-medium"},"Kerjakan",-1)])],8,GV)):me("",!0),i("button",{onClick:ue=>ze(M),class:"flex items-center gap-2 bg-purple-100 text-purple-700 hover:bg-purple-200 px-3 py-2 rounded-lg transition-colors"},[...B[20]||(B[20]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2-2v4h10z"})],-1),i("span",{class:"text-xs font-medium"},"Cetak TO",-1)])],8,QV)])])]))),128))])])])]),C.value?(W(),Q("div",KV,[i("div",YV,[i("div",XV,[B[23]||(B[23]=i("h3",{class:"text-lg font-semibold"},"Generate Auto Putaway dari QC Released",-1)),i("button",{onClick:B[4]||(B[4]=M=>C.value=!1),class:"text-gray-400 hover:text-gray-600"},[...B[22]||(B[22]=[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",ZV,[i("div",null,[B[26]||(B[26]=i("h4",{class:"text-md font-medium text-gray-900 mb-3"},"Material yang sudah QC Released",-1)),i("div",JV,[i("table",eq,[B[25]||(B[25]=i("thead",{class:"bg-gray-50"},[i("tr",null,[i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Select"),i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Item Code"),i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Material Name"),i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Current Bin"),i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Qty"),i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"UoM"),i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Destination")])],-1)),i("tbody",tq,[(W(!0),Q(He,null,ot(c.value,(M,ue)=>(W(),Q("tr",{key:ue,class:"hover:bg-gray-50"},[i("td",nq,[Ce(i("input",{type:"checkbox","onUpdate:modelValue":_e=>M.selected=_e,class:"rounded border-gray-300 focus:ring-blue-500"},null,8,rq),[[Di,M.selected]])]),i("td",sq,R(M.itemCode),1),i("td",oq,R(M.materialName),1),i("td",iq,R(M.currentBin),1),i("td",aq,R(M.qty),1),i("td",lq,R(M.uom),1),i("td",cq,[i("div",dq,[Ce(i("select",{"onUpdate:modelValue":_e=>M.destinationBin=_e,class:"px-3 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:!M.selected},[B[24]||(B[24]=i("option",{value:""},"Pilih Bin",-1)),(W(!0),Q(He,null,ot(u.value,_e=>(W(),Q("option",{key:_e.code,value:_e.code},R(_e.code)+" - "+R(_e.zone)+" ("+R(_e.currentItems)+"/"+R(_e.capacity)+") ",9,xq))),128))],8,uq),[[dt,M.destinationBin]]),i("button",{onClick:_e=>ve(M),class:"text-blue-600 hover:text-blue-800 text-xs",title:"Lihat detail bin",disabled:!M.destinationBin}," Info ",8,fq)])])]))),128))])])])]),i("div",hq,[i("button",{onClick:B[5]||(B[5]=M=>C.value=!1),class:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50"}," Batal "),i("button",{onClick:re,disabled:!z.value.length,class:Pe([z.value.length?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed","px-4 py-2 text-white rounded-md font-medium"])}," Generate Putaway TO ("+R(z.value.length)+" items) ",11,gq)])])])])):me("",!0),A.value?(W(),Q("div",pq,[i("div",mq,[i("div",yq,[i("h3",bq,"Detail Bin: "+R(j.value?.code),1),i("button",{onClick:B[6]||(B[6]=M=>A.value=!1),class:"text-gray-400 hover:text-gray-600"},[...B[27]||(B[27]=[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),j.value?(W(),Q("div",Eq,[i("div",vq,[i("div",null,[B[28]||(B[28]=i("label",{class:"block text-sm font-medium text-gray-700"},"Bin Code",-1)),i("p",Cq,R(j.value.code),1)]),i("div",null,[B[29]||(B[29]=i("label",{class:"block text-sm font-medium text-gray-700"},"Warehouse",-1)),i("p",wq,R(j.value.warehouse),1)]),i("div",null,[B[30]||(B[30]=i("label",{class:"block text-sm font-medium text-gray-700"},"Zone",-1)),i("p",Aq,R(j.value.zone),1)]),i("div",null,[B[31]||(B[31]=i("label",{class:"block text-sm font-medium text-gray-700"},"Capacity",-1)),i("p",Bq,R(j.value.capacity),1)])]),i("div",null,[B[34]||(B[34]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Current Materials",-1)),i("div",Dq,[i("table",_q,[B[33]||(B[33]=i("thead",{class:"bg-gray-50"},[i("tr",null,[i("th",{class:"px-3 py-2 text-left"},"Material"),i("th",{class:"px-3 py-2 text-left"},"Qty"),i("th",{class:"px-3 py-2 text-left"},"UoM")])],-1)),i("tbody",null,[(W(!0),Q(He,null,ot(j.value.materials,M=>(W(),Q("tr",{key:M.itemCode,class:"border-t"},[i("td",kq,R(M.materialName),1),i("td",Sq,R(M.qty),1),i("td",Fq,R(M.uom),1)]))),128)),j.value.materials.length?me("",!0):(W(),Q("tr",Tq,[...B[32]||(B[32]=[i("td",{colspan:"3",class:"px-3 py-2 text-gray-500 text-center"},"Bin kosong",-1)])]))])])])])])):me("",!0),i("div",Iq,[i("button",{onClick:B[7]||(B[7]=M=>A.value=!1),class:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700"}," Tutup ")])])])):me("",!0),D.value?(W(),Q("div",Mq,[i("div",Pq,[i("div",Rq,[i("div",null,[i("h3",Oq,R(T.value?.isExecuting?"Kerjakan":"Detail")+" Transfer Order",1),i("p",Nq,R(T.value?.toNumber),1)]),i("button",{onClick:le,class:"text-gray-400 hover:text-gray-600"},[...B[35]||(B[35]=[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",Lq,[i("div",$q,[i("div",null,[B[36]||(B[36]=i("label",{class:"block text-sm font-medium text-gray-700"},"TO Number",-1)),i("p",jq,R(T.value?.toNumber),1)]),T.value&&T.value.items.length>0&&T.value.items.every(M=>M.batchLot===T.value.items[0].batchLot)?(W(),Q("div",Uq,[B[37]||(B[37]=i("label",{class:"block text-sm font-medium text-gray-700"},"Batch/Lot Utama",-1)),i("p",Hq,R(T.value.items[0].batchLot),1)])):me("",!0),i("div",null,[B[38]||(B[38]=i("label",{class:"block text-sm font-medium text-gray-700"},"Transaction Type",-1)),i("p",zq,R(T.value?.type),1)]),T.value?.reservationNo?(W(),Q("div",Vq,[B[39]||(B[39]=i("label",{class:"block text-sm font-medium text-gray-700"},"No Reservasi",-1)),i("p",qq,R(T.value.reservationNo),1)])):me("",!0),i("div",null,[B[40]||(B[40]=i("label",{class:"block text-sm font-medium text-gray-700"},"Status",-1)),i("span",{class:Pe([Y(T.value?.status||""),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full mt-1"])},R(T.value?.status),3)])])]),i("div",Wq,[B[50]||(B[50]=i("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Daftar Item",-1)),i("div",Gq,[i("table",Qq,[i("thead",Kq,[i("tr",null,[B[41]||(B[41]=i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"No",-1)),B[42]||(B[42]=i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Kode Item",-1)),B[43]||(B[43]=i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Nama Material",-1)),B[44]||(B[44]=i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Batch/Lot",-1)),B[45]||(B[45]=i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Source Bin",-1)),B[46]||(B[46]=i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Dest Bin",-1)),B[47]||(B[47]=i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Qty",-1)),B[48]||(B[48]=i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"UoM",-1)),B[49]||(B[49]=i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status",-1)),T.value?.isExecuting?(W(),Q("th",Yq,"Actions")):me("",!0)])]),i("tbody",Xq,[(W(!0),Q(He,null,ot(T.value?.items,(M,ue)=>(W(),Q("tr",{key:ue,class:"hover:bg-gray-50"},[i("td",Zq,R(ue+1),1),i("td",Jq,R(M.itemCode),1),i("td",eW,R(M.materialName),1),i("td",tW,R(M.batchLot),1),i("td",nW,R(M.sourceBin),1),i("td",rW,R(M.destBin),1),i("td",sW,R(M.actualQty||M.qty),1),i("td",oW,R(M.uom),1),i("td",iW,[i("span",{class:Pe([L(M.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(M.status),3)]),T.value?.isExecuting?(W(),Q("td",aW,[M.status!=="completed"?(W(),Q("div",lW,[i("button",{onClick:_e=>ie(M),class:Pe([M.boxScanned&&M.sourceBinScanned&&M.destBinScanned?"bg-green-100 text-green-800":"bg-blue-600 text-white hover:bg-blue-700","px-3 py-1 text-xs font-medium rounded"])},R(M.boxScanned&&M.sourceBinScanned&&M.destBinScanned?" Selesai":"Mulai Scan"),11,cW),i("div",dW,[i("span",{class:Pe([M.boxScanned?"bg-green-500":"bg-gray-300","w-2 h-2 rounded-full"]),title:"Box"},null,2),i("span",{class:Pe([M.sourceBinScanned?"bg-green-500":"bg-gray-300","w-2 h-2 rounded-full"]),title:"Source"},null,2),i("span",{class:Pe([M.destBinScanned?"bg-green-500":"bg-gray-300","w-2 h-2 rounded-full"]),title:"Dest"},null,2)])])):me("",!0)])):me("",!0)]))),128))])])])]),i("div",uW,[i("button",{onClick:le,class:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50"},R(T.value?.isExecuting?"Batal":"Tutup"),1),T.value?.isExecuting?(W(),Q("button",{key:0,onClick:Me,disabled:!ee.value,class:Pe([ee.value?"bg-green-600 hover:bg-green-700":"bg-gray-400 cursor-not-allowed","px-4 py-2 text-white rounded-md font-medium"])}," Selesaikan TO ",10,xW)):me("",!0)])])])):me("",!0),_.value?(W(),Q("div",fW,[i("div",hW,[i("div",gW,[i("div",null,[i("h3",pW,"Scan Wizard - "+R($.value)+"/3",1),i("p",mW,R(se.value),1)]),i("button",{onClick:ae,class:"text-gray-400 hover:text-gray-600"},[...B[51]||(B[51]=[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",yW,[i("div",bW,[B[52]||(B[52]=i("span",{class:"text-xs font-medium text-gray-700"},"Progress",-1)),i("span",EW,R(Math.round($.value/3*100))+"%",1)]),i("div",vW,[i("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:qa({width:`${$.value/3*100}%`})},null,4)])]),i("div",CW,[i("div",wW,[i("div",{class:Pe([$.value>=1?"bg-blue-600 text-white":"bg-gray-300 text-gray-600","w-10 h-10 rounded-full flex items-center justify-center font-bold mb-2"])},[$.value>1?(W(),Q("span",AW,"")):(W(),Q("span",BW,"1"))],2),B[53]||(B[53]=i("span",{class:"text-xs text-center font-medium"},"Scan Box",-1))]),i("div",{class:Pe(["h-1 flex-1 mx-2",$.value>=2?"bg-blue-600":"bg-gray-300"])},null,2),i("div",DW,[i("div",{class:Pe([$.value>=2?"bg-blue-600 text-white":"bg-gray-300 text-gray-600","w-10 h-10 rounded-full flex items-center justify-center font-bold mb-2"])},[$.value>2?(W(),Q("span",_W,"")):(W(),Q("span",kW,"2"))],2),B[54]||(B[54]=i("span",{class:"text-xs text-center font-medium"},"Source Bin",-1))]),i("div",{class:Pe(["h-1 flex-1 mx-2",$.value>=3?"bg-blue-600":"bg-gray-300"])},null,2),i("div",SW,[i("div",{class:Pe([$.value>=3?"bg-blue-600 text-white":"bg-gray-300 text-gray-600","w-10 h-10 rounded-full flex items-center justify-center font-bold mb-2"])}," 3 ",2),B[55]||(B[55]=i("span",{class:"text-xs text-center font-medium"},"Dest Bin",-1))])]),i("div",FW,[S.value?(W(),Q("div",TW,[B[58]||(B[58]=i("div",{id:"qr-reader",class:"w-full rounded-lg overflow-hidden border-2 border-blue-500 mb-2",style:{"min-height":"250px"}},null,-1)),q.value?(W(),Q("div",IW,[...B[56]||(B[56]=[i("svg",{class:"w-4 h-4 inline-block animate-pulse",fill:"currentColor",viewBox:"0 0 20 20"},[i("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),Qe(" Kamera Aktif - Arahkan ke QR Code ",-1)])])):(W(),Q("div",MW,[...B[57]||(B[57]=[i("div",{class:"w-full flex items-center justify-center",style:{"min-height":"250px"}},[i("div",{class:"text-center"},[i("svg",{class:"w-12 h-12 text-gray-400 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]),i("p",{class:"text-gray-500 font-medium"},"Mengaktifkan Kamera..."),i("p",{class:"text-xs text-gray-400 mt-1"},"Harap tunggu sebentar")])],-1)])]))])):me("",!0)]),i("div",PW,[i("button",{onClick:Re,class:"w-full px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md text-sm font-medium flex items-center justify-center gap-2"},[S.value?(W(),Q("svg",OW,[...B[60]||(B[60]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"},null,-1)])])):(W(),Q("svg",RW,[...B[59]||(B[59]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"},null,-1)])])),Qe(" "+R(S.value?"Switch to Manual Input":"Switch to Camera Scanner"),1)])]),S.value?me("",!0):(W(),Q("div",NW,[Ce(i("input",{"onUpdate:modelValue":B[8]||(B[8]=M=>k.value=M),ref_key:"qrInputRef",ref:P,type:"text",placeholder:`Input ${se.value} Manual`,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyup:Ka(Ne,["enter"]),autofocus:""},null,40,LW),[[$e,k.value]]),J.value?(W(),Q("div",$W,[B[61]||(B[61]=i("span",{class:"font-medium"},"Expected Value:",-1)),Qe(" "+R(J.value),1)])):me("",!0)])),U.value?(W(),Q("div",jW,[i("div",UW,[B[63]||(B[63]=i("svg",{class:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20"},[i("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)),i("div",null,[B[62]||(B[62]=i("p",{class:"text-xs font-medium text-green-800"},"Terakhir Di-scan:",-1)),i("p",HW,R(U.value),1)])])])):me("",!0),i("div",zW,[i("button",{onClick:ae,class:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50"}," Batal "),S.value?me("",!0):(W(),Q("button",{key:0,onClick:Ne,disabled:!k.value.trim(),class:Pe([k.value.trim()?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed","flex-1 px-4 py-2 text-white rounded-md font-medium"])},R($.value===3?"Selesai":"Lanjut"),11,VW))])])])):me("",!0)])]),_:1}))}}),WW=tl(qW,[["__scopeId","data-v-1f1c5f9e"]]),GW=Object.freeze(Object.defineProperty({__proto__:null,default:WW},Symbol.toStringTag,{value:"Module"})),QW={class:"space-y-6"},KW={class:"flex justify-between items-center"},YW={class:"text-sm text-gray-600"},XW={class:"bg-white rounded-lg shadow overflow-hidden"},ZW={class:"overflow-x-auto"},JW={class:"min-w-full divide-y divide-gray-200"},eG={class:"bg-white divide-y divide-gray-200"},tG={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},nG={class:"text-xs text-gray-500"},rG={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},sG={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},oG={class:"px-6 py-4 text-sm text-gray-900"},iG={class:"font-medium"},aG={class:"text-xs text-gray-500"},lG={key:0,class:"mt-1 inline-flex items-center px-2 py-0.5 rounded text-xs font-bold bg-orange-100 text-orange-800 border border-orange-300"},cG={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},dG={class:"font-bold text-blue-700"},uG={class:"px-6 py-4 whitespace-nowrap"},xG={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},fG={class:"flex space-x-2"},hG=["onClick"],gG=["onClick"],pG=["onClick"],mG={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},yG={class:"bg-white rounded-lg max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto"},bG={class:"p-6"},EG={class:"flex justify-between items-center mb-6"},vG={class:"text-lg font-semibold text-gray-900"},CG={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},wG={class:"space-y-4"},AG={class:"mt-1 text-sm text-gray-900 font-medium"},BG={class:"mt-1 text-sm text-gray-900"},DG={class:"mt-1 text-sm text-gray-900"},_G={class:"mt-1 text-sm text-gray-900 font-medium"},kG={class:"mt-1 text-sm text-gray-900"},SG={class:"space-y-4"},FG={class:"mt-1 text-sm text-gray-900"},TG={class:"mt-1 text-sm text-gray-900 font-medium"},IG={class:"mt-1 text-sm text-gray-900"},MG={class:"mt-1 text-sm text-gray-900"},PG={key:1,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},RG={class:"bg-white rounded-lg max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto"},OG={class:"p-6"},NG={class:"flex justify-between items-center mb-6"},LG={class:"text-lg font-semibold text-gray-900"},$G={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6"},jG={class:"border-t border-gray-200 pt-6 mb-6"},UG={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},HG={class:"col-span-2"},zG={class:"block text-sm font-medium text-gray-700 mb-1"},VG=["max"],qG={key:0,class:"text-xs text-red-500 mt-1"},WG={class:"border-t border-gray-200 pt-6"},GG={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},QG={class:"space-y-4"},KG={key:0,class:"bg-orange-50 border border-orange-200 rounded-lg p-3"},YG={class:"space-y-4"},XG={class:"space-y-2"},ZG={class:"flex items-center"},JG={class:"flex items-center"},eQ={class:"mt-2 list-disc list-inside"},tQ={key:0},nQ={key:1},rQ={key:2},sQ={key:3},oQ={class:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200"},iQ=["disabled"],aQ={key:2,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},lQ={class:"bg-white rounded-lg mx-4 max-h-[90vh] overflow-y-auto"},cQ={class:"p-6"},dQ={class:"space-y-4"},uQ={class:"relative"},xQ={key:0,class:"absolute top-4 right-4 z-10"},fQ={key:0,class:"bg-green-50 border border-green-200 rounded-lg p-3"},hQ={class:"text-sm text-green-800"},gQ={key:1,class:"bg-red-50 border border-red-200 rounded-lg p-3"},pQ={class:"text-sm text-red-800"},mQ={class:"flex gap-2"},yQ=["disabled"],bQ="https://karir-production.nos.jkt-1.neo.id/logos/05/6980305/logo_gondowangi.png",EQ=Nr({__name:"QualityControl",props:{itemsToQC:Array},setup(e){const t=Be(!1),n=Be(!1),r=Be(!1),o=Be(null),a=Be(""),c=Be(null),u=Be(null),g=Be(!1);Be("");const f=Be("");Be(null);const m=Be(null),y=Be(""),v=Be(""),C=Be({incoming_item_id:null,noFormChecklist:"",date:"",noPo:"",noSuratJalan:"",kodeItem:"",namaMaterial:"",reference:"",supplier:"",kategori:"",qtySample:0,totalIncoming:"",uom:"",noKendaraan:"",namaDriver:"",defectCount:0,catatanQC:"",hasilQC:"",photos:[],newExpDate:""}),A=We(()=>{const ve=parseFloat(C.value.qtySample)||0,re=parseFloat(C.value.totalIncoming)||0;return C.value.hasilQC&&C.value.kategori&&ve>=0&&ve<=re}),D=ve=>ve==null||ve===""?"":Math.round(parseFloat(ve)),_=ve=>ve.statusQC==="To QC"?0:ve.qcSampleQty??0,T=We(()=>y.value.includes("Aktif")?"bg-green-500 text-white":y.value.includes("Error")?"bg-red-500 text-white":"bg-yellow-500 text-white"),j=async ve=>{try{return await p0.toDataURL(ve,{width:150,margin:1,errorCorrectionLevel:"M"})}catch(re){return console.error("Gagal generate QR Data URL:",re),""}},F=ve=>ve?new Date(ve).toLocaleDateString("id-ID",{day:"numeric",month:"numeric",year:"numeric"}).replace(/\./g,"/"):"N/A",k=Be(!1),P=ve=>({"To QC":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",PASS:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",REJECT:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"})[ve]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",$=ve=>{o.value=ve,t.value=!0},O=()=>{t.value=!1,o.value=null},q=()=>{if(!o.value)return;const re=`QC/${new Date().toISOString().slice(0,10).replace(/-/g,"")}/XXXX`;C.value={incoming_item_id:o.value.id,noFormChecklist:re,date:new Date().toISOString().slice(0,16),noPo:o.value.noPo,noSuratJalan:o.value.noSuratJalan,kodeItem:o.value.kodeItem,namaMaterial:o.value.namaMaterial,reference:"",supplier:o.value.supplier,kategori:o.value.kategori,qtySample:0,totalIncoming:Math.floor(o.value.qtyReceived),uom:o.value.uom,noKendaraan:o.value.noKendaraan,namaDriver:o.value.namaDriver,defectCount:0,catatanQC:"",hasilQC:"",photos:[]},t.value=!1,n.value=!0},S=()=>{n.value=!1,o.value=null,G()},U=()=>{n.value=!1,t.value=!0},G=()=>{C.value={incoming_item_id:null,noFormChecklist:"",date:"",noPo:"",noSuratJalan:"",kodeItem:"",namaMaterial:"",reference:"",supplier:"",kategori:"",qtySample:0,totalIncoming:"",uom:"",noKendaraan:"",namaDriver:"",defectCount:0,catatanQC:"",hasilQC:"",photos:[]}},z=()=>{if(!A.value){alert("Mohon lengkapi semua field yang diperlukan dengan benar");return}const ve=new FormData;ve.append("incoming_item_id",C.value.incoming_item_id),ve.append("reference",C.value.reference||""),ve.append("kategori",C.value.kategori),ve.append("qty_sample",C.value.qtySample||0),ve.append("defect_count",C.value.defectCount||0),ve.append("catatan_qc",C.value.catatanQC||""),ve.append("hasil_qc",C.value.hasilQC),o.value?.is_reqc&&C.value.hasilQC==="PASS"&&C.value.newExpDate&&ve.append("new_exp_date",C.value.newExpDate),C.value.photos&&C.value.photos.length>0&&C.value.photos.forEach((re,ye)=>{ve.append(`photos[${ye}]`,re)}),bt.post("/transaction/quality-control",ve,{forceFormData:!0,preserveState:!1,preserveScroll:!0,onSuccess:re=>{console.log("QC berhasil disimpan!",re),S(),re.props.flash&&re.props.flash.success?alert(re.props.flash.success):alert(`QC ${C.value.hasilQC} berhasil disimpan!`)},onError:re=>{console.error("Validation errors:",re);let ye=`Gagal menyimpan QC:

`;for(const[Ke,le]of Object.entries(re))Array.isArray(le)?ye+=` ${le.join(", ")}
`:ye+=` ${le}
`;alert(ye)},onFinish:()=>{console.log("Request finished")}})},ee=async()=>{console.log(" Opening QR Scanner..."),r.value=!0,a.value="",f.value="",v.value="",y.value=" Memulai kamera...",await new Promise(ve=>setTimeout(ve,300));try{await se()}catch(ve){console.error(" Failed to start scanner:",ve),v.value=ve.message,y.value=" Error"}},se=async()=>{try{console.log(" Initializing Html5Qrcode..."),m.value=new Pa("qr-reader"),console.log(" Html5Qrcode instance created");const ve=await Pa.getCameras();if(console.log(" Available cameras:",ve),!ve||ve.length===0)throw new Error("Tidak ada kamera yang ditemukan");let re=ve[0].id;const ye=ve.find(le=>le.label.toLowerCase().includes("back")||le.label.toLowerCase().includes("rear")||le.label.toLowerCase().includes("environment"));ye&&(re=ye.id,console.log(" Using back camera:",ye.label));const Ke={fps:10,qrbox:{width:250,height:250},aspectRatio:1,formatsToSupport:[0]};await m.value.start(re,Ke,(le,ie)=>{if(console.log(" QR Code detected!"),console.log(" Decoded text:",le),console.log(" Full result:",ie),k.value){console.log(" Already processing...");return}f.value=le,y.value=" QR Terdeteksi!",he(le)},le=>{}),console.log(" Scanner started successfully!"),y.value=" Scanner Aktif",v.value=""}catch(ve){console.error(" Scanner error:",ve);let re="Gagal memulai scanner: ";throw ve.name==="NotAllowedError"?re+="Akses kamera ditolak. Izinkan akses kamera di browser.":ve.name==="NotFoundError"?re+="Kamera tidak ditemukan.":ve.name==="NotReadableError"?re+="Kamera sedang digunakan aplikasi lain.":re+=ve.message,v.value=re,y.value=" Error",ve}},J=async()=>{if(console.log(" Closing QR Scanner..."),m.value){try{await m.value.stop(),await m.value.clear(),console.log(" Scanner stopped")}catch(ve){console.error("Error stopping scanner:",ve)}m.value=null}r.value=!1,a.value="",f.value="",v.value="",y.value="",k.value=!1},be=()=>{if(console.log(" Stopping camera..."),u.value){const ve=u.value.getTracks();console.log(`Stopping ${ve.length} track(s)`),ve.forEach(re=>{re.stop(),console.log(`Track stopped: ${re.kind}`)}),u.value=null}c.value&&(c.value.srcObject=null,c.value.load()),g.value=!1,f.value="",console.log(" Camera stopped")},he=async ve=>{if(!ve){alert(" QR Code kosong!");return}if(k.value){console.log(" Already processing...");return}if(k.value=!0,ve=ve.trim(),console.log(" Processing QR Code:",ve),m.value)try{await m.value.pause(),y.value=" Processing..."}catch(re){console.log("Cannot pause scanner:",re)}try{const re=await St.post("/transaction/quality-control/scan",{qr_code:ve});console.log(" Server response:",re.data),re.data.success&&(f.value=` ${re.data.message}`,setTimeout(()=>{J(),$(re.data.data)},1e3))}catch(re){console.error(" Error processing QR:",re);let ye=" Error: ";if(re.response?.data?ye+=re.response.data.message||"Terjadi kesalahan":ye+=re.message||"Terjadi kesalahan",v.value=ye,alert(ye),m.value)try{await m.value.resume(),y.value=" Scanner Aktif"}catch(Ke){console.log("Cannot resume scanner:",Ke)}}finally{k.value=!1}},we=(ve,re,ye,Ke,le)=>{const ie=ve?"R E J E C T":"R E L E A S E D",ae="#171917",Ne=ve?"red":"green",Me=re.noLot||re.batchLot||"N/A",ze=F(re.expDate||"N/A"),et=F(re.tanggalTerima||"N/A"),X=`[${re.kodeItem||"N/A"}] ${re.namaMaterial||"N/A"}`,Y=co().props.auth?.user?.name||"Logistik",L=re.qtyUnitPerWadah||0,N=`${D(L)} ${re.uom||"PCS"}`,B=re.qtyWadah||1,M=B>0?`${L} x ${B} box`:"",ue=ye?`<img src="${ye}" class="qr-code" alt="QR Code">`:'<div class="qr-placeholder">NO QR</div>';return`
        <div class="label-wrapper">
            <div class="label-container" style="border-color: ${ae};">
                <div class="header" style="border-bottom-color: ${ae};">
                    <img src="${bQ}" alt="Logo Gondowangi" class="logo-img">
                    <div class="status-box" style="color: ${Ne}; border-top-color: ${ae};">${ie}</div>
                </div>
                
                <div class="content">
                    <div class="info-section">
                        <div class="info-row">
                            <div class="info-label">Nama Barang</div>
                            <div class="info-value" style="font-size: 11px;">: ${X}</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">Kode Barang</div>
                            <div class="info-value">: ${re.kodeItem||"N/A"}</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">No Lot</div>
                            <div class="info-value">: ${Me}</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">Supplier</div>
                            <div class="info-value">: ${re.supplier||"N/A"}</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">Jmlh Barang</div>
                            <div class="info-value">: ${N}</div>
                        </div>
                        ${M?`<div class="info-row">
                            <div class="info-label">Detail Wadah</div>
                            <div class="info-value multi-line">: ${M}</div>
                        </div>`:""}
                        <div class="info-row">
                            <div class="info-label">Wadah Ke</div>
                            <div class="info-value">: ${Ke} / ${B}</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">Tgl Datang</div>
                            <div class="info-value">: ${et}</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">Exp. Date</div>
                            <div class="info-value">: ${ze}</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">Dibuat Oleh</div>
                            <div class="info-value">: ${Y}</div>
                        </div>
                    </div>
                    
                    <div class="qr-section">
                        ${ue}
                    </div>
                </div>
                
                <div class="footer" style="border-top-color: ${ae};">
                    <span class="footer-left">Logistik</span>
                    <span class="footer-right">QL1001-01 Rev. 02</span>
                </div>
            </div>
        </div>
    `},Oe=async(ve,re)=>{const ye=ve.qtyWadah||1,Ke=6;let le="";const ie=re?"REJECT":"RELEASED";if(ye<=0)throw new Error("Jumlah wadah tidak valid untuk dicetak.");for(let Ne=0;Ne<ye;Ne+=Ke){let Me="";const ze=Math.min(Ke,ye-Ne);for(let et=0;et<ze;et++){const X=Ne+et+1,Y=ve.qrCode||`${ve.batchLot}|${ve.kodeItem}|${ie}|${ve.qtyUnitPerWadah}|${ve.expDate}|${X}/${ye}`,L=await j(Y),N=we(re,ve,L,X);Me+=N}le+=`
            <div class="print-page" style="${Ne>0?"page-break-before: always;":""}">
                ${Me}
            </div>
        `}const ae=re?"red":"green";return`
        <html>
        <head>
            <title>Cetak Label QR - ${ve.kodeItem} (${ye} Wadah)</title>
            <style>
                @page {
                    size: A4;
                    margin: 0.5cm;
                }
                
                body {
                    font-family: 'Arial', sans-serif;
                    margin: 0;
                    padding: 0;
                    background: white;
                    font-size: 10px;
                }
                
                .print-page {
                    width: 20cm; 
                    height: 28.7cm; 
                    margin: 0.5cm auto; 
                    box-sizing: border-box;
                    display: flex;
                    flex-wrap: wrap;
                    align-content: flex-start;
                    justify-content: space-between; 
                }

                /* ===========================================
                    GAYA VISUAL (diselaraskan dengan Penerimaan Barang)
                    =========================================== */

                .label-wrapper {
                    width: 9.9cm; /* 2 kolom di A4 */
                    height: calc(33.33% - 0.4cm); /* 3 baris di A4 */
                    padding: 0; 
                    box-sizing: border-box;
                    margin-bottom: 0.4cm; 
                    margin-right: 0.1cm;
                    margin-left: 0.1cm;
                }
                
                .label-container {
                    width: 100%; 
                    height: 100%; 
                    border: 2px solid ${ae}; /* Warna border sesuai status */
                    padding: 5px; 
                    box-sizing: border-box;
                    background-color: #fff;
                    display: flex;
                    flex-direction: column;
                    font-size: 10px; 
                }
                .header {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    border-bottom: 2px solid ${ae};
                    padding-bottom: 5px; 
                    margin-bottom: 5px; 
                }
                .logo-img {
                    width: 130px; 
                    height: auto;
                    margin-bottom: 5px;
                }
                .status-box {
                    margin-top: 5px;
                    border-top: 0.8px solid #000; 
                    border-bottom: none;
                    border-left: none;
                    border-right: none;
                    padding: 2px 5px;
                    font-weight: bold;
                    font-size: 14px; 
                    width: 100%;
                    text-align: center;
                }
                .content {
                    display: flex;
                    flex-grow: 1;
                    padding-top: 5px;
                    gap: 10px; 
                }
                .info-section {
                    flex: 1;
                    display: flex;
                    flex-direction: column;
                    justify-content: space-between;
                }
                .info-row {
                    display: flex;
                    margin-bottom: 2px;
                    align-items: baseline;
                }
                .info-label {
                    width: 80px; 
                    min-width: 80px;
                    font-weight: normal;
                    flex-shrink: 0;
                }
                .info-value {
                    flex: 1;
                    font-weight: bold;
                    overflow: hidden;
                    text-overflow: ellipsis;
                    
                }
                .info-value.multi-line {
                    white-space: normal; 
                }

                .qr-section {
                    width: 80px; 
                    height: 80px; 
                    display: flex;
                    flex-direction: column;
                    justify-content: flex-start;
                    align-items: flex-end; 
                    flex-shrink: 0;
                }
                .qr-code {
                    width: 100%;
                    height: 100%;
                    border: 1px solid #ccc;
                }
                .qr-placeholder { 
                    width: 100%;
                    height: 100%;
                    border: 1px dashed #999;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 10px;
                    color: #999;
                    font-weight: bold;
                }
                
                .footer {
                    display: flex;
                    justify-content: space-between;
                    font-size: 10px; 
                    border-top: 2px solid ${ae};
                    padding-top: 25px;
                    margin-top: 5px;
                }
                .footer-left {
                    font-style: italic;
                }
                .footer-right {
                    font-weight: bold;
                }
                
                /* Untuk mode print */
                @media print {
                    .print-page { 
                        page-break-after: always;
                        width: initial;
                        height: initial;
                        padding: 1px;
                        margin: 0 auto;
                    }
                    .print-page:last-child { page-break-after: avoid; }
                    body { 
                        -webkit-print-color-adjust: exact; 
                        print-color-adjust: exact;
                        display: block;
                        margin: 0;
                    }
                    /* Menyesuaikan border/padding di mode print */
                    .label-container {
                        border-top: 0.8px solid #000; 
                        padding: 2px;
                    }
                    .header {
                        border-bottom: 0.8px solid #000; 
                        padding: 2px;
                        padding-bottom: 0px; 
                        margin-bottom: 0px; 
                    }
                    .footer {
                        border-top: 0.8px solid #000; 
                        padding-top: 30px;
                        margin-top: 3px;
                    }
                }
            </style>
        </head>
        <body>
            ${le}
        </body>
        </html>
    `},Re=async ve=>{try{const re=await Oe(ve,!1),ye=window.open("","_blank");ye?(ye.document.write(re),ye.document.close(),ye.focus()):alert("Gagal membuka jendela cetak. Pastikan pop-up tidak diblokir.")}catch(re){console.error("Error saat mencetak label RELEASED:",re),alert(re.message||"Terjadi kesalahan saat mencetak label.")}},ge=async ve=>{try{const re=await Oe(ve,!0),ye=window.open("","_blank");ye?(ye.document.write(re),ye.document.close(),ye.focus()):alert("Gagal membuka jendela cetak. Pastikan pop-up tidak diblokir.")}catch(re){console.error("Error saat mencetak label REJECT:",re),alert(re.message||"Terjadi kesalahan saat mencetak label.")}};return zo(()=>{be()}),zo(async()=>{if(m.value)try{await m.value.stop(),await m.value.clear()}catch(ve){console.error("Error cleaning up scanner:",ve)}}),(ve,re)=>(W(),Tt(Yn,{title:"Riwayat Aktivitas"},{default:yt(()=>[i("div",QW,[i("div",KW,[re[23]||(re[23]=i("h2",{class:"text-2xl font-bold text-gray-900"},"Daftar QC (Quality Control)",-1)),i("div",YW," Total item menunggu QC: "+R(e.itemsToQC.length),1),i("button",{onClick:ee,class:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},[...re[22]||(re[22]=[i("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h2M4 4h16a2 2 0 012 2v12a2 2 0 01-2 2H4a2 2 0 01-2-2V6a2 2 0 012-2z"})],-1),Qe(" Scan QR Code ",-1)])])]),i("div",XW,[i("div",ZW,[i("table",JW,[re[25]||(re[25]=i("thead",{class:"bg-gray-50"},[i("tr",null,[i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"No Shipment / No PO"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"No Surat Jalan"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Supplier"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Item (Kode & Nama)"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Qty Diambil"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status QC"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),i("tbody",eG,[(W(!0),Q(He,null,ot(e.itemsToQC,ye=>(W(),Q("tr",{key:ye.id,class:"hover:bg-gray-50"},[i("td",tG,[i("div",null,R(ye.shipmentNumber),1),i("div",nG,R(ye.noPo),1)]),i("td",rG,R(ye.noSuratJalan),1),i("td",sG,R(ye.supplier),1),i("td",oG,[i("div",iG,R(ye.kodeItem),1),i("div",aG,R(ye.namaMaterial),1),ye.is_reqc?(W(),Q("span",lG,[re[24]||(re[24]=i("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[i("path",{"fill-rule":"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z","clip-rule":"evenodd"})],-1)),Qe(" RE-QC ("+R(ye.reqc_count)+"x) ",1)])):me("",!0)]),i("td",cG,[i("span",dG,R(D(_(ye)))+" "+R(ye.uom),1)]),i("td",uG,[i("span",{class:Pe([P(ye.statusQC),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(ye.statusQC),3)]),i("td",xG,[i("div",fG,[ye.statusQC==="To QC"?(W(),Q("button",{key:0,onClick:Ke=>$(ye),class:"bg-blue-100 text-blue-700 hover:bg-blue-200 px-3 py-1 rounded text-xs"}," Periksa QC ",8,hG)):me("",!0),ye.statusQC==="PASS"?(W(),Q("button",{key:1,onClick:Ke=>Re(ye),class:"bg-purple-100 text-purple-700 hover:bg-purple-200 px-2 py-1 rounded text-xs"}," Cetak Label QR (RELEASED) ",8,gG)):me("",!0),ye.statusQC==="REJECT"?(W(),Q("button",{key:2,onClick:Ke=>ge(ye),class:"bg-red-100 text-red-700 hover:bg-red-200 px-2 py-1 rounded text-xs"}," Cetak Label QR (REJECT) ",8,pG)):me("",!0)])])]))),128))])])])]),t.value?(W(),Q("div",mG,[i("div",yG,[i("div",bG,[i("div",EG,[i("h3",vG,"Detail Item QC - "+R(o.value?.kodeItem),1),i("button",{onClick:O,class:"text-gray-400 hover:text-gray-600"},[...re[26]||(re[26]=[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",CG,[i("div",wG,[i("div",null,[re[27]||(re[27]=i("label",{class:"block text-sm font-medium text-gray-700"},"No Shipment",-1)),i("div",AG,R(o.value?.shipmentNumber),1)]),i("div",null,[re[28]||(re[28]=i("label",{class:"block text-sm font-medium text-gray-700"},"No PO",-1)),i("div",BG,R(o.value?.noPo),1)]),i("div",null,[re[29]||(re[29]=i("label",{class:"block text-sm font-medium text-gray-700"},"No Surat Jalan",-1)),i("div",DG,R(o.value?.noSuratJalan),1)]),i("div",null,[re[30]||(re[30]=i("label",{class:"block text-sm font-medium text-gray-700"},"Kode Item",-1)),i("div",_G,R(o.value?.kodeItem),1)]),i("div",null,[re[31]||(re[31]=i("label",{class:"block text-sm font-medium text-gray-700"},"Nama Material",-1)),i("div",kG,R(o.value?.namaMaterial),1)])]),i("div",SG,[i("div",null,[re[32]||(re[32]=i("label",{class:"block text-sm font-medium text-gray-700"},"Supplier",-1)),i("div",FG,R(o.value?.supplier),1)]),i("div",null,[re[33]||(re[33]=i("label",{class:"block text-sm font-medium text-gray-700"},"Quantity Received",-1)),i("div",TG,R(D(o.value?.qtyReceived))+" "+R(o.value?.uom),1)]),i("div",null,[re[34]||(re[34]=i("label",{class:"block text-sm font-medium text-gray-700"},"No Kendaraan",-1)),i("div",IG,R(o.value?.noKendaraan),1)]),i("div",null,[re[35]||(re[35]=i("label",{class:"block text-sm font-medium text-gray-700"},"Nama Driver",-1)),i("div",MG,R(o.value?.namaDriver),1)]),i("div",null,[re[36]||(re[36]=i("label",{class:"block text-sm font-medium text-gray-700"},"Status QC",-1)),i("span",{class:Pe([P(o.value?.statusQC),"inline-flex px-2 py-1 text-xs font-semibold rounded-full"])},R(o.value?.statusQC),3)])])]),i("div",{class:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200"},[i("button",{onClick:O,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"}," Tutup "),i("button",{onClick:q,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"}," Lanjut QC ")])])])])):me("",!0),n.value?(W(),Q("div",PG,[i("div",RG,[i("div",OG,[i("div",NG,[i("h3",LG,"Form QC - "+R(o.value?.kodeItem),1),i("button",{onClick:S,class:"text-gray-400 hover:text-gray-600"},[...re[37]||(re[37]=[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",$G,[i("div",null,[re[38]||(re[38]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"No Form Checklist",-1)),Ce(i("input",{"onUpdate:modelValue":re[0]||(re[0]=ye=>C.value.noFormChecklist=ye),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[$e,C.value.noFormChecklist]])]),i("div",null,[re[39]||(re[39]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date",-1)),Ce(i("input",{"onUpdate:modelValue":re[1]||(re[1]=ye=>C.value.date=ye),type:"datetime-local",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[$e,C.value.date]])]),i("div",null,[re[40]||(re[40]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"No PO",-1)),Ce(i("input",{"onUpdate:modelValue":re[2]||(re[2]=ye=>C.value.noPo=ye),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[$e,C.value.noPo]])]),i("div",null,[re[41]||(re[41]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"No Surat Jalan",-1)),Ce(i("input",{"onUpdate:modelValue":re[3]||(re[3]=ye=>C.value.noSuratJalan=ye),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[$e,C.value.noSuratJalan]])]),i("div",null,[re[42]||(re[42]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Kode Item",-1)),Ce(i("input",{"onUpdate:modelValue":re[4]||(re[4]=ye=>C.value.kodeItem=ye),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[$e,C.value.kodeItem]])]),i("div",null,[re[43]||(re[43]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nama Material",-1)),Ce(i("input",{"onUpdate:modelValue":re[5]||(re[5]=ye=>C.value.namaMaterial=ye),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[$e,C.value.namaMaterial]])]),i("div",null,[re[44]||(re[44]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Reference",-1)),Ce(i("input",{"onUpdate:modelValue":re[6]||(re[6]=ye=>C.value.reference=ye),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[$e,C.value.reference]])]),i("div",null,[re[45]||(re[45]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nama Supplier",-1)),Ce(i("input",{"onUpdate:modelValue":re[7]||(re[7]=ye=>C.value.supplier=ye),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[$e,C.value.supplier]])]),i("div",null,[re[47]||(re[47]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Kategori",-1)),Ce(i("select",{"onUpdate:modelValue":re[8]||(re[8]=ye=>C.value.kategori=ye),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},[...re[46]||(re[46]=[i("option",{value:""},"Pilih Kategori",-1),i("option",{value:"Raw Material"},"Raw Material",-1),i("option",{value:"Packaging Material"},"Packaging Material",-1)])],512),[[dt,C.value.kategori]])]),i("div",null,[re[48]||(re[48]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"No Kendaraan",-1)),Ce(i("input",{"onUpdate:modelValue":re[9]||(re[9]=ye=>C.value.noKendaraan=ye),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[$e,C.value.noKendaraan]])]),i("div",null,[re[49]||(re[49]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nama Driver",-1)),Ce(i("input",{"onUpdate:modelValue":re[10]||(re[10]=ye=>C.value.namaDriver=ye),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[$e,C.value.namaDriver]])])]),i("div",jG,[re[52]||(re[52]=i("h4",{class:"text-md font-medium text-gray-900 mb-4"},"Pengambilan Sampel QC",-1)),i("div",UG,[i("div",HG,[i("label",zG," Qty Sampel Diambil ("+R(C.value.uom)+") * ",1),Ce(i("input",{"onUpdate:modelValue":re[11]||(re[11]=ye=>C.value.qtySample=ye),type:"number",min:"0",max:C.value.totalIncoming,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,8,VG),[[$e,C.value.qtySample]]),C.value.qtySample>C.value.totalIncoming?(W(),Q("p",qG," Qty Sampel tidak boleh melebihi Total Incoming ("+R(C.value.totalIncoming)+" "+R(C.value.uom)+") ",1)):me("",!0)]),i("div",null,[re[50]||(re[50]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Jumlah Total Incoming",-1)),Ce(i("input",{"onUpdate:modelValue":re[12]||(re[12]=ye=>C.value.totalIncoming=ye),type:"number",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[$e,C.value.totalIncoming]])]),i("div",null,[re[51]||(re[51]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"UoM",-1)),Ce(i("input",{"onUpdate:modelValue":re[13]||(re[13]=ye=>C.value.uom=ye),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[$e,C.value.uom]])])])]),i("div",WG,[re[61]||(re[61]=i("h4",{class:"text-md font-medium text-gray-900 mb-4"},"Hasil QC",-1)),i("div",GG,[i("div",QG,[i("div",null,[re[53]||(re[53]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Defect Count",-1)),Ce(i("input",{"onUpdate:modelValue":re[14]||(re[14]=ye=>C.value.defectCount=ye),type:"number",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[$e,C.value.defectCount]])]),i("div",null,[re[54]||(re[54]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Catatan QC",-1)),Ce(i("textarea",{"onUpdate:modelValue":re[15]||(re[15]=ye=>C.value.catatanQC=ye),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[$e,C.value.catatanQC]])]),o.value?.is_reqc&&C.value.hasilQC==="PASS"?(W(),Q("div",KG,[re[55]||(re[55]=i("label",{class:"block text-sm font-medium text-orange-900 mb-1"},[i("span",{class:"flex items-center gap-1"},[i("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[i("path",{"fill-rule":"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z","clip-rule":"evenodd"})]),Qe(" Expired Date Baru (RE-QC PASS) ")])],-1)),Ce(i("input",{"onUpdate:modelValue":re[16]||(re[16]=ye=>C.value.newExpDate=ye),type:"date",required:"",class:"w-full px-3 py-2 border border-orange-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white text-gray-900"},null,512),[[$e,C.value.newExpDate]]),re[56]||(re[56]=i("p",{class:"text-xs text-orange-700 mt-1"},"Masukkan tanggal expired baru untuk material yang PASS Re-QC",-1))])):me("",!0),re[57]||(re[57]=i("div",null,[i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Upload Foto Bukti"),i("input",{type:"file",multiple:"",accept:"image/*",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"})],-1))]),i("div",YG,[i("div",null,[re[60]||(re[60]=i("label",{class:"block text-sm font-medium text-gray-700 mb-3"},"Hasil QC *",-1)),i("div",XG,[i("label",ZG,[Ce(i("input",{"onUpdate:modelValue":re[17]||(re[17]=ye=>C.value.hasilQC=ye),type:"radio",value:"PASS",class:"mr-2 text-green-600 focus:ring-green-500"},null,512),[[Ta,C.value.hasilQC]]),re[58]||(re[58]=i("span",{class:"text-sm text-gray-900"},"PASS",-1))]),i("label",JG,[Ce(i("input",{"onUpdate:modelValue":re[18]||(re[18]=ye=>C.value.hasilQC=ye),type:"radio",value:"REJECT",class:"mr-2 text-red-600 focus:ring-red-500"},null,512),[[Ta,C.value.hasilQC]]),re[59]||(re[59]=i("span",{class:"text-sm text-gray-900"},"REJECT",-1))])])]),C.value.hasilQC?(W(),Q("div",{key:0,class:Pe(["mt-4 p-4 rounded-lg",C.value.hasilQC==="PASS"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"])},[i("div",{class:Pe(["text-sm",C.value.hasilQC==="PASS"?"text-green-800":"text-red-800"])},[i("strong",null,R((C.value.hasilQC==="PASS","Akan digenerate:")),1),i("ul",eQ,[C.value.hasilQC==="PASS"?(W(),Q("li",tQ,"Good Receipt Slip")):me("",!0),C.value.hasilQC==="PASS"?(W(),Q("li",nQ,"Label Karantina QR (Status: RELEASED)")):me("",!0),C.value.hasilQC==="REJECT"?(W(),Q("li",rQ,"Return Slip")):me("",!0),C.value.hasilQC==="REJECT"?(W(),Q("li",sQ,"Label QR (Status: REJECT)")):me("",!0)])],2)],2)):me("",!0)])])]),i("div",oQ,[i("button",{onClick:U,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"}," Kembali ke Detail "),i("button",{onClick:z,disabled:!A.value,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"}," Simpan Hasil QC ",8,iQ)])])])])):me("",!0),r.value?(W(),Q("div",aQ,[i("div",lQ,[i("div",cQ,[i("div",{class:"flex justify-between items-center mb-4"},[re[63]||(re[63]=i("h3",{class:"text-lg font-semibold text-gray-900"},"Scan QR Code",-1)),i("button",{onClick:J,class:"text-gray-400 hover:text-gray-600"},[...re[62]||(re[62]=[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",dQ,[i("div",uQ,[re[64]||(re[64]=i("div",{id:"qr-reader",class:"w-full rounded-lg overflow-hidden"},null,-1)),y.value?(W(),Q("div",xQ,[i("span",{class:Pe([T.value,"px-3 py-1 rounded-full text-xs font-semibold"])},R(y.value),3)])):me("",!0)]),f.value?(W(),Q("div",fQ,[i("p",hQ,[re[65]||(re[65]=i("strong",null," QR Code terdeteksi:",-1)),re[66]||(re[66]=i("br",null,null,-1)),Qe(" "+R(f.value),1)])])):me("",!0),v.value?(W(),Q("div",gQ,[i("p",pQ,[re[67]||(re[67]=i("strong",null," Error:",-1)),re[68]||(re[68]=i("br",null,null,-1)),Qe(" "+R(v.value),1)])])):me("",!0),re[71]||(re[71]=i("div",{class:"relative"},[i("div",{class:"absolute inset-0 flex items-center"},[i("div",{class:"w-full border-t border-gray-300"})]),i("div",{class:"relative flex justify-center text-sm"},[i("span",{class:"px-2 bg-white text-gray-500"},"atau")])],-1)),i("div",null,[re[69]||(re[69]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Input Manual QR Code: ",-1)),i("div",mQ,[Ce(i("input",{"onUpdate:modelValue":re[19]||(re[19]=ye=>a.value=ye),onKeyup:re[20]||(re[20]=Ka(ye=>he(a.value),["enter"])),type:"text",placeholder:"Paste QR Code di sini...",class:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,544),[[$e,a.value]]),i("button",{onClick:re[21]||(re[21]=ye=>he(a.value)),disabled:!a.value,class:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-md"}," Process ",8,yQ)]),re[70]||(re[70]=i("p",{class:"mt-2 text-xs text-gray-500"}," Contoh format: IN/20250918/0001|RM-001|BATCH123|100|2027-01-01 ",-1))])])])])])):me("",!0)])]),_:1}))}}),vQ=Object.freeze(Object.defineProperty({__proto__:null,default:EQ},Symbol.toStringTag,{value:"Module"})),CQ={__name:"index",setup(e){return(t,n)=>(W(),Tt(Yn,{pageTitle:"Laporan",pageDescription:"Laporan dan analisis warehouse"},{default:yt(()=>[...n[0]||(n[0]=[i("div",{class:"bg-white rounded-lg shadow p-6"},[i("div",{class:"text-center py-12"},[i("svg",{class:"w-20 h-20 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),i("h3",{class:"text-xl font-bold text-gray-800 mb-2"},"Halaman Laporan"),i("p",{class:"text-gray-600"},"Fitur laporan sedang dalam pengembangan")])],-1)])]),_:1}))}},wQ=Object.freeze(Object.defineProperty({__proto__:null,default:CQ},Symbol.toStringTag,{value:"Module"})),AQ={class:"space-y-6"},BQ={class:"bg-white rounded-lg shadow-sm border border-gray-200"},DQ={class:"p-6 border-b border-gray-200"},_Q={class:"flex flex-col lg:flex-row gap-4 mb-4"},kQ={class:"flex-1"},SQ={class:"relative"},FQ={key:0,class:"bg-blue-500 text-white text-xs px-2 py-0.5 rounded-full"},TQ={key:0,class:"mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200"},IQ={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4"},MQ={class:"flex gap-2"},PQ={class:"flex justify-between items-center"},RQ={class:"text-sm text-gray-600"},OQ={class:"flex gap-2"},NQ={class:"p-6"},LQ={class:"overflow-x-auto"},$Q={class:"min-w-full divide-y divide-gray-200"},jQ={class:"bg-white divide-y divide-gray-200"},UQ={key:0},HQ={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800"},zQ={class:"px-6 py-4 whitespace-nowrap text-sm"},VQ={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},qQ={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},WQ={class:"px-6 py-4 whitespace-nowrap"},GQ={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},QQ={class:"flex space-x-2"},KQ=["onClick"],YQ=["onClick"],XQ={key:0,class:"fixed inset-0 bg-gray-900 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},ZQ={class:"bg-white rounded-lg w-full max-w-7xl mx-4 max-h-[90vh] overflow-y-auto shadow-xl"},JQ={class:"p-6"},eK={class:"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200"},tK={class:"grid grid-cols-2 md:grid-cols-4 gap-3"},nK=["onClick"],rK={key:0,class:"space-y-6"},sK={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},oK={class:"block text-sm font-medium text-gray-700 mb-1"},iK={key:0},aK={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},lK={key:0},cK={key:1},dK={key:2},uK={key:3},xK={key:4},fK={key:5},hK={key:0,class:"mb-6 p-4 bg-yellow-50 rounded-lg border border-yellow-200"},gK={class:"block text-sm font-medium text-gray-700 mb-2"},pK={key:0},mK={key:1},yK={class:"flex items-center gap-3"},bK=["disabled"],EK={class:"border-t border-gray-200 pt-6"},vK={class:"flex justify-between items-center mb-4"},CK={class:"text-md font-medium text-gray-800"},wK={class:"overflow-x-auto border border-gray-200 rounded-lg"},AK={class:"min-w-full divide-y divide-gray-200"},BK={class:"bg-gray-50"},DK={class:"divide-y divide-gray-200 bg-white"},_K={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-700"},kK={class:"px-4 py-3 relative whitespace-nowrap z-10"},SK=["onUpdate:modelValue","onInput","onFocus"],FK={key:0,class:"absolute left-0 right-0 mt-1 max-h-48 overflow-y-auto bg-white border border-gray-300 rounded-md shadow-lg z-20"},TK=["onMousedown"],IK={class:"text-gray-500 text-xs truncate ml-2"},MK={class:"px-4 py-3 whitespace-nowrap"},PK=["onUpdate:modelValue"],RK={class:"px-4 py-3 whitespace-nowrap"},OK=["onUpdate:modelValue"],NK={key:1,class:"text-xs text-red-500 font-medium"},LK={class:"px-4 py-3 whitespace-nowrap"},$K=["onUpdate:modelValue"],jK={class:"px-4 py-3 relative whitespace-nowrap z-10"},UK=["onUpdate:modelValue","onInput","onFocus"],HK={key:0,class:"absolute left-0 right-0 mt-1 max-h-48 overflow-y-auto bg-white border border-gray-300 rounded-md shadow-lg z-20"},zK=["onMousedown"],VK={class:"text-gray-500 text-xs truncate ml-2"},qK={class:"px-4 py-3 whitespace-nowrap"},WK=["onUpdate:modelValue"],GK={class:"px-4 py-3 whitespace-nowrap"},QK=["onUpdate:modelValue"],KK={key:1,class:"text-xs text-red-500 font-medium"},YK={class:"px-4 py-3 relative whitespace-nowrap z-10"},XK=["onUpdate:modelValue","onInput","onFocus"],ZK={key:0,class:"absolute left-0 right-0 mt-1 max-h-48 overflow-y-auto bg-white border border-gray-300 rounded-md shadow-lg z-20"},JK=["onMousedown"],eY={class:"text-gray-500 text-xs truncate ml-2"},tY={class:"px-4 py-3 whitespace-nowrap"},nY=["onUpdate:modelValue"],rY={class:"px-4 py-3 whitespace-nowrap"},sY=["onUpdate:modelValue"],oY={key:1,class:"text-xs text-red-500 font-medium"},iY={class:"px-4 py-3 whitespace-nowrap"},aY=["onUpdate:modelValue"],lY={class:"px-4 py-3 relative whitespace-nowrap z-10"},cY=["onUpdate:modelValue","onInput","onFocus"],dY={key:0,class:"absolute left-0 right-0 mt-1 max-h-48 overflow-y-auto bg-white border border-gray-300 rounded-md shadow-lg z-20"},uY=["onMousedown"],xY={class:"text-gray-500 text-xs truncate ml-2"},fY={class:"px-4 py-3 whitespace-nowrap"},hY=["onUpdate:modelValue"],gY={class:"px-4 py-3 whitespace-nowrap"},pY=["onUpdate:modelValue"],mY={class:"px-4 py-3 whitespace-nowrap"},yY=["onUpdate:modelValue"],bY={key:1,class:"text-xs text-red-500 font-medium"},EY={class:"px-4 py-3 whitespace-nowrap"},vY=["onClick"],CY={class:"flex justify-end space-x-3 pt-6 border-t border-gray-200"},wY=["disabled"],AY={key:1,class:"fixed inset-0 bg-gray-900 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},BY={class:"bg-white rounded-lg w-full max-w-7xl mx-4 max-h-[90vh] overflow-y-auto shadow-xl"},DY={class:"p-6"},_Y={class:"flex justify-between items-center mb-6 border-b pb-4"},kY={class:"text-xl font-bold text-gray-800"},SY={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 bg-gray-50 p-4 rounded-lg"},FY={class:"space-y-1"},TY={class:"space-y-1"},IY={class:"font-medium text-gray-800"},MY={class:"space-y-1"},PY={class:"space-y-1"},RY={class:"text-gray-800"},OY={class:"space-y-1 md:col-span-2"},NY={class:"text-gray-800"},LY={class:"space-y-1"},$Y={class:"text-gray-800"},jY={class:"space-y-1"},UY={class:"text-gray-800"},HY={class:"space-y-1"},zY={class:"text-gray-800"},VY={class:"space-y-1"},qY={class:"text-gray-800"},WY={class:"space-y-1"},GY={class:"text-gray-800"},QY={key:0,class:"p-4 bg-yellow-50 text-yellow-700 rounded-lg"},KY={key:1,class:"overflow-x-auto border border-gray-200 rounded-lg"},YY={class:"min-w-full divide-y divide-gray-200"},XY={class:"bg-gray-50"},ZY={class:"divide-y divide-gray-200 bg-white"},JY={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-700"},eX={class:"px-4 py-3 text-sm text-gray-700"},tX={class:"px-4 py-3 text-sm text-gray-700"},nX={class:"px-4 py-3 text-sm text-gray-700"},rX={class:"px-4 py-3 text-sm text-gray-700"},sX={class:"px-4 py-3 text-sm text-gray-700"},oX={class:"px-4 py-3 text-sm text-gray-700"},iX={class:"px-4 py-3 text-sm text-gray-700"},aX={class:"px-4 py-3 text-sm text-gray-700"},lX={class:"px-4 py-3 text-sm text-gray-700"},cX={class:"px-4 py-3 text-sm text-gray-700"},dX={class:"px-4 py-3 text-sm text-gray-700"},uX={class:"px-4 py-3 text-sm text-gray-700"},xX={class:"px-4 py-3 text-sm text-gray-700"},fX={class:"px-4 py-3 text-sm text-gray-700"},hX={class:"px-4 py-3 text-sm text-gray-700"},gX={key:0,class:"fixed inset-0 bg-gray-900 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},pX={class:"bg-white rounded-lg p-6 w-full max-w-sm shadow-xl"},mX={class:"text-sm text-gray-600 mb-6"},yX={class:"flex justify-end space-x-3"},bX={__name:"Reservation",props:{initialRequests:{type:Array,default:()=>[]},errors:Object,auth:Object,permissions:Array},setup(e){const t=Be(!1),n=Be(""),r=Be(!1),o=Be(""),a=Be(!1),c=Be(null),u=Be(!1),g=Be(""),f=Be(null),m=Be(null),y=Be([]),v=Be(null);let C=null;const A=Be({category:"",status:"",dateFrom:"",dateTo:""}),D=[{id:"packaging",name:"Request Packaging Material"},{id:"raw-material",name:"Request Raw Material"},{id:"foh-rs",name:"FOH & RS"},{id:"add",name:"ADD (Additional Request)"}],_=Be({noReservasi:"",tanggalPermintaan:"",departemen:"",alasanReservasi:"",namaProduk:"",noBetsFilling:"",kodeProduk:"",noBets:"",besarBets:"",items:[]}),T=Y=>{const L=Y.target.files?Y.target.files[0]:null;f.value=L,m.value=L?{type:"info",message:`File terpilih: ${L.name}`}:null},j=async()=>{if(!f.value){m.value={type:"error",message:" Harap pilih file PDF terlebih dahulu."};return}if(n.value!=="raw-material"&&n.value!=="packaging"){m.value={type:"error",message:' Mohon pilih kategori "Request Raw Material" atau "Request Packaging Material" di bagian atas form.'};return}_.value.items=[],m.value={type:"info",message:"Sedang memproses file, mohon tunggu..."};const Y=new FormData;Y.append("file",f.value),Y.append("request_type",n.value);try{const L=await St.post(route("transaction.reservation.parse-materials"),Y,{headers:{"Content-Type":"multipart/form-data"}}),N=L.data.materials||[],B=L.data.notFoundMaterials||[];if(N.length>0?(_.value.items=N.map(M=>n.value==="raw-material"?{kodeBahan:M.kodeBahan,namaBahan:M.namaBahan,jumlahKebutuhan:M.jumlahKebutuhan,jumlahKirim:null,satuan:M.satuan,stokAvailable:M.stokAvailable}:n.value==="packaging"?{kodePM:M.kodePM,namaMaterial:M.namaMaterial,jumlahPermintaan:M.jumlahPermintaan,satuan:M.satuan,stokAvailable:M.stokAvailable}:{}),m.value={type:"success",message:` Berhasil mengimpor ${N.length} material.`}):B.length>0?m.value={type:"warning",message:` ${B.length} material ditolak/tidak ditemukan. Lihat detail.`}:m.value={type:"error",message:" Tidak ada material yang ditemukan dalam dokumen."},B.length>0){const M=B.map(ue=>` **${ue.kode||ue.kodePM||ue.kodeBahan}**: ${ue.message}`).join(`
`);g.value=` Ditemukan masalah pada material berikut (Item TIDAK dimasukkan ke tabel):

${M}`,u.value=!0}}catch(L){console.error("Error saat parse file:",L);const N=L.response?.statusText||"Kesalahan Server";let B=L.response?.data?.message||`Gagal memproses. (${N})`;if(L.response?.data?.errors){const M=L.response.data.errors;B=Object.values(M).map(ue=>ue[0]).join("; ")}m.value={type:"error",message:` Gagal memproses (${N}): ${B}`}}finally{f.value=null,document.querySelector('input[type="file"]').value=""}},k=Be(e.initialRequests||[]),P=async()=>{try{const Y=await St.get(route("transaction.reservation.data"));k.value=Y.data}catch(Y){console.error("Error fetching reservations:",Y)}},$=Y=>{const L=D.find(N=>N.id===Y);return L?L.name:Y},O=Y=>({"foh-rs":"bg-blue-100 text-blue-700",packaging:"bg-green-100 text-green-700","raw-material":"bg-purple-100 text-purple-700",add:"bg-orange-100 text-orange-700"})[Y]||"bg-gray-100 text-gray-700",q=We(()=>{switch(n.value){case"foh-rs":return"Daftar Item";case"packaging":return"Daftar Material";case"raw-material":return"Daftar Bahan Baku";case"add":return"Daftar Item Tambahan";default:return"Daftar Item"}}),S=(Y,L)=>{const N=parseFloat(Y[L])||0,B=parseFloat(Y.stokAvailable)||0;return N>B&&N>0&&Y.stokAvailable!==void 0},U=We(()=>{let Y="";switch(n.value){case"foh-rs":Y="qty";break;case"packaging":case"add":Y="jumlahPermintaan";break;case"raw-material":Y="jumlahKebutuhan";break;default:return!1}return _.value.items.some(L=>S(L,Y))}),G=We(()=>{if(!n.value||!_.value.tanggalPermintaan||_.value.items.length===0||!_.value.items.every(L=>{switch(n.value){case"foh-rs":return L.kodeItem&&L.qty>0;case"packaging":case"add":return L.kodePM&&L.jumlahPermintaan>0;case"raw-material":return L.kodeBahan&&L.jumlahKebutuhan>0;default:return!1}}))return!1;switch(n.value){case"foh-rs":return!!_.value.departemen&&!!_.value.alasanReservasi;case"packaging":return!!_.value.namaProduk&&!!_.value.noBetsFilling;case"raw-material":return!!_.value.kodeProduk&&!!_.value.noBets&&_.value.besarBets>0;case"add":return!!_.value.namaProduk&&!!_.value.noBetsFilling;default:return!1}}),z=We(()=>{let Y=k.value;if(o.value){const L=o.value.toLowerCase();Y=Y.filter(N=>N.noReservasi.toLowerCase().includes(L)||$(N.type).toLowerCase().includes(L)||ge(N).toLowerCase().includes(L)||N.status.toLowerCase().includes(L))}if(A.value.category&&(Y=Y.filter(L=>L.type===A.value.category)),A.value.status&&(Y=Y.filter(L=>L.status===A.value.status)),A.value.dateFrom){const L=new Date(A.value.dateFrom);Y=Y.filter(N=>new Date(N.tanggalPermintaan)>=L)}if(A.value.dateTo){const L=new Date(A.value.dateTo);L.setHours(23,59,59,999),Y=Y.filter(N=>new Date(N.tanggalPermintaan)<=L)}return Y}),ee=We(()=>{let Y=0;return A.value.category&&Y++,A.value.status&&Y++,A.value.dateFrom&&Y++,A.value.dateTo&&Y++,Y}),se=(Y,L)=>{v.value={index:Y,field:L},y.value=[]},J=()=>{setTimeout(()=>{v.value=null,y.value=[]},200)},be=(Y,L)=>v.value&&v.value.index===Y&&v.value.field===L,he=async(Y,L)=>{if(!Y||Y.length<2){y.value=[];return}try{const N=await St.get(route("transaction.materials.search"),{params:{query:Y,type:L}});y.value=N.data}catch(N){console.error("Error fetching material suggestions:",N),y.value=[]}},we=(Y,L,N)=>{C&&clearTimeout(C),v.value={index:L,field:N},C=setTimeout(()=>{he(Y,n.value)},300)},Oe=(Y,L,N)=>{const B=_.value.items[L];B.kodeItem="",B.keterangan="",B.uom="",B.kodePM="",B.namaMaterial="",B.kodeBahan="",B.namaBahan="",B.satuan="",B.stokAvailable=Y.stokAvailable,n.value==="foh-rs"?(B.kodeItem=Y.kodeItem,B.keterangan=Y.keterangan,B.uom=Y.uom):n.value==="packaging"||n.value==="add"?(B.kodePM=Y.kodePM,B.namaMaterial=Y.namaMaterial,B.satuan=Y.satuan):n.value==="raw-material"&&(B.kodeBahan=Y.kodeBahan,B.namaBahan=Y.namaBahan,B.satuan=Y.satuan),y.value=[],v.value=null},Re=Y=>({Draft:"bg-gray-100 text-gray-700",Submitted:"bg-blue-100 text-blue-700",Completed:"bg-green-100 text-green-700",Rejected:"bg-red-100 text-red-700",Picking:"bg-yellow-100 text-yellow-700",Done:"bg-purple-100 text-purple-700"})[Y]||"bg-yellow-100 text-yellow-700",ge=Y=>{switch(Y.type){case"foh-rs":return Y.departemen;case"packaging":return Y.namaProduk;case"raw-material":return Y.kodeProduk;case"add":return Y.namaProduk;default:return"-"}},ve=Y=>{if(!Y)return"-";try{return new Date(Y).toLocaleString("id-ID",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return Y}},re=()=>{A.value={category:"",status:"",dateFrom:"",dateTo:""}},ye=()=>{le(),ie(),t.value=!0},Ke=()=>{t.value=!1,le()},le=()=>{f.value=null,m.value=null,n.value="",_.value={noReservasi:"",tanggalPermintaan:new Date().toISOString().slice(0,16),departemen:"",alasanReservasi:"",namaProduk:"",noBetsFilling:"",kodeProduk:"",noBets:"",besarBets:"",items:[]}},ie=()=>{const Y=new Date().toISOString().slice(0,10).replace(/-/g,""),L=k.value.length+1;_.value.noReservasi=`RSV/${Y}/${String(L).padStart(4,"0")}`},ae=()=>{const Y={};switch(n.value){case"foh-rs":Y.kodeItem="",Y.keterangan="",Y.qty=null,Y.uom="",Y.stokAvailable=void 0;break;case"packaging":Y.namaMaterial="",Y.kodePM="",Y.jumlahPermintaan=null,Y.satuan="",Y.stokAvailable=void 0;break;case"raw-material":Y.kodeBahan="",Y.namaBahan="",Y.jumlahKebutuhan=null,Y.jumlahKirim=null,Y.satuan="",Y.stokAvailable=void 0;break;case"add":Y.namaMaterial="",Y.kodePM="",Y.alasanPenambahan="",Y.jumlahPermintaan=null,Y.satuan="",Y.stokAvailable=void 0;break}_.value.items.push(Y)},Ne=Y=>{_.value.items.splice(Y,1)},Me=async()=>{if(!G.value){g.value="Mohon lengkapi semua field yang diperlukan (termasuk Tanggal Permintaan, minimal satu Item, dan semua field header wajib) sebelum melanjutkan.",u.value=!0;return}if(U.value){g.value="Tidak dapat mengirim permintaan: Beberapa item melebihi stok yang tersedia. Harap perbaiki kuantitas permintaan.",u.value=!0;return}const Y={..._.value,request_type:n.value};bt.post(route("transaction.reservation.store"),Y,{preserveScroll:!0,onSuccess:()=>{console.log(" Reservation request berhasil dibuat!"),Ke(),P()},onError:L=>{console.error("Validation errors:",L);let N=` Gagal membuat reservasi karena data tidak lengkap:

`;for(const B in L)if(Object.prototype.hasOwnProperty.call(L,B)){const M=Array.isArray(L[B])?L[B][0]:L[B];N+=` ${M}
`}g.value=N,u.value=!0}})},ze=Y=>{c.value=JSON.parse(JSON.stringify(Y)),a.value=!0},et=()=>{a.value=!1,c.value=null},X=Y=>{const L=JSON.parse(JSON.stringify(Y));if(!L.items||!Array.isArray(L.items)){console.error("Tidak dapat mencetak: Data item tidak valid atau kosong."),g.value="Tidak dapat mencetak: Data item tidak valid atau kosong.",u.value=!0;return}const N=window.open("","_blank");let B="",M="";const ue=L.items.map((_e,te)=>{let Z=`<td>${te+1}</td>`;const fe=L.type?L.type.toLowerCase():"";return fe==="foh-rs"?Z+=`
            <td>${_e.kodeItem||"-"}</td>
            <td>${_e.keterangan||"-"}</td>
            <td>${_e.qty||"-"}</td>
            <td>${_e.uom||"-"}</td>
        `:fe==="packaging"?Z+=`
            <td>${_e.namaMaterial||"-"}</td>
            <td>${_e.kodePM||"-"}</td>
            <td>${_e.jumlahPermintaan||"-"}</td>
        `:fe==="raw-material"?Z+=`
            <td>${_e.kodeBahan||"-"}</td>
            <td>${_e.namaBahan||"-"}</td>
            <td>${_e.jumlahKebutuhan||"-"}</td>
            <td>${_e.jumlahKirim||"-"}</td>
        `:fe==="add"&&(Z+=`
            <td>${_e.namaMaterial||"-"}</td>
            <td>${_e.kodePM||"-"}</td>
            <td>${_e.alasanPenambahan||"-"}</td>
            <td>${_e.jumlahPermintaan||"-"}</td>
        `),`<tr>${Z}</tr>`}).join("");switch(L.type?L.type.toLowerCase():""){case"foh-rs":B="FORM FOH & RS REQUEST",M=`
        <div class="info-section">
          <div class="info-row">
            <span><strong>No Reservasi:</strong> ${L.noReservasi}</span>
            <span><strong>Tanggal:</strong> ${ve(L.tanggalPermintaan)}</span>
          </div>
          <div class="info-row">
            <span><strong>Departemen:</strong> ${L.departemen}</span>
            <span><strong>Status:</strong> ${L.status}</span>
          </div>
          <div class="info-row">
            <span><strong>Alasan Reservasi:</strong> ${L.alasanReservasi||"-"}</span>
          </div>
        </div>

        <table class="items-table">
          <thead>
            <tr>
              <th>No</th>
              <th>Kode Item</th>
              <th>Keterangan</th>
              <th>Qty</th>
              <th>UoM</th>
            </tr>
          </thead>
          <tbody>
          ${ue}
          </tbody>
        </table>
      `;break;case"packaging":B="FORM REQUEST PACKAGING MATERIAL",M=`
        <div class="info-section">
          <div class="info-row">
            <span><strong>No Reservasi:</strong> ${L.noReservasi}</span>
            <span><strong>Tanggal & Jam:</strong> ${ve(L.tanggalPermintaan)}</span>
          </div>
          <div class="info-row">
            <span><strong>Nama Produk:</strong> ${L.namaProduk}</span>
            <span><strong>No Bets Filling:</strong> ${L.noBetsFilling}</span>
          </div>
        </div>

        <table class="items-table">
          <thead>
            <tr>
              <th>No</th>
              <th>Nama Material</th>
              <th>Kode PM</th>
              <th>Jumlah Permintaan</th>
            </tr>
          </thead>
          <tbody>
          ${ue}
          </tbody>
        </table>
      `;break;case"raw-material":B="FORM REQUEST RAW MATERIAL",M=`
        <div class="info-section">
          <div class="info-row">
            <span><strong>No Reservasi:</strong> ${L.noReservasi}</span>
            <span><strong>Tanggal:</strong> ${ve(L.tanggalPermintaan)}</span>
          </div>
          <div class="info-row">
            <span><strong>Kode Produk:</strong> ${L.kodeProduk}</span>
            <span><strong>No Bets:</strong> ${L.noBets}</span>
          </div>
          <div class="info-row">
            <span><strong>Besar Bets:</strong> ${L.besarBets} Kg</span>
          </div>
        </div>

        <table class="items-table">
          <thead>
            <tr>
              <th>No</th>
              <th>Kode Bahan</th>
              <th>Nama Bahan</th>
              <th>Jumlah Kebutuhan</th>
              <th>Jumlah Kirim</th>
            </tr>
          </thead>
          <tbody>
          ${ue}
          </tbody>
        </table>
      `;break;case"add":B="FORM ADD - ADDITIONAL REQUEST",M=`
        <div class="info-section">
          <div class="info-row">
            <span><strong>No Reservasi:</strong> ${L.noReservasi}</span>
            <span><strong>Tanggal & Jam:</strong> ${ve(L.tanggalPermintaan)}</span>
          </div>
          <div class="info-row">
            <span><strong>Nama Produk:</strong> ${L.namaProduk}</span>
            <span><strong>No Bets Filling:</strong> ${L.noBetsFilling}</span>
          </div>
        </div>

        <table class="items-table">
          <thead>
            <tr>
              <th>No</th>
              <th>Nama Material</th>
              <th>Kode PM</th>
              <th>Alasan Penambahan</th>
              <th>Jumlah Permintaan</th>
            </tr>
          </thead>
          <tbody>
          ${ue}
          </tbody>
        </table>
      `;break;default:console.error("Tipe request tidak dikenal: ",L.type),g.value=`Tipe request tidak dikenal: ${L.type}`,u.value=!0;return}N.document.write(`
    <html>
      <head>
        <title>${B} - ${L.noReservasi}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; font-size: 12px; }
          .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 10px; margin-bottom: 20px; }
          .info-section { margin: 20px 0; }
          .info-row { display: flex; justify-content: space-between; margin: 8px 0; }
          .items-table { width: 100%; border-collapse: collapse; margin: 20px 0; }
          .items-table th, .items-table td { border: 1px solid #000; padding: 8px; text-align: left; }
          .items-table th { background-color: #f0f0f0; font-weight: bold; }
          .signature { margin-top: 40px; display: flex; justify-content: space-between; }
          .signature div { text-align: center; }
          .signature-line { border-top: 1px solid #000; width: 150px; margin-top: 40px; }
          @media print {
            body { margin: 0; font-size: 11px; }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <h2>${B}</h2>
          <p>No: ${L.noReservasi}</p>
        </div>

        ${M}

        <div class="signature">
          <div>
            <p>Dibuat Oleh:</p>
            <div class="signature-line"></div>
            <p>Requester</p>
          </div>
          <div>
            <p>Disetujui Oleh:</p>
            <div class="signature-line"></div>
            <p>Supervisor</p>
          </div>
          <div>
            <p>Tanggal:</p>
            <div class="signature-line"></div>
            <p>${new Date().toLocaleDateString("id-ID")}</p>
          </div>
        </div>
      </body>
    </html>
  `),N.document.close(),N.focus(),setTimeout(()=>{N.print(),N.close()},500)};return Kn(()=>{}),(Y,L)=>(W(),Tt(Yn,{title:"Riwayat Aktivitas"},{default:yt(()=>[i("div",AQ,[L[92]||(L[92]=i("div",{class:"flex justify-between items-center"},[i("h2",{class:"text-2xl font-bold text-gray-800"},"Reservation Requests")],-1)),i("div",BQ,[i("div",DQ,[i("div",_Q,[i("div",kQ,[i("div",SQ,[Ce(i("input",{"onUpdate:modelValue":L[0]||(L[0]=N=>o.value=N),type:"text",placeholder:"Cari berdasarkan No Reservasi, Kategori, atau Detail Info...",class:"w-full px-4 py-2.5 pl-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-700"},null,512),[[$e,o.value]]),L[21]||(L[21]=i("svg",{class:"w-5 h-5 absolute left-3 top-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])]),i("button",{onClick:L[1]||(L[1]=N=>r.value=!r.value),class:"px-4 py-2.5 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg flex items-center gap-2 transition-colors border border-gray-300"},[L[22]||(L[22]=i("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1)),L[23]||(L[23]=Qe(" Filter ",-1)),ee.value>0?(W(),Q("span",FQ,R(ee.value),1)):me("",!0)]),i("button",{onClick:ye,class:"px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center gap-2 transition-colors"},[...L[24]||(L[24]=[i("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),Qe(" Buat Request ",-1)])])]),r.value?(W(),Q("div",TQ,[i("div",IQ,[i("div",null,[L[26]||(L[26]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Kategori",-1)),Ce(i("select",{"onUpdate:modelValue":L[2]||(L[2]=N=>A.value.category=N),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-700 bg-white"},[...L[25]||(L[25]=[i("option",{value:""},"Semua Kategori",-1),i("option",{value:"foh-rs"},"FOH & RS",-1),i("option",{value:"packaging"},"Request Packaging Material",-1),i("option",{value:"raw-material"},"Request Raw Material",-1),i("option",{value:"add"},"ADD (Additional Request)",-1)])],512),[[dt,A.value.category]])]),i("div",null,[L[28]||(L[28]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Status",-1)),Ce(i("select",{"onUpdate:modelValue":L[3]||(L[3]=N=>A.value.status=N),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-700 bg-white"},[...L[27]||(L[27]=[i("option",{value:""},"Semua Status",-1),i("option",{value:"Draft"},"Draft",-1),i("option",{value:"Submitted"},"Submitted",-1),i("option",{value:"Approved"},"Approved",-1),i("option",{value:"Rejected"},"Rejected",-1),i("option",{value:"Picking"},"Picking",-1),i("option",{value:"Done"},"Done",-1)])],512),[[dt,A.value.status]])]),i("div",null,[L[29]||(L[29]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Rentang Tanggal",-1)),i("div",MQ,[Ce(i("input",{"onUpdate:modelValue":L[4]||(L[4]=N=>A.value.dateFrom=N),type:"date",class:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-700 bg-white text-sm"},null,512),[[$e,A.value.dateFrom]]),Ce(i("input",{"onUpdate:modelValue":L[5]||(L[5]=N=>A.value.dateTo=N),type:"date",class:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-700 bg-white text-sm"},null,512),[[$e,A.value.dateTo]])])])]),i("div",PQ,[i("div",RQ," Total hasil: "+R(z.value.length)+" dari "+R(k.value.length)+" requests ",1),i("div",OQ,[i("button",{onClick:re,class:"px-4 py-2 text-gray-600 hover:text-gray-800 text-sm"}," Reset Filter "),i("button",{onClick:L[6]||(L[6]=N=>r.value=!1),class:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm"}," Terapkan ")])])])):me("",!0)]),i("div",NQ,[i("div",LQ,[i("table",$Q,[L[32]||(L[32]=i("thead",{class:"bg-gray-50"},[i("tr",null,[i("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"No Reservasi"),i("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Kategori "),i("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Tanggal Permintaan"),i("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"No Bets Filling/Mixing"),i("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Detail Info"),i("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Status "),i("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Aksi")])],-1)),i("tbody",jQ,[z.value.length===0?(W(),Q("tr",UQ,[...L[30]||(L[30]=[i("td",{colspan:"6",class:"px-6 py-8 text-center text-gray-500"}," Tidak ada data yang ditemukan ",-1)])])):me("",!0),(W(!0),Q(He,null,ot(z.value,N=>(W(),Q("tr",{key:N.id,class:"hover:bg-gray-50 transition-colors"},[i("td",HQ,R(N.noReservasi),1),i("td",zQ,[i("span",{class:Pe(["px-2 py-1 text-xs font-medium rounded-full",O(N.type)])},R($(N.type)),3)]),i("td",VQ,R(ve(N.tanggalPermintaan)),1),L[31]||(L[31]=i("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},"763473",-1)),i("td",qQ,R(ge(N)),1),i("td",WQ,[i("span",{class:Pe([Re(N.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},R(N.status),3)]),i("td",GQ,[i("div",QQ,[i("button",{onClick:B=>ze(N),class:"bg-blue-50 text-blue-700 hover:bg-blue-100 px-3 py-1.5 rounded text-xs font-medium transition-colors"}," Detail ",8,KQ),i("button",{onClick:B=>X(N),class:"bg-green-50 text-green-700 hover:bg-green-100 px-3 py-1.5 rounded text-xs font-medium transition-colors"}," Cetak ",8,YQ)])])]))),128))])])])])]),t.value?(W(),Q("div",XQ,[i("div",ZQ,[i("div",JQ,[i("div",{class:"flex justify-between items-center mb-6"},[L[34]||(L[34]=i("h3",{class:"text-lg font-semibold text-gray-800"}," Buat Request Reservasi Baru ",-1)),i("button",{onClick:Ke,class:"text-gray-400 hover:text-gray-600 transition-colors"},[...L[33]||(L[33]=[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",eK,[L[35]||(L[35]=i("label",{class:"block text-sm font-medium text-gray-700 mb-3"},"Pilih Kategori Request:",-1)),i("div",tK,[(W(),Q(He,null,ot(D,N=>i("button",{key:N.id,onClick:B=>n.value=N.id,class:Pe(["p-4 rounded-lg border-2 text-sm font-medium transition-all",n.value===N.id?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:border-blue-300 hover:bg-blue-50"])},R(N.name),11,nK)),64))])]),n.value?(W(),Q("div",rK,[i("div",sK,[i("div",null,[L[36]||(L[36]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"No Reservasi",-1)),Ce(i("input",{"onUpdate:modelValue":L[7]||(L[7]=N=>_.value.noReservasi=N),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-700"},null,512),[[$e,_.value.noReservasi]])]),i("div",null,[i("label",oK,R(n.value==="packaging"||n.value==="add"?"Tanggal & Jam Permintaan":"Tanggal Permintaan"),1),Ce(i("input",{"onUpdate:modelValue":L[8]||(L[8]=N=>_.value.tanggalPermintaan=N),type:"datetime-local",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700"},null,512),[[$e,_.value.tanggalPermintaan]])]),n.value==="foh-rs"?(W(),Q("div",iK,[L[37]||(L[37]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[Qe("Alasan Reservasi "),i("span",{class:"text-red-500"},"*")],-1)),Ce(i("textarea",{"onUpdate:modelValue":L[9]||(L[9]=N=>_.value.alasanReservasi=N),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",placeholder:"Jelaskan alasan reservasi..."},null,512),[[$e,_.value.alasanReservasi]])])):me("",!0)]),i("div",aK,[n.value==="foh-rs"?(W(),Q("div",lK,[L[39]||(L[39]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[Qe("Departemen "),i("span",{class:"text-red-500"},"*")],-1)),Ce(i("select",{"onUpdate:modelValue":L[10]||(L[10]=N=>_.value.departemen=N),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700"},[...L[38]||(L[38]=[i("option",{value:""},"Pilih Departemen",-1),i("option",{value:"Marketing"},"Marketing",-1),i("option",{value:"Produksi"},"Produksi",-1),i("option",{value:"IT"},"IT",-1),i("option",{value:"HRD"},"HRD",-1)])],512),[[dt,_.value.departemen]])])):me("",!0),n.value==="packaging"||n.value==="add"?(W(),Q("div",cK,[L[40]||(L[40]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[Qe("Nama Produk "),i("span",{class:"text-red-500"},"*")],-1)),Ce(i("input",{"onUpdate:modelValue":L[11]||(L[11]=N=>_.value.namaProduk=N),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700"},null,512),[[$e,_.value.namaProduk]])])):me("",!0),n.value==="raw-material"?(W(),Q("div",dK,[L[41]||(L[41]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[Qe("Nama Produk "),i("span",{class:"text-red-500"},"*")],-1)),Ce(i("input",{"onUpdate:modelValue":L[12]||(L[12]=N=>_.value.kodeProduk=N),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700"},null,512),[[$e,_.value.kodeProduk]])])):me("",!0),n.value==="packaging"||n.value==="add"?(W(),Q("div",uK,[L[42]||(L[42]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[Qe("No Bets Filling / Mixing "),i("span",{class:"text-red-500"},"*")],-1)),Ce(i("input",{"onUpdate:modelValue":L[13]||(L[13]=N=>_.value.noBetsFilling=N),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700"},null,512),[[$e,_.value.noBetsFilling]])])):me("",!0),n.value==="raw-material"?(W(),Q("div",xK,[L[43]||(L[43]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[Qe("No Bets Ekstrak / Mixing "),i("span",{class:"text-red-500"},"*")],-1)),Ce(i("input",{"onUpdate:modelValue":L[14]||(L[14]=N=>_.value.noBets=N),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700"},null,512),[[$e,_.value.noBets]])])):me("",!0),n.value==="raw-material"?(W(),Q("div",fK,[L[44]||(L[44]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[Qe("Besar Bets (Kg) "),i("span",{class:"text-red-500"},"*")],-1)),Ce(i("input",{"onUpdate:modelValue":L[15]||(L[15]=N=>_.value.besarBets=N),type:"number",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700"},null,512),[[$e,_.value.besarBets]])])):me("",!0)]),n.value==="packaging"?(W(),Q("div",hK,[i("label",gK,[L[45]||(L[45]=Qe(" Import dari Production Order (PDF) ",-1)),n.value==="raw-material"?(W(),Q("span",pK,"(Hanya mengambil bahan dengan UoM Kg)")):n.value==="packaging"?(W(),Q("span",mK,"(Hanya mengambil bahan selain UoM Kg)")):me("",!0)]),i("div",yK,[i("input",{type:"file",onChange:T,accept:".pdf, .xlsx, .xls",class:"block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-500 file:text-white hover:file:bg-blue-600"},null,32),i("button",{onClick:j,disabled:!f.value,class:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition-colors disabled:bg-gray-400"}," Proses Import ",8,bK)]),m.value?(W(),Q("p",{key:0,class:Pe(["mt-2 text-sm",m.value.type==="error"?"text-red-600":"text-green-600"])},R(m.value.message),3)):me("",!0)])):me("",!0),i("div",EK,[i("div",vK,[i("h4",CK,R(q.value),1),i("button",{onClick:ae,class:"bg-green-600 hover:bg-green-700 text-white px-3 py-1.5 rounded text-sm font-medium transition-colors"}," + Tambah Baris ")]),i("div",wK,[i("table",AK,[i("thead",BK,[i("tr",null,[L[61]||(L[61]=i("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap w-16"}," No",-1)),n.value==="foh-rs"?(W(),Q(He,{key:0},[L[46]||(L[46]=i("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Kode Item",-1)),L[47]||(L[47]=i("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Keterangan",-1)),L[48]||(L[48]=i("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap min-w-[120px]"}," Qty & Stok Tersedia",-1)),L[49]||(L[49]=i("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," UoM",-1))],64)):me("",!0),n.value==="packaging"?(W(),Q(He,{key:1},[L[50]||(L[50]=i("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Kode PM",-1)),L[51]||(L[51]=i("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Nama Material",-1)),L[52]||(L[52]=i("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap min-w-[150px]"}," Jumlah Permintaan & Stok Tersedia",-1))],64)):me("",!0),n.value==="raw-material"?(W(),Q(He,{key:2},[L[53]||(L[53]=i("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Kode Bahan",-1)),L[54]||(L[54]=i("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Nama Bahan",-1)),L[55]||(L[55]=i("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap min-w-[150px]"}," Jumlah Kebutuhan & Stok Tersedia",-1)),L[56]||(L[56]=i("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Jumlah Kirim",-1))],64)):me("",!0),n.value==="add"?(W(),Q(He,{key:3},[L[57]||(L[57]=i("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Kode PM",-1)),L[58]||(L[58]=i("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Nama Material",-1)),L[59]||(L[59]=i("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Alasan Penambahan",-1)),L[60]||(L[60]=i("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap min-w-[150px]"}," Jumlah Permintaan & Stok Tersedia",-1))],64)):me("",!0),L[62]||(L[62]=i("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap w-24"}," Aksi",-1))])]),i("tbody",DK,[(W(!0),Q(He,null,ot(_.value.items,(N,B)=>(W(),Q("tr",{key:B},[i("td",_K,R(B+1),1),n.value==="foh-rs"?(W(),Q(He,{key:0},[i("td",kK,[Ce(i("input",{"onUpdate:modelValue":M=>N.kodeItem=M,type:"text",onInput:M=>we(N.kodeItem,B,"kodeItem"),onFocus:M=>se(B,"kodeItem"),onBlur:L[16]||(L[16]=M=>J()),class:"w-full min-w-[120px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,40,SK),[[$e,N.kodeItem]]),be(B,"kodeItem")&&y.value.length>0?(W(),Q("ul",FK,[(W(!0),Q(He,null,ot(y.value,M=>(W(),Q("li",{key:M.id,onMousedown:sr(ue=>Oe(M,B,"kodeItem"),["prevent"]),class:"p-2 text-sm cursor-pointer hover:bg-blue-100 flex justify-between"},[i("span",null,R(M.kodeItem),1),i("span",IK,R(M.keterangan||M.namaMaterial)+" (Stok: "+R(M.stokAvailable)+")",1)],40,TK))),128))])):me("",!0)]),i("td",MK,[Ce(i("input",{"onUpdate:modelValue":M=>N.keterangan=M,type:"text",class:"w-full min-w-[150px] text-sm border border-gray-300 rounded px-2 py-1 bg-gray-50 text-gray-700",readonly:""},null,8,PK),[[$e,N.keterangan]])]),i("td",RK,[Ce(i("input",{"onUpdate:modelValue":M=>N.qty=M,type:"number",min:"0",class:Pe([{"border-red-500 ring-red-500":S(N,"qty")},"w-full min-w-[80px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"])},null,10,OK),[[$e,N.qty,void 0,{number:!0}]]),N.stokAvailable!==void 0?(W(),Q("p",{key:0,class:Pe(["text-xs mt-1",N.stokAvailable<=0?"text-red-600":"text-green-600"])}," Tersedia: "+R(N.stokAvailable||0)+" "+R(N.uom||""),3)):me("",!0),S(N,"qty")?(W(),Q("p",NK," Permintaan melebihi stok! ")):me("",!0)]),i("td",LK,[Ce(i("select",{"onUpdate:modelValue":M=>N.uom=M,class:"w-full min-w-[80px] text-sm border border-gray-300 rounded px-2 py-1 bg-gray-50 text-gray-700",readonly:"",disabled:""},[...L[63]||(L[63]=[i("option",{value:""},"UoM",-1),i("option",{value:"PCS"},"PCS",-1),i("option",{value:"KG"},"KG",-1),i("option",{value:"L"},"L",-1)])],8,$K),[[dt,N.uom]])])],64)):me("",!0),n.value==="packaging"?(W(),Q(He,{key:1},[i("td",jK,[Ce(i("input",{"onUpdate:modelValue":M=>N.kodePM=M,type:"text",onInput:M=>we(N.kodePM,B,"kodePM"),onFocus:M=>se(B,"kodePM"),onBlur:L[17]||(L[17]=M=>J()),class:"w-full min-w-[120px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,40,UK),[[$e,N.kodePM]]),be(B,"kodePM")&&y.value.length>0?(W(),Q("ul",HK,[(W(!0),Q(He,null,ot(y.value,M=>(W(),Q("li",{key:M.id,onMousedown:sr(ue=>Oe(M,B,"kodePM"),["prevent"]),class:"p-2 text-sm cursor-pointer hover:bg-blue-100 flex justify-between"},[i("span",null,R(M.kodePM),1),i("span",VK,"Stok: "+R(M.stokAvailable)+" "+R(M.satuan||""),1)],40,zK))),128))])):me("",!0)]),i("td",qK,[Ce(i("input",{"onUpdate:modelValue":M=>N.namaMaterial=M,type:"text",class:"w-full min-w-[150px] text-sm border border-gray-300 rounded px-2 py-1 bg-gray-50 text-gray-700",readonly:""},null,8,WK),[[$e,N.namaMaterial]])]),i("td",GK,[Ce(i("input",{"onUpdate:modelValue":M=>N.jumlahPermintaan=M,type:"number",min:"0",class:Pe([{"border-red-500 ring-red-500":S(N,"jumlahPermintaan")},"w-full min-w-[120px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"])},null,10,QK),[[$e,N.jumlahPermintaan,void 0,{number:!0}]]),N.stokAvailable!==void 0?(W(),Q("p",{key:0,class:Pe(["text-xs mt-1",N.stokAvailable<=0?"text-red-600":"text-green-600"])}," Tersedia: "+R(N.stokAvailable||0)+" "+R(N.satuan||""),3)):me("",!0),S(N,"jumlahPermintaan")?(W(),Q("p",KK," Permintaan melebihi stok! ")):me("",!0)])],64)):me("",!0),n.value==="raw-material"?(W(),Q(He,{key:2},[i("td",YK,[Ce(i("input",{"onUpdate:modelValue":M=>N.kodeBahan=M,type:"text",onInput:M=>we(N.kodeBahan,B,"kodeBahan"),onFocus:M=>se(B,"kodeBahan"),onBlur:L[18]||(L[18]=M=>J()),class:"w-full min-w-[120px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,40,XK),[[$e,N.kodeBahan]]),be(B,"kodeBahan")&&y.value.length>0?(W(),Q("ul",ZK,[(W(!0),Q(He,null,ot(y.value,M=>(W(),Q("li",{key:M.id,onMousedown:sr(ue=>Oe(M,B,"kodeBahan"),["prevent"]),class:"p-2 text-sm cursor-pointer hover:bg-blue-100 flex justify-between"},[i("span",null,R(M.kodeBahan),1),i("span",eY,"Stok: "+R(M.stokAvailable)+" "+R(M.satuan||""),1)],40,JK))),128))])):me("",!0)]),i("td",tY,[Ce(i("input",{"onUpdate:modelValue":M=>N.namaBahan=M,type:"text",class:"w-full min-w-[150px] text-sm border border-gray-300 rounded px-2 py-1 bg-gray-50 text-gray-700",readonly:""},null,8,nY),[[$e,N.namaBahan]])]),i("td",rY,[Ce(i("input",{"onUpdate:modelValue":M=>N.jumlahKebutuhan=M,type:"number",min:"0",class:Pe([{"border-red-500 ring-red-500":S(N,"jumlahKebutuhan")},"w-full min-w-[120px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"])},null,10,sY),[[$e,N.jumlahKebutuhan,void 0,{number:!0}]]),N.stokAvailable!==void 0?(W(),Q("p",{key:0,class:Pe(["text-xs mt-1",N.stokAvailable<=0?"text-red-600":"text-green-600"])}," Tersedia: "+R(N.stokAvailable||0)+" "+R(N.satuan||""),3)):me("",!0),S(N,"jumlahKebutuhan")?(W(),Q("p",oY," Permintaan melebihi stok! ")):me("",!0)]),i("td",iY,[Ce(i("input",{"onUpdate:modelValue":M=>N.jumlahKirim=M,type:"number",class:"w-full min-w-[120px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,8,aY),[[$e,N.jumlahKirim,void 0,{number:!0}]])])],64)):me("",!0),n.value==="add"?(W(),Q(He,{key:3},[i("td",lY,[Ce(i("input",{"onUpdate:modelValue":M=>N.kodePM=M,type:"text",onInput:M=>we(N.kodePM,B,"kodePM"),onFocus:M=>se(B,"kodePM"),onBlur:L[19]||(L[19]=M=>J()),class:"w-full min-w-[120px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,40,cY),[[$e,N.kodePM]]),be(B,"kodePM")&&y.value.length>0?(W(),Q("ul",dY,[(W(!0),Q(He,null,ot(y.value,M=>(W(),Q("li",{key:M.id,onMousedown:sr(ue=>Oe(M,B,"kodePM"),["prevent"]),class:"p-2 text-sm cursor-pointer hover:bg-blue-100 flex justify-between"},[i("span",null,R(M.kodePM),1),i("span",xY,"Stok: "+R(M.stokAvailable)+" "+R(M.satuan||""),1)],40,uY))),128))])):me("",!0)]),i("td",fY,[Ce(i("input",{"onUpdate:modelValue":M=>N.namaMaterial=M,type:"text",class:"w-full min-w-[150px] text-sm border border-gray-300 rounded px-2 py-1 bg-gray-50 text-gray-700",readonly:""},null,8,hY),[[$e,N.namaMaterial]])]),i("td",gY,[Ce(i("input",{"onUpdate:modelValue":M=>N.alasanPenambahan=M,type:"text",class:"w-full min-w-[150px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,8,pY),[[$e,N.alasanPenambahan]])]),i("td",mY,[Ce(i("input",{"onUpdate:modelValue":M=>N.jumlahPermintaan=M,type:"number",min:"0",class:Pe([{"border-red-500 ring-red-500":S(N,"jumlahPermintaan")},"w-full min-w-[120px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"])},null,10,yY),[[$e,N.jumlahPermintaan,void 0,{number:!0}]]),N.stokAvailable!==void 0?(W(),Q("p",{key:0,class:Pe(["text-xs mt-1",N.stokAvailable<=0?"text-red-600":"text-green-600"])}," Tersedia: "+R(N.stokAvailable||0)+" "+R(N.satuan||""),3)):me("",!0),S(N,"jumlahPermintaan")?(W(),Q("p",bY," Permintaan melebihi stok! ")):me("",!0)])],64)):me("",!0),i("td",EY,[i("button",{onClick:M=>Ne(B),class:"bg-red-50 text-red-700 hover:bg-red-100 px-2 py-1 rounded text-xs font-medium transition-colors"},"Hapus",8,vY)])]))),128))])])])]),i("div",CY,[i("button",{onClick:Ke,class:"px-6 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors"}," Batal "),i("button",{onClick:Me,disabled:!G.value||U.value,class:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors"}," Simpan & Submit ",8,wY)])])):me("",!0)])])])):me("",!0),a.value&&c.value?(W(),Q("div",AY,[i("div",BY,[i("div",DY,[i("div",_Y,[i("h3",kY," Detail Reservasi: "+R(c.value.noReservasi),1),i("button",{onClick:et,class:"text-gray-400 hover:text-gray-600 transition-colors"},[...L[64]||(L[64]=[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",SY,[i("div",FY,[L[65]||(L[65]=i("p",{class:"text-sm font-medium text-gray-600"},"Kategori Request",-1)),i("span",{class:Pe(["px-3 py-1 text-xs font-semibold rounded-full",O(c.value.type)])},R($(c.value.type)),3)]),i("div",TY,[L[66]||(L[66]=i("p",{class:"text-sm font-medium text-gray-600"},"Tanggal Permintaan",-1)),i("p",IY,R(ve(c.value.tanggalPermintaan)),1)]),i("div",MY,[L[67]||(L[67]=i("p",{class:"text-sm font-medium text-gray-600"},"Status",-1)),i("span",{class:Pe([Re(c.value.status),"px-3 py-1 text-xs font-semibold rounded-full"])},R(c.value.status),3)]),c.value.type==="foh-rs"?(W(),Q(He,{key:0},[i("div",PY,[L[68]||(L[68]=i("p",{class:"text-sm font-medium text-gray-600"},"Departemen",-1)),i("p",RY,R(c.value.departemen),1)]),i("div",OY,[L[69]||(L[69]=i("p",{class:"text-sm font-medium text-gray-600"},"Alasan Reservasi",-1)),i("p",NY,R(c.value.alasanReservasi||"-"),1)])],64)):c.value.type==="packaging"||c.value.type==="add"?(W(),Q(He,{key:1},[i("div",LY,[L[70]||(L[70]=i("p",{class:"text-sm font-medium text-gray-600"},"Nama Produk",-1)),i("p",$Y,R(c.value.namaProduk),1)]),i("div",jY,[L[71]||(L[71]=i("p",{class:"text-sm font-medium text-gray-600"},"No Bets Filling/Mixing",-1)),i("p",UY,R(c.value.noBetsFilling),1)])],64)):c.value.type==="raw-material"?(W(),Q(He,{key:2},[i("div",HY,[L[72]||(L[72]=i("p",{class:"text-sm font-medium text-gray-600"},"Kode Produk",-1)),i("p",zY,R(c.value.kodeProduk),1)]),i("div",VY,[L[73]||(L[73]=i("p",{class:"text-sm font-medium text-gray-600"},"No Bets Ekstrak/Mixing",-1)),i("p",qY,R(c.value.noBets),1)]),i("div",WY,[L[74]||(L[74]=i("p",{class:"text-sm font-medium text-gray-600"},"Besar Bets (Kg)",-1)),i("p",GY,R(c.value.besarBets)+" Kg",1)])],64)):me("",!0)]),L[91]||(L[91]=i("h4",{class:"text-lg font-semibold text-gray-800 mb-4"},"Daftar Item yang Diminta",-1)),!c.value.items||c.value.items.length===0?(W(),Q("div",QY," Tidak ada detail item yang tercatat. ")):(W(),Q("div",KY,[i("table",YY,[i("thead",XY,[i("tr",null,[L[90]||(L[90]=i("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase w-16"},"No",-1)),c.value.type==="foh-rs"?(W(),Q(He,{key:0},[L[75]||(L[75]=i("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Kode Item",-1)),L[76]||(L[76]=i("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Keterangan",-1)),L[77]||(L[77]=i("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Qty",-1)),L[78]||(L[78]=i("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"UoM",-1))],64)):c.value.type==="raw-material"?(W(),Q(He,{key:1},[L[79]||(L[79]=i("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Kode Bahan",-1)),L[80]||(L[80]=i("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Nama Bahan",-1)),L[81]||(L[81]=i("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Jumlah Kebutuhan",-1)),L[82]||(L[82]=i("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Jumlah Kirim",-1))],64)):c.value.type==="packaging"?(W(),Q(He,{key:2},[L[83]||(L[83]=i("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Nama Material",-1)),L[84]||(L[84]=i("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Kode PM",-1)),L[85]||(L[85]=i("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Jumlah Permintaan",-1))],64)):c.value.type==="add"?(W(),Q(He,{key:3},[L[86]||(L[86]=i("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Nama Material",-1)),L[87]||(L[87]=i("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Kode PM",-1)),L[88]||(L[88]=i("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Alasan Tambahan",-1)),L[89]||(L[89]=i("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Jumlah Permintaan",-1))],64)):me("",!0)])]),i("tbody",ZY,[(W(!0),Q(He,null,ot(c.value.items,(N,B)=>(W(),Q("tr",{key:B},[i("td",JY,R(B+1),1),c.value.type==="foh-rs"?(W(),Q(He,{key:0},[i("td",eX,R(N.kodeItem),1),i("td",tX,R(N.keterangan),1),i("td",nX,R(N.qty),1),i("td",rX,R(N.uom),1)],64)):c.value.type==="packaging"?(W(),Q(He,{key:1},[i("td",sX,R(N.namaMaterial),1),i("td",oX,R(N.kodePM),1),i("td",iX,R(N.jumlahPermintaan),1)],64)):c.value.type==="raw-material"?(W(),Q(He,{key:2},[i("td",aX,R(N.kodeBahan),1),i("td",lX,R(N.namaBahan),1),i("td",cX,R(N.jumlahKebutuhan),1),i("td",dX,R(N.jumlahKirim),1)],64)):c.value.type==="add"?(W(),Q(He,{key:3},[i("td",uX,R(N.namaMaterial),1),i("td",xX,R(N.kodePM),1),i("td",fX,R(N.alasanPenambahan),1),i("td",hX,R(N.jumlahPermintaan),1)],64)):me("",!0)]))),128))])])])),i("div",{class:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200"},[i("button",{onClick:et,class:"px-6 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors"}," Tutup ")])])])])):me("",!0)]),u.value?(W(),Q("div",gX,[i("div",pX,[L[93]||(L[93]=i("h3",{class:"text-lg font-bold text-gray-800 mb-4"},"Peringatan Input",-1)),i("p",mX,R(g.value),1),i("div",yX,[i("button",{onClick:L[20]||(L[20]=N=>u.value=!1),class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm"}," Oke ")])])])):me("",!0)]),_:1}))}},EX=Object.freeze(Object.defineProperty({__proto__:null,default:bX},Symbol.toStringTag,{value:"Module"})),vX={class:"min-h-screen transition-colors duration-300"},CX={class:"min-h-screen p-2 sm:p-4 md:p-6"},wX={class:"mb-4 sm:mb-6"},AX={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},BX={class:"flex items-center gap-2 sm:gap-4 w-full sm:w-auto"},DX={class:"bg-white rounded-lg shadow-sm p-3 sm:p-4 mb-4 sm:mb-6 border border-gray-200"},_X={class:"flex flex-col sm:flex-row gap-3 sm:gap-4"},kX={class:"w-full sm:flex-1"},SX={class:"grid grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-4"},FX={class:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-200"},TX={class:"overflow-x-auto"},IX={class:"min-w-full divide-y divide-gray-200"},MX={class:"bg-white divide-y divide-gray-200"},PX={key:0,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},RX={class:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-screen overflow-y-auto border border-gray-200"},OX={class:"space-y-6"},NX={class:"flex gap-6"},LX={class:"flex items-center"},$X={class:"flex items-center"},jX={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},UX={class:"block text-sm font-medium text-gray-700 mb-1"},HX={value:""},zX={class:"overflow-x-auto border border-gray-300 rounded-lg"},VX={class:"min-w-full divide-y divide-gray-200"},qX={class:"divide-y divide-gray-200 bg-white"},WX={class:"px-4 py-3"},GX=["onUpdate:modelValue"],QX={class:"px-4 py-3"},KX=["onUpdate:modelValue"],YX={class:"px-4 py-3"},XX=["onUpdate:modelValue"],ZX={class:"px-4 py-3"},JX=["onUpdate:modelValue"],eZ={class:"px-4 py-3"},tZ=["onUpdate:modelValue"],nZ={class:"px-4 py-3"},rZ=["onUpdate:modelValue"],sZ={class:"px-4 py-3"},oZ=["onClick"],iZ={key:0},aZ={class:"flex justify-end gap-3 pt-4 border-t border-gray-200"},lZ=["disabled"],cZ={key:1,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},dZ={class:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-screen overflow-y-auto border border-gray-200"},uZ={class:"bg-gray-50 rounded-lg p-4 mb-6 border border-gray-200"},xZ={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},fZ={class:"text-lg font-semibold text-gray-900"},hZ={class:"text-lg text-gray-900"},gZ={class:"text-lg text-gray-900"},pZ={class:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4"},mZ={class:"block text-sm font-medium text-gray-600"},yZ={class:"text-lg text-gray-900"},bZ={key:0},EZ={class:"text-lg font-mono text-gray-900"},vZ={class:"overflow-x-auto border border-gray-300 rounded-lg"},CZ={class:"min-w-full divide-y divide-gray-200"},wZ={class:"divide-y divide-gray-200 bg-white"},AZ={class:"px-4 py-3 text-sm font-mono text-gray-900"},BZ={class:"px-4 py-3 text-sm text-gray-900"},DZ={class:"px-4 py-3 text-sm font-mono text-gray-900"},_Z={class:"px-4 py-3 text-sm text-gray-900"},kZ={class:"px-4 py-3 text-sm text-gray-900"},SZ={class:"px-4 py-3"},FZ={class:"flex justify-end gap-3 mt-6 pt-4 border-t border-gray-200"},TZ={class:"flex items-center gap-2"},IZ={key:0,class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},MZ={key:1,class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},PZ=Nr({__name:"Return",setup(e){const t=Be(!1),n=Be([]),r=Be(""),o=Be(""),a=Be(""),c=Be(""),u=Be(!1),g=Be(!1),f=Be(null),m=Be({type:"Supplier",date:new Date().toISOString().split("T")[0],supplier:"",shipmentNo:"",items:[]}),y=Be(null),v=We(()=>n.value.filter(U=>{const G=!r.value||U.returnNumber.toLowerCase().includes(r.value.toLowerCase())||U.supplier.toLowerCase().includes(r.value.toLowerCase())||U.itemCode.toLowerCase().includes(r.value.toLowerCase())||U.itemName.toLowerCase().includes(r.value.toLowerCase()),z=!o.value||U.type===o.value,ee=!a.value||U.status===a.value,se=!c.value||U.reason===c.value;return G&&z&&ee&&se}));We(()=>n.value.length),We(()=>n.value.filter(U=>U.type==="Supplier").length),We(()=>n.value.filter(U=>U.type==="Production").length),We(()=>n.value.filter(U=>U.status!=="Completed").length);const C=We(()=>{const U=m.value.type&&m.value.date&&m.value.supplier,G=m.value.items.length>0&&m.value.items.every(z=>z.itemCode&&z.itemName&&z.lotBatch&&z.qty>0&&z.uom&&z.reason);return U&&G}),A=U=>new Date(U).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),D=U=>{const G="px-2 inline-flex text-xs leading-5 font-semibold rounded-full";switch(U){case"Draft":return`${G} bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300`;case"Submitted":return`${G} bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400`;case"Completed":return`${G} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;default:return`${G} bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300`}},_=U=>{const G="px-2 inline-flex text-xs leading-5 font-semibold rounded-full";switch(U){case"QC Reject":return`${G} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"Expired":return`${G} bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400`;case"Damage":return`${G} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"Excess Production":return`${G} bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400`;case"Wrong Delivery":return`${G} bg-pink-100 text-pink-800 dark:bg-pink-900/20 dark:text-pink-400`;default:return`${G} bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300`}},T=()=>{const U=new Date,G=U.getFullYear().toString().slice(-2),z=(U.getMonth()+1).toString().padStart(2,"0"),ee=U.getDate().toString().padStart(2,"0"),se=Math.floor(Math.random()*9999).toString().padStart(4,"0");return`RET${G}${z}${ee}${se}`},j=()=>{m.value.items.push({itemCode:"",itemName:"",lotBatch:"",qty:0,uom:"PCS",reason:""})},F=U=>{m.value.items.splice(U,1)},k=()=>{u.value=!1,P()},P=()=>{m.value={type:"Supplier",date:new Date().toISOString().split("T")[0],supplier:"",shipmentNo:"",items:[]}},$=()=>{if(!C.value)return;m.value.items.forEach((G,z)=>{const ee={id:`${Date.now()}_${z}`,returnNumber:T(),date:m.value.date,type:m.value.type,supplier:m.value.supplier,shipmentNo:m.value.shipmentNo,itemCode:G.itemCode,itemName:G.itemName,lotBatch:G.lotBatch,qty:G.qty,uom:G.uom,reason:G.reason,status:"Submitted"};n.value.unshift(ee)});const U={type:m.value.type,items:m.value.items.map(G=>({itemCode:G.itemCode,qty:G.qty,from:m.value.type==="Supplier"?"Reject Bin":"Production Bin",to:m.value.type==="Supplier"?"Outbound (Supplier)":"Quarantine/Available Bin"}))};console.log("Stock Movement:",U),S("success",`Return berhasil dibuat dengan ${m.value.items.length} item`),k()},O=()=>{g.value=!1,f.value=null},q=U=>{const G=new Date().toLocaleDateString("id-ID"),z=A(U.date),ee=window.open("","_blank");if(ee){const se=`<!DOCTYPE html>
<html>
<head>
  <title>Return Slip - ${U.returnNumber}</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; color: #000; }
    .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #000; padding-bottom: 20px; }
    .info-table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
    .info-table td { padding: 8px; border: 1px solid #000; }
    .info-table td:first-child { background-color: #f5f5f5; font-weight: bold; width: 200px; }
    .items-table { width: 100%; border-collapse: collapse; margin-bottom: 30px; }
    .items-table th, .items-table td { padding: 8px; border: 1px solid #000; text-align: left; }
    .items-table th { background-color: #f5f5f5; font-weight: bold; }
    .signatures { display: flex; justify-content: space-between; margin-top: 80px; }
    .signature-box { text-align: center; width: 250px; }
    .signature-line { border-bottom: 1px solid #000; margin-bottom: 10px; height: 60px; }
    @media print { body { margin: 0; } }
  </style>
</head>
<body>
  <div class="header">
    <h1>SLIP RETURN ${U.type.toUpperCase()}</h1>
    <h2>${U.returnNumber}</h2>
  </div>
  
  <table class="info-table">
    <tr>
      <td>Return Number</td><td>${U.returnNumber}</td>
      <td>Return Date</td><td>${z}</td>
    </tr>
    <tr>
      <td>Return Type</td><td>${U.type}</td>
      <td>Status</td><td>${U.status}</td>
    </tr>
    <tr>
      <td>${U.type==="Supplier"?"Supplier Address":"Dept Asal"}</td>
      <td colspan="3">${U.supplier}</td>
    </tr>
    ${U.shipmentNo?`<tr><td>No Shipment/Reservasi</td><td colspan="3">${U.shipmentNo}</td></tr>`:""}
  </table>

  <table class="items-table">
    <thead>
      <tr>
        <th>No</th><th>Kode Item</th><th>Nama Material</th><th>Lot/Batch</th>
        <th>Qty</th><th>UoM</th><th>Reason</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>1</td><td>${U.itemCode}</td><td>${U.itemName}</td>
        <td>${U.lotBatch}</td><td>${U.qty}</td>
        <td>${U.uom}</td><td>${U.reason}</td>
      </tr>
    </tbody>
  </table>

  <div class="signatures">
    <div class="signature-box">
      <div class="signature-line"></div>
      <p><strong>Approved By</strong></p>
      <p>Nama: _________________</p>
      <p>Tanggal: ${G}</p>
    </div>
    <div class="signature-box">
      <div class="signature-line"></div>
      <p><strong>Received By</strong></p>
      <p>Nama: _________________</p>
      <p>Tanggal: ${G}</p>
    </div>
  </div>
</body>
</html>`;ee.document.write(se),ee.document.close(),setTimeout(()=>{ee.print()},500)}S("success",`Slip return ${U.returnNumber} siap dicetak`)},S=(U,G)=>{y.value={type:U,text:G},setTimeout(()=>{y.value=null},3e3)};return Kn(()=>{const U=localStorage.getItem("darkMode");U&&(t.value=JSON.parse(U)),n.value=[{id:"1",returnNumber:"RET24091901",date:"2024-09-19T00:00:00Z",type:"Supplier",supplier:"PT. Supplier A",shipmentNo:"SHP240919001",itemCode:"ITM001",itemName:"Raw Material A - Quality Issue",lotBatch:"LOT240915001",qty:25,uom:"PCS",reason:"QC Reject",status:"Submitted"},{id:"2",returnNumber:"RET24091902",date:"2024-09-19T00:00:00Z",type:"Production",supplier:"Production Line 1",itemCode:"ITM002",itemName:"Semi Finished Goods B",lotBatch:"LOT240918002",qty:15,uom:"BOX",reason:"Excess Production",status:"Completed"},{id:"3",returnNumber:"RET24091903",date:"2024-09-18T00:00:00Z",type:"Supplier",supplier:"PT. Supplier B",shipmentNo:"RES240918003",itemCode:"ITM003",itemName:"Chemical Component C",lotBatch:"LOT240910003",qty:50,uom:"LITER",reason:"Expired",status:"Completed"},{id:"4",returnNumber:"RET24091904",date:"2024-09-18T00:00:00Z",type:"Supplier",supplier:"PT. Supplier C",itemCode:"ITM004",itemName:"Packaging Material D",lotBatch:"LOT240917004",qty:100,uom:"PCS",reason:"Damage",status:"Submitted"},{id:"5",returnNumber:"RET24091905",date:"2024-09-17T00:00:00Z",type:"Production",supplier:"Assembly Department",itemCode:"ITM005",itemName:"Electronic Component E",lotBatch:"LOT240916005",qty:30,uom:"PCS",reason:"Wrong Delivery",status:"Draft"}],j()}),(U,G)=>(W(),Tt(Yn,{title:"Riwayat Aktivitas"},{default:yt(()=>[i("div",vX,[i("div",CX,[i("div",wX,[i("div",AX,[G[12]||(G[12]=i("div",null,[i("h1",{class:"text-2xl sm:text-1xl font-bold text-gray-900"},"Return (Supplier / Production)"),i("p",{class:"text-sm sm:text-base text-gray-600 mt-1"},"Kelola return barang ke supplier dan dari produksi")],-1)),i("div",BX,[i("button",{onClick:G[0]||(G[0]=z=>u.value=!0),class:"bg-blue-600 hover:bg-blue-700 text-white px-3 sm:px-4 py-2 rounded-lg flex items-center gap-2 transition-colors w-full sm:w-auto justify-center"},[...G[11]||(G[11]=[i("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),i("span",{class:"hidden sm:inline"},"Buat Return",-1),i("span",{class:"sm:hidden"},"Return",-1)])])])])]),G[47]||(G[47]=i("div",{class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6"},null,-1)),i("div",DX,[i("div",_X,[i("div",kX,[Ce(i("input",{"onUpdate:modelValue":G[1]||(G[1]=z=>r.value=z),type:"text",placeholder:"Cari Return Number, Supplier, Item...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"},null,512),[[$e,r.value]])]),i("div",SX,[Ce(i("select",{"onUpdate:modelValue":G[2]||(G[2]=z=>o.value=z),class:"px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 text-sm"},[...G[13]||(G[13]=[i("option",{value:""},"Semua Jenis",-1),i("option",{value:"Supplier"},"Return Supplier",-1),i("option",{value:"Production"},"Return Production",-1)])],512),[[dt,o.value]]),Ce(i("select",{"onUpdate:modelValue":G[3]||(G[3]=z=>a.value=z),class:"px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 text-sm"},[...G[14]||(G[14]=[i("option",{value:""},"Semua Status",-1),i("option",{value:"Draft"},"Draft",-1),i("option",{value:"Submitted"},"Submitted",-1),i("option",{value:"Completed"},"Completed",-1)])],512),[[dt,a.value]]),Ce(i("select",{"onUpdate:modelValue":G[4]||(G[4]=z=>c.value=z),class:"px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 text-sm col-span-2 sm:col-span-1"},[...G[15]||(G[15]=[i("option",{value:""},"Semua Reason",-1),i("option",{value:"QC Reject"},"QC Reject",-1),i("option",{value:"Expired"},"Expired",-1),i("option",{value:"Damage"},"Damage",-1),i("option",{value:"Excess Production"},"Excess Production",-1),i("option",{value:"Wrong Delivery"},"Wrong Delivery",-1)])],512),[[dt,c.value]])])])]),i("div",FX,[i("div",TX,[i("table",IX,[G[16]||(G[16]=i("thead",{class:"bg-gray-50"},[i("tr",null,[i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Return Number"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tanggal"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Supplier / Dept"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Kode Item"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Nama Material"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Lot/Batch"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Qty"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Reason"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),i("tbody",MX,[(W(!0),Q(He,null,ot(v.value,z=>(W(),Q("tr",{key:z.id,class:"hover:bg-gray-50"}))),128))])])])]),u.value?(W(),Q("div",PX,[i("div",RX,[i("div",{class:"flex justify-between items-center mb-6"},[G[18]||(G[18]=i("h3",{class:"text-xl font-semibold text-gray-900"},"Buat Return Baru",-1)),i("button",{onClick:k,class:"text-gray-400 hover:text-gray-600"},[...G[17]||(G[17]=[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",OX,[i("div",null,[G[21]||(G[21]=i("label",{class:"block text-sm font-medium text-gray-700 mb-3"},"Jenis Return",-1)),i("div",NX,[i("label",LX,[Ce(i("input",{"onUpdate:modelValue":G[5]||(G[5]=z=>m.value.type=z),type:"radio",value:"Supplier",class:"text-blue-600 focus:ring-blue-500"},null,512),[[Ta,m.value.type]]),G[19]||(G[19]=i("span",{class:"ml-2 text-gray-900"},"Return ke Supplier",-1))]),i("label",$X,[Ce(i("input",{"onUpdate:modelValue":G[6]||(G[6]=z=>m.value.type=z),type:"radio",value:"Production",class:"text-blue-600 focus:ring-blue-500"},null,512),[[Ta,m.value.type]]),G[20]||(G[20]=i("span",{class:"ml-2 text-gray-900"},"Return dari Produksi",-1))])])]),i("div",jX,[i("div",null,[G[22]||(G[22]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tanggal Return",-1)),Ce(i("input",{"onUpdate:modelValue":G[7]||(G[7]=z=>m.value.date=z),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[$e,m.value.date]])]),i("div",null,[i("label",UX,R(m.value.type==="Supplier"?"Supplier":"Dept Asal"),1),Ce(i("select",{"onUpdate:modelValue":G[8]||(G[8]=z=>m.value.supplier=z),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[i("option",HX,"Pilih "+R(m.value.type==="Supplier"?"Supplier":"Departemen"),1),m.value.type==="Supplier"?(W(),Q(He,{key:0},[G[23]||(G[23]=i("option",{value:"PT. Supplier A"},"PT. Supplier A",-1)),G[24]||(G[24]=i("option",{value:"PT. Supplier B"},"PT. Supplier B",-1)),G[25]||(G[25]=i("option",{value:"PT. Supplier C"},"PT. Supplier C",-1))],64)):(W(),Q(He,{key:1},[G[26]||(G[26]=i("option",{value:"Production Line 1"},"Production Line 1",-1)),G[27]||(G[27]=i("option",{value:"Production Line 2"},"Production Line 2",-1)),G[28]||(G[28]=i("option",{value:"Assembly Department"},"Assembly Department",-1))],64))],512),[[dt,m.value.supplier]])]),i("div",null,[G[30]||(G[30]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"No Shipment / Reservasi",-1)),Ce(i("select",{"onUpdate:modelValue":G[9]||(G[9]=z=>m.value.shipmentNo=z),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...G[29]||(G[29]=[i("option",{value:""},"Pilih (Opsional)",-1),i("option",{value:"SHP240919001"},"SHP240919001",-1),i("option",{value:"RES240919002"},"RES240919002",-1),i("option",{value:"PO240919003"},"PO240919003",-1)])],512),[[dt,m.value.shipmentNo]])])]),i("div",null,[i("div",{class:"flex justify-between items-center mb-4"},[G[31]||(G[31]=i("h4",{class:"text-lg font-medium text-gray-900"},"Daftar Item Return",-1)),i("button",{onClick:j,class:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm transition-colors"}," + Tambah Item ")]),i("div",zX,[i("table",VX,[G[35]||(G[35]=i("thead",{class:"bg-gray-50"},[i("tr",null,[i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Kode Item"),i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Nama Material"),i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Lot/Batch"),i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Qty Return"),i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"UoM"),i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Reason"),i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Aksi")])],-1)),i("tbody",qX,[(W(!0),Q(He,null,ot(m.value.items,(z,ee)=>(W(),Q("tr",{key:ee},[i("td",WX,[Ce(i("input",{"onUpdate:modelValue":se=>z.itemCode=se,type:"text",placeholder:"ITM001",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white text-gray-900 focus:ring-1 focus:ring-blue-500"},null,8,GX),[[$e,z.itemCode]])]),i("td",QX,[Ce(i("input",{"onUpdate:modelValue":se=>z.itemName=se,type:"text",placeholder:"Nama material",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white text-gray-900 focus:ring-1 focus:ring-blue-500"},null,8,KX),[[$e,z.itemName]])]),i("td",YX,[Ce(i("input",{"onUpdate:modelValue":se=>z.lotBatch=se,type:"text",placeholder:"LOT001",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white text-gray-900 focus:ring-1 focus:ring-blue-500"},null,8,XX),[[$e,z.lotBatch]])]),i("td",ZX,[Ce(i("input",{"onUpdate:modelValue":se=>z.qty=se,type:"number",placeholder:"0",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white text-gray-900 focus:ring-1 focus:ring-blue-500"},null,8,JX),[[$e,z.qty]])]),i("td",eZ,[Ce(i("select",{"onUpdate:modelValue":se=>z.uom=se,class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white text-gray-900 focus:ring-1 focus:ring-blue-500"},[...G[32]||(G[32]=[i("option",{value:"PCS"},"PCS",-1),i("option",{value:"BOX"},"BOX",-1),i("option",{value:"KG"},"KG",-1),i("option",{value:"LITER"},"LITER",-1)])],8,tZ),[[dt,z.uom]])]),i("td",nZ,[Ce(i("select",{"onUpdate:modelValue":se=>z.reason=se,class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white text-gray-900 focus:ring-1 focus:ring-blue-500"},[...G[33]||(G[33]=[i("option",{value:""},"Pilih Reason",-1),i("option",{value:"QC Reject"},"QC Reject",-1),i("option",{value:"Expired"},"Expired",-1),i("option",{value:"Damage"},"Damage",-1),i("option",{value:"Excess Production"},"Excess Production",-1),i("option",{value:"Wrong Delivery"},"Wrong Delivery",-1)])],8,rZ),[[dt,z.reason]])]),i("td",sZ,[i("button",{onClick:se=>F(ee),class:"text-red-600 hover:text-red-900 text-sm"},"  ",8,oZ)])]))),128)),m.value.items.length===0?(W(),Q("tr",iZ,[...G[34]||(G[34]=[i("td",{colspan:"7",class:"px-4 py-8 text-center text-gray-500"},' Belum ada item. Klik "Tambah Item" untuk menambahkan. ',-1)])])):me("",!0)])])])]),i("div",aZ,[i("button",{onClick:k,class:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Batal "),i("button",{onClick:$,disabled:!C.value,class:Pe([C.value?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed","px-4 py-2 rounded-lg transition-colors"])}," Simpan Return ",10,lZ)])])])])):me("",!0),g.value&&f.value?(W(),Q("div",cZ,[i("div",dZ,[i("div",{class:"flex justify-between items-center mb-6"},[G[37]||(G[37]=i("h3",{class:"text-xl font-semibold text-gray-900"},"Detail Return",-1)),i("button",{onClick:O,class:"text-gray-400 hover:text-gray-600"},[...G[36]||(G[36]=[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",uZ,[i("div",xZ,[i("div",null,[G[38]||(G[38]=i("label",{class:"block text-sm font-medium text-gray-600"},"Return Number",-1)),i("p",fZ,R(f.value.returnNumber),1)]),i("div",null,[G[39]||(G[39]=i("label",{class:"block text-sm font-medium text-gray-600"},"Jenis Return",-1)),i("p",hZ,R(f.value.type),1)]),i("div",null,[G[40]||(G[40]=i("label",{class:"block text-sm font-medium text-gray-600"},"Tanggal",-1)),i("p",gZ,R(A(f.value.date)),1)]),i("div",null,[G[41]||(G[41]=i("label",{class:"block text-sm font-medium text-gray-600"},"Status",-1)),i("span",{class:Pe([D(f.value.status),"px-2 py-1 text-sm font-semibold rounded-full"])},R(f.value.status),3)])]),i("div",pZ,[i("div",null,[i("label",mZ,R(f.value.type==="Supplier"?"Supplier":"Dept Asal"),1),i("p",yZ,R(f.value.supplier),1)]),f.value.shipmentNo?(W(),Q("div",bZ,[G[42]||(G[42]=i("label",{class:"block text-sm font-medium text-gray-600"},"No Shipment/Reservasi",-1)),i("p",EZ,R(f.value.shipmentNo),1)])):me("",!0)])]),i("div",vZ,[i("table",CZ,[G[44]||(G[44]=i("thead",{class:"bg-gray-50"},[i("tr",null,[i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"No"),i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Kode Item"),i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Nama Material"),i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Lot/Batch"),i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Qty"),i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"UoM"),i("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Reason")])],-1)),i("tbody",wZ,[i("tr",null,[G[43]||(G[43]=i("td",{class:"px-4 py-3 text-sm text-gray-900"},"1",-1)),i("td",AZ,R(f.value.itemCode),1),i("td",BZ,R(f.value.itemName),1),i("td",DZ,R(f.value.lotBatch),1),i("td",_Z,R(f.value.qty),1),i("td",kZ,R(f.value.uom),1),i("td",SZ,[i("span",{class:Pe([_(f.value.reason),"px-2 py-1 text-xs font-medium rounded-full"])},R(f.value.reason),3)])])])])]),i("div",FZ,[i("button",{onClick:O,class:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Tutup "),i("button",{onClick:G[10]||(G[10]=z=>q(f.value)),class:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors"}," Cetak Slip Return ")])])])):me("",!0),y.value?(W(),Q("div",{key:2,class:Pe([y.value.type==="success"?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800","fixed top-4 right-4 border rounded-lg p-4 shadow-lg"]),style:{"z-index":"1000"}},[i("div",TZ,[y.value.type==="success"?(W(),Q("svg",IZ,[...G[45]||(G[45]=[i("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)])])):(W(),Q("svg",MZ,[...G[46]||(G[46]=[i("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"},null,-1)])])),Qe(" "+R(y.value.text),1)])],2)):me("",!0)])])]),_:1}))}}),RZ=Object.freeze(Object.defineProperty({__proto__:null,default:PZ},Symbol.toStringTag,{value:"Module"})),OZ={class:"space-y-6"},NZ={class:"bg-white rounded-lg shadow"},LZ={class:"p-4 border-b border-gray-200"},$Z={class:"p-6 space-y-4"},jZ={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},UZ={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},HZ=["value"],zZ=["value"],VZ={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},qZ={class:"flex justify-between items-center pt-4 border-t border-gray-200"},WZ={class:"text-sm text-gray-600"},GZ={class:"bg-white rounded-lg shadow overflow-hidden"},QZ={class:"overflow-x-auto"},KZ={class:"min-w-full divide-y divide-gray-200"},YZ={class:"bg-white divide-y divide-gray-200"},XZ={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ZZ={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},JZ={class:"font-medium"},eJ={class:"text-xs text-gray-500"},tJ={class:"px-6 py-4 whitespace-nowrap"},nJ={class:"flex flex-col gap-1"},rJ={class:"text-sm text-gray-900 font-semibold"},sJ={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},oJ={class:"font-medium"},iJ=["title"],aJ={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},lJ={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},cJ={key:0},dJ={class:"text-red-600"},uJ={class:"text-green-600"},xJ={key:1},fJ={key:2},hJ={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},gJ={key:0},pJ={class:"text-red-600"},mJ={class:"text-green-600"},yJ={key:1},bJ={key:2},EJ={key:3},vJ={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},CJ={class:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6"},wJ={class:"flex items-center justify-between"},AJ={class:"flex items-center text-sm text-gray-700"},BJ={class:"flex items-center space-x-2"},DJ=["disabled"],_J={class:"text-sm text-gray-700"},kJ=["disabled"],SJ={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},FJ={class:"relative top-20 mx-auto p-5 border w-3/4 max-w-4xl shadow-lg rounded-md bg-white"},TJ={class:"flex justify-between items-center mb-4"},IJ={key:0,class:"space-y-4"},MJ={class:"grid grid-cols-2 gap-4"},PJ={class:"mt-1 text-sm text-gray-900"},RJ={class:"mt-1 text-sm text-gray-900"},OJ={class:"mt-1"},NJ={class:"mt-1 text-sm text-gray-900 font-semibold"},LJ={class:"border-t pt-4"},$J={class:"grid grid-cols-2 gap-4"},jJ={class:"mt-1 text-sm text-gray-900"},UJ={class:"mt-1 text-sm text-gray-900"},HJ={key:0,class:"border-t pt-4"},zJ={class:"grid grid-cols-3 gap-4"},VJ={key:0},qJ={class:"mt-1 text-sm text-gray-900"},WJ={key:1},GJ={class:"mt-1 text-sm text-gray-900"},QJ={key:0},KJ={class:"text-red-600"},YJ={class:"text-green-600"},XJ={key:1},ZJ={key:2},JJ={class:"mt-1 text-sm text-gray-900"},eee={key:0},tee={class:"text-red-600"},nee={class:"text-green-600"},ree={key:1},see={key:1,class:"border-t pt-4"},oee={class:"grid grid-cols-2 gap-4"},iee={key:0},aee={class:"mt-1 text-xs text-gray-900 bg-gray-50 p-2 rounded overflow-auto max-h-40"},lee={key:1},cee={class:"mt-1 text-xs text-gray-900 bg-gray-50 p-2 rounded overflow-auto max-h-40"},dee={class:"border-t pt-4"},uee={class:"grid grid-cols-2 gap-4"},xee={key:0},fee={class:"mt-1 text-sm text-gray-900"},hee={key:1},gee={class:"mt-1 text-sm text-gray-900"},pee={class:"mt-1 text-sm text-gray-900"},mee=["title"],yee={key:0,class:"mt-4"},bee={class:"mt-1 text-sm text-gray-900"},Eee={class:"mt-6 flex justify-end"},vee={__name:"RiwayatAktivitas",props:{activities:Array},setup(e){const t=e,n=Be(!0);Be(!1);const r=Be(null),o=Be(1),a=Be(25),c=Be({quickTime:"",startDate:"",endDate:"",role:"",user:"",module:"",sku:"",lotBatch:"",qtyMin:"",qtyMax:"",bin:"",status:""}),u=Be(t.activities),g=Be([...new Set(t.activities.map(q=>q.user))]),f=Be([...new Set(t.activities.flatMap(q=>[q.bin_from,q.bin_to].filter(S=>S)))]),m=We(()=>{let q=u.value;return c.value.startDate&&c.value.endDate&&(q=q.filter(S=>{const U=S.timestamp.split(" ")[0];return U>=c.value.startDate&&U<=c.value.endDate})),c.value.role&&(q=q.filter(S=>S.role===c.value.role)),c.value.user&&(q=q.filter(S=>S.user===c.value.user)),c.value.module&&(q=q.filter(S=>S.module===c.value.module)),c.value.sku&&(q=q.filter(S=>S.sku_code.toLowerCase().includes(c.value.sku.toLowerCase())||S.sku_name.toLowerCase().includes(c.value.sku.toLowerCase()))),c.value.lotBatch&&(q=q.filter(S=>S.lot_no&&S.lot_no.toLowerCase().includes(c.value.lotBatch.toLowerCase()))),c.value.qtyMin&&(q=q.filter(S=>S.qty_after>=parseInt(c.value.qtyMin))),c.value.qtyMax&&(q=q.filter(S=>S.qty_after<=parseInt(c.value.qtyMax))),c.value.bin&&(q=q.filter(S=>S.bin_from===c.value.bin||S.bin_to===c.value.bin)),q.sort((S,U)=>new Date(U.timestamp)-new Date(S.timestamp))}),y=We(()=>{const q=(o.value-1)*a.value,S=q+a.value;return m.value.slice(q,S)}),v=We(()=>Math.ceil(m.value.length/a.value)),C=q=>new Date(q).toLocaleString("id-ID",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),A=q=>{const S={Incoming:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200",QC:"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200",Karantina:"bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200",Putaway:"bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200",Reservation:"bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200",Picking:"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200",Return:"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200","Master Data":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200"};return S[q]||S["Master Data"]},D=()=>{const q=new Date;switch(new Date(q).setDate(q.getDate()-1),c.value.quickTime){case"today":c.value.startDate=q.toISOString().split("T")[0],c.value.endDate=q.toISOString().split("T")[0];break;case"this_week":const U=new Date(q.setDate(q.getDate()-q.getDay()));c.value.startDate=U.toISOString().split("T")[0],c.value.endDate=new Date().toISOString().split("T")[0];break;case"this_month":c.value.startDate=new Date(q.getFullYear(),q.getMonth(),1).toISOString().split("T")[0],c.value.endDate=new Date().toISOString().split("T")[0];break;case"last_month":const G=new Date(q.getFullYear(),q.getMonth()-1,1),z=new Date(q.getFullYear(),q.getMonth(),0);c.value.startDate=G.toISOString().split("T")[0],c.value.endDate=z.toISOString().split("T")[0];break;default:c.value.startDate="",c.value.endDate=""}},_=()=>{const q={Admin:["ADM001"],"QC Staff":["QC001","QC002"],Warehouse:["WH001","WH002","WH003"],Production:["PD001","PD002"],Supervisor:["SUP001"],"Receiving Staff":["WH002"]};c.value.role?g.value=q[c.value.role]||[]:g.value=["ADM001","QC001","QC002","WH001","WH002","WH003","PD001","PD002","SUP001"],g.value.includes(c.value.user)||(c.value.user="")},T=()=>{c.value={quickTime:"",startDate:"",endDate:"",role:"",user:"",module:"",sku:"",lotBatch:"",qtyMin:"",qtyMax:"",bin:"",status:""},o.value=1},j=()=>{o.value=1},F=()=>{o.value=1},k=()=>{o.value>1&&o.value--},P=()=>{o.value<v.value&&o.value++},$=()=>{const S=[["Timestamp","Role/User","Module","Activity","SKU Code","SKU Name","Lot/Batch","Qty Before","Qty After","Bin From","Bin To","Reference","Remarks"].join(","),...m.value.map(ee=>[ee.timestamp,`${ee.user} (${ee.role})`,ee.module,ee.action,ee.sku_code,ee.sku_name,ee.lot_no||"",ee.qty_before||"",ee.qty_after||"",ee.bin_from||"",ee.bin_to||"",ee.reference_no||"",ee.remarks||""].map(se=>`"${se}"`).join(","))].join(`
`),U=new Blob([S],{type:"text/csv"}),G=window.URL.createObjectURL(U),z=document.createElement("a");z.href=G,z.download=`activity_log_${new Date().toISOString().split("T")[0]}.csv`,z.click(),window.URL.revokeObjectURL(G)},O=()=>{const q=window.open("","_blank"),S=`
    <html>
      <head>
        <title>Activity Log Report</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; font-size: 10px; }
          .header { text-align: center; margin-bottom: 20px; }
          .filters { background-color: #f5f5f5; padding: 10px; margin-bottom: 20px; }
          table { width: 100%; border-collapse: collapse; }
          th, td { border: 1px solid #ddd; padding: 6px; text-align: left; }
          th { background-color: #f2f2f2; font-weight: bold; }
          .module-badge { padding: 2px 6px; border-radius: 4px; font-size: 8px; }
          @media print {
            body { margin: 0; font-size: 9px; }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <h2>Activity Log Report</h2>
          <p>Generated on: ${new Date().toLocaleString("id-ID")}</p>
        </div>
        
        <div class="filters">
          <strong>Applied Filters:</strong>
          ${c.value.startDate?`Date Range: ${c.value.startDate} to ${c.value.endDate} | `:""}
          ${c.value.role?`Role: ${c.value.role} | `:""}
          ${c.value.module?`Module: ${c.value.module} | `:""}
          ${c.value.sku?`SKU: ${c.value.sku} | `:""}
          Total Records: ${m.value.length}
        </div>
        
        <table class="min-w-full divide-y divide-gray-200">
          <thead class="bg-gray-50">
            <tr>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Timestamp</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Role/User</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Aktivitas</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Entity/Material</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Lot/Batch</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Qty</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Lokasi/Bin</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Referensi Dokumen</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Aksi</th>
            </tr>
          </thead>
          <tbody class="bg-white divide-y divide-gray-200">
            <tr v-for="activity in paginatedActivities" :key="activity.id" class="hover:bg-gray-50">
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                <div>{{ formatDateTime(activity.timestamp) }}</div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                <div class="font-medium">{{ activity.user }}</div>
                <div class="text-xs text-gray-500">{{ activity.role }}</div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap">
                <div class="flex flex-col gap-1">
                  <span class="px-2 py-1 text-xs rounded-full font-medium inline-block" :class="getModuleBadgeClass(activity.module)">
                    {{ activity.module }}
                  </span>
                  <div class="text-sm text-gray-900 font-semibold">{{ activity.action }}</div>
                </div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                <div class="font-medium">{{ activity.sku_code }}</div>
                <div class="text-xs text-gray-500 max-w-xs truncate" :title="activity.sku_name">
                  {{ activity.sku_name }}
                </div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                {{ activity.lot_no && activity.lot_no !== '-' ? activity.lot_no : '-' }}
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                <div v-if="activity.qty_before != activity.qty_after && activity.qty_before > 0">
                  <span class="text-red-600">{{ activity.qty_before }}</span>
                  <span class="mx-1"></span>
                  <span class="text-green-600">{{ activity.qty_after }}</span>
                </div>
                <div v-else-if="activity.qty_after > 0">{{ activity.qty_after }}</div>
                <div v-else>-</div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                <div v-if="activity.bin_from && activity.bin_to && activity.bin_from !== '-' && activity.bin_to !== '-' && activity.bin_from !== activity.bin_to">
                  <span class="text-red-600">{{ activity.bin_from }}</span>
                  <span class="mx-1"></span>
                  <span class="text-green-600">{{ activity.bin_to }}</span>
                </div>
                <div v-else-if="activity.bin_to && activity.bin_to !== '-'">{{ activity.bin_to }}</div>
                <div v-else-if="activity.bin_from && activity.bin_from !== '-'">{{ activity.bin_from }}</div>
                <div v-else>-</div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                {{ activity.reference_no && activity.reference_no !== '-' ? activity.reference_no : '-' }}
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                <button @click="showDetailModal(activity)" class="bg-blue-100 text-blue-700 hover:bg-blue-200 px-3 py-1 rounded text-xs">
                  Detail
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </body>
    </html>
  `;q.document.write(S),q.document.close(),q.focus(),setTimeout(()=>{q.print(),q.close()},500)};return Kn(()=>{const q=new Date,S=new Date(q.getTime()-10080*60*1e3);c.value.startDate=S.toISOString().split("T")[0],c.value.endDate=q.toISOString().split("T")[0]}),(q,S)=>(W(),Tt(Yn,{title:"Riwayat Aktivitas"},{default:yt(()=>[i("div",OZ,[i("div",{class:"flex justify-between items-center"},[S[18]||(S[18]=i("h2",{class:"text-2xl font-bold text-gray-900"},"Riwayat Aktivitas",-1)),i("div",{class:"flex space-x-3"},[i("button",{onClick:$,class:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},[...S[16]||(S[16]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),Qe(" Export Excel ",-1)])]),i("button",{onClick:O,class:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},[...S[17]||(S[17]=[i("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1),Qe(" Export PDF ",-1)])])])]),i("div",NZ,[i("div",LZ,[i("button",{onClick:S[0]||(S[0]=U=>n.value=!n.value),class:"flex items-center justify-between w-full text-left"},[S[20]||(S[20]=i("h3",{class:"text-lg font-semibold text-gray-900"},"Advanced Filter",-1)),(W(),Q("svg",{class:Pe(["w-5 h-5 transform transition-transform",n.value?"rotate-180":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...S[19]||(S[19]=[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])]),Ce(i("div",$Z,[i("div",jZ,[i("div",null,[S[22]||(S[22]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Quick Time Filter",-1)),Ce(i("select",{"onUpdate:modelValue":S[1]||(S[1]=U=>c.value.quickTime=U),onChange:D,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},[...S[21]||(S[21]=[i("option",{value:""},"Custom Range",-1),i("option",{value:"today"},"Hari Ini",-1),i("option",{value:"this_week"},"Minggu Ini",-1),i("option",{value:"this_month"},"Bulan Ini",-1),i("option",{value:"last_month"},"Bulan Lalu",-1)])],544),[[dt,c.value.quickTime]])]),i("div",null,[S[23]||(S[23]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tanggal Awal",-1)),Ce(i("input",{"onUpdate:modelValue":S[2]||(S[2]=U=>c.value.startDate=U),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[$e,c.value.startDate]])]),i("div",null,[S[24]||(S[24]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tanggal Akhir",-1)),Ce(i("input",{"onUpdate:modelValue":S[3]||(S[3]=U=>c.value.endDate=U),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[$e,c.value.endDate]])]),i("div",null,[S[26]||(S[26]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),Ce(i("select",{"onUpdate:modelValue":S[4]||(S[4]=U=>c.value.status=U),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},[...S[25]||(S[25]=[i("option",{value:""},"Semua Status",-1),i("option",{value:"Success"},"Success",-1),i("option",{value:"Pending"},"Pending",-1),i("option",{value:"Rejected"},"Rejected",-1),i("option",{value:"Completed"},"Completed",-1)])],512),[[dt,c.value.status]])])]),i("div",UZ,[i("div",null,[S[28]||(S[28]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Role",-1)),Ce(i("select",{"onUpdate:modelValue":S[5]||(S[5]=U=>c.value.role=U),onChange:_,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},[...S[27]||(S[27]=[i("option",{value:""},"Semua Role",-1),i("option",{value:"Admin"},"Admin",-1),i("option",{value:"QC Staff"},"QC Staff",-1),i("option",{value:"Warehouse"},"Warehouse",-1),i("option",{value:"Production"},"Production",-1),i("option",{value:"Supervisor"},"Supervisor",-1),i("option",{value:"Receiving Staff"},"Receiving Staff",-1)])],544),[[dt,c.value.role]])]),i("div",null,[S[30]||(S[30]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"User",-1)),Ce(i("select",{"onUpdate:modelValue":S[6]||(S[6]=U=>c.value.user=U),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},[S[29]||(S[29]=i("option",{value:""},"Semua User",-1)),(W(!0),Q(He,null,ot(g.value,U=>(W(),Q("option",{key:U,value:U},R(U),9,HZ))),128))],512),[[dt,c.value.user]])]),i("div",null,[S[32]||(S[32]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Jenis Aktivitas",-1)),Ce(i("select",{"onUpdate:modelValue":S[7]||(S[7]=U=>c.value.module=U),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},[...S[31]||(S[31]=[i("option",{value:""},"Semua Aktivitas",-1),i("option",{value:"Incoming"},"Incoming / Receipt",-1),i("option",{value:"QC"},"QC",-1),i("option",{value:"Karantina"},"Label Karantina",-1),i("option",{value:"Putaway"},"Putaway",-1),i("option",{value:"Reservation"},"Reservation",-1),i("option",{value:"Picking"},"Picking",-1),i("option",{value:"Return"},"Return",-1),i("option",{value:"Master Data"},"Master Data",-1)])],512),[[dt,c.value.module]])]),i("div",null,[S[34]||(S[34]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Lokasi/Bin",-1)),Ce(i("select",{"onUpdate:modelValue":S[8]||(S[8]=U=>c.value.bin=U),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},[S[33]||(S[33]=i("option",{value:""},"Semua Lokasi",-1)),(W(!0),Q(He,null,ot(f.value,U=>(W(),Q("option",{key:U,value:U},R(U),9,zZ))),128))],512),[[dt,c.value.bin]])])]),i("div",VZ,[i("div",null,[S[35]||(S[35]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Material/SKU",-1)),Ce(i("input",{"onUpdate:modelValue":S[9]||(S[9]=U=>c.value.sku=U),type:"text",placeholder:"Cari kode atau nama SKU...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[$e,c.value.sku]])]),i("div",null,[S[36]||(S[36]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Lot/Batch No",-1)),Ce(i("input",{"onUpdate:modelValue":S[10]||(S[10]=U=>c.value.lotBatch=U),type:"text",placeholder:"Cari lot/batch...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[$e,c.value.lotBatch]])]),i("div",null,[S[37]||(S[37]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Qty Min",-1)),Ce(i("input",{"onUpdate:modelValue":S[11]||(S[11]=U=>c.value.qtyMin=U),type:"number",placeholder:"0",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[$e,c.value.qtyMin]])]),i("div",null,[S[38]||(S[38]=i("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Qty Max",-1)),Ce(i("input",{"onUpdate:modelValue":S[12]||(S[12]=U=>c.value.qtyMax=U),type:"number",placeholder:"9999",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[$e,c.value.qtyMax]])])]),i("div",qZ,[i("div",WZ," Showing "+R(m.value.length)+" of "+R(u.value.length)+" records ",1),i("div",{class:"flex space-x-3"},[i("button",{onClick:T,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"}," Reset Filter "),i("button",{onClick:j,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"}," Apply Filter ")])])],512),[[rn,n.value]])]),i("div",GZ,[i("div",QZ,[i("table",KZ,[S[41]||(S[41]=i("thead",{class:"bg-gray-50"},[i("tr",null,[i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Timestamp"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Role/User"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aktivitas"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Entity/Material"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Lot/Batch"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Qty"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Lokasi/Bin"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Referensi Dokumen")])],-1)),i("tbody",YZ,[(W(!0),Q(He,null,ot(y.value,U=>(W(),Q("tr",{key:U.id,class:"hover:bg-gray-50"},[i("td",XZ,[i("div",null,R(C(U.timestamp)),1)]),i("td",ZZ,[i("div",JZ,R(U.user),1),i("div",eJ,R(U.role),1)]),i("td",tJ,[i("div",nJ,[i("span",{class:Pe(["px-2 py-1 text-xs rounded-full font-medium inline-block",A(U.module)])},R(U.module),3),i("div",rJ,R(U.action),1)])]),i("td",sJ,[i("div",oJ,R(U.sku_code),1),i("div",{class:"text-xs text-gray-500 max-w-xs truncate",title:U.sku_name},R(U.sku_name),9,iJ)]),i("td",aJ,R(U.lot_no&&U.lot_no!=="-"?U.lot_no:"-"),1),i("td",lJ,[U.qty_before!=U.qty_after&&U.qty_before>0?(W(),Q("div",cJ,[i("span",dJ,R(U.qty_before),1),S[39]||(S[39]=i("span",{class:"mx-1"},"",-1)),i("span",uJ,R(U.qty_after),1)])):U.qty_after>0?(W(),Q("div",xJ,R(U.qty_after),1)):(W(),Q("div",fJ,"-"))]),i("td",hJ,[U.bin_from&&U.bin_to&&U.bin_from!=="-"&&U.bin_to!=="-"&&U.bin_from!==U.bin_to?(W(),Q("div",gJ,[i("span",pJ,R(U.bin_from),1),S[40]||(S[40]=i("span",{class:"mx-1"},"",-1)),i("span",mJ,R(U.bin_to),1)])):U.bin_to&&U.bin_to!=="-"?(W(),Q("div",yJ,R(U.bin_to),1)):U.bin_from&&U.bin_from!=="-"?(W(),Q("div",bJ,R(U.bin_from),1)):(W(),Q("div",EJ,"-"))]),i("td",vJ,R(U.reference_no&&U.reference_no!=="-"?U.reference_no:"-"),1)]))),128))])])]),i("div",CJ,[i("div",wJ,[i("div",AJ,[S[43]||(S[43]=i("span",null,"Show",-1)),Ce(i("select",{"onUpdate:modelValue":S[13]||(S[13]=U=>a.value=U),onChange:F,class:"mx-2 px-2 py-1 border border-gray-300 rounded text-sm bg-white"},[...S[42]||(S[42]=[i("option",{value:"10"},"10",-1),i("option",{value:"25"},"25",-1),i("option",{value:"50"},"50",-1),i("option",{value:"100"},"100",-1)])],544),[[dt,a.value]]),S[44]||(S[44]=i("span",null,"entries",-1))]),i("div",BJ,[i("button",{onClick:k,disabled:o.value===1,class:"px-3 py-1 border border-gray-300 rounded text-sm bg-white text-gray-700 disabled:opacity-50"}," Previous ",8,DJ),i("span",_J,R(o.value)+" of "+R(v.value),1),i("button",{onClick:P,disabled:o.value===v.value,class:"px-3 py-1 border border-gray-300 rounded text-sm bg-white text-gray-700 disabled:opacity-50"}," Next ",8,kJ)])])])]),q.isDetailModalOpen?(W(),Q("div",SJ,[i("div",FJ,[i("div",TJ,[S[46]||(S[46]=i("h3",{class:"text-lg font-semibold text-gray-900"},"Detail Aktivitas",-1)),i("button",{onClick:S[14]||(S[14]=U=>q.isDetailModalOpen=!1),class:"text-gray-400 hover:text-gray-600"},[...S[45]||(S[45]=[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),r.value?(W(),Q("div",IJ,[i("div",MJ,[i("div",null,[S[47]||(S[47]=i("label",{class:"block text-sm font-medium text-gray-700"},"Timestamp",-1)),i("p",PJ,R(C(r.value.timestamp)),1)]),i("div",null,[S[48]||(S[48]=i("label",{class:"block text-sm font-medium text-gray-700"},"User",-1)),i("p",RJ,R(r.value.user)+" ("+R(r.value.role)+")",1)]),i("div",null,[S[49]||(S[49]=i("label",{class:"block text-sm font-medium text-gray-700"},"Module",-1)),i("p",OJ,[i("span",{class:Pe(["px-2 py-1 text-xs rounded-full font-medium",A(r.value.module)])},R(r.value.module),3)])]),i("div",null,[S[50]||(S[50]=i("label",{class:"block text-sm font-medium text-gray-700"},"Action",-1)),i("p",NJ,R(r.value.action),1)])]),i("div",LJ,[S[53]||(S[53]=i("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"Entity Information",-1)),i("div",$J,[i("div",null,[S[51]||(S[51]=i("label",{class:"block text-xs font-medium text-gray-500"},"Code",-1)),i("p",jJ,R(r.value.sku_code),1)]),i("div",null,[S[52]||(S[52]=i("label",{class:"block text-xs font-medium text-gray-500"},"Name",-1)),i("p",UJ,R(r.value.sku_name),1)])])]),r.value.lot_no!=="-"||r.value.qty_after>0||r.value.bin_to!=="-"?(W(),Q("div",HJ,[S[59]||(S[59]=i("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"Warehouse Details",-1)),i("div",zJ,[r.value.lot_no!=="-"?(W(),Q("div",VJ,[S[54]||(S[54]=i("label",{class:"block text-xs font-medium text-gray-500"},"Lot/Batch",-1)),i("p",qJ,R(r.value.lot_no),1)])):me("",!0),r.value.qty_after>0?(W(),Q("div",WJ,[S[56]||(S[56]=i("label",{class:"block text-xs font-medium text-gray-500"},"Quantity",-1)),i("p",GJ,[r.value.qty_before!=r.value.qty_after?(W(),Q("span",QJ,[i("span",KJ,R(r.value.qty_before),1),S[55]||(S[55]=i("span",{class:"mx-1"},"",-1)),i("span",YJ,R(r.value.qty_after),1)])):(W(),Q("span",XJ,R(r.value.qty_after),1))])])):me("",!0),r.value.bin_to!=="-"||r.value.bin_from!=="-"?(W(),Q("div",ZJ,[S[58]||(S[58]=i("label",{class:"block text-xs font-medium text-gray-500"},"Bin Location",-1)),i("p",JJ,[r.value.bin_from&&r.value.bin_to&&r.value.bin_from!=="-"&&r.value.bin_to!=="-"?(W(),Q("span",eee,[i("span",tee,R(r.value.bin_from),1),S[57]||(S[57]=i("span",{class:"mx-1"},"",-1)),i("span",nee,R(r.value.bin_to),1)])):(W(),Q("span",ree,R(r.value.bin_to||r.value.bin_from),1))])])):me("",!0)])])):me("",!0),r.value.old_value||r.value.new_value?(W(),Q("div",see,[S[62]||(S[62]=i("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"Changes",-1)),i("div",oee,[r.value.old_value?(W(),Q("div",iee,[S[60]||(S[60]=i("label",{class:"block text-xs font-medium text-gray-500"},"Old Value",-1)),i("pre",aee,R(JSON.parse(r.value.old_value||"{}")),1)])):me("",!0),r.value.new_value?(W(),Q("div",lee,[S[61]||(S[61]=i("label",{class:"block text-xs font-medium text-gray-500"},"New Value",-1)),i("pre",cee,R(JSON.parse(r.value.new_value||"{}")),1)])):me("",!0)])])):me("",!0),i("div",dee,[S[68]||(S[68]=i("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"Additional Information",-1)),i("div",uee,[r.value.reference_no&&r.value.reference_no!=="-"?(W(),Q("div",xee,[S[63]||(S[63]=i("label",{class:"block text-xs font-medium text-gray-500"},"Reference Document",-1)),i("p",fee,R(r.value.reference_no),1)])):me("",!0),r.value.exp_date?(W(),Q("div",hee,[S[64]||(S[64]=i("label",{class:"block text-xs font-medium text-gray-500"},"Expiry Date",-1)),i("p",gee,R(r.value.exp_date),1)])):me("",!0),i("div",null,[S[65]||(S[65]=i("label",{class:"block text-xs font-medium text-gray-500"},"IP Address",-1)),i("p",pee,R(r.value.ip_address),1)]),i("div",null,[S[66]||(S[66]=i("label",{class:"block text-xs font-medium text-gray-500"},"Device",-1)),i("p",{class:"mt-1 text-sm text-gray-900 truncate",title:r.value.device},R(r.value.device),9,mee)])]),r.value.remarks?(W(),Q("div",yee,[S[67]||(S[67]=i("label",{class:"block text-xs font-medium text-gray-500"},"Remarks",-1)),i("p",bee,R(r.value.remarks),1)])):me("",!0)])])):me("",!0),i("div",Eee,[i("button",{onClick:S[15]||(S[15]=U=>q.isDetailModalOpen=!1),class:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300"}," Close ")])])])):me("",!0)])]),_:1}))}},Cee=Object.freeze(Object.defineProperty({__proto__:null,default:vee},Symbol.toStringTag,{value:"Module"})),wee={class:"role-permission-management"},Aee={class:"flex justify-between items-center mb-6"},Bee={key:0,class:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4"},Dee={key:1,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4"},_ee={class:"bg-white rounded-lg shadow-lg overflow-hidden"},kee={class:"min-w-full divide-y divide-gray-200"},See={class:"bg-white divide-y divide-gray-200"},Fee={class:"px-6 py-4 whitespace-nowrap"},Tee={class:"text-sm font-medium text-gray-900"},Iee={class:"px-6 py-4"},Mee={class:"text-sm text-gray-600"},Pee={class:"px-6 py-4 text-sm text-gray-500"},Ree={key:0},Oee={key:1,class:"text-red-500"},Nee={class:"px-6 py-4 whitespace-nowrap"},Lee={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},$ee={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},jee=["onClick"],Uee=["onClick"],Hee={key:2,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},zee={key:3,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},Vee={class:"bg-white rounded-lg p-6 w-full max-w-md shadow-xl"},qee={class:"mb-4"},Wee={class:"mb-6"},Gee={key:4,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},Qee={class:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-xl"},Kee={class:"flex justify-between items-center mb-4"},Yee={class:"text-lg font-semibold text-gray-900"},Xee={class:"space-y-6"},Zee={class:"flex justify-between items-center mb-3 border-b border-gray-200 pb-2"},Jee={class:"text-md font-semibold text-gray-800 flex items-center"},ete=["innerHTML"],tte={class:"flex items-center text-blue-600 font-medium cursor-pointer"},nte=["checked","onChange"],rte={class:"grid grid-cols-2 md:grid-cols-5 gap-3"},ste=["title"],ote=["checked","onChange"],ite={class:"text-sm"},ate=Nr({__name:"RolePermission",props:{roles:{},allPermissions:{}},setup(e){const t=e,n=Be(!1),r=Be(!1),o=Be(null),a=Ri({name:"",description:""}),c=Be([]),u=We(()=>new Map(c.value.map(k=>[k.name,k]))),g=k=>{const P=t.allPermissions.find($=>$.module_key===k);return!P||P.permissions.length===0?!1:P.permissions.every($=>{const O=u.value.get($.name);return O&&O.allowed})},f=(k,P)=>{const O=P.target.checked,q=t.allPermissions.find(S=>S.module_key===k);q&&q.permissions.forEach(S=>{const U=S.name,G=c.value.find(z=>z.name===U);G?G.allowed=O:O&&c.value.push({name:U,allowed:!0})})},m=()=>{bt.post("/role-permission",{name:a.name,description:a.description},{onSuccess:()=>{y()}})},y=()=>{a.name="",a.description="",n.value=!1},v=k=>{const P=t.roles.find($=>$.id===k);P&&confirm(`Apakah Anda yakin ingin menghapus role "${P.name}"?`)&&bt.delete(`/role-permission/${k}`)},C=k=>{o.value=k,D(k),r.value=!0},A=()=>{r.value=!1,o.value=null,c.value=[]},D=k=>{const P=t.allPermissions.flatMap(O=>O.permissions).map(O=>({name:O.name,allowed:!1})),$=new Set(k.permissions);c.value=P.map(O=>({...O,allowed:$.has(O.name)}))},_=k=>u.value.get(k)?.allowed??!1,T=(k,P)=>{const O=P.target.checked,q=c.value.find(S=>S.name===k);q?q.allowed=O:c.value.push({name:k,allowed:O})},j=()=>{o.value&&bt.put(`/role-permission/${o.value.id}/permissions`,{permissions:c.value},{onSuccess:()=>{A(),bt.reload({only:["roles"]})},onError:k=>{console.error("Gagal menyimpan permissions:",k),alert("Terjadi kesalahan saat menyimpan permissions. Cek console untuk detail.")}})},F=k=>{const P=new Set;return t.allPermissions.forEach($=>{const O=new Set($.permissions.map(S=>S.name));k.some(S=>O.has(S))&&P.add($.module_key)}),P.size};return(k,P)=>(W(),Tt(Yn,{title:"Role & Permission Management"},{default:yt(()=>[i("div",wee,[i("div",Aee,[P[4]||(P[4]=i("h1",{class:"text-2xl font-bold text-gray-800"},"Role & Permission Management",-1)),i("button",{onClick:P[0]||(P[0]=$=>n.value=!0),class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},[...P[3]||(P[3]=[i("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),Qe(" Tambah Role ",-1)])])]),k.$page.props.flash?.success?(W(),Q("div",Bee,R(k.$page.props.flash.success),1)):me("",!0),k.$page.props.flash?.error?(W(),Q("div",Dee,R(k.$page.props.flash.error),1)):me("",!0),i("div",_ee,[i("table",kee,[P[5]||(P[5]=i("thead",{class:"bg-gray-50"},[i("tr",null,[i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Role"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Deskripsi"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Ringkasan Permissions"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Jumlah User"),i("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),i("tbody",See,[(W(!0),Q(He,null,ot(e.roles,$=>(W(),Q("tr",{key:$.id,class:"hover:bg-gray-50 transition-colors"},[i("td",Fee,[i("div",Tee,R($.name),1)]),i("td",Iee,[i("div",Mee,R($.description),1)]),i("td",Pee,[$.permissions&&$.permissions.length>0?(W(),Q("span",Ree," Total **"+R($.permissions.length)+"** permissions di **"+R(F($.permissions))+"** modul. ",1)):(W(),Q("span",Oee,"Tidak ada Permission"))]),i("td",Nee,[i("span",Lee,R($.userCount)+" users ",1)]),i("td",$ee,[i("button",{onClick:O=>C($),class:"text-indigo-600 hover:text-indigo-900 transition-colors"}," Atur Permission ",8,jee),i("button",{onClick:O=>v($.id),class:"text-red-600 hover:text-red-900 transition-colors"}," Hapus ",8,Uee)])]))),128))])])]),n.value?(W(),Q("div",Hee)):me("",!0),n.value?(W(),Q("div",zee,[i("div",Vee,[i("div",{class:"flex justify-between items-center mb-4"},[P[7]||(P[7]=i("h3",{class:"text-lg font-semibold text-gray-900"},"Tambah Role Baru",-1)),i("button",{onClick:y,class:"text-gray-400 hover:text-gray-600 transition-colors"},[...P[6]||(P[6]=[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("form",{onSubmit:sr(m,["prevent"])},[i("div",qee,[P[8]||(P[8]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nama Role",-1)),Ce(i("input",{"onUpdate:modelValue":P[1]||(P[1]=$=>a.name=$),type:"text",required:"",placeholder:"Contoh: QC, Supervisor, Operator Gudang",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900 placeholder-gray-400"},null,512),[[$e,a.name]])]),i("div",Wee,[P[9]||(P[9]=i("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Deskripsi Role (Opsional)",-1)),Ce(i("textarea",{"onUpdate:modelValue":P[2]||(P[2]=$=>a.description=$),rows:"3",placeholder:"Role untuk tim QC yang memeriksa barang masuk",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900 placeholder-gray-400"},null,512),[[$e,a.description]])]),i("div",{class:"flex justify-end space-x-3"},[i("button",{type:"button",onClick:y,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors"}," Batal "),P[10]||(P[10]=i("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"}," Simpan ",-1))])],32)])])):me("",!0),r.value?(W(),Q("div",Gee,[i("div",Qee,[i("div",Kee,[i("h3",Yee,"Atur Permission - "+R(o.value?.name),1),i("button",{onClick:A,class:"text-gray-400 hover:text-gray-600 transition-colors"},[...P[11]||(P[11]=[i("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),i("div",Xee,[(W(!0),Q(He,null,ot(e.allPermissions,$=>(W(),Q("div",{key:$.module_key,class:"border border-gray-200 rounded-lg p-4 bg-gray-50"},[i("div",Zee,[i("h4",Jee,[i("span",{innerHTML:$.module_name},null,8,ete)]),i("label",tte,[i("input",{type:"checkbox",checked:g($.module_key),onChange:O=>f($.module_key,O),class:"mr-2 rounded border-blue-600 text-blue-600 focus:ring-blue-500 h-4 w-4"},null,40,nte),P[12]||(P[12]=Qe(" Pilih Semua ",-1))])]),i("div",rte,[(W(!0),Q(He,null,ot($.permissions,O=>(W(),Q("label",{key:O.name,class:"flex items-center text-gray-700 cursor-pointer",title:O.description},[i("input",{type:"checkbox",checked:_(O.name),onChange:q=>T(O.name,q),class:"mr-2 rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,40,ote),i("span",ite,R(O.display_name),1)],8,ste))),128))])]))),128))]),i("div",{class:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200"},[i("button",{onClick:A,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors"}," Batal "),i("button",{onClick:j,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"}," Simpan Permission ")])])])):me("",!0)])]),_:1}))}}),lte=tl(ate,[["__scopeId","data-v-2d00ac1b"]]),cte=Object.freeze(Object.defineProperty({__proto__:null,default:lte},Symbol.toStringTag,{value:"Module"}));window.axios=St;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";Xw({title:e=>`${e} - WMS`,resolve:e=>Object.assign({"./Pages/Auth/Login.vue":pA,"./Pages/Auth/Register.vue":NA,"./Pages/Bintobin.vue":lD,"./Pages/CentralData.vue":dD,"./Pages/CycleCount.vue":X_,"./Pages/Dashboard.vue":zF,"./Pages/ITDashboard.vue":eO,"./Pages/MasterData.vue":WL,"./Pages/PenerimaanBarang.vue":gH,"./Pages/PickingList.vue":AV,"./Pages/PutAwasTO.vue":GW,"./Pages/QualityControl.vue":vQ,"./Pages/Reports/index.vue":wQ,"./Pages/Reservation.vue":EX,"./Pages/Return.vue":RZ,"./Pages/RiwayatAktivitas.vue":Cee,"./Pages/RolePermission.vue":cte})[`./Pages/${e}.vue`],setup({el:e,App:t,props:n,plugin:r}){return v6({render:()=>ir(t,n)}).use(r).mount(e)},progress:{color:"#4B5563"}})});export default dte();
