var s8=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var lse=s8((Er,wr)=>{function o8(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function qu(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Gt={},yi=[],xs=()=>{},Up=()=>!1,Wa=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Wu=e=>e.startsWith("onUpdate:"),wn=Object.assign,Gu=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},i8=Object.prototype.hasOwnProperty,Nt=(e,t)=>i8.call(e,t),at=Array.isArray,bi=e=>Ga(e)==="[object Map]",Ri=e=>Ga(e)==="[object Set]",af=e=>Ga(e)==="[object Date]",pt=e=>typeof e=="function",fn=e=>typeof e=="string",Qr=e=>typeof e=="symbol",Vt=e=>e!==null&&typeof e=="object",Hp=e=>(Vt(e)||pt(e))&&pt(e.then)&&pt(e.catch),zp=Object.prototype.toString,Ga=e=>zp.call(e),a8=e=>Ga(e).slice(8,-1),Vp=e=>Ga(e)==="[object Object]",Qu=e=>fn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,vi=qu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),_0=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},l8=/-\w/g,Rr=_0(e=>e.replace(l8,t=>t.slice(1).toUpperCase())),c8=/\B([A-Z])/g,fo=_0(e=>e.replace(c8,"-$1").toLowerCase()),D0=_0(e=>e.charAt(0).toUpperCase()+e.slice(1)),xc=_0(e=>e?`on${D0(e)}`:""),no=(e,t)=>!Object.is(e,t),Ll=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},qp=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},Zl=e=>{const t=parseFloat(e);return isNaN(t)?e:t},d8=e=>{const t=fn(e)?Number(e):NaN;return isNaN(t)?e:t};let lf;const k0=()=>lf||(lf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Oi(e){if(at(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=fn(r)?h8(r):Oi(r);if(i)for(const a in i)t[a]=i[a]}return t}else if(fn(e)||Vt(e))return e}const u8=/;(?![^(]*\))/g,x8=/:([^]+)/,f8=/\/\*[^]*?\*\//g;function h8(e){const t={};return e.replace(f8,"").split(u8).forEach(n=>{if(n){const r=n.split(x8);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Fe(e){let t="";if(fn(e))t=e;else if(at(e))for(let n=0;n<e.length;n++){const r=Fe(e[n]);r&&(t+=r+" ")}else if(Vt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const g8="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",p8=qu(g8);function Wp(e){return!!e||e===""}function m8(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Ho(e[r],t[r]);return n}function Ho(e,t){if(e===t)return!0;let n=af(e),r=af(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Qr(e),r=Qr(t),n||r)return e===t;if(n=at(e),r=at(t),n||r)return n&&r?m8(e,t):!1;if(n=Vt(e),r=Vt(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,a=Object.keys(t).length;if(i!==a)return!1;for(const c in e){const u=e.hasOwnProperty(c),g=t.hasOwnProperty(c);if(u&&!g||!u&&g||!Ho(e[c],t[c]))return!1}}return String(e)===String(t)}function Ku(e,t){return e.findIndex(n=>Ho(n,t))}const Gp=e=>!!(e&&e.__v_isRef===!0),P=e=>fn(e)?e:e==null?"":at(e)||Vt(e)&&(e.toString===zp||!pt(e.toString))?Gp(e)?P(e.value):JSON.stringify(e,Qp,2):String(e),Qp=(e,t)=>Gp(t)?Qp(e,t.value):bi(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i],a)=>(n[fc(r,a)+" =>"]=i,n),{})}:Ri(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>fc(n))}:Qr(t)?fc(t):Vt(t)&&!at(t)&&!Vp(t)?String(t):t,fc=(e,t="")=>{var n;return Qr(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let sr;class y8{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=sr,!t&&sr&&(this.index=(sr.scopes||(sr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=sr;try{return sr=this,t()}finally{sr=n}}}on(){++this._on===1&&(this.prevScope=sr,sr=this)}off(){this._on>0&&--this._on===0&&(sr=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function b8(){return sr}let Yt;const hc=new WeakSet;class Kp{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,sr&&sr.active&&sr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,hc.has(this)&&(hc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Xp(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cf(this),Zp(this);const t=Yt,n=Gr;Yt=this,Gr=!0;try{return this.fn()}finally{Jp(this),Yt=t,Gr=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Zu(t);this.deps=this.depsTail=void 0,cf(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?hc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){lu(this)&&this.run()}get dirty(){return lu(this)}}let Yp=0,pa,ma;function Xp(e,t=!1){if(e.flags|=8,t){e.next=ma,ma=e;return}e.next=pa,pa=e}function Yu(){Yp++}function Xu(){if(--Yp>0)return;if(ma){let t=ma;for(ma=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;pa;){let t=pa;for(pa=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function Zp(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Jp(e){let t,n=e.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),Zu(r),v8(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}e.deps=t,e.depsTail=n}function lu(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(e2(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function e2(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Da)||(e.globalVersion=Da,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!lu(e))))return;e.flags|=2;const t=e.dep,n=Yt,r=Gr;Yt=e,Gr=!0;try{Zp(e);const i=e.fn(e._value);(t.version===0||no(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{Yt=n,Gr=r,Jp(e),e.flags&=-3}}function Zu(e,t=!1){const{dep:n,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let a=n.computed.deps;a;a=a.nextDep)Zu(a,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function v8(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Gr=!0;const t2=[];function Ts(){t2.push(Gr),Gr=!1}function Is(){const e=t2.pop();Gr=e===void 0?!0:e}function cf(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Yt;Yt=void 0;try{t()}finally{Yt=n}}}let Da=0,E8=class{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class Ju{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Yt||!Gr||Yt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Yt)n=this.activeLink=new E8(Yt,this),Yt.deps?(n.prevDep=Yt.depsTail,Yt.depsTail.nextDep=n,Yt.depsTail=n):Yt.deps=Yt.depsTail=n,n2(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Yt.depsTail,n.nextDep=void 0,Yt.depsTail.nextDep=n,Yt.depsTail=n,Yt.deps===n&&(Yt.deps=r)}return n}trigger(t){this.version++,Da++,this.notify(t)}notify(t){Yu();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Xu()}}}function n2(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)n2(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const cu=new WeakMap,Oo=Symbol(""),du=Symbol(""),ka=Symbol("");function Un(e,t,n){if(Gr&&Yt){let r=cu.get(e);r||cu.set(e,r=new Map);let i=r.get(n);i||(r.set(n,i=new Ju),i.map=r,i.key=n),i.track()}}function Bs(e,t,n,r,i,a){const c=cu.get(e);if(!c){Da++;return}const u=g=>{g&&g.trigger()};if(Yu(),t==="clear")c.forEach(u);else{const g=at(e),f=g&&Qu(n);if(g&&n==="length"){const m=Number(r);c.forEach((y,w)=>{(w==="length"||w===ka||!Qr(w)&&w>=m)&&u(y)})}else switch((n!==void 0||c.has(void 0))&&u(c.get(n)),f&&u(c.get(ka)),t){case"add":g?f&&u(c.get("length")):(u(c.get(Oo)),bi(e)&&u(c.get(du)));break;case"delete":g||(u(c.get(Oo)),bi(e)&&u(c.get(du)));break;case"set":bi(e)&&u(c.get(Oo));break}}Xu()}function ci(e){const t=Dt(e);return t===e?t:(Un(t,"iterate",ka),Mr(e)?t:t.map(Mn))}function S0(e){return Un(e=Dt(e),"iterate",ka),e}const w8={__proto__:null,[Symbol.iterator](){return gc(this,Symbol.iterator,Mn)},concat(...e){return ci(this).concat(...e.map(t=>at(t)?ci(t):t))},entries(){return gc(this,"entries",e=>(e[1]=Mn(e[1]),e))},every(e,t){return ms(this,"every",e,t,void 0,arguments)},filter(e,t){return ms(this,"filter",e,t,n=>n.map(Mn),arguments)},find(e,t){return ms(this,"find",e,t,Mn,arguments)},findIndex(e,t){return ms(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return ms(this,"findLast",e,t,Mn,arguments)},findLastIndex(e,t){return ms(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return ms(this,"forEach",e,t,void 0,arguments)},includes(...e){return pc(this,"includes",e)},indexOf(...e){return pc(this,"indexOf",e)},join(e){return ci(this).join(e)},lastIndexOf(...e){return pc(this,"lastIndexOf",e)},map(e,t){return ms(this,"map",e,t,void 0,arguments)},pop(){return Zi(this,"pop")},push(...e){return Zi(this,"push",e)},reduce(e,...t){return df(this,"reduce",e,t)},reduceRight(e,...t){return df(this,"reduceRight",e,t)},shift(){return Zi(this,"shift")},some(e,t){return ms(this,"some",e,t,void 0,arguments)},splice(...e){return Zi(this,"splice",e)},toReversed(){return ci(this).toReversed()},toSorted(e){return ci(this).toSorted(e)},toSpliced(...e){return ci(this).toSpliced(...e)},unshift(...e){return Zi(this,"unshift",e)},values(){return gc(this,"values",Mn)}};function gc(e,t,n){const r=S0(e),i=r[t]();return r!==e&&!Mr(e)&&(i._next=i.next,i.next=()=>{const a=i._next();return a.done||(a.value=n(a.value)),a}),i}const C8=Array.prototype;function ms(e,t,n,r,i,a){const c=S0(e),u=c!==e&&!Mr(e),g=c[t];if(g!==C8[t]){const y=g.apply(e,a);return u?Mn(y):y}let f=n;c!==e&&(u?f=function(y,w){return n.call(this,Mn(y),w,e)}:n.length>2&&(f=function(y,w){return n.call(this,y,w,e)}));const m=g.call(c,f,r);return u&&i?i(m):m}function df(e,t,n,r){const i=S0(e);let a=n;return i!==e&&(Mr(e)?n.length>3&&(a=function(c,u,g){return n.call(this,c,u,g,e)}):a=function(c,u,g){return n.call(this,c,Mn(u),g,e)}),i[t](a,...r)}function pc(e,t,n){const r=Dt(e);Un(r,"iterate",ka);const i=r[t](...n);return(i===-1||i===!1)&&Qa(n[0])?(n[0]=Dt(n[0]),r[t](...n)):i}function Zi(e,t,n=[]){Ts(),Yu();const r=Dt(e)[t].apply(e,n);return Xu(),Is(),r}const A8=qu("__proto__,__v_isRef,__isVue"),r2=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Qr));function B8(e){Qr(e)||(e=String(e));const t=Dt(this);return Un(t,"has",e),t.hasOwnProperty(e)}class s2{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return a;if(n==="__v_raw")return r===(i?a?R8:l2:a?a2:i2).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const c=at(t);if(!i){let g;if(c&&(g=w8[n]))return g;if(n==="hasOwnProperty")return B8}const u=Reflect.get(t,n,Wn(t)?t:r);if((Qr(n)?r2.has(n):A8(n))||(i||Un(t,"get",n),a))return u;if(Wn(u)){const g=c&&Qu(n)?u:u.value;return i&&Vt(g)?xu(g):g}return Vt(u)?i?xu(u):ho(u):u}}class o2 extends s2{constructor(t=!1){super(!1,t)}set(t,n,r,i){let a=t[n];if(!this._isShallow){const g=so(a);if(!Mr(r)&&!so(r)&&(a=Dt(a),r=Dt(r)),!at(t)&&Wn(a)&&!Wn(r))return g||(a.value=r),!0}const c=at(t)&&Qu(n)?Number(n)<t.length:Nt(t,n),u=Reflect.set(t,n,r,Wn(t)?t:i);return t===Dt(i)&&(c?no(r,a)&&Bs(t,"set",n,r):Bs(t,"add",n,r)),u}deleteProperty(t,n){const r=Nt(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&r&&Bs(t,"delete",n,void 0),i}has(t,n){const r=Reflect.has(t,n);return(!Qr(n)||!r2.has(n))&&Un(t,"has",n),r}ownKeys(t){return Un(t,"iterate",at(t)?"length":Oo),Reflect.ownKeys(t)}}class _8 extends s2{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const D8=new o2,k8=new _8,S8=new o2(!0),uu=e=>e,ul=e=>Reflect.getPrototypeOf(e);function F8(e,t,n){return function(...r){const i=this.__v_raw,a=Dt(i),c=bi(a),u=e==="entries"||e===Symbol.iterator&&c,g=e==="keys"&&c,f=i[e](...r),m=n?uu:t?Jl:Mn;return!t&&Un(a,"iterate",g?du:Oo),{next(){const{value:y,done:w}=f.next();return w?{value:y,done:w}:{value:u?[m(y[0]),m(y[1])]:m(y),done:w}},[Symbol.iterator](){return this}}}}function xl(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function T8(e,t){const n={get(i){const a=this.__v_raw,c=Dt(a),u=Dt(i);e||(no(i,u)&&Un(c,"get",i),Un(c,"get",u));const{has:g}=ul(c),f=t?uu:e?Jl:Mn;if(g.call(c,i))return f(a.get(i));if(g.call(c,u))return f(a.get(u));a!==c&&a.get(i)},get size(){const i=this.__v_raw;return!e&&Un(Dt(i),"iterate",Oo),i.size},has(i){const a=this.__v_raw,c=Dt(a),u=Dt(i);return e||(no(i,u)&&Un(c,"has",i),Un(c,"has",u)),i===u?a.has(i):a.has(i)||a.has(u)},forEach(i,a){const c=this,u=c.__v_raw,g=Dt(u),f=t?uu:e?Jl:Mn;return!e&&Un(g,"iterate",Oo),u.forEach((m,y)=>i.call(a,f(m),f(y),c))}};return wn(n,e?{add:xl("add"),set:xl("set"),delete:xl("delete"),clear:xl("clear")}:{add(i){!t&&!Mr(i)&&!so(i)&&(i=Dt(i));const a=Dt(this);return ul(a).has.call(a,i)||(a.add(i),Bs(a,"add",i,i)),this},set(i,a){!t&&!Mr(a)&&!so(a)&&(a=Dt(a));const c=Dt(this),{has:u,get:g}=ul(c);let f=u.call(c,i);f||(i=Dt(i),f=u.call(c,i));const m=g.call(c,i);return c.set(i,a),f?no(a,m)&&Bs(c,"set",i,a):Bs(c,"add",i,a),this},delete(i){const a=Dt(this),{has:c,get:u}=ul(a);let g=c.call(a,i);g||(i=Dt(i),g=c.call(a,i)),u&&u.call(a,i);const f=a.delete(i);return g&&Bs(a,"delete",i,void 0),f},clear(){const i=Dt(this),a=i.size!==0,c=i.clear();return a&&Bs(i,"clear",void 0,void 0),c}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=F8(i,e,t)}),n}function ex(e,t){const n=T8(e,t);return(r,i,a)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(Nt(n,i)&&i in r?n:r,i,a)}const I8={get:ex(!1,!1)},M8={get:ex(!1,!0)},P8={get:ex(!0,!1)},i2=new WeakMap,a2=new WeakMap,l2=new WeakMap,R8=new WeakMap;function O8(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function N8(e){return e.__v_skip||!Object.isExtensible(e)?0:O8(a8(e))}function ho(e){return so(e)?e:tx(e,!1,D8,I8,i2)}function L8(e){return tx(e,!1,S8,M8,a2)}function xu(e){return tx(e,!0,k8,P8,l2)}function tx(e,t,n,r,i){if(!Vt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=N8(e);if(a===0)return e;const c=i.get(e);if(c)return c;const u=new Proxy(e,a===2?r:n);return i.set(e,u),u}function No(e){return so(e)?No(e.__v_raw):!!(e&&e.__v_isReactive)}function so(e){return!!(e&&e.__v_isReadonly)}function Mr(e){return!!(e&&e.__v_isShallow)}function Qa(e){return e?!!e.__v_raw:!1}function Dt(e){const t=e&&e.__v_raw;return t?Dt(t):e}function fu(e){return!Nt(e,"__v_skip")&&Object.isExtensible(e)&&qp(e,"__v_skip",!0),e}const Mn=e=>Vt(e)?ho(e):e,Jl=e=>Vt(e)?xu(e):e;function Wn(e){return e?e.__v_isRef===!0:!1}function ve(e){return c2(e,!1)}function nx(e){return c2(e,!0)}function c2(e,t){return Wn(e)?e:new $8(e,t)}class $8{constructor(t,n){this.dep=new Ju,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Dt(t),this._value=n?t:Mn(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Mr(t)||so(t);t=r?t:Dt(t),no(t,n)&&(this._rawValue=t,this._value=r?t:Mn(t),this.dep.trigger())}}function Ve(e){return Wn(e)?e.value:e}const j8={get:(e,t,n)=>t==="__v_raw"?e:Ve(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Wn(i)&&!Wn(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function d2(e){return No(e)?e:new Proxy(e,j8)}class U8{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Ju(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Da-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Yt!==this)return Xp(this,!0),!0}get value(){const t=this.dep.track();return e2(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function H8(e,t,n=!1){let r,i;return pt(e)?r=e:(r=e.get,i=e.set),new U8(r,i,n)}const fl={},e0=new WeakMap;let ko;function z8(e,t=!1,n=ko){if(n){let r=e0.get(n);r||e0.set(n,r=[]),r.push(e)}}function V8(e,t,n=Gt){const{immediate:r,deep:i,once:a,scheduler:c,augmentJob:u,call:g}=n,f=S=>i?S:Mr(S)||i===!1||i===0?_s(S,1):_s(S);let m,y,w,E,C=!1,D=!1;if(Wn(e)?(y=()=>e.value,C=Mr(e)):No(e)?(y=()=>f(e),C=!0):at(e)?(D=!0,C=e.some(S=>No(S)||Mr(S)),y=()=>e.map(S=>{if(Wn(S))return S.value;if(No(S))return f(S);if(pt(S))return g?g(S,2):S()})):pt(e)?t?y=g?()=>g(e,2):e:y=()=>{if(w){Ts();try{w()}finally{Is()}}const S=ko;ko=m;try{return g?g(e,3,[E]):e(E)}finally{ko=S}}:y=xs,t&&i){const S=y,T=i===!0?1/0:i;y=()=>_s(S(),T)}const _=b8(),M=()=>{m.stop(),_&&_.active&&Gu(_.effects,m)};if(a&&t){const S=t;t=(...T)=>{S(...T),M()}}let $=D?new Array(e.length).fill(fl):fl;const I=S=>{if(!(!(m.flags&1)||!m.dirty&&!S))if(t){const T=m.run();if(i||C||(D?T.some((j,L)=>no(j,$[L])):no(T,$))){w&&w();const j=ko;ko=m;try{const L=[T,$===fl?void 0:D&&$[0]===fl?[]:$,E];$=T,g?g(t,3,L):t(...L)}finally{ko=j}}}else m.run()};return u&&u(I),m=new Kp(y),m.scheduler=c?()=>c(I,!1):I,E=S=>z8(S,!1,m),w=m.onStop=()=>{const S=e0.get(m);if(S){if(g)g(S,4);else for(const T of S)T();e0.delete(m)}},t?r?I(!0):$=m.run():c?c(I.bind(null,!0),!0):m.run(),M.pause=m.pause.bind(m),M.resume=m.resume.bind(m),M.stop=M,M}function _s(e,t=1/0,n){if(t<=0||!Vt(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,Wn(e))_s(e.value,t,n);else if(at(e))for(let r=0;r<e.length;r++)_s(e[r],t,n);else if(Ri(e)||bi(e))e.forEach(r=>{_s(r,t,n)});else if(Vp(e)){for(const r in e)_s(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&_s(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ka(e,t,n,r){try{return r?e(...r):e()}catch(i){F0(i,t,n)}}function Kr(e,t,n,r){if(pt(e)){const i=Ka(e,t,n,r);return i&&Hp(i)&&i.catch(a=>{F0(a,t,n)}),i}if(at(e)){const i=[];for(let a=0;a<e.length;a++)i.push(Kr(e[a],t,n,r));return i}}function F0(e,t,n,r=!0){const i=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:c}=t&&t.appContext.config||Gt;if(t){let u=t.parent;const g=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;u;){const m=u.ec;if(m){for(let y=0;y<m.length;y++)if(m[y](e,g,f)===!1)return}u=u.parent}if(a){Ts(),Ka(a,null,10,[e,g,f]),Is();return}}q8(e,n,i,r,c)}function q8(e,t,n,r=!0,i=!1){if(i)throw e;console.error(e)}const Yn=[];let ls=-1;const Ei=[];let Ks=null,gi=0;const u2=Promise.resolve();let t0=null;function yr(e){const t=t0||u2;return e?t.then(this?e.bind(this):e):t}function W8(e){let t=ls+1,n=Yn.length;for(;t<n;){const r=t+n>>>1,i=Yn[r],a=Sa(i);a<e||a===e&&i.flags&2?t=r+1:n=r}return t}function rx(e){if(!(e.flags&1)){const t=Sa(e),n=Yn[Yn.length-1];!n||!(e.flags&2)&&t>=Sa(n)?Yn.push(e):Yn.splice(W8(t),0,e),e.flags|=1,x2()}}function x2(){t0||(t0=u2.then(f2))}function G8(e){at(e)?Ei.push(...e):Ks&&e.id===-1?Ks.splice(gi+1,0,e):e.flags&1||(Ei.push(e),e.flags|=1),x2()}function uf(e,t,n=ls+1){for(;n<Yn.length;n++){const r=Yn[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Yn.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function n0(e){if(Ei.length){const t=[...new Set(Ei)].sort((n,r)=>Sa(n)-Sa(r));if(Ei.length=0,Ks){Ks.push(...t);return}for(Ks=t,gi=0;gi<Ks.length;gi++){const n=Ks[gi];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ks=null,gi=0}}const Sa=e=>e.id==null?e.flags&2?-1:1/0:e.id;function f2(e){try{for(ls=0;ls<Yn.length;ls++){const t=Yn[ls];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ka(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;ls<Yn.length;ls++){const t=Yn[ls];t&&(t.flags&=-2)}ls=-1,Yn.length=0,n0(),t0=null,(Yn.length||Ei.length)&&f2()}}let On=null,h2=null;function r0(e){const t=On;return On=e,h2=e&&e.type.__scopeId||null,t}function bt(e,t=On,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&i0(-1);const a=r0(t);let c;try{c=e(...i)}finally{r0(a),r._d&&i0(1)}return c};return r._n=!0,r._c=!0,r._d=!0,r}function Ee(e,t){if(On===null)return e;const n=R0(On),r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[a,c,u,g=Gt]=t[i];a&&(pt(a)&&(a={mounted:a,updated:a}),a.deep&&_s(c),r.push({dir:a,instance:n,value:c,oldValue:void 0,arg:u,modifiers:g}))}return e}function us(e,t,n,r){const i=e.dirs,a=t&&t.dirs;for(let c=0;c<i.length;c++){const u=i[c];a&&(u.oldValue=a[c].value);let g=u.dir[r];g&&(Ts(),Kr(g,n,8,[e.el,u,e,t]),Is())}}const Q8=Symbol("_vte"),g2=e=>e.__isTeleport,Cs=Symbol("_leaveCb"),hl=Symbol("_enterCb");function p2(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Gn(()=>{e.isMounted=!0}),M0(()=>{e.isUnmounting=!0}),e}const Dr=[Function,Array],m2={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Dr,onEnter:Dr,onAfterEnter:Dr,onEnterCancelled:Dr,onBeforeLeave:Dr,onLeave:Dr,onAfterLeave:Dr,onLeaveCancelled:Dr,onBeforeAppear:Dr,onAppear:Dr,onAfterAppear:Dr,onAppearCancelled:Dr},y2=e=>{const t=e.subTree;return t.component?y2(t.component):t},K8={name:"BaseTransition",props:m2,setup(e,{slots:t}){const n=cx(),r=p2();return()=>{const i=t.default&&sx(t.default(),!0);if(!i||!i.length)return;const a=b2(i),c=Dt(e),{mode:u}=c;if(r.isLeaving)return mc(a);const g=xf(a);if(!g)return mc(a);let f=Fa(g,c,r,n,y=>f=y);g.type!==Rn&&zo(g,f);let m=n.subTree&&xf(n.subTree);if(m&&m.type!==Rn&&!To(m,g)&&y2(n).type!==Rn){let y=Fa(m,c,r,n);if(zo(m,y),u==="out-in"&&g.type!==Rn)return r.isLeaving=!0,y.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete y.afterLeave,m=void 0},mc(a);u==="in-out"&&g.type!==Rn?y.delayLeave=(w,E,C)=>{const D=v2(r,m);D[String(m.key)]=m,w[Cs]=()=>{E(),w[Cs]=void 0,delete f.delayedLeave,m=void 0},f.delayedLeave=()=>{C(),delete f.delayedLeave,m=void 0}}:m=void 0}else m&&(m=void 0);return a}}};function b2(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Rn){t=n;break}}return t}const Y8=K8;function v2(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Fa(e,t,n,r,i){const{appear:a,mode:c,persisted:u=!1,onBeforeEnter:g,onEnter:f,onAfterEnter:m,onEnterCancelled:y,onBeforeLeave:w,onLeave:E,onAfterLeave:C,onLeaveCancelled:D,onBeforeAppear:_,onAppear:M,onAfterAppear:$,onAppearCancelled:I}=t,S=String(e.key),T=v2(n,e),j=(F,Q)=>{F&&Kr(F,r,9,Q)},L=(F,Q)=>{const le=Q[1];j(F,Q),at(F)?F.every(Y=>Y.length<=1)&&le():F.length<=1&&le()},z={mode:c,persisted:u,beforeEnter(F){let Q=g;if(!n.isMounted)if(a)Q=_||g;else return;F[Cs]&&F[Cs](!0);const le=T[S];le&&To(e,le)&&le.el[Cs]&&le.el[Cs](),j(Q,[F])},enter(F){let Q=f,le=m,Y=y;if(!n.isMounted)if(a)Q=M||f,le=$||m,Y=I||y;else return;let ce=!1;const me=F[hl]=te=>{ce||(ce=!0,te?j(Y,[F]):j(le,[F]),z.delayedLeave&&z.delayedLeave(),F[hl]=void 0)};Q?L(Q,[F,me]):me()},leave(F,Q){const le=String(e.key);if(F[hl]&&F[hl](!0),n.isUnmounting)return Q();j(w,[F]);let Y=!1;const ce=F[Cs]=me=>{Y||(Y=!0,Q(),me?j(D,[F]):j(C,[F]),F[Cs]=void 0,T[le]===e&&delete T[le])};T[le]=e,E?L(E,[F,ce]):ce()},clone(F){const Q=Fa(F,t,n,r,i);return i&&i(Q),Q}};return z}function mc(e){if(T0(e))return e=oo(e),e.children=null,e}function xf(e){if(!T0(e))return g2(e.type)&&e.children?b2(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&pt(n.default))return n.default()}}function zo(e,t){e.shapeFlag&6&&e.component?(e.transition=t,zo(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function sx(e,t=!1,n){let r=[],i=0;for(let a=0;a<e.length;a++){let c=e[a];const u=n==null?c.key:String(n)+String(c.key!=null?c.key:a);c.type===$e?(c.patchFlag&128&&i++,r=r.concat(sx(c.children,t,u))):(t||c.type!==Rn)&&r.push(u!=null?oo(c,{key:u}):c)}if(i>1)for(let a=0;a<r.length;a++)r[a].patchFlag=-2;return r}function Lr(e,t){return pt(e)?wn({name:e.name},t,{setup:e}):e}function E2(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const s0=new WeakMap;function wi(e,t,n,r,i=!1){if(at(e)){e.forEach((C,D)=>wi(C,t&&(at(t)?t[D]:t),n,r,i));return}if(Lo(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&wi(e,t,n,r.component.subTree);return}const a=r.shapeFlag&4?R0(r.component):r.el,c=i?null:a,{i:u,r:g}=e,f=t&&t.r,m=u.refs===Gt?u.refs={}:u.refs,y=u.setupState,w=Dt(y),E=y===Gt?Up:C=>Nt(w,C);if(f!=null&&f!==g){if(ff(t),fn(f))m[f]=null,E(f)&&(y[f]=null);else if(Wn(f)){f.value=null;const C=t;C.k&&(m[C.k]=null)}}if(pt(g))Ka(g,u,12,[c,m]);else{const C=fn(g),D=Wn(g);if(C||D){const _=()=>{if(e.f){const M=C?E(g)?y[g]:m[g]:g.value;if(i)at(M)&&Gu(M,a);else if(at(M))M.includes(a)||M.push(a);else if(C)m[g]=[a],E(g)&&(y[g]=m[g]);else{const $=[a];g.value=$,e.k&&(m[e.k]=$)}}else C?(m[g]=c,E(g)&&(y[g]=c)):D&&(g.value=c,e.k&&(m[e.k]=c))};if(c){const M=()=>{_(),s0.delete(e)};M.id=-1,s0.set(e,M),gr(M,n)}else ff(e),_()}}}function ff(e){const t=s0.get(e);t&&(t.flags|=8,s0.delete(e))}let hf=!1;const di=()=>{hf||(console.error("Hydration completed but contains mismatches."),hf=!0)},X8=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",Z8=e=>e.namespaceURI.includes("MathML"),gl=e=>{if(e.nodeType===1){if(X8(e))return"svg";if(Z8(e))return"mathml"}},pl=e=>e.nodeType===8;function J8(e){const{mt:t,p:n,o:{patchProp:r,createText:i,nextSibling:a,parentNode:c,remove:u,insert:g,createComment:f}}=e,m=(I,S)=>{if(!S.hasChildNodes()){n(null,I,S),n0(),S._vnode=I;return}y(S.firstChild,I,null,null,null),n0(),S._vnode=I},y=(I,S,T,j,L,z=!1)=>{z=z||!!S.dynamicChildren;const F=pl(I)&&I.data==="[",Q=()=>D(I,S,T,j,L,F),{type:le,ref:Y,shapeFlag:ce,patchFlag:me}=S;let te=I.nodeType;S.el=I,me===-2&&(z=!1,S.dynamicChildren=null);let ne=null;switch(le){case $o:te!==3?S.children===""?(g(S.el=i(""),c(I),I),ne=I):ne=Q():(I.data!==S.children&&(di(),I.data=S.children),ne=a(I));break;case Rn:$(I)?(ne=a(I),M(S.el=I.content.firstChild,I,T)):te!==8||F?ne=Q():ne=a(I);break;case jl:if(F&&(I=a(I),te=I.nodeType),te===1||te===3){ne=I;const de=!S.children.length;for(let be=0;be<S.staticCount;be++)de&&(S.children+=ne.nodeType===1?ne.outerHTML:ne.data),be===S.staticCount-1&&(S.anchor=ne),ne=a(ne);return F?a(ne):ne}else Q();break;case $e:F?ne=C(I,S,T,j,L,z):ne=Q();break;default:if(ce&1)(te!==1||S.type.toLowerCase()!==I.tagName.toLowerCase())&&!$(I)?ne=Q():ne=w(I,S,T,j,L,z);else if(ce&6){S.slotScopeIds=L;const de=c(I);if(F?ne=_(I):pl(I)&&I.data==="teleport start"?ne=_(I,I.data,"teleport end"):ne=a(I),t(S,de,null,T,j,gl(de),z),Lo(S)&&!S.type.__asyncResolved){let be;F?(be=kt($e),be.anchor=ne?ne.previousSibling:de.lastChild):be=I.nodeType===3?qe(""):kt("div"),be.el=I,S.component.subTree=be}}else ce&64?te!==8?ne=Q():ne=S.type.hydrate(I,S,T,j,L,z,e,E):ce&128&&(ne=S.type.hydrate(I,S,T,j,gl(c(I)),L,z,e,y))}return Y!=null&&wi(Y,null,j,S),ne},w=(I,S,T,j,L,z)=>{z=z||!!S.dynamicChildren;const{type:F,props:Q,patchFlag:le,shapeFlag:Y,dirs:ce,transition:me}=S,te=F==="input"||F==="option";if(te||le!==-1){ce&&us(S,null,T,"created");let ne=!1;if($(I)){ne=N2(null,me)&&T&&T.vnode.props&&T.vnode.props.appear;const be=I.content.firstChild;if(ne){const De=be.getAttribute("class");De&&(be.$cls=De),me.beforeEnter(be)}M(be,I,T),S.el=I=be}if(Y&16&&!(Q&&(Q.innerHTML||Q.textContent))){let be=E(I.firstChild,S,I,T,j,L,z);for(;be;){ml(I,1)||di();const De=be;be=be.nextSibling,u(De)}}else if(Y&8){let be=S.children;be[0]===`
`&&(I.tagName==="PRE"||I.tagName==="TEXTAREA")&&(be=be.slice(1)),I.textContent!==be&&(ml(I,0)||di(),I.textContent=S.children)}if(Q){if(te||!z||le&48){const be=I.tagName.includes("-");for(const De in Q)(te&&(De.endsWith("value")||De==="indeterminate")||Wa(De)&&!vi(De)||De[0]==="."||be)&&r(I,De,null,Q[De],void 0,T)}else if(Q.onClick)r(I,"onClick",null,Q.onClick,void 0,T);else if(le&4&&No(Q.style))for(const be in Q.style)Q.style[be]}let de;(de=Q&&Q.onVnodeBeforeMount)&&Sr(de,T,S),ce&&us(S,null,T,"beforeMount"),((de=Q&&Q.onVnodeMounted)||ce||ne)&&V2(()=>{de&&Sr(de,T,S),ne&&me.enter(I),ce&&us(S,null,T,"mounted")},j)}return I.nextSibling},E=(I,S,T,j,L,z,F)=>{F=F||!!S.dynamicChildren;const Q=S.children,le=Q.length;for(let Y=0;Y<le;Y++){const ce=F?Q[Y]:Q[Y]=Fr(Q[Y]),me=ce.type===$o;I?(me&&!F&&Y+1<le&&Fr(Q[Y+1]).type===$o&&(g(i(I.data.slice(ce.children.length)),T,a(I)),I.data=ce.children),I=y(I,ce,j,L,z,F)):me&&!ce.children?g(ce.el=i(""),T):(ml(T,1)||di(),n(null,ce,T,null,j,L,gl(T),z))}return I},C=(I,S,T,j,L,z)=>{const{slotScopeIds:F}=S;F&&(L=L?L.concat(F):F);const Q=c(I),le=E(a(I),S,Q,T,j,L,z);return le&&pl(le)&&le.data==="]"?a(S.anchor=le):(di(),g(S.anchor=f("]"),Q,le),le)},D=(I,S,T,j,L,z)=>{if(ml(I.parentElement,1)||di(),S.el=null,z){const le=_(I);for(;;){const Y=a(I);if(Y&&Y!==le)u(Y);else break}}const F=a(I),Q=c(I);return u(I),n(null,S,Q,F,T,j,gl(Q),L),T&&(T.vnode.el=S.el,H2(T,S.el)),F},_=(I,S="[",T="]")=>{let j=0;for(;I;)if(I=a(I),I&&pl(I)&&(I.data===S&&j++,I.data===T)){if(j===0)return a(I);j--}return I},M=(I,S,T)=>{const j=S.parentNode;j&&j.replaceChild(I,S);let L=T;for(;L;)L.vnode.el===S&&(L.vnode.el=L.subTree.el=I),L=L.parent},$=I=>I.nodeType===1&&I.tagName==="TEMPLATE";return[m,y]}const gf="data-allow-mismatch",e9={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function ml(e,t){if(t===0||t===1)for(;e&&!e.hasAttribute(gf);)e=e.parentElement;const n=e&&e.getAttribute(gf);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return t===0&&r.includes("children")?!0:r.includes(e9[t])}}k0().requestIdleCallback;k0().cancelIdleCallback;const Lo=e=>!!e.type.__asyncLoader,T0=e=>e.type.__isKeepAlive;function t9(e,t){w2(e,"a",t)}function n9(e,t){w2(e,"da",t)}function w2(e,t,n=Hn){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(I0(t,r,n),n){let i=n.parent;for(;i&&i.parent;)T0(i.parent.vnode)&&r9(r,t,n,i),i=i.parent}}function r9(e,t,n,r){const i=I0(t,e,r,!0);Vo(()=>{Gu(r[t],i)},n)}function I0(e,t,n=Hn,r=!1){if(n){const i=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...c)=>{Ts();const u=Ya(n),g=Kr(t,n,e,c);return u(),Is(),g});return r?i.unshift(a):i.push(a),a}}const Ps=e=>(t,n=Hn)=>{(!Ma||e==="sp")&&I0(e,(...r)=>t(...r),n)},s9=Ps("bm"),Gn=Ps("m"),o9=Ps("bu"),C2=Ps("u"),M0=Ps("bum"),Vo=Ps("um"),i9=Ps("sp"),a9=Ps("rtg"),l9=Ps("rtc");function c9(e,t=Hn){I0("ec",e,t)}const d9="components";function u9(e,t){return f9(d9,e,!0,t)||e}const x9=Symbol.for("v-ndc");function f9(e,t,n=!0,r=!1){const i=On||Hn;if(i){const a=i.type;{const u=ev(a,!1);if(u&&(u===t||u===Rr(t)||u===D0(Rr(t))))return a}const c=pf(i[e]||a[e],t)||pf(i.appContext[e],t);return!c&&r?a:c}}function pf(e,t){return e&&(e[t]||e[Rr(t)]||e[D0(Rr(t))])}function nt(e,t,n,r){let i;const a=n,c=at(e);if(c||fn(e)){const u=c&&No(e);let g=!1,f=!1;u&&(g=!Mr(e),f=so(e),e=S0(e)),i=new Array(e.length);for(let m=0,y=e.length;m<y;m++)i[m]=t(g?f?Jl(Mn(e[m])):Mn(e[m]):e[m],m,void 0,a)}else if(typeof e=="number"){i=new Array(e);for(let u=0;u<e;u++)i[u]=t(u+1,u,void 0,a)}else if(Vt(e))if(e[Symbol.iterator])i=Array.from(e,(u,g)=>t(u,g,void 0,a));else{const u=Object.keys(e);i=new Array(u.length);for(let g=0,f=u.length;g<f;g++){const m=u[g];i[g]=t(e[m],m,g,a)}}else i=[];return i}function h9(e,t,n={},r,i){if(On.ce||On.parent&&Lo(On.parent)&&On.parent.ce){const f=Object.keys(n).length>0;return U(),Et($e,null,[kt("slot",n,r)],f?-2:64)}let a=e[t];a&&a._c&&(a._d=!1),U();const c=a&&A2(a(n)),u=n.key||c&&c.key,g=Et($e,{key:(u&&!Qr(u)?u:`_${t}`)+(!c&&r?"_fb":"")},c||[],c&&e._===1?64:-2);return g.scopeId&&(g.slotScopeIds=[g.scopeId+"-s"]),a&&a._c&&(a._d=!0),g}function A2(e){return e.some(t=>Ia(t)?!(t.type===Rn||t.type===$e&&!A2(t.children)):!0)?e:null}const hu=e=>e?G2(e)?R0(e):hu(e.parent):null,ya=wn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>hu(e.parent),$root:e=>hu(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>_2(e),$forceUpdate:e=>e.f||(e.f=()=>{rx(e.update)}),$nextTick:e=>e.n||(e.n=yr.bind(e.proxy)),$watch:e=>O9.bind(e)}),yc=(e,t)=>e!==Gt&&!e.__isScriptSetup&&Nt(e,t),g9={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:a,accessCache:c,type:u,appContext:g}=e;let f;if(t[0]!=="$"){const E=c[t];if(E!==void 0)switch(E){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return a[t]}else{if(yc(r,t))return c[t]=1,r[t];if(i!==Gt&&Nt(i,t))return c[t]=2,i[t];if((f=e.propsOptions[0])&&Nt(f,t))return c[t]=3,a[t];if(n!==Gt&&Nt(n,t))return c[t]=4,n[t];gu&&(c[t]=0)}}const m=ya[t];let y,w;if(m)return t==="$attrs"&&Un(e.attrs,"get",""),m(e);if((y=u.__cssModules)&&(y=y[t]))return y;if(n!==Gt&&Nt(n,t))return c[t]=4,n[t];if(w=g.config.globalProperties,Nt(w,t))return w[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:a}=e;return yc(i,t)?(i[t]=n,!0):r!==Gt&&Nt(r,t)?(r[t]=n,!0):Nt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:a,type:c}},u){let g,f;return!!(n[u]||e!==Gt&&u[0]!=="$"&&Nt(e,u)||yc(t,u)||(g=a[0])&&Nt(g,u)||Nt(r,u)||Nt(ya,u)||Nt(i.config.globalProperties,u)||(f=c.__cssModules)&&f[u])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Nt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function mf(e){return at(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let gu=!0;function p9(e){const t=_2(e),n=e.proxy,r=e.ctx;gu=!1,t.beforeCreate&&yf(t.beforeCreate,e,"bc");const{data:i,computed:a,methods:c,watch:u,provide:g,inject:f,created:m,beforeMount:y,mounted:w,beforeUpdate:E,updated:C,activated:D,deactivated:_,beforeDestroy:M,beforeUnmount:$,destroyed:I,unmounted:S,render:T,renderTracked:j,renderTriggered:L,errorCaptured:z,serverPrefetch:F,expose:Q,inheritAttrs:le,components:Y,directives:ce,filters:me}=t;if(f&&m9(f,r,null),c)for(const de in c){const be=c[de];pt(be)&&(r[de]=be.bind(n))}if(i){const de=i.call(n,n);Vt(de)&&(e.data=ho(de))}if(gu=!0,a)for(const de in a){const be=a[de],De=pt(be)?be.bind(n,n):pt(be.get)?be.get.bind(n,n):xs,Ie=!pt(be)&&pt(be.set)?be.set.bind(n):xs,fe=We({get:De,set:Ie});Object.defineProperty(r,de,{enumerable:!0,configurable:!0,get:()=>fe.value,set:Pe=>fe.value=Pe})}if(u)for(const de in u)B2(u[de],r,n,de);if(g){const de=pt(g)?g.call(n):g;Reflect.ownKeys(de).forEach(be=>{C9(be,de[be])})}m&&yf(m,e,"c");function ne(de,be){at(be)?be.forEach(De=>de(De.bind(n))):be&&de(be.bind(n))}if(ne(s9,y),ne(Gn,w),ne(o9,E),ne(C2,C),ne(t9,D),ne(n9,_),ne(c9,z),ne(l9,j),ne(a9,L),ne(M0,$),ne(Vo,S),ne(i9,F),at(Q))if(Q.length){const de=e.exposed||(e.exposed={});Q.forEach(be=>{Object.defineProperty(de,be,{get:()=>n[be],set:De=>n[be]=De,enumerable:!0})})}else e.exposed||(e.exposed={});T&&e.render===xs&&(e.render=T),le!=null&&(e.inheritAttrs=le),Y&&(e.components=Y),ce&&(e.directives=ce),F&&E2(e)}function m9(e,t,n=xs){at(e)&&(e=pu(e));for(const r in e){const i=e[r];let a;Vt(i)?"default"in i?a=$l(i.from||r,i.default,!0):a=$l(i.from||r):a=$l(i),Wn(a)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:c=>a.value=c}):t[r]=a}}function yf(e,t,n){Kr(at(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function B2(e,t,n,r){let i=r.includes(".")?j2(n,r):()=>n[r];if(fn(e)){const a=t[e];pt(a)&&Pn(i,a)}else if(pt(e))Pn(i,e.bind(n));else if(Vt(e))if(at(e))e.forEach(a=>B2(a,t,n,r));else{const a=pt(e.handler)?e.handler.bind(n):t[e.handler];pt(a)&&Pn(i,a,e)}}function _2(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:c}}=e.appContext,u=a.get(t);let g;return u?g=u:!i.length&&!n&&!r?g=t:(g={},i.length&&i.forEach(f=>o0(g,f,c,!0)),o0(g,t,c)),Vt(t)&&a.set(t,g),g}function o0(e,t,n,r=!1){const{mixins:i,extends:a}=t;a&&o0(e,a,n,!0),i&&i.forEach(c=>o0(e,c,n,!0));for(const c in t)if(!(r&&c==="expose")){const u=y9[c]||n&&n[c];e[c]=u?u(e[c],t[c]):t[c]}return e}const y9={data:bf,props:vf,emits:vf,methods:da,computed:da,beforeCreate:Kn,created:Kn,beforeMount:Kn,mounted:Kn,beforeUpdate:Kn,updated:Kn,beforeDestroy:Kn,beforeUnmount:Kn,destroyed:Kn,unmounted:Kn,activated:Kn,deactivated:Kn,errorCaptured:Kn,serverPrefetch:Kn,components:da,directives:da,watch:v9,provide:bf,inject:b9};function bf(e,t){return t?e?function(){return wn(pt(e)?e.call(this,this):e,pt(t)?t.call(this,this):t)}:t:e}function b9(e,t){return da(pu(e),pu(t))}function pu(e){if(at(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Kn(e,t){return e?[...new Set([].concat(e,t))]:t}function da(e,t){return e?wn(Object.create(null),e,t):t}function vf(e,t){return e?at(e)&&at(t)?[...new Set([...e,...t])]:wn(Object.create(null),mf(e),mf(t??{})):t}function v9(e,t){if(!e)return t;if(!t)return e;const n=wn(Object.create(null),e);for(const r in t)n[r]=Kn(e[r],t[r]);return n}function D2(){return{app:null,config:{isNativeTag:Up,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let E9=0;function w9(e,t){return function(r,i=null){pt(r)||(r=wn({},r)),i!=null&&!Vt(i)&&(i=null);const a=D2(),c=new WeakSet,u=[];let g=!1;const f=a.app={_uid:E9++,_component:r,_props:i,_container:null,_context:a,_instance:null,version:K2,get config(){return a.config},set config(m){},use(m,...y){return c.has(m)||(m&&pt(m.install)?(c.add(m),m.install(f,...y)):pt(m)&&(c.add(m),m(f,...y))),f},mixin(m){return a.mixins.includes(m)||a.mixins.push(m),f},component(m,y){return y?(a.components[m]=y,f):a.components[m]},directive(m,y){return y?(a.directives[m]=y,f):a.directives[m]},mount(m,y,w){if(!g){const E=f._ceVNode||kt(r,i);return E.appContext=a,w===!0?w="svg":w===!1&&(w=void 0),y&&t?t(E,m):e(E,m,w),g=!0,f._container=m,m.__vue_app__=f,R0(E.component)}},onUnmount(m){u.push(m)},unmount(){g&&(Kr(u,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(m,y){return a.provides[m]=y,f},runWithContext(m){const y=Ci;Ci=f;try{return m()}finally{Ci=y}}};return f}}let Ci=null;function C9(e,t){if(Hn){let n=Hn.provides;const r=Hn.parent&&Hn.parent.provides;r===n&&(n=Hn.provides=Object.create(r)),n[e]=t}}function $l(e,t,n=!1){const r=cx();if(r||Ci){let i=Ci?Ci._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&pt(t)?t.call(r&&r.proxy):t}}const k2={},S2=()=>Object.create(k2),F2=e=>Object.getPrototypeOf(e)===k2;function A9(e,t,n,r=!1){const i={},a=S2();e.propsDefaults=Object.create(null),T2(e,t,i,a);for(const c in e.propsOptions[0])c in i||(i[c]=void 0);n?e.props=r?i:L8(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function B9(e,t,n,r){const{props:i,attrs:a,vnode:{patchFlag:c}}=e,u=Dt(i),[g]=e.propsOptions;let f=!1;if((r||c>0)&&!(c&16)){if(c&8){const m=e.vnode.dynamicProps;for(let y=0;y<m.length;y++){let w=m[y];if(P0(e.emitsOptions,w))continue;const E=t[w];if(g)if(Nt(a,w))E!==a[w]&&(a[w]=E,f=!0);else{const C=Rr(w);i[C]=mu(g,u,C,E,e,!1)}else E!==a[w]&&(a[w]=E,f=!0)}}}else{T2(e,t,i,a)&&(f=!0);let m;for(const y in u)(!t||!Nt(t,y)&&((m=fo(y))===y||!Nt(t,m)))&&(g?n&&(n[y]!==void 0||n[m]!==void 0)&&(i[y]=mu(g,u,y,void 0,e,!0)):delete i[y]);if(a!==u)for(const y in a)(!t||!Nt(t,y))&&(delete a[y],f=!0)}f&&Bs(e.attrs,"set","")}function T2(e,t,n,r){const[i,a]=e.propsOptions;let c=!1,u;if(t)for(let g in t){if(vi(g))continue;const f=t[g];let m;i&&Nt(i,m=Rr(g))?!a||!a.includes(m)?n[m]=f:(u||(u={}))[m]=f:P0(e.emitsOptions,g)||(!(g in r)||f!==r[g])&&(r[g]=f,c=!0)}if(a){const g=Dt(n),f=u||Gt;for(let m=0;m<a.length;m++){const y=a[m];n[y]=mu(i,g,y,f[y],e,!Nt(f,y))}}return c}function mu(e,t,n,r,i,a){const c=e[n];if(c!=null){const u=Nt(c,"default");if(u&&r===void 0){const g=c.default;if(c.type!==Function&&!c.skipFactory&&pt(g)){const{propsDefaults:f}=i;if(n in f)r=f[n];else{const m=Ya(i);r=f[n]=g.call(null,t),m()}}else r=g;i.ce&&i.ce._setProp(n,r)}c[0]&&(a&&!u?r=!1:c[1]&&(r===""||r===fo(n))&&(r=!0))}return r}const _9=new WeakMap;function I2(e,t,n=!1){const r=n?_9:t.propsCache,i=r.get(e);if(i)return i;const a=e.props,c={},u=[];let g=!1;if(!pt(e)){const m=y=>{g=!0;const[w,E]=I2(y,t,!0);wn(c,w),E&&u.push(...E)};!n&&t.mixins.length&&t.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}if(!a&&!g)return Vt(e)&&r.set(e,yi),yi;if(at(a))for(let m=0;m<a.length;m++){const y=Rr(a[m]);Ef(y)&&(c[y]=Gt)}else if(a)for(const m in a){const y=Rr(m);if(Ef(y)){const w=a[m],E=c[y]=at(w)||pt(w)?{type:w}:wn({},w),C=E.type;let D=!1,_=!0;if(at(C))for(let M=0;M<C.length;++M){const $=C[M],I=pt($)&&$.name;if(I==="Boolean"){D=!0;break}else I==="String"&&(_=!1)}else D=pt(C)&&C.name==="Boolean";E[0]=D,E[1]=_,(D||Nt(E,"default"))&&u.push(y)}}const f=[c,u];return Vt(e)&&r.set(e,f),f}function Ef(e){return e[0]!=="$"&&!vi(e)}const ox=e=>e==="_"||e==="_ctx"||e==="$stable",ix=e=>at(e)?e.map(Fr):[Fr(e)],D9=(e,t,n)=>{if(t._n)return t;const r=bt((...i)=>ix(t(...i)),n);return r._c=!1,r},M2=(e,t,n)=>{const r=e._ctx;for(const i in e){if(ox(i))continue;const a=e[i];if(pt(a))t[i]=D9(i,a,r);else if(a!=null){const c=ix(a);t[i]=()=>c}}},P2=(e,t)=>{const n=ix(t);e.slots.default=()=>n},R2=(e,t,n)=>{for(const r in t)(n||!ox(r))&&(e[r]=t[r])},k9=(e,t,n)=>{const r=e.slots=S2();if(e.vnode.shapeFlag&32){const i=t._;i?(R2(r,t,n),n&&qp(r,"_",i,!0)):M2(t,r)}else t&&P2(e,t)},S9=(e,t,n)=>{const{vnode:r,slots:i}=e;let a=!0,c=Gt;if(r.shapeFlag&32){const u=t._;u?n&&u===1?a=!1:R2(i,t,n):(a=!t.$stable,M2(t,i)),c=t}else t&&(P2(e,t),c={default:1});if(a)for(const u in i)!ox(u)&&c[u]==null&&delete i[u]},gr=V2;function F9(e){return O2(e)}function T9(e){return O2(e,J8)}function O2(e,t){const n=k0();n.__VUE__=!0;const{insert:r,remove:i,patchProp:a,createElement:c,createText:u,createComment:g,setText:f,setElementText:m,parentNode:y,nextSibling:w,setScopeId:E=xs,insertStaticContent:C}=e,D=(B,k,R,N=null,V=null,K=null,ue=void 0,ie=null,W=!!k.dynamicChildren)=>{if(B===k)return;B&&!To(B,k)&&(N=Je(B),Pe(B,V,K,!0),B=null),k.patchFlag===-2&&(W=!1,k.dynamicChildren=null);const{type:ee,ref:J,shapeFlag:se}=k;switch(ee){case $o:_(B,k,R,N);break;case Rn:M(B,k,R,N);break;case jl:B==null&&$(k,R,N,ue);break;case $e:Y(B,k,R,N,V,K,ue,ie,W);break;default:se&1?T(B,k,R,N,V,K,ue,ie,W):se&6?ce(B,k,R,N,V,K,ue,ie,W):(se&64||se&128)&&ee.process(B,k,R,N,V,K,ue,ie,W,Te)}J!=null&&V?wi(J,B&&B.ref,K,k||B,!k):J==null&&B&&B.ref!=null&&wi(B.ref,null,K,B,!0)},_=(B,k,R,N)=>{if(B==null)r(k.el=u(k.children),R,N);else{const V=k.el=B.el;k.children!==B.children&&f(V,k.children)}},M=(B,k,R,N)=>{B==null?r(k.el=g(k.children||""),R,N):k.el=B.el},$=(B,k,R,N)=>{[B.el,B.anchor]=C(B.children,k,R,N,B.el,B.anchor)},I=({el:B,anchor:k},R,N)=>{let V;for(;B&&B!==k;)V=w(B),r(B,R,N),B=V;r(k,R,N)},S=({el:B,anchor:k})=>{let R;for(;B&&B!==k;)R=w(B),i(B),B=R;i(k)},T=(B,k,R,N,V,K,ue,ie,W)=>{k.type==="svg"?ue="svg":k.type==="math"&&(ue="mathml"),B==null?j(k,R,N,V,K,ue,ie,W):F(B,k,V,K,ue,ie,W)},j=(B,k,R,N,V,K,ue,ie)=>{let W,ee;const{props:J,shapeFlag:se,transition:xe,dirs:ge}=B;if(W=B.el=c(B.type,K,J&&J.is,J),se&8?m(W,B.children):se&16&&z(B.children,W,null,N,V,bc(B,K),ue,ie),ge&&us(B,null,N,"created"),L(W,B,B.scopeId,ue,N),J){for(const Xe in J)Xe!=="value"&&!vi(Xe)&&a(W,Xe,null,J[Xe],K,N);"value"in J&&a(W,"value",null,J.value,K),(ee=J.onVnodeBeforeMount)&&Sr(ee,N,B)}ge&&us(B,null,N,"beforeMount");const Me=N2(V,xe);Me&&xe.beforeEnter(W),r(W,k,R),((ee=J&&J.onVnodeMounted)||Me||ge)&&gr(()=>{ee&&Sr(ee,N,B),Me&&xe.enter(W),ge&&us(B,null,N,"mounted")},V)},L=(B,k,R,N,V)=>{if(R&&E(B,R),N)for(let K=0;K<N.length;K++)E(B,N[K]);if(V){let K=V.subTree;if(k===K||z2(K.type)&&(K.ssContent===k||K.ssFallback===k)){const ue=V.vnode;L(B,ue,ue.scopeId,ue.slotScopeIds,V.parent)}}},z=(B,k,R,N,V,K,ue,ie,W=0)=>{for(let ee=W;ee<B.length;ee++){const J=B[ee]=ie?Ys(B[ee]):Fr(B[ee]);D(null,J,k,R,N,V,K,ue,ie)}},F=(B,k,R,N,V,K,ue)=>{const ie=k.el=B.el;let{patchFlag:W,dynamicChildren:ee,dirs:J}=k;W|=B.patchFlag&16;const se=B.props||Gt,xe=k.props||Gt;let ge;if(R&&Co(R,!1),(ge=xe.onVnodeBeforeUpdate)&&Sr(ge,R,k,B),J&&us(k,B,R,"beforeUpdate"),R&&Co(R,!0),(se.innerHTML&&xe.innerHTML==null||se.textContent&&xe.textContent==null)&&m(ie,""),ee?Q(B.dynamicChildren,ee,ie,R,N,bc(k,V),K):ue||be(B,k,ie,null,R,N,bc(k,V),K,!1),W>0){if(W&16)le(ie,se,xe,R,V);else if(W&2&&se.class!==xe.class&&a(ie,"class",null,xe.class,V),W&4&&a(ie,"style",se.style,xe.style,V),W&8){const Me=k.dynamicProps;for(let Xe=0;Xe<Me.length;Xe++){const Ze=Me[Xe],xt=se[Ze],ft=xe[Ze];(ft!==xt||Ze==="value")&&a(ie,Ze,xt,ft,V,R)}}W&1&&B.children!==k.children&&m(ie,k.children)}else!ue&&ee==null&&le(ie,se,xe,R,V);((ge=xe.onVnodeUpdated)||J)&&gr(()=>{ge&&Sr(ge,R,k,B),J&&us(k,B,R,"updated")},N)},Q=(B,k,R,N,V,K,ue)=>{for(let ie=0;ie<k.length;ie++){const W=B[ie],ee=k[ie],J=W.el&&(W.type===$e||!To(W,ee)||W.shapeFlag&198)?y(W.el):R;D(W,ee,J,null,N,V,K,ue,!0)}},le=(B,k,R,N,V)=>{if(k!==R){if(k!==Gt)for(const K in k)!vi(K)&&!(K in R)&&a(B,K,k[K],null,V,N);for(const K in R){if(vi(K))continue;const ue=R[K],ie=k[K];ue!==ie&&K!=="value"&&a(B,K,ie,ue,V,N)}"value"in R&&a(B,"value",k.value,R.value,V)}},Y=(B,k,R,N,V,K,ue,ie,W)=>{const ee=k.el=B?B.el:u(""),J=k.anchor=B?B.anchor:u("");let{patchFlag:se,dynamicChildren:xe,slotScopeIds:ge}=k;ge&&(ie=ie?ie.concat(ge):ge),B==null?(r(ee,R,N),r(J,R,N),z(k.children||[],R,J,V,K,ue,ie,W)):se>0&&se&64&&xe&&B.dynamicChildren?(Q(B.dynamicChildren,xe,R,V,K,ue,ie),(k.key!=null||V&&k===V.subTree)&&L2(B,k,!0)):be(B,k,R,J,V,K,ue,ie,W)},ce=(B,k,R,N,V,K,ue,ie,W)=>{k.slotScopeIds=ie,B==null?k.shapeFlag&512?V.ctx.activate(k,R,N,ue,W):me(k,R,N,V,K,ue,W):te(B,k,W)},me=(B,k,R,N,V,K,ue)=>{const ie=B.component=K9(B,N,V);if(T0(B)&&(ie.ctx.renderer=Te),Y9(ie,!1,ue),ie.asyncDep){if(V&&V.registerDep(ie,ne,ue),!B.el){const W=ie.subTree=kt(Rn);M(null,W,k,R),B.placeholder=W.el}}else ne(ie,B,k,R,V,K,ue)},te=(B,k,R)=>{const N=k.component=B.component;if(H9(B,k,R))if(N.asyncDep&&!N.asyncResolved){de(N,k,R);return}else N.next=k,N.update();else k.el=B.el,N.vnode=k},ne=(B,k,R,N,V,K,ue)=>{const ie=()=>{if(B.isMounted){let{next:se,bu:xe,u:ge,parent:Me,vnode:Xe}=B;{const rt=$2(B);if(rt){se&&(se.el=Xe.el,de(B,se,ue)),rt.asyncDep.then(()=>{B.isUnmounted||ie()});return}}let Ze=se,xt;Co(B,!1),se?(se.el=Xe.el,de(B,se,ue)):se=Xe,xe&&Ll(xe),(xt=se.props&&se.props.onVnodeBeforeUpdate)&&Sr(xt,Me,se,Xe),Co(B,!0);const ft=vc(B),$t=B.subTree;B.subTree=ft,D($t,ft,y($t.el),Je($t),B,V,K),se.el=ft.el,Ze===null&&H2(B,ft.el),ge&&gr(ge,V),(xt=se.props&&se.props.onVnodeUpdated)&&gr(()=>Sr(xt,Me,se,Xe),V)}else{let se;const{el:xe,props:ge}=k,{bm:Me,m:Xe,parent:Ze,root:xt,type:ft}=B,$t=Lo(k);if(Co(B,!1),Me&&Ll(Me),!$t&&(se=ge&&ge.onVnodeBeforeMount)&&Sr(se,Ze,k),Co(B,!0),xe&&X){const rt=()=>{B.subTree=vc(B),X(xe,B.subTree,B,V,null)};$t&&ft.__asyncHydrate?ft.__asyncHydrate(xe,B,rt):rt()}else{xt.ce&&xt.ce._def.shadowRoot!==!1&&xt.ce._injectChildStyle(ft);const rt=B.subTree=vc(B);D(null,rt,R,N,B,V,K),k.el=rt.el}if(Xe&&gr(Xe,V),!$t&&(se=ge&&ge.onVnodeMounted)){const rt=k;gr(()=>Sr(se,Ze,rt),V)}(k.shapeFlag&256||Ze&&Lo(Ze.vnode)&&Ze.vnode.shapeFlag&256)&&B.a&&gr(B.a,V),B.isMounted=!0,k=R=N=null}};B.scope.on();const W=B.effect=new Kp(ie);B.scope.off();const ee=B.update=W.run.bind(W),J=B.job=W.runIfDirty.bind(W);J.i=B,J.id=B.uid,W.scheduler=()=>rx(J),Co(B,!0),ee()},de=(B,k,R)=>{k.component=B;const N=B.vnode.props;B.vnode=k,B.next=null,B9(B,k.props,N,R),S9(B,k.children,R),Ts(),uf(B),Is()},be=(B,k,R,N,V,K,ue,ie,W=!1)=>{const ee=B&&B.children,J=B?B.shapeFlag:0,se=k.children,{patchFlag:xe,shapeFlag:ge}=k;if(xe>0){if(xe&128){Ie(ee,se,R,N,V,K,ue,ie,W);return}else if(xe&256){De(ee,se,R,N,V,K,ue,ie,W);return}}ge&8?(J&16&&Re(ee,V,K),se!==ee&&m(R,se)):J&16?ge&16?Ie(ee,se,R,N,V,K,ue,ie,W):Re(ee,V,K,!0):(J&8&&m(R,""),ge&16&&z(se,R,N,V,K,ue,ie,W))},De=(B,k,R,N,V,K,ue,ie,W)=>{B=B||yi,k=k||yi;const ee=B.length,J=k.length,se=Math.min(ee,J);let xe;for(xe=0;xe<se;xe++){const ge=k[xe]=W?Ys(k[xe]):Fr(k[xe]);D(B[xe],ge,R,null,V,K,ue,ie,W)}ee>J?Re(B,V,K,!0,!1,se):z(k,R,N,V,K,ue,ie,W,se)},Ie=(B,k,R,N,V,K,ue,ie,W)=>{let ee=0;const J=k.length;let se=B.length-1,xe=J-1;for(;ee<=se&&ee<=xe;){const ge=B[ee],Me=k[ee]=W?Ys(k[ee]):Fr(k[ee]);if(To(ge,Me))D(ge,Me,R,null,V,K,ue,ie,W);else break;ee++}for(;ee<=se&&ee<=xe;){const ge=B[se],Me=k[xe]=W?Ys(k[xe]):Fr(k[xe]);if(To(ge,Me))D(ge,Me,R,null,V,K,ue,ie,W);else break;se--,xe--}if(ee>se){if(ee<=xe){const ge=xe+1,Me=ge<J?k[ge].el:N;for(;ee<=xe;)D(null,k[ee]=W?Ys(k[ee]):Fr(k[ee]),R,Me,V,K,ue,ie,W),ee++}}else if(ee>xe)for(;ee<=se;)Pe(B[ee],V,K,!0),ee++;else{const ge=ee,Me=ee,Xe=new Map;for(ee=Me;ee<=xe;ee++){const we=k[ee]=W?Ys(k[ee]):Fr(k[ee]);we.key!=null&&Xe.set(we.key,ee)}let Ze,xt=0;const ft=xe-Me+1;let $t=!1,rt=0;const Ue=new Array(ft);for(ee=0;ee<ft;ee++)Ue[ee]=0;for(ee=ge;ee<=se;ee++){const we=B[ee];if(xt>=ft){Pe(we,V,K,!0);continue}let Ce;if(we.key!=null)Ce=Xe.get(we.key);else for(Ze=Me;Ze<=xe;Ze++)if(Ue[Ze-Me]===0&&To(we,k[Ze])){Ce=Ze;break}Ce===void 0?Pe(we,V,K,!0):(Ue[Ce-Me]=ee+1,Ce>=rt?rt=Ce:$t=!0,D(we,k[Ce],R,null,V,K,ue,ie,W),xt++)}const Pt=$t?I9(Ue):yi;for(Ze=Pt.length-1,ee=ft-1;ee>=0;ee--){const we=Me+ee,Ce=k[we],ht=k[we+1],At=we+1<J?ht.el||ht.placeholder:N;Ue[ee]===0?D(null,Ce,R,At,V,K,ue,ie,W):$t&&(Ze<0||ee!==Pt[Ze]?fe(Ce,R,At,2):Ze--)}}},fe=(B,k,R,N,V=null)=>{const{el:K,type:ue,transition:ie,children:W,shapeFlag:ee}=B;if(ee&6){fe(B.component.subTree,k,R,N);return}if(ee&128){B.suspense.move(k,R,N);return}if(ee&64){ue.move(B,k,R,Te);return}if(ue===$e){r(K,k,R);for(let se=0;se<W.length;se++)fe(W[se],k,R,N);r(B.anchor,k,R);return}if(ue===jl){I(B,k,R);return}if(N!==2&&ee&1&&ie)if(N===0)ie.beforeEnter(K),r(K,k,R),gr(()=>ie.enter(K),V);else{const{leave:se,delayLeave:xe,afterLeave:ge}=ie,Me=()=>{B.ctx.isUnmounted?i(K):r(K,k,R)},Xe=()=>{K._isLeaving&&K[Cs](!0),se(K,()=>{Me(),ge&&ge()})};xe?xe(K,Me,Xe):Xe()}else r(K,k,R)},Pe=(B,k,R,N=!1,V=!1)=>{const{type:K,props:ue,ref:ie,children:W,dynamicChildren:ee,shapeFlag:J,patchFlag:se,dirs:xe,cacheIndex:ge}=B;if(se===-2&&(V=!1),ie!=null&&(Ts(),wi(ie,null,R,B,!0),Is()),ge!=null&&(k.renderCache[ge]=void 0),J&256){k.ctx.deactivate(B);return}const Me=J&1&&xe,Xe=!Lo(B);let Ze;if(Xe&&(Ze=ue&&ue.onVnodeBeforeUnmount)&&Sr(Ze,k,B),J&6)tt(B.component,R,N);else{if(J&128){B.suspense.unmount(R,N);return}Me&&us(B,null,k,"beforeUnmount"),J&64?B.type.remove(B,k,R,Te,N):ee&&!ee.hasOnce&&(K!==$e||se>0&&se&64)?Re(ee,k,R,!1,!0):(K===$e&&se&384||!V&&J&16)&&Re(W,k,R),N&&Ge(B)}(Xe&&(Ze=ue&&ue.onVnodeUnmounted)||Me)&&gr(()=>{Ze&&Sr(Ze,k,B),Me&&us(B,null,k,"unmounted")},R)},Ge=B=>{const{type:k,el:R,anchor:N,transition:V}=B;if(k===$e){Ne(R,N);return}if(k===jl){S(B);return}const K=()=>{i(R),V&&!V.persisted&&V.afterLeave&&V.afterLeave()};if(B.shapeFlag&1&&V&&!V.persisted){const{leave:ue,delayLeave:ie}=V,W=()=>ue(R,K);ie?ie(B.el,K,W):W()}else K()},Ne=(B,k)=>{let R;for(;B!==k;)R=w(B),i(B),B=R;i(k)},tt=(B,k,R)=>{const{bum:N,scope:V,job:K,subTree:ue,um:ie,m:W,a:ee}=B;wf(W),wf(ee),N&&Ll(N),V.stop(),K&&(K.flags|=8,Pe(ue,B,k,R)),ie&&gr(ie,k),gr(()=>{B.isUnmounted=!0},k)},Re=(B,k,R,N=!1,V=!1,K=0)=>{for(let ue=K;ue<B.length;ue++)Pe(B[ue],k,R,N,V)},Je=B=>{if(B.shapeFlag&6)return Je(B.component.subTree);if(B.shapeFlag&128)return B.suspense.next();const k=w(B.anchor||B.el),R=k&&k[Q8];return R?w(R):k};let et=!1;const st=(B,k,R)=>{B==null?k._vnode&&Pe(k._vnode,null,null,!0):D(k._vnode||null,B,k,null,null,null,R),k._vnode=B,et||(et=!0,uf(),n0(),et=!1)},Te={p:D,um:Pe,m:fe,r:Ge,mt:me,mc:z,pc:be,pbc:Q,n:Je,o:e};let re,X;return t&&([re,X]=t(Te)),{render:st,hydrate:re,createApp:w9(st,re)}}function bc({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Co({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function N2(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function L2(e,t,n=!1){const r=e.children,i=t.children;if(at(r)&&at(i))for(let a=0;a<r.length;a++){const c=r[a];let u=i[a];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=i[a]=Ys(i[a]),u.el=c.el),!n&&u.patchFlag!==-2&&L2(c,u)),u.type===$o&&u.patchFlag!==-1&&(u.el=c.el),u.type===Rn&&!u.el&&(u.el=c.el)}}function I9(e){const t=e.slice(),n=[0];let r,i,a,c,u;const g=e.length;for(r=0;r<g;r++){const f=e[r];if(f!==0){if(i=n[n.length-1],e[i]<f){t[r]=i,n.push(r);continue}for(a=0,c=n.length-1;a<c;)u=a+c>>1,e[n[u]]<f?a=u+1:c=u;f<e[n[a]]&&(a>0&&(t[r]=n[a-1]),n[a]=r)}}for(a=n.length,c=n[a-1];a-- >0;)n[a]=c,c=t[c];return n}function $2(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:$2(t)}function wf(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const M9=Symbol.for("v-scx"),P9=()=>$l(M9);function R9(e,t){return ax(e,null,t)}function Pn(e,t,n){return ax(e,t,n)}function ax(e,t,n=Gt){const{immediate:r,deep:i,flush:a,once:c}=n,u=wn({},n),g=t&&r||!t&&a!=="post";let f;if(Ma){if(a==="sync"){const E=P9();f=E.__watcherHandles||(E.__watcherHandles=[])}else if(!g){const E=()=>{};return E.stop=xs,E.resume=xs,E.pause=xs,E}}const m=Hn;u.call=(E,C,D)=>Kr(E,m,C,D);let y=!1;a==="post"?u.scheduler=E=>{gr(E,m&&m.suspense)}:a!=="sync"&&(y=!0,u.scheduler=(E,C)=>{C?E():rx(E)}),u.augmentJob=E=>{t&&(E.flags|=4),y&&(E.flags|=2,m&&(E.id=m.uid,E.i=m))};const w=V8(e,t,u);return Ma&&(f?f.push(w):g&&w()),w}function O9(e,t,n){const r=this.proxy,i=fn(e)?e.includes(".")?j2(r,e):()=>r[e]:e.bind(r,r);let a;pt(t)?a=t:(a=t.handler,n=t);const c=Ya(this),u=ax(i,a.bind(r),n);return c(),u}function j2(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const N9=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Rr(t)}Modifiers`]||e[`${fo(t)}Modifiers`];function L9(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Gt;let i=n;const a=t.startsWith("update:"),c=a&&N9(r,t.slice(7));c&&(c.trim&&(i=n.map(m=>fn(m)?m.trim():m)),c.number&&(i=n.map(Zl)));let u,g=r[u=xc(t)]||r[u=xc(Rr(t))];!g&&a&&(g=r[u=xc(fo(t))]),g&&Kr(g,e,6,i);const f=r[u+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,Kr(f,e,6,i)}}const $9=new WeakMap;function U2(e,t,n=!1){const r=n?$9:t.emitsCache,i=r.get(e);if(i!==void 0)return i;const a=e.emits;let c={},u=!1;if(!pt(e)){const g=f=>{const m=U2(f,t,!0);m&&(u=!0,wn(c,m))};!n&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}return!a&&!u?(Vt(e)&&r.set(e,null),null):(at(a)?a.forEach(g=>c[g]=null):wn(c,a),Vt(e)&&r.set(e,c),c)}function P0(e,t){return!e||!Wa(t)?!1:(t=t.slice(2).replace(/Once$/,""),Nt(e,t[0].toLowerCase()+t.slice(1))||Nt(e,fo(t))||Nt(e,t))}function vc(e){const{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[a],slots:c,attrs:u,emit:g,render:f,renderCache:m,props:y,data:w,setupState:E,ctx:C,inheritAttrs:D}=e,_=r0(e);let M,$;try{if(n.shapeFlag&4){const S=i||r,T=S;M=Fr(f.call(T,S,m,y,E,w,C)),$=u}else{const S=t;M=Fr(S.length>1?S(y,{attrs:u,slots:c,emit:g}):S(y,null)),$=t.props?u:j9(u)}}catch(S){ba.length=0,F0(S,e,1),M=kt(Rn)}let I=M;if($&&D!==!1){const S=Object.keys($),{shapeFlag:T}=I;S.length&&T&7&&(a&&S.some(Wu)&&($=U9($,a)),I=oo(I,$,!1,!0))}return n.dirs&&(I=oo(I,null,!1,!0),I.dirs=I.dirs?I.dirs.concat(n.dirs):n.dirs),n.transition&&zo(I,n.transition),M=I,r0(_),M}const j9=e=>{let t;for(const n in e)(n==="class"||n==="style"||Wa(n))&&((t||(t={}))[n]=e[n]);return t},U9=(e,t)=>{const n={};for(const r in e)(!Wu(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function H9(e,t,n){const{props:r,children:i,component:a}=e,{props:c,children:u,patchFlag:g}=t,f=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&g>=0){if(g&1024)return!0;if(g&16)return r?Cf(r,c,f):!!c;if(g&8){const m=t.dynamicProps;for(let y=0;y<m.length;y++){const w=m[y];if(c[w]!==r[w]&&!P0(f,w))return!0}}}else return(i||u)&&(!u||!u.$stable)?!0:r===c?!1:r?c?Cf(r,c,f):!0:!!c;return!1}function Cf(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const a=r[i];if(t[a]!==e[a]&&!P0(n,a))return!0}return!1}function H2({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const z2=e=>e.__isSuspense;function V2(e,t){t&&t.pendingBranch?at(e)?t.effects.push(...e):t.effects.push(e):G8(e)}const $e=Symbol.for("v-fgt"),$o=Symbol.for("v-txt"),Rn=Symbol.for("v-cmt"),jl=Symbol.for("v-stc"),ba=[];let vr=null;function U(e=!1){ba.push(vr=e?null:[])}function z9(){ba.pop(),vr=ba[ba.length-1]||null}let Ta=1;function i0(e,t=!1){Ta+=e,e<0&&vr&&t&&(vr.hasOnce=!0)}function q2(e){return e.dynamicChildren=Ta>0?vr||yi:null,z9(),Ta>0&&vr&&vr.push(e),e}function G(e,t,n,r,i,a){return q2(o(e,t,n,r,i,a,!0))}function Et(e,t,n,r,i){return q2(kt(e,t,n,r,i,!0))}function Ia(e){return e?e.__v_isVNode===!0:!1}function To(e,t){return e.type===t.type&&e.key===t.key}const W2=({key:e})=>e??null,Ul=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?fn(e)||Wn(e)||pt(e)?{i:On,r:e,k:t,f:!!n}:e:null);function o(e,t=null,n=null,r=0,i=null,a=e===$e?0:1,c=!1,u=!1){const g={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&W2(t),ref:t&&Ul(t),scopeId:h2,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:On};return u?(lx(g,n),a&128&&e.normalize(g)):n&&(g.shapeFlag|=fn(n)?8:16),Ta>0&&!c&&vr&&(g.patchFlag>0||a&6)&&g.patchFlag!==32&&vr.push(g),g}const kt=V9;function V9(e,t=null,n=null,r=0,i=null,a=!1){if((!e||e===x9)&&(e=Rn),Ia(e)){const u=oo(e,t,!0);return n&&lx(u,n),Ta>0&&!a&&vr&&(u.shapeFlag&6?vr[vr.indexOf(e)]=u:vr.push(u)),u.patchFlag=-2,u}if(tv(e)&&(e=e.__vccOpts),t){t=q9(t);let{class:u,style:g}=t;u&&!fn(u)&&(t.class=Fe(u)),Vt(g)&&(Qa(g)&&!at(g)&&(g=wn({},g)),t.style=Oi(g))}const c=fn(e)?1:z2(e)?128:g2(e)?64:Vt(e)?4:pt(e)?2:0;return o(e,t,n,r,i,c,a,!0)}function q9(e){return e?Qa(e)||F2(e)?wn({},e):e:null}function oo(e,t,n=!1,r=!1){const{props:i,ref:a,patchFlag:c,children:u,transition:g}=e,f=t?W9(i||{},t):i,m={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&W2(f),ref:t&&t.ref?n&&a?at(a)?a.concat(Ul(t)):[a,Ul(t)]:Ul(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==$e?c===-1?16:c|16:c,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:g,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&oo(e.ssContent),ssFallback:e.ssFallback&&oo(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return g&&r&&zo(m,g.clone(m)),m}function qe(e=" ",t=0){return kt($o,null,e,t)}function pe(e="",t=!1){return t?(U(),Et(Rn,null,e)):kt(Rn,null,e)}function Fr(e){return e==null||typeof e=="boolean"?kt(Rn):at(e)?kt($e,null,e.slice()):Ia(e)?Ys(e):kt($o,null,String(e))}function Ys(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:oo(e)}function lx(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(at(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),lx(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!F2(t)?t._ctx=On:i===3&&On&&(On.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else pt(t)?(t={default:t,_ctx:On},n=32):(t=String(t),r&64?(n=16,t=[qe(t)]):n=8);e.children=t,e.shapeFlag|=n}function W9(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=Fe([t.class,r.class]));else if(i==="style")t.style=Oi([t.style,r.style]);else if(Wa(i)){const a=t[i],c=r[i];c&&a!==c&&!(at(a)&&a.includes(c))&&(t[i]=a?[].concat(a,c):c)}else i!==""&&(t[i]=r[i])}return t}function Sr(e,t,n,r=null){Kr(e,t,7,[n,r])}const G9=D2();let Q9=0;function K9(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||G9,a={uid:Q9++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new y8(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:I2(r,i),emitsOptions:U2(r,i),emit:null,emitted:null,propsDefaults:Gt,inheritAttrs:r.inheritAttrs,ctx:Gt,data:Gt,props:Gt,attrs:Gt,slots:Gt,refs:Gt,setupState:Gt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=L9.bind(null,a),e.ce&&e.ce(a),a}let Hn=null;const cx=()=>Hn||On;let a0,yu;{const e=k0(),t=(n,r)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(r),a=>{i.length>1?i.forEach(c=>c(a)):i[0](a)}};a0=t("__VUE_INSTANCE_SETTERS__",n=>Hn=n),yu=t("__VUE_SSR_SETTERS__",n=>Ma=n)}const Ya=e=>{const t=Hn;return a0(e),e.scope.on(),()=>{e.scope.off(),a0(t)}},Af=()=>{Hn&&Hn.scope.off(),a0(null)};function G2(e){return e.vnode.shapeFlag&4}let Ma=!1;function Y9(e,t=!1,n=!1){t&&yu(t);const{props:r,children:i}=e.vnode,a=G2(e);A9(e,r,a,t),k9(e,i,n||t);const c=a?X9(e,t):void 0;return t&&yu(!1),c}function X9(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,g9);const{setup:r}=n;if(r){Ts();const i=e.setupContext=r.length>1?J9(e):null,a=Ya(e),c=Ka(r,e,0,[e.props,i]),u=Hp(c);if(Is(),a(),(u||e.sp)&&!Lo(e)&&E2(e),u){if(c.then(Af,Af),t)return c.then(g=>{Bf(e,g)}).catch(g=>{F0(g,e,0)});e.asyncDep=c}else Bf(e,c)}else Q2(e)}function Bf(e,t,n){pt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Vt(t)&&(e.setupState=d2(t)),Q2(e)}function Q2(e,t,n){const r=e.type;e.render||(e.render=r.render||xs);{const i=Ya(e);Ts();try{p9(e)}finally{Is(),i()}}}const Z9={get(e,t){return Un(e,"get",""),e[t]}};function J9(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Z9),slots:e.slots,emit:e.emit,expose:t}}function R0(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(d2(fu(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ya)return ya[n](e)},has(t,n){return n in t||n in ya}})):e.proxy}function ev(e,t=!0){return pt(e)?e.displayName||e.name:e.name||t&&e.__name}function tv(e){return pt(e)&&"__vccOpts"in e}const We=(e,t)=>H8(e,t,Ma);function ar(e,t,n){try{i0(-1);const r=arguments.length;return r===2?Vt(t)&&!at(t)?Ia(t)?kt(e,null,[t]):kt(e,t):kt(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ia(n)&&(n=[n]),kt(e,t,n))}finally{i0(1)}}const K2="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let bu;const _f=typeof window<"u"&&window.trustedTypes;if(_f)try{bu=_f.createPolicy("vue",{createHTML:e=>e})}catch{}const Y2=bu?e=>bu.createHTML(e):e=>e,nv="http://www.w3.org/2000/svg",rv="http://www.w3.org/1998/Math/MathML",ws=typeof document<"u"?document:null,Df=ws&&ws.createElement("template"),sv={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t==="svg"?ws.createElementNS(nv,e):t==="mathml"?ws.createElementNS(rv,e):n?ws.createElement(e,{is:n}):ws.createElement(e);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>ws.createTextNode(e),createComment:e=>ws.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ws.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,a){const c=n?n.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===a||!(i=i.nextSibling)););else{Df.innerHTML=Y2(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const u=Df.content;if(r==="svg"||r==="mathml"){const g=u.firstChild;for(;g.firstChild;)u.appendChild(g.firstChild);u.removeChild(g)}t.insertBefore(u,n)}return[c?c.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},qs="transition",Ji="animation",Di=Symbol("_vtc"),X2={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Z2=wn({},m2,X2),ov=e=>(e.displayName="Transition",e.props=Z2,e),yl=ov((e,{slots:t})=>ar(Y8,J2(e),t)),Ao=(e,t=[])=>{at(e)?e.forEach(n=>n(...t)):e&&e(...t)},kf=e=>e?at(e)?e.some(t=>t.length>1):e.length>1:!1;function J2(e){const t={};for(const Y in e)Y in X2||(t[Y]=e[Y]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:a=`${n}-enter-from`,enterActiveClass:c=`${n}-enter-active`,enterToClass:u=`${n}-enter-to`,appearFromClass:g=a,appearActiveClass:f=c,appearToClass:m=u,leaveFromClass:y=`${n}-leave-from`,leaveActiveClass:w=`${n}-leave-active`,leaveToClass:E=`${n}-leave-to`}=e,C=iv(i),D=C&&C[0],_=C&&C[1],{onBeforeEnter:M,onEnter:$,onEnterCancelled:I,onLeave:S,onLeaveCancelled:T,onBeforeAppear:j=M,onAppear:L=$,onAppearCancelled:z=I}=t,F=(Y,ce,me,te)=>{Y._enterCancelled=te,Qs(Y,ce?m:u),Qs(Y,ce?f:c),me&&me()},Q=(Y,ce)=>{Y._isLeaving=!1,Qs(Y,y),Qs(Y,E),Qs(Y,w),ce&&ce()},le=Y=>(ce,me)=>{const te=Y?L:$,ne=()=>F(ce,Y,me);Ao(te,[ce,ne]),Sf(()=>{Qs(ce,Y?g:a),is(ce,Y?m:u),kf(te)||Ff(ce,r,D,ne)})};return wn(t,{onBeforeEnter(Y){Ao(M,[Y]),is(Y,a),is(Y,c)},onBeforeAppear(Y){Ao(j,[Y]),is(Y,g),is(Y,f)},onEnter:le(!1),onAppear:le(!0),onLeave(Y,ce){Y._isLeaving=!0;const me=()=>Q(Y,ce);is(Y,y),Y._enterCancelled?(is(Y,w),vu(Y)):(vu(Y),is(Y,w)),Sf(()=>{Y._isLeaving&&(Qs(Y,y),is(Y,E),kf(S)||Ff(Y,r,_,me))}),Ao(S,[Y,me])},onEnterCancelled(Y){F(Y,!1,void 0,!0),Ao(I,[Y])},onAppearCancelled(Y){F(Y,!0,void 0,!0),Ao(z,[Y])},onLeaveCancelled(Y){Q(Y),Ao(T,[Y])}})}function iv(e){if(e==null)return null;if(Vt(e))return[Ec(e.enter),Ec(e.leave)];{const t=Ec(e);return[t,t]}}function Ec(e){return d8(e)}function is(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Di]||(e[Di]=new Set)).add(t)}function Qs(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Di];n&&(n.delete(t),n.size||(e[Di]=void 0))}function Sf(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let av=0;function Ff(e,t,n,r){const i=e._endId=++av,a=()=>{i===e._endId&&r()};if(n!=null)return setTimeout(a,n);const{type:c,timeout:u,propCount:g}=em(e,t);if(!c)return r();const f=c+"end";let m=0;const y=()=>{e.removeEventListener(f,w),a()},w=E=>{E.target===e&&++m>=g&&y()};setTimeout(()=>{m<g&&y()},u+1),e.addEventListener(f,w)}function em(e,t){const n=window.getComputedStyle(e),r=C=>(n[C]||"").split(", "),i=r(`${qs}Delay`),a=r(`${qs}Duration`),c=Tf(i,a),u=r(`${Ji}Delay`),g=r(`${Ji}Duration`),f=Tf(u,g);let m=null,y=0,w=0;t===qs?c>0&&(m=qs,y=c,w=a.length):t===Ji?f>0&&(m=Ji,y=f,w=g.length):(y=Math.max(c,f),m=y>0?c>f?qs:Ji:null,w=m?m===qs?a.length:g.length:0);const E=m===qs&&/\b(?:transform|all)(?:,|$)/.test(r(`${qs}Property`).toString());return{type:m,timeout:y,propCount:w,hasTransform:E}}function Tf(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>If(n)+If(e[r])))}function If(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function vu(e){return(e?e.ownerDocument:document).body.offsetHeight}function lv(e,t,n){const r=e[Di];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const l0=Symbol("_vod"),tm=Symbol("_vsh"),nn={name:"show",beforeMount(e,{value:t},{transition:n}){e[l0]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):ea(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),ea(e,!0),r.enter(e)):r.leave(e,()=>{ea(e,!1)}):ea(e,t))},beforeUnmount(e,{value:t}){ea(e,t)}};function ea(e,t){e.style.display=t?e[l0]:"none",e[tm]=!t}const cv=Symbol(""),dv=/(?:^|;)\s*display\s*:/;function uv(e,t,n){const r=e.style,i=fn(n);let a=!1;if(n&&!i){if(t)if(fn(t))for(const c of t.split(";")){const u=c.slice(0,c.indexOf(":")).trim();n[u]==null&&Hl(r,u,"")}else for(const c in t)n[c]==null&&Hl(r,c,"");for(const c in n)c==="display"&&(a=!0),Hl(r,c,n[c])}else if(i){if(t!==n){const c=r[cv];c&&(n+=";"+c),r.cssText=n,a=dv.test(n)}}else t&&e.removeAttribute("style");l0 in e&&(e[l0]=a?r.display:"",e[tm]&&(r.display="none"))}const Mf=/\s*!important$/;function Hl(e,t,n){if(at(n))n.forEach(r=>Hl(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=xv(e,t);Mf.test(n)?e.setProperty(fo(r),n.replace(Mf,""),"important"):e[r]=n}}const Pf=["Webkit","Moz","ms"],wc={};function xv(e,t){const n=wc[t];if(n)return n;let r=Rr(t);if(r!=="filter"&&r in e)return wc[t]=r;r=D0(r);for(let i=0;i<Pf.length;i++){const a=Pf[i]+r;if(a in e)return wc[t]=a}return t}const Rf="http://www.w3.org/1999/xlink";function Of(e,t,n,r,i,a=p8(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Rf,t.slice(6,t.length)):e.setAttributeNS(Rf,t,n):n==null||a&&!Wp(n)?e.removeAttribute(t):e.setAttribute(t,a?"":Qr(n)?String(n):n)}function Nf(e,t,n,r,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Y2(n):n);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?e.getAttribute("value")||"":e.value,g=n==null?e.type==="checkbox"?"on":"":String(n);(u!==g||!("_value"in e))&&(e.value=g),n==null&&e.removeAttribute(t),e._value=n;return}let c=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=Wp(n):n==null&&u==="string"?(n="",c=!0):u==="number"&&(n=0,c=!0)}try{e[t]=n}catch{}c&&e.removeAttribute(i||t)}function Ds(e,t,n,r){e.addEventListener(t,n,r)}function fv(e,t,n,r){e.removeEventListener(t,n,r)}const Lf=Symbol("_vei");function hv(e,t,n,r,i=null){const a=e[Lf]||(e[Lf]={}),c=a[t];if(r&&c)c.value=r;else{const[u,g]=gv(t);if(r){const f=a[t]=yv(r,i);Ds(e,u,f,g)}else c&&(fv(e,u,c,g),a[t]=void 0)}}const $f=/(?:Once|Passive|Capture)$/;function gv(e){let t;if($f.test(e)){t={};let r;for(;r=e.match($f);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):fo(e.slice(2)),t]}let Cc=0;const pv=Promise.resolve(),mv=()=>Cc||(pv.then(()=>Cc=0),Cc=Date.now());function yv(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Kr(bv(r,n.value),t,5,[r])};return n.value=e,n.attached=mv(),n}function bv(e,t){if(at(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const jf=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,vv=(e,t,n,r,i,a)=>{const c=i==="svg";t==="class"?lv(e,r,c):t==="style"?uv(e,n,r):Wa(t)?Wu(t)||hv(e,t,n,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Ev(e,t,r,c))?(Nf(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Of(e,t,r,c,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!fn(r))?Nf(e,Rr(t),r,a,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Of(e,t,r,c))};function Ev(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&jf(t)&&pt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return jf(t)&&fn(n)?!1:t in e}const nm=new WeakMap,rm=new WeakMap,c0=Symbol("_moveCb"),Uf=Symbol("_enterCb"),wv=e=>(delete e.props.mode,e),Cv=wv({name:"TransitionGroup",props:wn({},Z2,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=cx(),r=p2();let i,a;return C2(()=>{if(!i.length)return;const c=e.moveClass||`${e.name||"v"}-move`;if(!kv(i[0].el,n.vnode.el,c)){i=[];return}i.forEach(Bv),i.forEach(_v);const u=i.filter(Dv);vu(n.vnode.el),u.forEach(g=>{const f=g.el,m=f.style;is(f,c),m.transform=m.webkitTransform=m.transitionDuration="";const y=f[c0]=w=>{w&&w.target!==f||(!w||w.propertyName.endsWith("transform"))&&(f.removeEventListener("transitionend",y),f[c0]=null,Qs(f,c))};f.addEventListener("transitionend",y)}),i=[]}),()=>{const c=Dt(e),u=J2(c);let g=c.tag||$e;if(i=[],a)for(let f=0;f<a.length;f++){const m=a[f];m.el&&m.el instanceof Element&&(i.push(m),zo(m,Fa(m,u,r,n)),nm.set(m,m.el.getBoundingClientRect()))}a=t.default?sx(t.default()):[];for(let f=0;f<a.length;f++){const m=a[f];m.key!=null&&zo(m,Fa(m,u,r,n))}return kt(g,null,a)}}}),Av=Cv;function Bv(e){const t=e.el;t[c0]&&t[c0](),t[Uf]&&t[Uf]()}function _v(e){rm.set(e,e.el.getBoundingClientRect())}function Dv(e){const t=nm.get(e),n=rm.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const a=e.el.style;return a.transform=a.webkitTransform=`translate(${r}px,${i}px)`,a.transitionDuration="0s",e}}function kv(e,t,n){const r=e.cloneNode(),i=e[Di];i&&i.forEach(u=>{u.split(/\s+/).forEach(g=>g&&r.classList.remove(g))}),n.split(/\s+/).forEach(u=>u&&r.classList.add(u)),r.style.display="none";const a=t.nodeType===1?t:t.parentNode;a.appendChild(r);const{hasTransform:c}=em(r);return a.removeChild(r),c}const io=e=>{const t=e.props["onUpdate:modelValue"]||!1;return at(t)?n=>Ll(t,n):t};function Sv(e){e.target.composing=!0}function Hf(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Pr=Symbol("_assign"),Oe={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[Pr]=io(i);const a=r||i.props&&i.props.type==="number";Ds(e,t?"change":"input",c=>{if(c.target.composing)return;let u=e.value;n&&(u=u.trim()),a&&(u=Zl(u)),e[Pr](u)}),n&&Ds(e,"change",()=>{e.value=e.value.trim()}),t||(Ds(e,"compositionstart",Sv),Ds(e,"compositionend",Hf),Ds(e,"change",Hf))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:i,number:a}},c){if(e[Pr]=io(c),e.composing)return;const u=(a||e.type==="number")&&!/^0\d/.test(e.value)?Zl(e.value):e.value,g=t??"";u!==g&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||i&&e.value.trim()===g)||(e.value=g))}},qo={deep:!0,created(e,t,n){e[Pr]=io(n),Ds(e,"change",()=>{const r=e._modelValue,i=ki(e),a=e.checked,c=e[Pr];if(at(r)){const u=Ku(r,i),g=u!==-1;if(a&&!g)c(r.concat(i));else if(!a&&g){const f=[...r];f.splice(u,1),c(f)}}else if(Ri(r)){const u=new Set(r);a?u.add(i):u.delete(i),c(u)}else c(sm(e,a))})},mounted:zf,beforeUpdate(e,t,n){e[Pr]=io(n),zf(e,t,n)}};function zf(e,{value:t,oldValue:n},r){e._modelValue=t;let i;if(at(t))i=Ku(t,r.props.value)>-1;else if(Ri(t))i=t.has(r.props.value);else{if(t===n)return;i=Ho(t,sm(e,!0))}e.checked!==i&&(e.checked=i)}const Pa={created(e,{value:t},n){e.checked=Ho(t,n.props.value),e[Pr]=io(n),Ds(e,"change",()=>{e[Pr](ki(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[Pr]=io(r),t!==n&&(e.checked=Ho(t,r.props.value))}},ct={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const i=Ri(t);Ds(e,"change",()=>{const a=Array.prototype.filter.call(e.options,c=>c.selected).map(c=>n?Zl(ki(c)):ki(c));e[Pr](e.multiple?i?new Set(a):a:a[0]),e._assigning=!0,yr(()=>{e._assigning=!1})}),e[Pr]=io(r)},mounted(e,{value:t}){Vf(e,t)},beforeUpdate(e,t,n){e[Pr]=io(n)},updated(e,{value:t}){e._assigning||Vf(e,t)}};function Vf(e,t){const n=e.multiple,r=at(t);if(!(n&&!r&&!Ri(t))){for(let i=0,a=e.options.length;i<a;i++){const c=e.options[i],u=ki(c);if(n)if(r){const g=typeof u;g==="string"||g==="number"?c.selected=t.some(f=>String(f)===String(u)):c.selected=Ku(t,u)>-1}else c.selected=t.has(u);else if(Ho(ki(c),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ki(e){return"_value"in e?e._value:e.value}function sm(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Fv={created(e,t,n){bl(e,t,n,null,"created")},mounted(e,t,n){bl(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){bl(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){bl(e,t,n,r,"updated")}};function Tv(e,t){switch(e){case"SELECT":return ct;case"TEXTAREA":return Oe;default:switch(t){case"checkbox":return qo;case"radio":return Pa;default:return Oe}}}function bl(e,t,n,r,i){const c=Tv(e.tagName,n.props&&n.props.type)[i];c&&c(e,t,n,r)}const Iv=["ctrl","shift","alt","meta"],Mv={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Iv.some(n=>e[`${n}Key`]&&!t.includes(n))},or=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=((i,...a)=>{for(let c=0;c<t.length;c++){const u=Mv[t[c]];if(u&&u(i,t))return}return e(i,...a)}))},Pv={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ni=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=(i=>{if(!("key"in i))return;const a=fo(i.key);if(t.some(c=>c===a||Pv[c]===a))return e(i)}))},om=wn({patchProp:vv},sv);let va,qf=!1;function Rv(){return va||(va=F9(om))}function Ov(){return va=qf?va:T9(om),qf=!0,va}const Nv=((...e)=>{const t=Rv().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=am(r);if(!i)return;const a=t._component;!pt(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const c=n(i,!1,im(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),c},t}),Lv=((...e)=>{const t=Ov().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=am(r);if(i)return n(i,!0,im(i))},t});function im(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function am(e){return fn(e)?document.querySelector(e):e}var lm=typeof global=="object"&&global&&global.Object===Object&&global,$v=typeof self=="object"&&self&&self.Object===Object&&self,gs=lm||$v||Function("return this")(),hs=gs.Symbol,cm=Object.prototype,jv=cm.hasOwnProperty,Uv=cm.toString,ta=hs?hs.toStringTag:void 0;function Hv(e){var t=jv.call(e,ta),n=e[ta];try{e[ta]=void 0;var r=!0}catch{}var i=Uv.call(e);return r&&(t?e[ta]=n:delete e[ta]),i}var zv=Object.prototype,Vv=zv.toString;function qv(e){return Vv.call(e)}var Wv="[object Null]",Gv="[object Undefined]",Wf=hs?hs.toStringTag:void 0;function Li(e){return e==null?e===void 0?Gv:Wv:Wf&&Wf in Object(e)?Hv(e):qv(e)}function ao(e){return e!=null&&typeof e=="object"}var Qv="[object Symbol]";function dx(e){return typeof e=="symbol"||ao(e)&&Li(e)==Qv}function Kv(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var Ms=Array.isArray,Gf=hs?hs.prototype:void 0,Qf=Gf?Gf.toString:void 0;function dm(e){if(typeof e=="string")return e;if(Ms(e))return Kv(e,dm)+"";if(dx(e))return Qf?Qf.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Si(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Yv="[object AsyncFunction]",Xv="[object Function]",Zv="[object GeneratorFunction]",Jv="[object Proxy]";function um(e){if(!Si(e))return!1;var t=Li(e);return t==Xv||t==Zv||t==Yv||t==Jv}var Ac=gs["__core-js_shared__"],Kf=(function(){var e=/[^.]+$/.exec(Ac&&Ac.keys&&Ac.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function e6(e){return!!Kf&&Kf in e}var t6=Function.prototype,n6=t6.toString;function Yo(e){if(e!=null){try{return n6.call(e)}catch{}try{return e+""}catch{}}return""}var r6=/[\\^$.*+?()[\]{}|]/g,s6=/^\[object .+?Constructor\]$/,o6=Function.prototype,i6=Object.prototype,a6=o6.toString,l6=i6.hasOwnProperty,c6=RegExp("^"+a6.call(l6).replace(r6,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d6(e){if(!Si(e)||e6(e))return!1;var t=um(e)?c6:s6;return t.test(Yo(e))}function u6(e,t){return e?.[t]}function Xo(e,t){var n=u6(e,t);return d6(n)?n:void 0}var Eu=Xo(gs,"WeakMap"),Yf=Object.create,x6=(function(){function e(){}return function(t){if(!Si(t))return{};if(Yf)return Yf(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}})(),Xf=(function(){try{var e=Xo(Object,"defineProperty");return e({},"",{}),e}catch{}})();function f6(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var h6=9007199254740991,g6=/^(?:0|[1-9]\d*)$/;function ux(e,t){var n=typeof e;return t=t??h6,!!t&&(n=="number"||n!="symbol"&&g6.test(e))&&e>-1&&e%1==0&&e<t}function p6(e,t,n){t=="__proto__"&&Xf?Xf(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function xx(e,t){return e===t||e!==e&&t!==t}var m6=Object.prototype,y6=m6.hasOwnProperty;function xm(e,t,n){var r=e[t];(!(y6.call(e,t)&&xx(r,n))||n===void 0&&!(t in e))&&p6(e,t,n)}var b6=9007199254740991;function fx(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=b6}function v6(e){return e!=null&&fx(e.length)&&!um(e)}var E6=Object.prototype;function fm(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||E6;return e===n}function w6(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var C6="[object Arguments]";function Zf(e){return ao(e)&&Li(e)==C6}var hm=Object.prototype,A6=hm.hasOwnProperty,B6=hm.propertyIsEnumerable,gm=Zf((function(){return arguments})())?Zf:function(e){return ao(e)&&A6.call(e,"callee")&&!B6.call(e,"callee")};function _6(){return!1}var pm=typeof Er=="object"&&Er&&!Er.nodeType&&Er,Jf=pm&&typeof wr=="object"&&wr&&!wr.nodeType&&wr,D6=Jf&&Jf.exports===pm,e1=D6?gs.Buffer:void 0,k6=e1?e1.isBuffer:void 0,d0=k6||_6,S6="[object Arguments]",F6="[object Array]",T6="[object Boolean]",I6="[object Date]",M6="[object Error]",P6="[object Function]",R6="[object Map]",O6="[object Number]",N6="[object Object]",L6="[object RegExp]",$6="[object Set]",j6="[object String]",U6="[object WeakMap]",H6="[object ArrayBuffer]",z6="[object DataView]",V6="[object Float32Array]",q6="[object Float64Array]",W6="[object Int8Array]",G6="[object Int16Array]",Q6="[object Int32Array]",K6="[object Uint8Array]",Y6="[object Uint8ClampedArray]",X6="[object Uint16Array]",Z6="[object Uint32Array]",Jt={};Jt[V6]=Jt[q6]=Jt[W6]=Jt[G6]=Jt[Q6]=Jt[K6]=Jt[Y6]=Jt[X6]=Jt[Z6]=!0;Jt[S6]=Jt[F6]=Jt[H6]=Jt[T6]=Jt[z6]=Jt[I6]=Jt[M6]=Jt[P6]=Jt[R6]=Jt[O6]=Jt[N6]=Jt[L6]=Jt[$6]=Jt[j6]=Jt[U6]=!1;function J6(e){return ao(e)&&fx(e.length)&&!!Jt[Li(e)]}function hx(e){return function(t){return e(t)}}var mm=typeof Er=="object"&&Er&&!Er.nodeType&&Er,Ea=mm&&typeof wr=="object"&&wr&&!wr.nodeType&&wr,e4=Ea&&Ea.exports===mm,Bc=e4&&lm.process,Fi=(function(){try{var e=Ea&&Ea.require&&Ea.require("util").types;return e||Bc&&Bc.binding&&Bc.binding("util")}catch{}})(),t1=Fi&&Fi.isTypedArray,ym=t1?hx(t1):J6,t4=Object.prototype,n4=t4.hasOwnProperty;function r4(e,t){var n=Ms(e),r=!n&&gm(e),i=!n&&!r&&d0(e),a=!n&&!r&&!i&&ym(e),c=n||r||i||a,u=c?w6(e.length,String):[],g=u.length;for(var f in e)n4.call(e,f)&&!(c&&(f=="length"||i&&(f=="offset"||f=="parent")||a&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||ux(f,g)))&&u.push(f);return u}function bm(e,t){return function(n){return e(t(n))}}var s4=bm(Object.keys,Object),o4=Object.prototype,i4=o4.hasOwnProperty;function a4(e){if(!fm(e))return s4(e);var t=[];for(var n in Object(e))i4.call(e,n)&&n!="constructor"&&t.push(n);return t}function l4(e){return v6(e)?r4(e):a4(e)}var c4=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,d4=/^\w*$/;function u4(e,t){if(Ms(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||dx(e)?!0:d4.test(e)||!c4.test(e)||t!=null&&e in Object(t)}var Ra=Xo(Object,"create");function x4(){this.__data__=Ra?Ra(null):{},this.size=0}function f4(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var h4="__lodash_hash_undefined__",g4=Object.prototype,p4=g4.hasOwnProperty;function m4(e){var t=this.__data__;if(Ra){var n=t[e];return n===h4?void 0:n}return p4.call(t,e)?t[e]:void 0}var y4=Object.prototype,b4=y4.hasOwnProperty;function v4(e){var t=this.__data__;return Ra?t[e]!==void 0:b4.call(t,e)}var E4="__lodash_hash_undefined__";function w4(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ra&&t===void 0?E4:t,this}function Wo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Wo.prototype.clear=x4;Wo.prototype.delete=f4;Wo.prototype.get=m4;Wo.prototype.has=v4;Wo.prototype.set=w4;function C4(){this.__data__=[],this.size=0}function O0(e,t){for(var n=e.length;n--;)if(xx(e[n][0],t))return n;return-1}var A4=Array.prototype,B4=A4.splice;function _4(e){var t=this.__data__,n=O0(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():B4.call(t,n,1),--this.size,!0}function D4(e){var t=this.__data__,n=O0(t,e);return n<0?void 0:t[n][1]}function k4(e){return O0(this.__data__,e)>-1}function S4(e,t){var n=this.__data__,r=O0(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Rs(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Rs.prototype.clear=C4;Rs.prototype.delete=_4;Rs.prototype.get=D4;Rs.prototype.has=k4;Rs.prototype.set=S4;var Oa=Xo(gs,"Map");function F4(){this.size=0,this.__data__={hash:new Wo,map:new(Oa||Rs),string:new Wo}}function T4(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function N0(e,t){var n=e.__data__;return T4(t)?n[typeof t=="string"?"string":"hash"]:n.map}function I4(e){var t=N0(this,e).delete(e);return this.size-=t?1:0,t}function M4(e){return N0(this,e).get(e)}function P4(e){return N0(this,e).has(e)}function R4(e,t){var n=N0(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Os(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Os.prototype.clear=F4;Os.prototype.delete=I4;Os.prototype.get=M4;Os.prototype.has=P4;Os.prototype.set=R4;var O4="Expected a function";function gx(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(O4);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var c=e.apply(this,r);return n.cache=a.set(i,c)||a,c};return n.cache=new(gx.Cache||Os),n}gx.Cache=Os;var N4=500;function L4(e){var t=gx(e,function(r){return n.size===N4&&n.clear(),r}),n=t.cache;return t}var $4=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,j4=/\\(\\)?/g,U4=L4(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace($4,function(n,r,i,a){t.push(i?a.replace(j4,"$1"):r||n)}),t});function H4(e){return e==null?"":dm(e)}function px(e,t){return Ms(e)?e:u4(e,t)?[e]:U4(H4(e))}function mx(e){if(typeof e=="string"||dx(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function z4(e,t){t=px(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[mx(t[n++])];return n&&n==r?e:void 0}function Ai(e,t,n){var r=e==null?void 0:z4(e,t);return r===void 0?n:r}function V4(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var q4=bm(Object.getPrototypeOf,Object);function W4(){this.__data__=new Rs,this.size=0}function G4(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Q4(e){return this.__data__.get(e)}function K4(e){return this.__data__.has(e)}var Y4=200;function X4(e,t){var n=this.__data__;if(n instanceof Rs){var r=n.__data__;if(!Oa||r.length<Y4-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Os(r)}return n.set(e,t),this.size=n.size,this}function Fs(e){var t=this.__data__=new Rs(e);this.size=t.size}Fs.prototype.clear=W4;Fs.prototype.delete=G4;Fs.prototype.get=Q4;Fs.prototype.has=K4;Fs.prototype.set=X4;var vm=typeof Er=="object"&&Er&&!Er.nodeType&&Er,n1=vm&&typeof wr=="object"&&wr&&!wr.nodeType&&wr,Z4=n1&&n1.exports===vm,r1=Z4?gs.Buffer:void 0;r1&&r1.allocUnsafe;function J4(e,t){return e.slice()}function eE(e,t){for(var n=-1,r=e==null?0:e.length,i=0,a=[];++n<r;){var c=e[n];t(c,n,e)&&(a[i++]=c)}return a}function tE(){return[]}var nE=Object.prototype,rE=nE.propertyIsEnumerable,s1=Object.getOwnPropertySymbols,sE=s1?function(e){return e==null?[]:(e=Object(e),eE(s1(e),function(t){return rE.call(e,t)}))}:tE;function oE(e,t,n){var r=t(e);return Ms(e)?r:V4(r,n(e))}function wu(e){return oE(e,l4,sE)}var Cu=Xo(gs,"DataView"),Au=Xo(gs,"Promise"),Bu=Xo(gs,"Set"),o1="[object Map]",iE="[object Object]",i1="[object Promise]",a1="[object Set]",l1="[object WeakMap]",c1="[object DataView]",aE=Yo(Cu),lE=Yo(Oa),cE=Yo(Au),dE=Yo(Bu),uE=Yo(Eu),qr=Li;(Cu&&qr(new Cu(new ArrayBuffer(1)))!=c1||Oa&&qr(new Oa)!=o1||Au&&qr(Au.resolve())!=i1||Bu&&qr(new Bu)!=a1||Eu&&qr(new Eu)!=l1)&&(qr=function(e){var t=Li(e),n=t==iE?e.constructor:void 0,r=n?Yo(n):"";if(r)switch(r){case aE:return c1;case lE:return o1;case cE:return i1;case dE:return a1;case uE:return l1}return t});var xE=Object.prototype,fE=xE.hasOwnProperty;function hE(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&fE.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var u0=gs.Uint8Array;function yx(e){var t=new e.constructor(e.byteLength);return new u0(t).set(new u0(e)),t}function gE(e,t){var n=yx(e.buffer);return new e.constructor(n,e.byteOffset,e.byteLength)}var pE=/\w*$/;function mE(e){var t=new e.constructor(e.source,pE.exec(e));return t.lastIndex=e.lastIndex,t}var d1=hs?hs.prototype:void 0,u1=d1?d1.valueOf:void 0;function yE(e){return u1?Object(u1.call(e)):{}}function bE(e,t){var n=yx(e.buffer);return new e.constructor(n,e.byteOffset,e.length)}var vE="[object Boolean]",EE="[object Date]",wE="[object Map]",CE="[object Number]",AE="[object RegExp]",BE="[object Set]",_E="[object String]",DE="[object Symbol]",kE="[object ArrayBuffer]",SE="[object DataView]",FE="[object Float32Array]",TE="[object Float64Array]",IE="[object Int8Array]",ME="[object Int16Array]",PE="[object Int32Array]",RE="[object Uint8Array]",OE="[object Uint8ClampedArray]",NE="[object Uint16Array]",LE="[object Uint32Array]";function $E(e,t,n){var r=e.constructor;switch(t){case kE:return yx(e);case vE:case EE:return new r(+e);case SE:return gE(e);case FE:case TE:case IE:case ME:case PE:case RE:case OE:case NE:case LE:return bE(e);case wE:return new r;case CE:case _E:return new r(e);case AE:return mE(e);case BE:return new r;case DE:return yE(e)}}function jE(e){return typeof e.constructor=="function"&&!fm(e)?x6(q4(e)):{}}var UE="[object Map]";function HE(e){return ao(e)&&qr(e)==UE}var x1=Fi&&Fi.isMap,zE=x1?hx(x1):HE,VE="[object Set]";function qE(e){return ao(e)&&qr(e)==VE}var f1=Fi&&Fi.isSet,WE=f1?hx(f1):qE,Em="[object Arguments]",GE="[object Array]",QE="[object Boolean]",KE="[object Date]",YE="[object Error]",wm="[object Function]",XE="[object GeneratorFunction]",ZE="[object Map]",JE="[object Number]",Cm="[object Object]",e5="[object RegExp]",t5="[object Set]",n5="[object String]",r5="[object Symbol]",s5="[object WeakMap]",o5="[object ArrayBuffer]",i5="[object DataView]",a5="[object Float32Array]",l5="[object Float64Array]",c5="[object Int8Array]",d5="[object Int16Array]",u5="[object Int32Array]",x5="[object Uint8Array]",f5="[object Uint8ClampedArray]",h5="[object Uint16Array]",g5="[object Uint32Array]",Kt={};Kt[Em]=Kt[GE]=Kt[o5]=Kt[i5]=Kt[QE]=Kt[KE]=Kt[a5]=Kt[l5]=Kt[c5]=Kt[d5]=Kt[u5]=Kt[ZE]=Kt[JE]=Kt[Cm]=Kt[e5]=Kt[t5]=Kt[n5]=Kt[r5]=Kt[x5]=Kt[f5]=Kt[h5]=Kt[g5]=!0;Kt[YE]=Kt[wm]=Kt[s5]=!1;function zl(e,t,n,r,i,a){var c;if(c!==void 0)return c;if(!Si(e))return e;var u=Ms(e);if(u)c=hE(e);else{var g=qr(e),f=g==wm||g==XE;if(d0(e))return J4(e);if(g==Cm||g==Em||f&&!i)c=f?{}:jE(e);else{if(!Kt[g])return i?e:{};c=$E(e,g)}}a||(a=new Fs);var m=a.get(e);if(m)return m;a.set(e,c),WE(e)?e.forEach(function(E){c.add(zl(E,t,n,E,e,a))}):zE(e)&&e.forEach(function(E,C){c.set(C,zl(E,t,n,C,e,a))});var y=wu,w=u?void 0:y(e);return f6(w||e,function(E,C){w&&(C=E,E=e[C]),xm(c,C,zl(E,t,n,C,e,a))}),c}var p5=1,m5=4;function rr(e){return zl(e,p5|m5)}var y5="__lodash_hash_undefined__";function b5(e){return this.__data__.set(e,y5),this}function v5(e){return this.__data__.has(e)}function x0(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Os;++t<n;)this.add(e[t])}x0.prototype.add=x0.prototype.push=b5;x0.prototype.has=v5;function E5(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function w5(e,t){return e.has(t)}var C5=1,A5=2;function Am(e,t,n,r,i,a){var c=n&C5,u=e.length,g=t.length;if(u!=g&&!(c&&g>u))return!1;var f=a.get(e),m=a.get(t);if(f&&m)return f==t&&m==e;var y=-1,w=!0,E=n&A5?new x0:void 0;for(a.set(e,t),a.set(t,e);++y<u;){var C=e[y],D=t[y];if(r)var _=c?r(D,C,y,t,e,a):r(C,D,y,e,t,a);if(_!==void 0){if(_)continue;w=!1;break}if(E){if(!E5(t,function(M,$){if(!w5(E,$)&&(C===M||i(C,M,n,r,a)))return E.push($)})){w=!1;break}}else if(!(C===D||i(C,D,n,r,a))){w=!1;break}}return a.delete(e),a.delete(t),w}function B5(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function _5(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var D5=1,k5=2,S5="[object Boolean]",F5="[object Date]",T5="[object Error]",I5="[object Map]",M5="[object Number]",P5="[object RegExp]",R5="[object Set]",O5="[object String]",N5="[object Symbol]",L5="[object ArrayBuffer]",$5="[object DataView]",h1=hs?hs.prototype:void 0,_c=h1?h1.valueOf:void 0;function j5(e,t,n,r,i,a,c){switch(n){case $5:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case L5:return!(e.byteLength!=t.byteLength||!a(new u0(e),new u0(t)));case S5:case F5:case M5:return xx(+e,+t);case T5:return e.name==t.name&&e.message==t.message;case P5:case O5:return e==t+"";case I5:var u=B5;case R5:var g=r&D5;if(u||(u=_5),e.size!=t.size&&!g)return!1;var f=c.get(e);if(f)return f==t;r|=k5,c.set(e,t);var m=Am(u(e),u(t),r,i,a,c);return c.delete(e),m;case N5:if(_c)return _c.call(e)==_c.call(t)}return!1}var U5=1,H5=Object.prototype,z5=H5.hasOwnProperty;function V5(e,t,n,r,i,a){var c=n&U5,u=wu(e),g=u.length,f=wu(t),m=f.length;if(g!=m&&!c)return!1;for(var y=g;y--;){var w=u[y];if(!(c?w in t:z5.call(t,w)))return!1}var E=a.get(e),C=a.get(t);if(E&&C)return E==t&&C==e;var D=!0;a.set(e,t),a.set(t,e);for(var _=c;++y<g;){w=u[y];var M=e[w],$=t[w];if(r)var I=c?r($,M,w,t,e,a):r(M,$,w,e,t,a);if(!(I===void 0?M===$||i(M,$,n,r,a):I)){D=!1;break}_||(_=w=="constructor")}if(D&&!_){var S=e.constructor,T=t.constructor;S!=T&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof T=="function"&&T instanceof T)&&(D=!1)}return a.delete(e),a.delete(t),D}var q5=1,g1="[object Arguments]",p1="[object Array]",vl="[object Object]",W5=Object.prototype,m1=W5.hasOwnProperty;function G5(e,t,n,r,i,a){var c=Ms(e),u=Ms(t),g=c?p1:qr(e),f=u?p1:qr(t);g=g==g1?vl:g,f=f==g1?vl:f;var m=g==vl,y=f==vl,w=g==f;if(w&&d0(e)){if(!d0(t))return!1;c=!0,m=!1}if(w&&!m)return a||(a=new Fs),c||ym(e)?Am(e,t,n,r,i,a):j5(e,t,g,n,r,i,a);if(!(n&q5)){var E=m&&m1.call(e,"__wrapped__"),C=y&&m1.call(t,"__wrapped__");if(E||C){var D=E?e.value():e,_=C?t.value():t;return a||(a=new Fs),i(D,_,n,r,a)}}return w?(a||(a=new Fs),V5(e,t,n,r,i,a)):!1}function Bm(e,t,n,r,i){return e===t?!0:e==null||t==null||!ao(e)&&!ao(t)?e!==e&&t!==t:G5(e,t,n,r,Bm,i)}function Q5(e,t,n){t=px(t,e);for(var r=-1,i=t.length,a=!1;++r<i;){var c=mx(t[r]);if(!(a=e!=null&&n(e,c)))break;e=e[c]}return a||++r!=i?a:(i=e==null?0:e.length,!!i&&fx(i)&&ux(c,i)&&(Ms(e)||gm(e)))}var K5=Object.prototype,Y5=K5.hasOwnProperty;function X5(e,t){return e!=null&&Y5.call(e,t)}function Z5(e,t){return e!=null&&Q5(e,t,X5)}function J5(e,t){return Bm(e,t)}function e3(e,t,n,r){if(!Si(e))return e;t=px(t,e);for(var i=-1,a=t.length,c=a-1,u=e;u!=null&&++i<a;){var g=mx(t[i]),f=n;if(g==="__proto__"||g==="constructor"||g==="prototype")return e;if(i!=c){var m=u[g];f=void 0,f===void 0&&(f=Si(m)?m:ux(t[i+1])?[]:{})}xm(u,g,f),u=u[g]}return e}function Io(e,t,n){return e==null?e:e3(e,t,n)}var pi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function t3(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Dc,y1;function $i(){return y1||(y1=1,Dc=TypeError),Dc}const n3={},r3=Object.freeze(Object.defineProperty({__proto__:null,default:n3},Symbol.toStringTag,{value:"Module"})),s3=t3(r3);var kc,b1;function L0(){if(b1)return kc;b1=1;var e=typeof Map=="function"&&Map.prototype,t=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,n=e&&t&&typeof t.get=="function"?t.get:null,r=e&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,a=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=i&&a&&typeof a.get=="function"?a.get:null,u=i&&Set.prototype.forEach,g=typeof WeakMap=="function"&&WeakMap.prototype,f=g?WeakMap.prototype.has:null,m=typeof WeakSet=="function"&&WeakSet.prototype,y=m?WeakSet.prototype.has:null,w=typeof WeakRef=="function"&&WeakRef.prototype,E=w?WeakRef.prototype.deref:null,C=Boolean.prototype.valueOf,D=Object.prototype.toString,_=Function.prototype.toString,M=String.prototype.match,$=String.prototype.slice,I=String.prototype.replace,S=String.prototype.toUpperCase,T=String.prototype.toLowerCase,j=RegExp.prototype.test,L=Array.prototype.concat,z=Array.prototype.join,F=Array.prototype.slice,Q=Math.floor,le=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Y=Object.getOwnPropertySymbols,ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,me=typeof Symbol=="function"&&typeof Symbol.iterator=="object",te=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===me||!0)?Symbol.toStringTag:null,ne=Object.prototype.propertyIsEnumerable,de=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(we){return we.__proto__}:null);function be(we,Ce){if(we===1/0||we===-1/0||we!==we||we&&we>-1e3&&we<1e3||j.call(/e/,Ce))return Ce;var ht=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof we=="number"){var At=we<0?-Q(-we):Q(we);if(At!==we){var Ft=String(At),Qe=$.call(Ce,Ft.length+1);return I.call(Ft,ht,"$&_")+"."+I.call(I.call(Qe,/([0-9]{3})/g,"$&_"),/_$/,"")}}return I.call(Ce,ht,"$&_")}var De=s3,Ie=De.custom,fe=k(Ie)?Ie:null,Pe={__proto__:null,double:'"',single:"'"},Ge={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};kc=function we(Ce,ht,At,Ft){var Qe=ht||{};if(V(Qe,"quoteStyle")&&!V(Pe,Qe.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(V(Qe,"maxStringLength")&&(typeof Qe.maxStringLength=="number"?Qe.maxStringLength<0&&Qe.maxStringLength!==1/0:Qe.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var gn=V(Qe,"customInspect")?Qe.customInspect:!0;if(typeof gn!="boolean"&&gn!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(V(Qe,"indent")&&Qe.indent!==null&&Qe.indent!=="	"&&!(parseInt(Qe.indent,10)===Qe.indent&&Qe.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(V(Qe,"numericSeparator")&&typeof Qe.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Xr=Qe.numericSeparator;if(typeof Ce>"u")return"undefined";if(Ce===null)return"null";if(typeof Ce=="boolean")return Ce?"true":"false";if(typeof Ce=="string")return Me(Ce,Qe);if(typeof Ce=="number"){if(Ce===0)return 1/0/Ce>0?"0":"-0";var Nn=String(Ce);return Xr?be(Ce,Nn):Nn}if(typeof Ce=="bigint"){var hn=String(Ce)+"n";return Xr?be(Ce,hn):hn}var go=typeof Qe.depth>"u"?5:Qe.depth;if(typeof At>"u"&&(At=0),At>=go&&go>0&&typeof Ce=="object")return Je(Ce)?"[Array]":"[Object]";var rn=rt(Qe,At);if(typeof Ft>"u")Ft=[];else if(ie(Ft,Ce)>=0)return"[Circular]";function Cn(Ls,ni,Cr){if(ni&&(Ft=F.call(Ft),Ft.push(ni)),Cr){var An={depth:Qe.depth};return V(Qe,"quoteStyle")&&(An.quoteStyle=Qe.quoteStyle),we(Ls,An,At+1,Ft)}return we(Ls,Qe,At+1,Ft)}if(typeof Ce=="function"&&!st(Ce)){var po=ue(Ce),ur=Pt(Ce,Cn);return"[Function"+(po?": "+po:" (anonymous)")+"]"+(ur.length>0?" { "+z.call(ur,", ")+" }":"")}if(k(Ce)){var sl=me?I.call(String(Ce),/^(Symbol\(.*\))_[^)]*$/,"$1"):ce.call(Ce);return typeof Ce=="object"&&!me?Ze(sl):sl}if(ge(Ce)){for(var xr="<"+T.call(String(Ce.nodeName)),mo=Ce.attributes||[],pn=0;pn<mo.length;pn++)xr+=" "+mo[pn].name+"="+Ne(tt(mo[pn].value),"double",Qe);return xr+=">",Ce.childNodes&&Ce.childNodes.length&&(xr+="..."),xr+="</"+T.call(String(Ce.nodeName))+">",xr}if(Je(Ce)){if(Ce.length===0)return"[]";var jr=Pt(Ce,Cn);return rn&&!$t(jr)?"["+Ue(jr,rn)+"]":"[ "+z.call(jr,", ")+" ]"}if(Te(Ce)){var Ln=Pt(Ce,Cn);return!("cause"in Error.prototype)&&"cause"in Ce&&!ne.call(Ce,"cause")?"{ ["+String(Ce)+"] "+z.call(L.call("[cause]: "+Cn(Ce.cause),Ln),", ")+" }":Ln.length===0?"["+String(Ce)+"]":"{ ["+String(Ce)+"] "+z.call(Ln,", ")+" }"}if(typeof Ce=="object"&&gn){if(fe&&typeof Ce[fe]=="function"&&De)return De(Ce,{depth:go-At});if(gn!=="symbol"&&typeof Ce.inspect=="function")return Ce.inspect()}if(W(Ce)){var Ke=[];return r&&r.call(Ce,function(Ls,ni){Ke.push(Cn(ni,Ce,!0)+" => "+Cn(Ls,Ce))}),ft("Map",n.call(Ce),Ke,rn)}if(se(Ce)){var ps=[];return u&&u.call(Ce,function(Ls){ps.push(Cn(Ls,Ce))}),ft("Set",c.call(Ce),ps,rn)}if(ee(Ce))return xt("WeakMap");if(xe(Ce))return xt("WeakSet");if(J(Ce))return xt("WeakRef");if(X(Ce))return Ze(Cn(Number(Ce)));if(R(Ce))return Ze(Cn(le.call(Ce)));if(B(Ce))return Ze(C.call(Ce));if(re(Ce))return Ze(Cn(String(Ce)));if(typeof window<"u"&&Ce===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Ce===globalThis||typeof pi<"u"&&Ce===pi)return"{ [object globalThis] }";if(!et(Ce)&&!st(Ce)){var yo=Pt(Ce,Cn),kn=de?de(Ce)===Object.prototype:Ce instanceof Object||Ce.constructor===Object,Zr=Ce instanceof Object?"":"null prototype",bo=!kn&&te&&Object(Ce)===Ce&&te in Ce?$.call(K(Ce),8,-1):Zr?"Object":"",ti=kn||typeof Ce.constructor!="function"?"":Ce.constructor.name?Ce.constructor.name+" ":"",Zn=ti+(bo||Zr?"["+z.call(L.call([],bo||[],Zr||[]),": ")+"] ":"");return yo.length===0?Zn+"{}":rn?Zn+"{"+Ue(yo,rn)+"}":Zn+"{ "+z.call(yo,", ")+" }"}return String(Ce)};function Ne(we,Ce,ht){var At=ht.quoteStyle||Ce,Ft=Pe[At];return Ft+we+Ft}function tt(we){return I.call(String(we),/"/g,"&quot;")}function Re(we){return!te||!(typeof we=="object"&&(te in we||typeof we[te]<"u"))}function Je(we){return K(we)==="[object Array]"&&Re(we)}function et(we){return K(we)==="[object Date]"&&Re(we)}function st(we){return K(we)==="[object RegExp]"&&Re(we)}function Te(we){return K(we)==="[object Error]"&&Re(we)}function re(we){return K(we)==="[object String]"&&Re(we)}function X(we){return K(we)==="[object Number]"&&Re(we)}function B(we){return K(we)==="[object Boolean]"&&Re(we)}function k(we){if(me)return we&&typeof we=="object"&&we instanceof Symbol;if(typeof we=="symbol")return!0;if(!we||typeof we!="object"||!ce)return!1;try{return ce.call(we),!0}catch{}return!1}function R(we){if(!we||typeof we!="object"||!le)return!1;try{return le.call(we),!0}catch{}return!1}var N=Object.prototype.hasOwnProperty||function(we){return we in this};function V(we,Ce){return N.call(we,Ce)}function K(we){return D.call(we)}function ue(we){if(we.name)return we.name;var Ce=M.call(_.call(we),/^function\s*([\w$]+)/);return Ce?Ce[1]:null}function ie(we,Ce){if(we.indexOf)return we.indexOf(Ce);for(var ht=0,At=we.length;ht<At;ht++)if(we[ht]===Ce)return ht;return-1}function W(we){if(!n||!we||typeof we!="object")return!1;try{n.call(we);try{c.call(we)}catch{return!0}return we instanceof Map}catch{}return!1}function ee(we){if(!f||!we||typeof we!="object")return!1;try{f.call(we,f);try{y.call(we,y)}catch{return!0}return we instanceof WeakMap}catch{}return!1}function J(we){if(!E||!we||typeof we!="object")return!1;try{return E.call(we),!0}catch{}return!1}function se(we){if(!c||!we||typeof we!="object")return!1;try{c.call(we);try{n.call(we)}catch{return!0}return we instanceof Set}catch{}return!1}function xe(we){if(!y||!we||typeof we!="object")return!1;try{y.call(we,y);try{f.call(we,f)}catch{return!0}return we instanceof WeakSet}catch{}return!1}function ge(we){return!we||typeof we!="object"?!1:typeof HTMLElement<"u"&&we instanceof HTMLElement?!0:typeof we.nodeName=="string"&&typeof we.getAttribute=="function"}function Me(we,Ce){if(we.length>Ce.maxStringLength){var ht=we.length-Ce.maxStringLength,At="... "+ht+" more character"+(ht>1?"s":"");return Me($.call(we,0,Ce.maxStringLength),Ce)+At}var Ft=Ge[Ce.quoteStyle||"single"];Ft.lastIndex=0;var Qe=I.call(I.call(we,Ft,"\\$1"),/[\x00-\x1f]/g,Xe);return Ne(Qe,"single",Ce)}function Xe(we){var Ce=we.charCodeAt(0),ht={8:"b",9:"t",10:"n",12:"f",13:"r"}[Ce];return ht?"\\"+ht:"\\x"+(Ce<16?"0":"")+S.call(Ce.toString(16))}function Ze(we){return"Object("+we+")"}function xt(we){return we+" { ? }"}function ft(we,Ce,ht,At){var Ft=At?Ue(ht,At):z.call(ht,", ");return we+" ("+Ce+") {"+Ft+"}"}function $t(we){for(var Ce=0;Ce<we.length;Ce++)if(ie(we[Ce],`
`)>=0)return!1;return!0}function rt(we,Ce){var ht;if(we.indent==="	")ht="	";else if(typeof we.indent=="number"&&we.indent>0)ht=z.call(Array(we.indent+1)," ");else return null;return{base:ht,prev:z.call(Array(Ce+1),ht)}}function Ue(we,Ce){if(we.length===0)return"";var ht=`
`+Ce.prev+Ce.base;return ht+z.call(we,","+ht)+`
`+Ce.prev}function Pt(we,Ce){var ht=Je(we),At=[];if(ht){At.length=we.length;for(var Ft=0;Ft<we.length;Ft++)At[Ft]=V(we,Ft)?Ce(we[Ft],we):""}var Qe=typeof Y=="function"?Y(we):[],gn;if(me){gn={};for(var Xr=0;Xr<Qe.length;Xr++)gn["$"+Qe[Xr]]=Qe[Xr]}for(var Nn in we)V(we,Nn)&&(ht&&String(Number(Nn))===Nn&&Nn<we.length||me&&gn["$"+Nn]instanceof Symbol||(j.call(/[^\w$]/,Nn)?At.push(Ce(Nn,we)+": "+Ce(we[Nn],we)):At.push(Nn+": "+Ce(we[Nn],we))));if(typeof Y=="function")for(var hn=0;hn<Qe.length;hn++)ne.call(we,Qe[hn])&&At.push("["+Ce(Qe[hn])+"]: "+Ce(we[Qe[hn]],we));return At}return kc}var Sc,v1;function o3(){if(v1)return Sc;v1=1;var e=L0(),t=$i(),n=function(u,g,f){for(var m=u,y;(y=m.next)!=null;m=y)if(y.key===g)return m.next=y.next,f||(y.next=u.next,u.next=y),y},r=function(u,g){if(u){var f=n(u,g);return f&&f.value}},i=function(u,g,f){var m=n(u,g);m?m.value=f:u.next={key:g,next:u.next,value:f}},a=function(u,g){return u?!!n(u,g):!1},c=function(u,g){if(u)return n(u,g,!0)};return Sc=function(){var g,f={assert:function(m){if(!f.has(m))throw new t("Side channel does not contain "+e(m))},delete:function(m){var y=g&&g.next,w=c(g,m);return w&&y&&y===w&&(g=void 0),!!w},get:function(m){return r(g,m)},has:function(m){return a(g,m)},set:function(m,y){g||(g={next:void 0}),i(g,m,y)}};return f},Sc}var Fc,E1;function _m(){return E1||(E1=1,Fc=Object),Fc}var Tc,w1;function i3(){return w1||(w1=1,Tc=Error),Tc}var Ic,C1;function a3(){return C1||(C1=1,Ic=EvalError),Ic}var Mc,A1;function l3(){return A1||(A1=1,Mc=RangeError),Mc}var Pc,B1;function c3(){return B1||(B1=1,Pc=ReferenceError),Pc}var Rc,_1;function d3(){return _1||(_1=1,Rc=SyntaxError),Rc}var Oc,D1;function u3(){return D1||(D1=1,Oc=URIError),Oc}var Nc,k1;function x3(){return k1||(k1=1,Nc=Math.abs),Nc}var Lc,S1;function f3(){return S1||(S1=1,Lc=Math.floor),Lc}var $c,F1;function h3(){return F1||(F1=1,$c=Math.max),$c}var jc,T1;function g3(){return T1||(T1=1,jc=Math.min),jc}var Uc,I1;function p3(){return I1||(I1=1,Uc=Math.pow),Uc}var Hc,M1;function m3(){return M1||(M1=1,Hc=Math.round),Hc}var zc,P1;function y3(){return P1||(P1=1,zc=Number.isNaN||function(t){return t!==t}),zc}var Vc,R1;function b3(){if(R1)return Vc;R1=1;var e=y3();return Vc=function(n){return e(n)||n===0?n:n<0?-1:1},Vc}var qc,O1;function v3(){return O1||(O1=1,qc=Object.getOwnPropertyDescriptor),qc}var Wc,N1;function Dm(){if(N1)return Wc;N1=1;var e=v3();if(e)try{e([],"length")}catch{e=null}return Wc=e,Wc}var Gc,L1;function E3(){if(L1)return Gc;L1=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return Gc=e,Gc}var Qc,$1;function w3(){return $1||($1=1,Qc=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;t[n]=i;for(var a in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var c=Object.getOwnPropertySymbols(t);if(c.length!==1||c[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(t,n);if(u.value!==i||u.enumerable!==!0)return!1}return!0}),Qc}var Kc,j1;function C3(){if(j1)return Kc;j1=1;var e=typeof Symbol<"u"&&Symbol,t=w3();return Kc=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},Kc}var Yc,U1;function km(){return U1||(U1=1,Yc=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Yc}var Xc,H1;function Sm(){if(H1)return Xc;H1=1;var e=_m();return Xc=e.getPrototypeOf||null,Xc}var Zc,z1;function A3(){if(z1)return Zc;z1=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,n=Math.max,r="[object Function]",i=function(g,f){for(var m=[],y=0;y<g.length;y+=1)m[y]=g[y];for(var w=0;w<f.length;w+=1)m[w+g.length]=f[w];return m},a=function(g,f){for(var m=[],y=f,w=0;y<g.length;y+=1,w+=1)m[w]=g[y];return m},c=function(u,g){for(var f="",m=0;m<u.length;m+=1)f+=u[m],m+1<u.length&&(f+=g);return f};return Zc=function(g){var f=this;if(typeof f!="function"||t.apply(f)!==r)throw new TypeError(e+f);for(var m=a(arguments,1),y,w=function(){if(this instanceof y){var M=f.apply(this,i(m,arguments));return Object(M)===M?M:this}return f.apply(g,i(m,arguments))},E=n(0,f.length-m.length),C=[],D=0;D<E;D++)C[D]="$"+D;if(y=Function("binder","return function ("+c(C,",")+"){ return binder.apply(this,arguments); }")(w),f.prototype){var _=function(){};_.prototype=f.prototype,y.prototype=new _,_.prototype=null}return y},Zc}var Jc,V1;function $0(){if(V1)return Jc;V1=1;var e=A3();return Jc=Function.prototype.bind||e,Jc}var ed,q1;function vx(){return q1||(q1=1,ed=Function.prototype.call),ed}var td,W1;function Fm(){return W1||(W1=1,td=Function.prototype.apply),td}var nd,G1;function B3(){return G1||(G1=1,nd=typeof Reflect<"u"&&Reflect&&Reflect.apply),nd}var rd,Q1;function _3(){if(Q1)return rd;Q1=1;var e=$0(),t=Fm(),n=vx(),r=B3();return rd=r||e.call(n,t),rd}var sd,K1;function Tm(){if(K1)return sd;K1=1;var e=$0(),t=$i(),n=vx(),r=_3();return sd=function(a){if(a.length<1||typeof a[0]!="function")throw new t("a function is required");return r(e,n,a)},sd}var od,Y1;function D3(){if(Y1)return od;Y1=1;var e=Tm(),t=Dm(),n;try{n=[].__proto__===Array.prototype}catch(c){if(!c||typeof c!="object"||!("code"in c)||c.code!=="ERR_PROTO_ACCESS")throw c}var r=!!n&&t&&t(Object.prototype,"__proto__"),i=Object,a=i.getPrototypeOf;return od=r&&typeof r.get=="function"?e([r.get]):typeof a=="function"?function(u){return a(u==null?u:i(u))}:!1,od}var id,X1;function k3(){if(X1)return id;X1=1;var e=km(),t=Sm(),n=D3();return id=e?function(i){return e(i)}:t?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return t(i)}:n?function(i){return n(i)}:null,id}var ad,Z1;function S3(){if(Z1)return ad;Z1=1;const e=(async function(){}).constructor;return ad=()=>e,ad}var ld,J1;function F3(){if(J1)return ld;J1=1;const e=(function*(){}).constructor;return ld=()=>e,ld}var cd,eh;function T3(){if(eh)return cd;eh=1;const e=(async function*(){}).constructor;return cd=()=>e,cd}var dd,th;function I3(){if(th)return dd;th=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,n=$0();return dd=n.call(e,t),dd}var ud,nh;function Ex(){if(nh)return ud;nh=1;var e,t=_m(),n=i3(),r=a3(),i=l3(),a=c3(),c=d3(),u=$i(),g=u3(),f=x3(),m=f3(),y=h3(),w=g3(),E=p3(),C=m3(),D=b3(),_=Dm(),M=E3(),$=function(){throw new u},I=_?(function(){try{return arguments.callee,$}catch{try{return _(arguments,"callee").get}catch{return $}}})():$,S=C3()(),T=k3(),j=Sm(),L=km(),z=Fm(),F=vx(),Q={},le=typeof Uint8Array>"u"||!T?e:T(Uint8Array),Y={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":S&&T?T([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":Q,"%AsyncGenerator%":Q,"%AsyncGeneratorFunction%":Q,"%AsyncIteratorPrototype%":Q,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":r,"%Float16Array%":typeof Float16Array>"u"?e:Float16Array,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":Function,"%GeneratorFunction%":Q,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":S&&T?T(T([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!S||!T?e:T(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":_,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":i,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!S||!T?e:T(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":S&&T?T(""[Symbol.iterator]()):e,"%Symbol%":S?Symbol:e,"%SyntaxError%":c,"%ThrowTypeError%":I,"%TypedArray%":le,"%TypeError%":u,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":g,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet,"%Function.prototype.call%":F,"%Function.prototype.apply%":z,"%Object.defineProperty%":M,"%Object.getPrototypeOf%":j,"%Math.abs%":f,"%Math.floor%":m,"%Math.max%":y,"%Math.min%":w,"%Math.pow%":E,"%Math.round%":C,"%Math.sign%":D,"%Reflect.getPrototypeOf%":L};if(T)try{null.error}catch(Te){var ce=T(T(Te));Y["%Error.prototype%"]=ce}var me=S3(),te=F3(),ne=T3(),de=function Te(re){var X;if(re==="%AsyncFunction%")X=me()||void 0;else if(re==="%GeneratorFunction%")X=te()||void 0;else if(re==="%AsyncGeneratorFunction%")X=ne()||void 0;else if(re==="%AsyncGenerator%"){var B=Te("%AsyncGeneratorFunction%");B&&(X=B.prototype)}else if(re==="%AsyncIteratorPrototype%"){var k=Te("%AsyncGenerator%");k&&T&&(X=T(k.prototype))}return Y[re]=X,X},be={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},De=$0(),Ie=I3(),fe=De.call(F,Array.prototype.concat),Pe=De.call(z,Array.prototype.splice),Ge=De.call(F,String.prototype.replace),Ne=De.call(F,String.prototype.slice),tt=De.call(F,RegExp.prototype.exec),Re=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Je=/\\(\\)?/g,et=function(re){var X=Ne(re,0,1),B=Ne(re,-1);if(X==="%"&&B!=="%")throw new c("invalid intrinsic syntax, expected closing `%`");if(B==="%"&&X!=="%")throw new c("invalid intrinsic syntax, expected opening `%`");var k=[];return Ge(re,Re,function(R,N,V,K){k[k.length]=V?Ge(K,Je,"$1"):N||R}),k},st=function(re,X){var B=re,k;if(Ie(be,B)&&(k=be[B],B="%"+k[0]+"%"),Ie(Y,B)){var R=Y[B];if(R===Q&&(R=de(B)),typeof R>"u"&&!X)throw new u("intrinsic "+re+" exists, but is not available. Please file an issue!");return{alias:k,name:B,value:R}}throw new c("intrinsic "+re+" does not exist!")};return ud=function(re,X){if(typeof re!="string"||re.length===0)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof X!="boolean")throw new u('"allowMissing" argument must be a boolean');if(tt(/^%?[^%]*%?$/,re)===null)throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var B=et(re),k=B.length>0?B[0]:"",R=st("%"+k+"%",X),N=R.name,V=R.value,K=!1,ue=R.alias;ue&&(k=ue[0],Pe(B,fe([0,1],ue)));for(var ie=1,W=!0;ie<B.length;ie+=1){var ee=B[ie],J=Ne(ee,0,1),se=Ne(ee,-1);if((J==='"'||J==="'"||J==="`"||se==='"'||se==="'"||se==="`")&&J!==se)throw new c("property names with quotes must have matching quotes");if((ee==="constructor"||!W)&&(K=!0),k+="."+ee,N="%"+k+"%",Ie(Y,N))V=Y[N];else if(V!=null){if(!(ee in V)){if(!X)throw new u("base intrinsic for "+re+" exists, but the property is not available.");return}if(_&&ie+1>=B.length){var xe=_(V,ee);W=!!xe,W&&"get"in xe&&!("originalValue"in xe.get)?V=xe.get:V=V[ee]}else W=Ie(V,ee),V=V[ee];W&&!K&&(Y[N]=V)}}return V},ud}var xd,rh;function Im(){if(rh)return xd;rh=1;var e=Ex(),t=Tm(),n=t([e("%String.prototype.indexOf%")]);return xd=function(i,a){var c=e(i,!!a);return typeof c=="function"&&n(i,".prototype.")>-1?t([c]):c},xd}var fd,sh;function Mm(){if(sh)return fd;sh=1;var e=Ex(),t=Im(),n=L0(),r=$i(),i=e("%Map%",!0),a=t("Map.prototype.get",!0),c=t("Map.prototype.set",!0),u=t("Map.prototype.has",!0),g=t("Map.prototype.delete",!0),f=t("Map.prototype.size",!0);return fd=!!i&&function(){var y,w={assert:function(E){if(!w.has(E))throw new r("Side channel does not contain "+n(E))},delete:function(E){if(y){var C=g(y,E);return f(y)===0&&(y=void 0),C}return!1},get:function(E){if(y)return a(y,E)},has:function(E){return y?u(y,E):!1},set:function(E,C){y||(y=new i),c(y,E,C)}};return w},fd}var hd,oh;function M3(){if(oh)return hd;oh=1;var e=Ex(),t=Im(),n=L0(),r=Mm(),i=$i(),a=e("%WeakMap%",!0),c=t("WeakMap.prototype.get",!0),u=t("WeakMap.prototype.set",!0),g=t("WeakMap.prototype.has",!0),f=t("WeakMap.prototype.delete",!0);return hd=a?function(){var y,w,E={assert:function(C){if(!E.has(C))throw new i("Side channel does not contain "+n(C))},delete:function(C){if(a&&C&&(typeof C=="object"||typeof C=="function")){if(y)return f(y,C)}else if(r&&w)return w.delete(C);return!1},get:function(C){return a&&C&&(typeof C=="object"||typeof C=="function")&&y?c(y,C):w&&w.get(C)},has:function(C){return a&&C&&(typeof C=="object"||typeof C=="function")&&y?g(y,C):!!w&&w.has(C)},set:function(C,D){a&&C&&(typeof C=="object"||typeof C=="function")?(y||(y=new a),u(y,C,D)):r&&(w||(w=r()),w.set(C,D))}};return E}:r,hd}var gd,ih;function P3(){if(ih)return gd;ih=1;var e=$i(),t=L0(),n=o3(),r=Mm(),i=M3(),a=i||r||n;return gd=function(){var u,g={assert:function(f){if(!g.has(f))throw new e("Side channel does not contain "+t(f))},delete:function(f){return!!u&&u.delete(f)},get:function(f){return u&&u.get(f)},has:function(f){return!!u&&u.has(f)},set:function(f,m){u||(u=a()),u.set(f,m)}};return g},gd}var pd,ah;function wx(){if(ah)return pd;ah=1;var e=String.prototype.replace,t=/%20/g,n={RFC1738:"RFC1738",RFC3986:"RFC3986"};return pd={default:n.RFC3986,formatters:{RFC1738:function(r){return e.call(r,t,"+")},RFC3986:function(r){return String(r)}},RFC1738:n.RFC1738,RFC3986:n.RFC3986},pd}var md,lh;function Pm(){if(lh)return md;lh=1;var e=wx(),t=Object.prototype.hasOwnProperty,n=Array.isArray,r=(function(){for(var _=[],M=0;M<256;++M)_.push("%"+((M<16?"0":"")+M.toString(16)).toUpperCase());return _})(),i=function(M){for(;M.length>1;){var $=M.pop(),I=$.obj[$.prop];if(n(I)){for(var S=[],T=0;T<I.length;++T)typeof I[T]<"u"&&S.push(I[T]);$.obj[$.prop]=S}}},a=function(M,$){for(var I=$&&$.plainObjects?{__proto__:null}:{},S=0;S<M.length;++S)typeof M[S]<"u"&&(I[S]=M[S]);return I},c=function _(M,$,I){if(!$)return M;if(typeof $!="object"&&typeof $!="function"){if(n(M))M.push($);else if(M&&typeof M=="object")(I&&(I.plainObjects||I.allowPrototypes)||!t.call(Object.prototype,$))&&(M[$]=!0);else return[M,$];return M}if(!M||typeof M!="object")return[M].concat($);var S=M;return n(M)&&!n($)&&(S=a(M,I)),n(M)&&n($)?($.forEach(function(T,j){if(t.call(M,j)){var L=M[j];L&&typeof L=="object"&&T&&typeof T=="object"?M[j]=_(L,T,I):M.push(T)}else M[j]=T}),M):Object.keys($).reduce(function(T,j){var L=$[j];return t.call(T,j)?T[j]=_(T[j],L,I):T[j]=L,T},S)},u=function(M,$){return Object.keys($).reduce(function(I,S){return I[S]=$[S],I},M)},g=function(_,M,$){var I=_.replace(/\+/g," ");if($==="iso-8859-1")return I.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(I)}catch{return I}},f=1024,m=function(M,$,I,S,T){if(M.length===0)return M;var j=M;if(typeof M=="symbol"?j=Symbol.prototype.toString.call(M):typeof M!="string"&&(j=String(M)),I==="iso-8859-1")return escape(j).replace(/%u[0-9a-f]{4}/gi,function(ce){return"%26%23"+parseInt(ce.slice(2),16)+"%3B"});for(var L="",z=0;z<j.length;z+=f){for(var F=j.length>=f?j.slice(z,z+f):j,Q=[],le=0;le<F.length;++le){var Y=F.charCodeAt(le);if(Y===45||Y===46||Y===95||Y===126||Y>=48&&Y<=57||Y>=65&&Y<=90||Y>=97&&Y<=122||T===e.RFC1738&&(Y===40||Y===41)){Q[Q.length]=F.charAt(le);continue}if(Y<128){Q[Q.length]=r[Y];continue}if(Y<2048){Q[Q.length]=r[192|Y>>6]+r[128|Y&63];continue}if(Y<55296||Y>=57344){Q[Q.length]=r[224|Y>>12]+r[128|Y>>6&63]+r[128|Y&63];continue}le+=1,Y=65536+((Y&1023)<<10|F.charCodeAt(le)&1023),Q[Q.length]=r[240|Y>>18]+r[128|Y>>12&63]+r[128|Y>>6&63]+r[128|Y&63]}L+=Q.join("")}return L},y=function(M){for(var $=[{obj:{o:M},prop:"o"}],I=[],S=0;S<$.length;++S)for(var T=$[S],j=T.obj[T.prop],L=Object.keys(j),z=0;z<L.length;++z){var F=L[z],Q=j[F];typeof Q=="object"&&Q!==null&&I.indexOf(Q)===-1&&($.push({obj:j,prop:F}),I.push(Q))}return i($),M},w=function(M){return Object.prototype.toString.call(M)==="[object RegExp]"},E=function(M){return!M||typeof M!="object"?!1:!!(M.constructor&&M.constructor.isBuffer&&M.constructor.isBuffer(M))},C=function(M,$){return[].concat(M,$)},D=function(M,$){if(n(M)){for(var I=[],S=0;S<M.length;S+=1)I.push($(M[S]));return I}return $(M)};return md={arrayToObject:a,assign:u,combine:C,compact:y,decode:g,encode:m,isBuffer:E,isRegExp:w,maybeMap:D,merge:c},md}var yd,ch;function R3(){if(ch)return yd;ch=1;var e=P3(),t=Pm(),n=wx(),r=Object.prototype.hasOwnProperty,i={brackets:function(_){return _+"[]"},comma:"comma",indices:function(_,M){return _+"["+M+"]"},repeat:function(_){return _}},a=Array.isArray,c=Array.prototype.push,u=function(D,_){c.apply(D,a(_)?_:[_])},g=Date.prototype.toISOString,f=n.default,m={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:t.encode,encodeValuesOnly:!1,filter:void 0,format:f,formatter:n.formatters[f],indices:!1,serializeDate:function(_){return g.call(_)},skipNulls:!1,strictNullHandling:!1},y=function(_){return typeof _=="string"||typeof _=="number"||typeof _=="boolean"||typeof _=="symbol"||typeof _=="bigint"},w={},E=function D(_,M,$,I,S,T,j,L,z,F,Q,le,Y,ce,me,te,ne,de){for(var be=_,De=de,Ie=0,fe=!1;(De=De.get(w))!==void 0&&!fe;){var Pe=De.get(_);if(Ie+=1,typeof Pe<"u"){if(Pe===Ie)throw new RangeError("Cyclic object value");fe=!0}typeof De.get(w)>"u"&&(Ie=0)}if(typeof F=="function"?be=F(M,be):be instanceof Date?be=Y(be):$==="comma"&&a(be)&&(be=t.maybeMap(be,function(R){return R instanceof Date?Y(R):R})),be===null){if(T)return z&&!te?z(M,m.encoder,ne,"key",ce):M;be=""}if(y(be)||t.isBuffer(be)){if(z){var Ge=te?M:z(M,m.encoder,ne,"key",ce);return[me(Ge)+"="+me(z(be,m.encoder,ne,"value",ce))]}return[me(M)+"="+me(String(be))]}var Ne=[];if(typeof be>"u")return Ne;var tt;if($==="comma"&&a(be))te&&z&&(be=t.maybeMap(be,z)),tt=[{value:be.length>0?be.join(",")||null:void 0}];else if(a(F))tt=F;else{var Re=Object.keys(be);tt=Q?Re.sort(Q):Re}var Je=L?String(M).replace(/\./g,"%2E"):String(M),et=I&&a(be)&&be.length===1?Je+"[]":Je;if(S&&a(be)&&be.length===0)return et+"[]";for(var st=0;st<tt.length;++st){var Te=tt[st],re=typeof Te=="object"&&Te&&typeof Te.value<"u"?Te.value:be[Te];if(!(j&&re===null)){var X=le&&L?String(Te).replace(/\./g,"%2E"):String(Te),B=a(be)?typeof $=="function"?$(et,X):et:et+(le?"."+X:"["+X+"]");de.set(_,Ie);var k=e();k.set(w,de),u(Ne,D(re,B,$,I,S,T,j,L,$==="comma"&&te&&a(be)?null:z,F,Q,le,Y,ce,me,te,ne,k))}}return Ne},C=function(_){if(!_)return m;if(typeof _.allowEmptyArrays<"u"&&typeof _.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof _.encodeDotInKeys<"u"&&typeof _.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(_.encoder!==null&&typeof _.encoder<"u"&&typeof _.encoder!="function")throw new TypeError("Encoder has to be a function.");var M=_.charset||m.charset;if(typeof _.charset<"u"&&_.charset!=="utf-8"&&_.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var $=n.default;if(typeof _.format<"u"){if(!r.call(n.formatters,_.format))throw new TypeError("Unknown format option provided.");$=_.format}var I=n.formatters[$],S=m.filter;(typeof _.filter=="function"||a(_.filter))&&(S=_.filter);var T;if(_.arrayFormat in i?T=_.arrayFormat:"indices"in _?T=_.indices?"indices":"repeat":T=m.arrayFormat,"commaRoundTrip"in _&&typeof _.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var j=typeof _.allowDots>"u"?_.encodeDotInKeys===!0?!0:m.allowDots:!!_.allowDots;return{addQueryPrefix:typeof _.addQueryPrefix=="boolean"?_.addQueryPrefix:m.addQueryPrefix,allowDots:j,allowEmptyArrays:typeof _.allowEmptyArrays=="boolean"?!!_.allowEmptyArrays:m.allowEmptyArrays,arrayFormat:T,charset:M,charsetSentinel:typeof _.charsetSentinel=="boolean"?_.charsetSentinel:m.charsetSentinel,commaRoundTrip:!!_.commaRoundTrip,delimiter:typeof _.delimiter>"u"?m.delimiter:_.delimiter,encode:typeof _.encode=="boolean"?_.encode:m.encode,encodeDotInKeys:typeof _.encodeDotInKeys=="boolean"?_.encodeDotInKeys:m.encodeDotInKeys,encoder:typeof _.encoder=="function"?_.encoder:m.encoder,encodeValuesOnly:typeof _.encodeValuesOnly=="boolean"?_.encodeValuesOnly:m.encodeValuesOnly,filter:S,format:$,formatter:I,serializeDate:typeof _.serializeDate=="function"?_.serializeDate:m.serializeDate,skipNulls:typeof _.skipNulls=="boolean"?_.skipNulls:m.skipNulls,sort:typeof _.sort=="function"?_.sort:null,strictNullHandling:typeof _.strictNullHandling=="boolean"?_.strictNullHandling:m.strictNullHandling}};return yd=function(D,_){var M=D,$=C(_),I,S;typeof $.filter=="function"?(S=$.filter,M=S("",M)):a($.filter)&&(S=$.filter,I=S);var T=[];if(typeof M!="object"||M===null)return"";var j=i[$.arrayFormat],L=j==="comma"&&$.commaRoundTrip;I||(I=Object.keys(M)),$.sort&&I.sort($.sort);for(var z=e(),F=0;F<I.length;++F){var Q=I[F],le=M[Q];$.skipNulls&&le===null||u(T,E(le,Q,j,L,$.allowEmptyArrays,$.strictNullHandling,$.skipNulls,$.encodeDotInKeys,$.encode?$.encoder:null,$.filter,$.sort,$.allowDots,$.serializeDate,$.format,$.formatter,$.encodeValuesOnly,$.charset,z))}var Y=T.join($.delimiter),ce=$.addQueryPrefix===!0?"?":"";return $.charsetSentinel&&($.charset==="iso-8859-1"?ce+="utf8=%26%2310003%3B&":ce+="utf8=%E2%9C%93&"),Y.length>0?ce+Y:""},yd}var bd,dh;function O3(){if(dh)return bd;dh=1;var e=Pm(),t=Object.prototype.hasOwnProperty,n=Array.isArray,r={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:e.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},i=function(w){return w.replace(/&#(\d+);/g,function(E,C){return String.fromCharCode(parseInt(C,10))})},a=function(w,E,C){if(w&&typeof w=="string"&&E.comma&&w.indexOf(",")>-1)return w.split(",");if(E.throwOnLimitExceeded&&C>=E.arrayLimit)throw new RangeError("Array limit exceeded. Only "+E.arrayLimit+" element"+(E.arrayLimit===1?"":"s")+" allowed in an array.");return w},c="utf8=%26%2310003%3B",u="utf8=%E2%9C%93",g=function(E,C){var D={__proto__:null},_=C.ignoreQueryPrefix?E.replace(/^\?/,""):E;_=_.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var M=C.parameterLimit===1/0?void 0:C.parameterLimit,$=_.split(C.delimiter,C.throwOnLimitExceeded?M+1:M);if(C.throwOnLimitExceeded&&$.length>M)throw new RangeError("Parameter limit exceeded. Only "+M+" parameter"+(M===1?"":"s")+" allowed.");var I=-1,S,T=C.charset;if(C.charsetSentinel)for(S=0;S<$.length;++S)$[S].indexOf("utf8=")===0&&($[S]===u?T="utf-8":$[S]===c&&(T="iso-8859-1"),I=S,S=$.length);for(S=0;S<$.length;++S)if(S!==I){var j=$[S],L=j.indexOf("]="),z=L===-1?j.indexOf("="):L+1,F,Q;z===-1?(F=C.decoder(j,r.decoder,T,"key"),Q=C.strictNullHandling?null:""):(F=C.decoder(j.slice(0,z),r.decoder,T,"key"),Q=e.maybeMap(a(j.slice(z+1),C,n(D[F])?D[F].length:0),function(Y){return C.decoder(Y,r.decoder,T,"value")})),Q&&C.interpretNumericEntities&&T==="iso-8859-1"&&(Q=i(String(Q))),j.indexOf("[]=")>-1&&(Q=n(Q)?[Q]:Q);var le=t.call(D,F);le&&C.duplicates==="combine"?D[F]=e.combine(D[F],Q):(!le||C.duplicates==="last")&&(D[F]=Q)}return D},f=function(w,E,C,D){var _=0;if(w.length>0&&w[w.length-1]==="[]"){var M=w.slice(0,-1).join("");_=Array.isArray(E)&&E[M]?E[M].length:0}for(var $=D?E:a(E,C,_),I=w.length-1;I>=0;--I){var S,T=w[I];if(T==="[]"&&C.parseArrays)S=C.allowEmptyArrays&&($===""||C.strictNullHandling&&$===null)?[]:e.combine([],$);else{S=C.plainObjects?{__proto__:null}:{};var j=T.charAt(0)==="["&&T.charAt(T.length-1)==="]"?T.slice(1,-1):T,L=C.decodeDotInKeys?j.replace(/%2E/g,"."):j,z=parseInt(L,10);!C.parseArrays&&L===""?S={0:$}:!isNaN(z)&&T!==L&&String(z)===L&&z>=0&&C.parseArrays&&z<=C.arrayLimit?(S=[],S[z]=$):L!=="__proto__"&&(S[L]=$)}$=S}return $},m=function(E,C,D,_){if(E){var M=D.allowDots?E.replace(/\.([^.[]+)/g,"[$1]"):E,$=/(\[[^[\]]*])/,I=/(\[[^[\]]*])/g,S=D.depth>0&&$.exec(M),T=S?M.slice(0,S.index):M,j=[];if(T){if(!D.plainObjects&&t.call(Object.prototype,T)&&!D.allowPrototypes)return;j.push(T)}for(var L=0;D.depth>0&&(S=I.exec(M))!==null&&L<D.depth;){if(L+=1,!D.plainObjects&&t.call(Object.prototype,S[1].slice(1,-1))&&!D.allowPrototypes)return;j.push(S[1])}if(S){if(D.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+D.depth+" and strictDepth is true");j.push("["+M.slice(S.index)+"]")}return f(j,C,D,_)}},y=function(E){if(!E)return r;if(typeof E.allowEmptyArrays<"u"&&typeof E.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof E.decodeDotInKeys<"u"&&typeof E.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(E.decoder!==null&&typeof E.decoder<"u"&&typeof E.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof E.charset<"u"&&E.charset!=="utf-8"&&E.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof E.throwOnLimitExceeded<"u"&&typeof E.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var C=typeof E.charset>"u"?r.charset:E.charset,D=typeof E.duplicates>"u"?r.duplicates:E.duplicates;if(D!=="combine"&&D!=="first"&&D!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var _=typeof E.allowDots>"u"?E.decodeDotInKeys===!0?!0:r.allowDots:!!E.allowDots;return{allowDots:_,allowEmptyArrays:typeof E.allowEmptyArrays=="boolean"?!!E.allowEmptyArrays:r.allowEmptyArrays,allowPrototypes:typeof E.allowPrototypes=="boolean"?E.allowPrototypes:r.allowPrototypes,allowSparse:typeof E.allowSparse=="boolean"?E.allowSparse:r.allowSparse,arrayLimit:typeof E.arrayLimit=="number"?E.arrayLimit:r.arrayLimit,charset:C,charsetSentinel:typeof E.charsetSentinel=="boolean"?E.charsetSentinel:r.charsetSentinel,comma:typeof E.comma=="boolean"?E.comma:r.comma,decodeDotInKeys:typeof E.decodeDotInKeys=="boolean"?E.decodeDotInKeys:r.decodeDotInKeys,decoder:typeof E.decoder=="function"?E.decoder:r.decoder,delimiter:typeof E.delimiter=="string"||e.isRegExp(E.delimiter)?E.delimiter:r.delimiter,depth:typeof E.depth=="number"||E.depth===!1?+E.depth:r.depth,duplicates:D,ignoreQueryPrefix:E.ignoreQueryPrefix===!0,interpretNumericEntities:typeof E.interpretNumericEntities=="boolean"?E.interpretNumericEntities:r.interpretNumericEntities,parameterLimit:typeof E.parameterLimit=="number"?E.parameterLimit:r.parameterLimit,parseArrays:E.parseArrays!==!1,plainObjects:typeof E.plainObjects=="boolean"?E.plainObjects:r.plainObjects,strictDepth:typeof E.strictDepth=="boolean"?!!E.strictDepth:r.strictDepth,strictNullHandling:typeof E.strictNullHandling=="boolean"?E.strictNullHandling:r.strictNullHandling,throwOnLimitExceeded:typeof E.throwOnLimitExceeded=="boolean"?E.throwOnLimitExceeded:!1}};return bd=function(w,E){var C=y(E);if(w===""||w===null||typeof w>"u")return C.plainObjects?{__proto__:null}:{};for(var D=typeof w=="string"?g(w,C):w,_=C.plainObjects?{__proto__:null}:{},M=Object.keys(D),$=0;$<M.length;++$){var I=M[$],S=m(I,D[I],C,typeof w=="string");_=e.merge(_,S,C)}return C.allowSparse===!0?_:e.compact(_)},bd}var vd,uh;function N3(){if(uh)return vd;uh=1;var e=R3(),t=O3(),n=wx();return vd={formats:n,parse:t,stringify:e},vd}var xh=N3();function Rm(e,t){return function(){return e.apply(t,arguments)}}const{toString:L3}=Object.prototype,{getPrototypeOf:Cx}=Object,{iterator:j0,toStringTag:Om}=Symbol,U0=(e=>t=>{const n=L3.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Yr=e=>(e=e.toLowerCase(),t=>U0(t)===e),H0=e=>t=>typeof t===e,{isArray:ji}=Array,Ti=H0("undefined");function Xa(e){return e!==null&&!Ti(e)&&e.constructor!==null&&!Ti(e.constructor)&&cr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Nm=Yr("ArrayBuffer");function $3(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Nm(e.buffer),t}const j3=H0("string"),cr=H0("function"),Lm=H0("number"),Za=e=>e!==null&&typeof e=="object",U3=e=>e===!0||e===!1,Vl=e=>{if(U0(e)!=="object")return!1;const t=Cx(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Om in e)&&!(j0 in e)},H3=e=>{if(!Za(e)||Xa(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},z3=Yr("Date"),V3=Yr("File"),q3=Yr("Blob"),W3=Yr("FileList"),G3=e=>Za(e)&&cr(e.pipe),Q3=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||cr(e.append)&&((t=U0(e))==="formdata"||t==="object"&&cr(e.toString)&&e.toString()==="[object FormData]"))},K3=Yr("URLSearchParams"),[Y3,X3,Z3,J3]=["ReadableStream","Request","Response","Headers"].map(Yr),ew=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ja(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),ji(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{if(Xa(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),c=a.length;let u;for(r=0;r<c;r++)u=a[r],t.call(null,e[u],u,e)}}function $m(e,t){if(Xa(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const Mo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,jm=e=>!Ti(e)&&e!==Mo;function _u(){const{caseless:e,skipUndefined:t}=jm(this)&&this||{},n={},r=(i,a)=>{const c=e&&$m(n,a)||a;Vl(n[c])&&Vl(i)?n[c]=_u(n[c],i):Vl(i)?n[c]=_u({},i):ji(i)?n[c]=i.slice():(!t||!Ti(i))&&(n[c]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Ja(arguments[i],r);return n}const tw=(e,t,n,{allOwnKeys:r}={})=>(Ja(t,(i,a)=>{n&&cr(i)?e[a]=Rm(i,n):e[a]=i},{allOwnKeys:r}),e),nw=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),rw=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},sw=(e,t,n,r)=>{let i,a,c;const u={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)c=i[a],(!r||r(c,e,t))&&!u[c]&&(t[c]=e[c],u[c]=!0);e=n!==!1&&Cx(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},ow=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},iw=e=>{if(!e)return null;if(ji(e))return e;let t=e.length;if(!Lm(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},aw=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Cx(Uint8Array)),lw=(e,t)=>{const r=(e&&e[j0]).call(e);let i;for(;(i=r.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},cw=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},dw=Yr("HTMLFormElement"),uw=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),fh=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),xw=Yr("RegExp"),Um=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ja(n,(i,a)=>{let c;(c=t(i,a,e))!==!1&&(r[a]=c||i)}),Object.defineProperties(e,r)},fw=e=>{Um(e,(t,n)=>{if(cr(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(cr(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},hw=(e,t)=>{const n={},r=i=>{i.forEach(a=>{n[a]=!0})};return ji(e)?r(e):r(String(e).split(t)),n},gw=()=>{},pw=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function mw(e){return!!(e&&cr(e.append)&&e[Om]==="FormData"&&e[j0])}const yw=e=>{const t=new Array(10),n=(r,i)=>{if(Za(r)){if(t.indexOf(r)>=0)return;if(Xa(r))return r;if(!("toJSON"in r)){t[i]=r;const a=ji(r)?[]:{};return Ja(r,(c,u)=>{const g=n(c,i+1);!Ti(g)&&(a[u]=g)}),t[i]=void 0,a}}return r};return n(e,0)},bw=Yr("AsyncFunction"),vw=e=>e&&(Za(e)||cr(e))&&cr(e.then)&&cr(e.catch),Hm=((e,t)=>e?setImmediate:t?((n,r)=>(Mo.addEventListener("message",({source:i,data:a})=>{i===Mo&&a===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Mo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",cr(Mo.postMessage)),Ew=typeof queueMicrotask<"u"?queueMicrotask.bind(Mo):typeof process<"u"&&process.nextTick||Hm,ww=e=>e!=null&&cr(e[j0]),Se={isArray:ji,isArrayBuffer:Nm,isBuffer:Xa,isFormData:Q3,isArrayBufferView:$3,isString:j3,isNumber:Lm,isBoolean:U3,isObject:Za,isPlainObject:Vl,isEmptyObject:H3,isReadableStream:Y3,isRequest:X3,isResponse:Z3,isHeaders:J3,isUndefined:Ti,isDate:z3,isFile:V3,isBlob:q3,isRegExp:xw,isFunction:cr,isStream:G3,isURLSearchParams:K3,isTypedArray:aw,isFileList:W3,forEach:Ja,merge:_u,extend:tw,trim:ew,stripBOM:nw,inherits:rw,toFlatObject:sw,kindOf:U0,kindOfTest:Yr,endsWith:ow,toArray:iw,forEachEntry:lw,matchAll:cw,isHTMLForm:dw,hasOwnProperty:fh,hasOwnProp:fh,reduceDescriptors:Um,freezeMethods:fw,toObjectSet:hw,toCamelCase:uw,noop:gw,toFiniteNumber:pw,findKey:$m,global:Mo,isContextDefined:jm,isSpecCompliantForm:mw,toJSONObject:yw,isAsyncFn:bw,isThenable:vw,setImmediate:Hm,asap:Ew,isIterable:ww};function yt(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Se.inherits(yt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Se.toJSONObject(this.config),code:this.code,status:this.status}}});const zm=yt.prototype,Vm={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Vm[e]={value:e}});Object.defineProperties(yt,Vm);Object.defineProperty(zm,"isAxiosError",{value:!0});yt.from=(e,t,n,r,i,a)=>{const c=Object.create(zm);Se.toFlatObject(e,c,function(m){return m!==Error.prototype},f=>f!=="isAxiosError");const u=e&&e.message?e.message:"Error",g=t==null&&e?e.code:t;return yt.call(c,u,g,n,r,i),e&&c.cause==null&&Object.defineProperty(c,"cause",{value:e,configurable:!0}),c.name=e&&e.name||"Error",a&&Object.assign(c,a),c};const Cw=null;function Du(e){return Se.isPlainObject(e)||Se.isArray(e)}function qm(e){return Se.endsWith(e,"[]")?e.slice(0,-2):e}function hh(e,t,n){return e?e.concat(t).map(function(i,a){return i=qm(i),!n&&a?"["+i+"]":i}).join(n?".":""):t}function Aw(e){return Se.isArray(e)&&!e.some(Du)}const Bw=Se.toFlatObject(Se,{},null,function(t){return/^is[A-Z]/.test(t)});function z0(e,t,n){if(!Se.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Se.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(D,_){return!Se.isUndefined(_[D])});const r=n.metaTokens,i=n.visitor||m,a=n.dots,c=n.indexes,g=(n.Blob||typeof Blob<"u"&&Blob)&&Se.isSpecCompliantForm(t);if(!Se.isFunction(i))throw new TypeError("visitor must be a function");function f(C){if(C===null)return"";if(Se.isDate(C))return C.toISOString();if(Se.isBoolean(C))return C.toString();if(!g&&Se.isBlob(C))throw new yt("Blob is not supported. Use a Buffer instead.");return Se.isArrayBuffer(C)||Se.isTypedArray(C)?g&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function m(C,D,_){let M=C;if(C&&!_&&typeof C=="object"){if(Se.endsWith(D,"{}"))D=r?D:D.slice(0,-2),C=JSON.stringify(C);else if(Se.isArray(C)&&Aw(C)||(Se.isFileList(C)||Se.endsWith(D,"[]"))&&(M=Se.toArray(C)))return D=qm(D),M.forEach(function(I,S){!(Se.isUndefined(I)||I===null)&&t.append(c===!0?hh([D],S,a):c===null?D:D+"[]",f(I))}),!1}return Du(C)?!0:(t.append(hh(_,D,a),f(C)),!1)}const y=[],w=Object.assign(Bw,{defaultVisitor:m,convertValue:f,isVisitable:Du});function E(C,D){if(!Se.isUndefined(C)){if(y.indexOf(C)!==-1)throw Error("Circular reference detected in "+D.join("."));y.push(C),Se.forEach(C,function(M,$){(!(Se.isUndefined(M)||M===null)&&i.call(t,M,Se.isString($)?$.trim():$,D,w))===!0&&E(M,D?D.concat($):[$])}),y.pop()}}if(!Se.isObject(e))throw new TypeError("data must be an object");return E(e),t}function gh(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Ax(e,t){this._pairs=[],e&&z0(e,this,t)}const Wm=Ax.prototype;Wm.append=function(t,n){this._pairs.push([t,n])};Wm.toString=function(t){const n=t?function(r){return t.call(this,r,gh)}:gh;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function _w(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Gm(e,t,n){if(!t)return e;const r=n&&n.encode||_w;Se.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(t,n):a=Se.isURLSearchParams(t)?t.toString():new Ax(t,n).toString(r),a){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class ph{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Se.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Qm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Dw=typeof URLSearchParams<"u"?URLSearchParams:Ax,kw=typeof FormData<"u"?FormData:null,Sw=typeof Blob<"u"?Blob:null,Fw={isBrowser:!0,classes:{URLSearchParams:Dw,FormData:kw,Blob:Sw},protocols:["http","https","file","blob","url","data"]},Bx=typeof window<"u"&&typeof document<"u",ku=typeof navigator=="object"&&navigator||void 0,Tw=Bx&&(!ku||["ReactNative","NativeScript","NS"].indexOf(ku.product)<0),Iw=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Mw=Bx&&window.location.href||"http://localhost",Pw=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Bx,hasStandardBrowserEnv:Tw,hasStandardBrowserWebWorkerEnv:Iw,navigator:ku,origin:Mw},Symbol.toStringTag,{value:"Module"})),zn={...Pw,...Fw};function Rw(e,t){return z0(e,new zn.classes.URLSearchParams,{visitor:function(n,r,i,a){return zn.isNode&&Se.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function Ow(e){return Se.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Nw(e){const t={},n=Object.keys(e);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],t[a]=e[a];return t}function Km(e){function t(n,r,i,a){let c=n[a++];if(c==="__proto__")return!0;const u=Number.isFinite(+c),g=a>=n.length;return c=!c&&Se.isArray(i)?i.length:c,g?(Se.hasOwnProp(i,c)?i[c]=[i[c],r]:i[c]=r,!u):((!i[c]||!Se.isObject(i[c]))&&(i[c]=[]),t(n,r,i[c],a)&&Se.isArray(i[c])&&(i[c]=Nw(i[c])),!u)}if(Se.isFormData(e)&&Se.isFunction(e.entries)){const n={};return Se.forEachEntry(e,(r,i)=>{t(Ow(r),i,n,0)}),n}return null}function Lw(e,t,n){if(Se.isString(e))try{return(t||JSON.parse)(e),Se.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const el={transitional:Qm,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,a=Se.isObject(t);if(a&&Se.isHTMLForm(t)&&(t=new FormData(t)),Se.isFormData(t))return i?JSON.stringify(Km(t)):t;if(Se.isArrayBuffer(t)||Se.isBuffer(t)||Se.isStream(t)||Se.isFile(t)||Se.isBlob(t)||Se.isReadableStream(t))return t;if(Se.isArrayBufferView(t))return t.buffer;if(Se.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Rw(t,this.formSerializer).toString();if((u=Se.isFileList(t))||r.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return z0(u?{"files[]":t}:t,g&&new g,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),Lw(t)):t}],transformResponse:[function(t){const n=this.transitional||el.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Se.isResponse(t)||Se.isReadableStream(t))return t;if(t&&Se.isString(t)&&(r&&!this.responseType||i)){const c=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(u){if(c)throw u.name==="SyntaxError"?yt.from(u,yt.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zn.classes.FormData,Blob:zn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Se.forEach(["delete","get","head","post","put","patch"],e=>{el.headers[e]={}});const $w=Se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jw=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(c){i=c.indexOf(":"),n=c.substring(0,i).trim().toLowerCase(),r=c.substring(i+1).trim(),!(!n||t[n]&&$w[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},mh=Symbol("internals");function na(e){return e&&String(e).trim().toLowerCase()}function ql(e){return e===!1||e==null?e:Se.isArray(e)?e.map(ql):String(e)}function Uw(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Hw=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ed(e,t,n,r,i){if(Se.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!Se.isString(t)){if(Se.isString(r))return t.indexOf(r)!==-1;if(Se.isRegExp(r))return r.test(t)}}function zw(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Vw(e,t){const n=Se.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,a,c){return this[r].call(this,t,i,a,c)},configurable:!0})})}let dr=class{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function a(u,g,f){const m=na(g);if(!m)throw new Error("header name must be a non-empty string");const y=Se.findKey(i,m);(!y||i[y]===void 0||f===!0||f===void 0&&i[y]!==!1)&&(i[y||g]=ql(u))}const c=(u,g)=>Se.forEach(u,(f,m)=>a(f,m,g));if(Se.isPlainObject(t)||t instanceof this.constructor)c(t,n);else if(Se.isString(t)&&(t=t.trim())&&!Hw(t))c(jw(t),n);else if(Se.isObject(t)&&Se.isIterable(t)){let u={},g,f;for(const m of t){if(!Se.isArray(m))throw TypeError("Object iterator must return a key-value pair");u[f=m[0]]=(g=u[f])?Se.isArray(g)?[...g,m[1]]:[g,m[1]]:m[1]}c(u,n)}else t!=null&&a(n,t,r);return this}get(t,n){if(t=na(t),t){const r=Se.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return Uw(i);if(Se.isFunction(n))return n.call(this,i,r);if(Se.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=na(t),t){const r=Se.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Ed(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function a(c){if(c=na(c),c){const u=Se.findKey(r,c);u&&(!n||Ed(r,r[u],u,n))&&(delete r[u],i=!0)}}return Se.isArray(t)?t.forEach(a):a(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const a=n[r];(!t||Ed(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const n=this,r={};return Se.forEach(this,(i,a)=>{const c=Se.findKey(r,a);if(c){n[c]=ql(i),delete n[a];return}const u=t?zw(a):String(a).trim();u!==a&&delete n[a],n[u]=ql(i),r[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Se.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&Se.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[mh]=this[mh]={accessors:{}}).accessors,i=this.prototype;function a(c){const u=na(c);r[u]||(Vw(i,c),r[u]=!0)}return Se.isArray(t)?t.forEach(a):a(t),this}};dr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Se.reduceDescriptors(dr.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});Se.freezeMethods(dr);function wd(e,t){const n=this||el,r=t||n,i=dr.from(r.headers);let a=r.data;return Se.forEach(e,function(u){a=u.call(n,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function Ym(e){return!!(e&&e.__CANCEL__)}function Ui(e,t,n){yt.call(this,e??"canceled",yt.ERR_CANCELED,t,n),this.name="CanceledError"}Se.inherits(Ui,yt,{__CANCEL__:!0});function Xm(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new yt("Request failed with status code "+n.status,[yt.ERR_BAD_REQUEST,yt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function qw(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Ww(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,a=0,c;return t=t!==void 0?t:1e3,function(g){const f=Date.now(),m=r[a];c||(c=f),n[i]=g,r[i]=f;let y=a,w=0;for(;y!==i;)w+=n[y++],y=y%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),f-c<t)return;const E=m&&f-m;return E?Math.round(w*1e3/E):void 0}}function Gw(e,t){let n=0,r=1e3/t,i,a;const c=(f,m=Date.now())=>{n=m,i=null,a&&(clearTimeout(a),a=null),e(...f)};return[(...f)=>{const m=Date.now(),y=m-n;y>=r?c(f,m):(i=f,a||(a=setTimeout(()=>{a=null,c(i)},r-y)))},()=>i&&c(i)]}const f0=(e,t,n=3)=>{let r=0;const i=Ww(50,250);return Gw(a=>{const c=a.loaded,u=a.lengthComputable?a.total:void 0,g=c-r,f=i(g),m=c<=u;r=c;const y={loaded:c,total:u,progress:u?c/u:void 0,bytes:g,rate:f||void 0,estimated:f&&u&&m?(u-c)/f:void 0,event:a,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(y)},n)},yh=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},bh=e=>(...t)=>Se.asap(()=>e(...t)),Qw=zn.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,zn.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(zn.origin),zn.navigator&&/(msie|trident)/i.test(zn.navigator.userAgent)):()=>!0,Kw=zn.hasStandardBrowserEnv?{write(e,t,n,r,i,a){const c=[e+"="+encodeURIComponent(t)];Se.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),Se.isString(r)&&c.push("path="+r),Se.isString(i)&&c.push("domain="+i),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Yw(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Xw(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Zm(e,t,n){let r=!Yw(t);return e&&(r||n==!1)?Xw(e,t):t}const vh=e=>e instanceof dr?{...e}:e;function Go(e,t){t=t||{};const n={};function r(f,m,y,w){return Se.isPlainObject(f)&&Se.isPlainObject(m)?Se.merge.call({caseless:w},f,m):Se.isPlainObject(m)?Se.merge({},m):Se.isArray(m)?m.slice():m}function i(f,m,y,w){if(Se.isUndefined(m)){if(!Se.isUndefined(f))return r(void 0,f,y,w)}else return r(f,m,y,w)}function a(f,m){if(!Se.isUndefined(m))return r(void 0,m)}function c(f,m){if(Se.isUndefined(m)){if(!Se.isUndefined(f))return r(void 0,f)}else return r(void 0,m)}function u(f,m,y){if(y in t)return r(f,m);if(y in e)return r(void 0,f)}const g={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u,headers:(f,m,y)=>i(vh(f),vh(m),y,!0)};return Se.forEach(Object.keys({...e,...t}),function(m){const y=g[m]||i,w=y(e[m],t[m],m);Se.isUndefined(w)&&y!==u||(n[m]=w)}),n}const Jm=e=>{const t=Go({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:c,auth:u}=t;if(t.headers=c=dr.from(c),t.url=Gm(Zm(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&c.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),Se.isFormData(n)){if(zn.hasStandardBrowserEnv||zn.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(Se.isFunction(n.getHeaders)){const g=n.getHeaders(),f=["content-type","content-length"];Object.entries(g).forEach(([m,y])=>{f.includes(m.toLowerCase())&&c.set(m,y)})}}if(zn.hasStandardBrowserEnv&&(r&&Se.isFunction(r)&&(r=r(t)),r||r!==!1&&Qw(t.url))){const g=i&&a&&Kw.read(a);g&&c.set(i,g)}return t},Zw=typeof XMLHttpRequest<"u",Jw=Zw&&function(e){return new Promise(function(n,r){const i=Jm(e);let a=i.data;const c=dr.from(i.headers).normalize();let{responseType:u,onUploadProgress:g,onDownloadProgress:f}=i,m,y,w,E,C;function D(){E&&E(),C&&C(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let _=new XMLHttpRequest;_.open(i.method.toUpperCase(),i.url,!0),_.timeout=i.timeout;function M(){if(!_)return;const I=dr.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),T={data:!u||u==="text"||u==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:I,config:e,request:_};Xm(function(L){n(L),D()},function(L){r(L),D()},T),_=null}"onloadend"in _?_.onloadend=M:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(M)},_.onabort=function(){_&&(r(new yt("Request aborted",yt.ECONNABORTED,e,_)),_=null)},_.onerror=function(S){const T=S&&S.message?S.message:"Network Error",j=new yt(T,yt.ERR_NETWORK,e,_);j.event=S||null,r(j),_=null},_.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const T=i.transitional||Qm;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),r(new yt(S,T.clarifyTimeoutError?yt.ETIMEDOUT:yt.ECONNABORTED,e,_)),_=null},a===void 0&&c.setContentType(null),"setRequestHeader"in _&&Se.forEach(c.toJSON(),function(S,T){_.setRequestHeader(T,S)}),Se.isUndefined(i.withCredentials)||(_.withCredentials=!!i.withCredentials),u&&u!=="json"&&(_.responseType=i.responseType),f&&([w,C]=f0(f,!0),_.addEventListener("progress",w)),g&&_.upload&&([y,E]=f0(g),_.upload.addEventListener("progress",y),_.upload.addEventListener("loadend",E)),(i.cancelToken||i.signal)&&(m=I=>{_&&(r(!I||I.type?new Ui(null,e,_):I),_.abort(),_=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const $=qw(i.url);if($&&zn.protocols.indexOf($)===-1){r(new yt("Unsupported protocol "+$+":",yt.ERR_BAD_REQUEST,e));return}_.send(a||null)})},eC=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const a=function(f){if(!i){i=!0,u();const m=f instanceof Error?f:this.reason;r.abort(m instanceof yt?m:new Ui(m instanceof Error?m.message:m))}};let c=t&&setTimeout(()=>{c=null,a(new yt(`timeout ${t} of ms exceeded`,yt.ETIMEDOUT))},t);const u=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(a):f.removeEventListener("abort",a)}),e=null)};e.forEach(f=>f.addEventListener("abort",a));const{signal:g}=r;return g.unsubscribe=()=>Se.asap(u),g}},tC=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},nC=async function*(e,t){for await(const n of rC(e))yield*tC(n,t)},rC=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Eh=(e,t,n,r)=>{const i=nC(e,t);let a=0,c,u=g=>{c||(c=!0,r&&r(g))};return new ReadableStream({async pull(g){try{const{done:f,value:m}=await i.next();if(f){u(),g.close();return}let y=m.byteLength;if(n){let w=a+=y;n(w)}g.enqueue(new Uint8Array(m))}catch(f){throw u(f),f}},cancel(g){return u(g),i.return()}},{highWaterMark:2})},wh=64*1024,{isFunction:El}=Se,sC=(({Request:e,Response:t})=>({Request:e,Response:t}))(Se.global),{ReadableStream:Ch,TextEncoder:Ah}=Se.global,Bh=(e,...t)=>{try{return!!e(...t)}catch{return!1}},oC=e=>{e=Se.merge.call({skipUndefined:!0},sC,e);const{fetch:t,Request:n,Response:r}=e,i=t?El(t):typeof fetch=="function",a=El(n),c=El(r);if(!i)return!1;const u=i&&El(Ch),g=i&&(typeof Ah=="function"?(C=>D=>C.encode(D))(new Ah):async C=>new Uint8Array(await new n(C).arrayBuffer())),f=a&&u&&Bh(()=>{let C=!1;const D=new n(zn.origin,{body:new Ch,method:"POST",get duplex(){return C=!0,"half"}}).headers.has("Content-Type");return C&&!D}),m=c&&u&&Bh(()=>Se.isReadableStream(new r("").body)),y={stream:m&&(C=>C.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(C=>{!y[C]&&(y[C]=(D,_)=>{let M=D&&D[C];if(M)return M.call(D);throw new yt(`Response type '${C}' is not supported`,yt.ERR_NOT_SUPPORT,_)})});const w=async C=>{if(C==null)return 0;if(Se.isBlob(C))return C.size;if(Se.isSpecCompliantForm(C))return(await new n(zn.origin,{method:"POST",body:C}).arrayBuffer()).byteLength;if(Se.isArrayBufferView(C)||Se.isArrayBuffer(C))return C.byteLength;if(Se.isURLSearchParams(C)&&(C=C+""),Se.isString(C))return(await g(C)).byteLength},E=async(C,D)=>{const _=Se.toFiniteNumber(C.getContentLength());return _??w(D)};return async C=>{let{url:D,method:_,data:M,signal:$,cancelToken:I,timeout:S,onDownloadProgress:T,onUploadProgress:j,responseType:L,headers:z,withCredentials:F="same-origin",fetchOptions:Q}=Jm(C),le=t||fetch;L=L?(L+"").toLowerCase():"text";let Y=eC([$,I&&I.toAbortSignal()],S),ce=null;const me=Y&&Y.unsubscribe&&(()=>{Y.unsubscribe()});let te;try{if(j&&f&&_!=="get"&&_!=="head"&&(te=await E(z,M))!==0){let fe=new n(D,{method:"POST",body:M,duplex:"half"}),Pe;if(Se.isFormData(M)&&(Pe=fe.headers.get("content-type"))&&z.setContentType(Pe),fe.body){const[Ge,Ne]=yh(te,f0(bh(j)));M=Eh(fe.body,wh,Ge,Ne)}}Se.isString(F)||(F=F?"include":"omit");const ne=a&&"credentials"in n.prototype,de={...Q,signal:Y,method:_.toUpperCase(),headers:z.normalize().toJSON(),body:M,duplex:"half",credentials:ne?F:void 0};ce=a&&new n(D,de);let be=await(a?le(ce,Q):le(D,de));const De=m&&(L==="stream"||L==="response");if(m&&(T||De&&me)){const fe={};["status","statusText","headers"].forEach(tt=>{fe[tt]=be[tt]});const Pe=Se.toFiniteNumber(be.headers.get("content-length")),[Ge,Ne]=T&&yh(Pe,f0(bh(T),!0))||[];be=new r(Eh(be.body,wh,Ge,()=>{Ne&&Ne(),me&&me()}),fe)}L=L||"text";let Ie=await y[Se.findKey(y,L)||"text"](be,C);return!De&&me&&me(),await new Promise((fe,Pe)=>{Xm(fe,Pe,{data:Ie,headers:dr.from(be.headers),status:be.status,statusText:be.statusText,config:C,request:ce})})}catch(ne){throw me&&me(),ne&&ne.name==="TypeError"&&/Load failed|fetch/i.test(ne.message)?Object.assign(new yt("Network Error",yt.ERR_NETWORK,C,ce),{cause:ne.cause||ne}):yt.from(ne,ne&&ne.code,C,ce)}}},iC=new Map,ey=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:i}=t,a=[r,i,n];let c=a.length,u=c,g,f,m=iC;for(;u--;)g=a[u],f=m.get(g),f===void 0&&m.set(g,f=u?new Map:oC(t)),m=f;return f};ey();const Su={http:Cw,xhr:Jw,fetch:{get:ey}};Se.forEach(Su,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const _h=e=>`- ${e}`,aC=e=>Se.isFunction(e)||e===null||e===!1,ty={getAdapter:(e,t)=>{e=Se.isArray(e)?e:[e];const{length:n}=e;let r,i;const a={};for(let c=0;c<n;c++){r=e[c];let u;if(i=r,!aC(r)&&(i=Su[(u=String(r)).toLowerCase()],i===void 0))throw new yt(`Unknown adapter '${u}'`);if(i&&(Se.isFunction(i)||(i=i.get(t))))break;a[u||"#"+c]=i}if(!i){const c=Object.entries(a).map(([g,f])=>`adapter ${g} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=n?c.length>1?`since :
`+c.map(_h).join(`
`):" "+_h(c[0]):"as no adapter specified";throw new yt("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i},adapters:Su};function Cd(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ui(null,e)}function Dh(e){return Cd(e),e.headers=dr.from(e.headers),e.data=wd.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ty.getAdapter(e.adapter||el.adapter,e)(e).then(function(r){return Cd(e),r.data=wd.call(e,e.transformResponse,r),r.headers=dr.from(r.headers),r},function(r){return Ym(r)||(Cd(e),r&&r.response&&(r.response.data=wd.call(e,e.transformResponse,r.response),r.response.headers=dr.from(r.response.headers))),Promise.reject(r)})}const ny="1.12.2",V0={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{V0[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const kh={};V0.transitional=function(t,n,r){function i(a,c){return"[Axios v"+ny+"] Transitional option '"+a+"'"+c+(r?". "+r:"")}return(a,c,u)=>{if(t===!1)throw new yt(i(c," has been removed"+(n?" in "+n:"")),yt.ERR_DEPRECATED);return n&&!kh[c]&&(kh[c]=!0,console.warn(i(c," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,c,u):!0}};V0.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function lC(e,t,n){if(typeof e!="object")throw new yt("options must be an object",yt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],c=t[a];if(c){const u=e[a],g=u===void 0||c(u,a,e);if(g!==!0)throw new yt("option "+a+" must be "+g,yt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new yt("Unknown option "+a,yt.ERR_BAD_OPTION)}}const Wl={assertOptions:lC,validators:V0},ns=Wl.validators;let jo=class{constructor(t){this.defaults=t||{},this.interceptors={request:new ph,response:new ph}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Go(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:a}=n;r!==void 0&&Wl.assertOptions(r,{silentJSONParsing:ns.transitional(ns.boolean),forcedJSONParsing:ns.transitional(ns.boolean),clarifyTimeoutError:ns.transitional(ns.boolean)},!1),i!=null&&(Se.isFunction(i)?n.paramsSerializer={serialize:i}:Wl.assertOptions(i,{encode:ns.function,serialize:ns.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Wl.assertOptions(n,{baseUrl:ns.spelling("baseURL"),withXsrfToken:ns.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=a&&Se.merge(a.common,a[n.method]);a&&Se.forEach(["delete","get","head","post","put","patch","common"],C=>{delete a[C]}),n.headers=dr.concat(c,a);const u=[];let g=!0;this.interceptors.request.forEach(function(D){typeof D.runWhen=="function"&&D.runWhen(n)===!1||(g=g&&D.synchronous,u.unshift(D.fulfilled,D.rejected))});const f=[];this.interceptors.response.forEach(function(D){f.push(D.fulfilled,D.rejected)});let m,y=0,w;if(!g){const C=[Dh.bind(this),void 0];for(C.unshift(...u),C.push(...f),w=C.length,m=Promise.resolve(n);y<w;)m=m.then(C[y++],C[y++]);return m}w=u.length;let E=n;for(;y<w;){const C=u[y++],D=u[y++];try{E=C(E)}catch(_){D.call(this,_);break}}try{m=Dh.call(this,E)}catch(C){return Promise.reject(C)}for(y=0,w=f.length;y<w;)m=m.then(f[y++],f[y++]);return m}getUri(t){t=Go(this.defaults,t);const n=Zm(t.baseURL,t.url,t.allowAbsoluteUrls);return Gm(n,t.params,t.paramsSerializer)}};Se.forEach(["delete","get","head","options"],function(t){jo.prototype[t]=function(n,r){return this.request(Go(r||{},{method:t,url:n,data:(r||{}).data}))}});Se.forEach(["post","put","patch"],function(t){function n(r){return function(a,c,u){return this.request(Go(u||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}jo.prototype[t]=n(),jo.prototype[t+"Form"]=n(!0)});let cC=class ry{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const c=new Promise(u=>{r.subscribe(u),a=u}).then(i);return c.cancel=function(){r.unsubscribe(a)},c},t(function(a,c,u){r.reason||(r.reason=new Ui(a,c,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new ry(function(i){t=i}),cancel:t}}};function dC(e){return function(n){return e.apply(null,n)}}function uC(e){return Se.isObject(e)&&e.isAxiosError===!0}const Fu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Fu).forEach(([e,t])=>{Fu[t]=e});function sy(e){const t=new jo(e),n=Rm(jo.prototype.request,t);return Se.extend(n,jo.prototype,t,{allOwnKeys:!0}),Se.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return sy(Go(e,i))},n}const St=sy(el);St.Axios=jo;St.CanceledError=Ui;St.CancelToken=cC;St.isCancel=Ym;St.VERSION=ny;St.toFormData=z0;St.AxiosError=yt;St.Cancel=St.CanceledError;St.all=function(t){return Promise.all(t)};St.spread=dC;St.isAxiosError=uC;St.mergeConfig=Go;St.AxiosHeaders=dr;St.formToJSON=e=>Km(Se.isHTMLForm(e)?new FormData(e):e);St.getAdapter=ty.getAdapter;St.HttpStatusCode=Fu;St.default=St;const{Axios:fse,AxiosError:hse,CanceledError:gse,isCancel:pse,CancelToken:mse,VERSION:yse,all:bse,Cancel:vse,isAxiosError:Ese,spread:wse,toFormData:Cse,AxiosHeaders:Ase,HttpStatusCode:Bse,formToJSON:_se,getAdapter:Dse,mergeConfig:kse}=St;function Tu(e,t){let n;return function(...r){clearTimeout(n),n=setTimeout(()=>e.apply(this,r),t)}}function $r(e,t){return document.dispatchEvent(new CustomEvent(`inertia:${e}`,t))}var Sh=e=>$r("before",{cancelable:!0,detail:{visit:e}}),xC=e=>$r("error",{detail:{errors:e}}),fC=e=>$r("exception",{cancelable:!0,detail:{exception:e}}),hC=e=>$r("finish",{detail:{visit:e}}),gC=e=>$r("invalid",{cancelable:!0,detail:{response:e}}),pC=e=>$r("beforeUpdate",{detail:{page:e}}),wa=e=>$r("navigate",{detail:{page:e}}),mC=e=>$r("progress",{detail:{progress:e}}),yC=e=>$r("start",{detail:{visit:e}}),bC=e=>$r("success",{detail:{page:e}}),vC=(e,t)=>$r("prefetched",{detail:{fetchedAt:Date.now(),response:e.data,visit:t}}),EC=e=>$r("prefetching",{detail:{visit:e}}),Xn=class{static set(e,t){typeof window<"u"&&window.sessionStorage.setItem(e,JSON.stringify(t))}static get(e){if(typeof window<"u")return JSON.parse(window.sessionStorage.getItem(e)||"null")}static merge(e,t){const n=this.get(e);n===null?this.set(e,t):this.set(e,{...n,...t})}static remove(e){typeof window<"u"&&window.sessionStorage.removeItem(e)}static removeNested(e,t){const n=this.get(e);n!==null&&(delete n[t],this.set(e,n))}static exists(e){try{return this.get(e)!==null}catch{return!1}}static clear(){typeof window<"u"&&window.sessionStorage.clear()}};Xn.locationVisitKey="inertiaLocationVisit";var wC=async e=>{if(typeof window>"u")throw new Error("Unable to encrypt history");const t=oy(),n=await iy(),r=await kC(n);if(!r)throw new Error("Unable to encrypt history");return await AC(t,r,e)},Ii={key:"historyKey",iv:"historyIv"},CC=async e=>{const t=oy(),n=await iy();if(!n)throw new Error("Unable to decrypt history");return await BC(t,n,e)},AC=async(e,t,n)=>{if(typeof window>"u")throw new Error("Unable to encrypt history");if(typeof window.crypto.subtle>"u")return console.warn("Encryption is not supported in this environment. SSL is required."),Promise.resolve(n);const r=new TextEncoder,i=JSON.stringify(n),a=new Uint8Array(i.length*3),c=r.encodeInto(i,a);return window.crypto.subtle.encrypt({name:"AES-GCM",iv:e},t,a.subarray(0,c.written))},BC=async(e,t,n)=>{if(typeof window.crypto.subtle>"u")return console.warn("Decryption is not supported in this environment. SSL is required."),Promise.resolve(n);const r=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,n);return JSON.parse(new TextDecoder().decode(r))},oy=()=>{const e=Xn.get(Ii.iv);if(e)return new Uint8Array(e);const t=window.crypto.getRandomValues(new Uint8Array(12));return Xn.set(Ii.iv,Array.from(t)),t},_C=async()=>typeof window.crypto.subtle>"u"?(console.warn("Encryption is not supported in this environment. SSL is required."),Promise.resolve(null)):window.crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]),DC=async e=>{if(typeof window.crypto.subtle>"u")return console.warn("Encryption is not supported in this environment. SSL is required."),Promise.resolve();const t=await window.crypto.subtle.exportKey("raw",e);Xn.set(Ii.key,Array.from(new Uint8Array(t)))},kC=async e=>{if(e)return e;const t=await _C();return t?(await DC(t),t):null},iy=async()=>{const e=Xn.get(Ii.key);return e?await window.crypto.subtle.importKey("raw",new Uint8Array(e),{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]):null},Wr=class{static save(){It.saveScrollPositions(Array.from(this.regions()).map(e=>({top:e.scrollTop,left:e.scrollLeft})))}static regions(){return document.querySelectorAll("[scroll-region]")}static reset(){const e=typeof window<"u"?window.location.hash:null;e||window.scrollTo(0,0),this.regions().forEach(t=>{typeof t.scrollTo=="function"?t.scrollTo(0,0):(t.scrollTop=0,t.scrollLeft=0)}),this.save(),e&&setTimeout(()=>{const t=document.getElementById(e.slice(1));t?t.scrollIntoView():window.scrollTo(0,0)})}static restore(e){this.restoreDocument(),this.regions().forEach((t,n)=>{const r=e[n];r&&(typeof t.scrollTo=="function"?t.scrollTo(r.left,r.top):(t.scrollTop=r.top,t.scrollLeft=r.left))})}static restoreDocument(){const e=It.getDocumentScrollPosition();typeof window<"u"&&window.scrollTo(e.left,e.top)}static onScroll(e){const t=e.target;typeof t.hasAttribute=="function"&&t.hasAttribute("scroll-region")&&this.save()}static onWindowScroll(){It.saveDocumentScrollPosition({top:window.scrollY,left:window.scrollX})}};function Iu(e){return e instanceof File||e instanceof Blob||e instanceof FileList&&e.length>0||e instanceof FormData&&Array.from(e.values()).some(t=>Iu(t))||typeof e=="object"&&e!==null&&Object.values(e).some(t=>Iu(t))}var Mu=e=>e instanceof FormData;function ay(e,t=new FormData,n=null){e=e||{};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&cy(t,ly(n,r),e[r]);return t}function ly(e,t){return e?e+"["+t+"]":t}function cy(e,t,n){if(Array.isArray(n))return Array.from(n.keys()).forEach(r=>cy(e,ly(t,r.toString()),n[r]));if(n instanceof Date)return e.append(t,n.toISOString());if(n instanceof File)return e.append(t,n,n.name);if(n instanceof Blob)return e.append(t,n);if(typeof n=="boolean")return e.append(t,n?"1":"0");if(typeof n=="string")return e.append(t,n);if(typeof n=="number")return e.append(t,`${n}`);if(n==null)return e.append(t,"");ay(n,e,t)}function Xs(e){return new URL(e.toString(),typeof window>"u"?void 0:window.location.toString())}var SC=(e,t,n,r,i)=>{let a=typeof e=="string"?Xs(e):e;if((Iu(t)||r)&&!Mu(t)&&(t=ay(t)),Mu(t))return[a,t];const[c,u]=dy(n,a,t,i);return[Xs(c),u]};function dy(e,t,n,r="brackets"){const i=e==="get"&&!Mu(n)&&Object.keys(n).length>0,a=/^[a-z][a-z0-9+.-]*:\/\//i.test(t.toString()),c=a||t.toString().startsWith("/")||t.toString()==="",u=!c&&!t.toString().startsWith("#")&&!t.toString().startsWith("?"),g=/^[.]{1,2}([/]|$)/.test(t.toString()),f=t.toString().includes("?")||i,m=t.toString().includes("#"),y=new URL(t.toString(),typeof window>"u"?"http://localhost":window.location.toString());if(i){const w={ignoreQueryPrefix:!0,parseArrays:!1};y.search=xh.stringify({...xh.parse(y.search,w),...n},{encodeValuesOnly:!0,arrayFormat:r})}return[[a?`${y.protocol}//${y.host}`:"",c?y.pathname:"",u?y.pathname.substring(g?0:1):"",f?y.search:"",m?y.hash:""].join(""),i?{}:n]}function h0(e){return e=new URL(e.href),e.hash="",e}var Fh=(e,t)=>{e.hash&&!t.hash&&h0(e).href===t.href&&(t.hash=e.hash)},Pu=(e,t)=>h0(e).href===h0(t).href;function g0(e){return e!==null&&typeof e=="object"&&e!==void 0&&"url"in e&&"method"in e}var FC=class{constructor(){this.componentId={},this.listeners=[],this.isFirstPageLoad=!0,this.cleared=!1,this.pendingDeferredProps=null}init({initialPage:e,swapComponent:t,resolveComponent:n}){return this.page=e,this.swapComponent=t,this.resolveComponent=n,this}set(e,{replace:t=!1,preserveScroll:n=!1,preserveState:r=!1}={}){Object.keys(e.deferredProps||{}).length&&(this.pendingDeferredProps={deferredProps:e.deferredProps,component:e.component,url:e.url}),this.componentId={};const i=this.componentId;return e.clearHistory&&It.clear(),this.resolve(e.component).then(a=>{if(i!==this.componentId)return;e.rememberedState??(e.rememberedState={});const c=typeof window<"u"?window.location:new URL(e.url);return t=t||Pu(Xs(e.url),c),new Promise(u=>{t?It.replaceState(e,()=>u(null)):It.pushState(e,()=>u(null))}).then(()=>{const u=!this.isTheSame(e);return this.page=e,this.cleared=!1,u&&this.fireEventsFor("newComponent"),this.isFirstPageLoad&&this.fireEventsFor("firstLoad"),this.isFirstPageLoad=!1,this.swap({component:a,page:e,preserveState:r}).then(()=>{n||Wr.reset(),this.pendingDeferredProps&&this.pendingDeferredProps.component===e.component&&this.pendingDeferredProps.url===e.url&&Po.fireInternalEvent("loadDeferredProps",this.pendingDeferredProps.deferredProps),this.pendingDeferredProps=null,t||wa(e)})})})}setQuietly(e,{preserveState:t=!1}={}){return this.resolve(e.component).then(n=>(this.page=e,this.cleared=!1,It.setCurrent(e),this.swap({component:n,page:e,preserveState:t})))}clear(){this.cleared=!0}isCleared(){return this.cleared}get(){return this.page}merge(e){this.page={...this.page,...e}}setUrlHash(e){this.page.url.includes(e)||(this.page.url+=e)}remember(e){this.page.rememberedState=e}swap({component:e,page:t,preserveState:n}){return this.swapComponent({component:e,page:t,preserveState:n})}resolve(e){return Promise.resolve(this.resolveComponent(e))}isTheSame(e){return this.page.component===e.component}on(e,t){return this.listeners.push({event:e,callback:t}),()=>{this.listeners=this.listeners.filter(n=>n.event!==e&&n.callback!==t)}}fireEventsFor(e){this.listeners.filter(t=>t.event===e).forEach(t=>t.callback())}},ut=new FC,uy=class{constructor(){this.items=[],this.processingPromise=null}add(e){return this.items.push(e),this.process()}process(){return this.processingPromise??(this.processingPromise=this.processNext().finally(()=>{this.processingPromise=null})),this.processingPromise}processNext(){const e=this.items.shift();return e?Promise.resolve(e()).then(()=>this.processNext()):Promise.resolve()}},ua=typeof window>"u",ra=new uy,Th=!ua&&/CriOS/.test(window.navigator.userAgent),TC=class{constructor(){this.rememberedState="rememberedState",this.scrollRegions="scrollRegions",this.preserveUrl=!1,this.current={},this.initialState=null}remember(e,t){this.replaceState({...ut.get(),rememberedState:{...ut.get()?.rememberedState??{},[t]:e}})}restore(e){if(!ua)return this.current[this.rememberedState]?this.current[this.rememberedState]?.[e]:this.initialState?.[this.rememberedState]?.[e]}pushState(e,t=null){if(!ua){if(this.preserveUrl){t&&t();return}this.current=e,ra.add(()=>this.getPageData(e).then(n=>{const r=()=>{this.doPushState({page:n},e.url),t&&t()};Th?setTimeout(r):r()}))}}getPageData(e){return new Promise(t=>e.encryptHistory?wC(e).then(t):t(e))}processQueue(){return ra.process()}decrypt(e=null){if(ua)return Promise.resolve(e??ut.get());const t=e??window.history.state?.page;return this.decryptPageData(t).then(n=>{if(!n)throw new Error("Unable to decrypt history");return this.initialState===null?this.initialState=n??void 0:this.current=n??{},n})}decryptPageData(e){return e instanceof ArrayBuffer?CC(e):Promise.resolve(e)}saveScrollPositions(e){ra.add(()=>Promise.resolve().then(()=>{window.history.state?.page&&this.doReplaceState({page:window.history.state.page,scrollRegions:e})}))}saveDocumentScrollPosition(e){ra.add(()=>Promise.resolve().then(()=>{window.history.state?.page&&this.doReplaceState({page:window.history.state.page,documentScrollPosition:e})}))}getScrollRegions(){return window.history.state?.scrollRegions||[]}getDocumentScrollPosition(){return window.history.state?.documentScrollPosition||{top:0,left:0}}replaceState(e,t=null){if(ut.merge(e),!ua){if(this.preserveUrl){t&&t();return}this.current=e,ra.add(()=>this.getPageData(e).then(n=>{const r=()=>{this.doReplaceState({page:n},e.url),t&&t()};Th?setTimeout(r):r()}))}}doReplaceState(e,t){window.history.replaceState({...e,scrollRegions:e.scrollRegions??window.history.state?.scrollRegions,documentScrollPosition:e.documentScrollPosition??window.history.state?.documentScrollPosition},"",t)}doPushState(e,t){window.history.pushState(e,"",t)}getState(e,t){return this.current?.[e]??t}deleteState(e){this.current[e]!==void 0&&(delete this.current[e],this.replaceState(this.current))}clearInitialState(e){this.initialState&&this.initialState[e]!==void 0&&delete this.initialState[e]}hasAnyState(){return!!this.getAllState()}clear(){Xn.remove(Ii.key),Xn.remove(Ii.iv)}setCurrent(e){this.current=e}isValidState(e){return!!e.page}getAllState(){return this.current}};typeof window<"u"&&window.history.scrollRestoration&&(window.history.scrollRestoration="manual");var It=new TC,IC=class{constructor(){this.internalListeners=[]}init(){typeof window<"u"&&(window.addEventListener("popstate",this.handlePopstateEvent.bind(this)),window.addEventListener("scroll",Tu(Wr.onWindowScroll.bind(Wr),100),!0)),typeof document<"u"&&document.addEventListener("scroll",Tu(Wr.onScroll.bind(Wr),100),!0)}onGlobalEvent(e,t){const n=(r=>{const i=t(r);r.cancelable&&!r.defaultPrevented&&i===!1&&r.preventDefault()});return this.registerListener(`inertia:${e}`,n)}on(e,t){return this.internalListeners.push({event:e,listener:t}),()=>{this.internalListeners=this.internalListeners.filter(n=>n.listener!==t)}}onMissingHistoryItem(){ut.clear(),this.fireInternalEvent("missingHistoryItem")}fireInternalEvent(e,...t){this.internalListeners.filter(n=>n.event===e).forEach(n=>n.listener(...t))}registerListener(e,t){return document.addEventListener(e,t),()=>document.removeEventListener(e,t)}handlePopstateEvent(e){const t=e.state||null;if(t===null){const n=Xs(ut.get().url);n.hash=window.location.hash,It.replaceState({...ut.get(),url:n.href}),Wr.reset();return}if(!It.isValidState(t))return this.onMissingHistoryItem();It.decrypt(t.page).then(n=>{if(ut.get().version!==n.version){this.onMissingHistoryItem();return}gt.cancelAll(),ut.setQuietly(n,{preserveState:!1}).then(()=>{window.requestAnimationFrame(()=>{Wr.restore(It.getScrollRegions())}),wa(ut.get())})}).catch(()=>{this.onMissingHistoryItem()})}},Po=new IC,MC=class{constructor(){this.type=this.resolveType()}resolveType(){return typeof window>"u"?"navigate":window.performance&&window.performance.getEntriesByType&&window.performance.getEntriesByType("navigation").length>0?window.performance.getEntriesByType("navigation")[0].type:"navigate"}get(){return this.type}isBackForward(){return this.type==="back_forward"}isReload(){return this.type==="reload"}},Ad=new MC,PC=class{static handle(){this.clearRememberedStateOnReload(),[this.handleBackForward,this.handleLocation,this.handleDefault].find(t=>t.bind(this)())}static clearRememberedStateOnReload(){Ad.isReload()&&(It.deleteState(It.rememberedState),It.clearInitialState(It.rememberedState))}static handleBackForward(){if(!Ad.isBackForward()||!It.hasAnyState())return!1;const e=It.getScrollRegions();return It.decrypt().then(t=>{ut.set(t,{preserveScroll:!0,preserveState:!0}).then(()=>{Wr.restore(e),wa(ut.get())})}).catch(()=>{Po.onMissingHistoryItem()}),!0}static handleLocation(){if(!Xn.exists(Xn.locationVisitKey))return!1;const e=Xn.get(Xn.locationVisitKey)||{};return Xn.remove(Xn.locationVisitKey),typeof window<"u"&&ut.setUrlHash(window.location.hash),It.decrypt(ut.get()).then(()=>{const t=It.getState(It.rememberedState,{}),n=It.getScrollRegions();ut.remember(t),ut.set(ut.get(),{preserveScroll:e.preserveScroll,preserveState:!0}).then(()=>{e.preserveScroll&&Wr.restore(n),wa(ut.get())})}).catch(()=>{Po.onMissingHistoryItem()}),!0}static handleDefault(){typeof window<"u"&&ut.setUrlHash(window.location.hash),ut.set(ut.get(),{preserveScroll:!0,preserveState:!0}).then(()=>{Ad.isReload()&&Wr.restore(It.getScrollRegions()),wa(ut.get())})}},RC=class{constructor(e,t,n){this.id=null,this.throttle=!1,this.keepAlive=!1,this.cbCount=0,this.keepAlive=n.keepAlive??!1,this.cb=t,this.interval=e,(n.autoStart??!0)&&this.start()}stop(){this.id&&clearInterval(this.id)}start(){typeof window>"u"||(this.stop(),this.id=window.setInterval(()=>{(!this.throttle||this.cbCount%10===0)&&this.cb(),this.throttle&&this.cbCount++},this.interval))}isInBackground(e){this.throttle=this.keepAlive?!1:e,this.throttle&&(this.cbCount=0)}},OC=class{constructor(){this.polls=[],this.setupVisibilityListener()}add(e,t,n){const r=new RC(e,t,n);return this.polls.push(r),{stop:()=>r.stop(),start:()=>r.start()}}clear(){this.polls.forEach(e=>e.stop()),this.polls=[]}setupVisibilityListener(){typeof document>"u"||document.addEventListener("visibilitychange",()=>{this.polls.forEach(e=>e.isInBackground(document.hidden))},!1)}},NC=new OC,xy=(e,t,n)=>{if(e===t)return!0;for(const r in e)if(!n.includes(r)&&e[r]!==t[r]&&!LC(e[r],t[r]))return!1;return!0},LC=(e,t)=>{switch(typeof e){case"object":return xy(e,t,[]);case"function":return e.toString()===t.toString();default:return e===t}},$C={ms:1,s:1e3,m:1e3*60,h:1e3*60*60,d:1e3*60*60*24},Ih=e=>{if(typeof e=="number")return e;for(const[t,n]of Object.entries($C))if(e.endsWith(t))return parseFloat(e)*n;return parseInt(e)},jC=class{constructor(){this.cached=[],this.inFlightRequests=[],this.removalTimers=[],this.currentUseId=null}add(e,t,{cacheFor:n,cacheTags:r}){if(this.findInFlight(e))return Promise.resolve();const a=this.findCached(e);if(!e.fresh&&a&&a.staleTimestamp>Date.now())return Promise.resolve();const[c,u]=this.extractStaleValues(n),g=new Promise((f,m)=>{t({...e,onCancel:()=>{this.remove(e),e.onCancel(),m()},onError:y=>{this.remove(e),e.onError(y),m()},onPrefetching(y){e.onPrefetching(y)},onPrefetched(y,w){e.onPrefetched(y,w)},onPrefetchResponse(y){f(y)},onPrefetchError(y){bs.removeFromInFlight(e),m(y)}})}).then(f=>(this.remove(e),this.cached.push({params:{...e},staleTimestamp:Date.now()+c,response:g,singleUse:u===0,timestamp:Date.now(),inFlight:!1,tags:Array.isArray(r)?r:[r]}),this.scheduleForRemoval(e,u),this.removeFromInFlight(e),f.handlePrefetch(),f));return this.inFlightRequests.push({params:{...e},response:g,staleTimestamp:null,inFlight:!0}),g}removeAll(){this.cached=[],this.removalTimers.forEach(e=>{clearTimeout(e.timer)}),this.removalTimers=[]}removeByTags(e){this.cached=this.cached.filter(t=>!t.tags.some(n=>e.includes(n)))}remove(e){this.cached=this.cached.filter(t=>!this.paramsAreEqual(t.params,e)),this.clearTimer(e)}removeFromInFlight(e){this.inFlightRequests=this.inFlightRequests.filter(t=>!this.paramsAreEqual(t.params,e))}extractStaleValues(e){const[t,n]=this.cacheForToStaleAndExpires(e);return[Ih(t),Ih(n)]}cacheForToStaleAndExpires(e){if(!Array.isArray(e))return[e,e];switch(e.length){case 0:return[0,0];case 1:return[e[0],e[0]];default:return[e[0],e[1]]}}clearTimer(e){const t=this.removalTimers.find(n=>this.paramsAreEqual(n.params,e));t&&(clearTimeout(t.timer),this.removalTimers=this.removalTimers.filter(n=>n!==t))}scheduleForRemoval(e,t){if(!(typeof window>"u")&&(this.clearTimer(e),t>0)){const n=window.setTimeout(()=>this.remove(e),t);this.removalTimers.push({params:e,timer:n})}}get(e){return this.findCached(e)||this.findInFlight(e)}use(e,t){const n=`${t.url.pathname}-${Date.now()}-${Math.random().toString(36).substring(7)}`;return this.currentUseId=n,e.response.then(r=>{if(this.currentUseId===n)return r.mergeParams({...t,onPrefetched:()=>{}}),this.removeSingleUseItems(t),r.handle()})}removeSingleUseItems(e){this.cached=this.cached.filter(t=>this.paramsAreEqual(t.params,e)?!t.singleUse:!0)}findCached(e){return this.cached.find(t=>this.paramsAreEqual(t.params,e))||null}findInFlight(e){return this.inFlightRequests.find(t=>this.paramsAreEqual(t.params,e))||null}withoutPurposePrefetchHeader(e){const t=rr(e);return t.headers.Purpose==="prefetch"&&delete t.headers.Purpose,t}paramsAreEqual(e,t){return xy(this.withoutPurposePrefetchHeader(e),this.withoutPurposePrefetchHeader(t),["showProgress","replace","prefetch","onBefore","onBeforeUpdate","onStart","onProgress","onFinish","onCancel","onSuccess","onError","onPrefetched","onCancelToken","onPrefetching","async"])}},bs=new jC,UC=class fy{constructor(t){if(this.callbacks=[],!t.prefetch)this.params=t;else{const n={onBefore:this.wrapCallback(t,"onBefore"),onBeforeUpdate:this.wrapCallback(t,"onBeforeUpdate"),onStart:this.wrapCallback(t,"onStart"),onProgress:this.wrapCallback(t,"onProgress"),onFinish:this.wrapCallback(t,"onFinish"),onCancel:this.wrapCallback(t,"onCancel"),onSuccess:this.wrapCallback(t,"onSuccess"),onError:this.wrapCallback(t,"onError"),onCancelToken:this.wrapCallback(t,"onCancelToken"),onPrefetched:this.wrapCallback(t,"onPrefetched"),onPrefetching:this.wrapCallback(t,"onPrefetching")};this.params={...t,...n,onPrefetchResponse:t.onPrefetchResponse||(()=>{}),onPrefetchError:t.onPrefetchError||(()=>{})}}}static create(t){return new fy(t)}data(){return this.params.method==="get"?null:this.params.data}queryParams(){return this.params.method==="get"?this.params.data:{}}isPartial(){return this.params.only.length>0||this.params.except.length>0||this.params.reset.length>0}onCancelToken(t){this.params.onCancelToken({cancel:t})}markAsFinished(){this.params.completed=!0,this.params.cancelled=!1,this.params.interrupted=!1}markAsCancelled({cancelled:t=!0,interrupted:n=!1}){this.params.onCancel(),this.params.completed=!1,this.params.cancelled=t,this.params.interrupted=n}wasCancelledAtAll(){return this.params.cancelled||this.params.interrupted}onFinish(){this.params.onFinish(this.params)}onStart(){this.params.onStart(this.params)}onPrefetching(){this.params.onPrefetching(this.params)}onPrefetchResponse(t){this.params.onPrefetchResponse&&this.params.onPrefetchResponse(t)}onPrefetchError(t){this.params.onPrefetchError&&this.params.onPrefetchError(t)}all(){return this.params}headers(){const t={...this.params.headers};this.isPartial()&&(t["X-Inertia-Partial-Component"]=ut.get().component);const n=this.params.only.concat(this.params.reset);return n.length>0&&(t["X-Inertia-Partial-Data"]=n.join(",")),this.params.except.length>0&&(t["X-Inertia-Partial-Except"]=this.params.except.join(",")),this.params.reset.length>0&&(t["X-Inertia-Reset"]=this.params.reset.join(",")),this.params.errorBag&&this.params.errorBag.length>0&&(t["X-Inertia-Error-Bag"]=this.params.errorBag),t}setPreserveOptions(t){this.params.preserveScroll=this.resolvePreserveOption(this.params.preserveScroll,t),this.params.preserveState=this.resolvePreserveOption(this.params.preserveState,t)}runCallbacks(){this.callbacks.forEach(({name:t,args:n})=>{this.params[t](...n)})}merge(t){this.params={...this.params,...t}}wrapCallback(t,n){return(...r)=>{this.recordCallback(n,r),t[n](...r)}}recordCallback(t,n){this.callbacks.push({name:t,args:n})}resolvePreserveOption(t,n){return typeof t=="function"?t(n):t==="errors"?Object.keys(n.props.errors||{}).length>0:t}},HC={modal:null,listener:null,show(e){typeof e=="object"&&(e=`All Inertia requests must receive a valid Inertia response, however a plain JSON response was received.<hr>${JSON.stringify(e)}`);const t=document.createElement("html");t.innerHTML=e,t.querySelectorAll("a").forEach(r=>r.setAttribute("target","_top")),this.modal=document.createElement("div"),this.modal.style.position="fixed",this.modal.style.width="100vw",this.modal.style.height="100vh",this.modal.style.padding="50px",this.modal.style.boxSizing="border-box",this.modal.style.backgroundColor="rgba(0, 0, 0, .6)",this.modal.style.zIndex=2e5,this.modal.addEventListener("click",()=>this.hide());const n=document.createElement("iframe");if(n.style.backgroundColor="white",n.style.borderRadius="5px",n.style.width="100%",n.style.height="100%",this.modal.appendChild(n),document.body.prepend(this.modal),document.body.style.overflow="hidden",!n.contentWindow)throw new Error("iframe not yet ready.");n.contentWindow.document.open(),n.contentWindow.document.write(t.outerHTML),n.contentWindow.document.close(),this.listener=this.hideOnEscape.bind(this),document.addEventListener("keydown",this.listener)},hide(){this.modal.outerHTML="",this.modal=null,document.body.style.overflow="visible",document.removeEventListener("keydown",this.listener)},hideOnEscape(e){e.keyCode===27&&this.hide()}},zC=new uy,Mh=class hy{constructor(t,n,r){this.requestParams=t,this.response=n,this.originatingPage=r,this.wasPrefetched=!1}static create(t,n,r){return new hy(t,n,r)}async handlePrefetch(){Pu(this.requestParams.all().url,window.location)&&this.handle()}async handle(){return zC.add(()=>this.process())}async process(){if(this.requestParams.all().prefetch)return this.wasPrefetched=!0,this.requestParams.all().prefetch=!1,this.requestParams.all().onPrefetched(this.response,this.requestParams.all()),vC(this.response,this.requestParams.all()),Promise.resolve();if(this.requestParams.runCallbacks(),!this.isInertiaResponse())return this.handleNonInertiaResponse();await It.processQueue(),It.preserveUrl=this.requestParams.all().preserveUrl,await this.setPage();const t=ut.get().props.errors||{};if(Object.keys(t).length>0){const n=this.getScopedErrors(t);return xC(n),this.requestParams.all().onError(n)}gt.flushByCacheTags(this.requestParams.all().invalidateCacheTags||[]),this.wasPrefetched||gt.flush(ut.get().url),bC(ut.get()),await this.requestParams.all().onSuccess(ut.get()),It.preserveUrl=!1}mergeParams(t){this.requestParams.merge(t)}async handleNonInertiaResponse(){if(this.isLocationVisit()){const n=Xs(this.getHeader("x-inertia-location"));return Fh(this.requestParams.all().url,n),this.locationVisit(n)}const t={...this.response,data:this.getDataFromResponse(this.response.data)};if(gC(t))return HC.show(t.data)}isInertiaResponse(){return this.hasHeader("x-inertia")}hasStatus(t){return this.response.status===t}getHeader(t){return this.response.headers[t]}hasHeader(t){return this.getHeader(t)!==void 0}isLocationVisit(){return this.hasStatus(409)&&this.hasHeader("x-inertia-location")}locationVisit(t){try{if(Xn.set(Xn.locationVisitKey,{preserveScroll:this.requestParams.all().preserveScroll===!0}),typeof window>"u")return;Pu(window.location,t)?window.location.reload():window.location.href=t.href}catch{return!1}}async setPage(){const t=this.getDataFromResponse(this.response.data);return this.shouldSetPage(t)?(this.mergeProps(t),await this.setRememberedState(t),this.requestParams.setPreserveOptions(t),t.url=It.preserveUrl?ut.get().url:this.pageUrl(t),this.requestParams.all().onBeforeUpdate(t),pC(t),ut.set(t,{replace:this.requestParams.all().replace,preserveScroll:this.requestParams.all().preserveScroll,preserveState:this.requestParams.all().preserveState})):Promise.resolve()}getDataFromResponse(t){if(typeof t!="string")return t;try{return JSON.parse(t)}catch{return t}}shouldSetPage(t){if(!this.requestParams.all().async||this.originatingPage.component!==t.component)return!0;if(this.originatingPage.component!==ut.get().component)return!1;const n=Xs(this.originatingPage.url),r=Xs(ut.get().url);return n.origin===r.origin&&n.pathname===r.pathname}pageUrl(t){const n=Xs(t.url);return Fh(this.requestParams.all().url,n),n.pathname+n.search+n.hash}mergeProps(t){if(!this.requestParams.isPartial()||t.component!==ut.get().component)return;const n=t.mergeProps||[],r=t.prependProps||[],i=t.deepMergeProps||[],a=t.matchPropsOn||[],c=(u,g)=>{const f=Ai(ut.get().props,u),m=Ai(t.props,u);if(Array.isArray(m)){const y=this.mergeOrMatchItems(f||[],m,u,a,g);Io(t.props,u,y)}else if(typeof m=="object"&&m!==null){const y={...f||{},...m};Io(t.props,u,y)}};n.forEach(u=>c(u,!0)),r.forEach(u=>c(u,!1)),i.forEach(u=>{const g=ut.get().props[u],f=t.props[u],m=(y,w,E)=>Array.isArray(w)?this.mergeOrMatchItems(y,w,E,a):typeof w=="object"&&w!==null?Object.keys(w).reduce((C,D)=>(C[D]=m(y?y[D]:void 0,w[D],`${E}.${D}`),C),{...y}):w;t.props[u]=m(g,f,u)}),t.props={...ut.get().props,...t.props},t.scrollProps&&(t.scrollProps={...ut.get().scrollProps||{},...t.scrollProps||{}})}mergeOrMatchItems(t,n,r,i,a=!0){const c=Array.isArray(t)?t:[],u=i.find(m=>m.split(".").slice(0,-1).join(".")===r);if(!u)return a?[...c,...n]:[...n,...c];const g=u.split(".").pop()||"",f=new Map;return n.forEach(m=>{this.hasUniqueProperty(m,g)&&f.set(m[g],m)}),a?this.appendWithMatching(c,n,f,g):this.prependWithMatching(c,n,f,g)}appendWithMatching(t,n,r,i){const a=t.map(u=>this.hasUniqueProperty(u,i)&&r.has(u[i])?r.get(u[i]):u),c=n.filter(u=>this.hasUniqueProperty(u,i)?!t.some(g=>this.hasUniqueProperty(g,i)&&g[i]===u[i]):!0);return[...a,...c]}prependWithMatching(t,n,r,i){const a=t.filter(c=>this.hasUniqueProperty(c,i)?!r.has(c[i]):!0);return[...n,...a]}hasUniqueProperty(t,n){return t&&typeof t=="object"&&n in t}async setRememberedState(t){const n=await It.getState(It.rememberedState,{});this.requestParams.all().preserveState&&n&&t.component===ut.get().component&&(t.rememberedState=n)}getScopedErrors(t){return this.requestParams.all().errorBag?t[this.requestParams.all().errorBag||""]||{}:t}},Ph=class gy{constructor(t,n){this.page=n,this.requestHasFinished=!1,this.requestParams=UC.create(t),this.cancelToken=new AbortController}static create(t,n){return new gy(t,n)}async send(){this.requestParams.onCancelToken(()=>this.cancel({cancelled:!0})),yC(this.requestParams.all()),this.requestParams.onStart(),this.requestParams.all().prefetch&&(this.requestParams.onPrefetching(),EC(this.requestParams.all()));const t=this.requestParams.all().prefetch;return St({method:this.requestParams.all().method,url:h0(this.requestParams.all().url).href,data:this.requestParams.data(),params:this.requestParams.queryParams(),signal:this.cancelToken.signal,headers:this.getHeaders(),onUploadProgress:this.onProgress.bind(this),responseType:"text"}).then(n=>(this.response=Mh.create(this.requestParams,n,this.page),this.response.handle())).catch(n=>n?.response?(this.response=Mh.create(this.requestParams,n.response,this.page),this.response.handle()):Promise.reject(n)).catch(n=>{if(!St.isCancel(n)&&fC(n))return t&&this.requestParams.onPrefetchError(n),Promise.reject(n)}).finally(()=>{this.finish(),t&&this.response&&this.requestParams.onPrefetchResponse(this.response)})}finish(){this.requestParams.wasCancelledAtAll()||(this.requestParams.markAsFinished(),this.fireFinishEvents())}fireFinishEvents(){this.requestHasFinished||(this.requestHasFinished=!0,hC(this.requestParams.all()),this.requestParams.onFinish())}cancel({cancelled:t=!1,interrupted:n=!1}){this.requestHasFinished||(this.cancelToken.abort(),this.requestParams.markAsCancelled({cancelled:t,interrupted:n}),this.fireFinishEvents())}onProgress(t){this.requestParams.data()instanceof FormData&&(t.percentage=t.progress?Math.round(t.progress*100):0,mC(t),this.requestParams.all().onProgress(t))}getHeaders(){const t={...this.requestParams.headers(),Accept:"text/html, application/xhtml+xml","X-Requested-With":"XMLHttpRequest","X-Inertia":!0};return ut.get().version&&(t["X-Inertia-Version"]=ut.get().version),t}},Rh=class{constructor({maxConcurrent:e,interruptible:t}){this.requests=[],this.maxConcurrent=e,this.interruptible=t}send(e){this.requests.push(e),e.send().then(()=>{this.requests=this.requests.filter(t=>t!==e)})}interruptInFlight(){this.cancel({interrupted:!0},!1)}cancelInFlight(){this.cancel({cancelled:!0},!0)}cancel({cancelled:e=!1,interrupted:t=!1}={},n){if(!this.shouldCancel(n))return;this.requests.shift()?.cancel({interrupted:t,cancelled:e})}shouldCancel(e){return e?!0:this.interruptible&&this.requests.length>=this.maxConcurrent}},VC=class{constructor(){this.syncRequestStream=new Rh({maxConcurrent:1,interruptible:!0}),this.asyncRequestStream=new Rh({maxConcurrent:1/0,interruptible:!1})}init({initialPage:e,resolveComponent:t,swapComponent:n}){ut.init({initialPage:e,resolveComponent:t,swapComponent:n}),PC.handle(),Po.init(),Po.on("missingHistoryItem",()=>{typeof window<"u"&&this.visit(window.location.href,{preserveState:!0,preserveScroll:!0,replace:!0})}),Po.on("loadDeferredProps",r=>{this.loadDeferredProps(r)})}get(e,t={},n={}){return this.visit(e,{...n,method:"get",data:t})}post(e,t={},n={}){return this.visit(e,{preserveState:!0,...n,method:"post",data:t})}put(e,t={},n={}){return this.visit(e,{preserveState:!0,...n,method:"put",data:t})}patch(e,t={},n={}){return this.visit(e,{preserveState:!0,...n,method:"patch",data:t})}delete(e,t={}){return this.visit(e,{preserveState:!0,...t,method:"delete"})}reload(e={}){if(!(typeof window>"u"))return this.visit(window.location.href,{...e,preserveScroll:!0,preserveState:!0,async:!0,headers:{...e.headers||{},"Cache-Control":"no-cache"}})}remember(e,t="default"){It.remember(e,t)}restore(e="default"){return It.restore(e)}on(e,t){return typeof window>"u"?()=>{}:Po.onGlobalEvent(e,t)}cancel(){this.syncRequestStream.cancelInFlight()}cancelAll(){this.asyncRequestStream.cancelInFlight(),this.syncRequestStream.cancelInFlight()}poll(e,t={},n={}){return NC.add(e,()=>this.reload(t),{autoStart:n.autoStart??!0,keepAlive:n.keepAlive??!1})}visit(e,t={}){const n=this.getPendingVisit(e,{...t,showProgress:t.showProgress??!t.async}),r=this.getVisitEvents(t);if(r.onBefore(n)===!1||!Sh(n))return;const i=n.async?this.asyncRequestStream:this.syncRequestStream;i.interruptInFlight(),!ut.isCleared()&&!n.preserveUrl&&Wr.save();const a={...n,...r},c=bs.get(a);c?(lr.reveal(c.inFlight),bs.use(c,a)):(lr.reveal(!0),i.send(Ph.create(a,ut.get())))}getCached(e,t={}){return bs.findCached(this.getPrefetchParams(e,t))}flush(e,t={}){bs.remove(this.getPrefetchParams(e,t))}flushAll(){bs.removeAll()}flushByCacheTags(e){bs.removeByTags(Array.isArray(e)?e:[e])}getPrefetching(e,t={}){return bs.findInFlight(this.getPrefetchParams(e,t))}prefetch(e,t={},n={}){if((t.method??(g0(e)?e.method:"get"))!=="get")throw new Error("Prefetch requests must use the GET method");const i=this.getPendingVisit(e,{...t,async:!0,showProgress:!1,prefetch:!0}),a=i.url.origin+i.url.pathname+i.url.search,c=window.location.origin+window.location.pathname+window.location.search;if(a===c)return;const u=this.getVisitEvents(t);if(u.onBefore(i)===!1||!Sh(i))return;lr.hide(),this.asyncRequestStream.interruptInFlight();const g={...i,...u};new Promise(m=>{const y=()=>{ut.get()?m():setTimeout(y,50)};y()}).then(()=>{bs.add(g,m=>{this.asyncRequestStream.send(Ph.create(m,ut.get()))},{cacheFor:3e4,cacheTags:[],...n})})}clearHistory(){It.clear()}decryptHistory(){return It.decrypt()}resolveComponent(e){return ut.resolve(e)}replace(e){this.clientVisit(e,{replace:!0})}replaceProp(e,t,n){this.replace({preserveScroll:!0,preserveState:!0,props(r){const i=typeof t=="function"?t(Ai(r,e),r):t;return Io(rr(r),e,i)},...n||{}})}appendToProp(e,t,n){this.replaceProp(e,(r,i)=>{const a=typeof t=="function"?t(r,i):t;return Array.isArray(r)||(r=r!==void 0?[r]:[]),[...r,a]},n)}prependToProp(e,t,n){this.replaceProp(e,(r,i)=>{const a=typeof t=="function"?t(r,i):t;return Array.isArray(r)||(r=r!==void 0?[r]:[]),[a,...r]},n)}push(e){this.clientVisit(e)}clientVisit(e,{replace:t=!1}={}){const n=ut.get(),r=typeof e.props=="function"?e.props(n.props):e.props??n.props,{onError:i,onFinish:a,onSuccess:c,...u}=e;ut.set({...n,...u,props:r},{replace:t,preserveScroll:e.preserveScroll,preserveState:e.preserveState}).then(()=>{const g=ut.get().props.errors||{};if(Object.keys(g).length===0)return c?.(ut.get());const f=e.errorBag?g[e.errorBag||""]||{}:g;return i?.(f)}).finally(()=>a?.(e))}getPrefetchParams(e,t){return{...this.getPendingVisit(e,{...t,async:!0,showProgress:!1,prefetch:!0}),...this.getVisitEvents(t)}}getPendingVisit(e,t,n={}){if(g0(e)){const u=e;e=u.url,t.method=t.method??u.method}const r={method:"get",data:{},replace:!1,preserveScroll:!1,preserveState:!1,only:[],except:[],headers:{},errorBag:"",forceFormData:!1,queryStringArrayFormat:"brackets",async:!1,showProgress:!0,fresh:!1,reset:[],preserveUrl:!1,prefetch:!1,invalidateCacheTags:[],...t},[i,a]=SC(e,r.data,r.method,r.forceFormData,r.queryStringArrayFormat),c={cancelled:!1,completed:!1,interrupted:!1,...r,...n,url:i,data:a};return c.prefetch&&(c.headers.Purpose="prefetch"),c}getVisitEvents(e){return{onCancelToken:e.onCancelToken||(()=>{}),onBefore:e.onBefore||(()=>{}),onBeforeUpdate:e.onBeforeUpdate||(()=>{}),onStart:e.onStart||(()=>{}),onProgress:e.onProgress||(()=>{}),onFinish:e.onFinish||(()=>{}),onCancel:e.onCancel||(()=>{}),onSuccess:e.onSuccess||(()=>{}),onError:e.onError||(()=>{}),onPrefetched:e.onPrefetched||(()=>{}),onPrefetching:e.onPrefetching||(()=>{})}}loadDeferredProps(e){e&&Object.entries(e).forEach(([t,n])=>{this.reload({only:n})})}},qC={buildDOMElement(e){const t=document.createElement("template");t.innerHTML=e;const n=t.content.firstChild;if(!e.startsWith("<script "))return n;const r=document.createElement("script");return r.innerHTML=n.innerHTML,n.getAttributeNames().forEach(i=>{r.setAttribute(i,n.getAttribute(i)||"")}),r},isInertiaManagedElement(e){return e.nodeType===Node.ELEMENT_NODE&&e.getAttribute("inertia")!==null},findMatchingElementIndex(e,t){const n=e.getAttribute("inertia");return n!==null?t.findIndex(r=>r.getAttribute("inertia")===n):-1},update:Tu(function(e){const t=e.map(r=>this.buildDOMElement(r));Array.from(document.head.childNodes).filter(r=>this.isInertiaManagedElement(r)).forEach(r=>{const i=this.findMatchingElementIndex(r,t);if(i===-1){r?.parentNode?.removeChild(r);return}const a=t.splice(i,1)[0];a&&!r.isEqualNode(a)&&r?.parentNode?.replaceChild(a,r)}),t.forEach(r=>document.head.appendChild(r))},1)};function WC(e,t,n){const r={};let i=0;function a(){const y=i+=1;return r[y]=[],y.toString()}function c(y){y===null||Object.keys(r).indexOf(y)===-1||(delete r[y],m())}function u(y){Object.keys(r).indexOf(y)===-1&&(r[y]=[])}function g(y,w=[]){y!==null&&Object.keys(r).indexOf(y)>-1&&(r[y]=w),m()}function f(){const y=t(""),w={...y?{title:`<title inertia="">${y}</title>`}:{}},E=Object.values(r).reduce((C,D)=>C.concat(D),[]).reduce((C,D)=>{if(D.indexOf("<")===-1)return C;if(D.indexOf("<title ")===0){const M=D.match(/(<title [^>]+>)(.*?)(<\/title>)/);return C.title=M?`${M[1]}${t(M[2])}${M[3]}`:D,C}const _=D.match(/ inertia="[^"]+"/);return _?C[_[0]]=D:C[Object.keys(C).length]=D,C},w);return Object.values(E)}function m(){e?n(f()):qC.update(f())}return m(),{forceUpdate:m,createProvider:function(){const y=a();return{reconnect:()=>u(y),update:w=>g(y,w),disconnect:()=>c(y)}}}}function wl(e){const t=e.currentTarget.tagName.toLowerCase()==="a";return!(e.target&&(e?.target).isContentEditable||e.defaultPrevented||t&&e.altKey||t&&e.ctrlKey||t&&e.metaKey||t&&e.shiftKey||t&&"button"in e&&e.button!==0)}function Oh(e){const t=e.currentTarget.tagName.toLowerCase()==="button";return e.key==="Enter"||t&&e.key===" "}var bn="nprogress",Tr,Dn={minimum:.08,easing:"linear",positionUsing:"translate3d",speed:200,trickle:!0,trickleSpeed:200,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",color:"#29d",includeCSS:!0,template:['<div class="bar" role="bar">','<div class="peg"></div>',"</div>",'<div class="spinner" role="spinner">','<div class="spinner-icon"></div>',"</div>"].join("")},lo=null,GC=e=>{Object.assign(Dn,e),Dn.includeCSS&&JC(Dn.color),Tr=document.createElement("div"),Tr.id=bn,Tr.innerHTML=Dn.template},q0=e=>{const t=py();e=Ey(e,Dn.minimum,1),lo=e===1?null:e;const n=KC(!t),r=n.querySelector(Dn.barSelector),i=Dn.speed,a=Dn.easing;n.offsetWidth,ZC(c=>{const u=Dn.positionUsing==="translate3d"?{transition:`all ${i}ms ${a}`,transform:`translate3d(${Gl(e)}%,0,0)`}:Dn.positionUsing==="translate"?{transition:`all ${i}ms ${a}`,transform:`translate(${Gl(e)}%,0)`}:{marginLeft:`${Gl(e)}%`};for(const g in u)r.style[g]=u[g];if(e!==1)return setTimeout(c,i);n.style.transition="none",n.style.opacity="1",n.offsetWidth,setTimeout(()=>{n.style.transition=`all ${i}ms linear`,n.style.opacity="0",setTimeout(()=>{vy(),n.style.transition="",n.style.opacity="",c()},i)},i)})},py=()=>typeof lo=="number",my=()=>{lo||q0(0);const e=function(){setTimeout(function(){lo&&(yy(),e())},Dn.trickleSpeed)};Dn.trickle&&e()},QC=e=>{!e&&!lo||(yy(.3+.5*Math.random()),q0(1))},yy=e=>{const t=lo;if(t===null)return my();if(!(t>1))return e=typeof e=="number"?e:(()=>{const n={.1:[0,.2],.04:[.2,.5],.02:[.5,.8],.005:[.8,.99]};for(const r in n)if(t>=n[r][0]&&t<n[r][1])return parseFloat(r);return 0})(),q0(Ey(t+e,0,.994))},KC=e=>{if(YC())return document.getElementById(bn);document.documentElement.classList.add(`${bn}-busy`);const t=Tr.querySelector(Dn.barSelector),n=e?"-100":Gl(lo||0),r=by();return t.style.transition="all 0 linear",t.style.transform=`translate3d(${n}%,0,0)`,Dn.showSpinner||Tr.querySelector(Dn.spinnerSelector)?.remove(),r!==document.body&&r.classList.add(`${bn}-custom-parent`),r.appendChild(Tr),Tr},by=()=>XC(Dn.parent)?Dn.parent:document.querySelector(Dn.parent),vy=()=>{document.documentElement.classList.remove(`${bn}-busy`),by().classList.remove(`${bn}-custom-parent`),Tr?.remove()},YC=()=>document.getElementById(bn)!==null,XC=e=>typeof HTMLElement=="object"?e instanceof HTMLElement:e&&typeof e=="object"&&e.nodeType===1&&typeof e.nodeName=="string";function Ey(e,t,n){return e<t?t:e>n?n:e}var Gl=e=>(-1+e)*100,ZC=(()=>{const e=[],t=()=>{const n=e.shift();n&&n(t)};return n=>{e.push(n),e.length===1&&t()}})(),JC=e=>{const t=document.createElement("style");t.textContent=`
    #${bn} {
      pointer-events: none;
    }

    #${bn} .bar {
      background: ${e};

      position: fixed;
      z-index: 1031;
      top: 0;
      left: 0;

      width: 100%;
      height: 2px;
    }

    #${bn} .peg {
      display: block;
      position: absolute;
      right: 0px;
      width: 100px;
      height: 100%;
      box-shadow: 0 0 10px ${e}, 0 0 5px ${e};
      opacity: 1.0;

      transform: rotate(3deg) translate(0px, -4px);
    }

    #${bn} .spinner {
      display: block;
      position: fixed;
      z-index: 1031;
      top: 15px;
      right: 15px;
    }

    #${bn} .spinner-icon {
      width: 18px;
      height: 18px;
      box-sizing: border-box;

      border: solid 2px transparent;
      border-top-color: ${e};
      border-left-color: ${e};
      border-radius: 50%;

      animation: ${bn}-spinner 400ms linear infinite;
    }

    .${bn}-custom-parent {
      overflow: hidden;
      position: relative;
    }

    .${bn}-custom-parent #${bn} .spinner,
    .${bn}-custom-parent #${bn} .bar {
      position: absolute;
    }

    @keyframes ${bn}-spinner {
      0%   { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  `,document.head.appendChild(t)},eA=()=>{Tr&&(Tr.style.display="")},tA=()=>{Tr&&(Tr.style.display="none")},Hr={configure:GC,isStarted:py,done:QC,set:q0,remove:vy,start:my,status:lo,show:eA,hide:tA},nA=class{constructor(){this.hideCount=0}start(){Hr.start()}reveal(e=!1){this.hideCount=Math.max(0,this.hideCount-1),(e||this.hideCount===0)&&Hr.show()}hide(){this.hideCount++,Hr.hide()}set(e){Hr.set(Math.max(0,Math.min(1,e)))}finish(){Hr.done()}reset(){Hr.set(0)}remove(){Hr.done(),Hr.remove()}isStarted(){return Hr.isStarted()}getStatus(){return Hr.status}},lr=new nA;lr.reveal;lr.hide;function rA(e){document.addEventListener("inertia:start",t=>sA(t,e)),document.addEventListener("inertia:progress",oA)}function sA(e,t){e.detail.visit.showProgress||lr.hide();const n=setTimeout(()=>lr.start(),t);document.addEventListener("inertia:finish",r=>iA(r,n),{once:!0})}function oA(e){lr.isStarted()&&e.detail.progress?.percentage&&lr.set(Math.max(lr.getStatus(),e.detail.progress.percentage/100*.9))}function iA(e,t){clearTimeout(t),lr.isStarted()&&(e.detail.visit.completed?lr.finish():e.detail.visit.interrupted?lr.reset():e.detail.visit.cancelled&&lr.remove())}function aA({delay:e=250,color:t="#29d",includeCSS:n=!0,showSpinner:r=!1}={}){rA(e),Hr.configure({showSpinner:r,includeCSS:n,color:t})}var gt=new VC;/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */var lA={created(){if(!this.$options.remember)return;Array.isArray(this.$options.remember)&&(this.$options.remember={data:this.$options.remember}),typeof this.$options.remember=="string"&&(this.$options.remember={data:[this.$options.remember]}),typeof this.$options.remember.data=="string"&&(this.$options.remember={data:[this.$options.remember.data]});const e=this.$options.remember.key instanceof Function?this.$options.remember.key.call(this):this.$options.remember.key,t=gt.restore(e),n=this.$options.remember.data.filter(i=>!(this[i]!==null&&typeof this[i]=="object"&&this[i].__rememberable===!1)),r=i=>this[i]!==null&&typeof this[i]=="object"&&typeof this[i].__remember=="function"&&typeof this[i].__restore=="function";n.forEach(i=>{this[i]!==void 0&&t!==void 0&&t[i]!==void 0&&(r(i)?this[i].__restore(t[i]):this[i]=t[i]),this.$watch(i,()=>{gt.remember(n.reduce((a,c)=>({...a,[c]:rr(r(c)?this[c].__remember():this[c])}),{}),e)},{immediate:!0,deep:!0})})}},cA=lA;function tl(e,t){const n=typeof e=="string"?e:null,r=(typeof e=="string"?t:e)??{},i=n?gt.restore(n):null;let a=rr(typeof r=="function"?r():r),c=null,u=null,g=y=>y,f=!1;const m=ho({...i?i.data:rr(a),isDirty:!1,errors:i?i.errors:{},hasErrors:!1,processing:!1,progress:null,wasSuccessful:!1,recentlySuccessful:!1,data(){return Object.keys(a).reduce((y,w)=>Io(y,w,Ai(this,w)),{})},transform(y){return g=y,this},defaults(y,w){if(typeof r=="function")throw new Error("You cannot call `defaults()` when using a function to define your form data.");return f=!0,typeof y>"u"?(a=rr(this.data()),this.isDirty=!1):a=typeof y=="string"?Io(rr(a),y,w):Object.assign({},rr(a),y),this},reset(...y){const w=rr(typeof r=="function"?r():a),E=rr(w);return y.length===0?(a=E,Object.assign(this,w)):y.filter(C=>Z5(E,C)).forEach(C=>{Io(a,C,Ai(E,C)),Io(this,C,Ai(w,C))}),this},setError(y,w){return Object.assign(this.errors,typeof y=="string"?{[y]:w}:y),this.hasErrors=Object.keys(this.errors).length>0,this},clearErrors(...y){return this.errors=Object.keys(this.errors).reduce((w,E)=>({...w,...y.length>0&&!y.includes(E)?{[E]:this.errors[E]}:{}}),{}),this.hasErrors=Object.keys(this.errors).length>0,this},resetAndClearErrors(...y){return this.reset(...y),this.clearErrors(...y),this},submit(...y){const w=y[0]!==null&&typeof y[0]=="object",E=w?y[0].method:y[0],C=w?y[0].url:y[1],D=(w?y[1]:y[2])??{};f=!1;const _=g(this.data()),M={...D,onCancelToken:$=>{if(c=$,D.onCancelToken)return D.onCancelToken($)},onBefore:$=>{if(this.wasSuccessful=!1,this.recentlySuccessful=!1,clearTimeout(u),D.onBefore)return D.onBefore($)},onStart:$=>{if(this.processing=!0,D.onStart)return D.onStart($)},onProgress:$=>{if(this.progress=$,D.onProgress)return D.onProgress($)},onSuccess:async $=>{this.processing=!1,this.progress=null,this.clearErrors(),this.wasSuccessful=!0,this.recentlySuccessful=!0,u=setTimeout(()=>this.recentlySuccessful=!1,2e3);const I=D.onSuccess?await D.onSuccess($):null;return f||(a=rr(this.data()),this.isDirty=!1),I},onError:$=>{if(this.processing=!1,this.progress=null,this.clearErrors().setError($),D.onError)return D.onError($)},onCancel:()=>{if(this.processing=!1,this.progress=null,D.onCancel)return D.onCancel()},onFinish:$=>{if(this.processing=!1,this.progress=null,c=null,D.onFinish)return D.onFinish($)}};E==="delete"?gt.delete(C,{...M,data:_}):gt[E](C,_,M)},get(y,w){this.submit("get",y,w)},post(y,w){this.submit("post",y,w)},put(y,w){this.submit("put",y,w)},patch(y,w){this.submit("patch",y,w)},delete(y,w){this.submit("delete",y,w)},cancel(){c&&c.cancel()},__rememberable:n===null,__remember(){return{data:this.data(),errors:this.errors}},__restore(y){Object.assign(this,y.data),this.setError(y.errors)}});return Pn(m,y=>{m.isDirty=!J5(m.data(),a),n&&gt.remember(rr(y.__remember()),n)},{immediate:!0,deep:!0}),m}var hr=ve(null),In=ve(null),Bd=nx(null),Cl=ve(null),Ru=null,dA=Lr({name:"Inertia",props:{initialPage:{type:Object,required:!0},initialComponent:{type:Object,required:!1},resolveComponent:{type:Function,required:!1},titleCallback:{type:Function,required:!1,default:e=>e},onHeadUpdate:{type:Function,required:!1,default:()=>()=>{}}},setup({initialPage:e,initialComponent:t,resolveComponent:n,titleCallback:r,onHeadUpdate:i}){hr.value=t?fu(t):null,In.value=e,Cl.value=null;const a=typeof window>"u";return Ru=WC(a,r,i),a||(gt.init({initialPage:e,resolveComponent:n,swapComponent:async c=>{hr.value=fu(c.component),In.value=c.page,Cl.value=c.preserveState?Cl.value:Date.now()}}),gt.on("navigate",()=>Ru.forceUpdate())),()=>{if(hr.value){hr.value.inheritAttrs=!!hr.value.inheritAttrs;const c=ar(hr.value,{...In.value.props,key:Cl.value});return Bd.value&&(hr.value.layout=Bd.value,Bd.value=null),hr.value.layout?typeof hr.value.layout=="function"?hr.value.layout(ar,c):(Array.isArray(hr.value.layout)?hr.value.layout:[hr.value.layout]).concat(c).reverse().reduce((u,g)=>(g.inheritAttrs=!!g.inheritAttrs,ar(g,{...In.value.props},()=>u))):c}}}}),uA=dA,xA={install(e){gt.form=tl,Object.defineProperty(e.config.globalProperties,"$inertia",{get:()=>gt}),Object.defineProperty(e.config.globalProperties,"$page",{get:()=>In.value}),Object.defineProperty(e.config.globalProperties,"$headManager",{get:()=>Ru}),e.mixin(cA)}};function co(){return ho({props:We(()=>In.value?.props),url:We(()=>In.value?.url),component:We(()=>In.value?.component),version:We(()=>In.value?.version),clearHistory:We(()=>In.value?.clearHistory),deferredProps:We(()=>In.value?.deferredProps),mergeProps:We(()=>In.value?.mergeProps),prependProps:We(()=>In.value?.prependProps),deepMergeProps:We(()=>In.value?.deepMergeProps),matchPropsOn:We(()=>In.value?.matchPropsOn),rememberedState:We(()=>In.value?.rememberedState),encryptHistory:We(()=>In.value?.encryptHistory)})}async function fA({id:e="app",resolve:t,setup:n,title:r,progress:i={},page:a,render:c}){const u=typeof window>"u",g=u?null:document.getElementById(e),f=a||JSON.parse(g.dataset.page),m=E=>Promise.resolve(t(E)).then(C=>C.default||C);let y=[];const w=await Promise.all([m(f.component),gt.decryptHistory().catch(()=>{})]).then(([E])=>n({el:g,App:uA,props:{initialPage:f,initialComponent:E,resolveComponent:m,titleCallback:r,onHeadUpdate:u?C=>y=C:null},plugin:xA}));if(!u&&i&&aA(i),u){const E=await c(Lv({render:()=>ar("div",{id:e,"data-page":JSON.stringify(f),innerHTML:w?c(w):""})}));return{head:y,body:E}}}var rs=()=>{},hA=Lr({name:"Link",props:{as:{type:[String,Object],default:"a"},data:{type:Object,default:()=>({})},href:{type:[String,Object],default:""},method:{type:String,default:"get"},replace:{type:Boolean,default:!1},preserveScroll:{type:Boolean,default:!1},preserveState:{type:Boolean,default:null},only:{type:Array,default:()=>[]},except:{type:Array,default:()=>[]},headers:{type:Object,default:()=>({})},queryStringArrayFormat:{type:String,default:"brackets"},async:{type:Boolean,default:!1},prefetch:{type:[Boolean,String,Array],default:!1},cacheFor:{type:[Number,String,Array],default:0},onStart:{type:Function,default:rs},onProgress:{type:Function,default:rs},onFinish:{type:Function,default:rs},onBefore:{type:Function,default:rs},onCancel:{type:Function,default:rs},onSuccess:{type:Function,default:rs},onError:{type:Function,default:rs},onCancelToken:{type:Function,default:rs},onPrefetching:{type:Function,default:rs},onPrefetched:{type:Function,default:rs},cacheTags:{type:[String,Array],default:()=>[]}},setup(e,{slots:t,attrs:n}){const r=ve(0),i=ve(null),a=We(()=>e.prefetch===!0?["hover"]:e.prefetch===!1?[]:Array.isArray(e.prefetch)?e.prefetch:[e.prefetch]),c=We(()=>e.cacheFor!==0?e.cacheFor:a.value.length===1&&a.value[0]==="click"?0:3e4);Gn(()=>{a.value.includes("mount")&&D()}),Vo(()=>{clearTimeout(i.value)});const u=We(()=>g0(e.href)?e.href.method:e.method.toLowerCase()),g=We(()=>typeof e.as!="string"||e.as.toLowerCase()!=="a"?e.as:u.value!=="get"?"button":e.as.toLowerCase()),f=We(()=>dy(u.value,g0(e.href)?e.href.url:e.href,e.data,e.queryStringArrayFormat)),m=We(()=>f.value[0]),y=We(()=>f.value[1]),w=We(()=>g.value==="button"?{type:"button"}:g.value==="a"||typeof g.value!="string"?{href:m.value}:{}),E=We(()=>({data:y.value,method:u.value,replace:e.replace,preserveScroll:e.preserveScroll,preserveState:e.preserveState??u.value!=="get",only:e.only,except:e.except,headers:e.headers,async:e.async})),C=We(()=>({...E.value,onCancelToken:e.onCancelToken,onBefore:e.onBefore,onStart:I=>{r.value++,e.onStart(I)},onProgress:e.onProgress,onFinish:I=>{r.value--,e.onFinish(I)},onCancel:e.onCancel,onSuccess:e.onSuccess,onError:e.onError})),D=()=>{gt.prefetch(m.value,{...E.value,onPrefetching:e.onPrefetching,onPrefetched:e.onPrefetched},{cacheFor:c.value,cacheTags:e.cacheTags})},_={onClick:I=>{wl(I)&&(I.preventDefault(),gt.visit(m.value,C.value))}},M={onMouseenter:()=>{i.value=setTimeout(()=>{D()},75)},onMouseleave:()=>{clearTimeout(i.value)},onClick:_.onClick},$={onMousedown:I=>{wl(I)&&(I.preventDefault(),D())},onKeydown:I=>{wl(I)&&Oh(I)&&(I.preventDefault(),D())},onMouseup:I=>{I.preventDefault(),gt.visit(m.value,C.value)},onKeyup:I=>{Oh(I)&&(I.preventDefault(),gt.visit(m.value,C.value))},onClick:I=>{wl(I)&&I.preventDefault()}};return()=>ar(g.value,{...n,...w.value,"data-loading":r.value>0?"":void 0,...a.value.includes("hover")?M:a.value.includes("click")?$:_},t)}}),un=hA;const gA={class:"min-h-screen flex items-center justify-center bg-gradient-to-br px-4 py-8",style:{"background-color":"#035930"}},pA={class:"max-w-md w-full"},mA={class:"bg-white rounded-2xl shadow-2xl p-8"},yA={class:"relative"},bA={key:0,class:"text-red-500 text-sm mt-1 flex items-center"},vA={class:"relative"},EA=["type"],wA={key:0,class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},CA={key:1,class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},AA={class:"flex items-center justify-between"},BA={class:"flex items-center cursor-pointer"},_A=["disabled"],DA={key:0,class:"flex items-center justify-center"},kA={key:1,class:"flex items-center justify-center"},SA={class:"mt-6 text-center"},FA={class:"text-sm text-gray-600"},TA={__name:"Login",setup(e){const t=ve(!1),n=tl({identifier:"",password:"",remember:!1}),r=()=>{n.post("/login",{onFinish:()=>{Object.keys(n.errors).length>0&&(n.password="")}})};return(i,a)=>(U(),G("div",gA,[o("div",pA,[o("div",mA,[a[17]||(a[17]=o("h2",{class:"text-2xl font-bold text-gray-800 mb-6 text-center"},"Login",-1)),o("form",{onSubmit:or(r,["prevent"]),class:"space-y-5"},[o("div",null,[a[6]||(a[6]=o("label",{class:"block text-gray-700 text-sm font-semibold mb-2"}," NIK atau Email ",-1)),o("div",yA,[a[4]||(a[4]=o("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[o("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),Ee(o("input",{"onUpdate:modelValue":a[0]||(a[0]=c=>Ve(n).identifier=c),type:"text",class:Fe(["w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",{"border-red-500":Ve(n).errors.identifier}]),placeholder:"Masukkan NIK atau Email",required:""},null,2),[[Oe,Ve(n).identifier]])]),Ve(n).errors.identifier?(U(),G("div",bA,[a[5]||(a[5]=o("svg",{class:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[o("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)),qe(" "+P(Ve(n).errors.identifier),1)])):pe("",!0)]),o("div",null,[a[10]||(a[10]=o("label",{class:"block text-gray-700 text-sm font-semibold mb-2"}," Password ",-1)),o("div",vA,[a[9]||(a[9]=o("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[o("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])],-1)),Ee(o("input",{"onUpdate:modelValue":a[1]||(a[1]=c=>Ve(n).password=c),type:t.value?"text":"password",class:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"Masukkan password",required:""},null,8,EA),[[Fv,Ve(n).password]]),o("button",{type:"button",onClick:a[2]||(a[2]=c=>t.value=!t.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600"},[t.value?(U(),G("svg",CA,[...a[8]||(a[8]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)])])):(U(),G("svg",wA,[...a[7]||(a[7]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])])]),o("div",AA,[o("label",BA,[Ee(o("input",{"onUpdate:modelValue":a[3]||(a[3]=c=>Ve(n).remember=c),type:"checkbox",class:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,512),[[qo,Ve(n).remember]]),a[11]||(a[11]=o("span",{class:"ml-2 text-sm text-gray-700"},"Ingat Saya",-1))]),a[12]||(a[12]=o("a",{href:"#",class:"text-sm text-blue-600 hover:text-blue-800 hover:underline"}," Lupa Password? ",-1))]),o("button",{type:"submit",disabled:Ve(n).processing,class:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-4 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"},[Ve(n).processing?(U(),G("span",DA,[...a[13]||(a[13]=[o("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),qe(" Memproses... ",-1)])])):(U(),G("span",kA,[...a[14]||(a[14]=[o("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})],-1),qe(" Login ",-1)])]))],8,_A)],32),o("div",SA,[o("p",FA,[a[16]||(a[16]=qe(" Belum punya akun? ",-1)),kt(Ve(un),{href:"/register",class:"text-blue-600 hover:text-blue-800 font-semibold hover:underline"},{default:bt(()=>[...a[15]||(a[15]=[qe(" Daftar Sekarang ",-1)])]),_:1})])])]),a[18]||(a[18]=o("div",{class:"text-center mt-8 text-blue-100 text-sm"},[o("p",null," 2025 Gondowangi WMS. All rights reserved.")],-1))])]))}},IA=Object.freeze(Object.defineProperty({__proto__:null,default:TA},Symbol.toStringTag,{value:"Module"})),MA={class:"min-h-screen flex items-center justify-center bg-gray-100"},PA={class:"max-w-md w-full bg-white rounded-lg shadow-md p-8"},RA={class:"mb-4"},OA={key:0,class:"text-red-500 text-sm mt-1"},NA={class:"mb-4"},LA={key:0,class:"text-red-500 text-sm mt-1"},$A={class:"mb-4"},jA={key:0,class:"text-red-500 text-sm mt-1"},UA={class:"mb-4"},HA={key:0,class:"text-red-500 text-sm mt-1"},zA={class:"mb-4"},VA={key:0,class:"text-red-500 text-sm mt-1"},qA={class:"mb-4"},WA={key:0,class:"text-red-500 text-sm mt-1"},GA={class:"mb-6"},QA=["disabled"],KA={key:0},YA={key:1},XA={class:"text-center mt-4"},ZA={__name:"Register",setup(e){const t=tl({nik:"",nama_lengkap:"",email:"",departement:"",jabatan:"",password:"",password_confirmation:""}),n=()=>{t.post("/register")};return(r,i)=>(U(),G("div",MA,[o("div",PA,[i[15]||(i[15]=o("h2",{class:"text-2xl font-bold text-center mb-6"},"Daftar Akun WMS [test git]",-1)),o("form",{onSubmit:or(n,["prevent"])},[o("div",RA,[i[7]||(i[7]=o("label",{class:"block text-gray-700 text-sm font-bold mb-2"},[qe(" NIK "),o("span",{class:"text-red-500"},"*")],-1)),Ee(o("input",{"onUpdate:modelValue":i[0]||(i[0]=a=>Ve(t).nik=a),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Masukkan NIK",required:""},null,512),[[Oe,Ve(t).nik]]),Ve(t).errors.nik?(U(),G("div",OA,P(Ve(t).errors.nik),1)):pe("",!0)]),o("div",NA,[i[8]||(i[8]=o("label",{class:"block text-gray-700 text-sm font-bold mb-2"},[qe(" Nama Lengkap "),o("span",{class:"text-red-500"},"*")],-1)),Ee(o("input",{"onUpdate:modelValue":i[1]||(i[1]=a=>Ve(t).nama_lengkap=a),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Masukkan nama lengkap",required:""},null,512),[[Oe,Ve(t).nama_lengkap]]),Ve(t).errors.nama_lengkap?(U(),G("div",LA,P(Ve(t).errors.nama_lengkap),1)):pe("",!0)]),o("div",$A,[i[9]||(i[9]=o("label",{class:"block text-gray-700 text-sm font-bold mb-2"},[qe(" Email "),o("span",{class:"text-red-500"},"*")],-1)),Ee(o("input",{"onUpdate:modelValue":i[2]||(i[2]=a=>Ve(t).email=a),type:"email",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Masukkan email",required:""},null,512),[[Oe,Ve(t).email]]),Ve(t).errors.email?(U(),G("div",jA,P(Ve(t).errors.email),1)):pe("",!0)]),o("div",UA,[i[10]||(i[10]=o("label",{class:"block text-gray-700 text-sm font-bold mb-2"}," Departement ",-1)),Ee(o("input",{"onUpdate:modelValue":i[3]||(i[3]=a=>Ve(t).departement=a),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Contoh: Produksi, Warehouse, QC"},null,512),[[Oe,Ve(t).departement]]),Ve(t).errors.departement?(U(),G("div",HA,P(Ve(t).errors.departement),1)):pe("",!0)]),o("div",zA,[i[11]||(i[11]=o("label",{class:"block text-gray-700 text-sm font-bold mb-2"}," Jabatan ",-1)),Ee(o("input",{"onUpdate:modelValue":i[4]||(i[4]=a=>Ve(t).jabatan=a),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Contoh: Staff, Supervisor, Manager"},null,512),[[Oe,Ve(t).jabatan]]),Ve(t).errors.jabatan?(U(),G("div",VA,P(Ve(t).errors.jabatan),1)):pe("",!0)]),o("div",qA,[i[12]||(i[12]=o("label",{class:"block text-gray-700 text-sm font-bold mb-2"},[qe(" Password "),o("span",{class:"text-red-500"},"*")],-1)),Ee(o("input",{"onUpdate:modelValue":i[5]||(i[5]=a=>Ve(t).password=a),type:"password",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Minimal 8 karakter",required:""},null,512),[[Oe,Ve(t).password]]),Ve(t).errors.password?(U(),G("div",WA,P(Ve(t).errors.password),1)):pe("",!0)]),o("div",GA,[i[13]||(i[13]=o("label",{class:"block text-gray-700 text-sm font-bold mb-2"},[qe(" Konfirmasi Password "),o("span",{class:"text-red-500"},"*")],-1)),Ee(o("input",{"onUpdate:modelValue":i[6]||(i[6]=a=>Ve(t).password_confirmation=a),type:"password",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ulangi password",required:""},null,512),[[Oe,Ve(t).password_confirmation]])]),o("button",{type:"submit",disabled:Ve(t).processing,class:"w-full bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 transition duration-200 disabled:opacity-50"},[Ve(t).processing?(U(),G("span",KA,"Loading...")):(U(),G("span",YA,"Daftar"))],8,QA),o("div",XA,[kt(Ve(un),{href:"/login",class:"text-blue-500 hover:underline text-sm"},{default:bt(()=>[...i[14]||(i[14]=[qe(" Sudah punya akun? Login ",-1)])]),_:1})])],32)])]))}},JA=Object.freeze(Object.defineProperty({__proto__:null,default:ZA},Symbol.toStringTag,{value:"Module"}));function e7(){const e=co(),t=We(()=>e.props.permissions||[]),n=a=>t.value.includes(a);return{permissions:t,hasPermission:n,hasAnyPermission:a=>a.some(c=>n(c)),hasAllPermissions:a=>a.every(c=>n(c))}}const t7={class:"h-screen flex bg-gray-100 overflow-hidden"},n7={class:"p-4 border-b border-gray-200 flex items-center justify-between"},r7={class:"flex items-center space-x-2"},s7={class:"flex items-center space-x-2"},o7={class:"flex-1 overflow-y-auto py-4"},i7={class:"space-y-1 px-2"},a7={class:"font-medium"},l7={class:"font-medium"},c7={class:"font-medium"},d7={class:"font-medium"},u7={class:"font-medium"},x7={key:5,class:"my-4 px-2"},f7={class:"mt-3 mb-2 px-2"},h7={class:"font-medium"},g7={class:"font-medium"},p7={class:"font-medium"},m7={class:"font-medium"},y7={class:"font-medium"},b7={class:"font-medium"},v7={class:"font-medium"},E7={key:13,class:"my-4 px-2"},w7={class:"mt-3 mb-2 px-2"},C7={class:"font-medium"},A7={class:"font-medium"},B7={class:"border-t border-gray-200 p-4"},_7={class:"flex items-center space-x-3"},D7={class:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0"},k7={class:"text-white font-semibold text-sm"},S7={class:"flex-1 min-w-0"},F7={class:"text-sm font-medium text-gray-800 truncate"},T7={class:"text-xs text-gray-500 truncate"},I7={class:"flex-1 flex flex-col min-w-0"},M7={class:"bg-white shadow-sm"},P7={class:"px-6 py-4 flex items-center justify-between"},R7={class:"text-2xl font-bold text-gray-800"},O7={class:"text-sm text-gray-500 mt-1"},N7={class:"flex items-center space-x-4"},L7={class:"flex items-center space-x-2 px-3 py-2 bg-gray-50 rounded-lg"},$7={class:"text-right"},j7={class:"text-sm font-medium text-gray-800"},U7={class:"text-xs text-gray-500"},H7={class:"flex-1 overflow-y-auto p-6 bg-gray-50"},Qn={__name:"AppLayout",props:{pageTitle:{type:String,default:"Dashboard"},pageDescription:{type:String,default:"Selamat datang di Warehouse Management System"}},setup(e){const t=co(),{hasAnyPermission:n}=e7(),r=ve(!0),i=We(()=>n(["incoming.view","incoming.create","qc.view","qc.input_qc_result","putaway.view","putaway.kerjakan_to","reservation.view","reservation.create_request","picking.view","picking.kerjakan_picking","return.view","return.create_return"])),a=We(()=>{const g=t.props.auth.user.name,f=g.split(" ");return f.length>=2?f[0][0]+f[1][0]:g.substring(0,2).toUpperCase()}),c=()=>{gt.post("/logout")},u=g=>{const f=t.url.split("?")[0],m=f===g||f.startsWith(g+"/"),y="flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200";return m?`${y} bg-[#157347] text-white shadow-lg`:`${y} text-gray-700 hover:bg-gray-100`};return(g,f)=>(U(),G("div",t7,[o("aside",{class:Fe(["bg-white text-gray-800 shadow-lg","transition-all duration-300 flex flex-col","border-r border-gray-200",r.value?"w-64":"w-20"])},[o("div",n7,[Ee(o("div",r7,[...f[1]||(f[1]=[o("svg",{class:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})],-1),o("span",{class:"text-xl font-bold text-gray-800"},"WMS",-1)])],512),[[nn,r.value]]),o("div",s7,[o("button",{onClick:f[0]||(f[0]=m=>r.value=!r.value),class:"p-2 rounded hover:bg-gray-100 transition"},[...f[2]||(f[2]=[o("svg",{class:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])])])]),o("nav",o7,[o("div",i7,[Ve(n)(["incoming.view","qc.view"])?(U(),Et(Ve(un),{key:0,href:"/wms-dashboard",class:Fe(u("/wms-dashboard"))},{default:bt(()=>[f[3]||(f[3]=o("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),Ee(o("span",a7,"Dashboard",512),[[nn,r.value]])]),_:1},8,["class"])):pe("",!0),Ve(n)(["incoming.view","qc.view","putaway.view","picking.view","reservation.view","return.view","central_data.user_management_view"])?(U(),Et(Ve(un),{key:1,href:"/dashboard",class:Fe(u("/dashboard"))},{default:bt(()=>[f[4]||(f[4]=o("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})],-1)),Ee(o("span",l7,"On Hand",512),[[nn,r.value]])]),_:1},8,["class"])):pe("",!0),Ve(n)(["return.view","return.create_return","return.approve_return"])?(U(),Et(Ve(un),{key:2,href:"/transaction/cycle-count",class:Fe(u("/transaction/cycle-count"))},{default:bt(()=>[f[5]||(f[5]=o("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v6h6M20 20v-6h-6"})],-1)),Ee(o("span",c7,"Cycle Count",512),[[nn,r.value]])]),_:1},8,["class"])):pe("",!0),Ve(n)(["incoming.view","qc.view","putaway.view","picking.view","reservation.view","return.view"])?(U(),Et(Ve(un),{key:3,href:"/activity-log",class:Fe(u("/activity-log"))},{default:bt(()=>[f[6]||(f[6]=o("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),Ee(o("span",d7,"Riwayat Aktivitas",512),[[nn,r.value]])]),_:1},8,["class"])):pe("",!0),Ve(n)(["central_data.role_management_admin"])?(U(),Et(Ve(un),{key:4,href:"/it-dashboard",class:Fe(u("/it-dashboard"))},{default:bt(()=>[f[7]||(f[7]=o("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),Ee(o("span",u7,"IT Dashboard",512),[[nn,r.value]])]),_:1},8,["class"])):pe("",!0),i.value?(U(),G("div",x7,[f[9]||(f[9]=o("div",{class:"border-t border-gray-200"},null,-1)),Ee(o("div",f7,[...f[8]||(f[8]=[o("span",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wider"}," Transaksi ",-1)])],512),[[nn,r.value]])])):pe("",!0),Ve(n)(["incoming.view","incoming.create","incoming.edit"])?(U(),Et(Ve(un),{key:6,href:"/transaction/goods-receipt",class:Fe(u("/transaction/goods-receipt"))},{default:bt(()=>[f[10]||(f[10]=o("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1)),Ee(o("span",h7,"Penerimaan Barang",512),[[nn,r.value]])]),_:1},8,["class"])):pe("",!0),Ve(n)(["qc.view","qc.input_qc_result","qc.approve"])?(U(),Et(Ve(un),{key:7,href:"/transaction/quality-control",class:Fe(u("/transaction/quality-control"))},{default:bt(()=>[f[11]||(f[11]=o("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2l4-4"}),o("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2",fill:"none"})],-1)),Ee(o("span",g7,"Quality Control",512),[[nn,r.value]])]),_:1},8,["class"])):pe("",!0),Ve(n)(["putaway.view","putaway.kerjakan_to"])?(U(),Et(Ve(un),{key:8,href:"/transaction/putaway-transfer",class:Fe(u("/transaction/putaway-transfer"))},{default:bt(()=>[f[12]||(f[12]=o("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7"})],-1)),Ee(o("span",p7,"PutAway",512),[[nn,r.value]])]),_:1},8,["class"])):pe("",!0),Ve(n)(["bin-to-bin.view","bin-to-bin.pindah_barang"])?(U(),Et(Ve(un),{key:9,href:"/transaction/bin-to-bin",class:Fe(u("/transaction/bin-to-bin"))},{default:bt(()=>[f[13]||(f[13]=o("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1)),Ee(o("span",m7,"Bin to Bin",512),[[nn,r.value]])]),_:1},8,["class"])):pe("",!0),Ve(n)(["reservation.view","reservation.create_request","reservation.approve_request"])?(U(),Et(Ve(un),{key:10,href:"/transaction/reservation",class:Fe(u("/transaction/reservation"))},{default:bt(()=>[f[14]||(f[14]=o("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",stroke:"currentColor","stroke-width":"2",fill:"none"}),o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 2v4M8 2v4"})],-1)),Ee(o("span",y7,"Reservation",512),[[nn,r.value]])]),_:1},8,["class"])):pe("",!0),Ve(n)(["picking.view","picking.kerjakan_picking"])?(U(),Et(Ve(un),{key:11,href:"/transaction/picking-list",class:Fe(u("/transaction/picking-list"))},{default:bt(()=>[f[15]||(f[15]=o("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",stroke:"currentColor","stroke-width":"2",fill:"none"}),o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 9h6M9 13h6"})],-1)),Ee(o("span",b7,"Picking List",512),[[nn,r.value]])]),_:1},8,["class"])):pe("",!0),Ve(n)(["return.view","return.create_return","return.approve_return"])?(U(),Et(Ve(un),{key:12,href:"/transaction/return",class:Fe(u("/transaction/return"))},{default:bt(()=>[f[16]||(f[16]=o("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h5M20 20v-5h-5m-1 5a8 8 0 01-14.8-3h-2m.2-2h-2m14-3h-2m-1 5a8 8 0 01-14.8-3"})],-1)),Ee(o("span",v7,"Return",512),[[nn,r.value]])]),_:1},8,["class"])):pe("",!0),i.value?(U(),G("div",E7,[f[18]||(f[18]=o("div",{class:"border-t border-gray-200"},null,-1)),Ee(o("div",w7,[...f[17]||(f[17]=[o("span",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wider"}," Kelola ",-1)])],512),[[nn,r.value]])])):pe("",!0),Ve(n)(["central_data.sku_management_view","central_data.supplier_management_view","central_data.bin_management_view"])?(U(),Et(Ve(un),{key:14,href:"/master-data",class:Fe(u("/master-data"))},{default:bt(()=>[f[19]||(f[19]=o("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"})],-1)),Ee(o("span",C7,"Master Data",512),[[nn,r.value]])]),_:1},8,["class"])):pe("",!0),Ve(n)(["central_data.role_management_view","central_data.role_management_admin"])?(U(),Et(Ve(un),{key:15,href:"/role-permission",class:Fe(u("/role-permission"))},{default:bt(()=>[f[20]||(f[20]=o("svg",{class:"w-6 h-6 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"})],-1)),Ee(o("span",A7,"Role Permission",512),[[nn,r.value]])]),_:1},8,["class"])):pe("",!0)])]),o("div",B7,[o("div",_7,[o("div",D7,[o("span",k7,P(a.value),1)]),Ee(o("div",S7,[o("p",F7,P(g.$page.props.auth.user.name),1),o("p",T7,P(g.$page.props.auth.user.role?.name||"Staff"),1)],512),[[nn,r.value]])]),Ee(o("button",{onClick:c,class:"mt-3 w-full flex items-center justify-center space-x-2 px-3 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition text-sm text-white"},[...f[21]||(f[21]=[o("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),o("span",null,"Logout",-1)])],512),[[nn,r.value]])])],2),o("div",I7,[o("header",M7,[o("div",P7,[o("div",null,[o("h1",R7,P(e.pageTitle),1),o("p",O7,P(e.pageDescription),1)]),o("div",N7,[f[22]||(f[22]=o("button",{class:"relative p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition"},[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})]),o("span",{class:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})],-1)),o("div",L7,[o("div",$7,[o("p",j7,P(g.$page.props.auth.user.name),1),o("p",U7,P(g.$page.props.auth.user.nik),1)])])])])]),o("main",H7,[h9(g.$slots,"default")])])]))}};var Ql={exports:{}},z7=Ql.exports,Nh;function V7(){return Nh||(Nh=1,(function(e,t){(function(r,i){e.exports=i()})(typeof self<"u"?self:z7,function(){return(function(n){var r={};function i(a){if(r[a])return r[a].exports;var c=r[a]={i:a,l:!1,exports:{}};return n[a].call(c.exports,c,c.exports,i),c.l=!0,c.exports}return i.m=n,i.c=r,i.d=function(a,c,u){i.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:u})},i.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(c,"a",c),c},i.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)},i.p="",i(i.s=3)})([(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function c(u,g){this.width=g,this.height=u.length/g,this.data=u}return c.createEmpty=function(u,g){return new c(new Uint8ClampedArray(u*g),u)},c.prototype.get=function(u,g){return u<0||u>=this.width||g<0||g>=this.height?!1:!!this.data[g*this.width+u]},c.prototype.set=function(u,g,f){this.data[g*this.width+u]=f?1:0},c.prototype.setRegion=function(u,g,f,m,y){for(var w=g;w<g+m;w++)for(var E=u;E<u+f;E++)this.set(E,w,!!y)},c})();r.BitMatrix=a}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(2);function c(g,f){return g^f}r.addOrSubtractGF=c;var u=(function(){function g(f,m,y){this.primitive=f,this.size=m,this.generatorBase=y,this.expTable=new Array(this.size),this.logTable=new Array(this.size);for(var w=1,E=0;E<this.size;E++)this.expTable[E]=w,w=w*2,w>=this.size&&(w=(w^this.primitive)&this.size-1);for(var E=0;E<this.size-1;E++)this.logTable[this.expTable[E]]=E;this.zero=new a.default(this,Uint8ClampedArray.from([0])),this.one=new a.default(this,Uint8ClampedArray.from([1]))}return g.prototype.multiply=function(f,m){return f===0||m===0?0:this.expTable[(this.logTable[f]+this.logTable[m])%(this.size-1)]},g.prototype.inverse=function(f){if(f===0)throw new Error("Can't invert 0");return this.expTable[this.size-this.logTable[f]-1]},g.prototype.buildMonomial=function(f,m){if(f<0)throw new Error("Invalid monomial degree less than 0");if(m===0)return this.zero;var y=new Uint8ClampedArray(f+1);return y[0]=m,new a.default(this,y)},g.prototype.log=function(f){if(f===0)throw new Error("Can't take log(0)");return this.logTable[f]},g.prototype.exp=function(f){return this.expTable[f]},g})();r.default=u}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),c=(function(){function u(g,f){if(f.length===0)throw new Error("No coefficients.");this.field=g;var m=f.length;if(m>1&&f[0]===0){for(var y=1;y<m&&f[y]===0;)y++;if(y===m)this.coefficients=g.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(m-y);for(var w=0;w<this.coefficients.length;w++)this.coefficients[w]=f[y+w]}}else this.coefficients=f}return u.prototype.degree=function(){return this.coefficients.length-1},u.prototype.isZero=function(){return this.coefficients[0]===0},u.prototype.getCoefficient=function(g){return this.coefficients[this.coefficients.length-1-g]},u.prototype.addOrSubtract=function(g){var f;if(this.isZero())return g;if(g.isZero())return this;var m=this.coefficients,y=g.coefficients;m.length>y.length&&(f=[y,m],m=f[0],y=f[1]);for(var w=new Uint8ClampedArray(y.length),E=y.length-m.length,C=0;C<E;C++)w[C]=y[C];for(var C=E;C<y.length;C++)w[C]=a.addOrSubtractGF(m[C-E],y[C]);return new u(this.field,w)},u.prototype.multiply=function(g){if(g===0)return this.field.zero;if(g===1)return this;for(var f=this.coefficients.length,m=new Uint8ClampedArray(f),y=0;y<f;y++)m[y]=this.field.multiply(this.coefficients[y],g);return new u(this.field,m)},u.prototype.multiplyPoly=function(g){if(this.isZero()||g.isZero())return this.field.zero;for(var f=this.coefficients,m=f.length,y=g.coefficients,w=y.length,E=new Uint8ClampedArray(m+w-1),C=0;C<m;C++)for(var D=f[C],_=0;_<w;_++)E[C+_]=a.addOrSubtractGF(E[C+_],this.field.multiply(D,y[_]));return new u(this.field,E)},u.prototype.multiplyByMonomial=function(g,f){if(g<0)throw new Error("Invalid degree less than 0");if(f===0)return this.field.zero;for(var m=this.coefficients.length,y=new Uint8ClampedArray(m+g),w=0;w<m;w++)y[w]=this.field.multiply(this.coefficients[w],f);return new u(this.field,y)},u.prototype.evaluateAt=function(g){var f=0;if(g===0)return this.getCoefficient(0);var m=this.coefficients.length;if(g===1)return this.coefficients.forEach(function(w){f=a.addOrSubtractGF(f,w)}),f;f=this.coefficients[0];for(var y=1;y<m;y++)f=a.addOrSubtractGF(this.field.multiply(g,f),this.coefficients[y]);return f},u})();r.default=c}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(4),c=i(5),u=i(11),g=i(12);function f(w){var E=g.locate(w);if(!E)return null;for(var C=0,D=E;C<D.length;C++){var _=D[C],M=u.extract(w,_),$=c.decode(M.matrix);if($)return{binaryData:$.bytes,data:$.text,chunks:$.chunks,version:$.version,location:{topRightCorner:M.mappingFunction(_.dimension,0),topLeftCorner:M.mappingFunction(0,0),bottomRightCorner:M.mappingFunction(_.dimension,_.dimension),bottomLeftCorner:M.mappingFunction(0,_.dimension),topRightFinderPattern:_.topRight,topLeftFinderPattern:_.topLeft,bottomLeftFinderPattern:_.bottomLeft,bottomRightAlignmentPattern:_.alignmentPattern}}}return null}var m={inversionAttempts:"attemptBoth"};function y(w,E,C,D){D===void 0&&(D={});var _=m;Object.keys(_||{}).forEach(function(L){_[L]=D[L]||_[L]});var M=_.inversionAttempts==="attemptBoth"||_.inversionAttempts==="invertFirst",$=_.inversionAttempts==="onlyInvert"||_.inversionAttempts==="invertFirst",I=a.binarize(w,E,C,M),S=I.binarized,T=I.inverted,j=f($?T:S);return!j&&(_.inversionAttempts==="attemptBoth"||_.inversionAttempts==="invertFirst")&&(j=f($?S:T)),j}y.default=y,r.default=y}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(0),c=8,u=24;function g(y,w,E){return y<w?w:y>E?E:y}var f=(function(){function y(w,E){this.width=w,this.data=new Uint8ClampedArray(w*E)}return y.prototype.get=function(w,E){return this.data[E*this.width+w]},y.prototype.set=function(w,E,C){this.data[E*this.width+w]=C},y})();function m(y,w,E,C){if(y.length!==w*E*4)throw new Error("Malformed data passed to binarizer.");for(var D=new f(w,E),_=0;_<w;_++)for(var M=0;M<E;M++){var $=y[(M*w+_)*4+0],I=y[(M*w+_)*4+1],S=y[(M*w+_)*4+2];D.set(_,M,.2126*$+.7152*I+.0722*S)}for(var T=Math.ceil(w/c),j=Math.ceil(E/c),L=new f(T,j),z=0;z<j;z++)for(var F=0;F<T;F++){for(var Q=0,le=1/0,Y=0,M=0;M<c;M++)for(var _=0;_<c;_++){var ce=D.get(F*c+_,z*c+M);Q+=ce,le=Math.min(le,ce),Y=Math.max(Y,ce)}var me=Q/Math.pow(c,2);if(Y-le<=u&&(me=le/2,z>0&&F>0)){var te=(L.get(F,z-1)+2*L.get(F-1,z)+L.get(F-1,z-1))/4;le<te&&(me=te)}L.set(F,z,me)}var ne=a.BitMatrix.createEmpty(w,E),de=null;C&&(de=a.BitMatrix.createEmpty(w,E));for(var z=0;z<j;z++)for(var F=0;F<T;F++){for(var be=g(F,2,T-3),De=g(z,2,j-3),Q=0,Ie=-2;Ie<=2;Ie++)for(var fe=-2;fe<=2;fe++)Q+=L.get(be+Ie,De+fe);for(var Pe=Q/25,Ie=0;Ie<c;Ie++)for(var fe=0;fe<c;fe++){var _=F*c+Ie,M=z*c+fe,Ge=D.get(_,M);ne.set(_,M,Ge<=Pe),C&&de.set(_,M,!(Ge<=Pe))}}return C?{binarized:ne,inverted:de}:{binarized:ne}}r.binarize=m}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(0),c=i(6),u=i(9),g=i(10);function f(S,T){for(var j=S^T,L=0;j;)L++,j&=j-1;return L}function m(S,T){return T<<1|S}var y=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],w=[function(S){return(S.y+S.x)%2===0},function(S){return S.y%2===0},function(S){return S.x%3===0},function(S){return(S.y+S.x)%3===0},function(S){return(Math.floor(S.y/2)+Math.floor(S.x/3))%2===0},function(S){return S.x*S.y%2+S.x*S.y%3===0},function(S){return(S.y*S.x%2+S.y*S.x%3)%2===0},function(S){return((S.y+S.x)%2+S.y*S.x%3)%2===0}];function E(S){var T=17+4*S.versionNumber,j=a.BitMatrix.createEmpty(T,T);j.setRegion(0,0,9,9,!0),j.setRegion(T-8,0,8,9,!0),j.setRegion(0,T-8,9,8,!0);for(var L=0,z=S.alignmentPatternCenters;L<z.length;L++)for(var F=z[L],Q=0,le=S.alignmentPatternCenters;Q<le.length;Q++){var Y=le[Q];F===6&&Y===6||F===6&&Y===T-7||F===T-7&&Y===6||j.setRegion(F-2,Y-2,5,5,!0)}return j.setRegion(6,9,1,T-17,!0),j.setRegion(9,6,T-17,1,!0),S.versionNumber>6&&(j.setRegion(T-11,0,3,6,!0),j.setRegion(0,T-11,6,3,!0)),j}function C(S,T,j){for(var L=w[j.dataMask],z=S.height,F=E(T),Q=[],le=0,Y=0,ce=!0,me=z-1;me>0;me-=2){me===6&&me--;for(var te=0;te<z;te++)for(var ne=ce?z-1-te:te,de=0;de<2;de++){var be=me-de;if(!F.get(be,ne)){Y++;var De=S.get(be,ne);L({y:ne,x:be})&&(De=!De),le=m(De,le),Y===8&&(Q.push(le),Y=0,le=0)}}ce=!ce}return Q}function D(S){var T=S.height,j=Math.floor((T-17)/4);if(j<=6)return g.VERSIONS[j-1];for(var L=0,z=5;z>=0;z--)for(var F=T-9;F>=T-11;F--)L=m(S.get(F,z),L);for(var Q=0,F=5;F>=0;F--)for(var z=T-9;z>=T-11;z--)Q=m(S.get(F,z),Q);for(var le=1/0,Y,ce=0,me=g.VERSIONS;ce<me.length;ce++){var te=me[ce];if(te.infoBits===L||te.infoBits===Q)return te;var ne=f(L,te.infoBits);ne<le&&(Y=te,le=ne),ne=f(Q,te.infoBits),ne<le&&(Y=te,le=ne)}if(le<=3)return Y}function _(S){for(var T=0,j=0;j<=8;j++)j!==6&&(T=m(S.get(j,8),T));for(var L=7;L>=0;L--)L!==6&&(T=m(S.get(8,L),T));for(var z=S.height,F=0,L=z-1;L>=z-7;L--)F=m(S.get(8,L),F);for(var j=z-8;j<z;j++)F=m(S.get(j,8),F);for(var Q=1/0,le=null,Y=0,ce=y;Y<ce.length;Y++){var me=ce[Y],te=me.bits,ne=me.formatInfo;if(te===T||te===F)return ne;var de=f(T,te);de<Q&&(le=ne,Q=de),T!==F&&(de=f(F,te),de<Q&&(le=ne,Q=de))}return Q<=3?le:null}function M(S,T,j){var L=T.errorCorrectionLevels[j],z=[],F=0;if(L.ecBlocks.forEach(function(De){for(var Ie=0;Ie<De.numBlocks;Ie++)z.push({numDataCodewords:De.dataCodewordsPerBlock,codewords:[]}),F+=De.dataCodewordsPerBlock+L.ecCodewordsPerBlock}),S.length<F)return null;S=S.slice(0,F);for(var Q=L.ecBlocks[0].dataCodewordsPerBlock,le=0;le<Q;le++)for(var Y=0,ce=z;Y<ce.length;Y++){var me=ce[Y];me.codewords.push(S.shift())}if(L.ecBlocks.length>1)for(var te=L.ecBlocks[0].numBlocks,ne=L.ecBlocks[1].numBlocks,le=0;le<ne;le++)z[te+le].codewords.push(S.shift());for(;S.length>0;)for(var de=0,be=z;de<be.length;de++){var me=be[de];me.codewords.push(S.shift())}return z}function $(S){var T=D(S);if(!T)return null;var j=_(S);if(!j)return null;var L=C(S,T,j),z=M(L,T,j.errorCorrectionLevel);if(!z)return null;for(var F=z.reduce(function(de,be){return de+be.numDataCodewords},0),Q=new Uint8ClampedArray(F),le=0,Y=0,ce=z;Y<ce.length;Y++){var me=ce[Y],te=u.decode(me.codewords,me.codewords.length-me.numDataCodewords);if(!te)return null;for(var ne=0;ne<me.numDataCodewords;ne++)Q[le++]=te[ne]}try{return c.decode(Q,T.versionNumber)}catch{return null}}function I(S){if(S==null)return null;var T=$(S);if(T)return T;for(var j=0;j<S.width;j++)for(var L=j+1;L<S.height;L++)S.get(j,L)!==S.get(L,j)&&(S.set(j,L,!S.get(j,L)),S.set(L,j,!S.get(L,j)));return $(S)}r.decode=I}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(7),c=i(8),u;(function(D){D.Numeric="numeric",D.Alphanumeric="alphanumeric",D.Byte="byte",D.Kanji="kanji",D.ECI="eci"})(u=r.Mode||(r.Mode={}));var g;(function(D){D[D.Terminator=0]="Terminator",D[D.Numeric=1]="Numeric",D[D.Alphanumeric=2]="Alphanumeric",D[D.Byte=4]="Byte",D[D.Kanji=8]="Kanji",D[D.ECI=7]="ECI"})(g||(g={}));function f(D,_){for(var M=[],$="",I=[10,12,14][_],S=D.readBits(I);S>=3;){var T=D.readBits(10);if(T>=1e3)throw new Error("Invalid numeric value above 999");var j=Math.floor(T/100),L=Math.floor(T/10)%10,z=T%10;M.push(48+j,48+L,48+z),$+=j.toString()+L.toString()+z.toString(),S-=3}if(S===2){var T=D.readBits(7);if(T>=100)throw new Error("Invalid numeric value above 99");var j=Math.floor(T/10),L=T%10;M.push(48+j,48+L),$+=j.toString()+L.toString()}else if(S===1){var T=D.readBits(4);if(T>=10)throw new Error("Invalid numeric value above 9");M.push(48+T),$+=T.toString()}return{bytes:M,text:$}}var m=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function y(D,_){for(var M=[],$="",I=[9,11,13][_],S=D.readBits(I);S>=2;){var T=D.readBits(11),j=Math.floor(T/45),L=T%45;M.push(m[j].charCodeAt(0),m[L].charCodeAt(0)),$+=m[j]+m[L],S-=2}if(S===1){var j=D.readBits(6);M.push(m[j].charCodeAt(0)),$+=m[j]}return{bytes:M,text:$}}function w(D,_){for(var M=[],$="",I=[8,16,16][_],S=D.readBits(I),T=0;T<S;T++){var j=D.readBits(8);M.push(j)}try{$+=decodeURIComponent(M.map(function(L){return"%"+("0"+L.toString(16)).substr(-2)}).join(""))}catch{}return{bytes:M,text:$}}function E(D,_){for(var M=[],$="",I=[8,10,12][_],S=D.readBits(I),T=0;T<S;T++){var j=D.readBits(13),L=Math.floor(j/192)<<8|j%192;L<7936?L+=33088:L+=49472,M.push(L>>8,L&255),$+=String.fromCharCode(c.shiftJISTable[L])}return{bytes:M,text:$}}function C(D,_){for(var M,$,I,S,T=new a.BitStream(D),j=_<=9?0:_<=26?1:2,L={text:"",bytes:[],chunks:[],version:_};T.available()>=4;){var z=T.readBits(4);if(z===g.Terminator)return L;if(z===g.ECI)T.readBits(1)===0?L.chunks.push({type:u.ECI,assignmentNumber:T.readBits(7)}):T.readBits(1)===0?L.chunks.push({type:u.ECI,assignmentNumber:T.readBits(14)}):T.readBits(1)===0?L.chunks.push({type:u.ECI,assignmentNumber:T.readBits(21)}):L.chunks.push({type:u.ECI,assignmentNumber:-1});else if(z===g.Numeric){var F=f(T,j);L.text+=F.text,(M=L.bytes).push.apply(M,F.bytes),L.chunks.push({type:u.Numeric,text:F.text})}else if(z===g.Alphanumeric){var Q=y(T,j);L.text+=Q.text,($=L.bytes).push.apply($,Q.bytes),L.chunks.push({type:u.Alphanumeric,text:Q.text})}else if(z===g.Byte){var le=w(T,j);L.text+=le.text,(I=L.bytes).push.apply(I,le.bytes),L.chunks.push({type:u.Byte,bytes:le.bytes,text:le.text})}else if(z===g.Kanji){var Y=E(T,j);L.text+=Y.text,(S=L.bytes).push.apply(S,Y.bytes),L.chunks.push({type:u.Kanji,bytes:Y.bytes,text:Y.text})}}if(T.available()===0||T.readBits(T.available())===0)return L}r.decode=C}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function c(u){this.byteOffset=0,this.bitOffset=0,this.bytes=u}return c.prototype.readBits=function(u){if(u<1||u>32||u>this.available())throw new Error("Cannot read "+u.toString()+" bits");var g=0;if(this.bitOffset>0){var f=8-this.bitOffset,m=u<f?u:f,y=f-m,w=255>>8-m<<y;g=(this.bytes[this.byteOffset]&w)>>y,u-=m,this.bitOffset+=m,this.bitOffset===8&&(this.bitOffset=0,this.byteOffset++)}if(u>0){for(;u>=8;)g=g<<8|this.bytes[this.byteOffset]&255,this.byteOffset++,u-=8;if(u>0){var y=8-u,w=255>>y<<y;g=g<<u|(this.bytes[this.byteOffset]&w)>>y,this.bitOffset+=u}}return g},c.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},c})();r.BitStream=a}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.shiftJISTable={32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:165,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:8254,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:92,33120:12316,33121:8214,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:8722,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:162,33170:163,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:172,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081}}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(1),c=i(2);function u(y,w,E,C){var D;w.degree()<E.degree()&&(D=[E,w],w=D[0],E=D[1]);for(var _=w,M=E,$=y.zero,I=y.one;M.degree()>=C/2;){var S=_,T=$;if(_=M,$=I,_.isZero())return null;M=S;for(var j=y.zero,L=_.getCoefficient(_.degree()),z=y.inverse(L);M.degree()>=_.degree()&&!M.isZero();){var F=M.degree()-_.degree(),Q=y.multiply(M.getCoefficient(M.degree()),z);j=j.addOrSubtract(y.buildMonomial(F,Q)),M=M.addOrSubtract(_.multiplyByMonomial(F,Q))}if(I=j.multiplyPoly($).addOrSubtract(T),M.degree()>=_.degree())return null}var le=I.getCoefficient(0);if(le===0)return null;var Y=y.inverse(le);return[I.multiply(Y),M.multiply(Y)]}function g(y,w){var E=w.degree();if(E===1)return[w.getCoefficient(1)];for(var C=new Array(E),D=0,_=1;_<y.size&&D<E;_++)w.evaluateAt(_)===0&&(C[D]=y.inverse(_),D++);return D!==E?null:C}function f(y,w,E){for(var C=E.length,D=new Array(C),_=0;_<C;_++){for(var M=y.inverse(E[_]),$=1,I=0;I<C;I++)_!==I&&($=y.multiply($,a.addOrSubtractGF(1,y.multiply(E[I],M))));D[_]=y.multiply(w.evaluateAt(M),y.inverse($)),y.generatorBase!==0&&(D[_]=y.multiply(D[_],M))}return D}function m(y,w){var E=new Uint8ClampedArray(y.length);E.set(y);for(var C=new a.default(285,256,0),D=new c.default(C,E),_=new Uint8ClampedArray(w),M=!1,$=0;$<w;$++){var I=D.evaluateAt(C.exp($+C.generatorBase));_[_.length-1-$]=I,I!==0&&(M=!0)}if(!M)return E;var S=new c.default(C,_),T=u(C,C.buildMonomial(w,1),S,w);if(T===null)return null;var j=g(C,T[0]);if(j==null)return null;for(var L=f(C,T[1],j),z=0;z<j.length;z++){var F=E.length-1-C.log(j[z]);if(F<0)return null;E[F]=a.addOrSubtractGF(E[F],L[z])}return E}r.decode=m}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.VERSIONS=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}]}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(0);function c(m,y,w,E){var C=m.x-y.x+w.x-E.x,D=m.y-y.y+w.y-E.y;if(C===0&&D===0)return{a11:y.x-m.x,a12:y.y-m.y,a13:0,a21:w.x-y.x,a22:w.y-y.y,a23:0,a31:m.x,a32:m.y,a33:1};var _=y.x-w.x,M=E.x-w.x,$=y.y-w.y,I=E.y-w.y,S=_*I-M*$,T=(C*I-M*D)/S,j=(_*D-C*$)/S;return{a11:y.x-m.x+T*y.x,a12:y.y-m.y+T*y.y,a13:T,a21:E.x-m.x+j*E.x,a22:E.y-m.y+j*E.y,a23:j,a31:m.x,a32:m.y,a33:1}}function u(m,y,w,E){var C=c(m,y,w,E);return{a11:C.a22*C.a33-C.a23*C.a32,a12:C.a13*C.a32-C.a12*C.a33,a13:C.a12*C.a23-C.a13*C.a22,a21:C.a23*C.a31-C.a21*C.a33,a22:C.a11*C.a33-C.a13*C.a31,a23:C.a13*C.a21-C.a11*C.a23,a31:C.a21*C.a32-C.a22*C.a31,a32:C.a12*C.a31-C.a11*C.a32,a33:C.a11*C.a22-C.a12*C.a21}}function g(m,y){return{a11:m.a11*y.a11+m.a21*y.a12+m.a31*y.a13,a12:m.a12*y.a11+m.a22*y.a12+m.a32*y.a13,a13:m.a13*y.a11+m.a23*y.a12+m.a33*y.a13,a21:m.a11*y.a21+m.a21*y.a22+m.a31*y.a23,a22:m.a12*y.a21+m.a22*y.a22+m.a32*y.a23,a23:m.a13*y.a21+m.a23*y.a22+m.a33*y.a23,a31:m.a11*y.a31+m.a21*y.a32+m.a31*y.a33,a32:m.a12*y.a31+m.a22*y.a32+m.a32*y.a33,a33:m.a13*y.a31+m.a23*y.a32+m.a33*y.a33}}function f(m,y){for(var w=u({x:3.5,y:3.5},{x:y.dimension-3.5,y:3.5},{x:y.dimension-6.5,y:y.dimension-6.5},{x:3.5,y:y.dimension-3.5}),E=c(y.topLeft,y.topRight,y.alignmentPattern,y.bottomLeft),C=g(E,w),D=a.BitMatrix.createEmpty(y.dimension,y.dimension),_=function(j,L){var z=C.a13*j+C.a23*L+C.a33;return{x:(C.a11*j+C.a21*L+C.a31)/z,y:(C.a12*j+C.a22*L+C.a32)/z}},M=0;M<y.dimension;M++)for(var $=0;$<y.dimension;$++){var I=$+.5,S=M+.5,T=_(I,S);D.set($,M,m.get(Math.floor(T.x),Math.floor(T.y)))}return{matrix:D,mappingFunction:_}}r.extract=f}),(function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=4,c=.5,u=1.5,g=function(I,S){return Math.sqrt(Math.pow(S.x-I.x,2)+Math.pow(S.y-I.y,2))};function f(I){return I.reduce(function(S,T){return S+T})}function m(I,S,T){var j,L,z,F,Q=g(I,S),le=g(S,T),Y=g(I,T),ce,me,te;return le>=Q&&le>=Y?(j=[S,I,T],ce=j[0],me=j[1],te=j[2]):Y>=le&&Y>=Q?(L=[I,S,T],ce=L[0],me=L[1],te=L[2]):(z=[I,T,S],ce=z[0],me=z[1],te=z[2]),(te.x-me.x)*(ce.y-me.y)-(te.y-me.y)*(ce.x-me.x)<0&&(F=[te,ce],ce=F[0],te=F[1]),{bottomLeft:ce,topLeft:me,topRight:te}}function y(I,S,T,j){var L=(f(E(I,T,j,5))/7+f(E(I,S,j,5))/7+f(E(T,I,j,5))/7+f(E(S,I,j,5))/7)/4;if(L<1)throw new Error("Invalid module size");var z=Math.round(g(I,S)/L),F=Math.round(g(I,T)/L),Q=Math.floor((z+F)/2)+7;switch(Q%4){case 0:Q++;break;case 2:Q--;break}return{dimension:Q,moduleSize:L}}function w(I,S,T,j){var L=[{x:Math.floor(I.x),y:Math.floor(I.y)}],z=Math.abs(S.y-I.y)>Math.abs(S.x-I.x),F,Q,le,Y;z?(F=Math.floor(I.y),Q=Math.floor(I.x),le=Math.floor(S.y),Y=Math.floor(S.x)):(F=Math.floor(I.x),Q=Math.floor(I.y),le=Math.floor(S.x),Y=Math.floor(S.y));for(var ce=Math.abs(le-F),me=Math.abs(Y-Q),te=Math.floor(-ce/2),ne=F<le?1:-1,de=Q<Y?1:-1,be=!0,De=F,Ie=Q;De!==le+ne;De+=ne){var fe=z?Ie:De,Pe=z?De:Ie;if(T.get(fe,Pe)!==be&&(be=!be,L.push({x:fe,y:Pe}),L.length===j+1))break;if(te+=me,te>0){if(Ie===Y)break;Ie+=de,te-=ce}}for(var Ge=[],Ne=0;Ne<j;Ne++)L[Ne]&&L[Ne+1]?Ge.push(g(L[Ne],L[Ne+1])):Ge.push(0);return Ge}function E(I,S,T,j){var L,z=S.y-I.y,F=S.x-I.x,Q=w(I,S,T,Math.ceil(j/2)),le=w(I,{x:I.x-F,y:I.y-z},T,Math.ceil(j/2)),Y=Q.shift()+le.shift()-1;return(L=le.concat(Y)).concat.apply(L,Q)}function C(I,S){var T=f(I)/f(S),j=0;return S.forEach(function(L,z){j+=Math.pow(I[z]-L*T,2)}),{averageSize:T,error:j}}function D(I,S,T){try{var j=E(I,{x:-1,y:I.y},T,S.length),L=E(I,{x:I.x,y:-1},T,S.length),z={x:Math.max(0,I.x-I.y)-1,y:Math.max(0,I.y-I.x)-1},F=E(I,z,T,S.length),Q={x:Math.min(T.width,I.x+I.y)+1,y:Math.min(T.height,I.y+I.x)+1},le=E(I,Q,T,S.length),Y=C(j,S),ce=C(L,S),me=C(F,S),te=C(le,S),ne=Math.sqrt(Y.error*Y.error+ce.error*ce.error+me.error*me.error+te.error*te.error),de=(Y.averageSize+ce.averageSize+me.averageSize+te.averageSize)/4,be=(Math.pow(Y.averageSize-de,2)+Math.pow(ce.averageSize-de,2)+Math.pow(me.averageSize-de,2)+Math.pow(te.averageSize-de,2))/de;return ne+be}catch{return 1/0}}function _(I,S){for(var T=Math.round(S.x);I.get(T,Math.round(S.y));)T--;for(var j=Math.round(S.x);I.get(j,Math.round(S.y));)j++;for(var L=(T+j)/2,z=Math.round(S.y);I.get(Math.round(L),z);)z--;for(var F=Math.round(S.y);I.get(Math.round(L),F);)F++;var Q=(z+F)/2;return{x:L,y:Q}}function M(I){for(var S=[],T=[],j=[],L=[],z=function(fe){for(var Pe=0,Ge=!1,Ne=[0,0,0,0,0],tt=function(Je){var et=I.get(Je,fe);if(et===Ge)Pe++;else{Ne=[Ne[1],Ne[2],Ne[3],Ne[4],Pe],Pe=1,Ge=et;var st=f(Ne)/7,Te=Math.abs(Ne[0]-st)<st&&Math.abs(Ne[1]-st)<st&&Math.abs(Ne[2]-3*st)<3*st&&Math.abs(Ne[3]-st)<st&&Math.abs(Ne[4]-st)<st&&!et,re=f(Ne.slice(-3))/3,X=Math.abs(Ne[2]-re)<re&&Math.abs(Ne[3]-re)<re&&Math.abs(Ne[4]-re)<re&&et;if(Te){var B=Je-Ne[3]-Ne[4],k=B-Ne[2],R={startX:k,endX:B,y:fe},N=T.filter(function(ue){return k>=ue.bottom.startX&&k<=ue.bottom.endX||B>=ue.bottom.startX&&k<=ue.bottom.endX||k<=ue.bottom.startX&&B>=ue.bottom.endX&&Ne[2]/(ue.bottom.endX-ue.bottom.startX)<u&&Ne[2]/(ue.bottom.endX-ue.bottom.startX)>c});N.length>0?N[0].bottom=R:T.push({top:R,bottom:R})}if(X){var V=Je-Ne[4],K=V-Ne[3],R={startX:K,y:fe,endX:V},N=L.filter(function(W){return K>=W.bottom.startX&&K<=W.bottom.endX||V>=W.bottom.startX&&K<=W.bottom.endX||K<=W.bottom.startX&&V>=W.bottom.endX&&Ne[2]/(W.bottom.endX-W.bottom.startX)<u&&Ne[2]/(W.bottom.endX-W.bottom.startX)>c});N.length>0?N[0].bottom=R:L.push({top:R,bottom:R})}}},Re=-1;Re<=I.width;Re++)tt(Re);S.push.apply(S,T.filter(function(Je){return Je.bottom.y!==fe&&Je.bottom.y-Je.top.y>=2})),T=T.filter(function(Je){return Je.bottom.y===fe}),j.push.apply(j,L.filter(function(Je){return Je.bottom.y!==fe})),L=L.filter(function(Je){return Je.bottom.y===fe})},F=0;F<=I.height;F++)z(F);S.push.apply(S,T.filter(function(fe){return fe.bottom.y-fe.top.y>=2})),j.push.apply(j,L);var Q=S.filter(function(fe){return fe.bottom.y-fe.top.y>=2}).map(function(fe){var Pe=(fe.top.startX+fe.top.endX+fe.bottom.startX+fe.bottom.endX)/4,Ge=(fe.top.y+fe.bottom.y+1)/2;if(I.get(Math.round(Pe),Math.round(Ge))){var Ne=[fe.top.endX-fe.top.startX,fe.bottom.endX-fe.bottom.startX,fe.bottom.y-fe.top.y+1],tt=f(Ne)/Ne.length,Re=D({x:Math.round(Pe),y:Math.round(Ge)},[1,1,3,1,1],I);return{score:Re,x:Pe,y:Ge,size:tt}}}).filter(function(fe){return!!fe}).sort(function(fe,Pe){return fe.score-Pe.score}).map(function(fe,Pe,Ge){if(Pe>a)return null;var Ne=Ge.filter(function(Re,Je){return Pe!==Je}).map(function(Re){return{x:Re.x,y:Re.y,score:Re.score+Math.pow(Re.size-fe.size,2)/fe.size,size:Re.size}}).sort(function(Re,Je){return Re.score-Je.score});if(Ne.length<2)return null;var tt=fe.score+Ne[0].score+Ne[1].score;return{points:[fe].concat(Ne.slice(0,2)),score:tt}}).filter(function(fe){return!!fe}).sort(function(fe,Pe){return fe.score-Pe.score});if(Q.length===0)return null;var le=m(Q[0].points[0],Q[0].points[1],Q[0].points[2]),Y=le.topRight,ce=le.topLeft,me=le.bottomLeft,te=$(I,j,Y,ce,me),ne=[];te&&ne.push({alignmentPattern:{x:te.alignmentPattern.x,y:te.alignmentPattern.y},bottomLeft:{x:me.x,y:me.y},dimension:te.dimension,topLeft:{x:ce.x,y:ce.y},topRight:{x:Y.x,y:Y.y}});var de=_(I,Y),be=_(I,ce),De=_(I,me),Ie=$(I,j,de,be,De);return Ie&&ne.push({alignmentPattern:{x:Ie.alignmentPattern.x,y:Ie.alignmentPattern.y},bottomLeft:{x:De.x,y:De.y},topLeft:{x:be.x,y:be.y},topRight:{x:de.x,y:de.y},dimension:Ie.dimension}),ne.length===0?null:ne}r.locate=M;function $(I,S,T,j,L){var z,F,Q;try{z=y(j,T,L,I),F=z.dimension,Q=z.moduleSize}catch{return null}var le={x:T.x-j.x+L.x,y:T.y-j.y+L.y},Y=(g(j,L)+g(j,T))/2/Q,ce=1-3/Y,me={x:j.x+ce*(le.x-j.x),y:j.y+ce*(le.y-j.y)},te=S.map(function(de){var be=(de.top.startX+de.top.endX+de.bottom.startX+de.bottom.endX)/4,De=(de.top.y+de.bottom.y+1)/2;if(I.get(Math.floor(be),Math.floor(De))){var Ie=[de.top.endX-de.top.startX,de.bottom.endX-de.bottom.startX,de.bottom.y-de.top.y+1];f(Ie)/Ie.length;var fe=D({x:Math.floor(be),y:Math.floor(De)},[1,1,1],I),Pe=fe+g({x:be,y:De},me);return{x:be,y:De,score:Pe}}}).filter(function(de){return!!de}).sort(function(de,be){return de.score-be.score}),ne=Y>=15&&te.length?te[0]:me;return{alignmentPattern:ne,dimension:F}}})]).default})})(Ql)),Ql.exports}var q7=V7();const W7=bx(q7),Hi=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},G7={class:"py-8 bg-gradient-to-br from-slate-50 via-blue-50 to-slate-100 min-h-screen"},Q7={class:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8"},K7={class:"mb-8 flex flex-col md:flex-row items-start md:items-center justify-between gap-4"},Y7={class:"flex flex-wrap items-center gap-4 w-full md:w-auto"},X7={key:0,class:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center animate-pulse"},Z7={class:"hidden md:block bg-white px-6 py-3 rounded-xl shadow-lg border border-gray-200"},J7={class:"font-semibold text-gray-900"},eB={class:"space-y-6"},tB={class:"bg-white rounded-2xl shadow-lg p-6 border border-gray-200"},nB={class:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 md:gap-0"},rB={class:"flex flex-col md:flex-row items-start md:items-center flex-1 w-full"},sB={key:0},oB={key:1,class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},iB={key:0},aB={key:1,class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},lB={class:"bg-gradient-to-br from-white to-blue-50 rounded-2xl shadow-2xl p-4 md:p-8 border-2 border-blue-200"},cB={class:"flex items-center justify-between mb-6"},dB={class:"text-2xl font-bold text-gray-900 mb-1"},uB={class:"text-gray-600"},xB={key:0,class:"mb-6"},fB={class:"bg-black rounded-2xl overflow-hidden relative border-4 border-blue-500 shadow-2xl"},hB={class:"absolute inset-0 flex items-center justify-center pointer-events-none"},gB={class:"relative"},pB={class:"w-64 h-40 md:w-80 md:h-48 border-4 border-red-500 rounded-xl relative"},mB={key:0,class:"absolute inset-0"},yB={class:"mt-4 text-center"},bB={class:"text-white text-lg font-bold bg-black bg-opacity-70 px-6 py-3 rounded-full inline-block"},vB={key:1,class:"mb-6"},EB={class:"relative"},wB=["placeholder","disabled"],CB={class:"absolute right-4 top-1/2 transform -translate-y-1/2"},AB={key:0,class:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"},BB={key:1,class:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_B={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},DB=["disabled"],kB=["disabled"],SB={key:0},FB={key:1},TB={class:"text-3xl mr-3"},IB={class:"flex-1"},MB={key:0,class:"bg-white rounded-2xl shadow-2xl overflow-hidden border-2 border-gray-200"},PB={class:"p-8 space-y-6"},RB={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},OB={class:"bg-gradient-to-br from-blue-50 to-indigo-100 p-6 rounded-2xl border-2 border-blue-300 shadow-lg"},NB={class:"text-4xl font-black text-blue-600"},LB={class:"bg-gradient-to-br from-green-50 to-emerald-100 p-6 rounded-2xl border-2 border-green-300 shadow-lg"},$B={class:"text-4xl font-black text-green-600"},jB={class:"text-2xl"},UB={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},HB={class:"bg-gradient-to-br from-gray-50 to-gray-100 p-5 rounded-xl border-2 border-gray-200 shadow"},zB={class:"font-bold text-gray-900 text-lg"},VB={class:"bg-gradient-to-br from-gray-50 to-gray-100 p-5 rounded-xl border-2 border-gray-200 shadow"},qB={class:"inline-block px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg text-sm font-bold shadow-md"},WB={class:"bg-gradient-to-br from-gray-50 to-gray-100 p-5 rounded-xl border-2 border-gray-200 shadow"},GB={class:"font-bold text-gray-900 text-lg"},QB={class:"bg-gradient-to-br from-gray-50 to-gray-100 p-5 rounded-xl border-2 border-gray-200 shadow"},KB={class:"font-bold text-gray-900 text-lg"},YB={class:"bg-gradient-to-r from-amber-50 via-yellow-50 to-orange-50 p-8 rounded-2xl border-3 border-amber-300 shadow-xl"},XB={class:"flex flex-col md:flex-row items-center justify-between gap-6 md:gap-0"},ZB={class:"flex-1 w-full text-center md:text-left"},JB={class:"bg-white px-8 py-6 rounded-2xl shadow-lg border-3 border-amber-400"},e_={class:"text-4xl font-black text-amber-600"},t_={class:"flex-1 w-full text-center md:text-left"},n_={key:0,class:"bg-white px-8 py-6 rounded-2xl shadow-lg border-3 border-green-400"},r_={class:"text-4xl font-black text-green-600"},s_={key:1,class:"bg-gray-100 px-8 py-6 rounded-2xl shadow-lg border-3 border-gray-300"},o_={key:0,class:"pt-2"},i_={key:0,class:"fixed top-0 right-0 h-full w-full md:w-[600px] lg:w-[800px] bg-white shadow-2xl z-50 overflow-y-auto"},a_={class:"grid gap-6"},l_={class:"bg-white rounded-2xl shadow-xl p-6 border border-gray-200"},c_={class:"flex items-center justify-between mb-4"},d_={class:"px-3 py-1 bg-gray-100 rounded-lg text-sm font-semibold text-gray-600"},u_={key:0,class:"text-center py-12"},x_={key:1,class:"space-y-3 max-h-[800px] overflow-y-auto custom-scrollbar"},f_={class:"flex justify-between items-start mb-3"},h_={class:"flex-1"},g_={class:"font-bold text-gray-900 mb-1"},p_={class:"text-xs text-gray-500 font-mono"},m_={class:"text-xs text-gray-500 bg-white px-2 py-1 rounded-lg"},y_={class:"flex items-center justify-between bg-white p-3 rounded-lg mb-2"},b_={class:"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-lg text-sm font-bold"},v_={class:"px-3 py-1 bg-green-100 text-green-800 rounded-lg text-sm font-bold"},E_={class:"flex items-center justify-between text-sm"},w_={class:"font-bold text-gray-900"},C_={__name:"Bintobin",props:{title:String,initialBins:Array,initialTransferHistory:Array,scannedMaterial:Object,destinationBin:String,errors:Object},setup(e){const t=e,n=co(),r=ve(!1),i=()=>r.value=!r.value,a=()=>r.value=!1,c=ve(""),u=ve(null),g=ve("scan_material"),f=ve(""),m=ve("success"),y=ve(!1),w=ve(!1),E=ve(null),C=ve(null),D=ve(null),_=ve(null),M=ve(!1),$=ve(t.initialTransferHistory),I=ve(t.initialBins),S=ve(t.scannedMaterial),T=ve(t.destinationBin),j=tl({from_bin_id:null,to_bin_id:null,stock_id:null,quantity:null});Pn(()=>t.scannedMaterial,Ie=>{S.value=Ie}),Pn(()=>t.destinationBin,Ie=>{T.value=Ie}),Pn(()=>t.initialTransferHistory,Ie=>{$.value=Ie}),Pn(()=>t.initialBins,Ie=>{I.value=Ie}),Pn(()=>n.props.flash,Ie=>{Ie?.success?Y(Ie.success,"success"):Ie?.error&&Y(Ie.error,"error")},{deep:!0}),R9(()=>{S.value&&T.value?(g.value="complete",j.stock_id=S.value.stock_id,j.from_bin_id=S.value.current_bin_id,j.quantity=S.value.quantity,j.to_bin_id=T.value.id):S.value?(g.value="scan_destination",!f.value&&!n.props.flash?.error&&Y(` Material ${S.value.name} (Batch: ${S.value.batchNo}) berhasil di-scan! Silakan scan bin tujuan.`,"success")):g.value="scan_material"});const L=We(()=>new Date().toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),z=()=>{if(y.value||!c.value.trim()){c.value.trim()||Y("Silakan scan atau masukkan kode barcode","error");return}const Ie=c.value.trim();y.value=!0,f.value="";let fe={},Pe="/transaction/bin-to-bin",Ge=Ie.toUpperCase(),Ne=!1;try{const tt=JSON.parse(Ie);tt&&tt.bin_code&&(Ge=String(tt.bin_code).toUpperCase(),Ne=!0,Y(` Menganalisis Kode: Mengurai Bin Code dari JSON: ${Ge}`,"success"))}catch{}if(g.value==="scan_material"){if(!Ne&&Ie.includes("|")&&Ie.length>20)try{const tt=Ie.split("|");tt.length>=3&&(Ge=tt[2].trim().toUpperCase(),Y(` Menganalisis Batch: ${Ge} dari QR Code material...`,"success"))}catch{}fe={material_batch:Ge}}else if(g.value==="scan_destination"){if(S.value&&Ge===S.value.currentBin.toUpperCase()){y.value=!1,Y(` Gagal: Bin Tujuan tidak boleh sama dengan Bin Sumber (${S.value.currentBin})!`,"error");return}fe={material_batch:S.value.batchNo,bin_code:Ge}}gt.get(Pe,fe,{preserveState:!0,preserveScroll:!0,onFinish:()=>{y.value=!1,c.value="",ce()},onError:tt=>{}})},F=()=>{z()},Q=()=>{j.processing||j.post("/transaction/bin-to-bin/transfer",{preserveScroll:!0,onSuccess:()=>{},onError:Ie=>{const fe=Object.values(Ie).join(` 
`);Y(` Gagal Konfirmasi: ${fe}`,"error")}})},le=()=>{gt.get("/bin-to-bin",{},{preserveState:!1})},Y=(Ie,fe)=>{f.value=Ie,m.value=fe,setTimeout(()=>{f.value===Ie&&(f.value="")},6e3)},ce=()=>{yr(()=>{u.value&&!w.value&&u.value.focus()})},me=async()=>{w.value?ne():await te()},te=async()=>{try{const Ie=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}});D.value=Ie,w.value=!0,await yr(),E.value&&(E.value.srcObject=Ie,E.value.play(),de(),Y(" Kamera aktif! Arahkan barcode ke kamera.","success"))}catch(Ie){console.error("Camera error:",Ie),Ie.name==="NotAllowedError"?Y(" Izin kamera ditolak. Harap izinkan akses kamera di browser Anda.","error"):Y(" Tidak dapat mengakses kamera. Pastikan Anda menggunakan HTTPS.","error")}},ne=()=>{D.value&&(D.value.getTracks().forEach(Ie=>Ie.stop()),D.value=null),_.value&&(cancelAnimationFrame(_.value),_.value=null),w.value=!1,M.value=!1,E.value&&(E.value.srcObject=null),ce()},de=()=>{if(!(!w.value||!E.value||!C.value)){if(M.value=!1,E.value.readyState===E.value.HAVE_ENOUGH_DATA){const Ie=C.value,fe=Ie.getContext("2d",{willReadFrequently:!0});Ie.height=E.value.videoHeight,Ie.width=E.value.videoWidth,fe.drawImage(E.value,0,0,Ie.width,Ie.height);const Pe=fe.getImageData(0,0,Ie.width,Ie.height),Ge=W7(Pe.data,Pe.width,Pe.height,{inversionAttempts:"dontInvert"});if(M.value=!0,Ge){M.value=!1,ne(),c.value=Ge.data,z();return}}_.value=requestAnimationFrame(de)}},be=We(()=>m.value==="success"?"bg-green-500 text-white border-2 border-green-600":"bg-red-500 text-white border-2 border-red-600");Gn(()=>{ce(),window.addEventListener("keydown",Ie=>{Ie.key==="Escape"&&r.value&&a()}),n.props.flash?.success?Y(n.props.flash.success,"success"):n.props.flash?.error&&Y(n.props.flash.error,"error")});const De=()=>{ne()};return typeof window<"u"&&window.addEventListener("beforeunload",De),(Ie,fe)=>(U(),Et(Qn,{title:"Bin to Bin Transfer"},{default:bt(()=>[o("div",G7,[o("div",Q7,[o("div",K7,[fe[6]||(fe[6]=o("div",null,[o("h1",{class:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent mb-2"}," Sistem Bin to Bin Transfer "),o("p",{class:"text-gray-600 text-base md:text-lg"},"Real-time warehouse material movement tracking system")],-1)),o("div",Y7,[o("button",{onClick:i,class:"relative flex-1 md:flex-none px-6 py-3 bg-white rounded-xl shadow-lg border border-gray-200 hover:bg-gray-50 transition-all flex items-center justify-center space-x-2 group"},[fe[2]||(fe[2]=o("svg",{class:"w-6 h-6 text-gray-700 group-hover:text-blue-600 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),fe[3]||(fe[3]=o("span",{class:"font-semibold text-gray-700 group-hover:text-blue-600"},"Dashboard",-1)),$.value.length>0?(U(),G("span",X7,P($.value.length),1)):pe("",!0)]),o("div",Z7,[fe[4]||(fe[4]=o("div",{class:"text-xs text-gray-500 mb-1"},"Tanggal",-1)),o("div",J7,P(L.value),1)]),fe[5]||(fe[5]=o("div",{class:"hidden md:block bg-gradient-to-r from-green-500 to-emerald-500 px-6 py-3 rounded-xl shadow-lg text-white"},[o("div",{class:"text-xs opacity-90 mb-1"},"Status Sistem"),o("div",{class:"font-bold flex items-center"},[o("span",{class:"w-2 h-2 bg-white rounded-full mr-2 animate-pulse"}),qe(" ONLINE ")])],-1))])]),o("div",eB,[o("div",tB,[o("div",nB,[o("div",rB,[o("div",{class:Fe(["flex items-center w-full md:w-auto mb-4 md:mb-0",g.value==="scan_material"||g.value==="scan_destination"||g.value==="complete"?"text-blue-600":"text-gray-400"])},[o("div",{class:Fe(["w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg border-2 shrink-0",g.value==="scan_material"||g.value==="scan_destination"||g.value==="complete"?"bg-blue-600 text-white border-blue-600":"bg-gray-200 text-gray-400 border-gray-300"])},[g.value==="scan_material"?(U(),G("span",sB,"1")):(U(),G("svg",oB,[...fe[7]||(fe[7]=[o("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])]))],2),fe[8]||(fe[8]=o("div",{class:"ml-3"},[o("p",{class:"font-bold"},"Scan Material"),o("p",{class:"text-xs"},"Scan kode material")],-1))],2),o("div",{class:Fe(["hidden md:block flex-1 h-1 mx-4",g.value==="scan_destination"||g.value==="complete"?"bg-blue-600":"bg-gray-300"])},null,2),o("div",{class:Fe(["md:hidden w-1 h-8 ml-5",g.value==="scan_destination"||g.value==="complete"?"bg-blue-600":"bg-gray-300"])},null,2),o("div",{class:Fe(["flex items-center w-full md:w-auto mb-4 md:mb-0",g.value==="scan_destination"||g.value==="complete"?"text-blue-600":"text-gray-400"])},[o("div",{class:Fe(["w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg border-2 shrink-0",g.value==="scan_destination"||g.value==="complete"?"bg-blue-600 text-white border-blue-600":"bg-gray-200 text-gray-400 border-gray-300"])},[g.value!=="complete"?(U(),G("span",iB,"2")):(U(),G("svg",aB,[...fe[9]||(fe[9]=[o("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])]))],2),fe[10]||(fe[10]=o("div",{class:"ml-3"},[o("p",{class:"font-bold"},"Scan Bin Tujuan"),o("p",{class:"text-xs"},"Scan lokasi tujuan")],-1))],2),o("div",{class:Fe(["hidden md:block flex-1 h-1 mx-4",g.value==="complete"?"bg-green-600":"bg-gray-300"])},null,2),o("div",{class:Fe(["md:hidden w-1 h-8 ml-5",g.value==="complete"?"bg-green-600":"bg-gray-300"])},null,2),o("div",{class:Fe(["flex items-center w-full md:w-auto",g.value==="complete"?"text-green-600":"text-gray-400"])},[o("div",{class:Fe(["w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg border-2 shrink-0",g.value==="complete"?"bg-green-600 text-white border-green-600":"bg-gray-200 text-gray-400 border-gray-300"])},"  ",2),fe[11]||(fe[11]=o("div",{class:"ml-3"},[o("p",{class:"font-bold"},"Konfirmasi"),o("p",{class:"text-xs"},"Selesaikan transfer")],-1))],2)])])]),o("div",lB,[o("div",cB,[o("div",null,[o("h2",dB,P(g.value==="scan_material"?" Scan Material":g.value==="scan_destination"?" Scan Bin Tujuan":" Siap Konfirmasi"),1),o("p",uB,P(g.value==="scan_material"?"Pilih metode scanning untuk material":g.value==="scan_destination"?"Pilih metode scanning untuk bin tujuan":"Klik tombol konfirmasi untuk menyelesaikan"),1)])]),w.value?(U(),G("div",xB,[o("div",fB,[o("video",{ref_key:"videoElement",ref:E,autoplay:"",playsinline:"",class:"w-full h-64 md:h-96 object-cover"},null,512),o("div",hB,[o("div",gB,[o("div",pB,[fe[13]||(fe[13]=o("div",{class:"absolute -top-1 -left-1 w-8 h-8 border-t-8 border-l-8 border-red-500 rounded-tl-xl"},null,-1)),fe[14]||(fe[14]=o("div",{class:"absolute -top-1 -right-1 w-8 h-8 border-t-8 border-r-8 border-red-500 rounded-tr-xl"},null,-1)),fe[15]||(fe[15]=o("div",{class:"absolute -bottom-1 -left-1 w-8 h-8 border-b-8 border-l-8 border-red-500 rounded-bl-xl"},null,-1)),fe[16]||(fe[16]=o("div",{class:"absolute -bottom-1 -right-1 w-8 h-8 border-b-8 border-r-8 border-red-500 rounded-br-xl"},null,-1)),M.value?(U(),G("div",mB,[...fe[12]||(fe[12]=[o("div",{class:"camera-scan-line"},null,-1)])])):pe("",!0)]),o("div",yB,[o("p",bB,P(M.value?" Scanning...":" Arahkan Barcode ke Frame"),1)])])]),o("canvas",{ref_key:"canvasElement",ref:C,class:"hidden"},null,512),o("div",{class:"absolute top-4 right-4 flex space-x-2"},[o("button",{onClick:ne,class:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-all shadow-lg flex items-center"},[...fe[17]||(fe[17]=[o("svg",{class:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),qe(" Tutup ",-1)])])])]),fe[18]||(fe[18]=o("p",{class:"text-center text-gray-600 mt-4 text-sm flex items-center justify-center"},[o("span",{class:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),qe(" Kamera Aktif - Deteksi barcode otomatis ")],-1))])):pe("",!0),w.value?pe("",!0):(U(),G("div",vB,[fe[20]||(fe[20]=o("label",{class:"block text-sm font-semibold text-gray-700 mb-3"},"  Input Manual - Ketik kode barcode ",-1)),o("div",EB,[Ee(o("input",{"onUpdate:modelValue":fe[0]||(fe[0]=Pe=>c.value=Pe),onKeyup:Ni(F,["enter"]),type:"text",placeholder:g.value==="scan_material"?"Contoh: MAT001, MAT002, MAT003...":"Contoh: A1, B2, C3...",class:"w-full px-6 py-5 bg-white border-3 border-gray-300 rounded-xl focus:ring-4 focus:ring-blue-500 focus:border-blue-500 text-gray-900 text-xl font-mono placeholder-gray-400 transition-all shadow-inner",disabled:g.value==="complete"||y.value,ref_key:"barcodeInputRef",ref:u},null,40,wB),[[Oe,c.value]]),o("div",CB,[y.value?(U(),G("div",AB)):(U(),G("svg",BB,[...fe[19]||(fe[19]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"},null,-1)])]))])])])),o("div",_B,[o("button",{onClick:me,disabled:g.value==="complete",class:Fe(["py-5 px-6 rounded-xl font-bold text-lg transition-all duration-200 shadow-lg flex items-center justify-center",g.value==="complete"?"bg-gray-300 text-gray-500 cursor-not-allowed":w.value?"bg-red-600 hover:bg-red-700 text-white transform hover:scale-105":"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white transform hover:scale-105"])},[fe[21]||(fe[21]=o("svg",{class:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),qe(" "+P(w.value?"Stop Kamera":"Buka Kamera"),1)],10,DB),o("button",{onClick:F,disabled:!c.value||g.value==="complete"||y.value||w.value,class:Fe(["py-5 px-6 rounded-xl font-bold text-lg transition-all duration-200 shadow-lg flex items-center justify-center",!c.value||g.value==="complete"||y.value||w.value?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white transform hover:scale-105"])},[fe[22]||(fe[22]=o("svg",{class:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),y.value?(U(),G("span",FB,"Processing...")):(U(),G("span",SB,"Scan Manual"))],10,kB)]),e.scannedMaterial&&g.value!=="complete"?(U(),G("button",{key:2,onClick:le,class:"w-full mt-4 py-4 px-6 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white font-bold rounded-xl transition-all transform hover:scale-105 shadow-lg flex items-center justify-center"},[...fe[23]||(fe[23]=[o("svg",{class:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),qe(" Reset Transfer ",-1)])])):pe("",!0),kt(yl,{name:"slide-fade"},{default:bt(()=>[f.value?(U(),G("div",{key:0,class:Fe(["mt-6 p-5 rounded-xl font-semibold flex items-center shadow-lg border-2",be.value])},[o("span",TB,P(m.value==="success"?"":""),1),o("span",IB,P(f.value),1),o("button",{onClick:fe[1]||(fe[1]=Pe=>f.value=""),class:"ml-2 hover:opacity-70"},[...fe[24]||(fe[24]=[o("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20"},[o("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)])])],2)):pe("",!0)]),_:1})]),kt(yl,{name:"scale-fade"},{default:bt(()=>[e.scannedMaterial?(U(),G("div",MB,[fe[37]||(fe[37]=o("div",{class:"bg-gradient-to-r from-indigo-600 to-blue-600 p-6"},[o("h3",{class:"text-2xl font-bold text-white flex items-center"},[o("span",{class:"w-12 h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center mr-3 text-3xl"},""),qe(" Informasi Material ")])],-1)),o("div",PB,[o("div",RB,[o("div",OB,[fe[25]||(fe[25]=o("p",{class:"text-sm text-blue-700 mb-2 font-bold uppercase tracking-wide"},"Kode Material",-1)),o("p",NB,P(e.scannedMaterial.code),1)]),o("div",LB,[fe[26]||(fe[26]=o("p",{class:"text-sm text-green-700 mb-2 font-bold uppercase tracking-wide"},"Jumlah ",-1)),o("p",$B,[qe(P(e.scannedMaterial.quantity)+" ",1),o("span",jB,P(e.scannedMaterial.unit),1)])])]),o("div",UB,[o("div",HB,[fe[27]||(fe[27]=o("div",{class:"flex items-center mb-2"},[o("span",{class:"w-3 h-3 bg-purple-500 rounded-full mr-2"}),o("p",{class:"text-xs text-gray-600 font-bold uppercase tracking-wide"},"Nama Material")],-1)),o("p",zB,P(e.scannedMaterial.name),1)]),o("div",VB,[fe[28]||(fe[28]=o("div",{class:"flex items-center mb-2"},[o("span",{class:"w-3 h-3 bg-pink-500 rounded-full mr-2"}),o("p",{class:"text-xs text-gray-600 font-bold uppercase tracking-wide"},"Kategori ")],-1)),o("span",qB,P(e.scannedMaterial.category),1)]),o("div",WB,[fe[29]||(fe[29]=o("div",{class:"flex items-center mb-2"},[o("span",{class:"w-3 h-3 bg-blue-500 rounded-full mr-2"}),o("p",{class:"text-xs text-gray-600 font-bold uppercase tracking-wide"},"Batch Number")],-1)),o("p",GB,P(e.scannedMaterial.batchNo),1)]),o("div",QB,[fe[30]||(fe[30]=o("div",{class:"flex items-center mb-2"},[o("span",{class:"w-3 h-3 bg-orange-500 rounded-full mr-2"}),o("p",{class:"text-xs text-gray-600 font-bold uppercase tracking-wide"},"Tanggal Kadaluarsa")],-1)),o("p",KB,P(e.scannedMaterial.expiryDate),1)])]),o("div",YB,[fe[35]||(fe[35]=o("p",{class:"text-sm font-bold text-amber-900 mb-6 uppercase tracking-wider flex items-center"},[o("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})]),qe(" Rute Perpindahan ")],-1)),o("div",XB,[o("div",ZB,[fe[31]||(fe[31]=o("p",{class:"text-xs text-amber-700 mb-3 font-semibold uppercase"},"Dari Bin",-1)),o("div",JB,[o("p",e_,P(e.scannedMaterial.currentBin),1)])]),fe[34]||(fe[34]=o("div",{class:"px-6 transform rotate-90 md:rotate-0"},[o("svg",{class:"w-16 h-16 text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M13 7l5 5m0 0l-5 5m5-5H6"})])],-1)),o("div",t_,[fe[33]||(fe[33]=o("p",{class:"text-xs text-amber-700 mb-3 font-semibold uppercase"},"Ke Bin",-1)),e.destinationBin?(U(),G("div",n_,[o("p",r_,P(e.destinationBin.code),1)])):(U(),G("div",s_,[...fe[32]||(fe[32]=[o("p",{class:"text-4xl font-black text-gray-400"},"???",-1)])]))])])]),e.destinationBin&&g.value==="complete"?(U(),G("div",o_,[o("button",{onClick:Q,class:"w-full py-6 px-8 bg-gradient-to-r from-green-600 via-emerald-600 to-teal-600 hover:from-green-700 hover:via-emerald-700 hover:to-teal-700 text-white font-black text-2xl rounded-2xl transition-all duration-200 transform hover:scale-105 active:scale-95 shadow-2xl flex items-center justify-center"},[...fe[36]||(fe[36]=[o("svg",{class:"w-10 h-10 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"})],-1),qe(" KONFIRMASI TRANSFER ",-1)])])])):pe("",!0)])])):pe("",!0)]),_:1}),fe[38]||(fe[38]=o("div",{class:"bg-gradient-to-br from-white to-blue-50 rounded-2xl shadow-2xl p-8 border-2 border-blue-200"},[o("div",{class:"text-center py-12"},[o("p",{class:"text-gray-500"},"Scanner Card Content - Gunakan kode yang sudah ada")])],-1))])])]),kt(yl,{name:"fade"},{default:bt(()=>[r.value?(U(),G("div",{key:0,onClick:a,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm z-40 transition-all duration-300",style:{"background-color":"#00000054"}})):pe("",!0)]),_:1}),kt(yl,{name:"slide"},{default:bt(()=>[r.value?(U(),G("div",i_,[o("div",{class:"sticky top-0 p-6 flex items-center justify-between z-10 shadow-lg"},[fe[40]||(fe[40]=o("div",{class:"flex items-center space-x-3"},[o("div",{class:"w-12 h-12 bg-green bg-opacity-20 rounded-xl flex items-center justify-center"},[o("svg",{class:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])]),o("div",null,[o("h2",{class:"text-2xl font-bold"},"Dashboard"),o("p",{class:"text-black-100 text-sm"},"Real-time Statistics")])],-1)),o("button",{onClick:a,class:"w-10 h-10 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg flex items-center justify-center transition-all"},[...fe[39]||(fe[39]=[o("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),o("div",a_,[o("div",l_,[o("div",c_,[fe[41]||(fe[41]=o("h3",{class:"text-lg font-bold text-gray-800 flex items-center"},[o("span",{class:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center mr-2"},""),qe(" Riwayat Transfer ")],-1)),o("span",d_,P($.value.length),1)]),$.value.length===0?(U(),G("div",u_,[...fe[42]||(fe[42]=[o("div",{class:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4"},[o("svg",{class:"w-10 h-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1),o("p",{class:"text-gray-400 font-semibold"},"Belum ada transfer",-1),o("p",{class:"text-gray-400 text-sm mt-1"},"Mulai scan untuk membuat transfer",-1)])])):(U(),G("div",x_,[kt(Av,{name:"list"},{default:bt(()=>[(U(!0),G($e,null,nt($.value.slice().reverse(),(Pe,Ge)=>(U(),G("div",{key:Ge,class:"p-4 bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl border-2 border-gray-200 hover:border-blue-300 hover:shadow-lg transition-all duration-200"},[o("div",f_,[o("div",h_,[o("p",g_,P(Pe.materialName),1),o("p",p_,P(Pe.materialCode),1)]),o("span",m_,P(Pe.timestamp),1)]),o("div",y_,[o("span",b_,P(Pe.fromBin),1),fe[43]||(fe[43]=o("svg",{class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1)),o("span",v_,P(Pe.toBin),1)]),o("div",E_,[fe[44]||(fe[44]=o("span",{class:"text-gray-600"},"Qty:",-1)),o("span",w_,P(Pe.quantity)+" "+P(Pe.unit),1)])]))),128))]),_:1})]))])])])):pe("",!0)]),_:1})]),_:1}))}},A_=Hi(C_,[["__scopeId","data-v-7f90dc94"]]),B_=Object.freeze(Object.defineProperty({__proto__:null,default:A_},Symbol.toStringTag,{value:"Module"})),__={__name:"CentralData",setup(e){return(t,n)=>(U(),Et(Qn,{title:"Riwayat Aktivitas"},{default:bt(()=>[...n[0]||(n[0]=[o("div",{class:"py-12"},[o("div",{class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},[o("h1",{class:"text-2xl font-bold mb-4"},"Role Permission"),o("p",null,"Role n Permission")])],-1)])]),_:1}))}},D_=Object.freeze(Object.defineProperty({__proto__:null,default:__},Symbol.toStringTag,{value:"Module"}));var Ye;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ye||(Ye={}));var Lh=new Map([[Ye.QR_CODE,"QR_CODE"],[Ye.AZTEC,"AZTEC"],[Ye.CODABAR,"CODABAR"],[Ye.CODE_39,"CODE_39"],[Ye.CODE_93,"CODE_93"],[Ye.CODE_128,"CODE_128"],[Ye.DATA_MATRIX,"DATA_MATRIX"],[Ye.MAXICODE,"MAXICODE"],[Ye.ITF,"ITF"],[Ye.EAN_13,"EAN_13"],[Ye.EAN_8,"EAN_8"],[Ye.PDF_417,"PDF_417"],[Ye.RSS_14,"RSS_14"],[Ye.RSS_EXPANDED,"RSS_EXPANDED"],[Ye.UPC_A,"UPC_A"],[Ye.UPC_E,"UPC_E"],[Ye.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),$h;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})($h||($h={}));function k_(e){return Object.values(Ye).includes(e)}var uo;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(uo||(uo={}));var zr=(function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[uo.SCAN_TYPE_CAMERA,uo.SCAN_TYPE_FILE],e})(),wy=(function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Lh.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,Lh.get(t))},e})(),jh=(function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e})(),Ou;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Ou||(Ou={}));var Cy=(function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Ou.UNKWOWN_ERROR}},e})(),Ay=(function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e})();function cs(e){return typeof e>"u"||e===null}function S_(e,t,n){return e>n?n:e<t?t:e}var mi=(function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e})(),jt=(function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e})(),Uh=(function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e})(),By=(function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),c=Object.keys(t),u=0,g=c;u<g.length;u++){var f=g[u];if(a.has(f))return n.logError("".concat(f," is not supported videoConstaints."),!0),!1}return!0},e})(),xa={exports:{}},F_=xa.exports,Hh;function T_(){return Hh||(Hh=1,(function(e,t){(function(n,r){r(t)})(F_,(function(n){function r(H){return H==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,s){H.__proto__=s}||function(H,s){for(var l in s)s.hasOwnProperty(l)&&(H[l]=s[l])};function a(H,s){i(H,s);function l(){this.constructor=H}H.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}function c(H,s){var l=Object.setPrototypeOf;l?l(H,s):H.__proto__=s}function u(H,s){s===void 0&&(s=H.constructor);var l=Error.captureStackTrace;l&&l(H,s)}var g=(function(H){a(s,H);function s(l){var d=this.constructor,x=H.call(this,l)||this;return Object.defineProperty(x,"name",{value:d.name,enumerable:!1}),c(x,d.prototype),u(x),x}return s})(Error);class f extends g{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}f.kind="Exception";class m extends f{}m.kind="ArgumentException";class y extends f{}y.kind="IllegalArgumentException";class w{constructor(s){if(this.binarizer=s,s===null)throw new y("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,l){return this.binarizer.getBlackRow(s,l)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,l,d,x){const h=this.binarizer.getLuminanceSource().crop(s,l,d,x);return new w(this.binarizer.createBinarizer(h))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new w(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new w(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class E extends f{static getChecksumInstance(){return new E}}E.kind="ChecksumException";class C{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class D{static arraycopy(s,l,d,x,h){for(;h--;)d[x++]=s[l++]}static currentTimeMillis(){return Date.now()}}class _ extends f{}_.kind="IndexOutOfBoundsException";class M extends _{constructor(s=void 0,l=void 0){super(l),this.index=s,this.message=l}}M.kind="ArrayIndexOutOfBoundsException";class ${static fill(s,l){for(let d=0,x=s.length;d<x;d++)s[d]=l}static fillWithin(s,l,d,x){$.rangeCheck(s.length,l,d);for(let h=l;h<d;h++)s[h]=x}static rangeCheck(s,l,d){if(l>d)throw new y("fromIndex("+l+") > toIndex("+d+")");if(l<0)throw new M(l);if(d>s)throw new M(d)}static asList(...s){return s}static create(s,l,d){return Array.from({length:s}).map(h=>Array.from({length:l}).fill(d))}static createInt32Array(s,l,d){return Array.from({length:s}).map(h=>Int32Array.from({length:l}).fill(d))}static equals(s,l){if(!s||!l||!s.length||!l.length||s.length!==l.length)return!1;for(let d=0,x=s.length;d<x;d++)if(s[d]!==l[d])return!1;return!0}static hashCode(s){if(s===null)return 0;let l=1;for(const d of s)l=31*l+d;return l}static fillUint8Array(s,l){for(let d=0;d!==s.length;d++)s[d]=l}static copyOf(s,l){return s.slice(0,l)}static copyOfUint8Array(s,l){if(s.length<=l){const d=new Uint8Array(l);return d.set(s),d}return s.slice(0,l)}static copyOfRange(s,l,d){const x=d-l,h=new Int32Array(x);return D.arraycopy(s,l,h,0,x),h}static binarySearch(s,l,d){d===void 0&&(d=$.numberComparator);let x=0,h=s.length-1;for(;x<=h;){const p=h+x>>1,b=d(l,s[p]);if(b>0)x=p+1;else if(b<0)h=p-1;else return p}return-x-1}static numberComparator(s,l){return s-l}}class I{static numberOfTrailingZeros(s){let l;if(s===0)return 32;let d=31;return l=s<<16,l!==0&&(d-=16,s=l),l=s<<8,l!==0&&(d-=8,s=l),l=s<<4,l!==0&&(d-=4,s=l),l=s<<2,l!==0&&(d-=2,s=l),d-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let l=1;return s>>>16||(l+=16,s<<=16),s>>>24||(l+=8,s<<=8),s>>>28||(l+=4,s<<=4),s>>>30||(l+=2,s<<=2),l-=s>>>31,l}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,l){return Math.trunc(s/l)}static parseInt(s,l=void 0){return parseInt(s,l)}}I.MIN_VALUE_32_BITS=-2147483648,I.MAX_VALUE=Number.MAX_SAFE_INTEGER;class S{constructor(s,l){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,l==null?this.bits=S.makeArray(s):this.bits=l)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const l=S.makeArray(s);D.arraycopy(this.bits,0,l,0,this.bits.length),this.bits=l}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const l=this.size;if(s>=l)return l;const d=this.bits;let x=Math.floor(s/32),h=d[x];h&=~((1<<(s&31))-1);const p=d.length;for(;h===0;){if(++x===p)return l;h=d[x]}const b=x*32+I.numberOfTrailingZeros(h);return b>l?l:b}getNextUnset(s){const l=this.size;if(s>=l)return l;const d=this.bits;let x=Math.floor(s/32),h=~d[x];h&=~((1<<(s&31))-1);const p=d.length;for(;h===0;){if(++x===p)return l;h=~d[x]}const b=x*32+I.numberOfTrailingZeros(h);return b>l?l:b}setBulk(s,l){this.bits[Math.floor(s/32)]=l}setRange(s,l){if(l<s||s<0||l>this.size)throw new y;if(l===s)return;l--;const d=Math.floor(s/32),x=Math.floor(l/32),h=this.bits;for(let p=d;p<=x;p++){const b=p>d?0:s&31,A=(2<<(p<x?31:l&31))-(1<<b);h[p]|=A}}clear(){const s=this.bits.length,l=this.bits;for(let d=0;d<s;d++)l[d]=0}isRange(s,l,d){if(l<s||s<0||l>this.size)throw new y;if(l===s)return!0;l--;const x=Math.floor(s/32),h=Math.floor(l/32),p=this.bits;for(let b=x;b<=h;b++){const v=b>x?0:s&31,O=(2<<(b<h?31:l&31))-(1<<v)&4294967295;if((p[b]&O)!==(d?O:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,l){if(l<0||l>32)throw new y("Num bits must be between 0 and 32");this.ensureCapacity(this.size+l);for(let d=l;d>0;d--)this.appendBit((s>>d-1&1)===1)}appendBitArray(s){const l=s.size;this.ensureCapacity(this.size+l);for(let d=0;d<l;d++)this.appendBit(s.get(d))}xor(s){if(this.size!==s.size)throw new y("Sizes don't match");const l=this.bits;for(let d=0,x=l.length;d<x;d++)l[d]^=s.bits[d]}toBytes(s,l,d,x){for(let h=0;h<x;h++){let p=0;for(let b=0;b<8;b++)this.get(s)&&(p|=1<<7-b),s++;l[d+h]=p}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),l=Math.floor((this.size-1)/32),d=l+1,x=this.bits;for(let h=0;h<d;h++){let p=x[h];p=p>>1&1431655765|(p&1431655765)<<1,p=p>>2&858993459|(p&858993459)<<2,p=p>>4&252645135|(p&252645135)<<4,p=p>>8&16711935|(p&16711935)<<8,p=p>>16&65535|(p&65535)<<16,s[l-h]=p}if(this.size!==d*32){const h=d*32-this.size;let p=s[0]>>>h;for(let b=1;b<d;b++){const v=s[b];p|=v<<32-h,s[b-1]=p,p=v>>>h}s[d-1]=p}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof S))return!1;const l=s;return this.size===l.size&&$.equals(this.bits,l.bits)}hashCode(){return 31*this.size+$.hashCode(this.bits)}toString(){let s="";for(let l=0,d=this.size;l<d;l++)(l&7)===0&&(s+=" "),s+=this.get(l)?"X":".";return s}clone(){return new S(this.size,this.bits.slice())}}var T;(function(H){H[H.OTHER=0]="OTHER",H[H.PURE_BARCODE=1]="PURE_BARCODE",H[H.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",H[H.TRY_HARDER=3]="TRY_HARDER",H[H.CHARACTER_SET=4]="CHARACTER_SET",H[H.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",H[H.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",H[H.ASSUME_GS1=7]="ASSUME_GS1",H[H.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",H[H.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",H[H.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(T||(T={}));var j=T;class L extends f{static getFormatInstance(){return new L}}L.kind="FormatException";var z;(function(H){H[H.Cp437=0]="Cp437",H[H.ISO8859_1=1]="ISO8859_1",H[H.ISO8859_2=2]="ISO8859_2",H[H.ISO8859_3=3]="ISO8859_3",H[H.ISO8859_4=4]="ISO8859_4",H[H.ISO8859_5=5]="ISO8859_5",H[H.ISO8859_6=6]="ISO8859_6",H[H.ISO8859_7=7]="ISO8859_7",H[H.ISO8859_8=8]="ISO8859_8",H[H.ISO8859_9=9]="ISO8859_9",H[H.ISO8859_10=10]="ISO8859_10",H[H.ISO8859_11=11]="ISO8859_11",H[H.ISO8859_13=12]="ISO8859_13",H[H.ISO8859_14=13]="ISO8859_14",H[H.ISO8859_15=14]="ISO8859_15",H[H.ISO8859_16=15]="ISO8859_16",H[H.SJIS=16]="SJIS",H[H.Cp1250=17]="Cp1250",H[H.Cp1251=18]="Cp1251",H[H.Cp1252=19]="Cp1252",H[H.Cp1256=20]="Cp1256",H[H.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",H[H.UTF8=22]="UTF8",H[H.ASCII=23]="ASCII",H[H.Big5=24]="Big5",H[H.GB18030=25]="GB18030",H[H.EUC_KR=26]="EUC_KR"})(z||(z={}));class F{constructor(s,l,d,...x){this.valueIdentifier=s,this.name=d,typeof l=="number"?this.values=Int32Array.from([l]):this.values=l,this.otherEncodingNames=x,F.VALUE_IDENTIFIER_TO_ECI.set(s,this),F.NAME_TO_ECI.set(d,this);const h=this.values;for(let p=0,b=h.length;p!==b;p++){const v=h[p];F.VALUES_TO_ECI.set(v,this)}for(const p of x)F.NAME_TO_ECI.set(p,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new L("incorect value");const l=F.VALUES_TO_ECI.get(s);if(l===void 0)throw new L("incorect value");return l}static getCharacterSetECIByName(s){const l=F.NAME_TO_ECI.get(s);if(l===void 0)throw new L("incorect value");return l}equals(s){if(!(s instanceof F))return!1;const l=s;return this.getName()===l.getName()}}F.VALUE_IDENTIFIER_TO_ECI=new Map,F.VALUES_TO_ECI=new Map,F.NAME_TO_ECI=new Map,F.Cp437=new F(z.Cp437,Int32Array.from([0,2]),"Cp437"),F.ISO8859_1=new F(z.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),F.ISO8859_2=new F(z.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),F.ISO8859_3=new F(z.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),F.ISO8859_4=new F(z.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),F.ISO8859_5=new F(z.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),F.ISO8859_6=new F(z.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),F.ISO8859_7=new F(z.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),F.ISO8859_8=new F(z.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),F.ISO8859_9=new F(z.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),F.ISO8859_10=new F(z.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),F.ISO8859_11=new F(z.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),F.ISO8859_13=new F(z.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),F.ISO8859_14=new F(z.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),F.ISO8859_15=new F(z.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),F.ISO8859_16=new F(z.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),F.SJIS=new F(z.SJIS,20,"SJIS","Shift_JIS"),F.Cp1250=new F(z.Cp1250,21,"Cp1250","windows-1250"),F.Cp1251=new F(z.Cp1251,22,"Cp1251","windows-1251"),F.Cp1252=new F(z.Cp1252,23,"Cp1252","windows-1252"),F.Cp1256=new F(z.Cp1256,24,"Cp1256","windows-1256"),F.UnicodeBigUnmarked=new F(z.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),F.UTF8=new F(z.UTF8,26,"UTF8","UTF-8"),F.ASCII=new F(z.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),F.Big5=new F(z.Big5,28,"Big5"),F.GB18030=new F(z.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),F.EUC_KR=new F(z.EUC_KR,30,"EUC_KR","EUC-KR");class Q extends f{}Q.kind="UnsupportedOperationException";class le{static decode(s,l){const d=this.encodingName(l);return this.customDecoder?this.customDecoder(s,d):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(d)?this.decodeFallback(s,d):new TextDecoder(d).decode(s)}static shouldDecodeOnFallback(s){return!le.isBrowser()&&s==="ISO-8859-1"}static encode(s,l){const d=this.encodingName(l);return this.customEncoder?this.customEncoder(s,d):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof F?s:F.getCharacterSetECIByName(s)}static decodeFallback(s,l){const d=this.encodingCharacterSet(l);if(le.isDecodeFallbackSupported(d)){let x="";for(let h=0,p=s.length;h<p;h++){let b=s[h].toString(16);b.length<2&&(b="0"+b),x+="%"+b}return decodeURIComponent(x)}if(d.equals(F.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new Q(`Encoding ${this.encodingName(l)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(F.UTF8)||s.equals(F.ISO8859_1)||s.equals(F.ASCII)}static encodeFallback(s){const d=btoa(unescape(encodeURIComponent(s))).split(""),x=[];for(let h=0;h<d.length;h++)x.push(d[h].charCodeAt(0));return new Uint8Array(x)}}class Y{static castAsNonUtf8Char(s,l=null){const d=l?l.getName():this.ISO88591;return le.decode(new Uint8Array([s]),d)}static guessEncoding(s,l){if(l!=null&&l.get(j.CHARACTER_SET)!==void 0)return l.get(j.CHARACTER_SET).toString();const d=s.length;let x=!0,h=!0,p=!0,b=0,v=0,A=0,O=0,q=0,Z=0,ae=0,he=0,ye=0,Ae=0,ke=0;const He=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let ze=0;ze<d&&(x||h||p);ze++){const je=s[ze]&255;p&&(b>0?(je&128)===0?p=!1:b--:(je&128)!==0&&((je&64)===0?p=!1:(b++,(je&32)===0?v++:(b++,(je&16)===0?A++:(b++,(je&8)===0?O++:p=!1))))),x&&(je>127&&je<160?x=!1:je>159&&(je<192||je===215||je===247)&&ke++),h&&(q>0?je<64||je===127||je>252?h=!1:q--:je===128||je===160||je>239?h=!1:je>160&&je<224?(Z++,he=0,ae++,ae>ye&&(ye=ae)):je>127?(q++,ae=0,he++,he>Ae&&(Ae=he)):(ae=0,he=0))}return p&&b>0&&(p=!1),h&&q>0&&(h=!1),p&&(He||v+A+O>0)?Y.UTF8:h&&(Y.ASSUME_SHIFT_JIS||ye>=3||Ae>=3)?Y.SHIFT_JIS:x&&h?ye===2&&Z===2||ke*10>=d?Y.SHIFT_JIS:Y.ISO88591:x?Y.ISO88591:h?Y.SHIFT_JIS:p?Y.UTF8:Y.PLATFORM_DEFAULT_ENCODING}static format(s,...l){let d=-1;function x(p,b,v,A,O,q){if(p==="%%")return"%";if(l[++d]===void 0)return;p=A?parseInt(A.substr(1)):void 0;let Z=O?parseInt(O.substr(1)):void 0,ae;switch(q){case"s":ae=l[d];break;case"c":ae=l[d][0];break;case"f":ae=parseFloat(l[d]).toFixed(p);break;case"p":ae=parseFloat(l[d]).toPrecision(p);break;case"e":ae=parseFloat(l[d]).toExponential(p);break;case"x":ae=parseInt(l[d]).toString(Z||16);break;case"d":ae=parseFloat(parseInt(l[d],Z||10).toPrecision(p)).toFixed(0);break}ae=typeof ae=="object"?JSON.stringify(ae):(+ae).toString(Z);let he=parseInt(v),ye=v&&v[0]+""=="0"?"0":" ";for(;ae.length<he;)ae=b!==void 0?ae+ye:ye+ae;return ae}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(h,x)}static getBytes(s,l){return le.encode(s,l)}static getCharCode(s,l=0){return s.charCodeAt(l)}static getCharAt(s){return String.fromCharCode(s)}}Y.SHIFT_JIS=F.SJIS.getName(),Y.GB2312="GB2312",Y.ISO88591=F.ISO8859_1.getName(),Y.EUC_JP="EUC_JP",Y.UTF8=F.UTF8.getName(),Y.PLATFORM_DEFAULT_ENCODING=Y.UTF8,Y.ASSUME_SHIFT_JIS=!1;class ce{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=Y.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,l,d){for(let x=l;l<l+d;x++)this.append(s[x]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,l){this.value=this.value.substr(0,s)+l+this.value.substr(s+1)}substring(s,l){return this.value.substring(s,l)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,l){this.value=this.value.substr(0,s)+l+this.value.substr(s+l.length)}}class me{constructor(s,l,d,x){if(this.width=s,this.height=l,this.rowSize=d,this.bits=x,l==null&&(l=s),this.height=l,s<1||l<1)throw new y("Both dimensions must be greater than 0");d==null&&(d=Math.floor((s+31)/32)),this.rowSize=d,x==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const l=s.length,d=s[0].length,x=new me(d,l);for(let h=0;h<l;h++){const p=s[h];for(let b=0;b<d;b++)p[b]&&x.set(b,h)}return x}static parseFromString(s,l,d){if(s===null)throw new y("stringRepresentation cannot be null");const x=new Array(s.length);let h=0,p=0,b=-1,v=0,A=0;for(;A<s.length;)if(s.charAt(A)===`
`||s.charAt(A)==="\r"){if(h>p){if(b===-1)b=h-p;else if(h-p!==b)throw new y("row lengths do not match");p=h,v++}A++}else if(s.substring(A,A+l.length)===l)A+=l.length,x[h]=!0,h++;else if(s.substring(A,A+d.length)===d)A+=d.length,x[h]=!1,h++;else throw new y("illegal character encountered: "+s.substring(A));if(h>p){if(b===-1)b=h-p;else if(h-p!==b)throw new y("row lengths do not match");v++}const O=new me(b,v);for(let q=0;q<h;q++)x[q]&&O.set(Math.floor(q%b),Math.floor(q/b));return O}get(s,l){const d=l*this.rowSize+Math.floor(s/32);return(this.bits[d]>>>(s&31)&1)!==0}set(s,l){const d=l*this.rowSize+Math.floor(s/32);this.bits[d]|=1<<(s&31)&4294967295}unset(s,l){const d=l*this.rowSize+Math.floor(s/32);this.bits[d]&=~(1<<(s&31)&4294967295)}flip(s,l){const d=l*this.rowSize+Math.floor(s/32);this.bits[d]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new y("input matrix dimensions do not match");const l=new S(Math.floor(this.width/32)+1),d=this.rowSize,x=this.bits;for(let h=0,p=this.height;h<p;h++){const b=h*d,v=s.getRow(h,l).getBitArray();for(let A=0;A<d;A++)x[b+A]^=v[A]}}clear(){const s=this.bits,l=s.length;for(let d=0;d<l;d++)s[d]=0}setRegion(s,l,d,x){if(l<0||s<0)throw new y("Left and top must be nonnegative");if(x<1||d<1)throw new y("Height and width must be at least 1");const h=s+d,p=l+x;if(p>this.height||h>this.width)throw new y("The region must fit inside the matrix");const b=this.rowSize,v=this.bits;for(let A=l;A<p;A++){const O=A*b;for(let q=s;q<h;q++)v[O+Math.floor(q/32)]|=1<<(q&31)&4294967295}}getRow(s,l){l==null||l.getSize()<this.width?l=new S(this.width):l.clear();const d=this.rowSize,x=this.bits,h=s*d;for(let p=0;p<d;p++)l.setBulk(p*32,x[h+p]);return l}setRow(s,l){D.arraycopy(l.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),l=this.getHeight();let d=new S(s),x=new S(s);for(let h=0,p=Math.floor((l+1)/2);h<p;h++)d=this.getRow(h,d),x=this.getRow(l-1-h,x),d.reverse(),x.reverse(),this.setRow(h,x),this.setRow(l-1-h,d)}getEnclosingRectangle(){const s=this.width,l=this.height,d=this.rowSize,x=this.bits;let h=s,p=l,b=-1,v=-1;for(let A=0;A<l;A++)for(let O=0;O<d;O++){const q=x[A*d+O];if(q!==0){if(A<p&&(p=A),A>v&&(v=A),O*32<h){let Z=0;for(;(q<<31-Z&4294967295)===0;)Z++;O*32+Z<h&&(h=O*32+Z)}if(O*32+31>b){let Z=31;for(;!(q>>>Z);)Z--;O*32+Z>b&&(b=O*32+Z)}}}return b<h||v<p?null:Int32Array.from([h,p,b-h+1,v-p+1])}getTopLeftOnBit(){const s=this.rowSize,l=this.bits;let d=0;for(;d<l.length&&l[d]===0;)d++;if(d===l.length)return null;const x=d/s;let h=d%s*32;const p=l[d];let b=0;for(;(p<<31-b&4294967295)===0;)b++;return h+=b,Int32Array.from([h,x])}getBottomRightOnBit(){const s=this.rowSize,l=this.bits;let d=l.length-1;for(;d>=0&&l[d]===0;)d--;if(d<0)return null;const x=Math.floor(d/s);let h=Math.floor(d%s)*32;const p=l[d];let b=31;for(;!(p>>>b);)b--;return h+=b,Int32Array.from([h,x])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof me))return!1;const l=s;return this.width===l.width&&this.height===l.height&&this.rowSize===l.rowSize&&$.equals(this.bits,l.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+$.hashCode(this.bits),s}toString(s="X ",l="  ",d=`
`){return this.buildToString(s,l,d)}buildToString(s,l,d){let x=new ce;for(let h=0,p=this.height;h<p;h++){for(let b=0,v=this.width;b<v;b++)x.append(this.get(b,h)?s:l);x.append(d)}return x.toString()}clone(){return new me(this.width,this.height,this.rowSize,this.bits.slice())}}class te extends f{static getNotFoundInstance(){return new te}}te.kind="NotFoundException";class ne extends C{constructor(s){super(s),this.luminances=ne.EMPTY,this.buckets=new Int32Array(ne.LUMINANCE_BUCKETS)}getBlackRow(s,l){const d=this.getLuminanceSource(),x=d.getWidth();l==null||l.getSize()<x?l=new S(x):l.clear(),this.initArrays(x);const h=d.getRow(s,this.luminances),p=this.buckets;for(let v=0;v<x;v++)p[(h[v]&255)>>ne.LUMINANCE_SHIFT]++;const b=ne.estimateBlackPoint(p);if(x<3)for(let v=0;v<x;v++)(h[v]&255)<b&&l.set(v);else{let v=h[0]&255,A=h[1]&255;for(let O=1;O<x-1;O++){const q=h[O+1]&255;(A*4-v-q)/2<b&&l.set(O),v=A,A=q}}return l}getBlackMatrix(){const s=this.getLuminanceSource(),l=s.getWidth(),d=s.getHeight(),x=new me(l,d);this.initArrays(l);const h=this.buckets;for(let v=1;v<5;v++){const A=Math.floor(d*v/5),O=s.getRow(A,this.luminances),q=Math.floor(l*4/5);for(let Z=Math.floor(l/5);Z<q;Z++){const ae=O[Z]&255;h[ae>>ne.LUMINANCE_SHIFT]++}}const p=ne.estimateBlackPoint(h),b=s.getMatrix();for(let v=0;v<d;v++){const A=v*l;for(let O=0;O<l;O++)(b[A+O]&255)<p&&x.set(O,v)}return x}createBinarizer(s){return new ne(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const l=this.buckets;for(let d=0;d<ne.LUMINANCE_BUCKETS;d++)l[d]=0}static estimateBlackPoint(s){const l=s.length;let d=0,x=0,h=0;for(let O=0;O<l;O++)s[O]>h&&(x=O,h=s[O]),s[O]>d&&(d=s[O]);let p=0,b=0;for(let O=0;O<l;O++){const q=O-x,Z=s[O]*q*q;Z>b&&(p=O,b=Z)}if(x>p){const O=x;x=p,p=O}if(p-x<=l/16)throw new te;let v=p-1,A=-1;for(let O=p-1;O>x;O--){const q=O-x,Z=q*q*(p-O)*(d-s[O]);Z>A&&(v=O,A=Z)}return v<<ne.LUMINANCE_SHIFT}}ne.LUMINANCE_BITS=5,ne.LUMINANCE_SHIFT=8-ne.LUMINANCE_BITS,ne.LUMINANCE_BUCKETS=1<<ne.LUMINANCE_BITS,ne.EMPTY=Uint8ClampedArray.from([0]);class de extends ne{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),l=s.getWidth(),d=s.getHeight();if(l>=de.MINIMUM_DIMENSION&&d>=de.MINIMUM_DIMENSION){const x=s.getMatrix();let h=l>>de.BLOCK_SIZE_POWER;(l&de.BLOCK_SIZE_MASK)!==0&&h++;let p=d>>de.BLOCK_SIZE_POWER;(d&de.BLOCK_SIZE_MASK)!==0&&p++;const b=de.calculateBlackPoints(x,h,p,l,d),v=new me(l,d);de.calculateThresholdForBlock(x,h,p,l,d,b,v),this.matrix=v}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new de(s)}static calculateThresholdForBlock(s,l,d,x,h,p,b){const v=h-de.BLOCK_SIZE,A=x-de.BLOCK_SIZE;for(let O=0;O<d;O++){let q=O<<de.BLOCK_SIZE_POWER;q>v&&(q=v);const Z=de.cap(O,2,d-3);for(let ae=0;ae<l;ae++){let he=ae<<de.BLOCK_SIZE_POWER;he>A&&(he=A);const ye=de.cap(ae,2,l-3);let Ae=0;for(let He=-2;He<=2;He++){const ze=p[Z+He];Ae+=ze[ye-2]+ze[ye-1]+ze[ye]+ze[ye+1]+ze[ye+2]}const ke=Ae/25;de.thresholdBlock(s,he,q,ke,x,b)}}}static cap(s,l,d){return s<l?l:s>d?d:s}static thresholdBlock(s,l,d,x,h,p){for(let b=0,v=d*h+l;b<de.BLOCK_SIZE;b++,v+=h)for(let A=0;A<de.BLOCK_SIZE;A++)(s[v+A]&255)<=x&&p.set(l+A,d+b)}static calculateBlackPoints(s,l,d,x,h){const p=h-de.BLOCK_SIZE,b=x-de.BLOCK_SIZE,v=new Array(d);for(let A=0;A<d;A++){v[A]=new Int32Array(l);let O=A<<de.BLOCK_SIZE_POWER;O>p&&(O=p);for(let q=0;q<l;q++){let Z=q<<de.BLOCK_SIZE_POWER;Z>b&&(Z=b);let ae=0,he=255,ye=0;for(let ke=0,He=O*x+Z;ke<de.BLOCK_SIZE;ke++,He+=x){for(let ze=0;ze<de.BLOCK_SIZE;ze++){const je=s[He+ze]&255;ae+=je,je<he&&(he=je),je>ye&&(ye=je)}if(ye-he>de.MIN_DYNAMIC_RANGE)for(ke++,He+=x;ke<de.BLOCK_SIZE;ke++,He+=x)for(let ze=0;ze<de.BLOCK_SIZE;ze++)ae+=s[He+ze]&255}let Ae=ae>>de.BLOCK_SIZE_POWER*2;if(ye-he<=de.MIN_DYNAMIC_RANGE&&(Ae=he/2,A>0&&q>0)){const ke=(v[A-1][q]+2*v[A][q-1]+v[A-1][q-1])/4;he<ke&&(Ae=ke)}v[A][q]=Ae}}return v}}de.BLOCK_SIZE_POWER=3,de.BLOCK_SIZE=1<<de.BLOCK_SIZE_POWER,de.BLOCK_SIZE_MASK=de.BLOCK_SIZE-1,de.MINIMUM_DIMENSION=de.BLOCK_SIZE*5,de.MIN_DYNAMIC_RANGE=24;class be{constructor(s,l){this.width=s,this.height=l}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,l,d,x){throw new Q("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Q("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Q("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let l=new ce;for(let d=0;d<this.height;d++){const x=this.getRow(d,s);for(let h=0;h<this.width;h++){const p=x[h]&255;let b;p<64?b="#":p<128?b="+":p<192?b=".":b=" ",l.append(b)}l.append(`
`)}return l.toString()}}class De extends be{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,l){const d=this.delegate.getRow(s,l),x=this.getWidth();for(let h=0;h<x;h++)d[h]=255-(d[h]&255);return d}getMatrix(){const s=this.delegate.getMatrix(),l=this.getWidth()*this.getHeight(),d=new Uint8ClampedArray(l);for(let x=0;x<l;x++)d[x]=255-(s[x]&255);return d}isCropSupported(){return this.delegate.isCropSupported()}crop(s,l,d,x){return new De(this.delegate.crop(s,l,d,x))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new De(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new De(this.delegate.rotateCounterClockwise45())}}class Ie extends be{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=Ie.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const l=s.getContext("2d").getImageData(0,0,s.width,s.height);return Ie.toGrayscaleBuffer(l.data,s.width,s.height)}static toGrayscaleBuffer(s,l,d){const x=new Uint8ClampedArray(l*d);for(let h=0,p=0,b=s.length;h<b;h+=4,p++){let v;if(s[h+3]===0)v=255;else{const O=s[h],q=s[h+1],Z=s[h+2];v=306*O+601*q+117*Z+512>>10}x[p]=v}return x}getRow(s,l){if(s<0||s>=this.getHeight())throw new y("Requested row is outside the image: "+s);const d=this.getWidth(),x=s*d;return l===null?l=this.buffer.slice(x,x+d):(l.length<d&&(l=new Uint8ClampedArray(d)),l.set(this.buffer.slice(x,x+d))),l}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,l,d,x){return super.crop(s,l,d,x),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const l=this.getTempCanvasElement(),d=l.getContext("2d"),x=s*Ie.DEGREE_TO_RADIANS,h=this.canvas.width,p=this.canvas.height,b=Math.ceil(Math.abs(Math.cos(x))*h+Math.abs(Math.sin(x))*p),v=Math.ceil(Math.abs(Math.sin(x))*h+Math.abs(Math.cos(x))*p);return l.width=b,l.height=v,d.translate(b/2,v/2),d.rotate(x),d.drawImage(this.canvas,h/-2,p/-2),this.buffer=Ie.makeBufferFromCanvasImageData(l),this}invert(){return new De(this)}}Ie.DEGREE_TO_RADIANS=Math.PI/180;class fe{constructor(s,l,d){this.deviceId=s,this.label=l,this.kind="videoinput",this.groupId=d||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Pe=(globalThis||pi||self||window||void 0)&&(globalThis||pi||self||window||void 0).__awaiter||function(H,s,l,d){function x(h){return h instanceof l?h:new l(function(p){p(h)})}return new(l||(l=Promise))(function(h,p){function b(O){try{A(d.next(O))}catch(q){p(q)}}function v(O){try{A(d.throw(O))}catch(q){p(q)}}function A(O){O.done?h(O.value):x(O.value).then(b,v)}A((d=d.apply(H,s||[])).next())})};class Ge{constructor(s,l=500,d){this.reader=s,this.timeBetweenScansMillis=l,this._hints=d,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return Pe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),l=[];for(const d of s){const x=d.kind==="video"?"videoinput":d.kind;if(x!=="videoinput")continue;const h=d.deviceId||d.id,p=d.label||`Video device ${l.length+1}`,b=d.groupId,v={deviceId:h,label:p,kind:x,groupId:b};l.push(v)}return l})}getVideoInputDevices(){return Pe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(l=>new fe(l.deviceId,l.label))})}findDeviceById(s){return Pe(this,void 0,void 0,function*(){const l=yield this.listVideoInputDevices();return l?l.find(d=>d.deviceId===s):null})}decodeFromInputVideoDevice(s,l){return Pe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,l)})}decodeOnceFromVideoDevice(s,l){return Pe(this,void 0,void 0,function*(){this.reset();let d;s?d={deviceId:{exact:s}}:d={facingMode:"environment"};const x={video:d};return yield this.decodeOnceFromConstraints(x,l)})}decodeOnceFromConstraints(s,l){return Pe(this,void 0,void 0,function*(){const d=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(d,l)})}decodeOnceFromStream(s,l){return Pe(this,void 0,void 0,function*(){this.reset();const d=yield this.attachStreamToVideo(s,l);return yield this.decodeOnce(d)})}decodeFromInputVideoDeviceContinuously(s,l,d){return Pe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,l,d)})}decodeFromVideoDevice(s,l,d){return Pe(this,void 0,void 0,function*(){let x;s?x={deviceId:{exact:s}}:x={facingMode:"environment"};const h={video:x};return yield this.decodeFromConstraints(h,l,d)})}decodeFromConstraints(s,l,d){return Pe(this,void 0,void 0,function*(){const x=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(x,l,d)})}decodeFromStream(s,l,d){return Pe(this,void 0,void 0,function*(){this.reset();const x=yield this.attachStreamToVideo(s,l);return yield this.decodeContinuously(x,d)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,l){return Pe(this,void 0,void 0,function*(){const d=this.prepareVideoElement(l);return this.addVideoSource(d,s),this.videoElement=d,this.stream=s,yield this.playVideoOnLoadAsync(d),d})}playVideoOnLoadAsync(s){return new Promise((l,d)=>this.playVideoOnLoad(s,()=>l()))}playVideoOnLoad(s,l){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",l),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return Pe(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,l){const d=document.getElementById(s);if(!d)throw new m(`element with id '${s}' not found`);if(d.nodeName.toLowerCase()!==l.toLowerCase())throw new m(`element with id '${s}' must be an ${l} element`);return d}decodeFromImage(s,l){if(!s&&!l)throw new m("either imageElement with a src set or an url must be provided");return l&&!s?this.decodeFromImageUrl(l):this.decodeFromImageElement(s)}decodeFromVideo(s,l){if(!s&&!l)throw new m("Either an element with a src set or an URL must be provided");return l&&!s?this.decodeFromVideoUrl(l):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,l,d){if(s===void 0&&l===void 0)throw new m("Either an element with a src set or an URL must be provided");return l&&!s?this.decodeFromVideoUrlContinuously(l,d):this.decodeFromVideoElementContinuously(s,d)}decodeFromImageElement(s){if(!s)throw new m("An image element must be provided.");this.reset();const l=this.prepareImageElement(s);this.imageElement=l;let d;return this.isImageLoaded(l)?d=this.decodeOnce(l,!1,!0):d=this._decodeOnLoadImage(l),d}decodeFromVideoElement(s){const l=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(l)}decodeFromVideoElementContinuously(s,l){const d=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(d,l)}_decodeFromVideoElementSetup(s){if(!s)throw new m("A video element must be provided.");this.reset();const l=this.prepareVideoElement(s);return this.videoElement=l,l}decodeFromImageUrl(s){if(!s)throw new m("An URL must be provided.");this.reset();const l=this.prepareImageElement();this.imageElement=l;const d=this._decodeOnLoadImage(l);return l.src=s,d}decodeFromVideoUrl(s){if(!s)throw new m("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),d=this.decodeFromVideoElement(l);return l.src=s,d}decodeFromVideoUrlContinuously(s,l){if(!s)throw new m("An URL must be provided.");this.reset();const d=this.prepareVideoElement(),x=this.decodeFromVideoElementContinuously(d,l);return d.src=s,x}_decodeOnLoadImage(s){return new Promise((l,d)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(l,d),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return Pe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,l){return Pe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,l)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let l;return typeof s>"u"&&(l=document.createElement("img"),l.width=200,l.height=200),typeof s=="string"&&(l=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(l=s),l}prepareVideoElement(s){let l;return!s&&typeof document<"u"&&(l=document.createElement("video"),l.width=200,l.height=200),typeof s=="string"&&(l=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(l=s),l.setAttribute("autoplay","true"),l.setAttribute("muted","true"),l.setAttribute("playsinline","true"),l}decodeOnce(s,l=!0,d=!0){this._stopAsyncDecode=!1;const x=(h,p)=>{if(this._stopAsyncDecode){p(new te("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const b=this.decode(s);h(b)}catch(b){const v=l&&b instanceof te,O=(b instanceof E||b instanceof L)&&d;if(v||O)return setTimeout(x,this._timeBetweenDecodingAttempts,h,p);p(b)}};return new Promise((h,p)=>x(h,p))}decodeContinuously(s,l){this._stopContinuousDecode=!1;const d=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const x=this.decode(s);l(x,null),setTimeout(d,this.timeBetweenScansMillis)}catch(x){l(null,x);const h=x instanceof E||x instanceof L,p=x instanceof te;(h||p)&&setTimeout(d,this._timeBetweenDecodingAttempts)}};d()}decode(s){const l=this.createBinaryBitmap(s);return this.decodeBitmap(l)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,l,d){l||(l={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),d||(d=this.captureCanvasContext),d.drawImage(s,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}drawImageOnCanvas(s,l,d=this.captureCanvasContext){l||(l={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),d||(d=this.captureCanvasContext),d.drawImage(s,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const l=this.getCaptureCanvas(s),d=new Ie(l),x=new de(d);return new w(x)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const d=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=d}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const l=this.createCaptureCanvas(s);this.captureCanvas=l}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const l=document.createElement("canvas");let d,x;return typeof s<"u"&&(s instanceof HTMLVideoElement?(d=s.videoWidth,x=s.videoHeight):s instanceof HTMLImageElement&&(d=s.naturalWidth||s.width,x=s.naturalHeight||s.height)),l.style.width=d+"px",l.style.height=x+"px",l.width=d,l.height=x,l}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,l){try{s.srcObject=l}catch{s.src=URL.createObjectURL(l)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class Ne{constructor(s,l,d=l==null?0:8*l.length,x,h,p=D.currentTimeMillis()){this.text=s,this.rawBytes=l,this.numBits=d,this.resultPoints=x,this.format=h,this.timestamp=p,this.text=s,this.rawBytes=l,d==null?this.numBits=l==null?0:8*l.length:this.numBits=d,this.resultPoints=x,this.format=h,this.resultMetadata=null,p==null?this.timestamp=D.currentTimeMillis():this.timestamp=p}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,l){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,l)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const l=this.resultPoints;if(l===null)this.resultPoints=s;else if(s!==null&&s.length>0){const d=new Array(l.length+s.length);D.arraycopy(l,0,d,0,l.length),D.arraycopy(s,0,d,l.length,s.length),this.resultPoints=d}}getTimestamp(){return this.timestamp}toString(){return this.text}}var tt;(function(H){H[H.AZTEC=0]="AZTEC",H[H.CODABAR=1]="CODABAR",H[H.CODE_39=2]="CODE_39",H[H.CODE_93=3]="CODE_93",H[H.CODE_128=4]="CODE_128",H[H.DATA_MATRIX=5]="DATA_MATRIX",H[H.EAN_8=6]="EAN_8",H[H.EAN_13=7]="EAN_13",H[H.ITF=8]="ITF",H[H.MAXICODE=9]="MAXICODE",H[H.PDF_417=10]="PDF_417",H[H.QR_CODE=11]="QR_CODE",H[H.RSS_14=12]="RSS_14",H[H.RSS_EXPANDED=13]="RSS_EXPANDED",H[H.UPC_A=14]="UPC_A",H[H.UPC_E=15]="UPC_E",H[H.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(tt||(tt={}));var Re=tt,Je;(function(H){H[H.OTHER=0]="OTHER",H[H.ORIENTATION=1]="ORIENTATION",H[H.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",H[H.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",H[H.ISSUE_NUMBER=4]="ISSUE_NUMBER",H[H.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",H[H.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",H[H.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",H[H.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",H[H.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",H[H.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Je||(Je={}));var et=Je;class st{constructor(s,l,d,x,h=-1,p=-1){this.rawBytes=s,this.text=l,this.byteSegments=d,this.ecLevel=x,this.structuredAppendSequenceNumber=h,this.structuredAppendParity=p,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Te{exp(s){return this.expTable[s]}log(s){if(s===0)throw new y;return this.logTable[s]}static addOrSubtract(s,l){return s^l}}class re{constructor(s,l){if(l.length===0)throw new y;this.field=s;const d=l.length;if(d>1&&l[0]===0){let x=1;for(;x<d&&l[x]===0;)x++;x===d?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(d-x),D.arraycopy(l,x,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const l=this.coefficients;let d;if(s===1){d=0;for(let p=0,b=l.length;p!==b;p++){const v=l[p];d=Te.addOrSubtract(d,v)}return d}d=l[0];const x=l.length,h=this.field;for(let p=1;p<x;p++)d=Te.addOrSubtract(h.multiply(s,d),l[p]);return d}addOrSubtract(s){if(!this.field.equals(s.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let l=this.coefficients,d=s.coefficients;if(l.length>d.length){const p=l;l=d,d=p}let x=new Int32Array(d.length);const h=d.length-l.length;D.arraycopy(d,0,x,0,h);for(let p=h;p<d.length;p++)x[p]=Te.addOrSubtract(l[p-h],d[p]);return new re(this.field,x)}multiply(s){if(!this.field.equals(s.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const l=this.coefficients,d=l.length,x=s.coefficients,h=x.length,p=new Int32Array(d+h-1),b=this.field;for(let v=0;v<d;v++){const A=l[v];for(let O=0;O<h;O++)p[v+O]=Te.addOrSubtract(p[v+O],b.multiply(A,x[O]))}return new re(b,p)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const l=this.coefficients.length,d=this.field,x=new Int32Array(l),h=this.coefficients;for(let p=0;p<l;p++)x[p]=d.multiply(h[p],s);return new re(d,x)}multiplyByMonomial(s,l){if(s<0)throw new y;if(l===0)return this.field.getZero();const d=this.coefficients,x=d.length,h=new Int32Array(x+s),p=this.field;for(let b=0;b<x;b++)h[b]=p.multiply(d[b],l);return new re(p,h)}divide(s){if(!this.field.equals(s.field))throw new y("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new y("Divide by 0");const l=this.field;let d=l.getZero(),x=this;const h=s.getCoefficient(s.getDegree()),p=l.inverse(h);for(;x.getDegree()>=s.getDegree()&&!x.isZero();){const b=x.getDegree()-s.getDegree(),v=l.multiply(x.getCoefficient(x.getDegree()),p),A=s.multiplyByMonomial(b,v),O=l.buildMonomial(b,v);d=d.addOrSubtract(O),x=x.addOrSubtract(A)}return[d,x]}toString(){let s="";for(let l=this.getDegree();l>=0;l--){let d=this.getCoefficient(l);if(d!==0){if(d<0?(s+=" - ",d=-d):s.length>0&&(s+=" + "),l===0||d!==1){const x=this.field.log(d);x===0?s+="1":x===1?s+="a":(s+="a^",s+=x)}l!==0&&(l===1?s+="x":(s+="x^",s+=l))}}return s}}class X extends f{}X.kind="ArithmeticException";class B extends Te{constructor(s,l,d){super(),this.primitive=s,this.size=l,this.generatorBase=d;const x=new Int32Array(l);let h=1;for(let b=0;b<l;b++)x[b]=h,h*=2,h>=l&&(h^=s,h&=l-1);this.expTable=x;const p=new Int32Array(l);for(let b=0;b<l-1;b++)p[x[b]]=b;this.logTable=p,this.zero=new re(this,Int32Array.from([0])),this.one=new re(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,l){if(s<0)throw new y;if(l===0)return this.zero;const d=new Int32Array(s+1);return d[0]=l,new re(this,d)}inverse(s){if(s===0)throw new X;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,l){return s===0||l===0?0:this.expTable[(this.logTable[s]+this.logTable[l])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+I.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}B.AZTEC_DATA_12=new B(4201,4096,1),B.AZTEC_DATA_10=new B(1033,1024,1),B.AZTEC_DATA_6=new B(67,64,1),B.AZTEC_PARAM=new B(19,16,1),B.QR_CODE_FIELD_256=new B(285,256,0),B.DATA_MATRIX_FIELD_256=new B(301,256,1),B.AZTEC_DATA_8=B.DATA_MATRIX_FIELD_256,B.MAXICODE_FIELD_64=B.AZTEC_DATA_6;class k extends f{}k.kind="ReedSolomonException";class R extends f{}R.kind="IllegalStateException";class N{constructor(s){this.field=s}decode(s,l){const d=this.field,x=new re(d,s),h=new Int32Array(l);let p=!0;for(let ae=0;ae<l;ae++){const he=x.evaluateAt(d.exp(ae+d.getGeneratorBase()));h[h.length-1-ae]=he,he!==0&&(p=!1)}if(p)return;const b=new re(d,h),v=this.runEuclideanAlgorithm(d.buildMonomial(l,1),b,l),A=v[0],O=v[1],q=this.findErrorLocations(A),Z=this.findErrorMagnitudes(O,q);for(let ae=0;ae<q.length;ae++){const he=s.length-1-d.log(q[ae]);if(he<0)throw new k("Bad error location");s[he]=B.addOrSubtract(s[he],Z[ae])}}runEuclideanAlgorithm(s,l,d){if(s.getDegree()<l.getDegree()){const ae=s;s=l,l=ae}const x=this.field;let h=s,p=l,b=x.getZero(),v=x.getOne();for(;p.getDegree()>=(d/2|0);){let ae=h,he=b;if(h=p,b=v,h.isZero())throw new k("r_{i-1} was zero");p=ae;let ye=x.getZero();const Ae=h.getCoefficient(h.getDegree()),ke=x.inverse(Ae);for(;p.getDegree()>=h.getDegree()&&!p.isZero();){const He=p.getDegree()-h.getDegree(),ze=x.multiply(p.getCoefficient(p.getDegree()),ke);ye=ye.addOrSubtract(x.buildMonomial(He,ze)),p=p.addOrSubtract(h.multiplyByMonomial(He,ze))}if(v=ye.multiply(b).addOrSubtract(he),p.getDegree()>=h.getDegree())throw new R("Division algorithm failed to reduce polynomial?")}const A=v.getCoefficient(0);if(A===0)throw new k("sigmaTilde(0) was zero");const O=x.inverse(A),q=v.multiplyScalar(O),Z=p.multiplyScalar(O);return[q,Z]}findErrorLocations(s){const l=s.getDegree();if(l===1)return Int32Array.from([s.getCoefficient(1)]);const d=new Int32Array(l);let x=0;const h=this.field;for(let p=1;p<h.getSize()&&x<l;p++)s.evaluateAt(p)===0&&(d[x]=h.inverse(p),x++);if(x!==l)throw new k("Error locator degree does not match number of roots");return d}findErrorMagnitudes(s,l){const d=l.length,x=new Int32Array(d),h=this.field;for(let p=0;p<d;p++){const b=h.inverse(l[p]);let v=1;for(let A=0;A<d;A++)if(p!==A){const O=h.multiply(l[A],b),q=(O&1)===0?O|1:O&-2;v=h.multiply(v,q)}x[p]=h.multiply(s.evaluateAt(b),h.inverse(v)),h.getGeneratorBase()!==0&&(x[p]=h.multiply(x[p],b))}return x}}var V;(function(H){H[H.UPPER=0]="UPPER",H[H.LOWER=1]="LOWER",H[H.MIXED=2]="MIXED",H[H.DIGIT=3]="DIGIT",H[H.PUNCT=4]="PUNCT",H[H.BINARY=5]="BINARY"})(V||(V={}));class K{decode(s){this.ddata=s;let l=s.getBits(),d=this.extractBits(l),x=this.correctBits(d),h=K.convertBoolArrayToByteArray(x),p=K.getEncodedData(x),b=new st(h,p,null,null);return b.setNumBits(x.length),b}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let l=s.length,d=V.UPPER,x=V.UPPER,h="",p=0;for(;p<l;)if(x===V.BINARY){if(l-p<5)break;let b=K.readCode(s,p,5);if(p+=5,b===0){if(l-p<11)break;b=K.readCode(s,p,11)+31,p+=11}for(let v=0;v<b;v++){if(l-p<8){p=l;break}const A=K.readCode(s,p,8);h+=Y.castAsNonUtf8Char(A),p+=8}x=d}else{let b=x===V.DIGIT?4:5;if(l-p<b)break;let v=K.readCode(s,p,b);p+=b;let A=K.getCharacter(x,v);A.startsWith("CTRL_")?(d=x,x=K.getTable(A.charAt(5)),A.charAt(6)==="L"&&(d=x)):(h+=A,x=d)}return h}static getTable(s){switch(s){case"L":return V.LOWER;case"P":return V.PUNCT;case"M":return V.MIXED;case"D":return V.DIGIT;case"B":return V.BINARY;case"U":default:return V.UPPER}}static getCharacter(s,l){switch(s){case V.UPPER:return K.UPPER_TABLE[l];case V.LOWER:return K.LOWER_TABLE[l];case V.MIXED:return K.MIXED_TABLE[l];case V.PUNCT:return K.PUNCT_TABLE[l];case V.DIGIT:return K.DIGIT_TABLE[l];default:throw new R("Bad table")}}correctBits(s){let l,d;this.ddata.getNbLayers()<=2?(d=6,l=B.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(d=8,l=B.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(d=10,l=B.AZTEC_DATA_10):(d=12,l=B.AZTEC_DATA_12);let x=this.ddata.getNbDatablocks(),h=s.length/d;if(h<x)throw new L;let p=s.length%d,b=new Int32Array(h);for(let Z=0;Z<h;Z++,p+=d)b[Z]=K.readCode(s,p,d);try{new N(l).decode(b,h-x)}catch(Z){throw new L(Z)}let v=(1<<d)-1,A=0;for(let Z=0;Z<x;Z++){let ae=b[Z];if(ae===0||ae===v)throw new L;(ae===1||ae===v-1)&&A++}let O=new Array(x*d-A),q=0;for(let Z=0;Z<x;Z++){let ae=b[Z];if(ae===1||ae===v-1)O.fill(ae>1,q,q+d-1),q+=d-1;else for(let he=d-1;he>=0;--he)O[q++]=(ae&1<<he)!==0}return O}extractBits(s){let l=this.ddata.isCompact(),d=this.ddata.getNbLayers(),x=(l?11:14)+d*4,h=new Int32Array(x),p=new Array(this.totalBitsInLayer(d,l));if(l)for(let b=0;b<h.length;b++)h[b]=b;else{let b=x+1+2*I.truncDivision(I.truncDivision(x,2)-1,15),v=x/2,A=I.truncDivision(b,2);for(let O=0;O<v;O++){let q=O+I.truncDivision(O,15);h[v-O-1]=A-q-1,h[v+O]=A+q+1}}for(let b=0,v=0;b<d;b++){let A=(d-b)*4+(l?9:12),O=b*2,q=x-1-O;for(let Z=0;Z<A;Z++){let ae=Z*2;for(let he=0;he<2;he++)p[v+ae+he]=s.get(h[O+he],h[O+Z]),p[v+2*A+ae+he]=s.get(h[O+Z],h[q-he]),p[v+4*A+ae+he]=s.get(h[q-he],h[q-Z]),p[v+6*A+ae+he]=s.get(h[q-Z],h[O+he])}v+=A*8}return p}static readCode(s,l,d){let x=0;for(let h=l;h<l+d;h++)x<<=1,s[h]&&(x|=1);return x}static readByte(s,l){let d=s.length-l;return d>=8?K.readCode(s,l,8):K.readCode(s,l,d)<<8-d}static convertBoolArrayToByteArray(s){let l=new Uint8Array((s.length+7)/8);for(let d=0;d<l.length;d++)l[d]=K.readByte(s,8*d);return l}totalBitsInLayer(s,l){return((l?88:112)+16*s)*s}}K.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],K.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],K.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],K.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],K.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ue{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,l,d,x){const h=s-d,p=l-x;return Math.sqrt(h*h+p*p)}static sum(s){let l=0;for(let d=0,x=s.length;d!==x;d++){const h=s[d];l+=h}return l}}class ie{static floatToIntBits(s){return s}}ie.MAX_VALUE=Number.MAX_SAFE_INTEGER;class W{constructor(s,l){this.x=s,this.y=l}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof W){const l=s;return this.x===l.x&&this.y===l.y}return!1}hashCode(){return 31*ie.floatToIntBits(this.x)+ie.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const l=this.distance(s[0],s[1]),d=this.distance(s[1],s[2]),x=this.distance(s[0],s[2]);let h,p,b;if(d>=l&&d>=x?(p=s[0],h=s[1],b=s[2]):x>=d&&x>=l?(p=s[1],h=s[0],b=s[2]):(p=s[2],h=s[0],b=s[1]),this.crossProductZ(h,p,b)<0){const v=h;h=b,b=v}s[0]=h,s[1]=p,s[2]=b}static distance(s,l){return ue.distance(s.x,s.y,l.x,l.y)}static crossProductZ(s,l,d){const x=l.x,h=l.y;return(d.x-x)*(s.y-h)-(d.y-h)*(s.x-x)}}class ee{constructor(s,l){this.bits=s,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class J extends ee{constructor(s,l,d,x,h){super(s,l),this.compact=d,this.nbDatablocks=x,this.nbLayers=h}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class se{constructor(s,l,d,x){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),l==null&&(l=se.INIT_SIZE),d==null&&(d=s.getWidth()/2|0),x==null&&(x=s.getHeight()/2|0);const h=l/2|0;if(this.leftInit=d-h,this.rightInit=d+h,this.upInit=x-h,this.downInit=x+h,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new te}detect(){let s=this.leftInit,l=this.rightInit,d=this.upInit,x=this.downInit,h=!1,p=!0,b=!1,v=!1,A=!1,O=!1,q=!1;const Z=this.width,ae=this.height;for(;p;){p=!1;let he=!0;for(;(he||!v)&&l<Z;)he=this.containsBlackPoint(d,x,l,!1),he?(l++,p=!0,v=!0):v||l++;if(l>=Z){h=!0;break}let ye=!0;for(;(ye||!A)&&x<ae;)ye=this.containsBlackPoint(s,l,x,!0),ye?(x++,p=!0,A=!0):A||x++;if(x>=ae){h=!0;break}let Ae=!0;for(;(Ae||!O)&&s>=0;)Ae=this.containsBlackPoint(d,x,s,!1),Ae?(s--,p=!0,O=!0):O||s--;if(s<0){h=!0;break}let ke=!0;for(;(ke||!q)&&d>=0;)ke=this.containsBlackPoint(s,l,d,!0),ke?(d--,p=!0,q=!0):q||d--;if(d<0){h=!0;break}p&&(b=!0)}if(!h&&b){const he=l-s;let ye=null;for(let ze=1;ye===null&&ze<he;ze++)ye=this.getBlackPointOnSegment(s,x-ze,s+ze,x);if(ye==null)throw new te;let Ae=null;for(let ze=1;Ae===null&&ze<he;ze++)Ae=this.getBlackPointOnSegment(s,d+ze,s+ze,d);if(Ae==null)throw new te;let ke=null;for(let ze=1;ke===null&&ze<he;ze++)ke=this.getBlackPointOnSegment(l,d+ze,l-ze,d);if(ke==null)throw new te;let He=null;for(let ze=1;He===null&&ze<he;ze++)He=this.getBlackPointOnSegment(l,x-ze,l-ze,x);if(He==null)throw new te;return this.centerEdges(He,ye,ke,Ae)}else throw new te}getBlackPointOnSegment(s,l,d,x){const h=ue.round(ue.distance(s,l,d,x)),p=(d-s)/h,b=(x-l)/h,v=this.image;for(let A=0;A<h;A++){const O=ue.round(s+A*p),q=ue.round(l+A*b);if(v.get(O,q))return new W(O,q)}return null}centerEdges(s,l,d,x){const h=s.getX(),p=s.getY(),b=l.getX(),v=l.getY(),A=d.getX(),O=d.getY(),q=x.getX(),Z=x.getY(),ae=se.CORR;return h<this.width/2?[new W(q-ae,Z+ae),new W(b+ae,v+ae),new W(A-ae,O-ae),new W(h+ae,p-ae)]:[new W(q+ae,Z+ae),new W(b+ae,v-ae),new W(A-ae,O+ae),new W(h-ae,p-ae)]}containsBlackPoint(s,l,d,x){const h=this.image;if(x){for(let p=s;p<=l;p++)if(h.get(p,d))return!0}else for(let p=s;p<=l;p++)if(h.get(d,p))return!0;return!1}}se.INIT_SIZE=10,se.CORR=1;class xe{static checkAndNudgePoints(s,l){const d=s.getWidth(),x=s.getHeight();let h=!0;for(let p=0;p<l.length&&h;p+=2){const b=Math.floor(l[p]),v=Math.floor(l[p+1]);if(b<-1||b>d||v<-1||v>x)throw new te;h=!1,b===-1?(l[p]=0,h=!0):b===d&&(l[p]=d-1,h=!0),v===-1?(l[p+1]=0,h=!0):v===x&&(l[p+1]=x-1,h=!0)}h=!0;for(let p=l.length-2;p>=0&&h;p-=2){const b=Math.floor(l[p]),v=Math.floor(l[p+1]);if(b<-1||b>d||v<-1||v>x)throw new te;h=!1,b===-1?(l[p]=0,h=!0):b===d&&(l[p]=d-1,h=!0),v===-1?(l[p+1]=0,h=!0):v===x&&(l[p+1]=x-1,h=!0)}}}class ge{constructor(s,l,d,x,h,p,b,v,A){this.a11=s,this.a21=l,this.a31=d,this.a12=x,this.a22=h,this.a32=p,this.a13=b,this.a23=v,this.a33=A}static quadrilateralToQuadrilateral(s,l,d,x,h,p,b,v,A,O,q,Z,ae,he,ye,Ae){const ke=ge.quadrilateralToSquare(s,l,d,x,h,p,b,v);return ge.squareToQuadrilateral(A,O,q,Z,ae,he,ye,Ae).times(ke)}transformPoints(s){const l=s.length,d=this.a11,x=this.a12,h=this.a13,p=this.a21,b=this.a22,v=this.a23,A=this.a31,O=this.a32,q=this.a33;for(let Z=0;Z<l;Z+=2){const ae=s[Z],he=s[Z+1],ye=h*ae+v*he+q;s[Z]=(d*ae+p*he+A)/ye,s[Z+1]=(x*ae+b*he+O)/ye}}transformPointsWithValues(s,l){const d=this.a11,x=this.a12,h=this.a13,p=this.a21,b=this.a22,v=this.a23,A=this.a31,O=this.a32,q=this.a33,Z=s.length;for(let ae=0;ae<Z;ae++){const he=s[ae],ye=l[ae],Ae=h*he+v*ye+q;s[ae]=(d*he+p*ye+A)/Ae,l[ae]=(x*he+b*ye+O)/Ae}}static squareToQuadrilateral(s,l,d,x,h,p,b,v){const A=s-d+h-b,O=l-x+p-v;if(A===0&&O===0)return new ge(d-s,h-d,s,x-l,p-x,l,0,0,1);{const q=d-h,Z=b-h,ae=x-p,he=v-p,ye=q*he-Z*ae,Ae=(A*he-Z*O)/ye,ke=(q*O-A*ae)/ye;return new ge(d-s+Ae*d,b-s+ke*b,s,x-l+Ae*x,v-l+ke*v,l,Ae,ke,1)}}static quadrilateralToSquare(s,l,d,x,h,p,b,v){return ge.squareToQuadrilateral(s,l,d,x,h,p,b,v).buildAdjoint()}buildAdjoint(){return new ge(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new ge(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class Me extends xe{sampleGrid(s,l,d,x,h,p,b,v,A,O,q,Z,ae,he,ye,Ae,ke,He,ze){const je=ge.quadrilateralToQuadrilateral(x,h,p,b,v,A,O,q,Z,ae,he,ye,Ae,ke,He,ze);return this.sampleGridWithTransform(s,l,d,je)}sampleGridWithTransform(s,l,d,x){if(l<=0||d<=0)throw new te;const h=new me(l,d),p=new Float32Array(2*l);for(let b=0;b<d;b++){const v=p.length,A=b+.5;for(let O=0;O<v;O+=2)p[O]=O/2+.5,p[O+1]=A;x.transformPoints(p),xe.checkAndNudgePoints(s,p);try{for(let O=0;O<v;O+=2)s.get(Math.floor(p[O]),Math.floor(p[O+1]))&&h.set(O/2,b)}catch{throw new te}}return h}}class Xe{static setGridSampler(s){Xe.gridSampler=s}static getInstance(){return Xe.gridSampler}}Xe.gridSampler=new Me;class Ze{constructor(s,l){this.x=s,this.y=l}toResultPoint(){return new W(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class xt{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let l=this.getMatrixCenter(),d=this.getBullsEyeCorners(l);if(s){let p=d[0];d[0]=d[2],d[2]=p}this.extractParameters(d);let x=this.sampleGrid(this.image,d[this.shift%4],d[(this.shift+1)%4],d[(this.shift+2)%4],d[(this.shift+3)%4]),h=this.getMatrixCornerPoints(d);return new J(x,h,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new te;let l=2*this.nbCenterLayers,d=new Int32Array([this.sampleLine(s[0],s[1],l),this.sampleLine(s[1],s[2],l),this.sampleLine(s[2],s[3],l),this.sampleLine(s[3],s[0],l)]);this.shift=this.getRotation(d,l);let x=0;for(let p=0;p<4;p++){let b=d[(this.shift+p)%4];this.compact?(x<<=7,x+=b>>1&127):(x<<=10,x+=(b>>2&992)+(b>>1&31))}let h=this.getCorrectedParameterData(x,this.compact);this.compact?(this.nbLayers=(h>>6)+1,this.nbDataBlocks=(h&63)+1):(this.nbLayers=(h>>11)+1,this.nbDataBlocks=(h&2047)+1)}getRotation(s,l){let d=0;s.forEach((x,h,p)=>{let b=(x>>l-2<<1)+(x&1);d=(d<<3)+b}),d=((d&1)<<11)+(d>>1);for(let x=0;x<4;x++)if(I.bitCount(d^this.EXPECTED_CORNER_BITS[x])<=2)return x;throw new te}getCorrectedParameterData(s,l){let d,x;l?(d=7,x=2):(d=10,x=4);let h=d-x,p=new Int32Array(d);for(let v=d-1;v>=0;--v)p[v]=s&15,s>>=4;try{new N(B.AZTEC_PARAM).decode(p,h)}catch{throw new te}let b=0;for(let v=0;v<x;v++)b=(b<<4)+p[v];return b}getBullsEyeCorners(s){let l=s,d=s,x=s,h=s,p=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let q=this.getFirstDifferent(l,p,1,-1),Z=this.getFirstDifferent(d,p,1,1),ae=this.getFirstDifferent(x,p,-1,1),he=this.getFirstDifferent(h,p,-1,-1);if(this.nbCenterLayers>2){let ye=this.distancePoint(he,q)*this.nbCenterLayers/(this.distancePoint(h,l)*(this.nbCenterLayers+2));if(ye<.75||ye>1.25||!this.isWhiteOrBlackRectangle(q,Z,ae,he))break}l=q,d=Z,x=ae,h=he,p=!p}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new te;this.compact=this.nbCenterLayers===5;let b=new W(l.getX()+.5,l.getY()-.5),v=new W(d.getX()+.5,d.getY()+.5),A=new W(x.getX()-.5,x.getY()+.5),O=new W(h.getX()-.5,h.getY()-.5);return this.expandSquare([b,v,A,O],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,l,d,x;try{let b=new se(this.image).detect();s=b[0],l=b[1],d=b[2],x=b[3]}catch{let v=this.image.getWidth()/2,A=this.image.getHeight()/2;s=this.getFirstDifferent(new Ze(v+7,A-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new Ze(v+7,A+7),!1,1,1).toResultPoint(),d=this.getFirstDifferent(new Ze(v-7,A+7),!1,-1,1).toResultPoint(),x=this.getFirstDifferent(new Ze(v-7,A-7),!1,-1,-1).toResultPoint()}let h=ue.round((s.getX()+x.getX()+l.getX()+d.getX())/4),p=ue.round((s.getY()+x.getY()+l.getY()+d.getY())/4);try{let b=new se(this.image,15,h,p).detect();s=b[0],l=b[1],d=b[2],x=b[3]}catch{s=this.getFirstDifferent(new Ze(h+7,p-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new Ze(h+7,p+7),!1,1,1).toResultPoint(),d=this.getFirstDifferent(new Ze(h-7,p+7),!1,-1,1).toResultPoint(),x=this.getFirstDifferent(new Ze(h-7,p-7),!1,-1,-1).toResultPoint()}return h=ue.round((s.getX()+x.getX()+l.getX()+d.getX())/4),p=ue.round((s.getY()+x.getY()+l.getY()+d.getY())/4),new Ze(h,p)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,l,d,x,h){let p=Xe.getInstance(),b=this.getDimension(),v=b/2-this.nbCenterLayers,A=b/2+this.nbCenterLayers;return p.sampleGrid(s,b,b,v,v,A,v,A,A,v,A,l.getX(),l.getY(),d.getX(),d.getY(),x.getX(),x.getY(),h.getX(),h.getY())}sampleLine(s,l,d){let x=0,h=this.distanceResultPoint(s,l),p=h/d,b=s.getX(),v=s.getY(),A=p*(l.getX()-s.getX())/h,O=p*(l.getY()-s.getY())/h;for(let q=0;q<d;q++)this.image.get(ue.round(b+q*A),ue.round(v+q*O))&&(x|=1<<d-q-1);return x}isWhiteOrBlackRectangle(s,l,d,x){let h=3;s=new Ze(s.getX()-h,s.getY()+h),l=new Ze(l.getX()-h,l.getY()-h),d=new Ze(d.getX()+h,d.getY()-h),x=new Ze(x.getX()+h,x.getY()+h);let p=this.getColor(x,s);if(p===0)return!1;let b=this.getColor(s,l);return b!==p||(b=this.getColor(l,d),b!==p)?!1:(b=this.getColor(d,x),b===p)}getColor(s,l){let d=this.distancePoint(s,l),x=(l.getX()-s.getX())/d,h=(l.getY()-s.getY())/d,p=0,b=s.getX(),v=s.getY(),A=this.image.get(s.getX(),s.getY()),O=Math.ceil(d);for(let Z=0;Z<O;Z++)b+=x,v+=h,this.image.get(ue.round(b),ue.round(v))!==A&&p++;let q=p/d;return q>.1&&q<.9?0:q<=.1===A?1:-1}getFirstDifferent(s,l,d,x){let h=s.getX()+d,p=s.getY()+x;for(;this.isValid(h,p)&&this.image.get(h,p)===l;)h+=d,p+=x;for(h-=d,p-=x;this.isValid(h,p)&&this.image.get(h,p)===l;)h+=d;for(h-=d;this.isValid(h,p)&&this.image.get(h,p)===l;)p+=x;return p-=x,new Ze(h,p)}expandSquare(s,l,d){let x=d/(2*l),h=s[0].getX()-s[2].getX(),p=s[0].getY()-s[2].getY(),b=(s[0].getX()+s[2].getX())/2,v=(s[0].getY()+s[2].getY())/2,A=new W(b+x*h,v+x*p),O=new W(b-x*h,v-x*p);h=s[1].getX()-s[3].getX(),p=s[1].getY()-s[3].getY(),b=(s[1].getX()+s[3].getX())/2,v=(s[1].getY()+s[3].getY())/2;let q=new W(b+x*h,v+x*p),Z=new W(b-x*h,v-x*p);return[A,q,O,Z]}isValid(s,l){return s>=0&&s<this.image.getWidth()&&l>0&&l<this.image.getHeight()}isValidPoint(s){let l=ue.round(s.getX()),d=ue.round(s.getY());return this.isValid(l,d)}distancePoint(s,l){return ue.distance(s.getX(),s.getY(),l.getX(),l.getY())}distanceResultPoint(s,l){return ue.distance(s.getX(),s.getY(),l.getX(),l.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(I.truncDivision(this.nbLayers-4,8)+1)+15}}class ft{decode(s,l=null){let d=null,x=new xt(s.getBlackMatrix()),h=null,p=null;try{let O=x.detectMirror(!1);h=O.getPoints(),this.reportFoundResultPoints(l,h),p=new K().decode(O)}catch(O){d=O}if(p==null)try{let O=x.detectMirror(!0);h=O.getPoints(),this.reportFoundResultPoints(l,h),p=new K().decode(O)}catch(O){throw d??O}let b=new Ne(p.getText(),p.getRawBytes(),p.getNumBits(),h,Re.AZTEC,D.currentTimeMillis()),v=p.getByteSegments();v!=null&&b.putMetadata(et.BYTE_SEGMENTS,v);let A=p.getECLevel();return A!=null&&b.putMetadata(et.ERROR_CORRECTION_LEVEL,A),b}reportFoundResultPoints(s,l){if(s!=null){let d=s.get(j.NEED_RESULT_POINT_CALLBACK);d!=null&&l.forEach((x,h,p)=>{d.foundPossibleResultPoint(x)})}}reset(){}}class $t extends Ge{constructor(s=500){super(new ft,s)}}class rt{decode(s,l){try{return this.doDecode(s,l)}catch{if(l&&l.get(j.TRY_HARDER)===!0&&s.isRotateSupported()){const h=s.rotateCounterClockwise(),p=this.doDecode(h,l),b=p.getResultMetadata();let v=270;b!==null&&b.get(et.ORIENTATION)===!0&&(v=v+b.get(et.ORIENTATION)%360),p.putMetadata(et.ORIENTATION,v);const A=p.getResultPoints();if(A!==null){const O=h.getHeight();for(let q=0;q<A.length;q++)A[q]=new W(O-A[q].getY()-1,A[q].getX())}return p}else throw new te}}reset(){}doDecode(s,l){const d=s.getWidth(),x=s.getHeight();let h=new S(d);const p=l&&l.get(j.TRY_HARDER)===!0,b=Math.max(1,x>>(p?8:5));let v;p?v=x:v=15;const A=Math.trunc(x/2);for(let O=0;O<v;O++){const q=Math.trunc((O+1)/2),Z=(O&1)===0,ae=A+b*(Z?q:-q);if(ae<0||ae>=x)break;try{h=s.getBlackRow(ae,h)}catch{continue}for(let he=0;he<2;he++){if(he===1&&(h.reverse(),l&&l.get(j.NEED_RESULT_POINT_CALLBACK)===!0)){const ye=new Map;l.forEach((Ae,ke)=>ye.set(ke,Ae)),ye.delete(j.NEED_RESULT_POINT_CALLBACK),l=ye}try{const ye=this.decodeRow(ae,h,l);if(he===1){ye.putMetadata(et.ORIENTATION,180);const Ae=ye.getResultPoints();Ae!==null&&(Ae[0]=new W(d-Ae[0].getX()-1,Ae[0].getY()),Ae[1]=new W(d-Ae[1].getX()-1,Ae[1].getY()))}return ye}catch{}}}throw new te}static recordPattern(s,l,d){const x=d.length;for(let A=0;A<x;A++)d[A]=0;const h=s.getSize();if(l>=h)throw new te;let p=!s.get(l),b=0,v=l;for(;v<h;){if(s.get(v)!==p)d[b]++;else{if(++b===x)break;d[b]=1,p=!p}v++}if(!(b===x||b===x-1&&v===h))throw new te}static recordPatternInReverse(s,l,d){let x=d.length,h=s.get(l);for(;l>0&&x>=0;)s.get(--l)!==h&&(x--,h=!h);if(x>=0)throw new te;rt.recordPattern(s,l+1,d)}static patternMatchVariance(s,l,d){const x=s.length;let h=0,p=0;for(let A=0;A<x;A++)h+=s[A],p+=l[A];if(h<p)return Number.POSITIVE_INFINITY;const b=h/p;d*=b;let v=0;for(let A=0;A<x;A++){const O=s[A],q=l[A]*b,Z=O>q?O-q:q-O;if(Z>d)return Number.POSITIVE_INFINITY;v+=Z}return v/h}}class Ue extends rt{static findStartPattern(s){const l=s.getSize(),d=s.getNextSet(0);let x=0,h=Int32Array.from([0,0,0,0,0,0]),p=d,b=!1;const v=6;for(let A=d;A<l;A++)if(s.get(A)!==b)h[x]++;else{if(x===v-1){let O=Ue.MAX_AVG_VARIANCE,q=-1;for(let Z=Ue.CODE_START_A;Z<=Ue.CODE_START_C;Z++){const ae=rt.patternMatchVariance(h,Ue.CODE_PATTERNS[Z],Ue.MAX_INDIVIDUAL_VARIANCE);ae<O&&(O=ae,q=Z)}if(q>=0&&s.isRange(Math.max(0,p-(A-p)/2),p,!1))return Int32Array.from([p,A,q]);p+=h[0]+h[1],h=h.slice(2,h.length-1),h[x-1]=0,h[x]=0,x--}else x++;h[x]=1,b=!b}throw new te}static decodeCode(s,l,d){rt.recordPattern(s,d,l);let x=Ue.MAX_AVG_VARIANCE,h=-1;for(let p=0;p<Ue.CODE_PATTERNS.length;p++){const b=Ue.CODE_PATTERNS[p],v=this.patternMatchVariance(l,b,Ue.MAX_INDIVIDUAL_VARIANCE);v<x&&(x=v,h=p)}if(h>=0)return h;throw new te}decodeRow(s,l,d){const x=d&&d.get(j.ASSUME_GS1)===!0,h=Ue.findStartPattern(l),p=h[2];let b=0;const v=new Uint8Array(20);v[b++]=p;let A;switch(p){case Ue.CODE_START_A:A=Ue.CODE_CODE_A;break;case Ue.CODE_START_B:A=Ue.CODE_CODE_B;break;case Ue.CODE_START_C:A=Ue.CODE_CODE_C;break;default:throw new L}let O=!1,q=!1,Z="",ae=h[0],he=h[1];const ye=Int32Array.from([0,0,0,0,0,0]);let Ae=0,ke=0,He=p,ze=0,je=!0,Bt=!1,mt=!1;for(;!O;){const li=q;switch(q=!1,Ae=ke,ke=Ue.decodeCode(l,ye,he),v[b++]=ke,ke!==Ue.CODE_STOP&&(je=!0),ke!==Ue.CODE_STOP&&(ze++,He+=ze*ke),ae=he,he+=ye.reduce((n8,r8)=>n8+r8,0),ke){case Ue.CODE_START_A:case Ue.CODE_START_B:case Ue.CODE_START_C:throw new L}switch(A){case Ue.CODE_CODE_A:if(ke<64)mt===Bt?Z+=String.fromCharCode(32+ke):Z+=String.fromCharCode(32+ke+128),mt=!1;else if(ke<96)mt===Bt?Z+=String.fromCharCode(ke-64):Z+=String.fromCharCode(ke+64),mt=!1;else switch(ke!==Ue.CODE_STOP&&(je=!1),ke){case Ue.CODE_FNC_1:x&&(Z.length===0?Z+="]C1":Z+="");break;case Ue.CODE_FNC_2:case Ue.CODE_FNC_3:break;case Ue.CODE_FNC_4_A:!Bt&&mt?(Bt=!0,mt=!1):Bt&&mt?(Bt=!1,mt=!1):mt=!0;break;case Ue.CODE_SHIFT:q=!0,A=Ue.CODE_CODE_B;break;case Ue.CODE_CODE_B:A=Ue.CODE_CODE_B;break;case Ue.CODE_CODE_C:A=Ue.CODE_CODE_C;break;case Ue.CODE_STOP:O=!0;break}break;case Ue.CODE_CODE_B:if(ke<96)mt===Bt?Z+=String.fromCharCode(32+ke):Z+=String.fromCharCode(32+ke+128),mt=!1;else switch(ke!==Ue.CODE_STOP&&(je=!1),ke){case Ue.CODE_FNC_1:x&&(Z.length===0?Z+="]C1":Z+="");break;case Ue.CODE_FNC_2:case Ue.CODE_FNC_3:break;case Ue.CODE_FNC_4_B:!Bt&&mt?(Bt=!0,mt=!1):Bt&&mt?(Bt=!1,mt=!1):mt=!0;break;case Ue.CODE_SHIFT:q=!0,A=Ue.CODE_CODE_A;break;case Ue.CODE_CODE_A:A=Ue.CODE_CODE_A;break;case Ue.CODE_CODE_C:A=Ue.CODE_CODE_C;break;case Ue.CODE_STOP:O=!0;break}break;case Ue.CODE_CODE_C:if(ke<100)ke<10&&(Z+="0"),Z+=ke;else switch(ke!==Ue.CODE_STOP&&(je=!1),ke){case Ue.CODE_FNC_1:x&&(Z.length===0?Z+="]C1":Z+="");break;case Ue.CODE_CODE_A:A=Ue.CODE_CODE_A;break;case Ue.CODE_CODE_B:A=Ue.CODE_CODE_B;break;case Ue.CODE_STOP:O=!0;break}break}li&&(A=A===Ue.CODE_CODE_A?Ue.CODE_CODE_B:Ue.CODE_CODE_A)}const er=he-ae;if(he=l.getNextUnset(he),!l.isRange(he,Math.min(l.getSize(),he+(he-ae)/2),!1))throw new te;if(He-=ze*Ae,He%103!==Ae)throw new E;const Ur=Z.length;if(Ur===0)throw new te;Ur>0&&je&&(A===Ue.CODE_CODE_C?Z=Z.substring(0,Ur-2):Z=Z.substring(0,Ur-1));const tr=(h[1]+h[0])/2,Wt=ae+er/2,Tn=v.length,fr=new Uint8Array(Tn);for(let li=0;li<Tn;li++)fr[li]=v[li];const ai=[new W(tr,s),new W(Wt,s)];return new Ne(Z,fr,0,ai,Re.CODE_128,new Date().getTime())}}Ue.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ue.MAX_AVG_VARIANCE=.25,Ue.MAX_INDIVIDUAL_VARIANCE=.7,Ue.CODE_SHIFT=98,Ue.CODE_CODE_C=99,Ue.CODE_CODE_B=100,Ue.CODE_CODE_A=101,Ue.CODE_FNC_1=102,Ue.CODE_FNC_2=97,Ue.CODE_FNC_3=96,Ue.CODE_FNC_4_A=101,Ue.CODE_FNC_4_B=100,Ue.CODE_START_A=103,Ue.CODE_START_B=104,Ue.CODE_START_C=105,Ue.CODE_STOP=106;class Pt extends rt{constructor(s=!1,l=!1){super(),this.usingCheckDigit=s,this.extendedMode=l,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,l,d){let x=this.counters;x.fill(0),this.decodeRowResult="";let h=Pt.findAsteriskPattern(l,x),p=l.getNextSet(h[1]),b=l.getSize(),v,A;do{Pt.recordPattern(l,p,x);let ye=Pt.toNarrowWidePattern(x);if(ye<0)throw new te;v=Pt.patternToChar(ye),this.decodeRowResult+=v,A=p;for(let Ae of x)p+=Ae;p=l.getNextSet(p)}while(v!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let O=0;for(let ye of x)O+=ye;let q=p-A-O;if(p!==b&&q*2<O)throw new te;if(this.usingCheckDigit){let ye=this.decodeRowResult.length-1,Ae=0;for(let ke=0;ke<ye;ke++)Ae+=Pt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ke));if(this.decodeRowResult.charAt(ye)!==Pt.ALPHABET_STRING.charAt(Ae%43))throw new E;this.decodeRowResult=this.decodeRowResult.substring(0,ye)}if(this.decodeRowResult.length===0)throw new te;let Z;this.extendedMode?Z=Pt.decodeExtended(this.decodeRowResult):Z=this.decodeRowResult;let ae=(h[1]+h[0])/2,he=A+O/2;return new Ne(Z,null,0,[new W(ae,s),new W(he,s)],Re.CODE_39,new Date().getTime())}static findAsteriskPattern(s,l){let d=s.getSize(),x=s.getNextSet(0),h=0,p=x,b=!1,v=l.length;for(let A=x;A<d;A++)if(s.get(A)!==b)l[h]++;else{if(h===v-1){if(this.toNarrowWidePattern(l)===Pt.ASTERISK_ENCODING&&s.isRange(Math.max(0,p-Math.floor((A-p)/2)),p,!1))return[p,A];p+=l[0]+l[1],l.copyWithin(0,2,2+h-1),l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,b=!b}throw new te}static toNarrowWidePattern(s){let l=s.length,d=0,x;do{let h=2147483647;for(let v of s)v<h&&v>d&&(h=v);d=h,x=0;let p=0,b=0;for(let v=0;v<l;v++){let A=s[v];A>d&&(b|=1<<l-1-v,x++,p+=A)}if(x===3){for(let v=0;v<l&&x>0;v++){let A=s[v];if(A>d&&(x--,A*2>=p))return-1}return b}}while(x>3);return-1}static patternToChar(s){for(let l=0;l<Pt.CHARACTER_ENCODINGS.length;l++)if(Pt.CHARACTER_ENCODINGS[l]===s)return Pt.ALPHABET_STRING.charAt(l);if(s===Pt.ASTERISK_ENCODING)return"*";throw new te}static decodeExtended(s){let l=s.length,d="";for(let x=0;x<l;x++){let h=s.charAt(x);if(h==="+"||h==="$"||h==="%"||h==="/"){let p=s.charAt(x+1),b="\0";switch(h){case"+":if(p>="A"&&p<="Z")b=String.fromCharCode(p.charCodeAt(0)+32);else throw new L;break;case"$":if(p>="A"&&p<="Z")b=String.fromCharCode(p.charCodeAt(0)-64);else throw new L;break;case"%":if(p>="A"&&p<="E")b=String.fromCharCode(p.charCodeAt(0)-38);else if(p>="F"&&p<="J")b=String.fromCharCode(p.charCodeAt(0)-11);else if(p>="K"&&p<="O")b=String.fromCharCode(p.charCodeAt(0)+16);else if(p>="P"&&p<="T")b=String.fromCharCode(p.charCodeAt(0)+43);else if(p==="U")b="\0";else if(p==="V")b="@";else if(p==="W")b="`";else if(p==="X"||p==="Y"||p==="Z")b="";else throw new L;break;case"/":if(p>="A"&&p<="O")b=String.fromCharCode(p.charCodeAt(0)-32);else if(p==="Z")b=":";else throw new L;break}d+=b,x++}else d+=h}return d}}Pt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Pt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Pt.ASTERISK_ENCODING=148;class we extends rt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,l,d){let x=this.decodeStart(l),h=this.decodeEnd(l),p=new ce;we.decodeMiddle(l,x[1],h[0],p);let b=p.toString(),v=null;d!=null&&(v=d.get(j.ALLOWED_LENGTHS)),v==null&&(v=we.DEFAULT_ALLOWED_LENGTHS);let A=b.length,O=!1,q=0;for(let he of v){if(A===he){O=!0;break}he>q&&(q=he)}if(!O&&A>q&&(O=!0),!O)throw new L;const Z=[new W(x[1],s),new W(h[0],s)];return new Ne(b,null,0,Z,Re.ITF,new Date().getTime())}static decodeMiddle(s,l,d,x){let h=new Int32Array(10),p=new Int32Array(5),b=new Int32Array(5);for(h.fill(0),p.fill(0),b.fill(0);l<d;){rt.recordPattern(s,l,h);for(let A=0;A<5;A++){let O=2*A;p[A]=h[O],b[A]=h[O+1]}let v=we.decodeDigit(p);x.append(v.toString()),v=this.decodeDigit(b),x.append(v.toString()),h.forEach(function(A){l+=A})}}decodeStart(s){let l=we.skipWhiteSpace(s),d=we.findGuardPattern(s,l,we.START_PATTERN);return this.narrowLineWidth=(d[1]-d[0])/4,this.validateQuietZone(s,d[0]),d}validateQuietZone(s,l){let d=this.narrowLineWidth*10;d=d<l?d:l;for(let x=l-1;d>0&&x>=0&&!s.get(x);x--)d--;if(d!==0)throw new te}static skipWhiteSpace(s){const l=s.getSize(),d=s.getNextSet(0);if(d===l)throw new te;return d}decodeEnd(s){s.reverse();try{let l=we.skipWhiteSpace(s),d;try{d=we.findGuardPattern(s,l,we.END_PATTERN_REVERSED[0])}catch(h){h instanceof te&&(d=we.findGuardPattern(s,l,we.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,d[0]);let x=d[0];return d[0]=s.getSize()-d[1],d[1]=s.getSize()-x,d}finally{s.reverse()}}static findGuardPattern(s,l,d){let x=d.length,h=new Int32Array(x),p=s.getSize(),b=!1,v=0,A=l;h.fill(0);for(let O=l;O<p;O++)if(s.get(O)!==b)h[v]++;else{if(v===x-1){if(rt.patternMatchVariance(h,d,we.MAX_INDIVIDUAL_VARIANCE)<we.MAX_AVG_VARIANCE)return[A,O];A+=h[0]+h[1],D.arraycopy(h,2,h,0,v-1),h[v-1]=0,h[v]=0,v--}else v++;h[v]=1,b=!b}throw new te}static decodeDigit(s){let l=we.MAX_AVG_VARIANCE,d=-1,x=we.PATTERNS.length;for(let h=0;h<x;h++){let p=we.PATTERNS[h],b=rt.patternMatchVariance(s,p,we.MAX_INDIVIDUAL_VARIANCE);b<l?(l=b,d=h):b===l&&(d=-1)}if(d>=0)return d%10;throw new te}}we.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],we.MAX_AVG_VARIANCE=.38,we.MAX_INDIVIDUAL_VARIANCE=.5,we.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],we.START_PATTERN=Int32Array.from([1,1,1,1]),we.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ce extends rt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let l=!1,d,x=0,h=Int32Array.from([0,0,0]);for(;!l;){h=Int32Array.from([0,0,0]),d=Ce.findGuardPattern(s,x,!1,this.START_END_PATTERN,h);let p=d[0];x=d[1];let b=p-(x-p);b>=0&&(l=s.isRange(b,p,!1))}return d}static checkChecksum(s){return Ce.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let l=s.length;if(l===0)return!1;let d=parseInt(s.charAt(l-1),10);return Ce.getStandardUPCEANChecksum(s.substring(0,l-1))===d}static getStandardUPCEANChecksum(s){let l=s.length,d=0;for(let x=l-1;x>=0;x-=2){let h=s.charAt(x).charCodeAt(0)-48;if(h<0||h>9)throw new L;d+=h}d*=3;for(let x=l-2;x>=0;x-=2){let h=s.charAt(x).charCodeAt(0)-48;if(h<0||h>9)throw new L;d+=h}return(1e3-d)%10}static decodeEnd(s,l){return Ce.findGuardPattern(s,l,!1,Ce.START_END_PATTERN,new Int32Array(Ce.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,l,d,x){return this.findGuardPattern(s,l,d,x,new Int32Array(x.length))}static findGuardPattern(s,l,d,x,h){let p=s.getSize();l=d?s.getNextUnset(l):s.getNextSet(l);let b=0,v=l,A=x.length,O=d;for(let q=l;q<p;q++)if(s.get(q)!==O)h[b]++;else{if(b===A-1){if(rt.patternMatchVariance(h,x,Ce.MAX_INDIVIDUAL_VARIANCE)<Ce.MAX_AVG_VARIANCE)return Int32Array.from([v,q]);v+=h[0]+h[1];let Z=h.slice(2,h.length-1);for(let ae=0;ae<b-1;ae++)h[ae]=Z[ae];h[b-1]=0,h[b]=0,b--}else b++;h[b]=1,O=!O}throw new te}static decodeDigit(s,l,d,x){this.recordPattern(s,d,l);let h=this.MAX_AVG_VARIANCE,p=-1,b=x.length;for(let v=0;v<b;v++){let A=x[v],O=rt.patternMatchVariance(l,A,Ce.MAX_INDIVIDUAL_VARIANCE);O<h&&(h=O,p=v)}if(p>=0)return p;throw new te}}Ce.MAX_AVG_VARIANCE=.48,Ce.MAX_INDIVIDUAL_VARIANCE=.7,Ce.START_END_PATTERN=Int32Array.from([1,1,1]),Ce.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ce.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ce.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ht{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,l,d){let x=this.decodeRowStringBuffer,h=this.decodeMiddle(l,d,x),p=x.toString(),b=ht.parseExtensionString(p),v=[new W((d[0]+d[1])/2,s),new W(h,s)],A=new Ne(p,null,0,v,Re.UPC_EAN_EXTENSION,new Date().getTime());return b!=null&&A.putAllMetadata(b),A}decodeMiddle(s,l,d){let x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let h=s.getSize(),p=l[1],b=0;for(let A=0;A<5&&p<h;A++){let O=Ce.decodeDigit(s,x,p,Ce.L_AND_G_PATTERNS);d+=String.fromCharCode(48+O%10);for(let q of x)p+=q;O>=10&&(b|=1<<4-A),A!==4&&(p=s.getNextSet(p),p=s.getNextUnset(p))}if(d.length!==5)throw new te;let v=this.determineCheckDigit(b);if(ht.extensionChecksum(d.toString())!==v)throw new te;return p}static extensionChecksum(s){let l=s.length,d=0;for(let x=l-2;x>=0;x-=2)d+=s.charAt(x).charCodeAt(0)-48;d*=3;for(let x=l-1;x>=0;x-=2)d+=s.charAt(x).charCodeAt(0)-48;return d*=3,d%10}determineCheckDigit(s){for(let l=0;l<10;l++)if(s===this.CHECK_DIGIT_ENCODINGS[l])return l;throw new te}static parseExtensionString(s){if(s.length!==5)return null;let l=ht.parseExtension5String(s);return l==null?null:new Map([[et.SUGGESTED_PRICE,l]])}static parseExtension5String(s){let l;switch(s.charAt(0)){case"0":l="";break;case"5":l="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}l="";break;default:l="";break}let d=parseInt(s.substring(1)),x=(d/100).toString(),h=d%100,p=h<10?"0"+h:h.toString();return l+x+"."+p}}class At{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,l,d){let x=this.decodeRowStringBuffer,h=this.decodeMiddle(l,d,x),p=x.toString(),b=At.parseExtensionString(p),v=[new W((d[0]+d[1])/2,s),new W(h,s)],A=new Ne(p,null,0,v,Re.UPC_EAN_EXTENSION,new Date().getTime());return b!=null&&A.putAllMetadata(b),A}decodeMiddle(s,l,d){let x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let h=s.getSize(),p=l[1],b=0;for(let v=0;v<2&&p<h;v++){let A=Ce.decodeDigit(s,x,p,Ce.L_AND_G_PATTERNS);d+=String.fromCharCode(48+A%10);for(let O of x)p+=O;A>=10&&(b|=1<<1-v),v!==1&&(p=s.getNextSet(p),p=s.getNextUnset(p))}if(d.length!==2)throw new te;if(parseInt(d.toString())%4!==b)throw new te;return p}static parseExtensionString(s){return s.length!==2?null:new Map([[et.ISSUE_NUMBER,parseInt(s)]])}}class Ft{static decodeRow(s,l,d){let x=Ce.findGuardPattern(l,d,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new ht().decodeRow(s,l,x)}catch{return new At().decodeRow(s,l,x)}}}Ft.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Qe extends Ce{constructor(){super(),this.decodeRowStringBuffer="",Qe.L_AND_G_PATTERNS=Qe.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let l=Qe.L_PATTERNS[s-10],d=new Int32Array(l.length);for(let x=0;x<l.length;x++)d[x]=l[l.length-x-1];Qe.L_AND_G_PATTERNS[s]=d}}decodeRow(s,l,d){let x=Qe.findStartGuardPattern(l),h=d==null?null:d.get(j.NEED_RESULT_POINT_CALLBACK);if(h!=null){const je=new W((x[0]+x[1])/2,s);h.foundPossibleResultPoint(je)}let p=this.decodeMiddle(l,x,this.decodeRowStringBuffer),b=p.rowOffset,v=p.resultString;if(h!=null){const je=new W(b,s);h.foundPossibleResultPoint(je)}let A=this.decodeEnd(l,b);if(h!=null){const je=new W((A[0]+A[1])/2,s);h.foundPossibleResultPoint(je)}let O=A[1],q=O+(O-A[0]);if(q>=l.getSize()||!l.isRange(O,q,!1))throw new te;let Z=v.toString();if(Z.length<8)throw new L;if(!Qe.checkChecksum(Z))throw new E;let ae=(x[1]+x[0])/2,he=(A[1]+A[0])/2,ye=this.getBarcodeFormat(),Ae=[new W(ae,s),new W(he,s)],ke=new Ne(Z,null,0,Ae,ye,new Date().getTime()),He=0;try{let je=Ft.decodeRow(s,l,A[1]);ke.putMetadata(et.UPC_EAN_EXTENSION,je.getText()),ke.putAllMetadata(je.getResultMetadata()),ke.addResultPoints(je.getResultPoints()),He=je.getText().length}catch{}let ze=d==null?null:d.get(j.ALLOWED_EAN_EXTENSIONS);if(ze!=null){let je=!1;for(let Bt in ze)if(He.toString()===Bt){je=!0;break}if(!je)throw new te}return ke}decodeEnd(s,l){return Qe.findGuardPattern(s,l,!1,Qe.START_END_PATTERN,new Int32Array(Qe.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return Qe.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let l=s.length;if(l===0)return!1;let d=parseInt(s.charAt(l-1),10);return Qe.getStandardUPCEANChecksum(s.substring(0,l-1))===d}static getStandardUPCEANChecksum(s){let l=s.length,d=0;for(let x=l-1;x>=0;x-=2){let h=s.charAt(x).charCodeAt(0)-48;if(h<0||h>9)throw new L;d+=h}d*=3;for(let x=l-2;x>=0;x-=2){let h=s.charAt(x).charCodeAt(0)-48;if(h<0||h>9)throw new L;d+=h}return(1e3-d)%10}}class gn extends Qe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,l,d){let x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let h=s.getSize(),p=l[1],b=0;for(let A=0;A<6&&p<h;A++){let O=Qe.decodeDigit(s,x,p,Qe.L_AND_G_PATTERNS);d+=String.fromCharCode(48+O%10);for(let q of x)p+=q;O>=10&&(b|=1<<5-A)}d=gn.determineFirstDigit(d,b),p=Qe.findGuardPattern(s,p,!0,Qe.MIDDLE_PATTERN,new Int32Array(Qe.MIDDLE_PATTERN.length).fill(0))[1];for(let A=0;A<6&&p<h;A++){let O=Qe.decodeDigit(s,x,p,Qe.L_PATTERNS);d+=String.fromCharCode(48+O);for(let q of x)p+=q}return{rowOffset:p,resultString:d}}getBarcodeFormat(){return Re.EAN_13}static determineFirstDigit(s,l){for(let d=0;d<10;d++)if(l===this.FIRST_DIGIT_ENCODINGS[d])return s=String.fromCharCode(48+d)+s,s;throw new te}}gn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Xr extends Qe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,l,d){const x=this.decodeMiddleCounters;x[0]=0,x[1]=0,x[2]=0,x[3]=0;let h=s.getSize(),p=l[1];for(let v=0;v<4&&p<h;v++){let A=Qe.decodeDigit(s,x,p,Qe.L_PATTERNS);d+=String.fromCharCode(48+A);for(let O of x)p+=O}p=Qe.findGuardPattern(s,p,!0,Qe.MIDDLE_PATTERN,new Int32Array(Qe.MIDDLE_PATTERN.length).fill(0))[1];for(let v=0;v<4&&p<h;v++){let A=Qe.decodeDigit(s,x,p,Qe.L_PATTERNS);d+=String.fromCharCode(48+A);for(let O of x)p+=O}return{rowOffset:p,resultString:d}}getBarcodeFormat(){return Re.EAN_8}}class Nn extends Qe{constructor(){super(...arguments),this.ean13Reader=new gn}getBarcodeFormat(){return Re.UPC_A}decode(s,l){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,l,d){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,l,d))}decodeMiddle(s,l,d){return this.ean13Reader.decodeMiddle(s,l,d)}maybeReturnResult(s){let l=s.getText();if(l.charAt(0)==="0"){let d=new Ne(l.substring(1),null,null,s.getResultPoints(),Re.UPC_A);return s.getResultMetadata()!=null&&d.putAllMetadata(s.getResultMetadata()),d}else throw new te}reset(){this.ean13Reader.reset()}}class hn extends Qe{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,l,d){const x=this.decodeMiddleCounters.map(A=>A);x[0]=0,x[1]=0,x[2]=0,x[3]=0;const h=s.getSize();let p=l[1],b=0;for(let A=0;A<6&&p<h;A++){const O=hn.decodeDigit(s,x,p,hn.L_AND_G_PATTERNS);d+=String.fromCharCode(48+O%10);for(let q of x)p+=q;O>=10&&(b|=1<<5-A)}let v=hn.determineNumSysAndCheckDigit(d,b);return{rowOffset:p,resultString:v}}decodeEnd(s,l){return hn.findGuardPatternWithoutCounters(s,l,!0,hn.MIDDLE_END_PATTERN)}checkChecksum(s){return Qe.checkChecksum(hn.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,l){for(let d=0;d<=1;d++)for(let x=0;x<10;x++)if(l===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[d][x]){let h=String.fromCharCode(48+d),p=String.fromCharCode(48+x);return h+s+p}throw te.getNotFoundInstance()}getBarcodeFormat(){return Re.UPC_E}static convertUPCEtoUPCA(s){const l=s.slice(1,7).split("").map(h=>h.charCodeAt(0)),d=new ce;d.append(s.charAt(0));let x=l[5];switch(x){case 0:case 1:case 2:d.appendChars(l,0,2),d.append(x),d.append("0000"),d.appendChars(l,2,3);break;case 3:d.appendChars(l,0,3),d.append("00000"),d.appendChars(l,3,2);break;case 4:d.appendChars(l,0,4),d.append("00000"),d.append(l[4]);break;default:d.appendChars(l,0,5),d.append("0000"),d.append(x);break}return s.length>=8&&d.append(s.charAt(7)),d.toString()}}hn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),hn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class go extends rt{constructor(s){super();let l=s==null?null:s.get(j.POSSIBLE_FORMATS),d=[];r(l)?(d.push(new gn),d.push(new Nn),d.push(new Xr),d.push(new hn)):(l.indexOf(Re.EAN_13)>-1&&d.push(new gn),l.indexOf(Re.UPC_A)>-1&&d.push(new Nn),l.indexOf(Re.EAN_8)>-1&&d.push(new Xr),l.indexOf(Re.UPC_E)>-1&&d.push(new hn)),this.readers=d}decodeRow(s,l,d){for(let x of this.readers)try{const h=x.decodeRow(s,l,d),p=h.getBarcodeFormat()===Re.EAN_13&&h.getText().charAt(0)==="0",b=d==null?null:d.get(j.POSSIBLE_FORMATS),v=b==null||b.includes(Re.UPC_A);if(p&&v){const A=h.getRawBytes(),O=new Ne(h.getText().substring(1),A,A?A.length:null,h.getResultPoints(),Re.UPC_A);return O.putAllMetadata(h.getResultMetadata()),O}return h}catch{}throw new te}reset(){for(let s of this.readers)s.reset()}}class rn extends rt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,l){for(let d=0;d<l.length;d++)if(rt.patternMatchVariance(s,l[d],rn.MAX_INDIVIDUAL_VARIANCE)<rn.MAX_AVG_VARIANCE)return d;throw new te}static count(s){return ue.sum(new Int32Array(s))}static increment(s,l){let d=0,x=l[0];for(let h=1;h<s.length;h++)l[h]>x&&(x=l[h],d=h);s[d]++}static decrement(s,l){let d=0,x=l[0];for(let h=1;h<s.length;h++)l[h]<x&&(x=l[h],d=h);s[d]--}static isFinderPattern(s){let l=s[0]+s[1],d=l+s[2]+s[3],x=l/d;if(x>=rn.MIN_FINDER_PATTERN_RATIO&&x<=rn.MAX_FINDER_PATTERN_RATIO){let h=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;for(let b of s)b>p&&(p=b),b<h&&(h=b);return p<10*h}return!1}}rn.MAX_AVG_VARIANCE=.2,rn.MAX_INDIVIDUAL_VARIANCE=.45,rn.MIN_FINDER_PATTERN_RATIO=9.5/12,rn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Cn{constructor(s,l){this.value=s,this.checksumPortion=l}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof Cn))return!1;const l=s;return this.value===l.value&&this.checksumPortion===l.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class po{constructor(s,l,d,x,h){this.value=s,this.startEnd=l,this.value=s,this.startEnd=l,this.resultPoints=new Array,this.resultPoints.push(new W(d,h)),this.resultPoints.push(new W(x,h))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof po))return!1;const l=s;return this.value===l.value}hashCode(){return this.value}}class ur{constructor(){}static getRSSvalue(s,l,d){let x=0;for(let v of s)x+=v;let h=0,p=0,b=s.length;for(let v=0;v<b-1;v++){let A;for(A=1,p|=1<<v;A<s[v];A++,p&=~(1<<v)){let O=ur.combins(x-A-1,b-v-2);if(d&&p===0&&x-A-(b-v-1)>=b-v-1&&(O-=ur.combins(x-A-(b-v),b-v-2)),b-v-1>1){let q=0;for(let Z=x-A-(b-v-2);Z>l;Z--)q+=ur.combins(x-A-Z-1,b-v-3);O-=q*(b-1-v)}else x-A>l&&O--;h+=O}x-=A}return h}static combins(s,l){let d,x;s-l>l?(x=l,d=s-l):(x=s-l,d=l);let h=1,p=1;for(let b=s;b>d;b--)h*=b,p<=x&&(h/=p,p++);for(;p<=x;)h/=p,p++;return h}}class sl{static buildBitArray(s){let l=s.length*2-1;s[s.length-1].getRightChar()==null&&(l-=1);let d=12*l,x=new S(d),h=0,b=s[0].getRightChar().getValue();for(let v=11;v>=0;--v)(b&1<<v)!=0&&x.set(h),h++;for(let v=1;v<s.length;++v){let A=s[v],O=A.getLeftChar().getValue();for(let q=11;q>=0;--q)(O&1<<q)!=0&&x.set(h),h++;if(A.getRightChar()!=null){let q=A.getRightChar().getValue();for(let Z=11;Z>=0;--Z)(q&1<<Z)!=0&&x.set(h),h++}}return x}}class xr{constructor(s,l){l?this.decodedInformation=null:(this.finished=s,this.decodedInformation=l)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class mo{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class pn extends mo{constructor(s,l){super(s),this.value=l}getValue(){return this.value}isFNC1(){return this.value===pn.FNC1}}pn.FNC1="$";class jr extends mo{constructor(s,l,d){super(s),d?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=l}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Ln extends mo{constructor(s,l,d){if(super(s),l<0||l>10||d<0||d>10)throw new L;this.firstDigit=l,this.secondDigit=d}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Ln.FNC1}isSecondDigitFNC1(){return this.secondDigit===Ln.FNC1}isAnyFNC1(){return this.firstDigit===Ln.FNC1||this.secondDigit===Ln.FNC1}}Ln.FNC1=10;class Ke{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new te;let l=s.substring(0,2);for(let h of Ke.TWO_DIGIT_DATA_LENGTH)if(h[0]===l)return h[1]===Ke.VARIABLE_LENGTH?Ke.processVariableAI(2,h[2],s):Ke.processFixedAI(2,h[1],s);if(s.length<3)throw new te;let d=s.substring(0,3);for(let h of Ke.THREE_DIGIT_DATA_LENGTH)if(h[0]===d)return h[1]===Ke.VARIABLE_LENGTH?Ke.processVariableAI(3,h[2],s):Ke.processFixedAI(3,h[1],s);for(let h of Ke.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(h[0]===d)return h[1]===Ke.VARIABLE_LENGTH?Ke.processVariableAI(4,h[2],s):Ke.processFixedAI(4,h[1],s);if(s.length<4)throw new te;let x=s.substring(0,4);for(let h of Ke.FOUR_DIGIT_DATA_LENGTH)if(h[0]===x)return h[1]===Ke.VARIABLE_LENGTH?Ke.processVariableAI(4,h[2],s):Ke.processFixedAI(4,h[1],s);throw new te}static processFixedAI(s,l,d){if(d.length<s)throw new te;let x=d.substring(0,s);if(d.length<s+l)throw new te;let h=d.substring(s,s+l),p=d.substring(s+l),b="("+x+")"+h,v=Ke.parseFieldsInGeneralPurpose(p);return v==null?b:b+v}static processVariableAI(s,l,d){let x=d.substring(0,s),h;d.length<s+l?h=d.length:h=s+l;let p=d.substring(s,h),b=d.substring(h),v="("+x+")"+p,A=Ke.parseFieldsInGeneralPurpose(b);return A==null?v:v+A}}Ke.VARIABLE_LENGTH=[],Ke.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ke.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ke.VARIABLE_LENGTH,20],["22",Ke.VARIABLE_LENGTH,29],["30",Ke.VARIABLE_LENGTH,8],["37",Ke.VARIABLE_LENGTH,8],["90",Ke.VARIABLE_LENGTH,30],["91",Ke.VARIABLE_LENGTH,30],["92",Ke.VARIABLE_LENGTH,30],["93",Ke.VARIABLE_LENGTH,30],["94",Ke.VARIABLE_LENGTH,30],["95",Ke.VARIABLE_LENGTH,30],["96",Ke.VARIABLE_LENGTH,30],["97",Ke.VARIABLE_LENGTH,3],["98",Ke.VARIABLE_LENGTH,30],["99",Ke.VARIABLE_LENGTH,30]],Ke.THREE_DIGIT_DATA_LENGTH=[["240",Ke.VARIABLE_LENGTH,30],["241",Ke.VARIABLE_LENGTH,30],["242",Ke.VARIABLE_LENGTH,6],["250",Ke.VARIABLE_LENGTH,30],["251",Ke.VARIABLE_LENGTH,30],["253",Ke.VARIABLE_LENGTH,17],["254",Ke.VARIABLE_LENGTH,20],["400",Ke.VARIABLE_LENGTH,30],["401",Ke.VARIABLE_LENGTH,30],["402",17],["403",Ke.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ke.VARIABLE_LENGTH,20],["421",Ke.VARIABLE_LENGTH,15],["422",3],["423",Ke.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ke.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ke.VARIABLE_LENGTH,15],["391",Ke.VARIABLE_LENGTH,18],["392",Ke.VARIABLE_LENGTH,15],["393",Ke.VARIABLE_LENGTH,18],["703",Ke.VARIABLE_LENGTH,30]],Ke.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ke.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ke.VARIABLE_LENGTH,20],["8003",Ke.VARIABLE_LENGTH,30],["8004",Ke.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ke.VARIABLE_LENGTH,30],["8008",Ke.VARIABLE_LENGTH,12],["8018",18],["8020",Ke.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ke.VARIABLE_LENGTH,70],["8200",Ke.VARIABLE_LENGTH,70]];class ps{constructor(s){this.buffer=new ce,this.information=s}decodeAllCodes(s,l){let d=l,x=null;do{let h=this.decodeGeneralPurposeField(d,x),p=Ke.parseFieldsInGeneralPurpose(h.getNewString());if(p!=null&&s.append(p),h.isRemaining()?x=""+h.getRemainingValue():x=null,d===h.getNewPosition())break;d=h.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let l=s;l<s+3;++l)if(this.information.get(l))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let h=this.extractNumericValueFromBitArray(s,4);return h===0?new Ln(this.information.getSize(),Ln.FNC1,Ln.FNC1):new Ln(this.information.getSize(),h-1,Ln.FNC1)}let l=this.extractNumericValueFromBitArray(s,7),d=(l-8)/11,x=(l-8)%11;return new Ln(s+7,d,x)}extractNumericValueFromBitArray(s,l){return ps.extractNumericValueFromBitArray(this.information,s,l)}static extractNumericValueFromBitArray(s,l,d){let x=0;for(let h=0;h<d;++h)s.get(l+h)&&(x|=1<<d-h-1);return x}decodeGeneralPurposeField(s,l){this.buffer.setLengthToZero(),l!=null&&this.buffer.append(l),this.current.setPosition(s);let d=this.parseBlocks();return d!=null&&d.isRemaining()?new jr(this.current.getPosition(),this.buffer.toString(),d.getRemainingValue()):new jr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,l;do{let d=this.current.getPosition();if(this.current.isAlpha()?(l=this.parseAlphaBlock(),s=l.isFinished()):this.current.isIsoIec646()?(l=this.parseIsoIec646Block(),s=l.isFinished()):(l=this.parseNumericBlock(),s=l.isFinished()),!(d!==this.current.getPosition())&&!s)break}while(!s);return l.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let l;return s.isSecondDigitFNC1()?l=new jr(this.current.getPosition(),this.buffer.toString()):l=new jr(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new xr(!0,l)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let l=new jr(this.current.getPosition(),this.buffer.toString());return new xr(!0,l)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new xr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let l=new jr(this.current.getPosition(),this.buffer.toString());return new xr(!0,l)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new xr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let l=new jr(this.current.getPosition(),this.buffer.toString());return new xr(!0,l)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new xr(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,5);if(l>=5&&l<16)return!0;if(s+7>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(s,7);if(d>=64&&d<116)return!0;if(s+8>this.information.getSize())return!1;let x=this.extractNumericValueFromBitArray(s,8);return x>=232&&x<253}decodeIsoIec646(s){let l=this.extractNumericValueFromBitArray(s,5);if(l===15)return new pn(s+5,pn.FNC1);if(l>=5&&l<15)return new pn(s+5,"0"+(l-5));let d=this.extractNumericValueFromBitArray(s,7);if(d>=64&&d<90)return new pn(s+7,""+(d+1));if(d>=90&&d<116)return new pn(s+7,""+(d+7));let x=this.extractNumericValueFromBitArray(s,8),h;switch(x){case 232:h="!";break;case 233:h='"';break;case 234:h="%";break;case 235:h="&";break;case 236:h="'";break;case 237:h="(";break;case 238:h=")";break;case 239:h="*";break;case 240:h="+";break;case 241:h=",";break;case 242:h="-";break;case 243:h=".";break;case 244:h="/";break;case 245:h=":";break;case 246:h=";";break;case 247:h="<";break;case 248:h="=";break;case 249:h=">";break;case 250:h="?";break;case 251:h="_";break;case 252:h=" ";break;default:throw new L}return new pn(s+8,h)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,5);if(l>=5&&l<16)return!0;if(s+6>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(s,6);return d>=16&&d<63}decodeAlphanumeric(s){let l=this.extractNumericValueFromBitArray(s,5);if(l===15)return new pn(s+5,pn.FNC1);if(l>=5&&l<15)return new pn(s+5,"0"+(l-5));let d=this.extractNumericValueFromBitArray(s,6);if(d>=32&&d<58)return new pn(s+6,""+(d+33));let x;switch(d){case 58:x="*";break;case 59:x=",";break;case 60:x="-";break;case 61:x=".";break;case 62:x="/";break;default:throw new R("Decoding invalid alphanumeric value: "+d)}return new pn(s+6,x)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let l=0;l<5&&l+s<this.information.getSize();++l)if(l===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+l))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let l=s;l<s+3;++l)if(this.information.get(l))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let l=0;l<4&&l+s<this.information.getSize();++l)if(this.information.get(s+l))return!1;return!0}}class yo{constructor(s){this.information=s,this.generalDecoder=new ps(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class kn extends yo{constructor(s){super(s)}encodeCompressedGtin(s,l){s.append("(01)");let d=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,l,d)}encodeCompressedGtinWithoutAI(s,l,d){for(let x=0;x<4;++x){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(l+10*x,10);h/100===0&&s.append("0"),h/10===0&&s.append("0"),s.append(h)}kn.appendCheckDigit(s,d)}static appendCheckDigit(s,l){let d=0;for(let x=0;x<13;x++){let h=s.charAt(x+l).charCodeAt(0)-48;d+=(x&1)===0?3*h:h}d=10-d%10,d===10&&(d=0),s.append(d)}}kn.GTIN_SIZE=40;class Zr extends kn{constructor(s){super(s)}parseInformation(){let s=new ce;s.append("(01)");let l=s.length(),d=this.getGeneralDecoder().extractNumericValueFromBitArray(Zr.HEADER_SIZE,4);return s.append(d),this.encodeCompressedGtinWithoutAI(s,Zr.HEADER_SIZE+4,l),this.getGeneralDecoder().decodeAllCodes(s,Zr.HEADER_SIZE+44)}}Zr.HEADER_SIZE=4;class bo extends yo{constructor(s){super(s)}parseInformation(){let s=new ce;return this.getGeneralDecoder().decodeAllCodes(s,bo.HEADER_SIZE)}}bo.HEADER_SIZE=5;class ti extends kn{constructor(s){super(s)}encodeCompressedWeight(s,l,d){let x=this.getGeneralDecoder().extractNumericValueFromBitArray(l,d);this.addWeightCode(s,x);let h=this.checkWeight(x),p=1e5;for(let b=0;b<5;++b)h/p===0&&s.append("0"),p/=10;s.append(h)}}class Zn extends ti{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=Zn.HEADER_SIZE+ti.GTIN_SIZE+Zn.WEIGHT_SIZE)throw new te;let s=new ce;return this.encodeCompressedGtin(s,Zn.HEADER_SIZE),this.encodeCompressedWeight(s,Zn.HEADER_SIZE+ti.GTIN_SIZE,Zn.WEIGHT_SIZE),s.toString()}}Zn.HEADER_SIZE=5,Zn.WEIGHT_SIZE=15;class Ls extends Zn{constructor(s){super(s)}addWeightCode(s,l){s.append("(3103)")}checkWeight(s){return s}}class ni extends Zn{constructor(s){super(s)}addWeightCode(s,l){l<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class Cr extends kn{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<Cr.HEADER_SIZE+kn.GTIN_SIZE)throw new te;let s=new ce;this.encodeCompressedGtin(s,Cr.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(Cr.HEADER_SIZE+kn.GTIN_SIZE,Cr.LAST_DIGIT_SIZE);s.append("(392"),s.append(l),s.append(")");let d=this.getGeneralDecoder().decodeGeneralPurposeField(Cr.HEADER_SIZE+kn.GTIN_SIZE+Cr.LAST_DIGIT_SIZE,null);return s.append(d.getNewString()),s.toString()}}Cr.HEADER_SIZE=8,Cr.LAST_DIGIT_SIZE=2;class An extends kn{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<An.HEADER_SIZE+kn.GTIN_SIZE)throw new te;let s=new ce;this.encodeCompressedGtin(s,An.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(An.HEADER_SIZE+kn.GTIN_SIZE,An.LAST_DIGIT_SIZE);s.append("(393"),s.append(l),s.append(")");let d=this.getGeneralDecoder().extractNumericValueFromBitArray(An.HEADER_SIZE+kn.GTIN_SIZE+An.LAST_DIGIT_SIZE,An.FIRST_THREE_DIGITS_SIZE);d/100==0&&s.append("0"),d/10==0&&s.append("0"),s.append(d);let x=this.getGeneralDecoder().decodeGeneralPurposeField(An.HEADER_SIZE+kn.GTIN_SIZE+An.LAST_DIGIT_SIZE+An.FIRST_THREE_DIGITS_SIZE,null);return s.append(x.getNewString()),s.toString()}}An.HEADER_SIZE=8,An.LAST_DIGIT_SIZE=2,An.FIRST_THREE_DIGITS_SIZE=10;class tn extends ti{constructor(s,l,d){super(s),this.dateCode=d,this.firstAIdigits=l}parseInformation(){if(this.getInformation().getSize()!=tn.HEADER_SIZE+tn.GTIN_SIZE+tn.WEIGHT_SIZE+tn.DATE_SIZE)throw new te;let s=new ce;return this.encodeCompressedGtin(s,tn.HEADER_SIZE),this.encodeCompressedWeight(s,tn.HEADER_SIZE+tn.GTIN_SIZE,tn.WEIGHT_SIZE),this.encodeCompressedDate(s,tn.HEADER_SIZE+tn.GTIN_SIZE+tn.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,l){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(l,tn.DATE_SIZE);if(d==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let x=d%32;d/=32;let h=d%12+1;d/=12;let p=d;p/10==0&&s.append("0"),s.append(p),h/10==0&&s.append("0"),s.append(h),x/10==0&&s.append("0"),s.append(x)}addWeightCode(s,l){s.append("("),s.append(this.firstAIdigits),s.append(l/1e5),s.append(")")}checkWeight(s){return s%1e5}}tn.HEADER_SIZE=8,tn.WEIGHT_SIZE=20,tn.DATE_SIZE=16;function Wx(H){try{if(H.get(1))return new Zr(H);if(!H.get(2))return new bo(H);switch(ps.extractNumericValueFromBitArray(H,1,4)){case 4:return new Ls(H);case 5:return new ni(H)}switch(ps.extractNumericValueFromBitArray(H,1,5)){case 12:return new Cr(H);case 13:return new An(H)}switch(ps.extractNumericValueFromBitArray(H,1,7)){case 56:return new tn(H,"310","11");case 57:return new tn(H,"320","11");case 58:return new tn(H,"310","13");case 59:return new tn(H,"320","13");case 60:return new tn(H,"310","15");case 61:return new tn(H,"320","15");case 62:return new tn(H,"310","17");case 63:return new tn(H,"320","17")}}catch(s){throw console.log(s),new R("unknown decoder: "+H)}}class $s{constructor(s,l,d,x){this.leftchar=s,this.rightchar=l,this.finderpattern=d,this.maybeLast=x}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,l){return s instanceof $s?$s.equalsOrNull(s.leftchar,l.leftchar)&&$s.equalsOrNull(s.rightchar,l.rightchar)&&$s.equalsOrNull(s.finderpattern,l.finderpattern):!1}static equalsOrNull(s,l){return s===null?l===null:$s.equals(s,l)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class X0{constructor(s,l,d){this.pairs=s,this.rowNumber=l,this.wasReversed=d}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,l){return s instanceof X0?this.checkEqualitity(s,l)&&s.wasReversed===l.wasReversed:!1}checkEqualitity(s,l){if(!s||!l)return;let d;return s.forEach((x,h)=>{l.forEach(p=>{x.getLeftChar().getValue()===p.getLeftChar().getValue()&&x.getRightChar().getValue()===p.getRightChar().getValue()&&x.getFinderPatter().getValue()===p.getFinderPatter().getValue()&&(d=!0)})}),d}}class Le extends rn{constructor(s){super(...arguments),this.pairs=new Array(Le.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,l,d){this.pairs.length=0,this.startFromEven=!1;try{return Le.constructResult(this.decodeRow2pairs(s,l))}catch(x){this.verbose&&console.log(x)}return this.pairs.length=0,this.startFromEven=!0,Le.constructResult(this.decodeRow2pairs(s,l))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,l){let d=!1;for(;!d;)try{this.pairs.push(this.retrieveNextPair(l,this.pairs,s))}catch(h){if(h instanceof te){if(!this.pairs.length)throw new te;d=!0}}if(this.checkChecksum())return this.pairs;let x;if(this.rows.length?x=!0:x=!1,this.storeRow(s,!1),x){let h=this.checkRowsBoolean(!1);if(h!=null||(h=this.checkRowsBoolean(!0),h!=null))return h}throw new te}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let l=null;try{l=this.checkRows(new Array,0)}catch(d){this.verbose&&console.log(d)}return s&&(this.rows=this.rows.reverse()),l}checkRows(s,l){for(let d=l;d<this.rows.length;d++){let x=this.rows[d];this.pairs.length=0;for(let p of s)this.pairs.push(p.getPairs());if(this.pairs.push(x.getPairs()),!Le.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let h=new Array(s);h.push(x);try{return this.checkRows(h,d+1)}catch(p){this.verbose&&console.log(p)}}throw new te}static isValidSequence(s){for(let l of Le.FINDER_PATTERN_SEQUENCES){if(s.length>l.length)continue;let d=!0;for(let x=0;x<s.length;x++)if(s[x].getFinderPattern().getValue()!=l[x]){d=!1;break}if(d)return!0}return!1}storeRow(s,l){let d=0,x=!1,h=!1;for(;d<this.rows.length;){let p=this.rows[d];if(p.getRowNumber()>s){h=p.isEquivalent(this.pairs);break}x=p.isEquivalent(this.pairs),d++}h||x||Le.isPartialRow(this.pairs,this.rows)||(this.rows.push(d,new X0(this.pairs,s,l)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,l){for(let d of l)if(d.getPairs().length!==s.length){for(let x of d.getPairs())for(let h of s)if($s.equals(x,h))break}}static isPartialRow(s,l){for(let d of l){let x=!0;for(let h of s){let p=!1;for(let b of d.getPairs())if(h.equals(b)){p=!0;break}if(!p){x=!1;break}}if(x)return!0}return!1}getRows(){return this.rows}static constructResult(s){let l=sl.buildBitArray(s),x=Wx(l).parseInformation(),h=s[0].getFinderPattern().getResultPoints(),p=s[s.length-1].getFinderPattern().getResultPoints(),b=[h[0],h[1],p[0],p[1]];return new Ne(x,null,null,b,Re.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),l=s.getLeftChar(),d=s.getRightChar();if(d==null)return!1;let x=d.getChecksumPortion(),h=2;for(let b=1;b<this.pairs.size();++b){let v=this.pairs.get(b);x+=v.getLeftChar().getChecksumPortion(),h++;let A=v.getRightChar();A!=null&&(x+=A.getChecksumPortion(),h++)}return x%=211,211*(h-4)+x==l.getValue()}static getNextSecondBar(s,l){let d;return s.get(l)?(d=s.getNextUnset(l),d=s.getNextSet(d)):(d=s.getNextSet(l),d=s.getNextUnset(d)),d}retrieveNextPair(s,l,d){let x=l.length%2==0;this.startFromEven&&(x=!x);let h,p=!0,b=-1;do this.findNextPair(s,l,b),h=this.parseFoundFinderPattern(s,d,x),h==null?b=Le.getNextSecondBar(s,this.startEnd[0]):p=!1;while(p);let v=this.decodeDataCharacter(s,h,x,!0);if(!this.isEmptyPair(l)&&l[l.length-1].mustBeLast())throw new te;let A;try{A=this.decodeDataCharacter(s,h,x,!1)}catch(O){A=null,this.verbose&&console.log(O)}return new $s(v,A,h,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,l,d){let x=this.getDecodeFinderCounters();x[0]=0,x[1]=0,x[2]=0,x[3]=0;let h=s.getSize(),p;d>=0?p=d:this.isEmptyPair(l)?p=0:p=l[l.length-1].getFinderPattern().getStartEnd()[1];let b=l.length%2!=0;this.startFromEven&&(b=!b);let v=!1;for(;p<h&&(v=!s.get(p),!!v);)p++;let A=0,O=p;for(let q=p;q<h;q++)if(s.get(q)!=v)x[A]++;else{if(A==3){if(b&&Le.reverseCounters(x),Le.isFinderPattern(x)){this.startEnd[0]=O,this.startEnd[1]=q;return}b&&Le.reverseCounters(x),O+=x[0]+x[1],x[0]=x[2],x[1]=x[3],x[2]=0,x[3]=0,A--}else A++;x[A]=1,v=!v}throw new te}static reverseCounters(s){let l=s.length;for(let d=0;d<l/2;++d){let x=s[d];s[d]=s[l-d-1],s[l-d-1]=x}}parseFoundFinderPattern(s,l,d){let x,h,p;if(d){let A=this.startEnd[0]-1;for(;A>=0&&!s.get(A);)A--;A++,x=this.startEnd[0]-A,h=A,p=this.startEnd[1]}else h=this.startEnd[0],p=s.getNextUnset(this.startEnd[1]+1),x=p-this.startEnd[1];let b=this.getDecodeFinderCounters();D.arraycopy(b,0,b,1,b.length-1),b[0]=x;let v;try{v=this.parseFinderValue(b,Le.FINDER_PATTERNS)}catch{return null}return new po(v,[h,p],h,p,l)}decodeDataCharacter(s,l,d,x){let h=this.getDataCharacterCounters();for(let Wt=0;Wt<h.length;Wt++)h[Wt]=0;if(x)Le.recordPatternInReverse(s,l.getStartEnd()[0],h);else{Le.recordPattern(s,l.getStartEnd()[1],h);for(let Wt=0,Tn=h.length-1;Wt<Tn;Wt++,Tn--){let fr=h[Wt];h[Wt]=h[Tn],h[Tn]=fr}}let p=17,b=ue.sum(new Int32Array(h))/p,v=(l.getStartEnd()[1]-l.getStartEnd()[0])/15;if(Math.abs(b-v)/v>.3)throw new te;let A=this.getOddCounts(),O=this.getEvenCounts(),q=this.getOddRoundingErrors(),Z=this.getEvenRoundingErrors();for(let Wt=0;Wt<h.length;Wt++){let Tn=1*h[Wt]/b,fr=Tn+.5;if(fr<1){if(Tn<.3)throw new te;fr=1}else if(fr>8){if(Tn>8.7)throw new te;fr=8}let ai=Wt/2;(Wt&1)==0?(A[ai]=fr,q[ai]=Tn-fr):(O[ai]=fr,Z[ai]=Tn-fr)}this.adjustOddEvenCounts(p);let ae=4*l.getValue()+(d?0:2)+(x?0:1)-1,he=0,ye=0;for(let Wt=A.length-1;Wt>=0;Wt--){if(Le.isNotA1left(l,d,x)){let Tn=Le.WEIGHTS[ae][2*Wt];ye+=A[Wt]*Tn}he+=A[Wt]}let Ae=0;for(let Wt=O.length-1;Wt>=0;Wt--)if(Le.isNotA1left(l,d,x)){let Tn=Le.WEIGHTS[ae][2*Wt+1];Ae+=O[Wt]*Tn}let ke=ye+Ae;if((he&1)!=0||he>13||he<4)throw new te;let He=(13-he)/2,ze=Le.SYMBOL_WIDEST[He],je=9-ze,Bt=ur.getRSSvalue(A,ze,!0),mt=ur.getRSSvalue(O,je,!1),er=Le.EVEN_TOTAL_SUBSET[He],Ur=Le.GSUM[He],tr=Bt*er+mt+Ur;return new Cn(tr,ke)}static isNotA1left(s,l,d){return!(s.getValue()==0&&l&&d)}adjustOddEvenCounts(s){let l=ue.sum(new Int32Array(this.getOddCounts())),d=ue.sum(new Int32Array(this.getEvenCounts())),x=!1,h=!1;l>13?h=!0:l<4&&(x=!0);let p=!1,b=!1;d>13?b=!0:d<4&&(p=!0);let v=l+d-s,A=(l&1)==1,O=(d&1)==0;if(v==1)if(A){if(O)throw new te;h=!0}else{if(!O)throw new te;b=!0}else if(v==-1)if(A){if(O)throw new te;x=!0}else{if(!O)throw new te;p=!0}else if(v==0){if(A){if(!O)throw new te;l<d?(x=!0,b=!0):(h=!0,p=!0)}else if(O)throw new te}else throw new te;if(x){if(h)throw new te;Le.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&Le.decrement(this.getOddCounts(),this.getOddRoundingErrors()),p){if(b)throw new te;Le.increment(this.getEvenCounts(),this.getOddRoundingErrors())}b&&Le.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Le.SYMBOL_WIDEST=[7,5,4,3,1],Le.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Le.GSUM=[0,348,1388,2948,3988],Le.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Le.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Le.FINDER_PAT_A=0,Le.FINDER_PAT_B=1,Le.FINDER_PAT_C=2,Le.FINDER_PAT_D=3,Le.FINDER_PAT_E=4,Le.FINDER_PAT_F=5,Le.FINDER_PATTERN_SEQUENCES=[[Le.FINDER_PAT_A,Le.FINDER_PAT_A],[Le.FINDER_PAT_A,Le.FINDER_PAT_B,Le.FINDER_PAT_B],[Le.FINDER_PAT_A,Le.FINDER_PAT_C,Le.FINDER_PAT_B,Le.FINDER_PAT_D],[Le.FINDER_PAT_A,Le.FINDER_PAT_E,Le.FINDER_PAT_B,Le.FINDER_PAT_D,Le.FINDER_PAT_C],[Le.FINDER_PAT_A,Le.FINDER_PAT_E,Le.FINDER_PAT_B,Le.FINDER_PAT_D,Le.FINDER_PAT_D,Le.FINDER_PAT_F],[Le.FINDER_PAT_A,Le.FINDER_PAT_E,Le.FINDER_PAT_B,Le.FINDER_PAT_D,Le.FINDER_PAT_E,Le.FINDER_PAT_F,Le.FINDER_PAT_F],[Le.FINDER_PAT_A,Le.FINDER_PAT_A,Le.FINDER_PAT_B,Le.FINDER_PAT_B,Le.FINDER_PAT_C,Le.FINDER_PAT_C,Le.FINDER_PAT_D,Le.FINDER_PAT_D],[Le.FINDER_PAT_A,Le.FINDER_PAT_A,Le.FINDER_PAT_B,Le.FINDER_PAT_B,Le.FINDER_PAT_C,Le.FINDER_PAT_C,Le.FINDER_PAT_D,Le.FINDER_PAT_E,Le.FINDER_PAT_E],[Le.FINDER_PAT_A,Le.FINDER_PAT_A,Le.FINDER_PAT_B,Le.FINDER_PAT_B,Le.FINDER_PAT_C,Le.FINDER_PAT_C,Le.FINDER_PAT_D,Le.FINDER_PAT_E,Le.FINDER_PAT_F,Le.FINDER_PAT_F],[Le.FINDER_PAT_A,Le.FINDER_PAT_A,Le.FINDER_PAT_B,Le.FINDER_PAT_B,Le.FINDER_PAT_C,Le.FINDER_PAT_D,Le.FINDER_PAT_D,Le.FINDER_PAT_E,Le.FINDER_PAT_E,Le.FINDER_PAT_F,Le.FINDER_PAT_F]],Le.MAX_PAIRS=11;class Tb extends Cn{constructor(s,l,d){super(s,l),this.count=0,this.finderPattern=d}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class on extends rn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,l,d){const x=this.decodePair(l,!1,s,d);on.addOrTally(this.possibleLeftPairs,x),l.reverse();let h=this.decodePair(l,!0,s,d);on.addOrTally(this.possibleRightPairs,h),l.reverse();for(let p of this.possibleLeftPairs)if(p.getCount()>1){for(let b of this.possibleRightPairs)if(b.getCount()>1&&on.checkChecksum(p,b))return on.constructResult(p,b)}throw new te}static addOrTally(s,l){if(l==null)return;let d=!1;for(let x of s)if(x.getValue()===l.getValue()){x.incrementCount(),d=!0;break}d||s.push(l)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,l){let d=4537077*s.getValue()+l.getValue(),x=new String(d).toString(),h=new ce;for(let A=13-x.length;A>0;A--)h.append("0");h.append(x);let p=0;for(let A=0;A<13;A++){let O=h.charAt(A).charCodeAt(0)-48;p+=(A&1)===0?3*O:O}p=10-p%10,p===10&&(p=0),h.append(p.toString());let b=s.getFinderPattern().getResultPoints(),v=l.getFinderPattern().getResultPoints();return new Ne(h.toString(),null,0,[b[0],b[1],v[0],v[1]],Re.RSS_14,new Date().getTime())}static checkChecksum(s,l){let d=(s.getChecksumPortion()+16*l.getChecksumPortion())%79,x=9*s.getFinderPattern().getValue()+l.getFinderPattern().getValue();return x>72&&x--,x>8&&x--,d===x}decodePair(s,l,d,x){try{let h=this.findFinderPattern(s,l),p=this.parseFoundFinderPattern(s,d,l,h),b=x==null?null:x.get(j.NEED_RESULT_POINT_CALLBACK);if(b!=null){let O=(h[0]+h[1])/2;l&&(O=s.getSize()-1-O),b.foundPossibleResultPoint(new W(O,d))}let v=this.decodeDataCharacter(s,p,!0),A=this.decodeDataCharacter(s,p,!1);return new Tb(1597*v.getValue()+A.getValue(),v.getChecksumPortion()+4*A.getChecksumPortion(),p)}catch{return null}}decodeDataCharacter(s,l,d){let x=this.getDataCharacterCounters();for(let Ae=0;Ae<x.length;Ae++)x[Ae]=0;if(d)rt.recordPatternInReverse(s,l.getStartEnd()[0],x);else{rt.recordPattern(s,l.getStartEnd()[1]+1,x);for(let Ae=0,ke=x.length-1;Ae<ke;Ae++,ke--){let He=x[Ae];x[Ae]=x[ke],x[ke]=He}}let h=d?16:15,p=ue.sum(new Int32Array(x))/h,b=this.getOddCounts(),v=this.getEvenCounts(),A=this.getOddRoundingErrors(),O=this.getEvenRoundingErrors();for(let Ae=0;Ae<x.length;Ae++){let ke=x[Ae]/p,He=Math.floor(ke+.5);He<1?He=1:He>8&&(He=8);let ze=Math.floor(Ae/2);(Ae&1)===0?(b[ze]=He,A[ze]=ke-He):(v[ze]=He,O[ze]=ke-He)}this.adjustOddEvenCounts(d,h);let q=0,Z=0;for(let Ae=b.length-1;Ae>=0;Ae--)Z*=9,Z+=b[Ae],q+=b[Ae];let ae=0,he=0;for(let Ae=v.length-1;Ae>=0;Ae--)ae*=9,ae+=v[Ae],he+=v[Ae];let ye=Z+3*ae;if(d){if((q&1)!==0||q>12||q<4)throw new te;let Ae=(12-q)/2,ke=on.OUTSIDE_ODD_WIDEST[Ae],He=9-ke,ze=ur.getRSSvalue(b,ke,!1),je=ur.getRSSvalue(v,He,!0),Bt=on.OUTSIDE_EVEN_TOTAL_SUBSET[Ae],mt=on.OUTSIDE_GSUM[Ae];return new Cn(ze*Bt+je+mt,ye)}else{if((he&1)!==0||he>10||he<4)throw new te;let Ae=(10-he)/2,ke=on.INSIDE_ODD_WIDEST[Ae],He=9-ke,ze=ur.getRSSvalue(b,ke,!0),je=ur.getRSSvalue(v,He,!1),Bt=on.INSIDE_ODD_TOTAL_SUBSET[Ae],mt=on.INSIDE_GSUM[Ae];return new Cn(je*Bt+ze+mt,ye)}}findFinderPattern(s,l){let d=this.getDecodeFinderCounters();d[0]=0,d[1]=0,d[2]=0,d[3]=0;let x=s.getSize(),h=!1,p=0;for(;p<x&&(h=!s.get(p),l!==h);)p++;let b=0,v=p;for(let A=p;A<x;A++)if(s.get(A)!==h)d[b]++;else{if(b===3){if(rn.isFinderPattern(d))return[v,A];v+=d[0]+d[1],d[0]=d[2],d[1]=d[3],d[2]=0,d[3]=0,b--}else b++;d[b]=1,h=!h}throw new te}parseFoundFinderPattern(s,l,d,x){let h=s.get(x[0]),p=x[0]-1;for(;p>=0&&h!==s.get(p);)p--;p++;const b=x[0]-p,v=this.getDecodeFinderCounters(),A=new Int32Array(v.length);D.arraycopy(v,0,A,1,v.length-1),A[0]=b;const O=this.parseFinderValue(A,on.FINDER_PATTERNS);let q=p,Z=x[1];return d&&(q=s.getSize()-1-q,Z=s.getSize()-1-Z),new po(O,[p,x[1]],q,Z,l)}adjustOddEvenCounts(s,l){let d=ue.sum(new Int32Array(this.getOddCounts())),x=ue.sum(new Int32Array(this.getEvenCounts())),h=!1,p=!1,b=!1,v=!1;s?(d>12?p=!0:d<4&&(h=!0),x>12?v=!0:x<4&&(b=!0)):(d>11?p=!0:d<5&&(h=!0),x>10?v=!0:x<4&&(b=!0));let A=d+x-l,O=(d&1)===(s?1:0),q=(x&1)===1;if(A===1)if(O){if(q)throw new te;p=!0}else{if(!q)throw new te;v=!0}else if(A===-1)if(O){if(q)throw new te;h=!0}else{if(!q)throw new te;b=!0}else if(A===0){if(O){if(!q)throw new te;d<x?(h=!0,v=!0):(p=!0,b=!0)}else if(q)throw new te}else throw new te;if(h){if(p)throw new te;rn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(p&&rn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),b){if(v)throw new te;rn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}v&&rn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}on.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],on.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],on.OUTSIDE_GSUM=[0,161,961,2015,2715],on.INSIDE_GSUM=[0,336,1036,1516],on.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],on.INSIDE_ODD_WIDEST=[2,4,6,8],on.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ri extends rt{constructor(s,l){super(),this.readers=[],this.verbose=l===!0;const d=s?s.get(j.POSSIBLE_FORMATS):null,x=s&&s.get(j.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;d?((d.includes(Re.EAN_13)||d.includes(Re.UPC_A)||d.includes(Re.EAN_8)||d.includes(Re.UPC_E))&&this.readers.push(new go(s)),d.includes(Re.CODE_39)&&this.readers.push(new Pt(x)),d.includes(Re.CODE_128)&&this.readers.push(new Ue),d.includes(Re.ITF)&&this.readers.push(new we),d.includes(Re.RSS_14)&&this.readers.push(new on),d.includes(Re.RSS_EXPANDED)&&this.readers.push(new Le(this.verbose))):(this.readers.push(new go(s)),this.readers.push(new Pt),this.readers.push(new go(s)),this.readers.push(new Ue),this.readers.push(new we),this.readers.push(new on),this.readers.push(new Le(this.verbose)))}decodeRow(s,l,d){for(let x=0;x<this.readers.length;x++)try{return this.readers[x].decodeRow(s,l,d)}catch{}throw new te}reset(){this.readers.forEach(s=>s.reset())}}class Ib extends Ge{constructor(s=500,l){super(new ri(l),s,l)}}class Ot{constructor(s,l,d){this.ecCodewords=s,this.ecBlocks=[l],d&&this.ecBlocks.push(d)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Rt{constructor(s,l){this.count=s,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class _t{constructor(s,l,d,x,h,p){this.versionNumber=s,this.symbolSizeRows=l,this.symbolSizeColumns=d,this.dataRegionSizeRows=x,this.dataRegionSizeColumns=h,this.ecBlocks=p;let b=0;const v=p.getECCodewords(),A=p.getECBlocks();for(let O of A)b+=O.getCount()*(O.getDataCodewords()+v);this.totalCodewords=b}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,l){if((s&1)!==0||(l&1)!==0)throw new L;for(let d of _t.VERSIONS)if(d.symbolSizeRows===s&&d.symbolSizeColumns===l)return d;throw new L}toString(){return""+this.versionNumber}static buildVersions(){return[new _t(1,10,10,8,8,new Ot(5,new Rt(1,3))),new _t(2,12,12,10,10,new Ot(7,new Rt(1,5))),new _t(3,14,14,12,12,new Ot(10,new Rt(1,8))),new _t(4,16,16,14,14,new Ot(12,new Rt(1,12))),new _t(5,18,18,16,16,new Ot(14,new Rt(1,18))),new _t(6,20,20,18,18,new Ot(18,new Rt(1,22))),new _t(7,22,22,20,20,new Ot(20,new Rt(1,30))),new _t(8,24,24,22,22,new Ot(24,new Rt(1,36))),new _t(9,26,26,24,24,new Ot(28,new Rt(1,44))),new _t(10,32,32,14,14,new Ot(36,new Rt(1,62))),new _t(11,36,36,16,16,new Ot(42,new Rt(1,86))),new _t(12,40,40,18,18,new Ot(48,new Rt(1,114))),new _t(13,44,44,20,20,new Ot(56,new Rt(1,144))),new _t(14,48,48,22,22,new Ot(68,new Rt(1,174))),new _t(15,52,52,24,24,new Ot(42,new Rt(2,102))),new _t(16,64,64,14,14,new Ot(56,new Rt(2,140))),new _t(17,72,72,16,16,new Ot(36,new Rt(4,92))),new _t(18,80,80,18,18,new Ot(48,new Rt(4,114))),new _t(19,88,88,20,20,new Ot(56,new Rt(4,144))),new _t(20,96,96,22,22,new Ot(68,new Rt(4,174))),new _t(21,104,104,24,24,new Ot(56,new Rt(6,136))),new _t(22,120,120,18,18,new Ot(68,new Rt(6,175))),new _t(23,132,132,20,20,new Ot(62,new Rt(8,163))),new _t(24,144,144,22,22,new Ot(62,new Rt(8,156),new Rt(2,155))),new _t(25,8,18,6,16,new Ot(7,new Rt(1,5))),new _t(26,8,32,6,14,new Ot(11,new Rt(1,10))),new _t(27,12,26,10,24,new Ot(14,new Rt(1,16))),new _t(28,12,36,10,16,new Ot(18,new Rt(1,22))),new _t(29,16,36,14,16,new Ot(24,new Rt(1,32))),new _t(30,16,48,14,22,new Ot(28,new Rt(1,49)))]}}_t.VERSIONS=_t.buildVersions();class Z0{constructor(s){const l=s.getHeight();if(l<8||l>144||(l&1)!==0)throw new L;this.version=Z0.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new me(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const l=s.getHeight(),d=s.getWidth();return _t.getVersionForDimensions(l,d)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let l=0,d=4,x=0;const h=this.mappingBitMatrix.getHeight(),p=this.mappingBitMatrix.getWidth();let b=!1,v=!1,A=!1,O=!1;do if(d===h&&x===0&&!b)s[l++]=this.readCorner1(h,p)&255,d-=2,x+=2,b=!0;else if(d===h-2&&x===0&&(p&3)!==0&&!v)s[l++]=this.readCorner2(h,p)&255,d-=2,x+=2,v=!0;else if(d===h+4&&x===2&&(p&7)===0&&!A)s[l++]=this.readCorner3(h,p)&255,d-=2,x+=2,A=!0;else if(d===h-2&&x===0&&(p&7)===4&&!O)s[l++]=this.readCorner4(h,p)&255,d-=2,x+=2,O=!0;else{do d<h&&x>=0&&!this.readMappingMatrix.get(x,d)&&(s[l++]=this.readUtah(d,x,h,p)&255),d-=2,x+=2;while(d>=0&&x<p);d+=1,x+=3;do d>=0&&x<p&&!this.readMappingMatrix.get(x,d)&&(s[l++]=this.readUtah(d,x,h,p)&255),d+=2,x-=2;while(d<h&&x>=0);d+=3,x+=1}while(d<h||x<p);if(l!==this.version.getTotalCodewords())throw new L;return s}readModule(s,l,d,x){return s<0&&(s+=d,l+=4-(d+4&7)),l<0&&(l+=x,s+=4-(x+4&7)),this.readMappingMatrix.set(l,s),this.mappingBitMatrix.get(l,s)}readUtah(s,l,d,x){let h=0;return this.readModule(s-2,l-2,d,x)&&(h|=1),h<<=1,this.readModule(s-2,l-1,d,x)&&(h|=1),h<<=1,this.readModule(s-1,l-2,d,x)&&(h|=1),h<<=1,this.readModule(s-1,l-1,d,x)&&(h|=1),h<<=1,this.readModule(s-1,l,d,x)&&(h|=1),h<<=1,this.readModule(s,l-2,d,x)&&(h|=1),h<<=1,this.readModule(s,l-1,d,x)&&(h|=1),h<<=1,this.readModule(s,l,d,x)&&(h|=1),h}readCorner1(s,l){let d=0;return this.readModule(s-1,0,s,l)&&(d|=1),d<<=1,this.readModule(s-1,1,s,l)&&(d|=1),d<<=1,this.readModule(s-1,2,s,l)&&(d|=1),d<<=1,this.readModule(0,l-2,s,l)&&(d|=1),d<<=1,this.readModule(0,l-1,s,l)&&(d|=1),d<<=1,this.readModule(1,l-1,s,l)&&(d|=1),d<<=1,this.readModule(2,l-1,s,l)&&(d|=1),d<<=1,this.readModule(3,l-1,s,l)&&(d|=1),d}readCorner2(s,l){let d=0;return this.readModule(s-3,0,s,l)&&(d|=1),d<<=1,this.readModule(s-2,0,s,l)&&(d|=1),d<<=1,this.readModule(s-1,0,s,l)&&(d|=1),d<<=1,this.readModule(0,l-4,s,l)&&(d|=1),d<<=1,this.readModule(0,l-3,s,l)&&(d|=1),d<<=1,this.readModule(0,l-2,s,l)&&(d|=1),d<<=1,this.readModule(0,l-1,s,l)&&(d|=1),d<<=1,this.readModule(1,l-1,s,l)&&(d|=1),d}readCorner3(s,l){let d=0;return this.readModule(s-1,0,s,l)&&(d|=1),d<<=1,this.readModule(s-1,l-1,s,l)&&(d|=1),d<<=1,this.readModule(0,l-3,s,l)&&(d|=1),d<<=1,this.readModule(0,l-2,s,l)&&(d|=1),d<<=1,this.readModule(0,l-1,s,l)&&(d|=1),d<<=1,this.readModule(1,l-3,s,l)&&(d|=1),d<<=1,this.readModule(1,l-2,s,l)&&(d|=1),d<<=1,this.readModule(1,l-1,s,l)&&(d|=1),d}readCorner4(s,l){let d=0;return this.readModule(s-3,0,s,l)&&(d|=1),d<<=1,this.readModule(s-2,0,s,l)&&(d|=1),d<<=1,this.readModule(s-1,0,s,l)&&(d|=1),d<<=1,this.readModule(0,l-2,s,l)&&(d|=1),d<<=1,this.readModule(0,l-1,s,l)&&(d|=1),d<<=1,this.readModule(1,l-1,s,l)&&(d|=1),d<<=1,this.readModule(2,l-1,s,l)&&(d|=1),d<<=1,this.readModule(3,l-1,s,l)&&(d|=1),d}extractDataRegion(s){const l=this.version.getSymbolSizeRows(),d=this.version.getSymbolSizeColumns();if(s.getHeight()!==l)throw new y("Dimension of bitMatrix must match the version size");const x=this.version.getDataRegionSizeRows(),h=this.version.getDataRegionSizeColumns(),p=l/x|0,b=d/h|0,v=p*x,A=b*h,O=new me(A,v);for(let q=0;q<p;++q){const Z=q*x;for(let ae=0;ae<b;++ae){const he=ae*h;for(let ye=0;ye<x;++ye){const Ae=q*(x+2)+1+ye,ke=Z+ye;for(let He=0;He<h;++He){const ze=ae*(h+2)+1+He;if(s.get(ze,Ae)){const je=he+He;O.set(je,ke)}}}}}return O}}class J0{constructor(s,l){this.numDataCodewords=s,this.codewords=l}static getDataBlocks(s,l){const d=l.getECBlocks();let x=0;const h=d.getECBlocks();for(let ye of h)x+=ye.getCount();const p=new Array(x);let b=0;for(let ye of h)for(let Ae=0;Ae<ye.getCount();Ae++){const ke=ye.getDataCodewords(),He=d.getECCodewords()+ke;p[b++]=new J0(ke,new Uint8Array(He))}const A=p[0].codewords.length-d.getECCodewords(),O=A-1;let q=0;for(let ye=0;ye<O;ye++)for(let Ae=0;Ae<b;Ae++)p[Ae].codewords[ye]=s[q++];const Z=l.getVersionNumber()===24,ae=Z?8:b;for(let ye=0;ye<ae;ye++)p[ye].codewords[A-1]=s[q++];const he=p[0].codewords.length;for(let ye=A;ye<he;ye++)for(let Ae=0;Ae<b;Ae++){const ke=Z?(Ae+8)%b:Ae,He=Z&&ke>7?ye-1:ye;p[ke].codewords[He]=s[q++]}if(q!==s.length)throw new y;return p}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class ec{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new y(""+s);let l=0,d=this.bitOffset,x=this.byteOffset;const h=this.bytes;if(d>0){const p=8-d,b=s<p?s:p,v=p-b,A=255>>8-b<<v;l=(h[x]&A)>>v,s-=b,d+=b,d===8&&(d=0,x++)}if(s>0){for(;s>=8;)l=l<<8|h[x]&255,x++,s-=8;if(s>0){const p=8-s,b=255>>p<<p;l=l<<s|(h[x]&b)>>p,d+=s}}return this.bitOffset=d,this.byteOffset=x,l}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var mn;(function(H){H[H.PAD_ENCODE=0]="PAD_ENCODE",H[H.ASCII_ENCODE=1]="ASCII_ENCODE",H[H.C40_ENCODE=2]="C40_ENCODE",H[H.TEXT_ENCODE=3]="TEXT_ENCODE",H[H.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",H[H.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",H[H.BASE256_ENCODE=6]="BASE256_ENCODE"})(mn||(mn={}));class js{static decode(s){const l=new ec(s),d=new ce,x=new ce,h=new Array;let p=mn.ASCII_ENCODE;do if(p===mn.ASCII_ENCODE)p=this.decodeAsciiSegment(l,d,x);else{switch(p){case mn.C40_ENCODE:this.decodeC40Segment(l,d);break;case mn.TEXT_ENCODE:this.decodeTextSegment(l,d);break;case mn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(l,d);break;case mn.EDIFACT_ENCODE:this.decodeEdifactSegment(l,d);break;case mn.BASE256_ENCODE:this.decodeBase256Segment(l,d,h);break;default:throw new L}p=mn.ASCII_ENCODE}while(p!==mn.PAD_ENCODE&&l.available()>0);return x.length()>0&&d.append(x.toString()),new st(s,d.toString(),h.length===0?null:h,null)}static decodeAsciiSegment(s,l,d){let x=!1;do{let h=s.readBits(8);if(h===0)throw new L;if(h<=128)return x&&(h+=128),l.append(String.fromCharCode(h-1)),mn.ASCII_ENCODE;if(h===129)return mn.PAD_ENCODE;if(h<=229){const p=h-130;p<10&&l.append("0"),l.append(""+p)}else switch(h){case 230:return mn.C40_ENCODE;case 231:return mn.BASE256_ENCODE;case 232:l.append("");break;case 233:case 234:break;case 235:x=!0;break;case 236:l.append("[)>05"),d.insert(0,"");break;case 237:l.append("[)>06"),d.insert(0,"");break;case 238:return mn.ANSIX12_ENCODE;case 239:return mn.TEXT_ENCODE;case 240:return mn.EDIFACT_ENCODE;case 241:break;default:if(h!==254||s.available()!==0)throw new L;break}}while(s.available()>0);return mn.ASCII_ENCODE}static decodeC40Segment(s,l){let d=!1;const x=[];let h=0;do{if(s.available()===8)return;const p=s.readBits(8);if(p===254)return;this.parseTwoBytes(p,s.readBits(8),x);for(let b=0;b<3;b++){const v=x[b];switch(h){case 0:if(v<3)h=v+1;else if(v<this.C40_BASIC_SET_CHARS.length){const A=this.C40_BASIC_SET_CHARS[v];d?(l.append(String.fromCharCode(A.charCodeAt(0)+128)),d=!1):l.append(A)}else throw new L;break;case 1:d?(l.append(String.fromCharCode(v+128)),d=!1):l.append(String.fromCharCode(v)),h=0;break;case 2:if(v<this.C40_SHIFT2_SET_CHARS.length){const A=this.C40_SHIFT2_SET_CHARS[v];d?(l.append(String.fromCharCode(A.charCodeAt(0)+128)),d=!1):l.append(A)}else switch(v){case 27:l.append("");break;case 30:d=!0;break;default:throw new L}h=0;break;case 3:d?(l.append(String.fromCharCode(v+224)),d=!1):l.append(String.fromCharCode(v+96)),h=0;break;default:throw new L}}}while(s.available()>0)}static decodeTextSegment(s,l){let d=!1,x=[],h=0;do{if(s.available()===8)return;const p=s.readBits(8);if(p===254)return;this.parseTwoBytes(p,s.readBits(8),x);for(let b=0;b<3;b++){const v=x[b];switch(h){case 0:if(v<3)h=v+1;else if(v<this.TEXT_BASIC_SET_CHARS.length){const A=this.TEXT_BASIC_SET_CHARS[v];d?(l.append(String.fromCharCode(A.charCodeAt(0)+128)),d=!1):l.append(A)}else throw new L;break;case 1:d?(l.append(String.fromCharCode(v+128)),d=!1):l.append(String.fromCharCode(v)),h=0;break;case 2:if(v<this.TEXT_SHIFT2_SET_CHARS.length){const A=this.TEXT_SHIFT2_SET_CHARS[v];d?(l.append(String.fromCharCode(A.charCodeAt(0)+128)),d=!1):l.append(A)}else switch(v){case 27:l.append("");break;case 30:d=!0;break;default:throw new L}h=0;break;case 3:if(v<this.TEXT_SHIFT3_SET_CHARS.length){const A=this.TEXT_SHIFT3_SET_CHARS[v];d?(l.append(String.fromCharCode(A.charCodeAt(0)+128)),d=!1):l.append(A),h=0}else throw new L;break;default:throw new L}}}while(s.available()>0)}static decodeAnsiX12Segment(s,l){const d=[];do{if(s.available()===8)return;const x=s.readBits(8);if(x===254)return;this.parseTwoBytes(x,s.readBits(8),d);for(let h=0;h<3;h++){const p=d[h];switch(p){case 0:l.append("\r");break;case 1:l.append("*");break;case 2:l.append(">");break;case 3:l.append(" ");break;default:if(p<14)l.append(String.fromCharCode(p+44));else if(p<40)l.append(String.fromCharCode(p+51));else throw new L;break}}}while(s.available()>0)}static parseTwoBytes(s,l,d){let x=(s<<8)+l-1,h=Math.floor(x/1600);d[0]=h,x-=h*1600,h=Math.floor(x/40),d[1]=h,d[2]=x-h*40}static decodeEdifactSegment(s,l){do{if(s.available()<=16)return;for(let d=0;d<4;d++){let x=s.readBits(6);if(x===31){const h=8-s.getBitOffset();h!==8&&s.readBits(h);return}(x&32)===0&&(x|=64),l.append(String.fromCharCode(x))}}while(s.available()>0)}static decodeBase256Segment(s,l,d){let x=1+s.getByteOffset();const h=this.unrandomize255State(s.readBits(8),x++);let p;if(h===0?p=s.available()/8|0:h<250?p=h:p=250*(h-249)+this.unrandomize255State(s.readBits(8),x++),p<0)throw new L;const b=new Uint8Array(p);for(let v=0;v<p;v++){if(s.available()<8)throw new L;b[v]=this.unrandomize255State(s.readBits(8),x++)}d.push(b);try{l.append(le.decode(b,Y.ISO88591))}catch(v){throw new R("Platform does not support required encoding: "+v.message)}}static unrandomize255State(s,l){const d=149*l%255+1,x=s-d;return x>=0?x:x+256}}js.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],js.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],js.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],js.TEXT_SHIFT2_SET_CHARS=js.C40_SHIFT2_SET_CHARS,js.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Mb{constructor(){this.rsDecoder=new N(B.DATA_MATRIX_FIELD_256)}decode(s){const l=new Z0(s),d=l.getVersion(),x=l.readCodewords(),h=J0.getDataBlocks(x,d);let p=0;for(let A of h)p+=A.getNumDataCodewords();const b=new Uint8Array(p),v=h.length;for(let A=0;A<v;A++){const O=h[A],q=O.getCodewords(),Z=O.getNumDataCodewords();this.correctErrors(q,Z);for(let ae=0;ae<Z;ae++)b[ae*v+A]=q[ae]}return js.decode(b)}correctErrors(s,l){const d=new Int32Array(s);try{this.rsDecoder.decode(d,s.length-l)}catch{throw new E}for(let x=0;x<l;x++)s[x]=d[x]}}class dn{constructor(s){this.image=s,this.rectangleDetector=new se(this.image)}detect(){const s=this.rectangleDetector.detect();let l=this.detectSolid1(s);if(l=this.detectSolid2(l),l[3]=this.correctTopRight(l),!l[3])throw new te;l=this.shiftToModuleCenter(l);const d=l[0],x=l[1],h=l[2],p=l[3];let b=this.transitionsBetween(d,p)+1,v=this.transitionsBetween(h,p)+1;(b&1)===1&&(b+=1),(v&1)===1&&(v+=1),4*b<7*v&&4*v<7*b&&(b=v=Math.max(b,v));let A=dn.sampleGrid(this.image,d,x,h,p,b,v);return new ee(A,[d,x,h,p])}static shiftPoint(s,l,d){let x=(l.getX()-s.getX())/(d+1),h=(l.getY()-s.getY())/(d+1);return new W(s.getX()+x,s.getY()+h)}static moveAway(s,l,d){let x=s.getX(),h=s.getY();return x<l?x-=1:x+=1,h<d?h-=1:h+=1,new W(x,h)}detectSolid1(s){let l=s[0],d=s[1],x=s[3],h=s[2],p=this.transitionsBetween(l,d),b=this.transitionsBetween(d,x),v=this.transitionsBetween(x,h),A=this.transitionsBetween(h,l),O=p,q=[h,l,d,x];return O>b&&(O=b,q[0]=l,q[1]=d,q[2]=x,q[3]=h),O>v&&(O=v,q[0]=d,q[1]=x,q[2]=h,q[3]=l),O>A&&(q[0]=x,q[1]=h,q[2]=l,q[3]=d),q}detectSolid2(s){let l=s[0],d=s[1],x=s[2],h=s[3],p=this.transitionsBetween(l,h),b=dn.shiftPoint(d,x,(p+1)*4),v=dn.shiftPoint(x,d,(p+1)*4),A=this.transitionsBetween(b,l),O=this.transitionsBetween(v,h);return A<O?(s[0]=l,s[1]=d,s[2]=x,s[3]=h):(s[0]=d,s[1]=x,s[2]=h,s[3]=l),s}correctTopRight(s){let l=s[0],d=s[1],x=s[2],h=s[3],p=this.transitionsBetween(l,h),b=this.transitionsBetween(d,h),v=dn.shiftPoint(l,d,(b+1)*4),A=dn.shiftPoint(x,d,(p+1)*4);p=this.transitionsBetween(v,h),b=this.transitionsBetween(A,h);let O=new W(h.getX()+(x.getX()-d.getX())/(p+1),h.getY()+(x.getY()-d.getY())/(p+1)),q=new W(h.getX()+(l.getX()-d.getX())/(b+1),h.getY()+(l.getY()-d.getY())/(b+1));if(!this.isValid(O))return this.isValid(q)?q:null;if(!this.isValid(q))return O;let Z=this.transitionsBetween(v,O)+this.transitionsBetween(A,O),ae=this.transitionsBetween(v,q)+this.transitionsBetween(A,q);return Z>ae?O:q}shiftToModuleCenter(s){let l=s[0],d=s[1],x=s[2],h=s[3],p=this.transitionsBetween(l,h)+1,b=this.transitionsBetween(x,h)+1,v=dn.shiftPoint(l,d,b*4),A=dn.shiftPoint(x,d,p*4);p=this.transitionsBetween(v,h)+1,b=this.transitionsBetween(A,h)+1,(p&1)===1&&(p+=1),(b&1)===1&&(b+=1);let O=(l.getX()+d.getX()+x.getX()+h.getX())/4,q=(l.getY()+d.getY()+x.getY()+h.getY())/4;l=dn.moveAway(l,O,q),d=dn.moveAway(d,O,q),x=dn.moveAway(x,O,q),h=dn.moveAway(h,O,q);let Z,ae;return v=dn.shiftPoint(l,d,b*4),v=dn.shiftPoint(v,h,p*4),Z=dn.shiftPoint(d,l,b*4),Z=dn.shiftPoint(Z,x,p*4),A=dn.shiftPoint(x,h,b*4),A=dn.shiftPoint(A,d,p*4),ae=dn.shiftPoint(h,x,b*4),ae=dn.shiftPoint(ae,l,p*4),[v,Z,A,ae]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,l,d,x,h,p,b){return Xe.getInstance().sampleGrid(s,p,b,.5,.5,p-.5,.5,p-.5,b-.5,.5,b-.5,l.getX(),l.getY(),h.getX(),h.getY(),x.getX(),x.getY(),d.getX(),d.getY())}transitionsBetween(s,l){let d=Math.trunc(s.getX()),x=Math.trunc(s.getY()),h=Math.trunc(l.getX()),p=Math.trunc(l.getY()),b=Math.abs(p-x)>Math.abs(h-d);if(b){let ye=d;d=x,x=ye,ye=h,h=p,p=ye}let v=Math.abs(h-d),A=Math.abs(p-x),O=-v/2,q=x<p?1:-1,Z=d<h?1:-1,ae=0,he=this.image.get(b?x:d,b?d:x);for(let ye=d,Ae=x;ye!==h;ye+=Z){let ke=this.image.get(b?Ae:ye,b?ye:Ae);if(ke!==he&&(ae++,he=ke),O+=A,O>0){if(Ae===p)break;Ae+=q,O-=v}}return ae}}class Us{constructor(){this.decoder=new Mb}decode(s,l=null){let d,x;if(l!=null&&l.has(j.PURE_BARCODE)){const A=Us.extractPureBits(s.getBlackMatrix());d=this.decoder.decode(A),x=Us.NO_POINTS}else{const A=new dn(s.getBlackMatrix()).detect();d=this.decoder.decode(A.getBits()),x=A.getPoints()}const h=d.getRawBytes(),p=new Ne(d.getText(),h,8*h.length,x,Re.DATA_MATRIX,D.currentTimeMillis()),b=d.getByteSegments();b!=null&&p.putMetadata(et.BYTE_SEGMENTS,b);const v=d.getECLevel();return v!=null&&p.putMetadata(et.ERROR_CORRECTION_LEVEL,v),p}reset(){}static extractPureBits(s){const l=s.getTopLeftOnBit(),d=s.getBottomRightOnBit();if(l==null||d==null)throw new te;const x=this.moduleSize(l,s);let h=l[1];const p=d[1];let b=l[0];const A=(d[0]-b+1)/x,O=(p-h+1)/x;if(A<=0||O<=0)throw new te;const q=x/2;h+=q,b+=q;const Z=new me(A,O);for(let ae=0;ae<O;ae++){const he=h+ae*x;for(let ye=0;ye<A;ye++)s.get(b+ye*x,he)&&Z.set(ye,ae)}return Z}static moduleSize(s,l){const d=l.getWidth();let x=s[0];const h=s[1];for(;x<d&&l.get(x,h);)x++;if(x===d)throw new te;const p=x-s[0];if(p===0)throw new te;return p}}Us.NO_POINTS=[];class Pb extends Ge{constructor(s=500){super(new Us,s)}}var si;(function(H){H[H.L=0]="L",H[H.M=1]="M",H[H.Q=2]="Q",H[H.H=3]="H"})(si||(si={}));class Qt{constructor(s,l,d){this.value=s,this.stringValue=l,this.bits=d,Qt.FOR_BITS.set(d,this),Qt.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return Qt.L;case"M":return Qt.M;case"Q":return Qt.Q;case"H":return Qt.H;default:throw new m(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof Qt))return!1;const l=s;return this.value===l.value}static forBits(s){if(s<0||s>=Qt.FOR_BITS.size)throw new y;return Qt.FOR_BITS.get(s)}}Qt.FOR_BITS=new Map,Qt.FOR_VALUE=new Map,Qt.L=new Qt(si.L,"L",1),Qt.M=new Qt(si.M,"M",0),Qt.Q=new Qt(si.Q,"Q",3),Qt.H=new Qt(si.H,"H",2);class $n{constructor(s){this.errorCorrectionLevel=Qt.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,l){return I.bitCount(s^l)}static decodeFormatInformation(s,l){const d=$n.doDecodeFormatInformation(s,l);return d!==null?d:$n.doDecodeFormatInformation(s^$n.FORMAT_INFO_MASK_QR,l^$n.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,l){let d=Number.MAX_SAFE_INTEGER,x=0;for(const h of $n.FORMAT_INFO_DECODE_LOOKUP){const p=h[0];if(p===s||p===l)return new $n(h[1]);let b=$n.numBitsDiffering(s,p);b<d&&(x=h[1],d=b),s!==l&&(b=$n.numBitsDiffering(l,p),b<d&&(x=h[1],d=b))}return d<=3?new $n(x):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof $n))return!1;const l=s;return this.errorCorrectionLevel===l.errorCorrectionLevel&&this.dataMask===l.dataMask}}$n.FORMAT_INFO_MASK_QR=21522,$n.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Be{constructor(s,...l){this.ecCodewordsPerBlock=s,this.ecBlocks=l}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const l=this.ecBlocks;for(const d of l)s+=d.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class oe{constructor(s,l){this.count=s,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ot{constructor(s,l,...d){this.versionNumber=s,this.alignmentPatternCenters=l,this.ecBlocks=d;let x=0;const h=d[0].getECCodewordsPerBlock(),p=d[0].getECBlocks();for(const b of p)x+=b.getCount()*(b.getDataCodewords()+h);this.totalCodewords=x}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new L;try{return this.getVersionForNumber((s-17)/4)}catch{throw new L}}static getVersionForNumber(s){if(s<1||s>40)throw new y;return ot.VERSIONS[s-1]}static decodeVersionInformation(s){let l=Number.MAX_SAFE_INTEGER,d=0;for(let x=0;x<ot.VERSION_DECODE_INFO.length;x++){const h=ot.VERSION_DECODE_INFO[x];if(h===s)return ot.getVersionForNumber(x+7);const p=$n.numBitsDiffering(s,h);p<l&&(d=x+7,l=p)}return l<=3?ot.getVersionForNumber(d):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),l=new me(s);l.setRegion(0,0,9,9),l.setRegion(s-8,0,8,9),l.setRegion(0,s-8,9,8);const d=this.alignmentPatternCenters.length;for(let x=0;x<d;x++){const h=this.alignmentPatternCenters[x]-2;for(let p=0;p<d;p++)x===0&&(p===0||p===d-1)||x===d-1&&p===0||l.setRegion(this.alignmentPatternCenters[p]-2,h,5,5)}return l.setRegion(6,9,1,s-17),l.setRegion(9,6,s-17,1),this.versionNumber>6&&(l.setRegion(s-11,0,3,6),l.setRegion(0,s-11,6,3)),l}toString(){return""+this.versionNumber}}ot.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ot.VERSIONS=[new ot(1,new Int32Array(0),new Be(7,new oe(1,19)),new Be(10,new oe(1,16)),new Be(13,new oe(1,13)),new Be(17,new oe(1,9))),new ot(2,Int32Array.from([6,18]),new Be(10,new oe(1,34)),new Be(16,new oe(1,28)),new Be(22,new oe(1,22)),new Be(28,new oe(1,16))),new ot(3,Int32Array.from([6,22]),new Be(15,new oe(1,55)),new Be(26,new oe(1,44)),new Be(18,new oe(2,17)),new Be(22,new oe(2,13))),new ot(4,Int32Array.from([6,26]),new Be(20,new oe(1,80)),new Be(18,new oe(2,32)),new Be(26,new oe(2,24)),new Be(16,new oe(4,9))),new ot(5,Int32Array.from([6,30]),new Be(26,new oe(1,108)),new Be(24,new oe(2,43)),new Be(18,new oe(2,15),new oe(2,16)),new Be(22,new oe(2,11),new oe(2,12))),new ot(6,Int32Array.from([6,34]),new Be(18,new oe(2,68)),new Be(16,new oe(4,27)),new Be(24,new oe(4,19)),new Be(28,new oe(4,15))),new ot(7,Int32Array.from([6,22,38]),new Be(20,new oe(2,78)),new Be(18,new oe(4,31)),new Be(18,new oe(2,14),new oe(4,15)),new Be(26,new oe(4,13),new oe(1,14))),new ot(8,Int32Array.from([6,24,42]),new Be(24,new oe(2,97)),new Be(22,new oe(2,38),new oe(2,39)),new Be(22,new oe(4,18),new oe(2,19)),new Be(26,new oe(4,14),new oe(2,15))),new ot(9,Int32Array.from([6,26,46]),new Be(30,new oe(2,116)),new Be(22,new oe(3,36),new oe(2,37)),new Be(20,new oe(4,16),new oe(4,17)),new Be(24,new oe(4,12),new oe(4,13))),new ot(10,Int32Array.from([6,28,50]),new Be(18,new oe(2,68),new oe(2,69)),new Be(26,new oe(4,43),new oe(1,44)),new Be(24,new oe(6,19),new oe(2,20)),new Be(28,new oe(6,15),new oe(2,16))),new ot(11,Int32Array.from([6,30,54]),new Be(20,new oe(4,81)),new Be(30,new oe(1,50),new oe(4,51)),new Be(28,new oe(4,22),new oe(4,23)),new Be(24,new oe(3,12),new oe(8,13))),new ot(12,Int32Array.from([6,32,58]),new Be(24,new oe(2,92),new oe(2,93)),new Be(22,new oe(6,36),new oe(2,37)),new Be(26,new oe(4,20),new oe(6,21)),new Be(28,new oe(7,14),new oe(4,15))),new ot(13,Int32Array.from([6,34,62]),new Be(26,new oe(4,107)),new Be(22,new oe(8,37),new oe(1,38)),new Be(24,new oe(8,20),new oe(4,21)),new Be(22,new oe(12,11),new oe(4,12))),new ot(14,Int32Array.from([6,26,46,66]),new Be(30,new oe(3,115),new oe(1,116)),new Be(24,new oe(4,40),new oe(5,41)),new Be(20,new oe(11,16),new oe(5,17)),new Be(24,new oe(11,12),new oe(5,13))),new ot(15,Int32Array.from([6,26,48,70]),new Be(22,new oe(5,87),new oe(1,88)),new Be(24,new oe(5,41),new oe(5,42)),new Be(30,new oe(5,24),new oe(7,25)),new Be(24,new oe(11,12),new oe(7,13))),new ot(16,Int32Array.from([6,26,50,74]),new Be(24,new oe(5,98),new oe(1,99)),new Be(28,new oe(7,45),new oe(3,46)),new Be(24,new oe(15,19),new oe(2,20)),new Be(30,new oe(3,15),new oe(13,16))),new ot(17,Int32Array.from([6,30,54,78]),new Be(28,new oe(1,107),new oe(5,108)),new Be(28,new oe(10,46),new oe(1,47)),new Be(28,new oe(1,22),new oe(15,23)),new Be(28,new oe(2,14),new oe(17,15))),new ot(18,Int32Array.from([6,30,56,82]),new Be(30,new oe(5,120),new oe(1,121)),new Be(26,new oe(9,43),new oe(4,44)),new Be(28,new oe(17,22),new oe(1,23)),new Be(28,new oe(2,14),new oe(19,15))),new ot(19,Int32Array.from([6,30,58,86]),new Be(28,new oe(3,113),new oe(4,114)),new Be(26,new oe(3,44),new oe(11,45)),new Be(26,new oe(17,21),new oe(4,22)),new Be(26,new oe(9,13),new oe(16,14))),new ot(20,Int32Array.from([6,34,62,90]),new Be(28,new oe(3,107),new oe(5,108)),new Be(26,new oe(3,41),new oe(13,42)),new Be(30,new oe(15,24),new oe(5,25)),new Be(28,new oe(15,15),new oe(10,16))),new ot(21,Int32Array.from([6,28,50,72,94]),new Be(28,new oe(4,116),new oe(4,117)),new Be(26,new oe(17,42)),new Be(28,new oe(17,22),new oe(6,23)),new Be(30,new oe(19,16),new oe(6,17))),new ot(22,Int32Array.from([6,26,50,74,98]),new Be(28,new oe(2,111),new oe(7,112)),new Be(28,new oe(17,46)),new Be(30,new oe(7,24),new oe(16,25)),new Be(24,new oe(34,13))),new ot(23,Int32Array.from([6,30,54,78,102]),new Be(30,new oe(4,121),new oe(5,122)),new Be(28,new oe(4,47),new oe(14,48)),new Be(30,new oe(11,24),new oe(14,25)),new Be(30,new oe(16,15),new oe(14,16))),new ot(24,Int32Array.from([6,28,54,80,106]),new Be(30,new oe(6,117),new oe(4,118)),new Be(28,new oe(6,45),new oe(14,46)),new Be(30,new oe(11,24),new oe(16,25)),new Be(30,new oe(30,16),new oe(2,17))),new ot(25,Int32Array.from([6,32,58,84,110]),new Be(26,new oe(8,106),new oe(4,107)),new Be(28,new oe(8,47),new oe(13,48)),new Be(30,new oe(7,24),new oe(22,25)),new Be(30,new oe(22,15),new oe(13,16))),new ot(26,Int32Array.from([6,30,58,86,114]),new Be(28,new oe(10,114),new oe(2,115)),new Be(28,new oe(19,46),new oe(4,47)),new Be(28,new oe(28,22),new oe(6,23)),new Be(30,new oe(33,16),new oe(4,17))),new ot(27,Int32Array.from([6,34,62,90,118]),new Be(30,new oe(8,122),new oe(4,123)),new Be(28,new oe(22,45),new oe(3,46)),new Be(30,new oe(8,23),new oe(26,24)),new Be(30,new oe(12,15),new oe(28,16))),new ot(28,Int32Array.from([6,26,50,74,98,122]),new Be(30,new oe(3,117),new oe(10,118)),new Be(28,new oe(3,45),new oe(23,46)),new Be(30,new oe(4,24),new oe(31,25)),new Be(30,new oe(11,15),new oe(31,16))),new ot(29,Int32Array.from([6,30,54,78,102,126]),new Be(30,new oe(7,116),new oe(7,117)),new Be(28,new oe(21,45),new oe(7,46)),new Be(30,new oe(1,23),new oe(37,24)),new Be(30,new oe(19,15),new oe(26,16))),new ot(30,Int32Array.from([6,26,52,78,104,130]),new Be(30,new oe(5,115),new oe(10,116)),new Be(28,new oe(19,47),new oe(10,48)),new Be(30,new oe(15,24),new oe(25,25)),new Be(30,new oe(23,15),new oe(25,16))),new ot(31,Int32Array.from([6,30,56,82,108,134]),new Be(30,new oe(13,115),new oe(3,116)),new Be(28,new oe(2,46),new oe(29,47)),new Be(30,new oe(42,24),new oe(1,25)),new Be(30,new oe(23,15),new oe(28,16))),new ot(32,Int32Array.from([6,34,60,86,112,138]),new Be(30,new oe(17,115)),new Be(28,new oe(10,46),new oe(23,47)),new Be(30,new oe(10,24),new oe(35,25)),new Be(30,new oe(19,15),new oe(35,16))),new ot(33,Int32Array.from([6,30,58,86,114,142]),new Be(30,new oe(17,115),new oe(1,116)),new Be(28,new oe(14,46),new oe(21,47)),new Be(30,new oe(29,24),new oe(19,25)),new Be(30,new oe(11,15),new oe(46,16))),new ot(34,Int32Array.from([6,34,62,90,118,146]),new Be(30,new oe(13,115),new oe(6,116)),new Be(28,new oe(14,46),new oe(23,47)),new Be(30,new oe(44,24),new oe(7,25)),new Be(30,new oe(59,16),new oe(1,17))),new ot(35,Int32Array.from([6,30,54,78,102,126,150]),new Be(30,new oe(12,121),new oe(7,122)),new Be(28,new oe(12,47),new oe(26,48)),new Be(30,new oe(39,24),new oe(14,25)),new Be(30,new oe(22,15),new oe(41,16))),new ot(36,Int32Array.from([6,24,50,76,102,128,154]),new Be(30,new oe(6,121),new oe(14,122)),new Be(28,new oe(6,47),new oe(34,48)),new Be(30,new oe(46,24),new oe(10,25)),new Be(30,new oe(2,15),new oe(64,16))),new ot(37,Int32Array.from([6,28,54,80,106,132,158]),new Be(30,new oe(17,122),new oe(4,123)),new Be(28,new oe(29,46),new oe(14,47)),new Be(30,new oe(49,24),new oe(10,25)),new Be(30,new oe(24,15),new oe(46,16))),new ot(38,Int32Array.from([6,32,58,84,110,136,162]),new Be(30,new oe(4,122),new oe(18,123)),new Be(28,new oe(13,46),new oe(32,47)),new Be(30,new oe(48,24),new oe(14,25)),new Be(30,new oe(42,15),new oe(32,16))),new ot(39,Int32Array.from([6,26,54,82,110,138,166]),new Be(30,new oe(20,117),new oe(4,118)),new Be(28,new oe(40,47),new oe(7,48)),new Be(30,new oe(43,24),new oe(22,25)),new Be(30,new oe(10,15),new oe(67,16))),new ot(40,Int32Array.from([6,30,58,86,114,142,170]),new Be(30,new oe(19,118),new oe(6,119)),new Be(28,new oe(18,47),new oe(31,48)),new Be(30,new oe(34,24),new oe(34,25)),new Be(30,new oe(20,15),new oe(61,16)))];var Bn;(function(H){H[H.DATA_MASK_000=0]="DATA_MASK_000",H[H.DATA_MASK_001=1]="DATA_MASK_001",H[H.DATA_MASK_010=2]="DATA_MASK_010",H[H.DATA_MASK_011=3]="DATA_MASK_011",H[H.DATA_MASK_100=4]="DATA_MASK_100",H[H.DATA_MASK_101=5]="DATA_MASK_101",H[H.DATA_MASK_110=6]="DATA_MASK_110",H[H.DATA_MASK_111=7]="DATA_MASK_111"})(Bn||(Bn={}));class Ar{constructor(s,l){this.value=s,this.isMasked=l}unmaskBitMatrix(s,l){for(let d=0;d<l;d++)for(let x=0;x<l;x++)this.isMasked(d,x)&&s.flip(x,d)}}Ar.values=new Map([[Bn.DATA_MASK_000,new Ar(Bn.DATA_MASK_000,(H,s)=>(H+s&1)===0)],[Bn.DATA_MASK_001,new Ar(Bn.DATA_MASK_001,(H,s)=>(H&1)===0)],[Bn.DATA_MASK_010,new Ar(Bn.DATA_MASK_010,(H,s)=>s%3===0)],[Bn.DATA_MASK_011,new Ar(Bn.DATA_MASK_011,(H,s)=>(H+s)%3===0)],[Bn.DATA_MASK_100,new Ar(Bn.DATA_MASK_100,(H,s)=>(Math.floor(H/2)+Math.floor(s/3)&1)===0)],[Bn.DATA_MASK_101,new Ar(Bn.DATA_MASK_101,(H,s)=>H*s%6===0)],[Bn.DATA_MASK_110,new Ar(Bn.DATA_MASK_110,(H,s)=>H*s%6<3)],[Bn.DATA_MASK_111,new Ar(Bn.DATA_MASK_111,(H,s)=>(H+s+H*s%3&1)===0)]]);class Rb{constructor(s){const l=s.getHeight();if(l<21||(l&3)!==1)throw new L;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let h=0;h<6;h++)s=this.copyBit(h,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let h=5;h>=0;h--)s=this.copyBit(8,h,s);const l=this.bitMatrix.getHeight();let d=0;const x=l-7;for(let h=l-1;h>=x;h--)d=this.copyBit(8,h,d);for(let h=l-8;h<l;h++)d=this.copyBit(h,8,d);if(this.parsedFormatInfo=$n.decodeFormatInformation(s,d),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new L}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),l=Math.floor((s-17)/4);if(l<=6)return ot.getVersionForNumber(l);let d=0;const x=s-11;for(let p=5;p>=0;p--)for(let b=s-9;b>=x;b--)d=this.copyBit(b,p,d);let h=ot.decodeVersionInformation(d);if(h!==null&&h.getDimensionForVersion()===s)return this.parsedVersion=h,h;d=0;for(let p=5;p>=0;p--)for(let b=s-9;b>=x;b--)d=this.copyBit(p,b,d);if(h=ot.decodeVersionInformation(d),h!==null&&h.getDimensionForVersion()===s)return this.parsedVersion=h,h;throw new L}copyBit(s,l,d){return(this.isMirror?this.bitMatrix.get(l,s):this.bitMatrix.get(s,l))?d<<1|1:d<<1}readCodewords(){const s=this.readFormatInformation(),l=this.readVersion(),d=Ar.values.get(s.getDataMask()),x=this.bitMatrix.getHeight();d.unmaskBitMatrix(this.bitMatrix,x);const h=l.buildFunctionPattern();let p=!0;const b=new Uint8Array(l.getTotalCodewords());let v=0,A=0,O=0;for(let q=x-1;q>0;q-=2){q===6&&q--;for(let Z=0;Z<x;Z++){const ae=p?x-1-Z:Z;for(let he=0;he<2;he++)h.get(q-he,ae)||(O++,A<<=1,this.bitMatrix.get(q-he,ae)&&(A|=1),O===8&&(b[v++]=A,O=0,A=0))}p=!p}if(v!==l.getTotalCodewords())throw new L;return b}remask(){if(this.parsedFormatInfo===null)return;const s=Ar.values[this.parsedFormatInfo.getDataMask()],l=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,l)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let l=0,d=s.getWidth();l<d;l++)for(let x=l+1,h=s.getHeight();x<h;x++)s.get(l,x)!==s.get(x,l)&&(s.flip(x,l),s.flip(l,x))}}class tc{constructor(s,l){this.numDataCodewords=s,this.codewords=l}static getDataBlocks(s,l,d){if(s.length!==l.getTotalCodewords())throw new y;const x=l.getECBlocksForLevel(d);let h=0;const p=x.getECBlocks();for(const he of p)h+=he.getCount();const b=new Array(h);let v=0;for(const he of p)for(let ye=0;ye<he.getCount();ye++){const Ae=he.getDataCodewords(),ke=x.getECCodewordsPerBlock()+Ae;b[v++]=new tc(Ae,new Uint8Array(ke))}const A=b[0].codewords.length;let O=b.length-1;for(;O>=0&&b[O].codewords.length!==A;)O--;O++;const q=A-x.getECCodewordsPerBlock();let Z=0;for(let he=0;he<q;he++)for(let ye=0;ye<v;ye++)b[ye].codewords[he]=s[Z++];for(let he=O;he<v;he++)b[he].codewords[q]=s[Z++];const ae=b[0].codewords.length;for(let he=q;he<ae;he++)for(let ye=0;ye<v;ye++){const Ae=ye<O?he:he+1;b[ye].codewords[Ae]=s[Z++]}return b}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Br;(function(H){H[H.TERMINATOR=0]="TERMINATOR",H[H.NUMERIC=1]="NUMERIC",H[H.ALPHANUMERIC=2]="ALPHANUMERIC",H[H.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",H[H.BYTE=4]="BYTE",H[H.ECI=5]="ECI",H[H.KANJI=6]="KANJI",H[H.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",H[H.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",H[H.HANZI=9]="HANZI"})(Br||(Br={}));class it{constructor(s,l,d,x){this.value=s,this.stringValue=l,this.characterCountBitsForVersions=d,this.bits=x,it.FOR_BITS.set(x,this),it.FOR_VALUE.set(s,this)}static forBits(s){const l=it.FOR_BITS.get(s);if(l===void 0)throw new y;return l}getCharacterCountBits(s){const l=s.getVersionNumber();let d;return l<=9?d=0:l<=26?d=1:d=2,this.characterCountBitsForVersions[d]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof it))return!1;const l=s;return this.value===l.value}toString(){return this.stringValue}}it.FOR_BITS=new Map,it.FOR_VALUE=new Map,it.TERMINATOR=new it(Br.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),it.NUMERIC=new it(Br.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),it.ALPHANUMERIC=new it(Br.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),it.STRUCTURED_APPEND=new it(Br.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),it.BYTE=new it(Br.BYTE,"BYTE",Int32Array.from([8,16,16]),4),it.ECI=new it(Br.ECI,"ECI",Int32Array.from([0,0,0]),7),it.KANJI=new it(Br.KANJI,"KANJI",Int32Array.from([8,10,12]),8),it.FNC1_FIRST_POSITION=new it(Br.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),it.FNC1_SECOND_POSITION=new it(Br.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),it.HANZI=new it(Br.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class sn{static decode(s,l,d,x){const h=new ec(s);let p=new ce;const b=new Array;let v=-1,A=-1;try{let O=null,q=!1,Z;do{if(h.available()<4)Z=it.TERMINATOR;else{const ae=h.readBits(4);Z=it.forBits(ae)}switch(Z){case it.TERMINATOR:break;case it.FNC1_FIRST_POSITION:case it.FNC1_SECOND_POSITION:q=!0;break;case it.STRUCTURED_APPEND:if(h.available()<16)throw new L;v=h.readBits(8),A=h.readBits(8);break;case it.ECI:const ae=sn.parseECIValue(h);if(O=F.getCharacterSetECIByValue(ae),O===null)throw new L;break;case it.HANZI:const he=h.readBits(4),ye=h.readBits(Z.getCharacterCountBits(l));he===sn.GB2312_SUBSET&&sn.decodeHanziSegment(h,p,ye);break;default:const Ae=h.readBits(Z.getCharacterCountBits(l));switch(Z){case it.NUMERIC:sn.decodeNumericSegment(h,p,Ae);break;case it.ALPHANUMERIC:sn.decodeAlphanumericSegment(h,p,Ae,q);break;case it.BYTE:sn.decodeByteSegment(h,p,Ae,O,b,x);break;case it.KANJI:sn.decodeKanjiSegment(h,p,Ae);break;default:throw new L}break}}while(Z!==it.TERMINATOR)}catch{throw new L}return new st(s,p.toString(),b.length===0?null:b,d===null?null:d.toString(),v,A)}static decodeHanziSegment(s,l,d){if(d*13>s.available())throw new L;const x=new Uint8Array(2*d);let h=0;for(;d>0;){const p=s.readBits(13);let b=p/96<<8&4294967295|p%96;b<959?b+=41377:b+=42657,x[h]=b>>8&255,x[h+1]=b&255,h+=2,d--}try{l.append(le.decode(x,Y.GB2312))}catch(p){throw new L(p)}}static decodeKanjiSegment(s,l,d){if(d*13>s.available())throw new L;const x=new Uint8Array(2*d);let h=0;for(;d>0;){const p=s.readBits(13);let b=p/192<<8&4294967295|p%192;b<7936?b+=33088:b+=49472,x[h]=b>>8,x[h+1]=b,h+=2,d--}try{l.append(le.decode(x,Y.SHIFT_JIS))}catch(p){throw new L(p)}}static decodeByteSegment(s,l,d,x,h,p){if(8*d>s.available())throw new L;const b=new Uint8Array(d);for(let A=0;A<d;A++)b[A]=s.readBits(8);let v;x===null?v=Y.guessEncoding(b,p):v=x.getName();try{l.append(le.decode(b,v))}catch(A){throw new L(A)}h.push(b)}static toAlphaNumericChar(s){if(s>=sn.ALPHANUMERIC_CHARS.length)throw new L;return sn.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,l,d,x){const h=l.length();for(;d>1;){if(s.available()<11)throw new L;const p=s.readBits(11);l.append(sn.toAlphaNumericChar(Math.floor(p/45))),l.append(sn.toAlphaNumericChar(p%45)),d-=2}if(d===1){if(s.available()<6)throw new L;l.append(sn.toAlphaNumericChar(s.readBits(6)))}if(x)for(let p=h;p<l.length();p++)l.charAt(p)==="%"&&(p<l.length()-1&&l.charAt(p+1)==="%"?l.deleteCharAt(p+1):l.setCharAt(p,""))}static decodeNumericSegment(s,l,d){for(;d>=3;){if(s.available()<10)throw new L;const x=s.readBits(10);if(x>=1e3)throw new L;l.append(sn.toAlphaNumericChar(Math.floor(x/100))),l.append(sn.toAlphaNumericChar(Math.floor(x/10)%10)),l.append(sn.toAlphaNumericChar(x%10)),d-=3}if(d===2){if(s.available()<7)throw new L;const x=s.readBits(7);if(x>=100)throw new L;l.append(sn.toAlphaNumericChar(Math.floor(x/10))),l.append(sn.toAlphaNumericChar(x%10))}else if(d===1){if(s.available()<4)throw new L;const x=s.readBits(4);if(x>=10)throw new L;l.append(sn.toAlphaNumericChar(x))}}static parseECIValue(s){const l=s.readBits(8);if((l&128)===0)return l&127;if((l&192)===128){const d=s.readBits(8);return(l&63)<<8&4294967295|d}if((l&224)===192){const d=s.readBits(16);return(l&31)<<16&4294967295|d}throw new L}}sn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",sn.GB2312_SUBSET=1;class Gx{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const l=s[0];s[0]=s[2],s[2]=l}}class Ob{constructor(){this.rsDecoder=new N(B.QR_CODE_FIELD_256)}decodeBooleanArray(s,l){return this.decodeBitMatrix(me.parseFromBooleanArray(s),l)}decodeBitMatrix(s,l){const d=new Rb(s);let x=null;try{return this.decodeBitMatrixParser(d,l)}catch(h){x=h}try{d.remask(),d.setMirror(!0),d.readVersion(),d.readFormatInformation(),d.mirror();const h=this.decodeBitMatrixParser(d,l);return h.setOther(new Gx(!0)),h}catch(h){throw x!==null?x:h}}decodeBitMatrixParser(s,l){const d=s.readVersion(),x=s.readFormatInformation().getErrorCorrectionLevel(),h=s.readCodewords(),p=tc.getDataBlocks(h,d,x);let b=0;for(const O of p)b+=O.getNumDataCodewords();const v=new Uint8Array(b);let A=0;for(const O of p){const q=O.getCodewords(),Z=O.getNumDataCodewords();this.correctErrors(q,Z);for(let ae=0;ae<Z;ae++)v[A++]=q[ae]}return sn.decode(v,d,x,l)}correctErrors(s,l){const d=new Int32Array(s);try{this.rsDecoder.decode(d,s.length-l)}catch{throw new E}for(let x=0;x<l;x++)s[x]=d[x]}}class nc extends W{constructor(s,l,d){super(s,l),this.estimatedModuleSize=d}aboutEquals(s,l,d){if(Math.abs(l-this.getY())<=s&&Math.abs(d-this.getX())<=s){const x=Math.abs(s-this.estimatedModuleSize);return x<=1||x<=this.estimatedModuleSize}return!1}combineEstimate(s,l,d){const x=(this.getX()+l)/2,h=(this.getY()+s)/2,p=(this.estimatedModuleSize+d)/2;return new nc(x,h,p)}}class ol{constructor(s,l,d,x,h,p,b){this.image=s,this.startX=l,this.startY=d,this.width=x,this.height=h,this.moduleSize=p,this.resultPointCallback=b,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,l=this.height,d=this.width,x=s+d,h=this.startY+l/2,p=new Int32Array(3),b=this.image;for(let v=0;v<l;v++){const A=h+((v&1)===0?Math.floor((v+1)/2):-Math.floor((v+1)/2));p[0]=0,p[1]=0,p[2]=0;let O=s;for(;O<x&&!b.get(O,A);)O++;let q=0;for(;O<x;){if(b.get(O,A))if(q===1)p[1]++;else if(q===2){if(this.foundPatternCross(p)){const Z=this.handlePossibleCenter(p,A,O);if(Z!==null)return Z}p[0]=p[2],p[1]=1,p[2]=0,q=1}else p[++q]++;else q===1&&q++,p[q]++;O++}if(this.foundPatternCross(p)){const Z=this.handlePossibleCenter(p,A,x);if(Z!==null)return Z}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new te}static centerFromEnd(s,l){return l-s[2]-s[1]/2}foundPatternCross(s){const l=this.moduleSize,d=l/2;for(let x=0;x<3;x++)if(Math.abs(l-s[x])>=d)return!1;return!0}crossCheckVertical(s,l,d,x){const h=this.image,p=h.getHeight(),b=this.crossCheckStateCount;b[0]=0,b[1]=0,b[2]=0;let v=s;for(;v>=0&&h.get(l,v)&&b[1]<=d;)b[1]++,v--;if(v<0||b[1]>d)return NaN;for(;v>=0&&!h.get(l,v)&&b[0]<=d;)b[0]++,v--;if(b[0]>d)return NaN;for(v=s+1;v<p&&h.get(l,v)&&b[1]<=d;)b[1]++,v++;if(v===p||b[1]>d)return NaN;for(;v<p&&!h.get(l,v)&&b[2]<=d;)b[2]++,v++;if(b[2]>d)return NaN;const A=b[0]+b[1]+b[2];return 5*Math.abs(A-x)>=2*x?NaN:this.foundPatternCross(b)?ol.centerFromEnd(b,v):NaN}handlePossibleCenter(s,l,d){const x=s[0]+s[1]+s[2],h=ol.centerFromEnd(s,d),p=this.crossCheckVertical(l,h,2*s[1],x);if(!isNaN(p)){const b=(s[0]+s[1]+s[2])/3;for(const A of this.possibleCenters)if(A.aboutEquals(b,p,h))return A.combineEstimate(p,h,b);const v=new nc(h,p,b);this.possibleCenters.push(v),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(v)}return null}}class rc extends W{constructor(s,l,d,x){super(s,l),this.estimatedModuleSize=d,this.count=x,x===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,l,d){if(Math.abs(l-this.getY())<=s&&Math.abs(d-this.getX())<=s){const x=Math.abs(s-this.estimatedModuleSize);return x<=1||x<=this.estimatedModuleSize}return!1}combineEstimate(s,l,d){const x=this.count+1,h=(this.count*this.getX()+l)/x,p=(this.count*this.getY()+s)/x,b=(this.count*this.estimatedModuleSize+d)/x;return new rc(h,p,b,x)}}class Nb{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class _n{constructor(s,l){this.image=s,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=l}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const l=s!=null&&s.get(j.TRY_HARDER)!==void 0,d=s!=null&&s.get(j.PURE_BARCODE)!==void 0,x=this.image,h=x.getHeight(),p=x.getWidth();let b=Math.floor(3*h/(4*_n.MAX_MODULES));(b<_n.MIN_SKIP||l)&&(b=_n.MIN_SKIP);let v=!1;const A=new Int32Array(5);for(let q=b-1;q<h&&!v;q+=b){A[0]=0,A[1]=0,A[2]=0,A[3]=0,A[4]=0;let Z=0;for(let ae=0;ae<p;ae++)if(x.get(ae,q))(Z&1)===1&&Z++,A[Z]++;else if((Z&1)===0)if(Z===4)if(_n.foundPatternCross(A)){if(this.handlePossibleCenter(A,q,ae,d)===!0)if(b=2,this.hasSkipped===!0)v=this.haveMultiplyConfirmedCenters();else{const ye=this.findRowSkip();ye>A[2]&&(q+=ye-A[2]-b,ae=p-1)}else{A[0]=A[2],A[1]=A[3],A[2]=A[4],A[3]=1,A[4]=0,Z=3;continue}Z=0,A[0]=0,A[1]=0,A[2]=0,A[3]=0,A[4]=0}else A[0]=A[2],A[1]=A[3],A[2]=A[4],A[3]=1,A[4]=0,Z=3;else A[++Z]++;else A[Z]++;_n.foundPatternCross(A)&&this.handlePossibleCenter(A,q,p,d)===!0&&(b=A[0],this.hasSkipped&&(v=this.haveMultiplyConfirmedCenters()))}const O=this.selectBestPatterns();return W.orderBestPatterns(O),new Nb(O)}static centerFromEnd(s,l){return l-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let l=0;for(let h=0;h<5;h++){const p=s[h];if(p===0)return!1;l+=p}if(l<7)return!1;const d=l/7,x=d/2;return Math.abs(d-s[0])<x&&Math.abs(d-s[1])<x&&Math.abs(3*d-s[2])<3*x&&Math.abs(d-s[3])<x&&Math.abs(d-s[4])<x}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,l,d,x){const h=this.getCrossCheckStateCount();let p=0;const b=this.image;for(;s>=p&&l>=p&&b.get(l-p,s-p);)h[2]++,p++;if(s<p||l<p)return!1;for(;s>=p&&l>=p&&!b.get(l-p,s-p)&&h[1]<=d;)h[1]++,p++;if(s<p||l<p||h[1]>d)return!1;for(;s>=p&&l>=p&&b.get(l-p,s-p)&&h[0]<=d;)h[0]++,p++;if(h[0]>d)return!1;const v=b.getHeight(),A=b.getWidth();for(p=1;s+p<v&&l+p<A&&b.get(l+p,s+p);)h[2]++,p++;if(s+p>=v||l+p>=A)return!1;for(;s+p<v&&l+p<A&&!b.get(l+p,s+p)&&h[3]<d;)h[3]++,p++;if(s+p>=v||l+p>=A||h[3]>=d)return!1;for(;s+p<v&&l+p<A&&b.get(l+p,s+p)&&h[4]<d;)h[4]++,p++;if(h[4]>=d)return!1;const O=h[0]+h[1]+h[2]+h[3]+h[4];return Math.abs(O-x)<2*x&&_n.foundPatternCross(h)}crossCheckVertical(s,l,d,x){const h=this.image,p=h.getHeight(),b=this.getCrossCheckStateCount();let v=s;for(;v>=0&&h.get(l,v);)b[2]++,v--;if(v<0)return NaN;for(;v>=0&&!h.get(l,v)&&b[1]<=d;)b[1]++,v--;if(v<0||b[1]>d)return NaN;for(;v>=0&&h.get(l,v)&&b[0]<=d;)b[0]++,v--;if(b[0]>d)return NaN;for(v=s+1;v<p&&h.get(l,v);)b[2]++,v++;if(v===p)return NaN;for(;v<p&&!h.get(l,v)&&b[3]<d;)b[3]++,v++;if(v===p||b[3]>=d)return NaN;for(;v<p&&h.get(l,v)&&b[4]<d;)b[4]++,v++;if(b[4]>=d)return NaN;const A=b[0]+b[1]+b[2]+b[3]+b[4];return 5*Math.abs(A-x)>=2*x?NaN:_n.foundPatternCross(b)?_n.centerFromEnd(b,v):NaN}crossCheckHorizontal(s,l,d,x){const h=this.image,p=h.getWidth(),b=this.getCrossCheckStateCount();let v=s;for(;v>=0&&h.get(v,l);)b[2]++,v--;if(v<0)return NaN;for(;v>=0&&!h.get(v,l)&&b[1]<=d;)b[1]++,v--;if(v<0||b[1]>d)return NaN;for(;v>=0&&h.get(v,l)&&b[0]<=d;)b[0]++,v--;if(b[0]>d)return NaN;for(v=s+1;v<p&&h.get(v,l);)b[2]++,v++;if(v===p)return NaN;for(;v<p&&!h.get(v,l)&&b[3]<d;)b[3]++,v++;if(v===p||b[3]>=d)return NaN;for(;v<p&&h.get(v,l)&&b[4]<d;)b[4]++,v++;if(b[4]>=d)return NaN;const A=b[0]+b[1]+b[2]+b[3]+b[4];return 5*Math.abs(A-x)>=x?NaN:_n.foundPatternCross(b)?_n.centerFromEnd(b,v):NaN}handlePossibleCenter(s,l,d,x){const h=s[0]+s[1]+s[2]+s[3]+s[4];let p=_n.centerFromEnd(s,d),b=this.crossCheckVertical(l,Math.floor(p),s[2],h);if(!isNaN(b)&&(p=this.crossCheckHorizontal(Math.floor(p),Math.floor(b),s[2],h),!isNaN(p)&&(!x||this.crossCheckDiagonal(Math.floor(b),Math.floor(p),s[2],h)))){const v=h/7;let A=!1;const O=this.possibleCenters;for(let q=0,Z=O.length;q<Z;q++){const ae=O[q];if(ae.aboutEquals(v,b,p)){O[q]=ae.combineEstimate(b,p,v),A=!0;break}}if(!A){const q=new rc(p,b,v);O.push(q),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(q)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let l=null;for(const d of this.possibleCenters)if(d.getCount()>=_n.CENTER_QUORUM)if(l==null)l=d;else return this.hasSkipped=!0,Math.floor((Math.abs(l.getX()-d.getX())-Math.abs(l.getY()-d.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,l=0;const d=this.possibleCenters.length;for(const p of this.possibleCenters)p.getCount()>=_n.CENTER_QUORUM&&(s++,l+=p.getEstimatedModuleSize());if(s<3)return!1;const x=l/d;let h=0;for(const p of this.possibleCenters)h+=Math.abs(p.getEstimatedModuleSize()-x);return h<=.05*l}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new te;const l=this.possibleCenters;let d;if(s>3){let x=0,h=0;for(const v of this.possibleCenters){const A=v.getEstimatedModuleSize();x+=A,h+=A*A}d=x/s;let p=Math.sqrt(h/s-d*d);l.sort((v,A)=>{const O=Math.abs(A.getEstimatedModuleSize()-d),q=Math.abs(v.getEstimatedModuleSize()-d);return O<q?-1:O>q?1:0});const b=Math.max(.2*d,p);for(let v=0;v<l.length&&l.length>3;v++){const A=l[v];Math.abs(A.getEstimatedModuleSize()-d)>b&&(l.splice(v,1),v--)}}if(l.length>3){let x=0;for(const h of l)x+=h.getEstimatedModuleSize();d=x/l.length,l.sort((h,p)=>{if(p.getCount()===h.getCount()){const b=Math.abs(p.getEstimatedModuleSize()-d),v=Math.abs(h.getEstimatedModuleSize()-d);return b<v?1:b>v?-1:0}else return p.getCount()-h.getCount()}),l.splice(3)}return[l[0],l[1],l[2]]}}_n.CENTER_QUORUM=2,_n.MIN_SKIP=3,_n.MAX_MODULES=57;class Vi{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(j.NEED_RESULT_POINT_CALLBACK);const d=new _n(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(d)}processFinderPatternInfo(s){const l=s.getTopLeft(),d=s.getTopRight(),x=s.getBottomLeft(),h=this.calculateModuleSize(l,d,x);if(h<1)throw new te("No pattern found in proccess finder.");const p=Vi.computeDimension(l,d,x,h),b=ot.getProvisionalVersionForDimension(p),v=b.getDimensionForVersion()-7;let A=null;if(b.getAlignmentPatternCenters().length>0){const ae=d.getX()-l.getX()+x.getX(),he=d.getY()-l.getY()+x.getY(),ye=1-3/v,Ae=Math.floor(l.getX()+ye*(ae-l.getX())),ke=Math.floor(l.getY()+ye*(he-l.getY()));for(let He=4;He<=16;He<<=1)try{A=this.findAlignmentInRegion(h,Ae,ke,He);break}catch(ze){if(!(ze instanceof te))throw ze}}const O=Vi.createTransform(l,d,x,A,p),q=Vi.sampleGrid(this.image,O,p);let Z;return A===null?Z=[x,l,d]:Z=[x,l,d,A],new ee(q,Z)}static createTransform(s,l,d,x,h){const p=h-3.5;let b,v,A,O;return x!==null?(b=x.getX(),v=x.getY(),A=p-3,O=A):(b=l.getX()-s.getX()+d.getX(),v=l.getY()-s.getY()+d.getY(),A=p,O=p),ge.quadrilateralToQuadrilateral(3.5,3.5,p,3.5,A,O,3.5,p,s.getX(),s.getY(),l.getX(),l.getY(),b,v,d.getX(),d.getY())}static sampleGrid(s,l,d){return Xe.getInstance().sampleGridWithTransform(s,d,d,l)}static computeDimension(s,l,d,x){const h=ue.round(W.distance(s,l)/x),p=ue.round(W.distance(s,d)/x);let b=Math.floor((h+p)/2)+7;switch(b&3){case 0:b++;break;case 2:b--;break;case 3:throw new te("Dimensions could be not found.")}return b}calculateModuleSize(s,l,d){return(this.calculateModuleSizeOneWay(s,l)+this.calculateModuleSizeOneWay(s,d))/2}calculateModuleSizeOneWay(s,l){const d=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(l.getX()),Math.floor(l.getY())),x=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(d)?x/7:isNaN(x)?d/7:(d+x)/14}sizeOfBlackWhiteBlackRunBothWays(s,l,d,x){let h=this.sizeOfBlackWhiteBlackRun(s,l,d,x),p=1,b=s-(d-s);b<0?(p=s/(s-b),b=0):b>=this.image.getWidth()&&(p=(this.image.getWidth()-1-s)/(b-s),b=this.image.getWidth()-1);let v=Math.floor(l-(x-l)*p);return p=1,v<0?(p=l/(l-v),v=0):v>=this.image.getHeight()&&(p=(this.image.getHeight()-1-l)/(v-l),v=this.image.getHeight()-1),b=Math.floor(s+(b-s)*p),h+=this.sizeOfBlackWhiteBlackRun(s,l,b,v),h-1}sizeOfBlackWhiteBlackRun(s,l,d,x){const h=Math.abs(x-l)>Math.abs(d-s);if(h){let ae=s;s=l,l=ae,ae=d,d=x,x=ae}const p=Math.abs(d-s),b=Math.abs(x-l);let v=-p/2;const A=s<d?1:-1,O=l<x?1:-1;let q=0;const Z=d+A;for(let ae=s,he=l;ae!==Z;ae+=A){const ye=h?he:ae,Ae=h?ae:he;if(q===1===this.image.get(ye,Ae)){if(q===2)return ue.distance(ae,he,s,l);q++}if(v+=b,v>0){if(he===x)break;he+=O,v-=p}}return q===2?ue.distance(d+A,x,s,l):NaN}findAlignmentInRegion(s,l,d,x){const h=Math.floor(x*s),p=Math.max(0,l-h),b=Math.min(this.image.getWidth()-1,l+h);if(b-p<s*3)throw new te("Alignment top exceeds estimated module size.");const v=Math.max(0,d-h),A=Math.min(this.image.getHeight()-1,d+h);if(A-v<s*3)throw new te("Alignment bottom exceeds estimated module size.");return new ol(this.image,p,v,b-p,A-v,s,this.resultPointCallback).find()}}class Hs{constructor(){this.decoder=new Ob}getDecoder(){return this.decoder}decode(s,l){let d,x;if(l!=null&&l.get(j.PURE_BARCODE)!==void 0){const v=Hs.extractPureBits(s.getBlackMatrix());d=this.decoder.decodeBitMatrix(v,l),x=Hs.NO_POINTS}else{const v=new Vi(s.getBlackMatrix()).detect(l);d=this.decoder.decodeBitMatrix(v.getBits(),l),x=v.getPoints()}d.getOther()instanceof Gx&&d.getOther().applyMirroredCorrection(x);const h=new Ne(d.getText(),d.getRawBytes(),void 0,x,Re.QR_CODE,void 0),p=d.getByteSegments();p!==null&&h.putMetadata(et.BYTE_SEGMENTS,p);const b=d.getECLevel();return b!==null&&h.putMetadata(et.ERROR_CORRECTION_LEVEL,b),d.hasStructuredAppend()&&(h.putMetadata(et.STRUCTURED_APPEND_SEQUENCE,d.getStructuredAppendSequenceNumber()),h.putMetadata(et.STRUCTURED_APPEND_PARITY,d.getStructuredAppendParity())),h}reset(){}static extractPureBits(s){const l=s.getTopLeftOnBit(),d=s.getBottomRightOnBit();if(l===null||d===null)throw new te;const x=this.moduleSize(l,s);let h=l[1],p=d[1],b=l[0],v=d[0];if(b>=v||h>=p)throw new te;if(p-h!==v-b&&(v=b+(p-h),v>=s.getWidth()))throw new te;const A=Math.round((v-b+1)/x),O=Math.round((p-h+1)/x);if(A<=0||O<=0)throw new te;if(O!==A)throw new te;const q=Math.floor(x/2);h+=q,b+=q;const Z=b+Math.floor((A-1)*x)-v;if(Z>0){if(Z>q)throw new te;b-=Z}const ae=h+Math.floor((O-1)*x)-p;if(ae>0){if(ae>q)throw new te;h-=ae}const he=new me(A,O);for(let ye=0;ye<O;ye++){const Ae=h+Math.floor(ye*x);for(let ke=0;ke<A;ke++)s.get(b+Math.floor(ke*x),Ae)&&he.set(ke,ye)}return he}static moduleSize(s,l){const d=l.getHeight(),x=l.getWidth();let h=s[0],p=s[1],b=!0,v=0;for(;h<x&&p<d;){if(b!==l.get(h,p)){if(++v===5)break;b=!b}h++,p++}if(h===x||p===d)throw new te;return(h-s[0])/7}}Hs.NO_POINTS=new Array;class dt{PDF417Common(){}static getBitCountSum(s){return ue.sum(s)}static toIntArray(s){if(s==null||!s.length)return dt.EMPTY_INT_ARRAY;const l=new Int32Array(s.length);let d=0;for(const x of s)l[d++]=x;return l}static getCodeword(s){const l=$.binarySearch(dt.SYMBOL_TABLE,s&262143);return l<0?-1:(dt.CODEWORD_TABLE[l]-1)%dt.NUMBER_OF_CODEWORDS}}dt.NUMBER_OF_CODEWORDS=929,dt.MAX_CODEWORDS_IN_BARCODE=dt.NUMBER_OF_CODEWORDS-1,dt.MIN_ROWS_IN_BARCODE=3,dt.MAX_ROWS_IN_BARCODE=90,dt.MODULES_IN_CODEWORD=17,dt.MODULES_IN_STOP_PATTERN=18,dt.BARS_IN_MODULE=8,dt.EMPTY_INT_ARRAY=new Int32Array([]),dt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),dt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Lb{constructor(s,l){this.bits=s,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class vt{static detectMultiple(s,l,d){let x=s.getBlackMatrix(),h=vt.detect(d,x);return h.length||(x=x.clone(),x.rotate180(),h=vt.detect(d,x)),new Lb(x,h)}static detect(s,l){const d=new Array;let x=0,h=0,p=!1;for(;x<l.getHeight();){const b=vt.findVertices(l,x,h);if(b[0]==null&&b[3]==null){if(!p)break;p=!1,h=0;for(const v of d)v[1]!=null&&(x=Math.trunc(Math.max(x,v[1].getY()))),v[3]!=null&&(x=Math.max(x,Math.trunc(v[3].getY())));x+=vt.ROW_STEP;continue}if(p=!0,d.push(b),!s)break;b[2]!=null?(h=Math.trunc(b[2].getX()),x=Math.trunc(b[2].getY())):(h=Math.trunc(b[4].getX()),x=Math.trunc(b[4].getY()))}return d}static findVertices(s,l,d){const x=s.getHeight(),h=s.getWidth(),p=new Array(8);return vt.copyToResult(p,vt.findRowsWithPattern(s,x,h,l,d,vt.START_PATTERN),vt.INDEXES_START_PATTERN),p[4]!=null&&(d=Math.trunc(p[4].getX()),l=Math.trunc(p[4].getY())),vt.copyToResult(p,vt.findRowsWithPattern(s,x,h,l,d,vt.STOP_PATTERN),vt.INDEXES_STOP_PATTERN),p}static copyToResult(s,l,d){for(let x=0;x<d.length;x++)s[d[x]]=l[x]}static findRowsWithPattern(s,l,d,x,h,p){const b=new Array(4);let v=!1;const A=new Int32Array(p.length);for(;x<l;x+=vt.ROW_STEP){let q=vt.findGuardPattern(s,h,x,d,!1,p,A);if(q!=null){for(;x>0;){const Z=vt.findGuardPattern(s,h,--x,d,!1,p,A);if(Z!=null)q=Z;else{x++;break}}b[0]=new W(q[0],x),b[1]=new W(q[1],x),v=!0;break}}let O=x+1;if(v){let q=0,Z=Int32Array.from([Math.trunc(b[0].getX()),Math.trunc(b[1].getX())]);for(;O<l;O++){const ae=vt.findGuardPattern(s,Z[0],O,d,!1,p,A);if(ae!=null&&Math.abs(Z[0]-ae[0])<vt.MAX_PATTERN_DRIFT&&Math.abs(Z[1]-ae[1])<vt.MAX_PATTERN_DRIFT)Z=ae,q=0;else{if(q>vt.SKIPPED_ROW_COUNT_MAX)break;q++}}O-=q+1,b[2]=new W(Z[0],O),b[3]=new W(Z[1],O)}return O-x<vt.BARCODE_MIN_HEIGHT&&$.fill(b,null),b}static findGuardPattern(s,l,d,x,h,p,b){$.fillWithin(b,0,b.length,0);let v=l,A=0;for(;s.get(v,d)&&v>0&&A++<vt.MAX_PIXEL_DRIFT;)v--;let O=v,q=0,Z=p.length;for(let ae=h;O<x;O++)if(s.get(O,d)!==ae)b[q]++;else{if(q===Z-1){if(vt.patternMatchVariance(b,p,vt.MAX_INDIVIDUAL_VARIANCE)<vt.MAX_AVG_VARIANCE)return new Int32Array([v,O]);v+=b[0]+b[1],D.arraycopy(b,2,b,0,q-1),b[q-1]=0,b[q]=0,q--}else q++;b[q]=1,ae=!ae}return q===Z-1&&vt.patternMatchVariance(b,p,vt.MAX_INDIVIDUAL_VARIANCE)<vt.MAX_AVG_VARIANCE?new Int32Array([v,O-1]):null}static patternMatchVariance(s,l,d){let x=s.length,h=0,p=0;for(let A=0;A<x;A++)h+=s[A],p+=l[A];if(h<p)return 1/0;let b=h/p;d*=b;let v=0;for(let A=0;A<x;A++){let O=s[A],q=l[A]*b,Z=O>q?O-q:q-O;if(Z>d)return 1/0;v+=Z}return v/h}}vt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),vt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),vt.MAX_AVG_VARIANCE=.42,vt.MAX_INDIVIDUAL_VARIANCE=.8,vt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),vt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),vt.MAX_PIXEL_DRIFT=3,vt.MAX_PATTERN_DRIFT=5,vt.SKIPPED_ROW_COUNT_MAX=25,vt.ROW_STEP=5,vt.BARCODE_MIN_HEIGHT=10;class Sn{constructor(s,l){if(l.length===0)throw new y;this.field=s;let d=l.length;if(d>1&&l[0]===0){let x=1;for(;x<d&&l[x]===0;)x++;x===d?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(d-x),D.arraycopy(l,x,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let x=0;for(let h of this.coefficients)x=this.field.add(x,h);return x}let l=this.coefficients[0],d=this.coefficients.length;for(let x=1;x<d;x++)l=this.field.add(this.field.multiply(s,l),this.coefficients[x]);return l}add(s){if(!this.field.equals(s.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let l=this.coefficients,d=s.coefficients;if(l.length>d.length){let p=l;l=d,d=p}let x=new Int32Array(d.length),h=d.length-l.length;D.arraycopy(d,0,x,0,h);for(let p=h;p<d.length;p++)x[p]=this.field.add(l[p-h],d[p]);return new Sn(this.field,x)}subtract(s){if(!this.field.equals(s.field))throw new y("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof Sn?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new Sn(this.field,new Int32Array([0]));let l=this.coefficients,d=l.length,x=s.coefficients,h=x.length,p=new Int32Array(d+h-1);for(let b=0;b<d;b++){let v=l[b];for(let A=0;A<h;A++)p[b+A]=this.field.add(p[b+A],this.field.multiply(v,x[A]))}return new Sn(this.field,p)}negative(){let s=this.coefficients.length,l=new Int32Array(s);for(let d=0;d<s;d++)l[d]=this.field.subtract(0,this.coefficients[d]);return new Sn(this.field,l)}multiplyScalar(s){if(s===0)return new Sn(this.field,new Int32Array([0]));if(s===1)return this;let l=this.coefficients.length,d=new Int32Array(l);for(let x=0;x<l;x++)d[x]=this.field.multiply(this.coefficients[x],s);return new Sn(this.field,d)}multiplyByMonomial(s,l){if(s<0)throw new y;if(l===0)return new Sn(this.field,new Int32Array([0]));let d=this.coefficients.length,x=new Int32Array(d+s);for(let h=0;h<d;h++)x[h]=this.field.multiply(this.coefficients[h],l);return new Sn(this.field,x)}toString(){let s=new ce;for(let l=this.getDegree();l>=0;l--){let d=this.getCoefficient(l);d!==0&&(d<0?(s.append(" - "),d=-d):s.length()>0&&s.append(" + "),(l===0||d!==1)&&s.append(d),l!==0&&(l===1?s.append("x"):(s.append("x^"),s.append(l))))}return s.toString()}}class $b{add(s,l){return(s+l)%this.modulus}subtract(s,l){return(this.modulus+s-l)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new y;return this.logTable[s]}inverse(s){if(s===0)throw new X;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,l){return s===0||l===0?0:this.expTable[(this.logTable[s]+this.logTable[l])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class sc extends $b{constructor(s,l){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let d=1;for(let x=0;x<s;x++)this.expTable[x]=d,d=d*l%s;for(let x=0;x<s-1;x++)this.logTable[this.expTable[x]]=x;this.zero=new Sn(this,new Int32Array([0])),this.one=new Sn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,l){if(s<0)throw new y;if(l===0)return this.zero;let d=new Int32Array(s+1);return d[0]=l,new Sn(this,d)}}sc.PDF417_GF=new sc(dt.NUMBER_OF_CODEWORDS,3);class Qx{constructor(){this.field=sc.PDF417_GF}decode(s,l,d){let x=new Sn(this.field,s),h=new Int32Array(l),p=!1;for(let he=l;he>0;he--){let ye=x.evaluateAt(this.field.exp(he));h[l-he]=ye,ye!==0&&(p=!0)}if(!p)return 0;let b=this.field.getOne();if(d!=null)for(const he of d){let ye=this.field.exp(s.length-1-he),Ae=new Sn(this.field,new Int32Array([this.field.subtract(0,ye),1]));b=b.multiply(Ae)}let v=new Sn(this.field,h),A=this.runEuclideanAlgorithm(this.field.buildMonomial(l,1),v,l),O=A[0],q=A[1],Z=this.findErrorLocations(O),ae=this.findErrorMagnitudes(q,O,Z);for(let he=0;he<Z.length;he++){let ye=s.length-1-this.field.log(Z[he]);if(ye<0)throw E.getChecksumInstance();s[ye]=this.field.subtract(s[ye],ae[he])}return Z.length}runEuclideanAlgorithm(s,l,d){if(s.getDegree()<l.getDegree()){let Z=s;s=l,l=Z}let x=s,h=l,p=this.field.getZero(),b=this.field.getOne();for(;h.getDegree()>=Math.round(d/2);){let Z=x,ae=p;if(x=h,p=b,x.isZero())throw E.getChecksumInstance();h=Z;let he=this.field.getZero(),ye=x.getCoefficient(x.getDegree()),Ae=this.field.inverse(ye);for(;h.getDegree()>=x.getDegree()&&!h.isZero();){let ke=h.getDegree()-x.getDegree(),He=this.field.multiply(h.getCoefficient(h.getDegree()),Ae);he=he.add(this.field.buildMonomial(ke,He)),h=h.subtract(x.multiplyByMonomial(ke,He))}b=he.multiply(p).subtract(ae).negative()}let v=b.getCoefficient(0);if(v===0)throw E.getChecksumInstance();let A=this.field.inverse(v),O=b.multiply(A),q=h.multiply(A);return[O,q]}findErrorLocations(s){let l=s.getDegree(),d=new Int32Array(l),x=0;for(let h=1;h<this.field.getSize()&&x<l;h++)s.evaluateAt(h)===0&&(d[x]=this.field.inverse(h),x++);if(x!==l)throw E.getChecksumInstance();return d}findErrorMagnitudes(s,l,d){let x=l.getDegree(),h=new Int32Array(x);for(let A=1;A<=x;A++)h[x-A]=this.field.multiply(A,l.getCoefficient(A));let p=new Sn(this.field,h),b=d.length,v=new Int32Array(b);for(let A=0;A<b;A++){let O=this.field.inverse(d[A]),q=this.field.subtract(0,s.evaluateAt(O)),Z=this.field.inverse(p.evaluateAt(O));v[A]=this.field.multiply(q,Z)}return v}}class vo{constructor(s,l,d,x,h){s instanceof vo?this.constructor_2(s):this.constructor_1(s,l,d,x,h)}constructor_1(s,l,d,x,h){const p=l==null||d==null,b=x==null||h==null;if(p&&b)throw new te;p?(l=new W(0,x.getY()),d=new W(0,h.getY())):b&&(x=new W(s.getWidth()-1,l.getY()),h=new W(s.getWidth()-1,d.getY())),this.image=s,this.topLeft=l,this.bottomLeft=d,this.topRight=x,this.bottomRight=h,this.minX=Math.trunc(Math.min(l.getX(),d.getX())),this.maxX=Math.trunc(Math.max(x.getX(),h.getX())),this.minY=Math.trunc(Math.min(l.getY(),x.getY())),this.maxY=Math.trunc(Math.max(d.getY(),h.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,l){return s==null?l:l==null?s:new vo(s.image,s.topLeft,s.bottomLeft,l.topRight,l.bottomRight)}addMissingRows(s,l,d){let x=this.topLeft,h=this.bottomLeft,p=this.topRight,b=this.bottomRight;if(s>0){let v=d?this.topLeft:this.topRight,A=Math.trunc(v.getY()-s);A<0&&(A=0);let O=new W(v.getX(),A);d?x=O:p=O}if(l>0){let v=d?this.bottomLeft:this.bottomRight,A=Math.trunc(v.getY()+l);A>=this.image.getHeight()&&(A=this.image.getHeight()-1);let O=new W(v.getX(),A);d?h=O:b=O}return new vo(this.image,x,h,p,b)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class jb{constructor(s,l,d,x){this.columnCount=s,this.errorCorrectionLevel=x,this.rowCountUpperPart=l,this.rowCountLowerPart=d,this.rowCount=l+d}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class qi{constructor(){this.buffer=""}static form(s,l){let d=-1;function x(p,b,v,A,O,q){if(p==="%%")return"%";if(l[++d]===void 0)return;p=A?parseInt(A.substr(1)):void 0;let Z=O?parseInt(O.substr(1)):void 0,ae;switch(q){case"s":ae=l[d];break;case"c":ae=l[d][0];break;case"f":ae=parseFloat(l[d]).toFixed(p);break;case"p":ae=parseFloat(l[d]).toPrecision(p);break;case"e":ae=parseFloat(l[d]).toExponential(p);break;case"x":ae=parseInt(l[d]).toString(Z||16);break;case"d":ae=parseFloat(parseInt(l[d],Z||10).toPrecision(p)).toFixed(0);break}ae=typeof ae=="object"?JSON.stringify(ae):(+ae).toString(Z);let he=parseInt(v),ye=v&&v[0]+""=="0"?"0":" ";for(;ae.length<he;)ae=b!==void 0?ae+ye:ye+ae;return ae}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(h,x)}format(s,...l){this.buffer+=qi.form(s,l)}toString(){return this.buffer}}class Wi{constructor(s){this.boundingBox=new vo(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let l=this.getCodeword(s);if(l!=null)return l;for(let d=1;d<Wi.MAX_NEARBY_DISTANCE;d++){let x=this.imageRowToCodewordIndex(s)-d;if(x>=0&&(l=this.codewords[x],l!=null)||(x=this.imageRowToCodewordIndex(s)+d,x<this.codewords.length&&(l=this.codewords[x],l!=null)))return l}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,l){this.codewords[this.imageRowToCodewordIndex(s)]=l}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new qi;let l=0;for(const d of this.codewords){if(d==null){s.format("%3d:    |   %n",l++);continue}s.format("%3d: %3d|%3d%n",l++,d.getRowNumber(),d.getValue())}return s.toString()}}Wi.MAX_NEARBY_DISTANCE=5;class Gi{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let l=this.values.get(s);l==null&&(l=0),l++,this.values.set(s,l)}getValue(){let s=-1,l=new Array;for(const[d,x]of this.values.entries()){const h={getKey:()=>d,getValue:()=>x};h.getValue()>s?(s=h.getValue(),l=[],l.push(h.getKey())):h.getValue()===s&&l.push(h.getKey())}return dt.toIntArray(l)}getConfidence(s){return this.values.get(s)}}class Kx extends Wi{constructor(s,l){super(s),this._isLeft=l}setRowNumbers(){for(let s of this.getCodewords())s?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let l=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(l,s);let d=this.getBoundingBox(),x=this._isLeft?d.getTopLeft():d.getTopRight(),h=this._isLeft?d.getBottomLeft():d.getBottomRight(),p=this.imageRowToCodewordIndex(Math.trunc(x.getY())),b=this.imageRowToCodewordIndex(Math.trunc(h.getY())),v=-1,A=1,O=0;for(let q=p;q<b;q++){if(l[q]==null)continue;let Z=l[q],ae=Z.getRowNumber()-v;if(ae===0)O++;else if(ae===1)A=Math.max(A,O),O=1,v=Z.getRowNumber();else if(ae<0||Z.getRowNumber()>=s.getRowCount()||ae>q)l[q]=null;else{let he;A>2?he=(A-2)*ae:he=ae;let ye=he>=q;for(let Ae=1;Ae<=he&&!ye;Ae++)ye=l[q-Ae]!=null;ye?l[q]=null:(v=Z.getRowNumber(),O=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let l=new Int32Array(s.getRowCount());for(let d of this.getCodewords())if(d!=null){let x=d.getRowNumber();if(x>=l.length)continue;l[x]++}return l}adjustIncompleteIndicatorColumnRowNumbers(s){let l=this.getBoundingBox(),d=this._isLeft?l.getTopLeft():l.getTopRight(),x=this._isLeft?l.getBottomLeft():l.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(d.getY())),p=this.imageRowToCodewordIndex(Math.trunc(x.getY())),b=this.getCodewords(),v=-1;for(let A=h;A<p;A++){if(b[A]==null)continue;let O=b[A];O.setRowNumberAsRowIndicatorColumn();let q=O.getRowNumber()-v;q===0||(q===1?v=O.getRowNumber():O.getRowNumber()>=s.getRowCount()?b[A]=null:v=O.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),l=new Gi,d=new Gi,x=new Gi,h=new Gi;for(let b of s){if(b==null)continue;b.setRowNumberAsRowIndicatorColumn();let v=b.getValue()%30,A=b.getRowNumber();switch(this._isLeft||(A+=2),A%3){case 0:d.setValue(v*3+1);break;case 1:h.setValue(v/3),x.setValue(v%3);break;case 2:l.setValue(v+1);break}}if(l.getValue().length===0||d.getValue().length===0||x.getValue().length===0||h.getValue().length===0||l.getValue()[0]<1||d.getValue()[0]+x.getValue()[0]<dt.MIN_ROWS_IN_BARCODE||d.getValue()[0]+x.getValue()[0]>dt.MAX_ROWS_IN_BARCODE)return null;let p=new jb(l.getValue()[0],d.getValue()[0],x.getValue()[0],h.getValue()[0]);return this.removeIncorrectCodewords(s,p),p}removeIncorrectCodewords(s,l){for(let d=0;d<s.length;d++){let x=s[d];if(s[d]==null)continue;let h=x.getValue()%30,p=x.getRowNumber();if(p>l.getRowCount()){s[d]=null;continue}switch(this._isLeft||(p+=2),p%3){case 0:h*3+1!==l.getRowCountUpperPart()&&(s[d]=null);break;case 1:(Math.trunc(h/3)!==l.getErrorCorrectionLevel()||h%3!==l.getRowCountLowerPart())&&(s[d]=null);break;case 2:h+1!==l.getColumnCount()&&(s[d]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Qi{constructor(s,l){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=l,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=dt.MAX_CODEWORDS_IN_BARCODE,l;do l=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<l);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let l=1;l<this.barcodeColumnCount+1;l++){let d=this.detectionResultColumns[l].getCodewords();for(let x=0;x<d.length;x++)d[x]!=null&&(d[x].hasValidRowNumber()||this.adjustRowNumbers(l,x,d))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let d=0;d<s.length;d++)if(s[d]!=null&&l[d]!=null&&s[d].getRowNumber()===l[d].getRowNumber())for(let x=1;x<=this.barcodeColumnCount;x++){let h=this.detectionResultColumns[x].getCodewords()[d];h!=null&&(h.setRowNumber(s[d].getRowNumber()),h.hasValidRowNumber()||(this.detectionResultColumns[x].getCodewords()[d]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let d=0;d<l.length;d++){if(l[d]==null)continue;let x=l[d].getRowNumber(),h=0;for(let p=this.barcodeColumnCount+1;p>0&&h<this.ADJUST_ROW_NUMBER_SKIP;p--){let b=this.detectionResultColumns[p].getCodewords()[d];b!=null&&(h=Qi.adjustRowNumberIfValid(x,h,b),b.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,l=this.detectionResultColumns[0].getCodewords();for(let d=0;d<l.length;d++){if(l[d]==null)continue;let x=l[d].getRowNumber(),h=0;for(let p=1;p<this.barcodeColumnCount+1&&h<this.ADJUST_ROW_NUMBER_SKIP;p++){let b=this.detectionResultColumns[p].getCodewords()[d];b!=null&&(h=Qi.adjustRowNumberIfValid(x,h,b),b.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,l,d){return d==null||d.hasValidRowNumber()||(d.isValidRowNumber(s)?(d.setRowNumber(s),l=0):++l),l}adjustRowNumbers(s,l,d){if(!this.detectionResultColumns[s-1])return;let x=d[l],h=this.detectionResultColumns[s-1].getCodewords(),p=h;this.detectionResultColumns[s+1]!=null&&(p=this.detectionResultColumns[s+1].getCodewords());let b=new Array(14);b[2]=h[l],b[3]=p[l],l>0&&(b[0]=d[l-1],b[4]=h[l-1],b[5]=p[l-1]),l>1&&(b[8]=d[l-2],b[10]=h[l-2],b[11]=p[l-2]),l<d.length-1&&(b[1]=d[l+1],b[6]=h[l+1],b[7]=p[l+1]),l<d.length-2&&(b[9]=d[l+2],b[12]=h[l+2],b[13]=p[l+2]);for(let v of b)if(Qi.adjustRowNumber(x,v))return}static adjustRowNumber(s,l){return l==null?!1:l.hasValidRowNumber()&&l.getBucket()===s.getBucket()?(s.setRowNumber(l.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,l){this.detectionResultColumns[s]=l}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let l=new qi;for(let d=0;d<s.getCodewords().length;d++){l.format("CW %3d:",d);for(let x=0;x<this.barcodeColumnCount+2;x++){if(this.detectionResultColumns[x]==null){l.format("    |   ");continue}let h=this.detectionResultColumns[x].getCodewords()[d];if(h==null){l.format("    |   ");continue}l.format(" %3d|%3d",h.getRowNumber(),h.getValue())}l.format("%n")}return l.toString()}}class Ki{constructor(s,l,d,x){this.rowNumber=Ki.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(l),this.bucket=Math.trunc(d),this.value=Math.trunc(x)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==Ki.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}Ki.BARCODE_ROW_UNKNOWN=-1;class Jn{static initialize(){for(let s=0;s<dt.SYMBOL_TABLE.length;s++){let l=dt.SYMBOL_TABLE[s],d=l&1;for(let x=0;x<dt.BARS_IN_MODULE;x++){let h=0;for(;(l&1)===d;)h+=1,l>>=1;d=l&1,Jn.RATIOS_TABLE[s]||(Jn.RATIOS_TABLE[s]=new Array(dt.BARS_IN_MODULE)),Jn.RATIOS_TABLE[s][dt.BARS_IN_MODULE-x-1]=Math.fround(h/dt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let l=Jn.getDecodedCodewordValue(Jn.sampleBitCounts(s));return l!==-1?l:Jn.getClosestDecodedValue(s)}static sampleBitCounts(s){let l=ue.sum(s),d=new Int32Array(dt.BARS_IN_MODULE),x=0,h=0;for(let p=0;p<dt.MODULES_IN_CODEWORD;p++){let b=l/(2*dt.MODULES_IN_CODEWORD)+p*l/dt.MODULES_IN_CODEWORD;h+s[x]<=b&&(h+=s[x],x++),d[x]++}return d}static getDecodedCodewordValue(s){let l=Jn.getBitValue(s);return dt.getCodeword(l)===-1?-1:l}static getBitValue(s){let l=0;for(let d=0;d<s.length;d++)for(let x=0;x<s[d];x++)l=l<<1|(d%2===0?1:0);return Math.trunc(l)}static getClosestDecodedValue(s){let l=ue.sum(s),d=new Array(dt.BARS_IN_MODULE);if(l>1)for(let p=0;p<d.length;p++)d[p]=Math.fround(s[p]/l);let x=ie.MAX_VALUE,h=-1;this.bSymbolTableReady||Jn.initialize();for(let p=0;p<Jn.RATIOS_TABLE.length;p++){let b=0,v=Jn.RATIOS_TABLE[p];for(let A=0;A<dt.BARS_IN_MODULE;A++){let O=Math.fround(v[A]-d[A]);if(b+=Math.fround(O*O),b>=x)break}b<x&&(x=b,h=dt.SYMBOL_TABLE[p])}return h}}Jn.bSymbolTableReady=!1,Jn.RATIOS_TABLE=new Array(dt.SYMBOL_TABLE.length).map(H=>new Array(dt.BARS_IN_MODULE));class Yx{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class Xx{static parseLong(s,l=void 0){return parseInt(s,l)}}class Zx extends f{}Zx.kind="NullPointerException";class Ub{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,l,d){if(s==null)throw new Zx;if(l<0||l>s.length||d<0||l+d>s.length||l+d<0)throw new _;if(d===0)return;for(let x=0;x<d;x++)this.write(s[l+x])}flush(){}close(){}}class Hb extends f{}class zb extends Ub{constructor(s=32){if(super(),this.count=0,s<0)throw new y("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let d=this.buf.length<<1;if(d-s<0&&(d=s),d<0){if(s<0)throw new Hb;d=I.MAX_VALUE}this.buf=$.copyOfUint8Array(this.buf,d)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,l,d){if(l<0||l>s.length||d<0||l+d-s.length>0)throw new _;this.ensureCapacity(this.count+d),D.arraycopy(s,l,this.buf,this.count,d),this.count+=d}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return $.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var zt;(function(H){H[H.ALPHA=0]="ALPHA",H[H.LOWER=1]="LOWER",H[H.MIXED=2]="MIXED",H[H.PUNCT=3]="PUNCT",H[H.ALPHA_SHIFT=4]="ALPHA_SHIFT",H[H.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(zt||(zt={}));function Jx(){if(typeof window<"u")return window.BigInt||null;if(typeof pi<"u")return pi.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let il;function zs(H){if(typeof il>"u"&&(il=Jx()),il===null)throw new Error("BigInt is not supported!");return il(H)}function Vb(){let H=[];H[0]=zs(1);let s=zs(900);H[1]=s;for(let l=2;l<16;l++)H[l]=H[l-1]*s;return H}class _e{static decode(s,l){let d=new ce(""),x=F.ISO8859_1;d.enableDecoding(x);let h=1,p=s[h++],b=new Yx;for(;h<s[0];){switch(p){case _e.TEXT_COMPACTION_MODE_LATCH:h=_e.textCompaction(s,h,d);break;case _e.BYTE_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH_6:h=_e.byteCompaction(p,s,x,h,d);break;case _e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(s[h++]);break;case _e.NUMERIC_COMPACTION_MODE_LATCH:h=_e.numericCompaction(s,h,d);break;case _e.ECI_CHARSET:F.getCharacterSetECIByValue(s[h++]);break;case _e.ECI_GENERAL_PURPOSE:h+=2;break;case _e.ECI_USER_DEFINED:h++;break;case _e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:h=_e.decodeMacroBlock(s,h,b);break;case _e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case _e.MACRO_PDF417_TERMINATOR:throw new L;default:h--,h=_e.textCompaction(s,h,d);break}if(h<s.length)p=s[h++];else throw L.getFormatInstance()}if(d.length()===0)throw L.getFormatInstance();let v=new st(null,d.toString(),null,l);return v.setOther(b),v}static decodeMacroBlock(s,l,d){if(l+_e.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw L.getFormatInstance();let x=new Int32Array(_e.NUMBER_OF_SEQUENCE_CODEWORDS);for(let b=0;b<_e.NUMBER_OF_SEQUENCE_CODEWORDS;b++,l++)x[b]=s[l];d.setSegmentIndex(I.parseInt(_e.decodeBase900toBase10(x,_e.NUMBER_OF_SEQUENCE_CODEWORDS)));let h=new ce;l=_e.textCompaction(s,l,h),d.setFileId(h.toString());let p=-1;for(s[l]===_e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(p=l+1);l<s[0];)switch(s[l]){case _e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(l++,s[l]){case _e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let b=new ce;l=_e.textCompaction(s,l+1,b),d.setFileName(b.toString());break;case _e.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let v=new ce;l=_e.textCompaction(s,l+1,v),d.setSender(v.toString());break;case _e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let A=new ce;l=_e.textCompaction(s,l+1,A),d.setAddressee(A.toString());break;case _e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let O=new ce;l=_e.numericCompaction(s,l+1,O),d.setSegmentCount(I.parseInt(O.toString()));break;case _e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let q=new ce;l=_e.numericCompaction(s,l+1,q),d.setTimestamp(Xx.parseLong(q.toString()));break;case _e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let Z=new ce;l=_e.numericCompaction(s,l+1,Z),d.setChecksum(I.parseInt(Z.toString()));break;case _e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let ae=new ce;l=_e.numericCompaction(s,l+1,ae),d.setFileSize(Xx.parseLong(ae.toString()));break;default:throw L.getFormatInstance()}break;case _e.MACRO_PDF417_TERMINATOR:l++,d.setLastSegment(!0);break;default:throw L.getFormatInstance()}if(p!==-1){let b=l-p;d.isLastSegment()&&b--,d.setOptionalData($.copyOfRange(s,p,p+b))}return l}static textCompaction(s,l,d){let x=new Int32Array((s[0]-l)*2),h=new Int32Array((s[0]-l)*2),p=0,b=!1;for(;l<s[0]&&!b;){let v=s[l++];if(v<_e.TEXT_COMPACTION_MODE_LATCH)x[p]=v/30,x[p+1]=v%30,p+=2;else switch(v){case _e.TEXT_COMPACTION_MODE_LATCH:x[p++]=_e.TEXT_COMPACTION_MODE_LATCH;break;case _e.BYTE_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH_6:case _e.NUMERIC_COMPACTION_MODE_LATCH:case _e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case _e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case _e.MACRO_PDF417_TERMINATOR:l--,b=!0;break;case _e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x[p]=_e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,v=s[l++],h[p]=v,p++;break}}return _e.decodeTextCompaction(x,h,p,d),l}static decodeTextCompaction(s,l,d,x){let h=zt.ALPHA,p=zt.ALPHA,b=0;for(;b<d;){let v=s[b],A="";switch(h){case zt.ALPHA:if(v<26)A=String.fromCharCode(65+v);else switch(v){case 26:A=" ";break;case _e.LL:h=zt.LOWER;break;case _e.ML:h=zt.MIXED;break;case _e.PS:p=h,h=zt.PUNCT_SHIFT;break;case _e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(l[b]);break;case _e.TEXT_COMPACTION_MODE_LATCH:h=zt.ALPHA;break}break;case zt.LOWER:if(v<26)A=String.fromCharCode(97+v);else switch(v){case 26:A=" ";break;case _e.AS:p=h,h=zt.ALPHA_SHIFT;break;case _e.ML:h=zt.MIXED;break;case _e.PS:p=h,h=zt.PUNCT_SHIFT;break;case _e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(l[b]);break;case _e.TEXT_COMPACTION_MODE_LATCH:h=zt.ALPHA;break}break;case zt.MIXED:if(v<_e.PL)A=_e.MIXED_CHARS[v];else switch(v){case _e.PL:h=zt.PUNCT;break;case 26:A=" ";break;case _e.LL:h=zt.LOWER;break;case _e.AL:h=zt.ALPHA;break;case _e.PS:p=h,h=zt.PUNCT_SHIFT;break;case _e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(l[b]);break;case _e.TEXT_COMPACTION_MODE_LATCH:h=zt.ALPHA;break}break;case zt.PUNCT:if(v<_e.PAL)A=_e.PUNCT_CHARS[v];else switch(v){case _e.PAL:h=zt.ALPHA;break;case _e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(l[b]);break;case _e.TEXT_COMPACTION_MODE_LATCH:h=zt.ALPHA;break}break;case zt.ALPHA_SHIFT:if(h=p,v<26)A=String.fromCharCode(65+v);else switch(v){case 26:A=" ";break;case _e.TEXT_COMPACTION_MODE_LATCH:h=zt.ALPHA;break}break;case zt.PUNCT_SHIFT:if(h=p,v<_e.PAL)A=_e.PUNCT_CHARS[v];else switch(v){case _e.PAL:h=zt.ALPHA;break;case _e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:x.append(l[b]);break;case _e.TEXT_COMPACTION_MODE_LATCH:h=zt.ALPHA;break}break}A!==""&&x.append(A),b++}}static byteCompaction(s,l,d,x,h){let p=new zb,b=0,v=0,A=!1;switch(s){case _e.BYTE_COMPACTION_MODE_LATCH:let O=new Int32Array(6),q=l[x++];for(;x<l[0]&&!A;)switch(O[b++]=q,v=900*v+q,q=l[x++],q){case _e.TEXT_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH:case _e.NUMERIC_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH_6:case _e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case _e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case _e.MACRO_PDF417_TERMINATOR:x--,A=!0;break;default:if(b%5===0&&b>0){for(let Z=0;Z<6;++Z)p.write(Number(zs(v)>>zs(8*(5-Z))));v=0,b=0}break}x===l[0]&&q<_e.TEXT_COMPACTION_MODE_LATCH&&(O[b++]=q);for(let Z=0;Z<b;Z++)p.write(O[Z]);break;case _e.BYTE_COMPACTION_MODE_LATCH_6:for(;x<l[0]&&!A;){let Z=l[x++];if(Z<_e.TEXT_COMPACTION_MODE_LATCH)b++,v=900*v+Z;else switch(Z){case _e.TEXT_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH:case _e.NUMERIC_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH_6:case _e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case _e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case _e.MACRO_PDF417_TERMINATOR:x--,A=!0;break}if(b%5===0&&b>0){for(let ae=0;ae<6;++ae)p.write(Number(zs(v)>>zs(8*(5-ae))));v=0,b=0}}break}return h.append(le.decode(p.toByteArray(),d)),x}static numericCompaction(s,l,d){let x=0,h=!1,p=new Int32Array(_e.MAX_NUMERIC_CODEWORDS);for(;l<s[0]&&!h;){let b=s[l++];if(l===s[0]&&(h=!0),b<_e.TEXT_COMPACTION_MODE_LATCH)p[x]=b,x++;else switch(b){case _e.TEXT_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH:case _e.BYTE_COMPACTION_MODE_LATCH_6:case _e.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case _e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case _e.MACRO_PDF417_TERMINATOR:l--,h=!0;break}(x%_e.MAX_NUMERIC_CODEWORDS===0||b===_e.NUMERIC_COMPACTION_MODE_LATCH||h)&&x>0&&(d.append(_e.decodeBase900toBase10(p,x)),x=0)}return l}static decodeBase900toBase10(s,l){let d=zs(0);for(let h=0;h<l;h++)d+=_e.EXP900[l-h-1]*zs(s[h]);let x=d.toString();if(x.charAt(0)!=="1")throw new L;return x.substring(1)}}_e.TEXT_COMPACTION_MODE_LATCH=900,_e.BYTE_COMPACTION_MODE_LATCH=901,_e.NUMERIC_COMPACTION_MODE_LATCH=902,_e.BYTE_COMPACTION_MODE_LATCH_6=924,_e.ECI_USER_DEFINED=925,_e.ECI_GENERAL_PURPOSE=926,_e.ECI_CHARSET=927,_e.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,_e.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,_e.MACRO_PDF417_TERMINATOR=922,_e.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,_e.MAX_NUMERIC_CODEWORDS=15,_e.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,_e.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,_e.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,_e.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,_e.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,_e.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,_e.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,_e.PL=25,_e.LL=27,_e.AS=27,_e.ML=28,_e.AL=28,_e.PS=29,_e.PAL=29,_e.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,_e.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",_e.EXP900=Jx()?Vb():[],_e.NUMBER_OF_SEQUENCE_CODEWORDS=2;class wt{constructor(){}static decode(s,l,d,x,h,p,b){let v=new vo(s,l,d,x,h),A=null,O=null,q;for(let he=!0;;he=!1){if(l!=null&&(A=wt.getRowIndicatorColumn(s,v,l,!0,p,b)),x!=null&&(O=wt.getRowIndicatorColumn(s,v,x,!1,p,b)),q=wt.merge(A,O),q==null)throw te.getNotFoundInstance();let ye=q.getBoundingBox();if(he&&ye!=null&&(ye.getMinY()<v.getMinY()||ye.getMaxY()>v.getMaxY()))v=ye;else break}q.setBoundingBox(v);let Z=q.getBarcodeColumnCount()+1;q.setDetectionResultColumn(0,A),q.setDetectionResultColumn(Z,O);let ae=A!=null;for(let he=1;he<=Z;he++){let ye=ae?he:Z-he;if(q.getDetectionResultColumn(ye)!==void 0)continue;let Ae;ye===0||ye===Z?Ae=new Kx(v,ye===0):Ae=new Wi(v),q.setDetectionResultColumn(ye,Ae);let ke=-1,He=ke;for(let ze=v.getMinY();ze<=v.getMaxY();ze++){if(ke=wt.getStartColumn(q,ye,ze,ae),ke<0||ke>v.getMaxX()){if(He===-1)continue;ke=He}let je=wt.detectCodeword(s,v.getMinX(),v.getMaxX(),ae,ke,ze,p,b);je!=null&&(Ae.setCodeword(ze,je),He=ke,p=Math.min(p,je.getWidth()),b=Math.max(b,je.getWidth()))}}return wt.createDecoderResult(q)}static merge(s,l){if(s==null&&l==null)return null;let d=wt.getBarcodeMetadata(s,l);if(d==null)return null;let x=vo.merge(wt.adjustBoundingBox(s),wt.adjustBoundingBox(l));return new Qi(d,x)}static adjustBoundingBox(s){if(s==null)return null;let l=s.getRowHeights();if(l==null)return null;let d=wt.getMax(l),x=0;for(let b of l)if(x+=d-b,b>0)break;let h=s.getCodewords();for(let b=0;x>0&&h[b]==null;b++)x--;let p=0;for(let b=l.length-1;b>=0&&(p+=d-l[b],!(l[b]>0));b--);for(let b=h.length-1;p>0&&h[b]==null;b--)p--;return s.getBoundingBox().addMissingRows(x,p,s.isLeft())}static getMax(s){let l=-1;for(let d of s)l=Math.max(l,d);return l}static getBarcodeMetadata(s,l){let d;if(s==null||(d=s.getBarcodeMetadata())==null)return l==null?null:l.getBarcodeMetadata();let x;return l==null||(x=l.getBarcodeMetadata())==null?d:d.getColumnCount()!==x.getColumnCount()&&d.getErrorCorrectionLevel()!==x.getErrorCorrectionLevel()&&d.getRowCount()!==x.getRowCount()?null:d}static getRowIndicatorColumn(s,l,d,x,h,p){let b=new Kx(l,x);for(let v=0;v<2;v++){let A=v===0?1:-1,O=Math.trunc(Math.trunc(d.getX()));for(let q=Math.trunc(Math.trunc(d.getY()));q<=l.getMaxY()&&q>=l.getMinY();q+=A){let Z=wt.detectCodeword(s,0,s.getWidth(),x,O,q,h,p);Z!=null&&(b.setCodeword(q,Z),x?O=Z.getStartX():O=Z.getEndX())}}return b}static adjustCodewordCount(s,l){let d=l[0][1],x=d.getValue(),h=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-wt.getNumberOfECCodeWords(s.getBarcodeECLevel());if(x.length===0){if(h<1||h>dt.MAX_CODEWORDS_IN_BARCODE)throw te.getNotFoundInstance();d.setValue(h)}else x[0]!==h&&d.setValue(h)}static createDecoderResult(s){let l=wt.createBarcodeMatrix(s);wt.adjustCodewordCount(s,l);let d=new Array,x=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),h=[],p=new Array;for(let v=0;v<s.getBarcodeRowCount();v++)for(let A=0;A<s.getBarcodeColumnCount();A++){let O=l[v][A+1].getValue(),q=v*s.getBarcodeColumnCount()+A;O.length===0?d.push(q):O.length===1?x[q]=O[0]:(p.push(q),h.push(O))}let b=new Array(h.length);for(let v=0;v<b.length;v++)b[v]=h[v];return wt.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),x,dt.toIntArray(d),dt.toIntArray(p),b)}static createDecoderResultFromAmbiguousValues(s,l,d,x,h){let p=new Int32Array(x.length),b=100;for(;b-- >0;){for(let v=0;v<p.length;v++)l[x[v]]=h[v][p[v]];try{return wt.decodeCodewords(l,s,d)}catch(v){if(!(v instanceof E))throw v}if(p.length===0)throw E.getChecksumInstance();for(let v=0;v<p.length;v++)if(p[v]<h[v].length-1){p[v]++;break}else if(p[v]=0,v===p.length-1)throw E.getChecksumInstance()}throw E.getChecksumInstance()}static createBarcodeMatrix(s){let l=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let x=0;x<l.length;x++)for(let h=0;h<l[x].length;h++)l[x][h]=new Gi;let d=0;for(let x of s.getDetectionResultColumns()){if(x!=null){for(let h of x.getCodewords())if(h!=null){let p=h.getRowNumber();if(p>=0){if(p>=l.length)continue;l[p][d].setValue(h.getValue())}}}d++}return l}static isValidBarcodeColumn(s,l){return l>=0&&l<=s.getBarcodeColumnCount()+1}static getStartColumn(s,l,d,x){let h=x?1:-1,p=null;if(wt.isValidBarcodeColumn(s,l-h)&&(p=s.getDetectionResultColumn(l-h).getCodeword(d)),p!=null)return x?p.getEndX():p.getStartX();if(p=s.getDetectionResultColumn(l).getCodewordNearby(d),p!=null)return x?p.getStartX():p.getEndX();if(wt.isValidBarcodeColumn(s,l-h)&&(p=s.getDetectionResultColumn(l-h).getCodewordNearby(d)),p!=null)return x?p.getEndX():p.getStartX();let b=0;for(;wt.isValidBarcodeColumn(s,l-h);){l-=h;for(let v of s.getDetectionResultColumn(l).getCodewords())if(v!=null)return(x?v.getEndX():v.getStartX())+h*b*(v.getEndX()-v.getStartX());b++}return x?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,l,d,x,h,p,b,v){h=wt.adjustCodewordStartColumn(s,l,d,x,h,p);let A=wt.getModuleBitCount(s,l,d,x,h,p);if(A==null)return null;let O,q=ue.sum(A);if(x)O=h+q;else{for(let he=0;he<A.length/2;he++){let ye=A[he];A[he]=A[A.length-1-he],A[A.length-1-he]=ye}O=h,h=O-q}if(!wt.checkCodewordSkew(q,b,v))return null;let Z=Jn.getDecodedValue(A),ae=dt.getCodeword(Z);return ae===-1?null:new Ki(h,O,wt.getCodewordBucketNumber(Z),ae)}static getModuleBitCount(s,l,d,x,h,p){let b=h,v=new Int32Array(8),A=0,O=x?1:-1,q=x;for(;(x?b<d:b>=l)&&A<v.length;)s.get(b,p)===q?(v[A]++,b+=O):(A++,q=!q);return A===v.length||b===(x?d:l)&&A===v.length-1?v:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,l,d,x,h,p){let b=h,v=x?-1:1;for(let A=0;A<2;A++){for(;(x?b>=l:b<d)&&x===s.get(b,p);){if(Math.abs(h-b)>wt.CODEWORD_SKEW_SIZE)return h;b+=v}v=-v,x=!x}return b}static checkCodewordSkew(s,l,d){return l-wt.CODEWORD_SKEW_SIZE<=s&&s<=d+wt.CODEWORD_SKEW_SIZE}static decodeCodewords(s,l,d){if(s.length===0)throw L.getFormatInstance();let x=1<<l+1,h=wt.correctErrors(s,d,x);wt.verifyCodewordCount(s,x);let p=_e.decode(s,""+l);return p.setErrorsCorrected(h),p.setErasures(d.length),p}static correctErrors(s,l,d){if(l!=null&&l.length>d/2+wt.MAX_ERRORS||d<0||d>wt.MAX_EC_CODEWORDS)throw E.getChecksumInstance();return wt.errorCorrection.decode(s,d,l)}static verifyCodewordCount(s,l){if(s.length<4)throw L.getFormatInstance();let d=s[0];if(d>s.length)throw L.getFormatInstance();if(d===0)if(l<s.length)s[0]=s.length-l;else throw L.getFormatInstance()}static getBitCountForCodeword(s){let l=new Int32Array(8),d=0,x=l.length-1;for(;!((s&1)!==d&&(d=s&1,x--,x<0));)l[x]++,s>>=1;return l}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return wt.getCodewordBucketNumber(wt.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let l=new qi;for(let d=0;d<s.length;d++){l.format("Row %2d: ",d);for(let x=0;x<s[d].length;x++){let h=s[d][x];h.getValue().length===0?l.format("        ",null):l.format("%4d(%2d)",h.getValue()[0],h.getConfidence(h.getValue()[0]))}l.format("%n")}return l.toString()}}wt.CODEWORD_SKEW_SIZE=2,wt.MAX_ERRORS=3,wt.MAX_EC_CODEWORDS=512,wt.errorCorrection=new Qx;class Fn{decode(s,l=null){let d=Fn.decode(s,l,!1);if(d==null||d.length===0||d[0]==null)throw te.getNotFoundInstance();return d[0]}decodeMultiple(s,l=null){try{return Fn.decode(s,l,!0)}catch(d){throw d instanceof L||d instanceof E?te.getNotFoundInstance():d}}static decode(s,l,d){const x=new Array,h=vt.detectMultiple(s,l,d);for(const p of h.getPoints()){const b=wt.decode(h.getBits(),p[4],p[5],p[6],p[7],Fn.getMinCodewordWidth(p),Fn.getMaxCodewordWidth(p)),v=new Ne(b.getText(),b.getRawBytes(),void 0,p,Re.PDF_417);v.putMetadata(et.ERROR_CORRECTION_LEVEL,b.getECLevel());const A=b.getOther();A!=null&&v.putMetadata(et.PDF417_EXTRA_METADATA,A),x.push(v)}return x.map(p=>p)}static getMaxWidth(s,l){return s==null||l==null?0:Math.trunc(Math.abs(s.getX()-l.getX()))}static getMinWidth(s,l){return s==null||l==null?I.MAX_VALUE:Math.trunc(Math.abs(s.getX()-l.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(Fn.getMaxWidth(s[0],s[4]),Fn.getMaxWidth(s[6],s[2])*dt.MODULES_IN_CODEWORD/dt.MODULES_IN_STOP_PATTERN),Math.max(Fn.getMaxWidth(s[1],s[5]),Fn.getMaxWidth(s[7],s[3])*dt.MODULES_IN_CODEWORD/dt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(Fn.getMinWidth(s[0],s[4]),Fn.getMinWidth(s[6],s[2])*dt.MODULES_IN_CODEWORD/dt.MODULES_IN_STOP_PATTERN),Math.min(Fn.getMinWidth(s[1],s[5]),Fn.getMinWidth(s[7],s[3])*dt.MODULES_IN_CODEWORD/dt.MODULES_IN_STOP_PATTERN)))}reset(){}}class al extends f{}al.kind="ReaderException";class ef{constructor(s,l){this.verbose=s===!0,l&&this.setHints(l)}decode(s,l){return l&&this.setHints(l),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const l=!r(s)&&s.get(j.TRY_HARDER)===!0,d=r(s)?null:s.get(j.POSSIBLE_FORMATS),x=new Array;if(!r(d)){const h=d.some(p=>p===Re.UPC_A||p===Re.UPC_E||p===Re.EAN_13||p===Re.EAN_8||p===Re.CODABAR||p===Re.CODE_39||p===Re.CODE_93||p===Re.CODE_128||p===Re.ITF||p===Re.RSS_14||p===Re.RSS_EXPANDED);h&&!l&&x.push(new ri(s,this.verbose)),d.includes(Re.QR_CODE)&&x.push(new Hs),d.includes(Re.DATA_MATRIX)&&x.push(new Us),d.includes(Re.AZTEC)&&x.push(new ft),d.includes(Re.PDF_417)&&x.push(new Fn),h&&l&&x.push(new ri(s,this.verbose))}x.length===0&&(l||x.push(new ri(s,this.verbose)),x.push(new Hs),x.push(new Us),x.push(new ft),x.push(new Fn),l&&x.push(new ri(s,this.verbose))),this.readers=x}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new al("No readers where selected, nothing can be read.");for(const l of this.readers)try{return l.decode(s,this.hints)}catch(d){if(d instanceof al)continue}throw new te("No MultiFormat Readers were able to detect the code.")}}class qb extends Ge{constructor(s=null,l=500){const d=new ef;d.setHints(s),super(d,l)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class Wb extends Ge{constructor(s=500){super(new Fn,s)}}class Gb extends Ge{constructor(s=500){super(new Hs,s)}}var oc;(function(H){H[H.ERROR_CORRECTION=0]="ERROR_CORRECTION",H[H.CHARACTER_SET=1]="CHARACTER_SET",H[H.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",H[H.MIN_SIZE=3]="MIN_SIZE",H[H.MAX_SIZE=4]="MAX_SIZE",H[H.MARGIN=5]="MARGIN",H[H.PDF417_COMPACT=6]="PDF417_COMPACT",H[H.PDF417_COMPACTION=7]="PDF417_COMPACTION",H[H.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",H[H.AZTEC_LAYERS=9]="AZTEC_LAYERS",H[H.QR_VERSION=10]="QR_VERSION"})(oc||(oc={}));var yn=oc;class ic{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new re(s,Int32Array.from([1])))}buildGenerator(s){const l=this.cachedGenerators;if(s>=l.length){let d=l[l.length-1];const x=this.field;for(let h=l.length;h<=s;h++){const p=d.multiply(new re(x,Int32Array.from([1,x.exp(h-1+x.getGeneratorBase())])));l.push(p),d=p}}return l[s]}encode(s,l){if(l===0)throw new y("No error correction bytes");const d=s.length-l;if(d<=0)throw new y("No data bytes provided");const x=this.buildGenerator(l),h=new Int32Array(d);D.arraycopy(s,0,h,0,d);let p=new re(this.field,h);p=p.multiplyByMonomial(l,1);const v=p.divide(x)[1].getCoefficients(),A=l-v.length;for(let O=0;O<A;O++)s[d+O]=0;D.arraycopy(v,0,s,d+A,v.length)}}class an{constructor(){}static applyMaskPenaltyRule1(s){return an.applyMaskPenaltyRule1Internal(s,!0)+an.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let l=0;const d=s.getArray(),x=s.getWidth(),h=s.getHeight();for(let p=0;p<h-1;p++){const b=d[p];for(let v=0;v<x-1;v++){const A=b[v];A===b[v+1]&&A===d[p+1][v]&&A===d[p+1][v+1]&&l++}}return an.N2*l}static applyMaskPenaltyRule3(s){let l=0;const d=s.getArray(),x=s.getWidth(),h=s.getHeight();for(let p=0;p<h;p++)for(let b=0;b<x;b++){const v=d[p];b+6<x&&v[b]===1&&v[b+1]===0&&v[b+2]===1&&v[b+3]===1&&v[b+4]===1&&v[b+5]===0&&v[b+6]===1&&(an.isWhiteHorizontal(v,b-4,b)||an.isWhiteHorizontal(v,b+7,b+11))&&l++,p+6<h&&d[p][b]===1&&d[p+1][b]===0&&d[p+2][b]===1&&d[p+3][b]===1&&d[p+4][b]===1&&d[p+5][b]===0&&d[p+6][b]===1&&(an.isWhiteVertical(d,b,p-4,p)||an.isWhiteVertical(d,b,p+7,p+11))&&l++}return l*an.N3}static isWhiteHorizontal(s,l,d){l=Math.max(l,0),d=Math.min(d,s.length);for(let x=l;x<d;x++)if(s[x]===1)return!1;return!0}static isWhiteVertical(s,l,d,x){d=Math.max(d,0),x=Math.min(x,s.length);for(let h=d;h<x;h++)if(s[h][l]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let l=0;const d=s.getArray(),x=s.getWidth(),h=s.getHeight();for(let v=0;v<h;v++){const A=d[v];for(let O=0;O<x;O++)A[O]===1&&l++}const p=s.getHeight()*s.getWidth();return Math.floor(Math.abs(l*2-p)*10/p)*an.N4}static getDataMaskBit(s,l,d){let x,h;switch(s){case 0:x=d+l&1;break;case 1:x=d&1;break;case 2:x=l%3;break;case 3:x=(d+l)%3;break;case 4:x=Math.floor(d/2)+Math.floor(l/3)&1;break;case 5:h=d*l,x=(h&1)+h%3;break;case 6:h=d*l,x=(h&1)+h%3&1;break;case 7:h=d*l,x=h%3+(d+l&1)&1;break;default:throw new y("Invalid mask pattern: "+s)}return x===0}static applyMaskPenaltyRule1Internal(s,l){let d=0;const x=l?s.getHeight():s.getWidth(),h=l?s.getWidth():s.getHeight(),p=s.getArray();for(let b=0;b<x;b++){let v=0,A=-1;for(let O=0;O<h;O++){const q=l?p[b][O]:p[O][b];q===A?v++:(v>=5&&(d+=an.N1+(v-5)),v=1,A=q)}v>=5&&(d+=an.N1+(v-5))}return d}}an.N1=3,an.N2=3,an.N3=40,an.N4=10;class ll{constructor(s,l){this.width=s,this.height=l;const d=new Array(l);for(let x=0;x!==l;x++)d[x]=new Uint8Array(s);this.bytes=d}getHeight(){return this.height}getWidth(){return this.width}get(s,l){return this.bytes[l][s]}getArray(){return this.bytes}setNumber(s,l,d){this.bytes[l][s]=d}setBoolean(s,l,d){this.bytes[l][s]=d?1:0}clear(s){for(const l of this.bytes)$.fill(l,s)}equals(s){if(!(s instanceof ll))return!1;const l=s;if(this.width!==l.width||this.height!==l.height)return!1;for(let d=0,x=this.height;d<x;++d){const h=this.bytes[d],p=l.bytes[d];for(let b=0,v=this.width;b<v;++b)if(h[b]!==p[b])return!1}return!0}toString(){const s=new ce;for(let l=0,d=this.height;l<d;++l){const x=this.bytes[l];for(let h=0,p=this.width;h<p;++h)switch(x[h]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class Eo{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new ce;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<Eo.NUM_MASK_PATTERNS}}Eo.NUM_MASK_PATTERNS=8;class qt extends f{}qt.kind="WriterException";class lt{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,l,d,x,h){lt.clearMatrix(h),lt.embedBasicPatterns(d,h),lt.embedTypeInfo(l,x,h),lt.maybeEmbedVersionInfo(d,h),lt.embedDataBits(s,x,h)}static embedBasicPatterns(s,l){lt.embedPositionDetectionPatternsAndSeparators(l),lt.embedDarkDotAtLeftBottomCorner(l),lt.maybeEmbedPositionAdjustmentPatterns(s,l),lt.embedTimingPatterns(l)}static embedTypeInfo(s,l,d){const x=new S;lt.makeTypeInfoBits(s,l,x);for(let h=0,p=x.getSize();h<p;++h){const b=x.get(x.getSize()-1-h),v=lt.TYPE_INFO_COORDINATES[h],A=v[0],O=v[1];if(d.setBoolean(A,O,b),h<8){const q=d.getWidth()-h-1;d.setBoolean(q,8,b)}else{const Z=d.getHeight()-7+(h-8);d.setBoolean(8,Z,b)}}}static maybeEmbedVersionInfo(s,l){if(s.getVersionNumber()<7)return;const d=new S;lt.makeVersionInfoBits(s,d);let x=17;for(let h=0;h<6;++h)for(let p=0;p<3;++p){const b=d.get(x);x--,l.setBoolean(h,l.getHeight()-11+p,b),l.setBoolean(l.getHeight()-11+p,h,b)}}static embedDataBits(s,l,d){let x=0,h=-1,p=d.getWidth()-1,b=d.getHeight()-1;for(;p>0;){for(p===6&&(p-=1);b>=0&&b<d.getHeight();){for(let v=0;v<2;++v){const A=p-v;if(!lt.isEmpty(d.get(A,b)))continue;let O;x<s.getSize()?(O=s.get(x),++x):O=!1,l!==255&&an.getDataMaskBit(l,A,b)&&(O=!O),d.setBoolean(A,b,O)}b+=h}h=-h,b+=h,p-=2}if(x!==s.getSize())throw new qt("Not all bits consumed: "+x+"/"+s.getSize())}static findMSBSet(s){return 32-I.numberOfLeadingZeros(s)}static calculateBCHCode(s,l){if(l===0)throw new y("0 polynomial");const d=lt.findMSBSet(l);for(s<<=d-1;lt.findMSBSet(s)>=d;)s^=l<<lt.findMSBSet(s)-d;return s}static makeTypeInfoBits(s,l,d){if(!Eo.isValidMaskPattern(l))throw new qt("Invalid mask pattern");const x=s.getBits()<<3|l;d.appendBits(x,5);const h=lt.calculateBCHCode(x,lt.TYPE_INFO_POLY);d.appendBits(h,10);const p=new S;if(p.appendBits(lt.TYPE_INFO_MASK_PATTERN,15),d.xor(p),d.getSize()!==15)throw new qt("should not happen but we got: "+d.getSize())}static makeVersionInfoBits(s,l){l.appendBits(s.getVersionNumber(),6);const d=lt.calculateBCHCode(s.getVersionNumber(),lt.VERSION_INFO_POLY);if(l.appendBits(d,12),l.getSize()!==18)throw new qt("should not happen but we got: "+l.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let l=8;l<s.getWidth()-8;++l){const d=(l+1)%2;lt.isEmpty(s.get(l,6))&&s.setNumber(l,6,d),lt.isEmpty(s.get(6,l))&&s.setNumber(6,l,d)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new qt;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,l,d){for(let x=0;x<8;++x){if(!lt.isEmpty(d.get(s+x,l)))throw new qt;d.setNumber(s+x,l,0)}}static embedVerticalSeparationPattern(s,l,d){for(let x=0;x<7;++x){if(!lt.isEmpty(d.get(s,l+x)))throw new qt;d.setNumber(s,l+x,0)}}static embedPositionAdjustmentPattern(s,l,d){for(let x=0;x<5;++x){const h=lt.POSITION_ADJUSTMENT_PATTERN[x];for(let p=0;p<5;++p)d.setNumber(s+p,l+x,h[p])}}static embedPositionDetectionPattern(s,l,d){for(let x=0;x<7;++x){const h=lt.POSITION_DETECTION_PATTERN[x];for(let p=0;p<7;++p)d.setNumber(s+p,l+x,h[p])}}static embedPositionDetectionPatternsAndSeparators(s){const l=lt.POSITION_DETECTION_PATTERN[0].length;lt.embedPositionDetectionPattern(0,0,s),lt.embedPositionDetectionPattern(s.getWidth()-l,0,s),lt.embedPositionDetectionPattern(0,s.getWidth()-l,s);const d=8;lt.embedHorizontalSeparationPattern(0,d-1,s),lt.embedHorizontalSeparationPattern(s.getWidth()-d,d-1,s),lt.embedHorizontalSeparationPattern(0,s.getWidth()-d,s);const x=7;lt.embedVerticalSeparationPattern(x,0,s),lt.embedVerticalSeparationPattern(s.getHeight()-x-1,0,s),lt.embedVerticalSeparationPattern(x,s.getHeight()-x,s)}static maybeEmbedPositionAdjustmentPatterns(s,l){if(s.getVersionNumber()<2)return;const d=s.getVersionNumber()-1,x=lt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[d];for(let h=0,p=x.length;h!==p;h++){const b=x[h];if(b>=0)for(let v=0;v!==p;v++){const A=x[v];A>=0&&lt.isEmpty(l.get(A,b))&&lt.embedPositionAdjustmentPattern(A-2,b-2,l)}}}}lt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),lt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),lt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),lt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),lt.VERSION_INFO_POLY=7973,lt.TYPE_INFO_POLY=1335,lt.TYPE_INFO_MASK_PATTERN=21522;class Qb{constructor(s,l){this.dataBytes=s,this.errorCorrectionBytes=l}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Xt{constructor(){}static calculateMaskPenalty(s){return an.applyMaskPenaltyRule1(s)+an.applyMaskPenaltyRule2(s)+an.applyMaskPenaltyRule3(s)+an.applyMaskPenaltyRule4(s)}static encode(s,l,d=null){let x=Xt.DEFAULT_BYTE_MODE_ENCODING;const h=d!==null&&d.get(yn.CHARACTER_SET)!==void 0;h&&(x=d.get(yn.CHARACTER_SET).toString());const p=this.chooseMode(s,x),b=new S;if(p===it.BYTE&&(h||Xt.DEFAULT_BYTE_MODE_ENCODING!==x)){const ze=F.getCharacterSetECIByName(x);ze!==void 0&&this.appendECI(ze,b)}this.appendModeInfo(p,b);const v=new S;this.appendBytes(s,p,v,x);let A;if(d!==null&&d.get(yn.QR_VERSION)!==void 0){const ze=Number.parseInt(d.get(yn.QR_VERSION).toString(),10);A=ot.getVersionForNumber(ze);const je=this.calculateBitsNeeded(p,b,v,A);if(!this.willFit(je,A,l))throw new qt("Data too big for requested version")}else A=this.recommendVersion(l,p,b,v);const O=new S;O.appendBitArray(b);const q=p===it.BYTE?v.getSizeInBytes():s.length;this.appendLengthInfo(q,A,p,O),O.appendBitArray(v);const Z=A.getECBlocksForLevel(l),ae=A.getTotalCodewords()-Z.getTotalECCodewords();this.terminateBits(ae,O);const he=this.interleaveWithECBytes(O,A.getTotalCodewords(),ae,Z.getNumBlocks()),ye=new Eo;ye.setECLevel(l),ye.setMode(p),ye.setVersion(A);const Ae=A.getDimensionForVersion(),ke=new ll(Ae,Ae),He=this.chooseMaskPattern(he,l,A,ke);return ye.setMaskPattern(He),lt.buildMatrix(he,l,A,He,ke),ye.setMatrix(ke),ye}static recommendVersion(s,l,d,x){const h=this.calculateBitsNeeded(l,d,x,ot.getVersionForNumber(1)),p=this.chooseVersion(h,s),b=this.calculateBitsNeeded(l,d,x,p);return this.chooseVersion(b,s)}static calculateBitsNeeded(s,l,d,x){return l.getSize()+s.getCharacterCountBits(x)+d.getSize()}static getAlphanumericCode(s){return s<Xt.ALPHANUMERIC_TABLE.length?Xt.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,l=null){if(F.SJIS.getName()===l&&this.isOnlyDoubleByteKanji(s))return it.KANJI;let d=!1,x=!1;for(let h=0,p=s.length;h<p;++h){const b=s.charAt(h);if(Xt.isDigit(b))d=!0;else if(this.getAlphanumericCode(b.charCodeAt(0))!==-1)x=!0;else return it.BYTE}return x?it.ALPHANUMERIC:d?it.NUMERIC:it.BYTE}static isOnlyDoubleByteKanji(s){let l;try{l=le.encode(s,F.SJIS)}catch{return!1}const d=l.length;if(d%2!==0)return!1;for(let x=0;x<d;x+=2){const h=l[x]&255;if((h<129||h>159)&&(h<224||h>235))return!1}return!0}static chooseMaskPattern(s,l,d,x){let h=Number.MAX_SAFE_INTEGER,p=-1;for(let b=0;b<Eo.NUM_MASK_PATTERNS;b++){lt.buildMatrix(s,l,d,b,x);let v=this.calculateMaskPenalty(x);v<h&&(h=v,p=b)}return p}static chooseVersion(s,l){for(let d=1;d<=40;d++){const x=ot.getVersionForNumber(d);if(Xt.willFit(s,x,l))return x}throw new qt("Data too big")}static willFit(s,l,d){const x=l.getTotalCodewords(),p=l.getECBlocksForLevel(d).getTotalECCodewords(),b=x-p,v=(s+7)/8;return b>=v}static terminateBits(s,l){const d=s*8;if(l.getSize()>d)throw new qt("data bits cannot fit in the QR Code"+l.getSize()+" > "+d);for(let p=0;p<4&&l.getSize()<d;++p)l.appendBit(!1);const x=l.getSize()&7;if(x>0)for(let p=x;p<8;p++)l.appendBit(!1);const h=s-l.getSizeInBytes();for(let p=0;p<h;++p)l.appendBits((p&1)===0?236:17,8);if(l.getSize()!==d)throw new qt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,l,d,x,h,p){if(x>=d)throw new qt("Block ID too large");const b=s%d,v=d-b,A=Math.floor(s/d),O=A+1,q=Math.floor(l/d),Z=q+1,ae=A-q,he=O-Z;if(ae!==he)throw new qt("EC bytes mismatch");if(d!==v+b)throw new qt("RS blocks mismatch");if(s!==(q+ae)*v+(Z+he)*b)throw new qt("Total bytes mismatch");x<v?(h[0]=q,p[0]=ae):(h[0]=Z,p[0]=he)}static interleaveWithECBytes(s,l,d,x){if(s.getSizeInBytes()!==d)throw new qt("Number of bits and data bytes does not match");let h=0,p=0,b=0;const v=new Array;for(let O=0;O<x;++O){const q=new Int32Array(1),Z=new Int32Array(1);Xt.getNumDataBytesAndNumECBytesForBlockID(l,d,x,O,q,Z);const ae=q[0],he=new Uint8Array(ae);s.toBytes(8*h,he,0,ae);const ye=Xt.generateECBytes(he,Z[0]);v.push(new Qb(he,ye)),p=Math.max(p,ae),b=Math.max(b,ye.length),h+=q[0]}if(d!==h)throw new qt("Data bytes does not match offset");const A=new S;for(let O=0;O<p;++O)for(const q of v){const Z=q.getDataBytes();O<Z.length&&A.appendBits(Z[O],8)}for(let O=0;O<b;++O)for(const q of v){const Z=q.getErrorCorrectionBytes();O<Z.length&&A.appendBits(Z[O],8)}if(l!==A.getSizeInBytes())throw new qt("Interleaving error: "+l+" and "+A.getSizeInBytes()+" differ.");return A}static generateECBytes(s,l){const d=s.length,x=new Int32Array(d+l);for(let p=0;p<d;p++)x[p]=s[p]&255;new ic(B.QR_CODE_FIELD_256).encode(x,l);const h=new Uint8Array(l);for(let p=0;p<l;p++)h[p]=x[d+p];return h}static appendModeInfo(s,l){l.appendBits(s.getBits(),4)}static appendLengthInfo(s,l,d,x){const h=d.getCharacterCountBits(l);if(s>=1<<h)throw new qt(s+" is bigger than "+((1<<h)-1));x.appendBits(s,h)}static appendBytes(s,l,d,x){switch(l){case it.NUMERIC:Xt.appendNumericBytes(s,d);break;case it.ALPHANUMERIC:Xt.appendAlphanumericBytes(s,d);break;case it.BYTE:Xt.append8BitBytes(s,d,x);break;case it.KANJI:Xt.appendKanjiBytes(s,d);break;default:throw new qt("Invalid mode: "+l)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const l=Xt.getDigit(s);return l>=0&&l<=9}static appendNumericBytes(s,l){const d=s.length;let x=0;for(;x<d;){const h=Xt.getDigit(s.charAt(x));if(x+2<d){const p=Xt.getDigit(s.charAt(x+1)),b=Xt.getDigit(s.charAt(x+2));l.appendBits(h*100+p*10+b,10),x+=3}else if(x+1<d){const p=Xt.getDigit(s.charAt(x+1));l.appendBits(h*10+p,7),x+=2}else l.appendBits(h,4),x++}}static appendAlphanumericBytes(s,l){const d=s.length;let x=0;for(;x<d;){const h=Xt.getAlphanumericCode(s.charCodeAt(x));if(h===-1)throw new qt;if(x+1<d){const p=Xt.getAlphanumericCode(s.charCodeAt(x+1));if(p===-1)throw new qt;l.appendBits(h*45+p,11),x+=2}else l.appendBits(h,6),x++}}static append8BitBytes(s,l,d){let x;try{x=le.encode(s,d)}catch(h){throw new qt(h)}for(let h=0,p=x.length;h!==p;h++){const b=x[h];l.appendBits(b,8)}}static appendKanjiBytes(s,l){let d;try{d=le.encode(s,F.SJIS)}catch(h){throw new qt(h)}const x=d.length;for(let h=0;h<x;h+=2){const p=d[h]&255,b=d[h+1]&255,v=p<<8&4294967295|b;let A=-1;if(v>=33088&&v<=40956?A=v-33088:v>=57408&&v<=60351&&(A=v-49472),A===-1)throw new qt("Invalid byte sequence");const O=(A>>8)*192+(A&255);l.appendBits(O,13)}}static appendECI(s,l){l.appendBits(it.ECI.getBits(),4),l.appendBits(s.getValue(),8)}}Xt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Xt.DEFAULT_BYTE_MODE_ENCODING=F.UTF8.getName();class wo{write(s,l,d,x=null){if(s.length===0)throw new y("Found empty contents");if(l<0||d<0)throw new y("Requested dimensions are too small: "+l+"x"+d);let h=Qt.L,p=wo.QUIET_ZONE_SIZE;x!==null&&(x.get(yn.ERROR_CORRECTION)!==void 0&&(h=Qt.fromString(x.get(yn.ERROR_CORRECTION).toString())),x.get(yn.MARGIN)!==void 0&&(p=Number.parseInt(x.get(yn.MARGIN).toString(),10)));const b=Xt.encode(s,h,x);return this.renderResult(b,l,d,p)}writeToDom(s,l,d,x,h=null){typeof s=="string"&&(s=document.querySelector(s));const p=this.write(l,d,x,h);s&&s.appendChild(p)}renderResult(s,l,d,x){const h=s.getMatrix();if(h===null)throw new R;const p=h.getWidth(),b=h.getHeight(),v=p+x*2,A=b+x*2,O=Math.max(l,v),q=Math.max(d,A),Z=Math.min(Math.floor(O/v),Math.floor(q/A)),ae=Math.floor((O-p*Z)/2),he=Math.floor((q-b*Z)/2),ye=this.createSVGElement(O,q);for(let Ae=0,ke=he;Ae<b;Ae++,ke+=Z)for(let He=0,ze=ae;He<p;He++,ze+=Z)if(h.get(He,Ae)===1){const je=this.createSvgRectElement(ze,ke,Z,Z);ye.appendChild(je)}return ye}createSVGElement(s,l){const d=document.createElementNS(wo.SVG_NS,"svg");return d.setAttributeNS(null,"height",s.toString()),d.setAttributeNS(null,"width",l.toString()),d}createSvgRectElement(s,l,d,x){const h=document.createElementNS(wo.SVG_NS,"rect");return h.setAttributeNS(null,"x",s.toString()),h.setAttributeNS(null,"y",l.toString()),h.setAttributeNS(null,"height",d.toString()),h.setAttributeNS(null,"width",x.toString()),h.setAttributeNS(null,"fill","#000000"),h}}wo.QUIET_ZONE_SIZE=4,wo.SVG_NS="http://www.w3.org/2000/svg";class oi{encode(s,l,d,x,h){if(s.length===0)throw new y("Found empty contents");if(l!==Re.QR_CODE)throw new y("Can only encode QR_CODE, but got "+l);if(d<0||x<0)throw new y(`Requested dimensions are too small: ${d}x${x}`);let p=Qt.L,b=oi.QUIET_ZONE_SIZE;h!==null&&(h.get(yn.ERROR_CORRECTION)!==void 0&&(p=Qt.fromString(h.get(yn.ERROR_CORRECTION).toString())),h.get(yn.MARGIN)!==void 0&&(b=Number.parseInt(h.get(yn.MARGIN).toString(),10)));const v=Xt.encode(s,p,h);return oi.renderResult(v,d,x,b)}static renderResult(s,l,d,x){const h=s.getMatrix();if(h===null)throw new R;const p=h.getWidth(),b=h.getHeight(),v=p+x*2,A=b+x*2,O=Math.max(l,v),q=Math.max(d,A),Z=Math.min(Math.floor(O/v),Math.floor(q/A)),ae=Math.floor((O-p*Z)/2),he=Math.floor((q-b*Z)/2),ye=new me(O,q);for(let Ae=0,ke=he;Ae<b;Ae++,ke+=Z)for(let He=0,ze=ae;He<p;He++,ze+=Z)h.get(He,Ae)===1&&ye.setRegion(ze,ke,Z,Z);return ye}}oi.QUIET_ZONE_SIZE=4;class Kb{encode(s,l,d,x,h){let p;switch(l){case Re.QR_CODE:p=new oi;break;default:throw new y("No encoder available for format "+l)}return p.encode(s,l,d,x,h)}}class Jr extends be{constructor(s,l,d,x,h,p,b,v){if(super(p,b),this.yuvData=s,this.dataWidth=l,this.dataHeight=d,this.left=x,this.top=h,x+p>l||h+b>d)throw new y("Crop rectangle does not fit within image data.");v&&this.reverseHorizontal(p,b)}getRow(s,l){if(s<0||s>=this.getHeight())throw new y("Requested row is outside the image: "+s);const d=this.getWidth();(l==null||l.length<d)&&(l=new Uint8ClampedArray(d));const x=(s+this.top)*this.dataWidth+this.left;return D.arraycopy(this.yuvData,x,l,0,d),l}getMatrix(){const s=this.getWidth(),l=this.getHeight();if(s===this.dataWidth&&l===this.dataHeight)return this.yuvData;const d=s*l,x=new Uint8ClampedArray(d);let h=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return D.arraycopy(this.yuvData,h,x,0,d),x;for(let p=0;p<l;p++){const b=p*s;D.arraycopy(this.yuvData,h,x,b,s),h+=this.dataWidth}return x}isCropSupported(){return!0}crop(s,l,d,x){return new Jr(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+l,d,x,!1)}renderThumbnail(){const s=this.getWidth()/Jr.THUMBNAIL_SCALE_FACTOR,l=this.getHeight()/Jr.THUMBNAIL_SCALE_FACTOR,d=new Int32Array(s*l),x=this.yuvData;let h=this.top*this.dataWidth+this.left;for(let p=0;p<l;p++){const b=p*s;for(let v=0;v<s;v++){const A=x[h+v*Jr.THUMBNAIL_SCALE_FACTOR]&255;d[b+v]=4278190080|A*65793}h+=this.dataWidth*Jr.THUMBNAIL_SCALE_FACTOR}return d}getThumbnailWidth(){return this.getWidth()/Jr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Jr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,l){const d=this.yuvData;for(let x=0,h=this.top*this.dataWidth+this.left;x<l;x++,h+=this.dataWidth){const p=h+s/2;for(let b=h,v=h+s-1;b<p;b++,v--){const A=d[b];d[b]=d[v],d[v]=A}}}invert(){return new De(this)}}Jr.THUMBNAIL_SCALE_FACTOR=2;class ac extends be{constructor(s,l,d,x,h,p,b){if(super(l,d),this.dataWidth=x,this.dataHeight=h,this.left=p,this.top=b,s.BYTES_PER_ELEMENT===4){const v=l*d,A=new Uint8ClampedArray(v);for(let O=0;O<v;O++){const q=s[O],Z=q>>16&255,ae=q>>7&510,he=q&255;A[O]=(Z+ae+he)/4&255}this.luminances=A}else this.luminances=s;if(x===void 0&&(this.dataWidth=l),h===void 0&&(this.dataHeight=d),p===void 0&&(this.left=0),b===void 0&&(this.top=0),this.left+l>this.dataWidth||this.top+d>this.dataHeight)throw new y("Crop rectangle does not fit within image data.")}getRow(s,l){if(s<0||s>=this.getHeight())throw new y("Requested row is outside the image: "+s);const d=this.getWidth();(l==null||l.length<d)&&(l=new Uint8ClampedArray(d));const x=(s+this.top)*this.dataWidth+this.left;return D.arraycopy(this.luminances,x,l,0,d),l}getMatrix(){const s=this.getWidth(),l=this.getHeight();if(s===this.dataWidth&&l===this.dataHeight)return this.luminances;const d=s*l,x=new Uint8ClampedArray(d);let h=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return D.arraycopy(this.luminances,h,x,0,d),x;for(let p=0;p<l;p++){const b=p*s;D.arraycopy(this.luminances,h,x,b,s),h+=this.dataWidth}return x}isCropSupported(){return!0}crop(s,l,d,x){return new ac(this.luminances,d,x,this.dataWidth,this.dataHeight,this.left+s,this.top+l)}invert(){return new De(this)}}class tf extends F{static forName(s){return this.getCharacterSetECIByName(s)}}class lc{}lc.ISO_8859_1=F.ISO8859_1;class nf{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class rf{static singletonList(s){return[s]}static min(s,l){return s.sort(l)[0]}}class Yb{constructor(s){this.previous=s}getPrevious(){return this.previous}}class ii extends Yb{constructor(s,l,d){super(s),this.value=l,this.bitCount=d}appendTo(s,l){s.appendBits(this.value,this.bitCount)}add(s,l){return new ii(this,s,l)}addBinaryShift(s,l){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ii(this,s,l)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+I.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class cc extends ii{constructor(s,l,d){super(s,0,0),this.binaryShiftStart=l,this.binaryShiftByteCount=d}appendTo(s,l){for(let d=0;d<this.binaryShiftByteCount;d++)(d===0||d===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):d===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(l[this.binaryShiftStart+d],8)}addBinaryShift(s,l){return new cc(this,s,l)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Xb(H,s,l){return new cc(H,s,l)}function Yi(H,s,l){return new ii(H,s,l)}const Zb=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Vs=0,cl=1,_r=2,sf=3,es=4,Jb=new ii(null,0,0),dc=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function e8(H){for(let s of H)$.fill(s,-1);return H[Vs][es]=0,H[cl][es]=0,H[cl][Vs]=28,H[sf][es]=0,H[_r][es]=0,H[_r][Vs]=15,H}const of=e8($.createInt32Array(6,6));class ts{constructor(s,l,d,x){this.token=s,this.mode=l,this.binaryShiftByteCount=d,this.bitCount=x}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,l){let d=this.bitCount,x=this.token;if(s!==this.mode){let p=dc[this.mode][s];x=Yi(x,p&65535,p>>16),d+=p>>16}let h=s===_r?4:5;return x=Yi(x,l,h),new ts(x,s,0,d+h)}shiftAndAppend(s,l){let d=this.token,x=this.mode===_r?4:5;return d=Yi(d,of[this.mode][s],x),d=Yi(d,l,5),new ts(d,this.mode,0,this.bitCount+x+5)}addBinaryShiftChar(s){let l=this.token,d=this.mode,x=this.bitCount;if(this.mode===es||this.mode===_r){let b=dc[d][Vs];l=Yi(l,b&65535,b>>16),x+=b>>16,d=Vs}let h=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,p=new ts(l,d,this.binaryShiftByteCount+1,x+h);return p.binaryShiftByteCount===2078&&(p=p.endBinaryShift(s+1)),p}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let l=this.token;return l=Xb(l,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new ts(l,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let l=this.bitCount+(dc[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?l+=ts.calculateBinaryShiftCost(s)-ts.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(l+=10),l<=s.bitCount}toBitArray(s){let l=[];for(let x=this.endBinaryShift(s.length).token;x!==null;x=x.getPrevious())l.unshift(x);let d=new S;for(const x of l)x.appendTo(d,s);return d}toString(){return Y.format("%s bits=%d bytes=%d",Zb[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}ts.INITIAL_STATE=new ts(Jb,Vs,0,0);function t8(H){const s=Y.getCharCode(" "),l=Y.getCharCode("."),d=Y.getCharCode(",");H[Vs][s]=1;const x=Y.getCharCode("Z"),h=Y.getCharCode("A");for(let Z=h;Z<=x;Z++)H[Vs][Z]=Z-h+2;H[cl][s]=1;const p=Y.getCharCode("z"),b=Y.getCharCode("a");for(let Z=b;Z<=p;Z++)H[cl][Z]=Z-b+2;H[_r][s]=1;const v=Y.getCharCode("9"),A=Y.getCharCode("0");for(let Z=A;Z<=v;Z++)H[_r][Z]=Z-A+2;H[_r][d]=12,H[_r][l]=13;const O=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let Z=0;Z<O.length;Z++)H[sf][Y.getCharCode(O[Z])]=Z;const q=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let Z=0;Z<q.length;Z++)Y.getCharCode(q[Z])>0&&(H[es][Y.getCharCode(q[Z])]=Z);return H}const uc=t8($.createInt32Array(5,256));class Xi{constructor(s){this.text=s}encode(){const s=Y.getCharCode(" "),l=Y.getCharCode(`
`);let d=rf.singletonList(ts.INITIAL_STATE);for(let h=0;h<this.text.length;h++){let p,b=h+1<this.text.length?this.text[h+1]:0;switch(this.text[h]){case Y.getCharCode("\r"):p=b===l?2:0;break;case Y.getCharCode("."):p=b===s?3:0;break;case Y.getCharCode(","):p=b===s?4:0;break;case Y.getCharCode(":"):p=b===s?5:0;break;default:p=0}p>0?(d=Xi.updateStateListForPair(d,h,p),h++):d=this.updateStateListForChar(d,h)}return rf.min(d,(h,p)=>h.getBitCount()-p.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,l){const d=[];for(let x of s)this.updateStateForChar(x,l,d);return Xi.simplifyStates(d)}updateStateForChar(s,l,d){let x=this.text[l]&255,h=uc[s.getMode()][x]>0,p=null;for(let b=0;b<=es;b++){let v=uc[b][x];if(v>0){if(p==null&&(p=s.endBinaryShift(l)),!h||b===s.getMode()||b===_r){const A=p.latchAndAppend(b,v);d.push(A)}if(!h&&of[s.getMode()][b]>=0){const A=p.shiftAndAppend(b,v);d.push(A)}}}if(s.getBinaryShiftByteCount()>0||uc[s.getMode()][x]===0){let b=s.addBinaryShiftChar(l);d.push(b)}}static updateStateListForPair(s,l,d){const x=[];for(let h of s)this.updateStateForPair(h,l,d,x);return this.simplifyStates(x)}static updateStateForPair(s,l,d,x){let h=s.endBinaryShift(l);if(x.push(h.latchAndAppend(es,d)),s.getMode()!==es&&x.push(h.shiftAndAppend(es,d)),d===3||d===4){let p=h.latchAndAppend(_r,16-d).latchAndAppend(_r,1);x.push(p)}if(s.getBinaryShiftByteCount()>0){let p=s.addBinaryShiftChar(l).addBinaryShiftChar(l+1);x.push(p)}}static simplifyStates(s){let l=[];for(const d of s){let x=!0;for(const h of l){if(h.isBetterThanOrEqualTo(d)){x=!1;break}d.isBetterThanOrEqualTo(h)&&(l=l.filter(p=>p!==h))}x&&l.push(d)}return l}}class Tt{constructor(){}static encodeBytes(s){return Tt.encode(s,Tt.DEFAULT_EC_PERCENT,Tt.DEFAULT_AZTEC_LAYERS)}static encode(s,l,d){let x=new Xi(s).encode(),h=I.truncDivision(x.getSize()*l,100)+11,p=x.getSize()+h,b,v,A,O,q;if(d!==Tt.DEFAULT_AZTEC_LAYERS){if(b=d<0,v=Math.abs(d),v>(b?Tt.MAX_NB_BITS_COMPACT:Tt.MAX_NB_BITS))throw new y(Y.format("Illegal value %s for layers",d));A=Tt.totalBitsInLayer(v,b),O=Tt.WORD_SIZE[v];let je=A-A%O;if(q=Tt.stuffBits(x,O),q.getSize()+h>je)throw new y("Data to large for user specified layer");if(b&&q.getSize()>O*64)throw new y("Data to large for user specified layer")}else{O=0,q=null;for(let je=0;;je++){if(je>Tt.MAX_NB_BITS)throw new y("Data too large for an Aztec code");if(b=je<=3,v=b?je+1:je,A=Tt.totalBitsInLayer(v,b),p>A)continue;(q==null||O!==Tt.WORD_SIZE[v])&&(O=Tt.WORD_SIZE[v],q=Tt.stuffBits(x,O));let Bt=A-A%O;if(!(b&&q.getSize()>O*64)&&q.getSize()+h<=Bt)break}}let Z=Tt.generateCheckWords(q,A,O),ae=q.getSize()/O,he=Tt.generateModeMessage(b,v,ae),ye=(b?11:14)+v*4,Ae=new Int32Array(ye),ke;if(b){ke=ye;for(let je=0;je<Ae.length;je++)Ae[je]=je}else{ke=ye+1+2*I.truncDivision(I.truncDivision(ye,2)-1,15);let je=I.truncDivision(ye,2),Bt=I.truncDivision(ke,2);for(let mt=0;mt<je;mt++){let er=mt+I.truncDivision(mt,15);Ae[je-mt-1]=Bt-er-1,Ae[je+mt]=Bt+er+1}}let He=new me(ke);for(let je=0,Bt=0;je<v;je++){let mt=(v-je)*4+(b?9:12);for(let er=0;er<mt;er++){let Ur=er*2;for(let tr=0;tr<2;tr++)Z.get(Bt+Ur+tr)&&He.set(Ae[je*2+tr],Ae[je*2+er]),Z.get(Bt+mt*2+Ur+tr)&&He.set(Ae[je*2+er],Ae[ye-1-je*2-tr]),Z.get(Bt+mt*4+Ur+tr)&&He.set(Ae[ye-1-je*2-tr],Ae[ye-1-je*2-er]),Z.get(Bt+mt*6+Ur+tr)&&He.set(Ae[ye-1-je*2-er],Ae[je*2+tr])}Bt+=mt*8}if(Tt.drawModeMessage(He,b,ke,he),b)Tt.drawBullsEye(He,I.truncDivision(ke,2),5);else{Tt.drawBullsEye(He,I.truncDivision(ke,2),7);for(let je=0,Bt=0;je<I.truncDivision(ye,2)-1;je+=15,Bt+=16)for(let mt=I.truncDivision(ke,2)&1;mt<ke;mt+=2)He.set(I.truncDivision(ke,2)-Bt,mt),He.set(I.truncDivision(ke,2)+Bt,mt),He.set(mt,I.truncDivision(ke,2)-Bt),He.set(mt,I.truncDivision(ke,2)+Bt)}let ze=new nf;return ze.setCompact(b),ze.setSize(ke),ze.setLayers(v),ze.setCodeWords(ae),ze.setMatrix(He),ze}static drawBullsEye(s,l,d){for(let x=0;x<d;x+=2)for(let h=l-x;h<=l+x;h++)s.set(h,l-x),s.set(h,l+x),s.set(l-x,h),s.set(l+x,h);s.set(l-d,l-d),s.set(l-d+1,l-d),s.set(l-d,l-d+1),s.set(l+d,l-d),s.set(l+d,l-d+1),s.set(l+d,l+d-1)}static generateModeMessage(s,l,d){let x=new S;return s?(x.appendBits(l-1,2),x.appendBits(d-1,6),x=Tt.generateCheckWords(x,28,4)):(x.appendBits(l-1,5),x.appendBits(d-1,11),x=Tt.generateCheckWords(x,40,4)),x}static drawModeMessage(s,l,d,x){let h=I.truncDivision(d,2);if(l)for(let p=0;p<7;p++){let b=h-3+p;x.get(p)&&s.set(b,h-5),x.get(p+7)&&s.set(h+5,b),x.get(20-p)&&s.set(b,h+5),x.get(27-p)&&s.set(h-5,b)}else for(let p=0;p<10;p++){let b=h-5+p+I.truncDivision(p,5);x.get(p)&&s.set(b,h-7),x.get(p+10)&&s.set(h+7,b),x.get(29-p)&&s.set(b,h+7),x.get(39-p)&&s.set(h-7,b)}}static generateCheckWords(s,l,d){let x=s.getSize()/d,h=new ic(Tt.getGF(d)),p=I.truncDivision(l,d),b=Tt.bitsToWords(s,d,p);h.encode(b,p-x);let v=l%d,A=new S;A.appendBits(0,v);for(const O of Array.from(b))A.appendBits(O,d);return A}static bitsToWords(s,l,d){let x=new Int32Array(d),h,p;for(h=0,p=s.getSize()/l;h<p;h++){let b=0;for(let v=0;v<l;v++)b|=s.get(h*l+v)?1<<l-v-1:0;x[h]=b}return x}static getGF(s){switch(s){case 4:return B.AZTEC_PARAM;case 6:return B.AZTEC_DATA_6;case 8:return B.AZTEC_DATA_8;case 10:return B.AZTEC_DATA_10;case 12:return B.AZTEC_DATA_12;default:throw new y("Unsupported word size "+s)}}static stuffBits(s,l){let d=new S,x=s.getSize(),h=(1<<l)-2;for(let p=0;p<x;p+=l){let b=0;for(let v=0;v<l;v++)(p+v>=x||s.get(p+v))&&(b|=1<<l-1-v);(b&h)===h?(d.appendBits(b&h,l),p--):(b&h)===0?(d.appendBits(b|1,l),p--):d.appendBits(b,l)}return d}static totalBitsInLayer(s,l){return((l?88:112)+16*s)*s}}Tt.DEFAULT_EC_PERCENT=33,Tt.DEFAULT_AZTEC_LAYERS=0,Tt.MAX_NB_BITS=32,Tt.MAX_NB_BITS_COMPACT=4,Tt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class dl{encode(s,l,d,x){return this.encodeWithHints(s,l,d,x,null)}encodeWithHints(s,l,d,x,h){let p=lc.ISO_8859_1,b=Tt.DEFAULT_EC_PERCENT,v=Tt.DEFAULT_AZTEC_LAYERS;return h!=null&&(h.has(yn.CHARACTER_SET)&&(p=tf.forName(h.get(yn.CHARACTER_SET).toString())),h.has(yn.ERROR_CORRECTION)&&(b=I.parseInt(h.get(yn.ERROR_CORRECTION).toString())),h.has(yn.AZTEC_LAYERS)&&(v=I.parseInt(h.get(yn.AZTEC_LAYERS).toString()))),dl.encodeLayers(s,l,d,x,p,b,v)}static encodeLayers(s,l,d,x,h,p,b){if(l!==Re.AZTEC)throw new y("Can only encode AZTEC, but got "+l);let v=Tt.encode(Y.getBytes(s,h),p,b);return dl.renderResult(v,d,x)}static renderResult(s,l,d){let x=s.getMatrix();if(x==null)throw new R;let h=x.getWidth(),p=x.getHeight(),b=Math.max(l,h),v=Math.max(d,p),A=Math.min(b/h,v/p),O=(b-h*A)/2,q=(v-p*A)/2,Z=new me(b,v);for(let ae=0,he=q;ae<p;ae++,he+=A)for(let ye=0,Ae=O;ye<h;ye++,Ae+=A)x.get(ye,ae)&&Z.setRegion(Ae,he,A,A);return Z}}n.AbstractExpandedDecoder=yo,n.ArgumentException=m,n.ArithmeticException=X,n.AztecCode=nf,n.AztecCodeReader=ft,n.AztecCodeWriter=dl,n.AztecDecoder=K,n.AztecDetector=xt,n.AztecDetectorResult=J,n.AztecEncoder=Tt,n.AztecHighLevelEncoder=Xi,n.AztecPoint=Ze,n.BarcodeFormat=Re,n.Binarizer=C,n.BinaryBitmap=w,n.BitArray=S,n.BitMatrix=me,n.BitSource=ec,n.BrowserAztecCodeReader=$t,n.BrowserBarcodeReader=Ib,n.BrowserCodeReader=Ge,n.BrowserDatamatrixCodeReader=Pb,n.BrowserMultiFormatReader=qb,n.BrowserPDF417Reader=Wb,n.BrowserQRCodeReader=Gb,n.BrowserQRCodeSvgWriter=wo,n.CharacterSetECI=F,n.ChecksumException=E,n.Code128Reader=Ue,n.Code39Reader=Pt,n.DataMatrixDecodedBitStreamParser=js,n.DataMatrixReader=Us,n.DecodeHintType=j,n.DecoderResult=st,n.DefaultGridSampler=Me,n.DetectorResult=ee,n.EAN13Reader=gn,n.EncodeHintType=yn,n.Exception=f,n.FormatException=L,n.GenericGF=B,n.GenericGFPoly=re,n.GlobalHistogramBinarizer=ne,n.GridSampler=xe,n.GridSamplerInstance=Xe,n.HTMLCanvasElementLuminanceSource=Ie,n.HybridBinarizer=de,n.ITFReader=we,n.IllegalArgumentException=y,n.IllegalStateException=R,n.InvertedLuminanceSource=De,n.LuminanceSource=be,n.MathUtils=ue,n.MultiFormatOneDReader=ri,n.MultiFormatReader=ef,n.MultiFormatWriter=Kb,n.NotFoundException=te,n.OneDReader=rt,n.PDF417DecodedBitStreamParser=_e,n.PDF417DecoderErrorCorrection=Qx,n.PDF417Reader=Fn,n.PDF417ResultMetadata=Yx,n.PerspectiveTransform=ge,n.PlanarYUVLuminanceSource=Jr,n.QRCodeByteMatrix=ll,n.QRCodeDataMask=Ar,n.QRCodeDecodedBitStreamParser=sn,n.QRCodeDecoderErrorCorrectionLevel=Qt,n.QRCodeDecoderFormatInformation=$n,n.QRCodeEncoder=Xt,n.QRCodeEncoderQRCode=Eo,n.QRCodeMaskUtil=an,n.QRCodeMatrixUtil=lt,n.QRCodeMode=it,n.QRCodeReader=Hs,n.QRCodeVersion=ot,n.QRCodeWriter=oi,n.RGBLuminanceSource=ac,n.RSS14Reader=on,n.RSSExpandedReader=Le,n.ReaderException=al,n.ReedSolomonDecoder=N,n.ReedSolomonEncoder=ic,n.ReedSolomonException=k,n.Result=Ne,n.ResultMetadataType=et,n.ResultPoint=W,n.StringUtils=Y,n.UnsupportedOperationException=Q,n.VideoInputDevice=fe,n.WhiteRectangleDetector=se,n.WriterException=qt,n.ZXingArrays=$,n.ZXingCharset=tf,n.ZXingInteger=I,n.ZXingStandardCharsets=lc,n.ZXingStringBuilder=ce,n.ZXingStringEncoding=le,n.ZXingSystem=D,n.createAbstractExpandedDecoder=Wx,Object.defineProperty(n,"__esModule",{value:!0})}))})(xa,xa.exports)),xa.exports}var Zt=T_();const I_=bx(Zt),M_=o8({__proto__:null,default:I_},[Zt]);var zh=(function(){function e(t,n,r){if(this.formatMap=new Map([[Ye.QR_CODE,Zt.BarcodeFormat.QR_CODE],[Ye.AZTEC,Zt.BarcodeFormat.AZTEC],[Ye.CODABAR,Zt.BarcodeFormat.CODABAR],[Ye.CODE_39,Zt.BarcodeFormat.CODE_39],[Ye.CODE_93,Zt.BarcodeFormat.CODE_93],[Ye.CODE_128,Zt.BarcodeFormat.CODE_128],[Ye.DATA_MATRIX,Zt.BarcodeFormat.DATA_MATRIX],[Ye.MAXICODE,Zt.BarcodeFormat.MAXICODE],[Ye.ITF,Zt.BarcodeFormat.ITF],[Ye.EAN_13,Zt.BarcodeFormat.EAN_13],[Ye.EAN_8,Zt.BarcodeFormat.EAN_8],[Ye.PDF_417,Zt.BarcodeFormat.PDF_417],[Ye.RSS_14,Zt.BarcodeFormat.RSS_14],[Ye.RSS_EXPANDED,Zt.BarcodeFormat.RSS_EXPANDED],[Ye.UPC_A,Zt.BarcodeFormat.UPC_A],[Ye.UPC_E,Zt.BarcodeFormat.UPC_E],[Ye.UPC_EAN_EXTENSION,Zt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!M_)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(t),a=new Map;a.set(Zt.DecodeHintType.POSSIBLE_FORMATS,i),a.set(Zt.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,i){try{r(n.decode(t))}catch(a){i(a)}})},e.prototype.decode=function(t){var n=new Zt.MultiFormatReader(this.verbose,this.hints),r=new Zt.HTMLCanvasElementLuminanceSource(t),i=new Zt.BinaryBitmap(new Zt.HybridBinarizer(r)),a=n.decode(i);return{text:a.text,format:wy.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e})(),P_=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{f(r.next(m))}catch(y){c(y)}}function g(m){try{f(r.throw(m))}catch(y){c(y)}}function f(m){m.done?a(m.value):i(m.value).then(u,g)}f((r=r.apply(e,t||[])).next())})},R_=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(m){return g([f,m])}}function g(f){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(m){f=[6,m],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Vh=(function(){function e(t,n,r){if(this.formatMap=new Map([[Ye.QR_CODE,"qr_code"],[Ye.AZTEC,"aztec"],[Ye.CODABAR,"codabar"],[Ye.CODE_39,"code_39"],[Ye.CODE_93,"code_93"],[Ye.CODE_128,"code_128"],[Ye.DATA_MATRIX,"data_matrix"],[Ye.ITF,"itf"],[Ye.EAN_13,"ean_13"],[Ye.EAN_8,"ean_8"],[Ye.PDF_417,"pdf417"],[Ye.UPC_A,"upc_a"],[Ye.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return P_(this,void 0,void 0,function(){var n,r;return R_(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:wy.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,i=0,a=t;i<a.length;i++){var c=a[i],u=c.boundingBox.width*c.boundingBox.height;u>r&&(r=u,n=c)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var a=i[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e})(),qh=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{f(r.next(m))}catch(y){c(y)}}function g(m){try{f(r.throw(m))}catch(y){c(y)}}function f(m){m.done?a(m.value):i(m.value).then(u,g)}f((r=r.apply(e,t||[])).next())})},Wh=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(m){return g([f,m])}}function g(f){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(m){f=[6,m],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},O_=(function(){function e(t,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&Vh.isSupported()?(this.primaryDecoder=new Vh(t,r,i),this.secondaryDecoder=new zh(t,r,i)):this.primaryDecoder=new zh(t,r,i)}return e.prototype.decodeAsync=function(t){return qh(this,void 0,void 0,function(){var n;return Wh(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return qh(this,void 0,void 0,function(){var n,r;return Wh(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];t+=i}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e})(),_x=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),p0=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{f(r.next(m))}catch(y){c(y)}}function g(m){try{f(r.throw(m))}catch(y){c(y)}}function f(m){m.done?a(m.value):i(m.value).then(u,g)}f((r=r.apply(e,t||[])).next())})},m0=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(m){return g([f,m])}}function g(f){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(m){f=[6,m],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},_y=(function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e})(),N_=(function(e){_x(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t})(_y),L_=(function(e){_x(t,e);function t(n){return e.call(this,"zoom",n)||this}return t})(N_),$_=(function(e){_x(t,e);function t(n){return e.call(this,"torch",n)||this}return t})(_y),j_=(function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new L_(this.track)},e.prototype.torchFeature=function(){return new $_(this.track)},e})(),U_=(function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,i),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,i){return p0(this,void 0,void 0,function(){var a,c;return m0(this,function(u){switch(u.label){case 0:return a=new e(t,n,i),r.aspectRatio?(c={aspectRatio:r.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:u.sent(),u.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return p0(this,void 0,void 0,function(){return m0(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var i=t.mediaStream.getVideoTracks(),a=i.length,c=0;t.mediaStream.getVideoTracks().forEach(function(u){t.mediaStream.removeTrack(u),u.stop(),++c,c>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new j_(this.getFirstTrackOrFail())},e})(),H_=(function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return p0(this,void 0,void 0,function(){return m0(this,function(i){return[2,U_.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return p0(this,void 0,void 0,function(){var n,r;return m0(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new e(r)]}})})},e})(),Gh=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{f(r.next(m))}catch(y){c(y)}}function g(m){try{f(r.throw(m))}catch(y){c(y)}}function f(m){m.done?a(m.value):i(m.value).then(u,g)}f((r=r.apply(e,t||[])).next())})},Qh=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(m){return g([f,m])}}function g(f){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(m){f=[6,m],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},z_=(function(){function e(){}return e.failIfNotSupported=function(){return Gh(this,void 0,void 0,function(){return Qh(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Gh(this,void 0,void 0,function(){return Qh(this,function(n){return[2,H_.create(t)]})})},e})(),V_=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{f(r.next(m))}catch(y){c(y)}}function g(m){try{f(r.throw(m))}catch(y){c(y)}}function f(m){m.done?a(m.value):i(m.value).then(u,g)}f((r=r.apply(e,t||[])).next())})},q_=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(m){return g([f,m])}}function g(f){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(m){f=[6,m],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},W_=(function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=mi.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=mi.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return V_(this,void 0,void 0,function(){var t,n,r,i,a,c,u;return q_(this,function(g){switch(g.label){case 0:return t=function(f){for(var m=f.getVideoTracks(),y=0,w=m;y<w.length;y++){var E=w[y];E.enabled=!1,E.stop(),f.removeTrack(E)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=g.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=g.sent(),i=[],a=0,c=r;a<c.length;a++)u=c[a],u.kind==="videoinput"&&i.push({id:u.deviceId,label:u.label});return t(n),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(a){for(var c=[],u=0,g=a;u<g.length;u++){var f=g[u];f.kind==="video"&&c.push({id:f.id,label:f.label})}t(c)},i=MediaStreamTrack;i.getSources(r)})},e})(),ln;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(ln||(ln={}));var G_=(function(){function e(){this.state=ln.NOT_STARTED,this.onGoingTransactionNewState=ln.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===ln.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=ln.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===ln.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=ln.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==ln.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case ln.UNKNOWN:throw"Transition from unknown is not allowed";case ln.NOT_STARTED:this.failIfNewStateIs(t,[ln.PAUSED]);break;case ln.SCANNING:break;case ln.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,i=n;r<i.length;r++){var a=i[r];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e})(),Q_=(function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===ln.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==ln.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===ln.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===ln.PAUSED},e})(),K_=(function(){function e(){}return e.create=function(){return new Q_(new G_)},e})(),Y_=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),pr=(function(e){Y_(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t})(zr),X_=(function(){function e(t,n){this.logger=n,this.fps=pr.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=pr.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?By.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!cs(this.qrbox)},e.create=function(t,n){return new e(t,n)},e})(),Na=(function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new Ay(this.verbose),this.qrcode=new O_(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=K_.create()}return e.prototype.start=function(t,n,r,i){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var c;i?c=i:c=this.verbose?this.logger.log:function(){};var u=X_.create(n,this.logger);this.clearElement();var g=!1;u.videoConstraints&&(u.isMediaStreamConstraintsValid()?g=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var f=g,m=document.getElementById(this.elementId);m.clientWidth?m.clientWidth:pr.DEFAULT_WIDTH,m.style.position="relative",this.shouldScan=!0,this.element=m;var y=this,w=this.stateManagerProxy.startTransition(ln.SCANNING);return new Promise(function(E,C){var D=f?u.videoConstraints:y.createVideoConstraints(t);if(!D){w.cancel(),C("videoConstraints should be defined");return}var _={};(!f||u.aspectRatio)&&(_.aspectRatio=u.aspectRatio);var M={onRenderSurfaceReady:function($,I){y.setupUi($,I,u),y.isScanning=!0,y.foreverScan(u,r,c)}};z_.failIfNotSupported().then(function($){$.create(D).then(function(I){return I.render(a.element,_,M).then(function(S){y.renderedCamera=S,w.execute(),E(null)}).catch(function(S){w.cancel(),C(S)})}).catch(function(I){w.cancel(),C(mi.errorGettingUserMedia(I))})}).catch(function($){w.cancel(),C(mi.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(ln.PAUSED),this.showPausedState(),(cs(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(ln.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(ln.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var a=document.getElementById(pr.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(cs(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var c=new Image;c.onload=function(){var u=c.width,g=c.height,f=document.getElementById(r.elementId),m=f.clientWidth?f.clientWidth:pr.DEFAULT_WIDTH,y=Math.max(f.clientHeight?f.clientHeight:g,pr.FILE_SCAN_MIN_HEIGHT),w=r.computeCanvasDrawConfig(u,g,m,y);if(n){var E=r.createCanvasElement(m,y,"qr-canvas-visible");E.style.display="inline-block",f.appendChild(E);var C=E.getContext("2d");if(!C)throw"Unable to get 2d context from canvas";C.canvas.width=m,C.canvas.height=y,C.drawImage(c,0,0,u,g,w.x,w.y,w.width,w.height)}var D=pr.FILE_SCAN_HIDDEN_CANVAS_PADDING,_=Math.max(c.width,w.width),M=Math.max(c.height,w.height),$=_+2*D,I=M+2*D,S=r.createCanvasElement($,I);f.appendChild(S);var T=S.getContext("2d");if(!T)throw"Unable to get 2d context from canvas";T.canvas.width=$,T.canvas.height=I,T.drawImage(c,0,0,u,g,D,D,_,M);try{r.qrcode.decodeRobustlyAsync(S).then(function(j){i(jh.createFromQrcodeResult(j))}).catch(a)}catch(j){a("QR code parse error, error = ".concat(j))}},c.onerror=a,c.onabort=a,c.onstalled=a,c.onsuspend=a,c.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return W_.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!By.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[Ye.QR_CODE,Ye.AZTEC,Ye.CODABAR,Ye.CODE_39,Ye.CODE_93,Ye.CODE_128,Ye.DATA_MATRIX,Ye.MAXICODE,Ye.ITF,Ye.EAN_13,Ye.EAN_8,Ye.PDF_417,Ye.RSS_14,Ye.RSS_EXPANDED,Ye.UPC_A,Ye.UPC_E,Ye.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,a=t.formatsToSupport;i<a.length;i++){var c=a[i];k_(c)?r.push(c):this.logger.warn("Invalid format: ".concat(c," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(cs(t))return!0;if(!cs(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(cs(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return cs(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var i=this,a=r.qrbox;this.validateQrboxConfig(a);var c=this.toQrdimensions(t,n,a),u=function(f){if(f<pr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(pr.MIN_QR_BOX_SIZE,"px.")},g=function(f){return f>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),f=t),f};u(c.width),u(c.height),c.width=g(c.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var i=cs(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(t,n,i);a.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=r.isShadedBoxEnabled()&&a.height<=n,u={x:0,y:0,width:t,height:n},g=c?this.getShadedRegionBounds(t,n,a):u,f=this.createCanvasElement(g.width,g.height),m={willReadFrequently:!0},y=f.getContext("2d",m);y.canvas.width=g.width,y.canvas.height=g.height,this.element.append(f),c&&this.possiblyInsertShadingElement(this.element,t,n,a),this.createScannerPausedUiElement(this.element),this.qrRegion=g,this.context=y,this.canvasElement=f},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=mi.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,jh.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var a=mi.codeParseError(i);return n(a,Cy.createFrom(a)),!1})},e.prototype.foreverScan=function(t,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),c=a.videoWidth/a.clientWidth,u=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var g=this.qrRegion.width*c,f=this.qrRegion.height*u,m=this.qrRegion.x*c,y=this.qrRegion.y*u;this.context.drawImage(a,m,y,g,f,0,0,this.qrRegion.width,this.qrRegion.height);var w=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,n,r)},i.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(E){!E&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){w()})):w()}).catch(function(E){i.logger.logError("Error happend while scanning context",E),w()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},a="exact",c=function(C){if(C in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(C,"'")},u=Object.keys(t);if(u.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(u.length," keys");var g=Object.keys(t)[0];if(g!==n&&g!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(g===n){var f=t.facingMode;if(typeof f=="string"){if(c(f))return{facingMode:f}}else if(typeof f=="object")if(a in f){if(c(f["".concat(a)]))return{facingMode:{exact:f["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var m=typeof f;throw"Invalid type of 'facingMode' = ".concat(m)}}else{var y=t.deviceId;if(typeof y=="string")return{deviceId:y};if(typeof y=="object"){if(a in y)return{deviceId:{exact:y["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var w=typeof y;throw"Invalid type of 'deviceId' = ".concat(w)}}}var E=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(E)},e.prototype.computeCanvasDrawConfig=function(t,n,r,i){if(t<=r&&n<=i){var a=(r-t)/2,c=(i-n)/2;return{x:a,y:c,width:t,height:n}}else{var u=t,g=n;return t>r&&(n=r/t*n,t=r),n>i&&(t=i/n*t,n=i),this.logger.log("Image downsampled from "+"".concat(u,"X").concat(g)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?pr.BORDER_SHADER_MATCH_COLOR:pr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var i=t,a=n,c=document.createElement("canvas");return c.style.width="".concat(i,"px"),c.style.height="".concat(a,"px"),c.style.display="none",c.id=cs(r)?"qr-canvas":r,c},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,i){if(!(n-i.width<1||r-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var c=(n-i.width)/2,u=(r-i.height)/2;if(a.style.borderLeft="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(pr.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var g=5,f=40;this.insertShaderBorders(a,f,g,-g,null,0,!0),this.insertShaderBorders(a,f,g,-g,null,0,!1),this.insertShaderBorders(a,f,g,null,-g,0,!0),this.insertShaderBorders(a,f,g,null,-g,0,!1),this.insertShaderBorders(a,g,f+g,-g,null,-g,!0),this.insertShaderBorders(a,g,f+g,null,-g,-g,!0),this.insertShaderBorders(a,g,f+g,-g,null,-g,!1),this.insertShaderBorders(a,g,f+g,null,-g,-g,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,n,r,i,a,c,u){var g=document.createElement("div");g.style.position="absolute",g.style.backgroundColor=pr.BORDER_SHADER_DEFAULT_COLOR,g.style.width="".concat(n,"px"),g.style.height="".concat(r,"px"),i!==null&&(g.style.top="".concat(i,"px")),a!==null&&(g.style.bottom="".concat(a,"px")),u?g.style.left="".concat(c,"px"):g.style.right="".concat(c,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(g),t.appendChild(g)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e})(),Dx="data:image/svg+xml;base64,",Z_=Dx+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",J_=Dx+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Kh=Dx+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",eD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Yh=(function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e})(),tD=(function(){function e(){this.data=Yh.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=Yh.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e})(),nD=(function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Uh.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(i);var a=document.createElement("a");a.innerText=Uh.reportIssues(),a.href="https://github.com/mebjas/html5-qrcode/issues",a.target="new",a.style.color="white",this.infoDiv.appendChild(a),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e})(),rD=(function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Kh,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=eD,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Kh,this.infoIcon.style.opacity="0.6")},e})(),sD=(function(){function e(){var t=this;this.infoDiv=new nD,this.infoIcon=new rD(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e})(),oD=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{f(r.next(m))}catch(y){c(y)}}function g(m){try{f(r.throw(m))}catch(y){c(y)}}function f(m){m.done?a(m.value):i(m.value).then(u,g)}f((r=r.apply(e,t||[])).next())})},iD=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(m){return g([f,m])}}function g(f){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(m){f=[6,m],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Xh=(function(){function e(){}return e.hasPermissions=function(){return oD(this,void 0,void 0,function(){var t,n,r,i;return iD(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=a.sent(),n=0,r=t;n<r.length;n++)if(i=r[n],i.kind==="videoinput"&&i.label)return[2,!0];return[2,!1]}})})},e})(),Ws=(function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(t){return t===uo.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===uo.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return zr.DEFAULT_SUPPORTED_SCAN_TYPE;var n=zr.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,i=t;r<i.length;r++){var a=i[r];if(!zr.DEFAULT_SUPPORTED_SCAN_TYPE.includes(a))throw"Unsupported scan type ".concat(a)}return t},e})(),br=(function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e})(),ks=(function(){function e(){}return e.createElement=function(t,n){var r=document.createElement(t);return r.id=n,r.classList.add(br.ALL_ELEMENT_CLASS),t==="button"&&r.setAttribute("type","button"),r},e})(),Dy=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function u(m){try{f(r.next(m))}catch(y){c(y)}}function g(m){try{f(r.throw(m))}catch(y){c(y)}}function f(m){m.done?a(m.value):i(m.value).then(u,g)}f((r=r.apply(e,t||[])).next())})},ky=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(m){return g([f,m])}}function g(f){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(m){f=[6,m],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Zh=(function(){function e(t,n,r){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return Dy(this,void 0,void 0,function(){var t,n;return ky(this,function(r){switch(r.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=r.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?jt.torchOffButton():jt.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var r=t?jt.torchOnFailedMessage():jt.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e})(),aD=(function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=ks.createElement("button",br.TORCH_BUTTON_ID),this.torchController=new Zh(t,this,n)}return e.prototype.render=function(t,n){var r=this;this.torchButton.innerText=jt.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var i=this;this.torchButton.addEventListener("click",function(a){return Dy(r,void 0,void 0,function(){return ky(this,function(c){switch(c.label){case 0:return[4,i.torchController.flipState()];case 1:return c.sent(),i.torchController.isTorchEnabled()?(i.torchButton.classList.remove(br.TORCH_BUTTON_CLASS_TORCH_OFF),i.torchButton.classList.add(br.TORCH_BUTTON_CLASS_TORCH_ON)):(i.torchButton.classList.remove(br.TORCH_BUTTON_CLASS_TORCH_ON),i.torchButton.classList.add(br.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new Zh(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=jt.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,i){var a=new e(n,i);return a.render(t,r),a},e})(),lD=(function(){function e(t,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var i=document.createElement("label");i.setAttribute("for",this.getFileScanInputId()),i.style.display="inline-block",this.fileBasedScanRegion.appendChild(i),this.fileSelectionButton=ks.createElement("button",br.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(u){i.click()}),i.append(this.fileSelectionButton),this.fileScanInput=ks.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",i.appendChild(this.fileScanInput);var a=this;this.fileScanInput.addEventListener("change",function(u){if(!(u==null||u.target==null)){var g=u.target;if(!(g.files&&g.files.length===0)){var f=g.files,m=f[0],y=m.name;a.setImageNameToButton(y),r(m)}}});var c=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(c),this.fileBasedScanRegion.addEventListener("dragenter",function(u){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(u){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(u){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(u){u.stopPropagation(),u.preventDefault(),a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder();var g=u.dataTransfer;if(g){var f=g.files;if(!f||f.length===0)return;for(var m=!1,y=0;y<f.length;++y){var w=f.item(y);if(w){var E=/image.*/;if(w.type.match(E)){m=!0;var C=w.name;a.setImageNameToButton(C),r(w),c.innerText=jt.dragAndDropMessage();break}}}m||(c.innerText=jt.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=jt.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var r=t.substring(0,8),i=t.length,a=t.substring(i-8,i);t="".concat(r,"....").concat(a)}var c=jt.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=c},e.prototype.setInitialValueToButton=function(){var t=jt.fileSelectionChooseImage()+" - "+jt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){var i=new e(t,n,r);return i},e})(),cD=(function(){function e(t){this.selectElement=ks.createElement("select",br.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var i=jt.selectCamera();n.innerText="".concat(i," (").concat(this.cameras.length,")  ")}for(var a=1,c=0,u=this.cameras;c<u.length;c++){var g=u[c],f=g.id,m=g.label==null?f:g.label;(!m||m==="")&&(m=[jt.anonymousCameraPrefix(),a++].join(" "));var y=document.createElement("option");y.value=f,y.innerText=m,this.options.push(y),this.selectElement.appendChild(y)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,r=this.options;n<r.length;n++){var i=r[n];if(i.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e})(),dD=(function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=ks.createElement("input",br.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=jt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var i=this;this.rangeInput.addEventListener("input",function(){return i.onValueChange()}),this.rangeInput.addEventListener("change",function(){return i.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=jt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,r,i){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=i.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e})(),mr;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(mr||(mr={}));function uD(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function xD(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var fD=(function(){function e(t,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Ws(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Ay(this.verbose),this.persistedDataManager=new tD,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(a,c){if(t)t(a,c);else{if(r.lastMatchFound===a)return;r.lastMatchFound=a,r.setHeaderMessage(jt.lastMatch(a),mr.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(a,c){n&&n(a,c)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new Na(this.getScanRegionId(),xD(this.config,this.verbose))},e.prototype.pause=function(t){(cs(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var r=document.getElementById(t.elementId);r&&(r.innerHTML="",t.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,i){if(!t.html5Qrcode){r();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(a){if(!t.html5Qrcode){r();return}t.html5Qrcode.clear(),n(),r()}).catch(function(a){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",a),i(a)}):(t.html5Qrcode.clear(),n(),r())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=zr.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!zr.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=zr.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=zr.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:zr.SCAN_DEFAULT_FPS,rememberLastUsedCamera:zr.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:zr.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),Ws.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var i=document.createElement("div"),a=this.getDashboardId();i.id=a,i.style.width="100%",t.appendChild(i),this.setupInitialDashboard(i)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var r=new sD;r.renderInto(n);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",n.appendChild(i)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,r){var i=this;i.showHideScanTypeSwapLink(!1),i.setHeaderMessage(jt.cameraPermissionRequesting());var a=function(){r||i.createPermissionButton(t,n)};Na.getCameras().then(function(c){i.persistedDataManager.setHasPermission(!0),i.showHideScanTypeSwapLink(!0),i.resetHeaderMessage(),c&&c.length>0?(t.removeChild(n),i.renderCameraSelection(c)):(i.setHeaderMessage(jt.noCameraFound(),mr.STATUS_WARNING),a())}).catch(function(c){i.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:a(),i.setHeaderMessage(c,mr.STATUS_WARNING),i.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var r=this,i=ks.createElement("button",this.getCameraPermissionButtonId());i.innerText=jt.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,r.createCameraListUi(t,n,i)}),n.appendChild(i)},e.prototype.createPermissionsUi=function(t,n){var r=this;if(Ws.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Xh.hasPermissions().then(function(i){i?r.createCameraListUi(t,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n))}).catch(function(i){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=Ws.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var i=document.createElement("div");i.style.textAlign="center",r.appendChild(i),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,i),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=Ws.isFileScanType(this.currentScanType),r=this,i=function(a){if(!r.html5Qrcode)throw"html5Qrcode not defined";Ws.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(jt.loadingImage()),r.html5Qrcode.scanFileV2(a,!0).then(function(c){r.resetHeaderMessage(),r.qrCodeSuccessCallback(c.decodedText,c)}).catch(function(c){r.setHeaderMessage(c,mr.STATUS_WARNING),r.qrCodeErrorCallback(c,Cy.createFrom(c))}))};this.fileSelectionUi=lD.create(t,n,i)},e.prototype.renderCameraSelection=function(t){var n=this,r=this,i=document.getElementById(this.getDashboardSectionCameraScanRegionId());i.style.textAlign="center";var a=dD.create(i,!1),c=function(D){var _=D.zoomFeature();if(_.isSupported()){a.setOnCameraZoomValueChangeCallback(function($){_.apply($)});var M=1;n.config.defaultZoomValueIfSupported&&(M=n.config.defaultZoomValueIfSupported),M=S_(M,_.min(),_.max()),a.setValues(_.min(),_.max(),M,_.step()),a.show()}},u=cD.create(i,t),g=document.createElement("span"),f=ks.createElement("button",br.CAMERA_START_BUTTON_ID);f.innerText=jt.scanButtonStartScanningText(),g.appendChild(f);var m=ks.createElement("button",br.CAMERA_STOP_BUTTON_ID);m.innerText=jt.scanButtonStopScanningText(),m.style.display="none",m.disabled=!0,g.appendChild(m);var y,w=function(D){if(!D.torchFeature().isSupported()){y&&y.hide();return}y?y.updateTorchCapability(D.torchFeature()):y=aD.create(g,D.torchFeature(),{display:"none",marginLeft:"5px"},function(_){r.setHeaderMessage(_,mr.STATUS_WARNING)}),y.show()};i.appendChild(g);var E=function(D){D||(f.style.display="none"),f.innerText=jt.scanButtonStartScanningText(),f.style.opacity="1",f.disabled=!1,D&&(f.style.display="inline-block")};if(f.addEventListener("click",function(D){f.innerText=jt.scanButtonScanningStarting(),u.disable(),f.disabled=!0,f.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var _=u.getValue();r.persistedDataManager.setLastUsedCameraId(_),r.html5Qrcode.start(_,uD(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(M){m.disabled=!1,m.style.display="inline-block",E(!1);var $=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&w($),n.config.showZoomSliderIfSupported===!0&&c($)}).catch(function(M){r.showHideScanTypeSwapLink(!0),u.enable(),E(!0),r.setHeaderMessage(M,mr.STATUS_WARNING)})}),u.hasSingleItem()&&f.click(),m.addEventListener("click",function(D){if(!r.html5Qrcode)throw"html5Qrcode not defined";m.disabled=!0,r.html5Qrcode.stop().then(function(_){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),u.enable(),f.disabled=!1,m.style.display="none",f.style.display="inline-block",y&&(y.reset(),y.hide()),a.removeOnCameraZoomValueChangeCallback(),a.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(_){m.disabled=!1,r.setHeaderMessage(_,mr.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var C=r.persistedDataManager.getLastUsedCameraId();u.hasValue(C)?(u.setValue(C),f.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=jt.textIfCameraScanSelected(),r=jt.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");a.style.textAlign="center";var c=ks.createElement("span",this.getDashboardSectionSwapLinkId());c.style.textDecoration="underline",c.style.cursor="pointer",c.innerText=Ws.isCameraScanType(this.currentScanType)?n:r,c.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Ws.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),c.innerText=r,t.currentScanType=uo.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),c.innerText=n,t.currentScanType=uo.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),a.appendChild(c),i.appendChild(a)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){Xh.hasPermissions().then(function(r){if(r){var i=document.getElementById(n.getCameraPermissionButtonId());if(!i)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";i.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=mr.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=t,r.style.display="block",n){case mr.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case mr.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case mr.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=Z_,this.cameraScanImage.alt=jt.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=J_,this.fileScanImage.alt=jt.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return br.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return br.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e})();const hD={class:"min-h-screen bg-gray-50 p-2 sm:p-4 md:p-6 transition-colors duration-300"},gD={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"},pD={class:"bg-white rounded-xl shadow p-4 border-l-4 border-blue-500"},mD={class:"flex justify-between items-start"},yD={class:"text-2xl font-bold text-gray-800 mt-1"},bD={class:"bg-white rounded-xl shadow p-4 border-l-4 border-green-500"},vD={class:"flex justify-between items-start"},ED={class:"text-2xl font-bold text-gray-800 mt-1"},wD={class:"text-xs font-normal text-gray-400"},CD={class:"w-full bg-gray-200 rounded-full h-1.5 mt-2"},AD={class:"flex justify-between items-start"},BD={class:"flex justify-between items-start"},_D={class:"text-2xl font-bold text-orange-600 mt-1"},DD={class:"bg-white p-4 rounded-lg shadow mb-6 border border-gray-100"},kD={class:"flex flex-col md:flex-row justify-between gap-4"},SD={class:"flex flex-wrap gap-2 w-full md:w-3/4"},FD={class:"flex flex-col sm:flex-row gap-2 w-full md:w-auto"},TD={class:"relative flex-grow sm:flex-grow-0 flex gap-2"},ID={class:"relative w-full sm:w-64"},MD=["disabled"],PD={key:0},RD={key:1},OD={class:"overflow-x-auto bg-white shadow-md rounded-lg"},ND={class:"w-full border-collapse border border-blue-300 text-sm"},LD={class:"bg-blue-200 text-gray-800 font-semibold text-center"},$D={rowspan:"2",class:"border border-blue-400 p-2 align-middle w-10"},jD={class:"border border-gray-300 p-2 text-center"},UD=["value"],HD={class:"border border-gray-300 p-2 bg-gray-50 text-xs font-mono font-bold text-blue-900"},zD=["title"],VD={class:"border border-gray-300 p-2 bg-gray-50 text-right whitespace-nowrap"},qD={class:"font-bold text-gray-800"},WD={class:"border border-gray-300 p-2 bg-gray-50 font-bold"},GD={class:"border border-gray-300 p-1"},QD=["onClick"],KD={class:"truncate max-w-[80px]"},YD={class:"border border-gray-300 p-1"},XD=["onClick"],ZD={class:"truncate max-w-[80px]"},JD={class:"border border-gray-300 p-1"},ek=["onUpdate:modelValue","disabled"],tk={class:"border border-gray-300 p-1 bg-yellow-50"},nk=["onUpdate:modelValue"],rk={class:"border border-gray-300 p-1 bg-yellow-50 text-center align-middle"},sk={key:0,class:"flex flex-col items-center justify-center"},ok={key:0,class:"text-[9px] text-red-400 mt-1"},ik=["onClick"],ak={key:2,class:"text-green-600 font-bold text-[10px] border border-green-600 bg-green-50 px-2 py-0.5 rounded inline-block"},lk={key:3,class:"text-gray-400 text-[10px]"},ck={key:0,class:"bg-gray-50"},dk={colspan:"11",class:"border border-gray-300 p-2"},uk={class:"flex items-center justify-between"},xk=["onClick"],fk={key:1,class:"text-xs text-gray-500 italic"},hk=["onClick"],gk={key:0,class:"mt-3 overflow-x-auto"},pk={class:"w-full text-xs border border-gray-300"},mk={class:"border border-gray-300 p-2 text-center"},yk={class:"border border-gray-300 p-2 text-right"},bk={class:"border border-gray-300 p-2 text-right"},vk={class:"border border-gray-300 p-2 text-center"},Ek={class:"border border-gray-300 p-2"},wk={key:0,class:"mb-4 p-4 bg-green-100 text-green-700 rounded border border-green-200"},Ck={key:1,class:"fixed inset-0 z-[70] flex items-center justify-center bg-black/50 backdrop-blur-sm"},Ak={class:"bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4 flex flex-col max-h-[90vh]"},Bk={class:"p-4 border-b bg-gray-50 flex justify-between items-center rounded-t-lg"},_k={class:"p-6 overflow-y-auto"},Dk={class:"text-sm text-gray-600 mb-4"},kk={class:"border rounded-lg overflow-hidden"},Sk={class:"w-full text-sm"},Fk={class:"divide-y divide-gray-200"},Tk={class:"p-2"},Ik={class:"p-2"},Mk={class:"p-2"},Pk={class:"p-2 text-right font-bold"},Rk={class:"p-4 border-t bg-gray-50 flex justify-end gap-3 rounded-b-lg"},Ok={key:2,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm transition-opacity"},Nk={class:"bg-white rounded-lg shadow-2xl w-full max-w-sm mx-4 overflow-hidden relative animate-fade-in-down"},Lk={class:"bg-gray-100 px-4 py-3 border-b flex justify-between items-center"},$k={class:"font-bold text-gray-800 text-sm"},jk={class:"text-blue-600"},Uk={class:"p-0 bg-white relative"},Hk={key:0,class:"absolute inset-0 flex items-center justify-center text-white text-xs"},zk={key:3,class:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 backdrop-blur-sm"},Vk={class:"bg-white rounded-lg shadow-xl max-w-sm w-full mx-4 p-6 text-center animate-bounce-short"},qk={class:"text-sm text-gray-500 mb-6"},Wk={key:0,class:"inline-flex items-center gap-2 text-gray-500"},Gk={key:1,class:"text-xs text-gray-400 italic"},Qk=Lr({__name:"CycleCount",props:{initialStocks:Array,nextPageUrl:String,filters:Object,statistics:Object},setup(e){const t=e,n=tl({items:[]}),r=ve([]),i=ve(null),a=ve(t.nextPageUrl),c=ve(!1);let u=null;const g=ho({search:t.filters?.search||"",status:t.filters?.status||"",frequency:t.filters?.frequency||""}),f=()=>{gt.get("/transaction/cycle-count",g,{preserveState:!0,replace:!0,onSuccess:()=>{}})},m=()=>{g.search="",g.status="",g.frequency="",f()},y=()=>{g.frequency="never",f()},w=X=>{X.target.checked?r.value=[...n.items]:r.value=[]},E=X=>r.value.some(B=>B.material_id===X.material_id&&B.bin_id===X.bin_id),C=()=>{r.value.length!==0&&(showBulkModal.value=!0)},D=()=>{const X=r.value.map(B=>({material_id:B.material_id,bin_id:B.bin_id}));gt.post("/transaction/cycle-count/bulk-repeat",{targets:X},{onSuccess:()=>{showBulkModal.value=!1,r.value=[],alert(`Berhasil membuat ${X.length} cycle count baru!`),gt.reload()},onError:B=>{console.error(B),alert("Gagal memproses permintaan bulk.")}})},_=ve(t.filters?.search||""),M=()=>{gt.get("/transaction/cycle-count",{search:_.value},{preserveState:!0,replace:!0})},$=()=>{_.value="",M()},I=ve(!1),S=ve(!1),T=ve(null),j=ve("");let L=null;const z=ve(!1),F=ve("");Gn(()=>{Q()});const Q=()=>{t.initialStocks&&(n.items=JSON.parse(JSON.stringify(t.initialStocks)),n.items.forEach(X=>{X.showHistory=!1}),r.value=[],a.value=t.nextPageUrl,le())};Pn(()=>t.initialStocks,()=>{Q()});const le=()=>{u&&u.disconnect(),a.value&&yr(()=>{const X=i.value;X&&(u=new IntersectionObserver(B=>{B[0].isIntersecting&&!c.value&&a.value&&(console.log("Trigger Load More..."),Y())},{root:null,rootMargin:"100px",threshold:.1}),u.observe(X))})},Y=async()=>{if(!(c.value||!a.value)){c.value=!0;try{console.log("Fetching: "+a.value);const X=await St.get(a.value,{params:{...g},headers:{Accept:"application/json"}}),B=X.data.data,k=X.data.next_page_url;B&&B.length>0?(B.forEach(R=>R.showHistory=!1),n.items=[...n.items,...B],a.value=k,k?le():u&&u.disconnect()):a.value=null}catch(X){console.error("Gagal memuat data tambahan:",X),alert("Gagal memuat data. Periksa koneksi internet.")}finally{c.value=!1}}};M0(()=>{L&&L.clear().catch(X=>console.error(X)),u&&u.disconnect()});const ce=X=>{if(!X)return"";const B=X.toString().trim().toUpperCase();if(B.includes("|")){const k=B.split("|");if(k.length>=3)return k[2]}return B},me=(X,B)=>{T.value=X,j.value=B,I.value=!0,S.value=!0,setTimeout(()=>{yr(()=>{te()})},300)},te=()=>{if(!document.getElementById("reader"))return;const X={fps:10,qrbox:{width:200,height:200},aspectRatio:1,formatsToSupport:[Ye.QR_CODE,Ye.CODE_128,Ye.CODE_39]};L&&L.clear().catch(B=>console.warn(B));try{L=new fD("reader",X,!1),L.render(ne,()=>{}),S.value=!1}catch{alert("Error Camera"),de()}},ne=X=>{let B=X.trim(),k=!1;try{const R=JSON.parse(B);j.value==="scan_bin"&&R.bin_code&&(B=R.bin_code,k=!0)}catch{}if((j.value==="scan_serial"||j.value==="search")&&!k&&(B=ce(B)),B=B.toUpperCase(),j.value==="search"){_.value=B,M(),de();return}if(T.value&&j.value){let R="",N="";if(j.value==="scan_bin"?(R=be(T.value.location),N="Lokasi Bin"):j.value==="scan_serial"&&(R=ce(T.value.serial_number),N="Serial Number"),B!==R){de(),F.value=`Kode ${N} (${B}) TIDAK SESUAI target (${R}).`,z.value=!0;return}T.value[j.value]=B}de()},de=()=>{L?L.clear().catch(()=>{}).finally(()=>{L=null,I.value=!1}):I.value=!1},be=X=>(X||"").toString().trim().toUpperCase(),De=X=>{const B=be(X.scan_serial),k=ce(X.serial_number);return B===k&&B.length>0},Ie=X=>be(X.scan_bin)===be(X.location)&&!!X.scan_bin,fe=X=>De(X)&&Ie(X),Pe=X=>new Intl.NumberFormat("en-US").format(X),Ge=X=>{if(!fe(X))return"0.00";const B=X.physical_qty??0,k=X.onhand;return k?(B/k*100).toFixed(2):"0.00"},Ne=X=>{if(!fe(X))return"0.00";const B=X.physical_qty;if(B==null||B==="")return"0.00";const k=X.onhand;return k?((B-k)/k*100).toFixed(2):"0.00"},tt=X=>{if(!fe(X))return"text-gray-300";const B=parseFloat(Ge(X));return B===100?"text-green-600":B>100?"text-blue-600":"text-red-600"},Re=X=>parseFloat(Ne(X))===0?"text-gray-400":"text-red-600",Je=X=>{switch(X){case"KARANTINA":return"bg-orange-100 text-orange-700 border-orange-300";case"RELEASED":return"bg-green-100 text-green-700 border-green-300";case"HOLD":return"bg-gray-100 text-gray-700 border-gray-300";case"REJECTED":return"bg-red-100 text-red-700 border-red-300";default:return"bg-gray-50 text-gray-500 border-gray-200"}},et=()=>{confirm("Simpan hasil opname?")&&n.post("/transaction/cycle-count/store",{onSuccess:()=>{alert("Berhasil disubmit ke Supervisor!")},onError:X=>{console.error(X),alert("Gagal menyimpan data.")}})},st=X=>{if(X.status!=="REVIEW_NEEDED"){alert("Item belum disubmit oleh Warehouseman!");return}!X.spv_note&&!confirm("Approve tanpa catatan?")||gt.post("/transaction/cycle-count/approve",{id:X.id,material_id:X.material_id,spv_note:X.spv_note},{onSuccess:()=>{X.status="APPROVED",alert("Item berhasil diapprove!")},onError:B=>{alert("Gagal: Item mungkin belum disubmit.")}})},Te=X=>{n.items[X].showHistory=!n.items[X].showHistory},re=X=>{confirm(`Apakah Anda yakin ingin mengulang cycle count untuk ${X.product_name}?`)&&gt.post("/transaction/cycle-count/repeat",{material_id:X.material_id,bin_id:X.bin_id},{onSuccess:()=>{alert("Cycle count baru berhasil dibuat!"),gt.reload()},onError:B=>{console.error(B),alert("Gagal membuat cycle count baru.")}})};return(X,B)=>(U(),Et(Qn,{title:"Cycle Count"},{default:bt(()=>[o("div",hD,[o("div",gD,[o("div",pD,[o("div",mD,[o("div",null,[B[9]||(B[9]=o("p",{class:"text-xs text-gray-500 uppercase font-bold"},"Total SKU (Stock)",-1)),o("h3",yD,P(Pe(e.statistics.total_sku)),1)]),B[10]||(B[10]=o("div",{class:"p-2 bg-blue-100 rounded-lg text-blue-600"},[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])],-1))])]),o("div",bD,[o("div",vD,[o("div",null,[B[11]||(B[11]=o("p",{class:"text-xs text-gray-500 uppercase font-bold"},"Sudah Opname (Bulan Ini)",-1)),o("h3",ED,[qe(P(Pe(e.statistics.counted_items))+" ",1),o("span",wD,"/ "+P(Pe(e.statistics.total_sku)),1)]),o("div",CD,[o("div",{class:"bg-green-500 h-1.5 rounded-full",style:Oi(`width: ${e.statistics.progress_percentage}%`)},null,4)])]),B[12]||(B[12]=o("div",{class:"p-2 bg-green-100 rounded-lg text-green-600"},[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),o("div",{class:Fe(["bg-white rounded-xl shadow p-4 border-l-4",e.statistics.avg_accuracy>=98?"border-indigo-500":"border-red-500"])},[o("div",AD,[o("div",null,[B[13]||(B[13]=o("p",{class:"text-xs text-gray-500 uppercase font-bold"},"Rata-rata Akurasi",-1)),o("h3",{class:Fe(["text-2xl font-bold mt-1",e.statistics.avg_accuracy>=98?"text-indigo-600":"text-red-600"])},P(e.statistics.avg_accuracy)+"% ",3),B[14]||(B[14]=o("p",{class:"text-[10px] text-gray-400 mt-1"},"Target: >98%",-1))]),o("div",{class:Fe(["p-2 rounded-lg",e.statistics.avg_accuracy>=98?"bg-indigo-100 text-indigo-600":"bg-red-100 text-red-600"])},[...B[15]||(B[15]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})],-1)])],2)])],2),o("div",{class:"bg-white rounded-xl shadow p-4 border-l-4 border-orange-500 cursor-pointer hover:bg-orange-50 transition-colors",onClick:y},[o("div",BD,[o("div",null,[B[16]||(B[16]=o("p",{class:"text-xs text-gray-500 uppercase font-bold"},"Belum Pernah Opname",-1)),o("h3",_D,P(Pe(e.statistics.never_counted)),1),B[17]||(B[17]=o("p",{class:"text-[10px] text-orange-400 mt-1 font-bold underline"},"Klik untuk filter",-1))]),B[18]||(B[18]=o("div",{class:"p-2 bg-orange-100 rounded-lg text-orange-600"},[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])])]),o("div",DD,[o("div",kD,[o("div",SD,[Ee(o("select",{"onUpdate:modelValue":B[0]||(B[0]=k=>g.status=k),onChange:f,class:"w-full sm:w-40 text-sm border rounded bg-gray-50 py-1.5"},[...B[19]||(B[19]=[o("option",{value:""},"Semua Status",-1),o("option",{value:"DRAFT"},"Draft / Progress",-1),o("option",{value:"REVIEW_NEEDED"},"Butuh Approval",-1),o("option",{value:"APPROVED"},"Selesai (Approved)",-1)])],544),[[ct,g.status]]),Ee(o("select",{"onUpdate:modelValue":B[1]||(B[1]=k=>g.frequency=k),onChange:f,class:"w-full sm:w-48 text-sm border border-orange-300 rounded bg-orange-50 py-1.5 text-orange-800 font-semibold"},[...B[20]||(B[20]=[o("option",{value:""},"Semua Frekuensi",-1),o("option",{value:"never"},"Belum Pernah Opname",-1),o("option",{value:"rare"},"Jarang (< 2x Opname)",-1),o("option",{value:"often"},"Sering (> 5x Opname)",-1)])],544),[[ct,g.frequency]]),o("button",{onClick:m,class:"px-3 py-1.5 text-sm text-gray-500 hover:text-red-500 underline"},"Reset")]),o("div",FD,[r.value.length>0?(U(),G("button",{key:0,onClick:C,class:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg shadow transition-colors flex items-center justify-center gap-2 animate-pulse whitespace-nowrap"},[B[21]||(B[21]=o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)),o("span",null,"Ulangi ("+P(r.value.length)+")",1)])):pe("",!0),o("div",TD,[o("button",{onClick:B[2]||(B[2]=k=>me(null,"search")),class:"bg-blue-200 hover:bg-blue-300 text-blue-700 p-2 rounded-lg shadow transition-colors flex items-center justify-center"},[...B[22]||(B[22]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})],-1)])]),o("div",ID,[Ee(o("input",{type:"text","onUpdate:modelValue":B[3]||(B[3]=k=>_.value=k),onKeydown:Ni(M,["enter"]),placeholder:"Scan QR Material / Cari...",class:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"},null,544),[[Oe,_.value]]),B[24]||(B[24]=o("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[o("svg",{class:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),_.value?(U(),G("button",{key:0,onClick:$,class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600"},[...B[23]||(B[23]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])):pe("",!0)])]),o("button",{onClick:et,disabled:Ve(n).processing,class:Fe(["flex items-center justify-center gap-2 px-4 py-2 rounded shadow transition-colors whitespace-nowrap",Ve(n).processing?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"])},[Ve(n).processing?(U(),G("span",PD,"Menyimpan...")):(U(),G("span",RD,"Submit ke Supervisor"))],10,MD)])])]),o("div",OD,[o("table",ND,[o("thead",LD,[o("tr",null,[o("th",$D,[o("input",{type:"checkbox",onChange:B[4]||(B[4]=k=>w(k)),class:"rounded text-blue-600 focus:ring-blue-500 h-4 w-4"},null,32)]),B[25]||(B[25]=o("th",{rowspan:"2",class:"border border-blue-400 p-2 align-middle"},"Serial Number",-1)),B[26]||(B[26]=o("th",{rowspan:"2",class:"border border-blue-400 p-2 align-middle"},"Product Name",-1)),B[27]||(B[27]=o("th",{rowspan:"2",class:"border border-blue-400 p-2 align-middle"},"Onhand",-1)),B[28]||(B[28]=o("th",{rowspan:"2",class:"border border-blue-400 p-2 align-middle"},"Loc",-1)),B[29]||(B[29]=o("th",{colspan:"3",class:"border border-blue-400 p-2 bg-blue-300"},"Input Warehouseman",-1)),B[30]||(B[30]=o("th",{colspan:"2",class:"border border-blue-400 p-2 bg-blue-300"},"Hasil",-1)),B[31]||(B[31]=o("th",{colspan:"2",class:"border border-blue-400 p-2 bg-yellow-200"},"Area Supervisor",-1))]),B[32]||(B[32]=o("tr",null,[o("th",{class:"border border-blue-400 p-2 bg-blue-100 w-32"},"Scan Serial"),o("th",{class:"border border-blue-400 p-2 bg-blue-100 w-24"},"Scan Bin"),o("th",{class:"border border-blue-400 p-2 bg-blue-100 w-20"},"Qty"),o("th",{class:"border border-blue-400 p-2 bg-blue-100 w-20"},"Acc"),o("th",{class:"border border-blue-400 p-2 bg-blue-100 w-20"},"In Acc"),o("th",{class:"border border-blue-400 p-2 bg-yellow-100 w-40"},"Note SPV"),o("th",{class:"border border-blue-400 p-2 bg-yellow-100 w-20"},"Action")],-1))]),o("tbody",null,[(U(!0),G($e,null,nt(Ve(n).items,(k,R)=>(U(),G($e,{key:R},[o("tr",{class:Fe(["hover:bg-gray-50 text-center text-gray-700",E(k)?"bg-orange-50":""])},[o("td",jD,[Ee(o("input",{type:"checkbox",value:k,"onUpdate:modelValue":B[5]||(B[5]=N=>r.value=N),class:"rounded text-blue-600 focus:ring-blue-500 h-4 w-4 cursor-pointer"},null,8,UD),[[qo,r.value]])]),o("td",HD,P(ce(k.serial_number)),1),o("td",{class:"border border-gray-300 p-2 text-left bg-gray-50 text-xs truncate max-w-[150px]",title:k.product_name},P(k.product_name),9,zD),o("td",VD,[o("span",qD,P(Pe(k.onhand))+" "+P(k.uom),1),k.inventory_status?(U(),G("span",{key:0,class:Fe(["ml-2 text-[10px] px-1.5 py-0.5 rounded font-bold border",Je(k.inventory_status)])},P(k.inventory_status),3)):pe("",!0)]),o("td",WD,P(k.location),1),o("td",GD,[o("button",{type:"button",onClick:N=>me(k,"scan_serial"),class:Fe(["w-full py-1 px-2 text-xs rounded border flex items-center justify-center gap-1 transition-colors",De(k)?"bg-green-100 border-green-500 text-green-700 font-bold":"bg-white border-gray-300 hover:bg-gray-100"])},[B[33]||(B[33]=o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v1m6 11h2m-6 0h-2v4h2v-4zM6 6h12v12H6V6z"})],-1)),o("span",KD,P(k.scan_serial?k.scan_serial:"Scan SN"),1)],10,QD)]),o("td",YD,[o("button",{type:"button",onClick:N=>me(k,"scan_bin"),class:Fe(["w-full py-1 px-2 text-xs rounded border flex items-center justify-center gap-1 transition-colors",Ie(k)?"bg-green-100 border-green-500 text-green-700 font-bold":"bg-white border-gray-300 hover:bg-gray-100"])},[B[34]||(B[34]=o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),o("span",ZD,P(k.scan_bin?k.scan_bin:"Bin"),1)],10,XD)]),o("td",JD,[Ee(o("input",{type:"number","onUpdate:modelValue":N=>k.physical_qty=N,disabled:!fe(k),class:Fe(["w-full text-center border rounded text-xs py-1 font-bold",fe(k)?"bg-white border-blue-500 text-blue-800":"bg-gray-100 border-gray-200 text-gray-400 cursor-not-allowed"]),placeholder:"0"},null,10,ek),[[Oe,k.physical_qty,void 0,{number:!0}]])]),o("td",{class:Fe(["border border-gray-300 p-2 text-xs font-bold",tt(k)])},P(Ge(k))+"%",3),o("td",{class:Fe(["border border-gray-300 p-2 text-xs font-bold",Re(k)])},P(Ne(k))+"%",3),o("td",tk,[Ee(o("input",{type:"text","onUpdate:modelValue":N=>k.spv_note=N,class:"w-full text-xs border border-yellow-300 rounded px-1 py-1 bg-white focus:ring-yellow-500 focus:border-yellow-500",placeholder:"Catatan SPV..."},null,8,nk),[[Oe,k.spv_note]])]),o("td",rk,[k.status==="DRAFT"||!k.status?(U(),G("div",sk,[B[35]||(B[35]=o("span",{class:"text-gray-400 text-[10px] italic"},"Waiting Submit",-1)),fe(k)?pe("",!0):(U(),G("span",ok,"(Belum Scan)"))])):k.status==="REVIEW_NEEDED"?(U(),G("button",{key:1,onClick:N=>st(k),type:"button",class:"bg-blue-600 hover:bg-blue-700 text-white text-[10px] font-bold py-1 px-3 rounded shadow flex items-center justify-center gap-1 mx-auto transition-transform active:scale-95 animate-pulse"},[...B[36]||(B[36]=[o("span",null,"Approve",-1)])],8,ik)):k.status==="APPROVED"?(U(),G("span",ak," DONE ")):(U(),G("span",lk,"-"))])],2),k.status==="APPROVED"||k.history&&k.history_count>0?(U(),G("tr",ck,[o("td",dk,[o("div",uk,[k.history&&k.history_count>0?(U(),G("button",{key:0,onClick:N=>Te(R),class:"flex items-center gap-2 text-xs text-blue-600 hover:text-blue-800 font-semibold"},[(U(),G("svg",{xmlns:"http://www.w3.org/2000/svg",class:Fe(["h-4 w-4 transition-transform",k.showHistory?"rotate-180":""]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...B[37]||(B[37]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2)),o("span",null,P(k.showHistory?"Sembunyikan":"Lihat")+" Riwayat ("+P(k.history_count)+"x)",1)],8,xk)):(U(),G("span",fk," Material ini sudah selesai di-cycle count ")),o("button",{onClick:N=>re(k),class:"flex items-center gap-1 px-3 py-1 text-xs bg-orange-500 hover:bg-orange-600 text-white rounded shadow transition-colors"},[...B[38]||(B[38]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),o("span",null,"Ulangi Cycle Count",-1)])],8,hk)]),k.showHistory&&k.history&&k.history_count>0?(U(),G("div",gk,[o("table",pk,[B[39]||(B[39]=o("thead",{class:"bg-gray-200"},[o("tr",null,[o("th",{class:"border border-gray-300 p-2"},"Tanggal"),o("th",{class:"border border-gray-300 p-2"},"System Qty"),o("th",{class:"border border-gray-300 p-2"},"Physical Qty"),o("th",{class:"border border-gray-300 p-2"},"Accuracy"),o("th",{class:"border border-gray-300 p-2"},"Status"),o("th",{class:"border border-gray-300 p-2"},"Note SPV")])],-1)),o("tbody",null,[(U(!0),G($e,null,nt(k.history,(N,V)=>(U(),G("tr",{key:V,class:"hover:bg-gray-100"},[o("td",mk,P(N.count_date),1),o("td",yk,P(Pe(N.system_qty)),1),o("td",bk,P(Pe(N.physical_qty)),1),o("td",{class:Fe(["border border-gray-300 p-2 text-center font-bold",N.accuracy===100?"text-green-600":"text-red-600"])},P(N.accuracy)+"%",3),o("td",vk,[o("span",{class:Fe(["px-2 py-0.5 rounded text-[10px] font-bold",N.status==="APPROVED"?"bg-green-100 text-green-700 border border-green-500":"bg-gray-100 text-gray-600"])},P(N.status),3)]),o("td",Ek,P(N.spv_note||"-"),1)]))),128))])])])):pe("",!0)])])):pe("",!0)],64))),128))])])]),X.$page.props.flash.success?(U(),G("div",wk,P(X.$page.props.flash.success),1)):pe("",!0),X.showBulkModal?(U(),G("div",Ck,[o("div",Ak,[o("div",Bk,[B[40]||(B[40]=o("h3",{class:"text-lg font-bold text-gray-800"},"Konfirmasi Cycle Count Ulang",-1)),o("button",{onClick:B[6]||(B[6]=k=>X.showBulkModal=!1),class:"text-gray-500 hover:text-red-500 text-xl font-bold"},"")]),o("div",_k,[o("p",Dk,[B[41]||(B[41]=qe(" Anda akan mengulang cycle count untuk ",-1)),o("b",null,P(r.value.length)+" material",1),B[42]||(B[42]=qe(" berikut. Data saat ini akan di-reset menjadi DRAFT dan Warehouseman harus melakukan scan ulang. ",-1))]),o("div",kk,[o("table",Sk,[B[43]||(B[43]=o("thead",{class:"bg-gray-100"},[o("tr",null,[o("th",{class:"p-2 text-left"},"Kode Material"),o("th",{class:"p-2 text-left"},"Nama Produk"),o("th",{class:"p-2 text-left"},"Lokasi"),o("th",{class:"p-2 text-right"},"System Qty")])],-1)),o("tbody",Fk,[(U(!0),G($e,null,nt(r.value,(k,R)=>(U(),G("tr",{key:R,class:"hover:bg-gray-50"},[o("td",Tk,P(k.code),1),o("td",Ik,P(k.product_name),1),o("td",Mk,P(k.location),1),o("td",Pk,P(Pe(k.onhand)),1)]))),128))])])])]),o("div",Rk,[o("button",{onClick:B[7]||(B[7]=k=>X.showBulkModal=!1),class:"px-4 py-2 bg-gray-300 hover:bg-gray-400 text-gray-800 rounded font-semibold transition-colors"}," Batal "),o("button",{onClick:D,class:"px-4 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded font-semibold shadow transition-colors flex items-center gap-2"},[...B[44]||(B[44]=[o("span",null,"Konfirmasi & Buat Ulang",-1)])])])])])):pe("",!0),I.value?(U(),G("div",Ok,[o("div",Nk,[o("div",Lk,[o("h3",$k,[B[45]||(B[45]=qe("Scan: ",-1)),o("span",jk,P(j.value==="scan_serial"?"Serial Number":j.value==="scan_bin"?"Lokasi Bin":"Cari Material"),1)]),o("button",{onClick:de,class:"text-gray-400 hover:text-red-500 font-bold text-2xl leading-none"},"")]),o("div",Uk,[B[46]||(B[46]=o("div",{id:"reader",class:"w-full",style:{"min-height":"300px"}},null,-1)),S.value?(U(),G("div",Hk,"Memuat Kamera...")):pe("",!0)]),o("div",{class:"bg-white px-4 py-3 border-t text-center"},[o("button",{onClick:de,class:"w-full bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded shadow"},"Batal Scan")])])])):pe("",!0),z.value?(U(),G("div",zk,[o("div",Vk,[B[47]||(B[47]=o("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4"},[o("svg",{class:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})])],-1)),B[48]||(B[48]=o("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-2"},"Scan Ditolak!",-1)),o("p",qk,P(F.value),1),o("button",{onClick:B[8]||(B[8]=k=>z.value=!1),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 sm:text-sm"}," Tutup & Scan Ulang ")])])):pe("",!0),o("div",{ref_key:"scrollTrigger",ref:i,class:"py-6 text-center"},[c.value?(U(),G("div",Wk,[...B[49]||(B[49]=[o("svg",{class:"animate-spin h-5 w-5 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),o("span",{class:"text-sm font-semibold"},"Memuat data berikutnya...",-1)])])):a.value?pe("",!0):(U(),G("div",Gk," -- Semua data telah ditampilkan -- "))],512)])]),_:1}))}}),Kk=Object.freeze(Object.defineProperty({__proto__:null,default:Qk},Symbol.toStringTag,{value:"Module"}));var ui={},_d,Jh;function Yk(){return Jh||(Jh=1,_d=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),_d}var Dd={},Gs={},eg;function Zo(){if(eg)return Gs;eg=1;let e;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Gs.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},Gs.getSymbolTotalCodewords=function(r){return t[r]},Gs.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},Gs.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');e=r},Gs.isKanjiModeEnabled=function(){return typeof e<"u"},Gs.toSJIS=function(r){return e(r)},Gs}var kd={},tg;function kx(){return tg||(tg=1,(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,i){if(e.isValid(r))return r;try{return t(r)}catch{return i}}})(kd)),kd}var Sd,ng;function Xk(){if(ng)return Sd;ng=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(t){const n=Math.floor(t/8);return(this.buffer[n]>>>7-t%8&1)===1},put:function(t,n){for(let r=0;r<n;r++)this.putBit((t>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),t&&(this.buffer[n]|=128>>>this.length%8),this.length++}},Sd=e,Sd}var Fd,rg;function Zk(){if(rg)return Fd;rg=1;function e(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}return e.prototype.set=function(t,n,r,i){const a=t*this.size+n;this.data[a]=r,i&&(this.reservedBit[a]=!0)},e.prototype.get=function(t,n){return this.data[t*this.size+n]},e.prototype.xor=function(t,n,r){this.data[t*this.size+n]^=r},e.prototype.isReserved=function(t,n){return this.reservedBit[t*this.size+n]},Fd=e,Fd}var Td={},sg;function Jk(){return sg||(sg=1,(function(e){const t=Zo().getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,a=t(r),c=a===145?26:Math.ceil((a-13)/(2*i-2))*2,u=[a-7];for(let g=1;g<i-1;g++)u[g]=u[g-1]-c;return u.push(6),u.reverse()},e.getPositions=function(r){const i=[],a=e.getRowColCoords(r),c=a.length;for(let u=0;u<c;u++)for(let g=0;g<c;g++)u===0&&g===0||u===0&&g===c-1||u===c-1&&g===0||i.push([a[u],a[g]]);return i}})(Td)),Td}var Id={},og;function eS(){if(og)return Id;og=1;const e=Zo().getSymbolSize,t=7;return Id.getPositions=function(r){const i=e(r);return[[0,0],[i-t,0],[0,i-t]]},Id}var Md={},ig;function tS(){return ig||(ig=1,(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const a=i.size;let c=0,u=0,g=0,f=null,m=null;for(let y=0;y<a;y++){u=g=0,f=m=null;for(let w=0;w<a;w++){let E=i.get(y,w);E===f?u++:(u>=5&&(c+=t.N1+(u-5)),f=E,u=1),E=i.get(w,y),E===m?g++:(g>=5&&(c+=t.N1+(g-5)),m=E,g=1)}u>=5&&(c+=t.N1+(u-5)),g>=5&&(c+=t.N1+(g-5))}return c},e.getPenaltyN2=function(i){const a=i.size;let c=0;for(let u=0;u<a-1;u++)for(let g=0;g<a-1;g++){const f=i.get(u,g)+i.get(u,g+1)+i.get(u+1,g)+i.get(u+1,g+1);(f===4||f===0)&&c++}return c*t.N2},e.getPenaltyN3=function(i){const a=i.size;let c=0,u=0,g=0;for(let f=0;f<a;f++){u=g=0;for(let m=0;m<a;m++)u=u<<1&2047|i.get(f,m),m>=10&&(u===1488||u===93)&&c++,g=g<<1&2047|i.get(m,f),m>=10&&(g===1488||g===93)&&c++}return c*t.N3},e.getPenaltyN4=function(i){let a=0;const c=i.data.length;for(let g=0;g<c;g++)a+=i.data[g];return Math.abs(Math.ceil(a*100/c/5)-10)*t.N4};function n(r,i,a){switch(r){case e.Patterns.PATTERN000:return(i+a)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return a%3===0;case e.Patterns.PATTERN011:return(i+a)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(a/3))%2===0;case e.Patterns.PATTERN101:return i*a%2+i*a%3===0;case e.Patterns.PATTERN110:return(i*a%2+i*a%3)%2===0;case e.Patterns.PATTERN111:return(i*a%3+(i+a)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(i,a){const c=a.size;for(let u=0;u<c;u++)for(let g=0;g<c;g++)a.isReserved(g,u)||a.xor(g,u,n(i,g,u))},e.getBestMask=function(i,a){const c=Object.keys(e.Patterns).length;let u=0,g=1/0;for(let f=0;f<c;f++){a(f),e.applyMask(f,i);const m=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(f,i),m<g&&(g=m,u=f)}return u}})(Md)),Md}var Al={},ag;function Sy(){if(ag)return Al;ag=1;const e=kx(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Al.getBlocksCount=function(i,a){switch(a){case e.L:return t[(i-1)*4+0];case e.M:return t[(i-1)*4+1];case e.Q:return t[(i-1)*4+2];case e.H:return t[(i-1)*4+3];default:return}},Al.getTotalCodewordsCount=function(i,a){switch(a){case e.L:return n[(i-1)*4+0];case e.M:return n[(i-1)*4+1];case e.Q:return n[(i-1)*4+2];case e.H:return n[(i-1)*4+3];default:return}},Al}var Pd={},sa={},lg;function nS(){if(lg)return sa;lg=1;const e=new Uint8Array(512),t=new Uint8Array(256);return(function(){let r=1;for(let i=0;i<255;i++)e[i]=r,t[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)e[i]=e[i-255]})(),sa.log=function(r){if(r<1)throw new Error("log("+r+")");return t[r]},sa.exp=function(r){return e[r]},sa.mul=function(r,i){return r===0||i===0?0:e[t[r]+t[i]]},sa}var cg;function rS(){return cg||(cg=1,(function(e){const t=nS();e.mul=function(r,i){const a=new Uint8Array(r.length+i.length-1);for(let c=0;c<r.length;c++)for(let u=0;u<i.length;u++)a[c+u]^=t.mul(r[c],i[u]);return a},e.mod=function(r,i){let a=new Uint8Array(r);for(;a.length-i.length>=0;){const c=a[0];for(let g=0;g<i.length;g++)a[g]^=t.mul(i[g],c);let u=0;for(;u<a.length&&a[u]===0;)u++;a=a.slice(u)}return a},e.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let a=0;a<r;a++)i=e.mul(i,new Uint8Array([1,t.exp(a)]));return i}})(Pd)),Pd}var Rd,dg;function sS(){if(dg)return Rd;dg=1;const e=rS();function t(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(r){this.degree=r,this.genPoly=e.generateECPolynomial(this.degree)},t.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const a=e.mod(i,this.genPoly),c=this.degree-a.length;if(c>0){const u=new Uint8Array(this.degree);return u.set(a,c),u}return a},Rd=t,Rd}var Od={},Nd={},Ld={},ug;function Fy(){return ug||(ug=1,Ld.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}),Ld}var ss={},xg;function Ty(){if(xg)return ss;xg=1;const e="[0-9]+",t="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;ss.KANJI=new RegExp(n,"g"),ss.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),ss.BYTE=new RegExp(r,"g"),ss.NUMERIC=new RegExp(e,"g"),ss.ALPHANUMERIC=new RegExp(t,"g");const i=new RegExp("^"+n+"$"),a=new RegExp("^"+e+"$"),c=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return ss.testKanji=function(g){return i.test(g)},ss.testNumeric=function(g){return a.test(g)},ss.testAlphanumeric=function(g){return c.test(g)},ss}var fg;function Jo(){return fg||(fg=1,(function(e){const t=Fy(),n=Ty();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(a,c){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!t.isValid(c))throw new Error("Invalid version: "+c);return c>=1&&c<10?a.ccBits[0]:c<27?a.ccBits[1]:a.ccBits[2]},e.getBestModeForData=function(a){return n.testNumeric(a)?e.NUMERIC:n.testAlphanumeric(a)?e.ALPHANUMERIC:n.testKanji(a)?e.KANJI:e.BYTE},e.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},e.isValid=function(a){return a&&a.bit&&a.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(a,c){if(e.isValid(a))return a;try{return r(a)}catch{return c}}})(Nd)),Nd}var hg;function oS(){return hg||(hg=1,(function(e){const t=Zo(),n=Sy(),r=kx(),i=Jo(),a=Fy(),c=7973,u=t.getBCHDigit(c);function g(w,E,C){for(let D=1;D<=40;D++)if(E<=e.getCapacity(D,C,w))return D}function f(w,E){return i.getCharCountIndicator(w,E)+4}function m(w,E){let C=0;return w.forEach(function(D){const _=f(D.mode,E);C+=_+D.getBitsLength()}),C}function y(w,E){for(let C=1;C<=40;C++)if(m(w,C)<=e.getCapacity(C,E,i.MIXED))return C}e.from=function(E,C){return a.isValid(E)?parseInt(E,10):C},e.getCapacity=function(E,C,D){if(!a.isValid(E))throw new Error("Invalid QR Code version");typeof D>"u"&&(D=i.BYTE);const _=t.getSymbolTotalCodewords(E),M=n.getTotalCodewordsCount(E,C),$=(_-M)*8;if(D===i.MIXED)return $;const I=$-f(D,E);switch(D){case i.NUMERIC:return Math.floor(I/10*3);case i.ALPHANUMERIC:return Math.floor(I/11*2);case i.KANJI:return Math.floor(I/13);case i.BYTE:default:return Math.floor(I/8)}},e.getBestVersionForData=function(E,C){let D;const _=r.from(C,r.M);if(Array.isArray(E)){if(E.length>1)return y(E,_);if(E.length===0)return 1;D=E[0]}else D=E;return g(D.mode,D.getLength(),_)},e.getEncodedBits=function(E){if(!a.isValid(E)||E<7)throw new Error("Invalid QR Code version");let C=E<<12;for(;t.getBCHDigit(C)-u>=0;)C^=c<<t.getBCHDigit(C)-u;return E<<12|C}})(Od)),Od}var $d={},gg;function iS(){if(gg)return $d;gg=1;const e=Zo(),t=1335,n=21522,r=e.getBCHDigit(t);return $d.getEncodedBits=function(a,c){const u=a.bit<<3|c;let g=u<<10;for(;e.getBCHDigit(g)-r>=0;)g^=t<<e.getBCHDigit(g)-r;return(u<<10|g)^n},$d}var jd={},Ud,pg;function aS(){if(pg)return Ud;pg=1;const e=Jo();function t(n){this.mode=e.NUMERIC,this.data=n.toString()}return t.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let i,a,c;for(i=0;i+3<=this.data.length;i+=3)a=this.data.substr(i,3),c=parseInt(a,10),r.put(c,10);const u=this.data.length-i;u>0&&(a=this.data.substr(i),c=parseInt(a,10),r.put(c,u*3+1))},Ud=t,Ud}var Hd,mg;function lS(){if(mg)return Hd;mg=1;const e=Jo(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=e.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let a;for(a=0;a+2<=this.data.length;a+=2){let c=t.indexOf(this.data[a])*45;c+=t.indexOf(this.data[a+1]),i.put(c,11)}this.data.length%2&&i.put(t.indexOf(this.data[a]),6)},Hd=n,Hd}var zd,yg;function cS(){if(yg)return zd;yg=1;const e=Jo();function t(n){this.mode=e.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return t.getBitsLength=function(r){return r*8},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){for(let r=0,i=this.data.length;r<i;r++)n.put(this.data[r],8)},zd=t,zd}var Vd,bg;function dS(){if(bg)return Vd;bg=1;const e=Jo(),t=Zo();function n(r){this.mode=e.KANJI,this.data=r}return n.getBitsLength=function(i){return i*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let a=t.toSJIS(this.data[i]);if(a>=33088&&a<=40956)a-=33088;else if(a>=57408&&a<=60351)a-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);a=(a>>>8&255)*192+(a&255),r.put(a,13)}},Vd=n,Vd}var qd={exports:{}},vg;function uS(){return vg||(vg=1,(function(e){var t={single_source_shortest_paths:function(n,r,i){var a={},c={};c[r]=0;var u=t.PriorityQueue.make();u.push(r,0);for(var g,f,m,y,w,E,C,D,_;!u.empty();){g=u.pop(),f=g.value,y=g.cost,w=n[f]||{};for(m in w)w.hasOwnProperty(m)&&(E=w[m],C=y+E,D=c[m],_=typeof c[m]>"u",(_||D>C)&&(c[m]=C,u.push(m,C),a[m]=f))}if(typeof i<"u"&&typeof c[i]>"u"){var M=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(M)}return a},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],a=r;a;)i.push(a),n[a],a=n[a];return i.reverse(),i},find_path:function(n,r,i){var a=t.single_source_shortest_paths(n,r,i);return t.extract_shortest_path_from_predecessor_list(a,i)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,i={},a;n=n||{};for(a in r)r.hasOwnProperty(a)&&(i[a]=r[a]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(qd)),qd.exports}var Eg;function xS(){return Eg||(Eg=1,(function(e){const t=Jo(),n=aS(),r=lS(),i=cS(),a=dS(),c=Ty(),u=Zo(),g=uS();function f(M){return unescape(encodeURIComponent(M)).length}function m(M,$,I){const S=[];let T;for(;(T=M.exec(I))!==null;)S.push({data:T[0],index:T.index,mode:$,length:T[0].length});return S}function y(M){const $=m(c.NUMERIC,t.NUMERIC,M),I=m(c.ALPHANUMERIC,t.ALPHANUMERIC,M);let S,T;return u.isKanjiModeEnabled()?(S=m(c.BYTE,t.BYTE,M),T=m(c.KANJI,t.KANJI,M)):(S=m(c.BYTE_KANJI,t.BYTE,M),T=[]),$.concat(I,S,T).sort(function(L,z){return L.index-z.index}).map(function(L){return{data:L.data,mode:L.mode,length:L.length}})}function w(M,$){switch($){case t.NUMERIC:return n.getBitsLength(M);case t.ALPHANUMERIC:return r.getBitsLength(M);case t.KANJI:return a.getBitsLength(M);case t.BYTE:return i.getBitsLength(M)}}function E(M){return M.reduce(function($,I){const S=$.length-1>=0?$[$.length-1]:null;return S&&S.mode===I.mode?($[$.length-1].data+=I.data,$):($.push(I),$)},[])}function C(M){const $=[];for(let I=0;I<M.length;I++){const S=M[I];switch(S.mode){case t.NUMERIC:$.push([S,{data:S.data,mode:t.ALPHANUMERIC,length:S.length},{data:S.data,mode:t.BYTE,length:S.length}]);break;case t.ALPHANUMERIC:$.push([S,{data:S.data,mode:t.BYTE,length:S.length}]);break;case t.KANJI:$.push([S,{data:S.data,mode:t.BYTE,length:f(S.data)}]);break;case t.BYTE:$.push([{data:S.data,mode:t.BYTE,length:f(S.data)}])}}return $}function D(M,$){const I={},S={start:{}};let T=["start"];for(let j=0;j<M.length;j++){const L=M[j],z=[];for(let F=0;F<L.length;F++){const Q=L[F],le=""+j+F;z.push(le),I[le]={node:Q,lastCount:0},S[le]={};for(let Y=0;Y<T.length;Y++){const ce=T[Y];I[ce]&&I[ce].node.mode===Q.mode?(S[ce][le]=w(I[ce].lastCount+Q.length,Q.mode)-w(I[ce].lastCount,Q.mode),I[ce].lastCount+=Q.length):(I[ce]&&(I[ce].lastCount=Q.length),S[ce][le]=w(Q.length,Q.mode)+4+t.getCharCountIndicator(Q.mode,$))}}T=z}for(let j=0;j<T.length;j++)S[T[j]].end=0;return{map:S,table:I}}function _(M,$){let I;const S=t.getBestModeForData(M);if(I=t.from($,S),I!==t.BYTE&&I.bit<S.bit)throw new Error('"'+M+'" cannot be encoded with mode '+t.toString(I)+`.
 Suggested mode is: `+t.toString(S));switch(I===t.KANJI&&!u.isKanjiModeEnabled()&&(I=t.BYTE),I){case t.NUMERIC:return new n(M);case t.ALPHANUMERIC:return new r(M);case t.KANJI:return new a(M);case t.BYTE:return new i(M)}}e.fromArray=function($){return $.reduce(function(I,S){return typeof S=="string"?I.push(_(S,null)):S.data&&I.push(_(S.data,S.mode)),I},[])},e.fromString=function($,I){const S=y($,u.isKanjiModeEnabled()),T=C(S),j=D(T,I),L=g.find_path(j.map,"start","end"),z=[];for(let F=1;F<L.length-1;F++)z.push(j.table[L[F]].node);return e.fromArray(E(z))},e.rawSplit=function($){return e.fromArray(y($,u.isKanjiModeEnabled()))}})(jd)),jd}var wg;function fS(){if(wg)return Dd;wg=1;const e=Zo(),t=kx(),n=Xk(),r=Zk(),i=Jk(),a=eS(),c=tS(),u=Sy(),g=sS(),f=oS(),m=iS(),y=Jo(),w=xS();function E(j,L){const z=j.size,F=a.getPositions(L);for(let Q=0;Q<F.length;Q++){const le=F[Q][0],Y=F[Q][1];for(let ce=-1;ce<=7;ce++)if(!(le+ce<=-1||z<=le+ce))for(let me=-1;me<=7;me++)Y+me<=-1||z<=Y+me||(ce>=0&&ce<=6&&(me===0||me===6)||me>=0&&me<=6&&(ce===0||ce===6)||ce>=2&&ce<=4&&me>=2&&me<=4?j.set(le+ce,Y+me,!0,!0):j.set(le+ce,Y+me,!1,!0))}}function C(j){const L=j.size;for(let z=8;z<L-8;z++){const F=z%2===0;j.set(z,6,F,!0),j.set(6,z,F,!0)}}function D(j,L){const z=i.getPositions(L);for(let F=0;F<z.length;F++){const Q=z[F][0],le=z[F][1];for(let Y=-2;Y<=2;Y++)for(let ce=-2;ce<=2;ce++)Y===-2||Y===2||ce===-2||ce===2||Y===0&&ce===0?j.set(Q+Y,le+ce,!0,!0):j.set(Q+Y,le+ce,!1,!0)}}function _(j,L){const z=j.size,F=f.getEncodedBits(L);let Q,le,Y;for(let ce=0;ce<18;ce++)Q=Math.floor(ce/3),le=ce%3+z-8-3,Y=(F>>ce&1)===1,j.set(Q,le,Y,!0),j.set(le,Q,Y,!0)}function M(j,L,z){const F=j.size,Q=m.getEncodedBits(L,z);let le,Y;for(le=0;le<15;le++)Y=(Q>>le&1)===1,le<6?j.set(le,8,Y,!0):le<8?j.set(le+1,8,Y,!0):j.set(F-15+le,8,Y,!0),le<8?j.set(8,F-le-1,Y,!0):le<9?j.set(8,15-le-1+1,Y,!0):j.set(8,15-le-1,Y,!0);j.set(F-8,8,1,!0)}function $(j,L){const z=j.size;let F=-1,Q=z-1,le=7,Y=0;for(let ce=z-1;ce>0;ce-=2)for(ce===6&&ce--;;){for(let me=0;me<2;me++)if(!j.isReserved(Q,ce-me)){let te=!1;Y<L.length&&(te=(L[Y]>>>le&1)===1),j.set(Q,ce-me,te),le--,le===-1&&(Y++,le=7)}if(Q+=F,Q<0||z<=Q){Q-=F,F=-F;break}}}function I(j,L,z){const F=new n;z.forEach(function(me){F.put(me.mode.bit,4),F.put(me.getLength(),y.getCharCountIndicator(me.mode,j)),me.write(F)});const Q=e.getSymbolTotalCodewords(j),le=u.getTotalCodewordsCount(j,L),Y=(Q-le)*8;for(F.getLengthInBits()+4<=Y&&F.put(0,4);F.getLengthInBits()%8!==0;)F.putBit(0);const ce=(Y-F.getLengthInBits())/8;for(let me=0;me<ce;me++)F.put(me%2?17:236,8);return S(F,j,L)}function S(j,L,z){const F=e.getSymbolTotalCodewords(L),Q=u.getTotalCodewordsCount(L,z),le=F-Q,Y=u.getBlocksCount(L,z),ce=F%Y,me=Y-ce,te=Math.floor(F/Y),ne=Math.floor(le/Y),de=ne+1,be=te-ne,De=new g(be);let Ie=0;const fe=new Array(Y),Pe=new Array(Y);let Ge=0;const Ne=new Uint8Array(j.buffer);for(let st=0;st<Y;st++){const Te=st<me?ne:de;fe[st]=Ne.slice(Ie,Ie+Te),Pe[st]=De.encode(fe[st]),Ie+=Te,Ge=Math.max(Ge,Te)}const tt=new Uint8Array(F);let Re=0,Je,et;for(Je=0;Je<Ge;Je++)for(et=0;et<Y;et++)Je<fe[et].length&&(tt[Re++]=fe[et][Je]);for(Je=0;Je<be;Je++)for(et=0;et<Y;et++)tt[Re++]=Pe[et][Je];return tt}function T(j,L,z,F){let Q;if(Array.isArray(j))Q=w.fromArray(j);else if(typeof j=="string"){let te=L;if(!te){const ne=w.rawSplit(j);te=f.getBestVersionForData(ne,z)}Q=w.fromString(j,te||40)}else throw new Error("Invalid data");const le=f.getBestVersionForData(Q,z);if(!le)throw new Error("The amount of data is too big to be stored in a QR Code");if(!L)L=le;else if(L<le)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+le+`.
`);const Y=I(L,z,Q),ce=e.getSymbolSize(L),me=new r(ce);return E(me,L),C(me),D(me,L),M(me,z,0),L>=7&&_(me,L),$(me,Y),isNaN(F)&&(F=c.getBestMask(me,M.bind(null,me,z))),c.applyMask(F,me),M(me,z,F),{modules:me,version:L,errorCorrectionLevel:z,maskPattern:F,segments:Q}}return Dd.create=function(L,z){if(typeof L>"u"||L==="")throw new Error("No input text");let F=t.M,Q,le;return typeof z<"u"&&(F=t.from(z.errorCorrectionLevel,t.M),Q=f.from(z.version),le=c.from(z.maskPattern),z.toSJISFunc&&e.setToSJISFunction(z.toSJISFunc)),T(L,Q,F,le)},Dd}var Wd={},Gd={},Cg;function Iy(){return Cg||(Cg=1,(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(a){return[a,a]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,a=r.width&&r.width>=21?r.width:void 0,c=r.scale||4;return{width:a,scale:a?4:c,margin:i,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},e.getImageWidth=function(r,i){const a=e.getScale(r,i);return Math.floor((r+i.margin*2)*a)},e.qrToImageData=function(r,i,a){const c=i.modules.size,u=i.modules.data,g=e.getScale(c,a),f=Math.floor((c+a.margin*2)*g),m=a.margin*g,y=[a.color.light,a.color.dark];for(let w=0;w<f;w++)for(let E=0;E<f;E++){let C=(w*f+E)*4,D=a.color.light;if(w>=m&&E>=m&&w<f-m&&E<f-m){const _=Math.floor((w-m)/g),M=Math.floor((E-m)/g);D=y[u[_*c+M]?1:0]}r[C++]=D.r,r[C++]=D.g,r[C++]=D.b,r[C]=D.a}}})(Gd)),Gd}var Ag;function hS(){return Ag||(Ag=1,(function(e){const t=Iy();function n(i,a,c){i.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=c,a.width=c,a.style.height=c+"px",a.style.width=c+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(a,c,u){let g=u,f=c;typeof g>"u"&&(!c||!c.getContext)&&(g=c,c=void 0),c||(f=r()),g=t.getOptions(g);const m=t.getImageWidth(a.modules.size,g),y=f.getContext("2d"),w=y.createImageData(m,m);return t.qrToImageData(w.data,a,g),n(y,f,m),y.putImageData(w,0,0),f},e.renderToDataURL=function(a,c,u){let g=u;typeof g>"u"&&(!c||!c.getContext)&&(g=c,c=void 0),g||(g={});const f=e.render(a,c,g),m=g.type||"image/png",y=g.rendererOpts||{};return f.toDataURL(m,y.quality)}})(Wd)),Wd}var Qd={},Bg;function gS(){if(Bg)return Qd;Bg=1;const e=Iy();function t(i,a){const c=i.a/255,u=a+'="'+i.hex+'"';return c<1?u+" "+a+'-opacity="'+c.toFixed(2).slice(1)+'"':u}function n(i,a,c){let u=i+a;return typeof c<"u"&&(u+=" "+c),u}function r(i,a,c){let u="",g=0,f=!1,m=0;for(let y=0;y<i.length;y++){const w=Math.floor(y%a),E=Math.floor(y/a);!w&&!f&&(f=!0),i[y]?(m++,y>0&&w>0&&i[y-1]||(u+=f?n("M",w+c,.5+E+c):n("m",g,0),g=0,f=!1),w+1<a&&i[y+1]||(u+=n("h",m),m=0)):g++}return u}return Qd.render=function(a,c,u){const g=e.getOptions(c),f=a.modules.size,m=a.modules.data,y=f+g.margin*2,w=g.color.light.a?"<path "+t(g.color.light,"fill")+' d="M0 0h'+y+"v"+y+'H0z"/>':"",E="<path "+t(g.color.dark,"stroke")+' d="'+r(m,f,g.margin)+'"/>',C='viewBox="0 0 '+y+" "+y+'"',_='<svg xmlns="http://www.w3.org/2000/svg" '+(g.width?'width="'+g.width+'" height="'+g.width+'" ':"")+C+' shape-rendering="crispEdges">'+w+E+`</svg>
`;return typeof u=="function"&&u(null,_),_},Qd}var _g;function pS(){if(_g)return ui;_g=1;const e=Yk(),t=fS(),n=hS(),r=gS();function i(a,c,u,g,f){const m=[].slice.call(arguments,1),y=m.length,w=typeof m[y-1]=="function";if(!w&&!e())throw new Error("Callback required as last argument");if(w){if(y<2)throw new Error("Too few arguments provided");y===2?(f=u,u=c,c=g=void 0):y===3&&(c.getContext&&typeof f>"u"?(f=g,g=void 0):(f=g,g=u,u=c,c=void 0))}else{if(y<1)throw new Error("Too few arguments provided");return y===1?(u=c,c=g=void 0):y===2&&!c.getContext&&(g=u,u=c,c=void 0),new Promise(function(E,C){try{const D=t.create(u,g);E(a(D,c,g))}catch(D){C(D)}})}try{const E=t.create(u,g);f(null,a(E,c,g))}catch(E){f(E)}}return ui.create=t.create,ui.toCanvas=i.bind(null,n.render),ui.toDataURL=i.bind(null,n.renderToDataURL),ui.toString=i.bind(null,function(a,c,u){return r.render(a,u)}),ui}var mS=pS();const y0=bx(mS),yS={class:"min-h-screen bg-gray-50 p-6"},bS={class:"mb-6"},vS={key:0,class:"mb-4 space-y-2"},ES=["onClick"],wS={class:"flex items-center space-x-2"},CS={key:0,class:"w-5 h-5 text-current",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},AS={key:1,class:"w-5 h-5 text-current",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},BS={key:2,class:"w-5 h-5 text-current",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_S=["onClick"],DS={key:1,class:"mb-6"},kS={class:"bg-gradient-to-r from-red-500 to-red-600 rounded-lg shadow-lg p-6 text-white"},SS={class:"flex items-center justify-between mb-4"},FS={class:"flex items-center space-x-4"},TS={class:"text-2xl font-bold mb-1"},IS=["disabled"],MS={class:"mt-4 pt-4 border-t border-white/20"},PS={class:"flex items-center justify-between mb-3"},RS={class:"grid grid-cols-1 md:grid-cols-2 gap-2 max-h-60 overflow-y-auto"},OS=["value"],NS={class:"flex-1 text-sm"},LS={class:"font-semibold flex items-center gap-2"},$S={key:0,class:"px-1.5 py-0.5 bg-orange-600 text-white text-[9px] font-bold rounded"},jS={class:"text-red-100 text-xs mt-0.5"},US={key:0,class:"text-orange-200 text-[10px] mt-1"},HS={key:0,class:"text-xs text-red-100 mt-2"},zS={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-4"},VS={class:"flex flex-wrap gap-4 items-center justify-between"},qS={class:"flex flex-wrap gap-4 items-center flex-1"},WS={class:"relative"},GS=["value"],QS={class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},KS={class:"overflow-x-auto"},YS={class:"w-full"},XS={class:"bg-gray-50"},ZS=["onClick"],JS={class:"flex items-center space-x-1"},eF={class:"bg-white divide-y divide-gray-200"},tF=["onClick"],nF={class:"px-4 py-3 whitespace-nowrap"},rF={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900"},sF={class:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900"},oF={class:"px-4 py-3 text-sm text-gray-900"},iF={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900"},aF={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900"},lF={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900"},cF={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900"},dF={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-900"},uF={class:"px-4 py-3 whitespace-nowrap"},xF={class:"px-4 py-3 whitespace-nowrap text-sm space-x-2 flex items-center"},fF=["onClick"],hF=["onClick"],gF=["onClick"],pF={key:0,class:"text-center py-12"},mF={key:0,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[9999]"},yF={class:"bg-white rounded-lg p-6 w-full max-w-3xl max-h-screen overflow-y-auto"},bF={class:"bg-gray-50 rounded-lg p-4 mb-6"},vF={class:"grid grid-cols-2 gap-4 text-sm"},EF={class:"ml-2 font-medium text-gray-900"},wF={class:"ml-2 font-medium text-gray-900"},CF={class:"ml-2 font-medium text-gray-900"},AF={class:"ml-2 font-medium text-blue-600"},BF={class:"ml-2 font-medium text-gray-900"},_F={class:"space-y-4"},DF={class:"flex items-center space-x-2"},kF=["max"],SF={class:"text-gray-600"},FF={key:0,class:"text-red-500 text-xs mt-1"},TF={label:"Standard Storage"},IF=["value"],MF={label:"Hazardous Storage"},PF=["value"],RF={key:0,class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},OF={class:"space-y-1 text-sm text-blue-800"},NF={class:"flex justify-between"},LF={class:"font-medium"},$F={class:"flex justify-between"},jF={class:"font-medium"},UF={class:"flex justify-between"},HF={class:"font-medium"},zF={class:"flex justify-between"},VF={class:"flex gap-3 justify-end mt-6 pt-6 border-t border-gray-200"},qF=["disabled"],WF={class:"h-full flex flex-col"},GF={class:"flex-1 overflow-y-auto"},QF={class:"p-6 space-y-6"},KF={class:"space-y-2 text-sm"},YF={class:"flex justify-between"},XF={class:"flex justify-between"},ZF={class:"font-medium text-gray-900"},JF={class:"flex justify-between"},eT={class:"font-medium text-gray-900 text-right"},tT={class:"flex justify-between"},nT={class:"font-medium text-gray-900"},rT={class:"flex justify-between"},sT={class:"font-medium text-gray-900"},oT={class:"flex justify-between"},iT={class:"font-medium text-gray-900"},aT={class:"flex justify-between"},lT={class:"flex justify-between"},cT={class:"bg-gray-50 rounded-lg p-4 text-center"},dT={class:"w-32 h-32 bg-white mx-auto mb-2 flex items-center justify-center border-2 border-dashed border-gray-300 rounded-lg overflow-hidden"},uT=["src"],xT={key:1,class:"text-xs text-gray-400"},fT={class:"text-xs text-gray-500 mb-2"},hT={key:0,class:"space-y-3"},gT={class:"flex-1 text-sm"},pT={class:"flex justify-between items-start"},mT={class:"text-gray-900 font-medium"},yT={class:"text-gray-500 text-xs"},bT={class:"text-gray-600 text-xs mt-1"},vT={class:"text-gray-500 text-xs"},ET={key:1,class:"text-sm text-gray-500 italic p-3 bg-gray-50 rounded-lg"},wT={key:3,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[10000]"},CT={class:"bg-white rounded-lg p-6 w-full max-w-sm"},AT={class:"flex justify-between items-center mb-6 border-b pb-4"},BT={class:"text-xl font-semibold text-gray-900"},_T={class:"text-center space-y-4"},DT={id:"qr-code-to-print",class:"p-4 border border-gray-200 rounded-lg inline-block"},kT={class:"w-48 h-48 bg-white mx-auto flex items-center justify-center overflow-hidden"},ST=["src"],FT={key:1,class:"text-xs text-gray-600"},TT={class:"text-sm font-medium text-gray-700"},IT={class:"text-xs text-gray-500"},MT={class:"mt-6 flex justify-between gap-3"},PT={key:4,class:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-fadeIn"},RT={class:"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 overflow-hidden animate-slideUp"},OT={class:"p-6"},NT={class:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4"},LT={class:"text-sm text-red-800 whitespace-pre-line leading-relaxed"},$T=Lr({__name:"Dashboard",props:{materialItems:{},alerts:{}},setup(e){const t=ve(""),n=e;ve(!1);const r=ve(""),i=ve(""),a=ve(""),c=ve(""),u=ve("kode"),g=ve("asc"),f=ve(null),m=ve(!1),y=ve(!1),w=ve(!1),E=ve(null),C=ve([...n.alerts]),D=ve("default");Pn(D,ie=>{ie==="newest"?(u.value="entry_date",g.value="desc"):ie==="oldest"?(u.value="entry_date",g.value="asc"):(u.value="kode",g.value="asc")});const _=ve({material:null,qty:0,destinationBin:"",reason:"",notes:""}),M=ve([]);Gn(async()=>{try{const ie=await St.get("/master-data/bins");M.value=ie.data}catch(ie){console.error("Error fetching bin locations:",ie)}});const $=[{key:"type",label:"kategori"},{key:"subkategori",label:"Sub Kategori"},{key:"kode",label:"Kode"},{key:"nama",label:"Nama Material"},{key:"lot",label:"Serial/Lot"},{key:"lokasi",label:"Lokasi"},{key:"qty",label:"Qty"},{key:"uom",label:"UoM"},{key:"expiredDate",label:"Expired Date"},{key:"status",label:"Status"}],I=We(()=>[...new Set(n.materialItems.map(ie=>ie.lokasi))].sort()),S=We(()=>{const ie=_.value.material?.lokasi;return{standard:M.value.filter(W=>W.type==="STD"&&W.code!==ie),hazardous:M.value.filter(W=>W.type==="HAZ"&&W.code!==ie)}}),T=We(()=>M.value.find(ie=>ie.code===_.value.destinationBin)),j=We(()=>_.value.material!==null&&_.value.qty>0&&_.value.qty<=(_.value.material?.qty||0)&&_.value.destinationBin!==""&&_.value.reason!==""),L=We(()=>{let ie=n.materialItems;if(t.value==="putAwayRequired")ie=ie.filter(W=>W.requiresPutAway);else if(t.value==="requiresQC")ie=ie.filter(W=>W.requiresQC);else if(t.value==="expiringSoon"){const W=new Date,ee=new Date;ee.setDate(W.getDate()+30),ie=ie.filter(J=>{const se=new Date(J.expiredDate);return se>W&&se<=ee})}if(r.value){const W=r.value.toLowerCase();ie=ie.filter(ee=>ee.kode.toLowerCase().includes(W)||ee.nama.toLowerCase().includes(W)||ee.lot.toLowerCase().includes(W))}return i.value&&(ie=ie.filter(W=>W.qr_type===i.value)),a.value&&(ie=ie.filter(W=>W.type===a.value)),c.value&&(ie=ie.filter(W=>W.lokasi===c.value)),ie.sort((W,ee)=>{let J=W[u.value],se=ee[u.value];return typeof J=="string"&&(J=J.toLowerCase()),typeof se=="string"&&(se=se.toLowerCase()),J<se?g.value==="asc"?-1:1:J>se?g.value==="asc"?1:-1:0}),ie}),z=We(()=>{const ie=new Date,W=new Date;return W.setDate(ie.getDate()+30),n.materialItems.filter(ee=>new Date(ee.expiredDate)<=W)}),F=We(()=>z.value.length),Q=ve([]),le=ve(!1),Y=ve(""),ce=()=>{Q.value.length===z.value.length?Q.value=[]:Q.value=z.value.map(ie=>te(ie)).filter(ie=>ie!==null)},me=ie=>["QRT-HALAL","QRT-NON HALAL","QRT-HALAL-AC"].includes(ie),te=ie=>{const W=ie.id.match(/INV-(\d+)/);return W?W[1]:null},ne=()=>{le.value=!1,Y.value=""},de=()=>{if(Q.value.length===0){Y.value="Pilih minimal 1 material untuk Re-QC",le.value=!0;return}console.log(" Initiating Re-QC for:",Q.value),gt.post("/dashboard/reqc/initiate",{inventory_stock_ids:Q.value},{preserveState:!0,preserveScroll:!0,onStart:()=>{console.log(" Re-QC request started...")},onSuccess:ie=>{console.log(" Re-QC initiated successfully",ie)},onError:ie=>{if(console.error(" Re-QC error:",ie),ie.message)Y.value=ie.message;else{const W=Object.values(ie).flat().join(`
`);Y.value=W||"Terjadi kesalahan. Silakan coba lagi."}le.value=!0},onFinish:()=>{console.log(" Re-QC request finished")}})},be=ie=>{t.value===ie?t.value="":(t.value=ie,i.value="",a.value="",c.value="",r.value="")},De=ie=>{u.value===ie?g.value=g.value==="asc"?"desc":"asc":(u.value=ie,g.value="asc")},Ie=ie=>{const W=new Date,ee=new Date(ie.expiredDate),J=Math.ceil((ee.getTime()-W.getTime())/(1e3*60*60*24));return J<0?"bg-red-50 dark:bg-red-900/20":J<=30?"bg-yellow-50 dark:bg-yellow-900/20":""},fe=ie=>{const W=new Date,ee=new Date(ie),J=Math.ceil((ee.getTime()-W.getTime())/(1e3*60*60*24));return J<0?"text-red-600 dark:text-red-400 font-semibold":J<=30?"text-yellow-600 dark:text-yellow-400 font-semibold":"text-gray-900"},Pe=ie=>({"Waiting QC":"bg-yellow-100 text-yellow-800 border-yellow-300 dark:bg-yellow-900 dark:text-yellow-200",Karantina:"bg-orange-100 text-orange-800 border-orange-300 dark:bg-orange-900 dark:text-orange-200",Released:"bg-green-100 text-green-800 border-green-300 dark:bg-green-900 dark:text-green-200",Reject:"bg-red-100 text-red-800 border-red-300 dark:bg-red-900 dark:text-red-200","In Production":"bg-blue-100 text-blue-800 border-blue-300 dark:bg-blue-900 dark:text-blue-200",Returned:"bg-purple-100 text-purple-800 border-purple-300 dark:bg-purple-900 dark:text-purple-200",KARANTINA:"bg-orange-100 text-orange-800 border-orange-300 dark:bg-orange-900 dark:text-orange-200",RELEASED:"bg-green-100 text-green-800 border-green-300 dark:bg-green-900 dark:text-green-200",HOLD:"bg-gray-100 text-gray-800 border-gray-300 dark:bg-gray-700 dark:text-gray-200",REJECTED:"bg-red-100 text-red-800 border-red-300 dark:bg-red-900 dark:text-red-200",REJECT:"bg-red-100 text-red-800 border-red-300 dark:bg-red-900 dark:text-red-200"})[ie]||"bg-gray-100 text-gray-800 border-gray-200 dark:bg-gray-900 dark:text-gray-200",Ge=ie=>({error:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",info:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"})[ie]||"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",Ne=ie=>{if(!ie)return"";const W=ie.currentItems/ie.maxItems*100;return W>=90?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":W>=70?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},tt=ie=>{if(!ie)return"";const W=ie.currentItems/ie.maxItems*100;return W>=90?"Hampir Penuh":W>=70?"Cukup Terisi":"Tersedia"},Re=ie=>new Date(ie).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),Je=ie=>new Date(ie).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),et=async ie=>{const W=ie.status.toUpperCase(),ee=`${ie.kode}|${W}|${ie.lot}|${ie.qty}|${ie.expiredDate}`;ie.qr_data=ee;try{const J=await y0.toDataURL(ee,{width:200,margin:1,errorCorrectionLevel:"M"});ie.qr_image_url=J}catch(J){console.error("Error generating QR:",J)}},st=async ie=>{f.value=ie,m.value=!0,await et(ie)},Te=()=>{m.value=!1,setTimeout(()=>{f.value=null},300)},re=ie=>{const W=C.value.findIndex(ee=>ee.id===ie);W>-1&&C.value.splice(W,1)},X=async ie=>{E.value=ie,w.value=!0,await et(ie)},B=()=>{w.value=!1,E.value=null},k=ie=>{_.value={material:{...ie},qty:ie.qty,destinationBin:"",reason:"",notes:""},y.value=!0},R=ie=>{console.log(`Mempersiapkan cetak QR Code untuk: ${ie.kode}-${ie.lot} (Tipe: ${ie.qr_type})`);const W=document.getElementById("qr-code-to-print")?.innerHTML;if(W){const ee=window.open("","_blank");if(ee){ee.document.write("<html><head><title>Cetak QR Code</title>"),ee.document.write("<style>"),ee.document.write("body { font-family: sans-serif; margin: 0; padding: 10mm; }"),ee.document.write("#qr-content { display: flex; flex-direction: column; align-items: center; text-align: center; border: 2px solid #3b82f6; padding: 2px; width: fit-content; margin: 0 auto; }"),ee.document.write("h4 { margin-bottom: 5px; font-size: 14pt; }"),ee.document.write("p { margin: 0; font-size: 8pt; }"),ee.document.write(".qr-area { margin-bottom: 10px; }"),ee.document.write("@media print { body { padding: 0; } #qr-content { border: none; padding: 0; } }"),ee.document.write("</style>"),ee.document.write("</head><body>");let J=ie.status==="Karantina"?"QR KARANTINA":"QR RELEASED";ee.document.write('<div id="qr-content">'),ee.document.write(`<h4>${J}</h4>`),ee.document.write('<div class="qr-area">'),ee.document.write(W),ee.document.write("</div>"),ee.document.write(`<p>Kode Material: ${ie.kode}</p>`),ee.document.write(`<p>Lot/Serial: ${ie.lot}</p>`),ee.document.write(`<p>Qty: ${ie.qty} ${ie.uom}</p>`),ee.document.write(`<p>Lokasi: ${ie.lokasi}</p>`),ee.document.write("</div>"),ee.document.write("<script>window.onload = function() { window.print(); window.close(); }<\/script>"),ee.document.write("</body></html>"),ee.document.close()}}else alert("Gagal mengambil konten QR Code untuk dicetak.")},N=()=>{y.value=!1,_.value={material:null,qty:0,destinationBin:"",reason:"",notes:""}},V=()=>{if(!j.value||!_.value.material)return;const ie=`TO-B2B-${new Date().getFullYear()}-${String(Math.floor(Math.random()*1e3)).padStart(3,"0")}`,W={toNumber:ie,type:"Bin to Bin Transfer",status:"Pending Approval",material:_.value.material,sourceBin:_.value.material.lokasi,destinationBin:_.value.destinationBin,qty:_.value.qty,reason:_.value.reason,notes:_.value.notes,createdBy:"Admin User",createdAt:new Date().toISOString(),approvalRequired:!0};console.log("Transfer Order Created:",W),alert(` Transfer Order ${ie} berhasil dibuat!

Material: ${_.value.material.kode} - ${_.value.material.nama}
Dari: ${_.value.material.lokasi}
Ke: ${_.value.destinationBin}
Qty: ${_.value.qty} ${_.value.material.uom}

Status: Menunggu approval dari Manager/Admin`),N()},K=()=>{const ie=JSON.stringify(L.value,null,2),W=new Blob([ie],{type:"application/json"}),ee=URL.createObjectURL(W),J=document.createElement("a");J.href=ee,J.download=`wms_central_data_${new Date().toISOString().split("T")[0]}.json`,J.click(),URL.revokeObjectURL(ee)},ue=ie=>{let W="";ie.qr_type==="Karantina"?(W="QR KARANTINA (JANGAN DIGUNAKAN)",alert(`Print QR KARANTINA untuk ${ie.kode} - ${ie.lot}
Data QR: ${ie.qr_data}`)):(W="QR RELEASED (SIAP PRODUKSI)",alert(`Print QR RELEASED untuk ${ie.kode} - ${ie.lot}
Data QR: ${ie.qr_data}`)),console.log(`Logika cetak QR Code: ${W}`)};return(ie,W)=>(U(),Et(Qn,{pageTitle:"Dashboard",pageDescription:"Ringkasan sistem warehouse management"},{default:bt(()=>[o("div",yS,[o("div",bS,[W[29]||(W[29]=o("div",{class:"flex justify-between items-center mb-4"},[o("div",null,[o("h1",{class:"text-3xl font-bold text-gray-900"},"Central Data WMS"),o("p",{class:"text-gray-600 mt-1"},"Kelola semua material di gudang")])],-1)),C.value.length>0?(U(),G("div",vS,[(U(!0),G($e,null,nt(C.value,ee=>(U(),G("div",{key:ee.id,class:Fe([[Ge(ee.type),{"ring-2 ring-blue-500 ring-offset-2":t.value==="putAwayRequired"&&ee.id==="0","ring-2 ring-orange-500 ring-offset-2":t.value==="requiresQC"&&ee.id==="3","ring-2 ring-yellow-500 ring-offset-2":t.value==="expiringSoon"&&ee.id==="1","cursor-pointer hover:shadow-md transition duration-150 ease-in-out":["0","3","1"].includes(ee.id)}],"p-3 rounded-lg flex items-center justify-between"]),onClick:J=>ee.id==="0"?be("putAwayRequired"):ee.id==="3"?be("requiresQC"):ee.id==="1"?be("expiringSoon"):null},[o("div",wS,[ee.id==="0"?(U(),G("svg",CS,[...W[13]||(W[13]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"},null,-1)])])):pe("",!0),ee.id==="3"?(U(),G("svg",AS,[...W[14]||(W[14]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.276a2 2 0 010 2.553l-3.52 3.52c-.144.144-.33.225-.53.225H12V7h3.707l-3.52-3.52a2 2 0 012.553 0l3.52 3.52z"},null,-1)])])):pe("",!0),ee.id==="1"?(U(),G("svg",BS,[...W[15]||(W[15]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])):pe("",!0),o("span",null,P(ee.message),1)]),o("button",{onClick:or(J=>re(ee.id),["stop"]),class:"text-current opacity-70 hover:opacity-100 p-1"},[...W[16]||(W[16]=[o("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,_S)],10,ES))),128))])):pe("",!0),F.value>0?(U(),G("div",DS,[o("form",{onSubmit:or(de,["prevent"]),method:"POST"},[o("div",kS,[o("div",SS,[o("div",FS,[W[19]||(W[19]=o("div",{class:"relative"},[o("div",{class:"absolute inset-0 bg-white/20 rounded-full animate-ping"}),o("div",{class:"relative bg-white/30 p-4 rounded-full"},[o("svg",{class:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])])],-1)),o("div",null,[o("h3",TS,P(F.value)+" Material Expired / Near Expiry!",1),W[17]||(W[17]=o("p",{class:"text-red-100 text-sm"},"Pilih material yang sudah/hampir expired (H-30) di bin QRT untuk proses Re-QC",-1)),W[18]||(W[18]=o("p",{class:"text-red-100 text-xs mt-1"},"Bin QRT: QRT-HALAL, QRT-NON HALAL, QRT-HALAL-AC",-1))])]),o("button",{type:"submit",disabled:Q.value.length===0,class:Fe([Q.value.length>0?"bg-white hover:bg-red-50":"bg-white/50 cursor-not-allowed","text-red-600 px-6 py-3 rounded-lg font-semibold shadow-lg transition-all hover:scale-105 flex items-center space-x-2 group"])},[o("span",null,"Proses Re-QC ("+P(Q.value.length)+")",1),W[20]||(W[20]=o("svg",{class:"w-5 h-5 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1))],10,IS)]),o("div",MS,[o("div",PS,[W[21]||(W[21]=o("p",{class:"text-sm text-red-100"},"Pilih material untuk Re-QC:",-1)),o("button",{type:"button",onClick:ce,class:"text-xs text-white hover:text-red-100 underline"},P(Q.value.length===z.value.length?"Batalkan Semua":"Pilih Semua"),1)]),o("div",RS,[(U(!0),G($e,null,nt(z.value,ee=>(U(),G("label",{key:ee.id,class:Fe(["flex items-start gap-3 p-3 rounded cursor-pointer transition-colors",me(ee.lokasi)?"bg-white/10 hover:bg-white/20":"bg-orange-500/50 hover:bg-orange-500/60"])},[Ee(o("input",{type:"checkbox",value:te(ee),"onUpdate:modelValue":W[0]||(W[0]=J=>Q.value=J),class:"mt-1 w-4 h-4 rounded"},null,8,OS),[[qo,Q.value]]),o("div",NS,[o("div",LS,[qe(P(ee.nama)+" ",1),me(ee.lokasi)?pe("",!0):(U(),G("span",$S," Belum QRT "))]),o("div",jS," Exp: "+P(Re(ee.expiredDate))+"  "+P(ee.lokasi)+"  "+P(ee.lot),1),me(ee.lokasi)?pe("",!0):(U(),G("div",US,[...W[22]||(W[22]=[o("a",{href:"/transaction/bin-to-bin",class:"underline hover:text-white"},"Bin-to-Bin dulu ",-1)])]))])],2))),128))]),F.value>10?(U(),G("p",HS," +"+P(F.value-10)+" material lainnya (scroll untuk lihat semua) ",1)):pe("",!0)])])],32)])):pe("",!0),o("div",zS,[o("div",VS,[o("div",qS,[o("div",WS,[W[23]||(W[23]=o("svg",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),Ee(o("input",{"onUpdate:modelValue":W[1]||(W[1]=ee=>r.value=ee),type:"text",placeholder:"Cari kode, nama material, atau lot...",class:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg w-80 bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Oe,r.value]])]),Ee(o("select",{"onUpdate:modelValue":W[2]||(W[2]=ee=>i.value=ee),class:"px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900"},[...W[24]||(W[24]=[o("option",{value:""},"Semua Status",-1),o("option",{value:"KARANTINA"},"Karantina",-1),o("option",{value:"RELEASED"},"Released",-1),o("option",{value:"REJECTED"},"Rejected",-1)])],512),[[ct,i.value]]),Ee(o("select",{"onUpdate:modelValue":W[3]||(W[3]=ee=>a.value=ee),class:"px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900"},[...W[25]||(W[25]=[o("option",{value:""},"Semua Tipe",-1),o("option",{value:"Raw Material"},"Raw Material",-1),o("option",{value:"Packaging Material"},"Packaging Material",-1)])],512),[[ct,a.value]]),Ee(o("select",{"onUpdate:modelValue":W[4]||(W[4]=ee=>c.value=ee),class:"px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900"},[W[26]||(W[26]=o("option",{value:""},"Semua Lokasi",-1)),(U(!0),G($e,null,nt(I.value,ee=>(U(),G("option",{key:ee,value:ee},P(ee),9,GS))),128))],512),[[ct,c.value]]),Ee(o("select",{"onUpdate:modelValue":W[5]||(W[5]=ee=>D.value=ee),class:"px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900"},[...W[27]||(W[27]=[o("option",{value:"default"},"Default Sort (Kode)",-1),o("option",{value:"newest"},"Terbaru (Newest)",-1),o("option",{value:"oldest"},"Terlama (Oldest)",-1)])],512),[[ct,D.value]])]),o("div",{class:"flex gap-2"},[o("button",{onClick:K,class:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center space-x-2"},[...W[28]||(W[28]=[o("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),o("span",null,"Export",-1)])])])])])]),o("div",QS,[o("div",KS,[o("table",YS,[o("thead",XS,[o("tr",null,[(U(),G($e,null,nt($,ee=>o("th",{key:ee.key,onClick:J=>De(ee.key),class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors"},[o("div",JS,[o("span",null,P(ee.label),1),u.value===ee.key?(U(),G("svg",{key:0,class:Fe(["w-4 h-4",g.value==="asc"?"":"transform rotate-180"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...W[30]||(W[30]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"},null,-1)])],2)):pe("",!0)])],8,ZS)),64)),W[31]||(W[31]=o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi",-1))])]),o("tbody",eF,[(U(!0),G($e,null,nt(L.value,ee=>(U(),G("tr",{key:ee.id,onClick:J=>st(ee),class:Fe([Ie(ee),"hover:bg-gray-50 cursor-pointer transition-colors"])},[o("td",nF,[o("span",{class:Fe([ee.type==="Raw Material"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800","px-2 py-1 text-xs font-semibold rounded-full"])},P(ee.type),3)]),o("td",rF,P(ee.subkategori||"-"),1),o("td",sF,P(ee.kode),1),o("td",oF,P(ee.nama),1),o("td",iF,P(ee.lot),1),o("td",aF,P(ee.lokasi),1),o("td",lF,P(ee.qty),1),o("td",cF,P(ee.uom),1),o("td",dF,[o("span",{class:Fe(fe(ee.expiredDate))},P(Re(ee.expiredDate)),3)]),o("td",uF,[o("span",{class:Fe([Pe(ee.qr_type),"px-2 py-1 text-xs font-semibold rounded-full border"])},P(ee.status),3)]),o("td",xF,[ee.requiresPutAway?(U(),G($e,{key:0},[o("button",{onClick:W[6]||(W[6]=or(J=>Ve(gt).get("/transaction/putaway-transfer"),["stop"])),class:"px-2 py-1 text-xs font-semibold bg-indigo-500 text-white rounded hover:bg-indigo-700 transition-colors flex items-center space-x-1",title:"Put Away Cepat ke lokasi permanen"},[...W[32]||(W[32]=[o("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1),o("span",null,"Put Away",-1)])]),o("button",{onClick:or(J=>X(ee),["stop"]),class:"text-blue-600 hover:text-blue-900 transition-colors ml-2",title:"Cetak/Lihat Detail QR"},[...W[33]||(W[33]=[o("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h2M4 4h5a3 3 0 000 6H4V4zm3 2h.01M8 16h.01"})],-1)])],8,fF)],64)):(U(),G($e,{key:1},[o("button",{onClick:or(J=>X(ee),["stop"]),class:"text-blue-600 hover:text-blue-900 transition-colors",title:"Cetak/Lihat Detail QR"},[...W[34]||(W[34]=[o("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h2M4 4h5a3 3 0 000 6H4V4zm3 2h.01M8 16h.01"})],-1)])],8,hF),o("button",{onClick:or(J=>k(ee),["stop"]),class:"text-green-600 hover:text-green-900 transition-colors ml-2",title:"Bin to Bin Transfer"},[...W[35]||(W[35]=[o("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1)])],8,gF)],64))])],10,tF))),128))])])]),L.value.length===0?(U(),G("div",pF,[...W[36]||(W[36]=[o("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-4.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 009.586 13H7"})],-1),o("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Tidak ada data",-1),o("p",{class:"mt-1 text-sm text-gray-500"},"Data material tidak ditemukan atau filter terlalu spesifik",-1)])])):pe("",!0)]),y.value?(U(),G("div",mF,[o("div",yF,[o("div",{class:"flex justify-between items-center mb-6"},[W[38]||(W[38]=o("h3",{class:"text-xl font-semibold text-gray-900"},"Bin to Bin Transfer",-1)),o("button",{onClick:N,class:"text-gray-400 hover:text-gray-600"},[...W[37]||(W[37]=[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),o("div",bF,[W[44]||(W[44]=o("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Informasi Material",-1)),o("div",vF,[o("div",null,[W[39]||(W[39]=o("span",{class:"text-gray-600"},"Kode:",-1)),o("span",EF,P(_.value.material?.kode),1)]),o("div",null,[W[40]||(W[40]=o("span",{class:"text-gray-600"},"Nama:",-1)),o("span",wF,P(_.value.material?.nama),1)]),o("div",null,[W[41]||(W[41]=o("span",{class:"text-gray-600"},"Lot:",-1)),o("span",CF,P(_.value.material?.lot),1)]),o("div",null,[W[42]||(W[42]=o("span",{class:"text-gray-600"},"Lokasi Saat Ini:",-1)),o("span",AF,P(_.value.material?.lokasi),1)]),o("div",null,[W[43]||(W[43]=o("span",{class:"text-gray-600"},"Qty Tersedia:",-1)),o("span",BF,P(_.value.material?.qty)+" "+P(_.value.material?.uom),1)])])]),o("div",_F,[o("div",null,[W[45]||(W[45]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[qe(" Quantity Transfer "),o("span",{class:"text-red-500"},"*")],-1)),o("div",DF,[Ee(o("input",{"onUpdate:modelValue":W[7]||(W[7]=ee=>_.value.qty=ee),type:"number",max:_.value.material?.qty,min:"0",class:"flex-1 px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500",placeholder:"Masukkan qty yang akan di-transfer"},null,8,kF),[[Oe,_.value.qty,void 0,{number:!0}]]),o("span",SF,P(_.value.material?.uom),1)]),_.value.qty>(_.value.material?.qty||0)?(U(),G("p",FF," Qty transfer melebihi qty tersedia! ")):pe("",!0)]),o("div",null,[W[47]||(W[47]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[qe(" Bin Tujuan "),o("span",{class:"text-red-500"},"*")],-1)),Ee(o("select",{"onUpdate:modelValue":W[8]||(W[8]=ee=>_.value.destinationBin=ee),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[W[46]||(W[46]=o("option",{value:""},"-- Pilih Bin Tujuan --",-1)),o("optgroup",TF,[(U(!0),G($e,null,nt(S.value.standard,ee=>(U(),G("option",{key:ee.code,value:ee.code},P(ee.code)+" - "+P(ee.zone)+" ("+P(ee.currentItems)+"/"+P(ee.maxItems)+" items) ",9,IF))),128))]),o("optgroup",MF,[(U(!0),G($e,null,nt(S.value.hazardous,ee=>(U(),G("option",{key:ee.code,value:ee.code},P(ee.code)+" - "+P(ee.zone)+" ("+P(ee.currentItems)+"/"+P(ee.maxItems)+" items) ",9,PF))),128))])],512),[[ct,_.value.destinationBin]])]),_.value.destinationBin?(U(),G("div",RF,[W[52]||(W[52]=o("h5",{class:"text-sm font-medium text-blue-900 mb-2"},"Detail Bin Tujuan",-1)),o("div",OF,[o("div",NF,[W[48]||(W[48]=o("span",null,"Kode Bin:",-1)),o("span",LF,P(T.value?.code),1)]),o("div",$F,[W[49]||(W[49]=o("span",null,"Zona:",-1)),o("span",jF,P(T.value?.zone),1)]),o("div",UF,[W[50]||(W[50]=o("span",null,"Kapasitas:",-1)),o("span",HF,P(T.value?.currentItems)+"/"+P(T.value?.maxItems)+" items",1)]),o("div",zF,[W[51]||(W[51]=o("span",null,"Status:",-1)),o("span",{class:Fe([Ne(T.value),"px-2 py-0.5 text-xs rounded-full"])},P(tt(T.value)),3)])])])):pe("",!0),o("div",null,[W[54]||(W[54]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[qe(" Alasan Transfer "),o("span",{class:"text-red-500"},"*")],-1)),Ee(o("select",{"onUpdate:modelValue":W[9]||(W[9]=ee=>_.value.reason=ee),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 mb-2"},[...W[53]||(W[53]=[o("option",{value:""},"-- Pilih Alasan --",-1),o("option",{value:"optimization"},"Optimasi Ruang Gudang",-1),o("option",{value:"consolidation"},"Konsolidasi Material",-1),o("option",{value:"reorganization"},"Reorganisasi Zona",-1),o("option",{value:"safety"},"Alasan Keamanan",-1),o("option",{value:"quality"},"Segregasi Quality",-1),o("option",{value:"other"},"Lainnya",-1)])],512),[[ct,_.value.reason]]),_.value.reason==="other"||_.value.reason?Ee((U(),G("textarea",{key:0,"onUpdate:modelValue":W[10]||(W[10]=ee=>_.value.notes=ee),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500",placeholder:"Catatan tambahan..."},null,512)),[[Oe,_.value.notes]]):pe("",!0)]),W[55]||(W[55]=o("div",{class:"bg-yellow-50 border border-yellow-200 rounded-lg p-4"},[o("div",{class:"flex items-start space-x-2"},[o("svg",{class:"w-5 h-5 text-yellow-600 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[o("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})]),o("div",{class:"flex-1"},[o("h5",{class:"text-sm font-medium text-yellow-900"},"Persetujuan Manager"),o("p",{class:"text-xs text-yellow-800 mt-1"}," Transfer Order Bin to Bin akan dibuat dan memerlukan approval dari manager/admin sebelum dapat dieksekusi. ")])])],-1))]),o("div",VF,[o("button",{onClick:N,class:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"}," Batal "),o("button",{onClick:V,disabled:!j.value,class:Fe([j.value?"bg-green-600 hover:bg-green-700":"bg-gray-400 cursor-not-allowed","px-4 py-2 text-white rounded-lg transition-colors flex items-center space-x-2"])},[...W[56]||(W[56]=[o("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),o("span",null,"Buat Transfer Order",-1)])],10,qF)])])])):pe("",!0),f.value?(U(),G("div",{key:1,class:Fe(["fixed inset-y-0 right-0 w-96 bg-white shadow-xl z-[998] transform transition-transform duration-300 border-l border-gray-200",m.value?"translate-x-0":"translate-x-full"]),style:{"max-height":"100vh",overflow:"hidden"}},[o("div",WF,[o("div",{class:"px-6 py-4 bg-gray-50 border-b border-gray-200"},[o("div",{class:"flex items-center justify-between"},[W[58]||(W[58]=o("h3",{class:"text-lg font-medium text-gray-900"},"Detail Material",-1)),o("button",{onClick:Te,class:"text-gray-400 hover:text-gray-600"},[...W[57]||(W[57]=[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),o("div",GF,[o("div",QF,[o("div",null,[W[67]||(W[67]=o("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Informasi Material",-1)),o("div",KF,[o("div",YF,[W[59]||(W[59]=o("span",{class:"text-gray-600"},"Tipe:",-1)),o("span",{class:Fe([f.value.type==="RM"?"text-blue-600":"text-green-600","font-medium"])},P(f.value.type),3)]),o("div",XF,[W[60]||(W[60]=o("span",{class:"text-gray-600"},"Kode:",-1)),o("span",ZF,P(f.value.kode),1)]),o("div",JF,[W[61]||(W[61]=o("span",{class:"text-gray-600"},"Nama:",-1)),o("span",eT,P(f.value.nama),1)]),o("div",tT,[W[62]||(W[62]=o("span",{class:"text-gray-600"},"Lot/Serial:",-1)),o("span",nT,P(f.value.lot),1)]),o("div",rT,[W[63]||(W[63]=o("span",{class:"text-gray-600"},"Lokasi:",-1)),o("span",sT,P(f.value.lokasi),1)]),o("div",oT,[W[64]||(W[64]=o("span",{class:"text-gray-600"},"Qty:",-1)),o("span",iT,P(f.value.qty)+" "+P(f.value.uom),1)]),o("div",aT,[W[65]||(W[65]=o("span",{class:"text-gray-600"},"Expired:",-1)),o("span",{class:Fe([fe(f.value.expiredDate),"font-medium"])},P(Re(f.value.expiredDate)),3)]),o("div",lT,[W[66]||(W[66]=o("span",{class:"text-gray-600"},"Status:",-1)),o("span",{class:Fe([Pe(f.value.status),"px-2 py-1 text-xs font-semibold rounded-full"])},P(f.value.status),3)])])]),o("div",null,[W[68]||(W[68]=o("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"QR Code & Dokumen",-1)),o("div",cT,[o("div",dT,[f.value.qr_image_url?(U(),G("img",{key:0,src:f.value.qr_image_url,alt:"QR Code",class:"w-full h-full object-contain"},null,8,uT)):(U(),G("div",xT,"Generating..."))]),o("p",fT,P(f.value.kode)+"-"+P(f.value.lot),1),o("button",{onClick:W[11]||(W[11]=ee=>ue(f.value)),class:"text-blue-600 text-sm hover:underline font-medium"}," Print QR Code ")]),W[69]||(W[69]=o("div",{class:"mt-3 space-y-1 text-sm"},[o("div",{class:"flex justify-between"},[o("span",{class:"text-gray-600"},"PO Number:"),o("span",{class:"text-blue-600 cursor-pointer hover:underline"},"PO-2024-001")]),o("div",{class:"flex justify-between"},[o("span",{class:"text-gray-600"},"GR Number:"),o("span",{class:"text-blue-600 cursor-pointer hover:underline"},"GR-2024-001")])],-1))]),o("div",null,[W[71]||(W[71]=o("h4",{class:"text-sm font-medium text-gray-900 mb-3"},"Riwayat Pergerakan",-1)),f.value.history.length>0?(U(),G("div",hT,[(U(!0),G($e,null,nt(f.value.history,ee=>(U(),G("div",{key:ee.id,class:"flex items-start space-x-3"},[W[70]||(W[70]=o("div",{class:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"},null,-1)),o("div",gT,[o("div",pT,[o("span",mT,P(ee.action),1),o("span",yT,P(Je(ee.date)),1)]),o("p",bT,P(ee.detail),1),o("p",vT,"Oleh: "+P(ee.user),1)])]))),128))])):(U(),G("div",ET," Belum ada riwayat pergerakan untuk item ini. "))])])])])],2)):pe("",!0),m.value?(U(),G("div",{key:2,onClick:Te,class:"fixed inset-0 bg-black/40 backdrop-blur-sm z-[997]"})):pe("",!0),w.value&&E.value?(U(),G("div",wT,[o("div",CT,[o("div",AT,[o("h3",BT,[W[72]||(W[72]=qe(" QR Code: ",-1)),o("span",{class:Fe(E.value.qr_type==="Karantina"?"text-orange-600":"text-green-600")},P(E.value.qr_type),3)]),o("button",{onClick:B,class:"text-gray-400 hover:text-gray-600"},[...W[73]||(W[73]=[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),o("div",_T,[o("div",DT,[o("div",kT,[E.value.qr_image_url?(U(),G("img",{key:0,src:E.value.qr_image_url,alt:"QR Code",class:"w-full h-full object-contain"},null,8,ST)):(U(),G("span",FT,"Generating..."))])]),o("p",TT,"Kode: **"+P(E.value.kode)+"-"+P(E.value.lot)+"**",1),o("p",IT," Data Terenkripsi: `"+P(E.value.qr_data.substring(0,40))+"...` ",1),o("div",MT,[o("button",{onClick:B,class:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"}," Tutup "),o("button",{onClick:W[12]||(W[12]=ee=>R(E.value)),class:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2"},[...W[74]||(W[74]=[o("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2v2H5v-2h2M17 17v-5H7v5m12 0a2 2 0 01-2 2H7a2 2 0 01-2-2m2-5V4a2 2 0 012-2h6a2 2 0 012 2v8M7 7h10"})],-1),o("span",null,"Cetak QR",-1)])])])])])])):pe("",!0),le.value?(U(),G("div",PT,[o("div",RT,[W[76]||(W[76]=o("div",{class:"bg-gradient-to-r from-red-500 to-red-600 px-6 py-4"},[o("div",{class:"flex items-center gap-3"},[o("div",{class:"bg-white/20 p-2 rounded-full"},[o("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])]),o("h3",{class:"text-xl font-bold text-white"},"Validasi Gagal")])],-1)),o("div",OT,[o("div",NT,[o("p",LT,P(Y.value),1)]),W[75]||(W[75]=o("div",{class:"bg-blue-50 border border-blue-200 rounded-lg p-3 flex items-start gap-2"},[o("svg",{class:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[o("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})]),o("div",{class:"text-xs text-blue-800"},[o("p",{class:"font-semibold mb-1"},"Solusi:"),o("p",null,[qe("Lakukan "),o("a",{href:"/transaction/bin-to-bin",class:"underline hover:text-blue-900 font-medium"},"Bin-to-Bin Transfer"),qe(" terlebih dahulu ke bin QRT (QRT-HALAL, QRT-NON HALAL, atau QRT-HALAL-AC)")])])],-1))]),o("div",{class:"bg-gray-50 px-6 py-4 flex justify-end gap-3"},[o("button",{onClick:ne,class:"px-6 py-2.5 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-semibold rounded-lg shadow-lg transition-all hover:scale-105 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2"}," Tutup ")])])])):pe("",!0)])]),_:1}))}}),jT=Hi($T,[["__scopeId","data-v-0a6a277a"]]),UT=Object.freeze(Object.defineProperty({__proto__:null,default:jT},Symbol.toStringTag,{value:"Module"}));/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function nl(e){return e+.5|0}const Zs=(e,t,n)=>Math.max(Math.min(e,n),t);function fa(e){return Zs(nl(e*2.55),0,255)}function ro(e){return Zs(nl(e*255),0,255)}function As(e){return Zs(nl(e/2.55)/100,0,1)}function Dg(e){return Zs(nl(e*100),0,100)}const kr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Nu=[..."0123456789ABCDEF"],HT=e=>Nu[e&15],zT=e=>Nu[(e&240)>>4]+Nu[e&15],Bl=e=>(e&240)>>4===(e&15),VT=e=>Bl(e.r)&&Bl(e.g)&&Bl(e.b)&&Bl(e.a);function qT(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&kr[e[1]]*17,g:255&kr[e[2]]*17,b:255&kr[e[3]]*17,a:t===5?kr[e[4]]*17:255}:(t===7||t===9)&&(n={r:kr[e[1]]<<4|kr[e[2]],g:kr[e[3]]<<4|kr[e[4]],b:kr[e[5]]<<4|kr[e[6]],a:t===9?kr[e[7]]<<4|kr[e[8]]:255})),n}const WT=(e,t)=>e<255?t(e):"";function GT(e){var t=VT(e)?HT:zT;return e?"#"+t(e.r)+t(e.g)+t(e.b)+WT(e.a,t):void 0}const QT=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function My(e,t,n){const r=t*Math.min(n,1-n),i=(a,c=(a+e/30)%12)=>n-r*Math.max(Math.min(c-3,9-c,1),-1);return[i(0),i(8),i(4)]}function KT(e,t,n){const r=(i,a=(i+e/60)%6)=>n-n*t*Math.max(Math.min(a,4-a,1),0);return[r(5),r(3),r(1)]}function YT(e,t,n){const r=My(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function XT(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}function Sx(e){const n=e.r/255,r=e.g/255,i=e.b/255,a=Math.max(n,r,i),c=Math.min(n,r,i),u=(a+c)/2;let g,f,m;return a!==c&&(m=a-c,f=u>.5?m/(2-a-c):m/(a+c),g=XT(n,r,i,m,a),g=g*60+.5),[g|0,f||0,u]}function Fx(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(ro)}function Tx(e,t,n){return Fx(My,e,t,n)}function ZT(e,t,n){return Fx(YT,e,t,n)}function JT(e,t,n){return Fx(KT,e,t,n)}function Py(e){return(e%360+360)%360}function eI(e){const t=QT.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?fa(+t[5]):ro(+t[5]));const i=Py(+t[2]),a=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?r=ZT(i,a,c):t[1]==="hsv"?r=JT(i,a,c):r=Tx(i,a,c),{r:r[0],g:r[1],b:r[2],a:n}}function tI(e,t){var n=Sx(e);n[0]=Py(n[0]+t),n=Tx(n),e.r=n[0],e.g=n[1],e.b=n[2]}function nI(e){if(!e)return;const t=Sx(e),n=t[0],r=Dg(t[1]),i=Dg(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${i}%, ${As(e.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const kg={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Sg={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function rI(){const e={},t=Object.keys(Sg),n=Object.keys(kg);let r,i,a,c,u;for(r=0;r<t.length;r++){for(c=u=t[r],i=0;i<n.length;i++)a=n[i],u=u.replace(a,kg[a]);a=parseInt(Sg[c],16),e[u]=[a>>16&255,a>>8&255,a&255]}return e}let _l;function sI(e){_l||(_l=rI(),_l.transparent=[0,0,0,0]);const t=_l[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const oI=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function iI(e){const t=oI.exec(e);let n=255,r,i,a;if(t){if(t[7]!==r){const c=+t[7];n=t[8]?fa(c):Zs(c*255,0,255)}return r=+t[1],i=+t[3],a=+t[5],r=255&(t[2]?fa(r):Zs(r,0,255)),i=255&(t[4]?fa(i):Zs(i,0,255)),a=255&(t[6]?fa(a):Zs(a,0,255)),{r,g:i,b:a,a:n}}}function aI(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${As(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Kd=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,xi=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function lI(e,t,n){const r=xi(As(e.r)),i=xi(As(e.g)),a=xi(As(e.b));return{r:ro(Kd(r+n*(xi(As(t.r))-r))),g:ro(Kd(i+n*(xi(As(t.g))-i))),b:ro(Kd(a+n*(xi(As(t.b))-a))),a:e.a+n*(t.a-e.a)}}function Dl(e,t,n){if(e){let r=Sx(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=Tx(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function Ry(e,t){return e&&Object.assign(t||{},e)}function Fg(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=ro(e[3]))):(t=Ry(e,{r:0,g:0,b:0,a:1}),t.a=ro(t.a)),t}function cI(e){return e.charAt(0)==="r"?iI(e):eI(e)}class La{constructor(t){if(t instanceof La)return t;const n=typeof t;let r;n==="object"?r=Fg(t):n==="string"&&(r=qT(t)||sI(t)||cI(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=Ry(this._rgb);return t&&(t.a=As(t.a)),t}set rgb(t){this._rgb=Fg(t)}rgbString(){return this._valid?aI(this._rgb):void 0}hexString(){return this._valid?GT(this._rgb):void 0}hslString(){return this._valid?nI(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,i=t.rgb;let a;const c=n===a?.5:n,u=2*c-1,g=r.a-i.a,f=((u*g===-1?u:(u+g)/(1+u*g))+1)/2;a=1-f,r.r=255&f*r.r+a*i.r+.5,r.g=255&f*r.g+a*i.g+.5,r.b=255&f*r.b+a*i.b+.5,r.a=c*r.a+(1-c)*i.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=lI(this._rgb,t._rgb,n)),this}clone(){return new La(this.rgb)}alpha(t){return this._rgb.a=ro(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=nl(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Dl(this._rgb,2,t),this}darken(t){return Dl(this._rgb,2,-t),this}saturate(t){return Dl(this._rgb,1,t),this}desaturate(t){return Dl(this._rgb,1,-t),this}rotate(t){return tI(this._rgb,t),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ys(){}const dI=(()=>{let e=0;return()=>e++})();function Lt(e){return e==null}function vn(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Mt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Or(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function os(e,t){return Or(e)?e:t}function Ct(e,t){return typeof e>"u"?t:e}const uI=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,Oy=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function en(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Ut(e,t,n,r){let i,a,c;if(vn(e))for(a=e.length,i=0;i<a;i++)t.call(n,e[i],i);else if(Mt(e))for(c=Object.keys(e),a=c.length,i=0;i<a;i++)t.call(n,e[c[i]],c[i])}function b0(e,t){let n,r,i,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],a=t[n],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function v0(e){if(vn(e))return e.map(v0);if(Mt(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=v0(e[n[i]]);return t}return e}function Ny(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function xI(e,t,n,r){if(!Ny(e))return;const i=t[e],a=n[e];Mt(i)&&Mt(a)?$a(i,a,r):t[e]=v0(a)}function $a(e,t,n){const r=vn(t)?t:[t],i=r.length;if(!Mt(e))return e;n=n||{};const a=n.merger||xI;let c;for(let u=0;u<i;++u){if(c=r[u],!Mt(c))continue;const g=Object.keys(c);for(let f=0,m=g.length;f<m;++f)a(g[f],e,c,n)}return e}function Ca(e,t){return $a(e,t,{merger:fI})}function fI(e,t,n){if(!Ny(e))return;const r=t[e],i=n[e];Mt(r)&&Mt(i)?Ca(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=v0(i))}const Tg={"":e=>e,x:e=>e.x,y:e=>e.y};function hI(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function gI(e){const t=hI(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function Qo(e,t){return(Tg[t]||(Tg[t]=gI(t)))(e)}function Ix(e){return e.charAt(0).toUpperCase()+e.slice(1)}const ja=e=>typeof e<"u",xo=e=>typeof e=="function",Ig=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function pI(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Ht=Math.PI,cn=2*Ht,mI=cn+Ht,E0=Number.POSITIVE_INFINITY,yI=Ht/180,En=Ht/2,Bo=Ht/4,Mg=Ht*2/3,Ly=Math.log10,fs=Math.sign;function Aa(e,t,n){return Math.abs(e-t)<n}function Pg(e){const t=Math.round(e);e=Aa(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Ly(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function bI(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((i,a)=>i-a).pop(),t}function vI(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Ua(e){return!vI(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function EI(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function wI(e,t,n){let r,i,a;for(r=0,i=e.length;r<i;r++)a=e[r][n],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function Ss(e){return e*(Ht/180)}function CI(e){return e*(180/Ht)}function Rg(e){if(!Or(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function $y(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let a=Math.atan2(r,n);return a<-.5*Ht&&(a+=cn),{angle:a,distance:i}}function Lu(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function AI(e,t){return(e-t+mI)%cn-Ht}function Vr(e){return(e%cn+cn)%cn}function Ha(e,t,n,r){const i=Vr(e),a=Vr(t),c=Vr(n),u=Vr(a-i),g=Vr(c-i),f=Vr(i-a),m=Vr(i-c);return i===a||i===c||r&&a===c||u>g&&f<m}function Vn(e,t,n){return Math.max(t,Math.min(n,e))}function BI(e){return Vn(e,-32768,32767)}function Js(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Mx(e,t,n){n=n||(c=>e[c]<t);let r=e.length-1,i=0,a;for(;r-i>1;)a=i+r>>1,n(a)?i=a:r=a;return{lo:i,hi:r}}const Ro=(e,t,n,r)=>Mx(e,n,r?i=>{const a=e[i][t];return a<n||a===n&&e[i+1][t]===n}:i=>e[i][t]<n),_I=(e,t,n)=>Mx(e,n,r=>e[r][t]>=n);function DI(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}const jy=["push","pop","shift","splice","unshift"];function kI(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),jy.forEach(n=>{const r="_onData"+Ix(n),i=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...a){const c=i.apply(this,a);return e._chartjs.listeners.forEach(u=>{typeof u[r]=="function"&&u[r](...a)}),c}})})}function Og(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);i!==-1&&r.splice(i,1),!(r.length>0)&&(jy.forEach(a=>{delete e[a]}),delete e._chartjs)}function Uy(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Hy=(function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame})();function zy(e,t){let n=[],r=!1;return function(...i){n=i,r||(r=!0,Hy.call(window,()=>{r=!1,e.apply(t,n)}))}}function SI(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const Px=e=>e==="start"?"left":e==="end"?"right":"center",jn=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,FI=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t;function TI(e,t,n){const r=t.length;let i=0,a=r;if(e._sorted){const{iScale:c,vScale:u,_parsed:g}=e,f=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,m=c.axis,{min:y,max:w,minDefined:E,maxDefined:C}=c.getUserBounds();if(E){if(i=Math.min(Ro(g,m,y).lo,n?r:Ro(t,m,c.getPixelForValue(y)).lo),f){const D=g.slice(0,i+1).reverse().findIndex(_=>!Lt(_[u.axis]));i-=Math.max(0,D)}i=Vn(i,0,r-1)}if(C){let D=Math.max(Ro(g,c.axis,w,!0).hi+1,n?0:Ro(t,m,c.getPixelForValue(w),!0).hi+1);if(f){const _=g.slice(D-1).findIndex(M=>!Lt(M[u.axis]));D+=Math.max(0,_)}a=Vn(D,i,r)-i}else a=r-i}return{start:i,count:a}}function II(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const a=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),a}const kl=e=>e===0||e===1,Ng=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*cn/n)),Lg=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*cn/n)+1,Ba={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*En)+1,easeOutSine:e=>Math.sin(e*En),easeInOutSine:e=>-.5*(Math.cos(Ht*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>kl(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>kl(e)?e:Ng(e,.075,.3),easeOutElastic:e=>kl(e)?e:Lg(e,.075,.3),easeInOutElastic(e){return kl(e)?e:e<.5?.5*Ng(e*2,.1125,.45):.5+.5*Lg(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Ba.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Ba.easeInBounce(e*2)*.5:Ba.easeOutBounce(e*2-1)*.5+.5};function Rx(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function $g(e){return Rx(e)?e:new La(e)}function Yd(e){return Rx(e)?e:new La(e).saturate(.5).darken(.1).hexString()}const MI=["x","y","borderWidth","radius","tension"],PI=["color","borderColor","backgroundColor"];function RI(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:PI},numbers:{type:"number",properties:MI}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function OI(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const jg=new Map;function NI(e,t){t=t||{};const n=e+JSON.stringify(t);let r=jg.get(n);return r||(r=new Intl.NumberFormat(e,t),jg.set(n,r)),r}function Ox(e,t,n){return NI(t,n).format(e)}const LI={values(e){return vn(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let i,a=e;if(n.length>1){const f=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(f<1e-4||f>1e15)&&(i="scientific"),a=$I(e,n)}const c=Ly(Math.abs(a)),u=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),g={notation:i,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(g,this.options.ticks.format),Ox(e,r,g)}};function $I(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Vy={formatters:LI};function jI(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Vy.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ko=Object.create(null),$u=Object.create(null);function _a(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const a=n[r];e=e[a]||(e[a]=Object.create(null))}return e}function Xd(e,t,n){return typeof t=="string"?$a(_a(e,t),n):$a(_a(e,""),t)}class UI{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Yd(i.backgroundColor),this.hoverBorderColor=(r,i)=>Yd(i.borderColor),this.hoverColor=(r,i)=>Yd(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Xd(this,t,n)}get(t){return _a(this,t)}describe(t,n){return Xd($u,t,n)}override(t,n){return Xd(Ko,t,n)}route(t,n,r,i){const a=_a(this,t),c=_a(this,r),u="_"+n;Object.defineProperties(a,{[u]:{value:a[n],writable:!0},[n]:{enumerable:!0,get(){const g=this[u],f=c[i];return Mt(g)?Object.assign({},f,g):Ct(g,f)},set(g){this[u]=g}}})}apply(t){t.forEach(n=>n(this))}}var xn=new UI({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[RI,OI,jI]);function HI(e){return!e||Lt(e.size)||Lt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Ug(e,t,n,r,i){let a=t[i];return a||(a=t[i]=e.measureText(i).width,n.push(i)),a>r&&(r=a),r}function _o(e,t,n){const r=e.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function Hg(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function ju(e,t,n,r){qy(e,t,n,r,null)}function qy(e,t,n,r,i){let a,c,u,g,f,m,y,w;const E=t.pointStyle,C=t.rotation,D=t.radius;let _=(C||0)*yI;if(E&&typeof E=="object"&&(a=E.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(_),e.drawImage(E,-E.width/2,-E.height/2,E.width,E.height),e.restore();return}if(!(isNaN(D)||D<=0)){switch(e.beginPath(),E){default:i?e.ellipse(n,r,i/2,D,0,0,cn):e.arc(n,r,D,0,cn),e.closePath();break;case"triangle":m=i?i/2:D,e.moveTo(n+Math.sin(_)*m,r-Math.cos(_)*D),_+=Mg,e.lineTo(n+Math.sin(_)*m,r-Math.cos(_)*D),_+=Mg,e.lineTo(n+Math.sin(_)*m,r-Math.cos(_)*D),e.closePath();break;case"rectRounded":f=D*.516,g=D-f,c=Math.cos(_+Bo)*g,y=Math.cos(_+Bo)*(i?i/2-f:g),u=Math.sin(_+Bo)*g,w=Math.sin(_+Bo)*(i?i/2-f:g),e.arc(n-y,r-u,f,_-Ht,_-En),e.arc(n+w,r-c,f,_-En,_),e.arc(n+y,r+u,f,_,_+En),e.arc(n-w,r+c,f,_+En,_+Ht),e.closePath();break;case"rect":if(!C){g=Math.SQRT1_2*D,m=i?i/2:g,e.rect(n-m,r-g,2*m,2*g);break}_+=Bo;case"rectRot":y=Math.cos(_)*(i?i/2:D),c=Math.cos(_)*D,u=Math.sin(_)*D,w=Math.sin(_)*(i?i/2:D),e.moveTo(n-y,r-u),e.lineTo(n+w,r-c),e.lineTo(n+y,r+u),e.lineTo(n-w,r+c),e.closePath();break;case"crossRot":_+=Bo;case"cross":y=Math.cos(_)*(i?i/2:D),c=Math.cos(_)*D,u=Math.sin(_)*D,w=Math.sin(_)*(i?i/2:D),e.moveTo(n-y,r-u),e.lineTo(n+y,r+u),e.moveTo(n+w,r-c),e.lineTo(n-w,r+c);break;case"star":y=Math.cos(_)*(i?i/2:D),c=Math.cos(_)*D,u=Math.sin(_)*D,w=Math.sin(_)*(i?i/2:D),e.moveTo(n-y,r-u),e.lineTo(n+y,r+u),e.moveTo(n+w,r-c),e.lineTo(n-w,r+c),_+=Bo,y=Math.cos(_)*(i?i/2:D),c=Math.cos(_)*D,u=Math.sin(_)*D,w=Math.sin(_)*(i?i/2:D),e.moveTo(n-y,r-u),e.lineTo(n+y,r+u),e.moveTo(n+w,r-c),e.lineTo(n-w,r+c);break;case"line":c=i?i/2:Math.cos(_)*D,u=Math.sin(_)*D,e.moveTo(n-c,r-u),e.lineTo(n+c,r+u);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(_)*(i?i/2:D),r+Math.sin(_)*D);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function za(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Nx(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Lx(e){e.restore()}function zI(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if(i==="middle"){const a=(t.x+n.x)/2;e.lineTo(a,t.y),e.lineTo(a,n.y)}else i==="after"!=!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function VI(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function qI(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Lt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function WI(e,t,n,r,i){if(i.strikethrough||i.underline){const a=e.measureText(r),c=t-a.actualBoundingBoxLeft,u=t+a.actualBoundingBoxRight,g=n-a.actualBoundingBoxAscent,f=n+a.actualBoundingBoxDescent,m=i.strikethrough?(g+f)/2:f;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(c,m),e.lineTo(u,m),e.stroke()}}function GI(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Va(e,t,n,r,i,a={}){const c=vn(t)?t:[t],u=a.strokeWidth>0&&a.strokeColor!=="";let g,f;for(e.save(),e.font=i.string,qI(e,a),g=0;g<c.length;++g)f=c[g],a.backdrop&&GI(e,a.backdrop),u&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),Lt(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(f,n,r,a.maxWidth)),e.fillText(f,n,r,a.maxWidth),WI(e,n,r,f,a),r+=Number(i.lineHeight);e.restore()}function w0(e,t){const{x:n,y:r,w:i,h:a,radius:c}=t;e.arc(n+c.topLeft,r+c.topLeft,c.topLeft,1.5*Ht,Ht,!0),e.lineTo(n,r+a-c.bottomLeft),e.arc(n+c.bottomLeft,r+a-c.bottomLeft,c.bottomLeft,Ht,En,!0),e.lineTo(n+i-c.bottomRight,r+a),e.arc(n+i-c.bottomRight,r+a-c.bottomRight,c.bottomRight,En,0,!0),e.lineTo(n+i,r+c.topRight),e.arc(n+i-c.topRight,r+c.topRight,c.topRight,0,-En,!0),e.lineTo(n+c.topLeft,r)}const QI=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,KI=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function YI(e,t){const n=(""+e).match(QI);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const XI=e=>+e||0;function $x(e,t){const n={},r=Mt(t),i=r?Object.keys(t):t,a=Mt(e)?r?c=>Ct(e[c],e[t[c]]):c=>e[c]:()=>e;for(const c of i)n[c]=XI(a(c));return n}function Wy(e){return $x(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Bi(e){return $x(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Nr(e){const t=Wy(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function qn(e,t){e=e||{},t=t||xn.font;let n=Ct(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=Ct(e.style,t.style);r&&!(""+r).match(KI)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Ct(e.family,t.family),lineHeight:YI(Ct(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:Ct(e.weight,t.weight),string:""};return i.string=HI(i),i}function Sl(e,t,n,r){let i,a,c;for(i=0,a=e.length;i<a;++i)if(c=e[i],c!==void 0&&c!==void 0)return c}function ZI(e,t,n){const{min:r,max:i}=e,a=Oy(t,(i-r)/2),c=(u,g)=>n&&u===0?0:u+g;return{min:c(r,-Math.abs(a)),max:c(i,a)}}function ei(e,t){return Object.assign(Object.create(e),t)}function jx(e,t=[""],n,r,i=()=>e[0]){const a=n||e;typeof r>"u"&&(r=Yy("_fallback",e));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:r,_getTarget:i,override:u=>jx([u,...e],t,a,r)};return new Proxy(c,{deleteProperty(u,g){return delete u[g],delete u._keys,delete e[0][g],!0},get(u,g){return Qy(u,g,()=>iM(g,t,e,u))},getOwnPropertyDescriptor(u,g){return Reflect.getOwnPropertyDescriptor(u._scopes[0],g)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(u,g){return Vg(u).includes(g)},ownKeys(u){return Vg(u)},set(u,g,f){const m=u._storage||(u._storage=i());return u[g]=m[g]=f,delete u._keys,!0}})}function Mi(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Gy(e,r),setContext:a=>Mi(e,a,n,r),override:a=>Mi(e.override(a),t,n,r)};return new Proxy(i,{deleteProperty(a,c){return delete a[c],delete e[c],!0},get(a,c,u){return Qy(a,c,()=>eM(a,c,u))},getOwnPropertyDescriptor(a,c){return a._descriptors.allKeys?Reflect.has(e,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,c)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(a,c){return Reflect.has(e,c)},ownKeys(){return Reflect.ownKeys(e)},set(a,c,u){return e[c]=u,delete a[c],!0}})}function Gy(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:xo(n)?n:()=>n,isIndexable:xo(r)?r:()=>r}}const JI=(e,t)=>e?e+Ix(t):t,Ux=(e,t)=>Mt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Qy(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function eM(e,t,n){const{_proxy:r,_context:i,_subProxy:a,_descriptors:c}=e;let u=r[t];return xo(u)&&c.isScriptable(t)&&(u=tM(t,u,e,n)),vn(u)&&u.length&&(u=nM(t,u,e,c.isIndexable)),Ux(t,u)&&(u=Mi(u,i,a&&a[t],c)),u}function tM(e,t,n,r){const{_proxy:i,_context:a,_subProxy:c,_stack:u}=n;if(u.has(e))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+e);u.add(e);let g=t(a,c||r);return u.delete(e),Ux(e,g)&&(g=Hx(i._scopes,i,e,g)),g}function nM(e,t,n,r){const{_proxy:i,_context:a,_subProxy:c,_descriptors:u}=n;if(typeof a.index<"u"&&r(e))return t[a.index%t.length];if(Mt(t[0])){const g=t,f=i._scopes.filter(m=>m!==g);t=[];for(const m of g){const y=Hx(f,i,e,m);t.push(Mi(y,a,c&&c[e],u))}}return t}function Ky(e,t,n){return xo(e)?e(t,n):e}const rM=(e,t)=>e===!0?t:typeof e=="string"?Qo(t,e):void 0;function sM(e,t,n,r,i){for(const a of t){const c=rM(n,a);if(c){e.add(c);const u=Ky(c._fallback,n,i);if(typeof u<"u"&&u!==n&&u!==r)return u}else if(c===!1&&typeof r<"u"&&n!==r)return null}return!1}function Hx(e,t,n,r){const i=t._rootScopes,a=Ky(t._fallback,n,r),c=[...e,...i],u=new Set;u.add(r);let g=zg(u,c,n,a||n,r);return g===null||typeof a<"u"&&a!==n&&(g=zg(u,c,a,g,r),g===null)?!1:jx(Array.from(u),[""],i,a,()=>oM(t,n,r))}function zg(e,t,n,r,i){for(;n;)n=sM(e,t,n,r,i);return n}function oM(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];return vn(i)&&Mt(n)?n:i||{}}function iM(e,t,n,r){let i;for(const a of t)if(i=Yy(JI(a,e),n),typeof i<"u")return Ux(e,i)?Hx(n,r,e,i):i}function Yy(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function Vg(e){let t=e._keys;return t||(t=e._keys=aM(e._scopes)),t}function aM(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))t.add(r);return Array.from(t)}const lM=Number.EPSILON||1e-14,Pi=(e,t)=>t<e.length&&!e[t].skip&&e[t],Xy=e=>e==="x"?"y":"x";function cM(e,t,n,r){const i=e.skip?t:e,a=t,c=n.skip?t:n,u=Lu(a,i),g=Lu(c,a);let f=u/(u+g),m=g/(u+g);f=isNaN(f)?0:f,m=isNaN(m)?0:m;const y=r*f,w=r*m;return{previous:{x:a.x-y*(c.x-i.x),y:a.y-y*(c.y-i.y)},next:{x:a.x+w*(c.x-i.x),y:a.y+w*(c.y-i.y)}}}function dM(e,t,n){const r=e.length;let i,a,c,u,g,f=Pi(e,0);for(let m=0;m<r-1;++m)if(g=f,f=Pi(e,m+1),!(!g||!f)){if(Aa(t[m],0,lM)){n[m]=n[m+1]=0;continue}i=n[m]/t[m],a=n[m+1]/t[m],u=Math.pow(i,2)+Math.pow(a,2),!(u<=9)&&(c=3/Math.sqrt(u),n[m]=i*c*t[m],n[m+1]=a*c*t[m])}}function uM(e,t,n="x"){const r=Xy(n),i=e.length;let a,c,u,g=Pi(e,0);for(let f=0;f<i;++f){if(c=u,u=g,g=Pi(e,f+1),!u)continue;const m=u[n],y=u[r];c&&(a=(m-c[n])/3,u[`cp1${n}`]=m-a,u[`cp1${r}`]=y-a*t[f]),g&&(a=(g[n]-m)/3,u[`cp2${n}`]=m+a,u[`cp2${r}`]=y+a*t[f])}}function xM(e,t="x"){const n=Xy(t),r=e.length,i=Array(r).fill(0),a=Array(r);let c,u,g,f=Pi(e,0);for(c=0;c<r;++c)if(u=g,g=f,f=Pi(e,c+1),!!g){if(f){const m=f[t]-g[t];i[c]=m!==0?(f[n]-g[n])/m:0}a[c]=u?f?fs(i[c-1])!==fs(i[c])?0:(i[c-1]+i[c])/2:i[c-1]:i[c]}dM(e,i,a),uM(e,a,t)}function Fl(e,t,n){return Math.max(Math.min(e,n),t)}function fM(e,t){let n,r,i,a,c,u=za(e[0],t);for(n=0,r=e.length;n<r;++n)c=a,a=u,u=n<r-1&&za(e[n+1],t),a&&(i=e[n],c&&(i.cp1x=Fl(i.cp1x,t.left,t.right),i.cp1y=Fl(i.cp1y,t.top,t.bottom)),u&&(i.cp2x=Fl(i.cp2x,t.left,t.right),i.cp2y=Fl(i.cp2y,t.top,t.bottom)))}function hM(e,t,n,r,i){let a,c,u,g;if(t.spanGaps&&(e=e.filter(f=>!f.skip)),t.cubicInterpolationMode==="monotone")xM(e,i);else{let f=r?e[e.length-1]:e[0];for(a=0,c=e.length;a<c;++a)u=e[a],g=cM(f,u,e[Math.min(a+1,c-(r?0:1))%c],t.tension),u.cp1x=g.previous.x,u.cp1y=g.previous.y,u.cp2x=g.next.x,u.cp2y=g.next.y,f=u}t.capBezierPoints&&fM(e,n)}function zx(){return typeof window<"u"&&typeof document<"u"}function Vx(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function C0(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const W0=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function gM(e,t){return W0(e).getPropertyValue(t)}const pM=["top","right","bottom","left"];function Uo(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const a=pM[i];r[a]=parseFloat(e[t+"-"+a+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const mM=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function yM(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:a}=r;let c=!1,u,g;if(mM(i,a,e.target))u=i,g=a;else{const f=t.getBoundingClientRect();u=r.clientX-f.left,g=r.clientY-f.top,c=!0}return{x:u,y:g,box:c}}function So(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=W0(n),a=i.boxSizing==="border-box",c=Uo(i,"padding"),u=Uo(i,"border","width"),{x:g,y:f,box:m}=yM(e,n),y=c.left+(m&&u.left),w=c.top+(m&&u.top);let{width:E,height:C}=t;return a&&(E-=c.width+u.width,C-=c.height+u.height),{x:Math.round((g-y)/E*n.width/r),y:Math.round((f-w)/C*n.height/r)}}function bM(e,t,n){let r,i;if(t===void 0||n===void 0){const a=e&&Vx(e);if(!a)t=e.clientWidth,n=e.clientHeight;else{const c=a.getBoundingClientRect(),u=W0(a),g=Uo(u,"border","width"),f=Uo(u,"padding");t=c.width-f.width-g.width,n=c.height-f.height-g.height,r=C0(u.maxWidth,a,"clientWidth"),i=C0(u.maxHeight,a,"clientHeight")}}return{width:t,height:n,maxWidth:r||E0,maxHeight:i||E0}}const eo=e=>Math.round(e*10)/10;function vM(e,t,n,r){const i=W0(e),a=Uo(i,"margin"),c=C0(i.maxWidth,e,"clientWidth")||E0,u=C0(i.maxHeight,e,"clientHeight")||E0,g=bM(e,t,n);let{width:f,height:m}=g;if(i.boxSizing==="content-box"){const w=Uo(i,"border","width"),E=Uo(i,"padding");f-=E.width+w.width,m-=E.height+w.height}return f=Math.max(0,f-a.width),m=Math.max(0,r?f/r:m-a.height),f=eo(Math.min(f,c,g.maxWidth)),m=eo(Math.min(m,u,g.maxHeight)),f&&!m&&(m=eo(f/2)),(t!==void 0||n!==void 0)&&r&&g.height&&m>g.height&&(m=g.height,f=eo(Math.floor(m*r))),{width:f,height:m}}function qg(e,t,n){const r=t||1,i=eo(e.height*r),a=eo(e.width*r);e.height=eo(e.height),e.width=eo(e.width);const c=e.canvas;return c.style&&(n||!c.style.height&&!c.style.width)&&(c.style.height=`${e.height}px`,c.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||c.height!==i||c.width!==a?(e.currentDevicePixelRatio=r,c.height=i,c.width=a,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const EM=(function(){let e=!1;try{const t={get passive(){return e=!0,!1}};zx()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e})();function Wg(e,t){const n=gM(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Fo(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function wM(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:r==="middle"?n<.5?e.y:t.y:r==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function CM(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},c=Fo(e,i,n),u=Fo(i,a,n),g=Fo(a,t,n),f=Fo(c,u,n),m=Fo(u,g,n);return Fo(f,m,n)}const AM=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},BM=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function _i(e,t,n){return e?AM(t,n):BM()}function Zy(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function Jy(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function eb(e){return e==="angle"?{between:Ha,compare:AI,normalize:Vr}:{between:Js,compare:(t,n)=>t-n,normalize:t=>t}}function Gg({start:e,end:t,count:n,loop:r,style:i}){return{start:e%n,end:t%n,loop:r&&(t-e+1)%n===0,style:i}}function _M(e,t,n){const{property:r,start:i,end:a}=n,{between:c,normalize:u}=eb(r),g=t.length;let{start:f,end:m,loop:y}=e,w,E;if(y){for(f+=g,m+=g,w=0,E=g;w<E&&c(u(t[f%g][r]),i,a);++w)f--,m--;f%=g,m%=g}return m<f&&(m+=g),{start:f,end:m,loop:y,style:e.style}}function DM(e,t,n){if(!n)return[e];const{property:r,start:i,end:a}=n,c=t.length,{compare:u,between:g,normalize:f}=eb(r),{start:m,end:y,loop:w,style:E}=_M(e,t,n),C=[];let D=!1,_=null,M,$,I;const S=()=>g(i,I,M)&&u(i,I)!==0,T=()=>u(a,M)===0||g(a,I,M),j=()=>D||S(),L=()=>!D||T();for(let z=m,F=m;z<=y;++z)$=t[z%c],!$.skip&&(M=f($[r]),M!==I&&(D=g(M,i,a),_===null&&j()&&(_=u(M,i)===0?z:F),_!==null&&L()&&(C.push(Gg({start:_,end:z,loop:w,count:c,style:E})),_=null),F=z,I=M));return _!==null&&C.push(Gg({start:_,end:y,loop:w,count:c,style:E})),C}function kM(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const a=DM(r[i],e.points,t);a.length&&n.push(...a)}return n}function SM(e,t,n,r){let i=0,a=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(a+=i);a>i&&e[a%t].skip;)a--;return a%=t,{start:i,end:a}}function FM(e,t,n,r){const i=e.length,a=[];let c=t,u=e[t],g;for(g=t+1;g<=n;++g){const f=e[g%i];f.skip||f.stop?u.skip||(r=!1,a.push({start:t%i,end:(g-1)%i,loop:r}),t=c=f.stop?g:null):(c=g,u.skip&&(t=g)),u=f}return c!==null&&a.push({start:t%i,end:c%i,loop:r}),a}function TM(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const a=!!e._loop,{start:c,end:u}=SM(n,i,a,r);if(r===!0)return Qg(e,[{start:c,end:u,loop:a}],n,t);const g=u<c?u+i:u,f=!!e._fullLoop&&c===0&&u===i-1;return Qg(e,FM(n,c,g,f),n,t)}function Qg(e,t,n,r){return!r||!r.setContext||!n?t:IM(e,t,n,r)}function IM(e,t,n,r){const i=e._chart.getContext(),a=Kg(e.options),{_datasetIndex:c,options:{spanGaps:u}}=e,g=n.length,f=[];let m=a,y=t[0].start,w=y;function E(C,D,_,M){const $=u?-1:1;if(C!==D){for(C+=g;n[C%g].skip;)C-=$;for(;n[D%g].skip;)D+=$;C%g!==D%g&&(f.push({start:C%g,end:D%g,loop:_,style:M}),m=M,y=D%g)}}for(const C of t){y=u?y:C.start;let D=n[y%g],_;for(w=y+1;w<=C.end;w++){const M=n[w%g];_=Kg(r.setContext(ei(i,{type:"segment",p0:D,p1:M,p0DataIndex:(w-1)%g,p1DataIndex:w%g,datasetIndex:c}))),MM(_,m)&&E(y,w-1,C.loop,m),D=M,m=_}y<w-1&&E(y,w-1,C.loop,m)}return f}function Kg(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function MM(e,t){if(!t)return!1;const n=[],r=function(i,a){return Rx(a)?(n.includes(a)||n.push(a),n.indexOf(a)):a};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function Tl(e,t,n){return e.options.clip?e[n]:t[n]}function PM(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:Tl(n,t,"left"),right:Tl(n,t,"right"),top:Tl(r,t,"top"),bottom:Tl(r,t,"bottom")}:t}function RM(e,t){const n=t._clip;if(n.disabled)return!1;const r=PM(t,e.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class OM{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,i){const a=n.listeners[i],c=n.duration;a.forEach(u=>u({chart:t,initial:n.initial,numSteps:c,currentStep:Math.min(r-n.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=Hy.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const a=r.items;let c=a.length-1,u=!1,g;for(;c>=0;--c)g=a[c],g._active?(g._total>r.duration&&(r.duration=g._total),g.tick(t),u=!0):(a[c]=a[a.length-1],a.pop());u&&(i.draw(),this._notify(i,r,t,"progress")),a.length||(r.running=!1,this._notify(i,r,t,"complete"),r.initial=!1),n+=a.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var vs=new OM;const Yg="transparent",NM={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=$g(e||Yg),i=r.valid&&$g(t||Yg);return i&&i.valid?i.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class LM{constructor(t,n,r,i){const a=n[r];i=Sl([t.to,i,a,t.from]);const c=Sl([t.from,a,i]);this._active=!0,this._fn=t.fn||NM[t.type||typeof c],this._easing=Ba[t.easing]||Ba.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=c,this._to=i,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],a=r-this._start,c=this._duration-a;this._start=r,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=Sl([t.to,n,i,t.from]),this._from=Sl([t.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,i=this._prop,a=this._from,c=this._loop,u=this._to;let g;if(this._active=a!==u&&(c||n<r),!this._active){this._target[i]=u,this._notify(!0);return}if(n<0){this._target[i]=a;return}g=n/r%2,g=c&&g>1?2-g:g,g=this._easing(Math.min(1,Math.max(0,g))),this._target[i]=this._fn(a,u,g)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class tb{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Mt(t))return;const n=Object.keys(xn.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const a=t[i];if(!Mt(a))return;const c={};for(const u of n)c[u]=a[u];(vn(a.properties)&&a.properties||[i]).forEach(u=>{(u===i||!r.has(u))&&r.set(u,c)})})}_animateOptions(t,n){const r=n.options,i=jM(t,r);if(!i)return[];const a=this._createAnimations(i,r);return r.$shared&&$M(t.options.$animations,r).then(()=>{t.options=r},()=>{}),a}_createAnimations(t,n){const r=this._properties,i=[],a=t.$animations||(t.$animations={}),c=Object.keys(n),u=Date.now();let g;for(g=c.length-1;g>=0;--g){const f=c[g];if(f.charAt(0)==="$")continue;if(f==="options"){i.push(...this._animateOptions(t,n));continue}const m=n[f];let y=a[f];const w=r.get(f);if(y)if(w&&y.active()){y.update(w,m,u);continue}else y.cancel();if(!w||!w.duration){t[f]=m;continue}a[f]=y=new LM(w,t,f,m),i.push(y)}return i}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return vs.add(this._chart,r),!0}}function $M(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const a=e[r[i]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}function jM(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Xg(e,t){const n=e&&e.options||{},r=n.reverse,i=n.min===void 0?t:0,a=n.max===void 0?t:0;return{start:r?a:i,end:r?i:a}}function UM(e,t,n){if(n===!1)return!1;const r=Xg(e,n),i=Xg(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function HM(e){let t,n,r,i;return Mt(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:e===!1}}function nb(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,a;for(i=0,a=r.length;i<a;++i)n.push(r[i].index);return n}function Zg(e,t,n,r={}){const i=e.keys,a=r.mode==="single";let c,u,g,f;if(t===null)return;let m=!1;for(c=0,u=i.length;c<u;++c){if(g=+i[c],g===n){if(m=!0,r.all)continue;break}f=e.values[g],Or(f)&&(a||t===0||fs(t)===fs(f))&&(t+=f)}return!m&&!r.all?0:t}function zM(e,t){const{iScale:n,vScale:r}=t,i=n.axis==="x"?"x":"y",a=r.axis==="x"?"x":"y",c=Object.keys(e),u=new Array(c.length);let g,f,m;for(g=0,f=c.length;g<f;++g)m=c[g],u[g]={[i]:m,[a]:e[m]};return u}function Zd(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function VM(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function qM(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function WM(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function Jg(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const a=e[i.index];if(n&&a>0||!n&&a<0)return i.index}return null}function ep(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:a,vScale:c,index:u}=r,g=a.axis,f=c.axis,m=VM(a,c,r),y=t.length;let w;for(let E=0;E<y;++E){const C=t[E],{[g]:D,[f]:_}=C,M=C._stacks||(C._stacks={});w=M[f]=WM(i,m,D),w[u]=_,w._top=Jg(w,c,!0,r.type),w._bottom=Jg(w,c,!1,r.type);const $=w._visualValues||(w._visualValues={});$[u]=_}}function Jd(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function GM(e,t){return ei(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function QM(e,t,n){return ei(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function oa(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const i of t){const a=i._stacks;if(!a||a[r]===void 0||a[r][n]===void 0)return;delete a[r][n],a[r]._visualValues!==void 0&&a[r]._visualValues[n]!==void 0&&delete a[r]._visualValues[n]}}}const eu=e=>e==="reset"||e==="none",tp=(e,t)=>t?e:Object.assign({},e),KM=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:nb(n,!0),values:null};class G0{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Zd(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&oa(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(y,w,E,C)=>y==="x"?w:y==="r"?C:E,a=n.xAxisID=Ct(r.xAxisID,Jd(t,"x")),c=n.yAxisID=Ct(r.yAxisID,Jd(t,"y")),u=n.rAxisID=Ct(r.rAxisID,Jd(t,"r")),g=n.indexAxis,f=n.iAxisID=i(g,a,c,u),m=n.vAxisID=i(g,c,a,u);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(c),n.rScale=this.getScaleForId(u),n.iScale=this.getScaleForId(f),n.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Og(this._data,this),t._stacked&&oa(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(Mt(n)){const i=this._cachedMeta;this._data=zM(n,i)}else if(r!==n){if(r){Og(r,this);const i=this._cachedMeta;oa(i),i._parsed=[]}n&&Object.isExtensible(n)&&kI(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const a=n._stacked;n._stacked=Zd(n.vScale,n),n.stack!==r.stack&&(i=!0,oa(n),n.stack=r.stack),this._resyncElements(t),(i||a!==n._stacked)&&(ep(this,n._parsed),n._stacked=Zd(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:i}=this,{iScale:a,_stacked:c}=r,u=a.axis;let g=t===0&&n===i.length?!0:r._sorted,f=t>0&&r._parsed[t-1],m,y,w;if(this._parsing===!1)r._parsed=i,r._sorted=!0,w=i;else{vn(i[t])?w=this.parseArrayData(r,i,t,n):Mt(i[t])?w=this.parseObjectData(r,i,t,n):w=this.parsePrimitiveData(r,i,t,n);const E=()=>y[u]===null||f&&y[u]<f[u];for(m=0;m<n;++m)r._parsed[m+t]=y=w[m],g&&(E()&&(g=!1),f=y);r._sorted=g}c&&ep(this,w)}parsePrimitiveData(t,n,r,i){const{iScale:a,vScale:c}=t,u=a.axis,g=c.axis,f=a.getLabels(),m=a===c,y=new Array(i);let w,E,C;for(w=0,E=i;w<E;++w)C=w+r,y[w]={[u]:m||a.parse(f[C],C),[g]:c.parse(n[C],C)};return y}parseArrayData(t,n,r,i){const{xScale:a,yScale:c}=t,u=new Array(i);let g,f,m,y;for(g=0,f=i;g<f;++g)m=g+r,y=n[m],u[g]={x:a.parse(y[0],m),y:c.parse(y[1],m)};return u}parseObjectData(t,n,r,i){const{xScale:a,yScale:c}=t,{xAxisKey:u="x",yAxisKey:g="y"}=this._parsing,f=new Array(i);let m,y,w,E;for(m=0,y=i;m<y;++m)w=m+r,E=n[w],f[m]={x:a.parse(Qo(E,u),w),y:c.parse(Qo(E,g),w)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const i=this.chart,a=this._cachedMeta,c=n[t.axis],u={keys:nb(i,!0),values:n._stacks[t.axis]._visualValues};return Zg(u,c,a.index,{mode:r})}updateRangeFromParsed(t,n,r,i){const a=r[n.axis];let c=a===null?NaN:a;const u=i&&r._stacks[n.axis];i&&u&&(i.values=u,c=Zg(i,a,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,n){const r=this._cachedMeta,i=r._parsed,a=r._sorted&&t===r.iScale,c=i.length,u=this._getOtherScale(t),g=KM(n,r,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:y}=qM(u);let w,E;function C(){E=i[w];const D=E[u.axis];return!Or(E[t.axis])||m>D||y<D}for(w=0;w<c&&!(!C()&&(this.updateRangeFromParsed(f,t,E,g),a));++w);if(a){for(w=c-1;w>=0;--w)if(!C()){this.updateRangeFromParsed(f,t,E,g);break}}return f}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let i,a,c;for(i=0,a=n.length;i<a;++i)c=n[i][t.axis],Or(c)&&r.push(c);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,i=n.vScale,a=this.getParsed(t);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:i?""+i.getLabelForValue(a[i.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=HM(Ct(this.options.clip,UM(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],a=n.chartArea,c=[],u=this._drawStart||0,g=this._drawCount||i.length-u,f=this.options.drawActiveElementsOnTop;let m;for(r.dataset&&r.dataset.draw(t,a,u,g),m=u;m<u+g;++m){const y=i[m];y.hidden||(y.active&&f?c.push(y):y.draw(t,a))}for(m=0;m<c.length;++m)c[m].draw(t,a)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const i=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];a=c.$context||(c.$context=QM(this.getContext(),t,c)),a.parsed=this.getParsed(t),a.raw=i.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=GM(this.chart.getContext(),this.index)),a.dataset=i,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=r,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const i=n==="active",a=this._cachedDataOpts,c=t+"-"+n,u=a[c],g=this.enableOptionSharing&&ja(r);if(u)return tp(u,g);const f=this.chart.config,m=f.datasetElementScopeKeys(this._type,t),y=i?[`${t}Hover`,"hover",t,""]:[t,""],w=f.getOptionScopes(this.getDataset(),m),E=Object.keys(xn.elements[t]),C=()=>this.getContext(r,i,n),D=f.resolveNamedOptions(w,E,C,y);return D.$shared&&(D.$shared=g,a[c]=Object.freeze(tp(D,g))),D}_resolveAnimations(t,n,r){const i=this.chart,a=this._cachedDataOpts,c=`animation-${n}`,u=a[c];if(u)return u;let g;if(i.options.animation!==!1){const m=this.chart.config,y=m.datasetAnimationScopeKeys(this._type,n),w=m.getOptionScopes(this.getDataset(),y);g=m.createResolver(w,this.getContext(t,r,n))}const f=new tb(i,g&&g.animations);return g&&g._cacheable&&(a[c]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||eu(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),i=this._sharedOptions,a=this.getSharedOptions(r),c=this.includeOptions(n,a)||a!==i;return this.updateSharedOptions(a,n,r),{sharedOptions:a,includeOptions:c}}updateElement(t,n,r,i){eu(i)?Object.assign(t,r):this._resolveAnimations(n,i).update(t,r)}updateSharedOptions(t,n,r){t&&!eu(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,i){t.active=i;const a=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(t,{options:!i&&this.getSharedOptions(a)||a})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[u,g,f]of this._syncList)this[u](g,f);this._syncList=[];const i=r.length,a=n.length,c=Math.min(a,i);c&&this.parse(0,c),a>i?this._insertElements(i,a-i,t):a<i&&this._removeElements(a,i-a)}_insertElements(t,n,r=!0){const i=this._cachedMeta,a=i.data,c=t+n;let u;const g=f=>{for(f.length+=n,u=f.length-1;u>=c;u--)f[u]=f[u-n]};for(g(a),u=t;u<c;++u)a[u]=new this.dataElementType;this._parsing&&g(i._parsed),this.parse(t,n),r&&this.updateElements(a,t,n,"reset")}updateElements(t,n,r,i){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(t,n);r._stacked&&oa(r,i)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,i]=t;this[n](r,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function YM(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let i=0,a=n.length;i<a;i++)r=r.concat(n[i].controller.getAllParsedValues(e));e._cache.$bar=Uy(r.sort((i,a)=>i-a))}return e._cache.$bar}function XM(e){const t=e.iScale,n=YM(t,e.type);let r=t._length,i,a,c,u;const g=()=>{c===32767||c===-32768||(ja(u)&&(r=Math.min(r,Math.abs(c-u)||r)),u=c)};for(i=0,a=n.length;i<a;++i)c=t.getPixelForValue(n[i]),g();for(u=void 0,i=0,a=t.ticks.length;i<a;++i)c=t.getPixelForTick(i),g();return r}function ZM(e,t,n,r){const i=n.barThickness;let a,c;return Lt(i)?(a=t.min*n.categoryPercentage,c=n.barPercentage):(a=i*r,c=1),{chunk:a/r,ratio:c,start:t.pixels[e]-a/2}}function JM(e,t,n,r){const i=t.pixels,a=i[e];let c=e>0?i[e-1]:null,u=e<i.length-1?i[e+1]:null;const g=n.categoryPercentage;c===null&&(c=a-(u===null?t.end-t.start:u-a)),u===null&&(u=a+a-c);const f=a-(a-Math.min(c,u))/2*g;return{chunk:Math.abs(u-c)/2*g/r,ratio:n.barPercentage,start:f}}function eP(e,t,n,r){const i=n.parse(e[0],r),a=n.parse(e[1],r),c=Math.min(i,a),u=Math.max(i,a);let g=c,f=u;Math.abs(c)>Math.abs(u)&&(g=u,f=c),t[n.axis]=f,t._custom={barStart:g,barEnd:f,start:i,end:a,min:c,max:u}}function rb(e,t,n,r){return vn(e)?eP(e,t,n,r):t[n.axis]=n.parse(e,r),t}function np(e,t,n,r){const i=e.iScale,a=e.vScale,c=i.getLabels(),u=i===a,g=[];let f,m,y,w;for(f=n,m=n+r;f<m;++f)w=t[f],y={},y[i.axis]=u||i.parse(c[f],f),g.push(rb(w,y,a,f));return g}function tu(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function tP(e,t,n){return e!==0?fs(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function nP(e){let t,n,r,i,a;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",a="start"):(i="start",a="end"),{start:n,end:r,reverse:t,top:i,bottom:a}}function rP(e,t,n,r){let i=t.borderSkipped;const a={};if(!i){e.borderSkipped=a;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:u,reverse:g,top:f,bottom:m}=nP(e);i==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=f:(n._bottom||0)===r?i=m:(a[rp(m,c,u,g)]=!0,i=f)),a[rp(i,c,u,g)]=!0,e.borderSkipped=a}function rp(e,t,n,r){return r?(e=sP(e,t,n),e=sp(e,n,t)):e=sp(e,t,n),e}function sP(e,t,n){return e===t?n:e===n?t:e}function sp(e,t,n){return e==="start"?t:e==="end"?n:e}function oP(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class iP extends G0{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,n,r,i){return np(t,n,r,i)}parseArrayData(t,n,r,i){return np(t,n,r,i)}parseObjectData(t,n,r,i){const{iScale:a,vScale:c}=t,{xAxisKey:u="x",yAxisKey:g="y"}=this._parsing,f=a.axis==="x"?u:g,m=c.axis==="x"?u:g,y=[];let w,E,C,D;for(w=r,E=r+i;w<E;++w)D=n[w],C={},C[a.axis]=a.parse(Qo(D,f),w),y.push(rb(Qo(D,m),C,c,w));return y}updateRangeFromParsed(t,n,r,i){super.updateRangeFromParsed(t,n,r,i);const a=r._custom;a&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:r,vScale:i}=n,a=this.getParsed(t),c=a._custom,u=tu(c)?"["+c.start+", "+c.end+"]":""+i.getLabelForValue(a[i.axis]);return{label:""+r.getLabelForValue(a[r.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,r,i){const a=i==="reset",{index:c,_cachedMeta:{vScale:u}}=this,g=u.getBasePixel(),f=u.isHorizontal(),m=this._getRuler(),{sharedOptions:y,includeOptions:w}=this._getSharedOptions(n,i);for(let E=n;E<n+r;E++){const C=this.getParsed(E),D=a||Lt(C[u.axis])?{base:g,head:g}:this._calculateBarValuePixels(E),_=this._calculateBarIndexPixels(E,m),M=(C._stacks||{})[u.axis],$={horizontal:f,base:D.base,enableBorderRadius:!M||tu(C._custom)||c===M._top||c===M._bottom,x:f?D.head:_.center,y:f?_.center:D.head,height:f?_.size:Math.abs(D.size),width:f?Math.abs(D.size):_.size};w&&($.options=y||this.resolveDataElementOptions(E,t[E].active?"active":i));const I=$.options||t[E].options;rP($,I,M,c),oP($,I,m.ratio),this.updateElement(t[E],E,$,i)}}_getStacks(t,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),a=r.options.stacked,c=[],u=this._cachedMeta.controller.getParsed(n),g=u&&u[r.axis],f=m=>{const y=m._parsed.find(E=>E[r.axis]===g),w=y&&y[m.vScale.axis];if(Lt(w)||isNaN(w))return!0};for(const m of i)if(!(n!==void 0&&f(m))&&((a===!1||c.indexOf(m.stack)===-1||a===void 0&&m.stack===void 0)&&c.push(m.stack),m.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(r=>t[r].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)t[Ct(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,r){const i=this._getStacks(t,r),a=n!==void 0?i.indexOf(n):-1;return a===-1?i.length-1:a}_getRuler(){const t=this.options,n=this._cachedMeta,r=n.iScale,i=[];let a,c;for(a=0,c=n.data.length;a<c;++a)i.push(r.getPixelForValue(this.getParsed(a)[r.axis],a));const u=t.barThickness;return{min:u||XM(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:a,minBarLength:c}}=this,u=a||0,g=this.getParsed(t),f=g._custom,m=tu(f);let y=g[n.axis],w=0,E=r?this.applyStack(n,g,r):y,C,D;E!==y&&(w=E-y,E=y),m&&(y=f.barStart,E=f.barEnd-f.barStart,y!==0&&fs(y)!==fs(f.barEnd)&&(w=0),w+=y);const _=!Lt(a)&&!m?a:w;let M=n.getPixelForValue(_);if(this.chart.getDataVisibility(t)?C=n.getPixelForValue(w+E):C=M,D=C-M,Math.abs(D)<c){D=tP(D,n,u)*c,y===u&&(M-=D/2);const $=n.getPixelForDecimal(0),I=n.getPixelForDecimal(1),S=Math.min($,I),T=Math.max($,I);M=Math.max(Math.min(M,T),S),C=M+D,r&&!m&&(g._stacks[n.axis]._visualValues[i]=n.getValueForPixel(C)-n.getValueForPixel(M))}if(M===n.getPixelForValue(u)){const $=fs(D)*n.getLineWidthForValue(u)/2;M+=$,D-=$}return{size:D,base:M,head:C,center:C+D/2}}_calculateBarIndexPixels(t,n){const r=n.scale,i=this.options,a=i.skipNull,c=Ct(i.maxBarThickness,1/0);let u,g;const f=this._getAxisCount();if(n.grouped){const m=a?this._getStackCount(t):n.stackCount,y=i.barThickness==="flex"?JM(t,n,i,m*f):ZM(t,n,i,m*f),w=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,E=this._getAxis().indexOf(Ct(w,this.getFirstScaleIdForIndexAxis())),C=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0)+E;u=y.start+y.chunk*C+y.chunk/2,g=Math.min(c,y.chunk*y.ratio)}else u=r.getPixelForValue(this.getParsed(t)[r.axis],t),g=Math.min(c,n.min*n.ratio);return{base:u-g/2,head:u+g/2,center:u,size:g}}draw(){const t=this._cachedMeta,n=t.vScale,r=t.data,i=r.length;let a=0;for(;a<i;++a)this.getParsed(a)[n.axis]!==null&&!r[a].hidden&&r[a].draw(this._ctx)}}function aP(e,t,n){let r=1,i=1,a=0,c=0;if(t<cn){const u=e,g=u+t,f=Math.cos(u),m=Math.sin(u),y=Math.cos(g),w=Math.sin(g),E=(I,S,T)=>Ha(I,u,g,!0)?1:Math.max(S,S*n,T,T*n),C=(I,S,T)=>Ha(I,u,g,!0)?-1:Math.min(S,S*n,T,T*n),D=E(0,f,y),_=E(En,m,w),M=C(Ht,f,y),$=C(Ht+En,m,w);r=(D-M)/2,i=(_-$)/2,a=-(D+M)/2,c=-(_+$)/2}return{ratioX:r,ratioY:i,offsetX:a,offsetY:c}}class sb extends G0{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data,{labels:{pointStyle:r,textAlign:i,color:a,useBorderRadius:c,borderRadius:u}}=t.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((g,f)=>{const y=t.getDatasetMeta(0).controller.getStyle(f);return{text:g,fillStyle:y.backgroundColor,fontColor:a,hidden:!t.getDataVisibility(f),lineDash:y.borderDash,lineDashOffset:y.borderDashOffset,lineJoin:y.borderJoinStyle,lineWidth:y.borderWidth,strokeStyle:y.borderColor,textAlign:i,pointStyle:r,borderRadius:c&&(u||y.borderRadius),index:f}}):[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}};constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let a=g=>+r[g];if(Mt(r[t])){const{key:g="value"}=this._parsing;a=f=>+Qo(r[f],g)}let c,u;for(c=t,u=t+n;c<u;++c)i._parsed[c]=a(c)}}_getRotation(){return Ss(this.options.rotation-90)}_getCircumference(){return Ss(this.options.circumference)}_getRotationExtents(){let t=cn,n=-cn;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,a=i._getRotation(),c=i._getCircumference();t=Math.min(t,a),n=Math.max(n,a+c)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,a=i.data,c=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,u=Math.max((Math.min(r.width,r.height)-c)/2,0),g=Math.min(uI(this.options.cutout,u),1),f=this._getRingWeight(this.index),{circumference:m,rotation:y}=this._getRotationExtents(),{ratioX:w,ratioY:E,offsetX:C,offsetY:D}=aP(y,m,g),_=(r.width-c)/w,M=(r.height-c)/E,$=Math.max(Math.min(_,M)/2,0),I=Oy(this.options.radius,$),S=Math.max(I*g,0),T=(I-S)/this._getVisibleDatasetWeightTotal();this.offsetX=C*I,this.offsetY=D*I,i.total=this.calculateTotal(),this.outerRadius=I-T*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-T*f,0),this.updateElements(a,0,a.length,t)}_circumference(t,n){const r=this.options,i=this._cachedMeta,a=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*a/cn)}updateElements(t,n,r,i){const a=i==="reset",c=this.chart,u=c.chartArea,f=c.options.animation,m=(u.left+u.right)/2,y=(u.top+u.bottom)/2,w=a&&f.animateScale,E=w?0:this.innerRadius,C=w?0:this.outerRadius,{sharedOptions:D,includeOptions:_}=this._getSharedOptions(n,i);let M=this._getRotation(),$;for($=0;$<n;++$)M+=this._circumference($,a);for($=n;$<n+r;++$){const I=this._circumference($,a),S=t[$],T={x:m+this.offsetX,y:y+this.offsetY,startAngle:M,endAngle:M+I,circumference:I,outerRadius:C,innerRadius:E};_&&(T.options=D||this.resolveDataElementOptions($,S.active?"active":i)),M+=I,this.updateElement(S,$,T,i)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let r=0,i;for(i=0;i<n.length;i++){const a=t._parsed[i];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(a))}return r}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?cn*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],a=Ox(n._parsed[t],r.options.locale);return{label:i[t]||"",value:a}}getMaxBorderWidth(t){let n=0;const r=this.chart;let i,a,c,u,g;if(!t){for(i=0,a=r.data.datasets.length;i<a;++i)if(r.isDatasetVisible(i)){c=r.getDatasetMeta(i),t=c.data,u=c.controller;break}}if(!t)return 0;for(i=0,a=t.length;i<a;++i)g=u.resolveDataElementOptions(i),g.borderAlign!=="inner"&&(n=Math.max(n,g.borderWidth||0,g.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let r=0,i=t.length;r<i;++r){const a=this.resolveDataElementOptions(r);n=Math.max(n,a.offset||0,a.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(t){return Math.max(Ct(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class lP extends G0{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:a}=n,c=this.chart._animationsDisabled;let{start:u,count:g}=TI(n,i,c);this._drawStart=u,this._drawCount=g,II(n)&&(u=0,g=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=i;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(r,void 0,{animated:!c,options:f},t),this.updateElements(i,u,g,t)}updateElements(t,n,r,i){const a=i==="reset",{iScale:c,vScale:u,_stacked:g,_dataset:f}=this._cachedMeta,{sharedOptions:m,includeOptions:y}=this._getSharedOptions(n,i),w=c.axis,E=u.axis,{spanGaps:C,segment:D}=this.options,_=Ua(C)?C:Number.POSITIVE_INFINITY,M=this.chart._animationsDisabled||a||i==="none",$=n+r,I=t.length;let S=n>0&&this.getParsed(n-1);for(let T=0;T<I;++T){const j=t[T],L=M?j:{};if(T<n||T>=$){L.skip=!0;continue}const z=this.getParsed(T),F=Lt(z[E]),Q=L[w]=c.getPixelForValue(z[w],T),le=L[E]=a||F?u.getBasePixel():u.getPixelForValue(g?this.applyStack(u,z,g):z[E],T);L.skip=isNaN(Q)||isNaN(le)||F,L.stop=T>0&&Math.abs(z[w]-S[w])>_,D&&(L.parsed=z,L.raw=f.data[T]),y&&(L.options=m||this.resolveDataElementOptions(T,j.active?"active":i)),M||this.updateElement(j,T,L,i),S=z}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,r=n.options&&n.options.borderWidth||0,i=t.data||[];if(!i.length)return r;const a=i[0].size(this.resolveDataElementOptions(0)),c=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,a,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class cP extends sb{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function Do(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class qx{static override(t){Object.assign(qx.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Do()}parse(){return Do()}format(){return Do()}add(){return Do()}diff(){return Do()}startOf(){return Do()}endOf(){return Do()}}var dP={_date:qx};function uP(e,t,n,r){const{controller:i,data:a,_sorted:c}=e,u=i._cachedMeta.iScale,g=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&c&&a.length){const f=u._reversePixels?_I:Ro;if(r){if(i._sharedOptions){const m=a[0],y=typeof m.getRange=="function"&&m.getRange(t);if(y){const w=f(a,t,n-y),E=f(a,t,n+y);return{lo:w.lo,hi:E.hi}}}}else{const m=f(a,t,n);if(g){const{vScale:y}=i._cachedMeta,{_parsed:w}=e,E=w.slice(0,m.lo+1).reverse().findIndex(D=>!Lt(D[y.axis]));m.lo-=Math.max(0,E);const C=w.slice(m.hi).findIndex(D=>!Lt(D[y.axis]));m.hi+=Math.max(0,C)}return m}}return{lo:0,hi:a.length-1}}function Q0(e,t,n,r,i){const a=e.getSortedVisibleDatasetMetas(),c=n[t];for(let u=0,g=a.length;u<g;++u){const{index:f,data:m}=a[u],{lo:y,hi:w}=uP(a[u],t,c,i);for(let E=y;E<=w;++E){const C=m[E];C.skip||r(C,f,E)}}}function xP(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,i){const a=t?Math.abs(r.x-i.x):0,c=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(c,2))}}function nu(e,t,n,r,i){const a=[];return!i&&!e.isPointInArea(t)||Q0(e,n,t,function(u,g,f){!i&&!za(u,e.chartArea,0)||u.inRange(t.x,t.y,r)&&a.push({element:u,datasetIndex:g,index:f})},!0),a}function fP(e,t,n,r){let i=[];function a(c,u,g){const{startAngle:f,endAngle:m}=c.getProps(["startAngle","endAngle"],r),{angle:y}=$y(c,{x:t.x,y:t.y});Ha(y,f,m)&&i.push({element:c,datasetIndex:u,index:g})}return Q0(e,n,t,a),i}function hP(e,t,n,r,i,a){let c=[];const u=xP(n);let g=Number.POSITIVE_INFINITY;function f(m,y,w){const E=m.inRange(t.x,t.y,i);if(r&&!E)return;const C=m.getCenterPoint(i);if(!(!!a||e.isPointInArea(C))&&!E)return;const _=u(t,C);_<g?(c=[{element:m,datasetIndex:y,index:w}],g=_):_===g&&c.push({element:m,datasetIndex:y,index:w})}return Q0(e,n,t,f),c}function ru(e,t,n,r,i,a){return!a&&!e.isPointInArea(t)?[]:n==="r"&&!r?fP(e,t,n,i):hP(e,t,n,r,i,a)}function op(e,t,n,r,i){const a=[],c=n==="x"?"inXRange":"inYRange";let u=!1;return Q0(e,n,t,(g,f,m)=>{g[c]&&g[c](t[n],i)&&(a.push({element:g,datasetIndex:f,index:m}),u=u||g.inRange(t.x,t.y,i))}),r&&!u?[]:a}var gP={modes:{index(e,t,n,r){const i=So(t,e),a=n.axis||"x",c=n.includeInvisible||!1,u=n.intersect?nu(e,i,a,r,c):ru(e,i,a,!1,r,c),g=[];return u.length?(e.getSortedVisibleDatasetMetas().forEach(f=>{const m=u[0].index,y=f.data[m];y&&!y.skip&&g.push({element:y,datasetIndex:f.index,index:m})}),g):[]},dataset(e,t,n,r){const i=So(t,e),a=n.axis||"xy",c=n.includeInvisible||!1;let u=n.intersect?nu(e,i,a,r,c):ru(e,i,a,!1,r,c);if(u.length>0){const g=u[0].datasetIndex,f=e.getDatasetMeta(g).data;u=[];for(let m=0;m<f.length;++m)u.push({element:f[m],datasetIndex:g,index:m})}return u},point(e,t,n,r){const i=So(t,e),a=n.axis||"xy",c=n.includeInvisible||!1;return nu(e,i,a,r,c)},nearest(e,t,n,r){const i=So(t,e),a=n.axis||"xy",c=n.includeInvisible||!1;return ru(e,i,a,n.intersect,r,c)},x(e,t,n,r){const i=So(t,e);return op(e,i,"x",n.intersect,r)},y(e,t,n,r){const i=So(t,e);return op(e,i,"y",n.intersect,r)}}};const ob=["left","top","right","bottom"];function ia(e,t){return e.filter(n=>n.pos===t)}function ip(e,t){return e.filter(n=>ob.indexOf(n.pos)===-1&&n.box.axis===t)}function aa(e,t){return e.sort((n,r)=>{const i=t?r:n,a=t?n:r;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function pP(e){const t=[];let n,r,i,a,c,u;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],{position:a,options:{stack:c,stackWeight:u=1}}=i,t.push({index:n,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:c&&a+c,stackWeight:u});return t}function mP(e){const t={};for(const n of e){const{stack:r,pos:i,stackWeight:a}=n;if(!r||!ob.includes(i))continue;const c=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=a}return t}function yP(e,t){const n=mP(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let a,c,u;for(a=0,c=e.length;a<c;++a){u=e[a];const{fullSize:g}=u.box,f=n[u.stack],m=f&&u.stackWeight/f.weight;u.horizontal?(u.width=m?m*r:g&&t.availableWidth,u.height=i):(u.width=r,u.height=m?m*i:g&&t.availableHeight)}return n}function bP(e){const t=pP(e),n=aa(t.filter(f=>f.box.fullSize),!0),r=aa(ia(t,"left"),!0),i=aa(ia(t,"right")),a=aa(ia(t,"top"),!0),c=aa(ia(t,"bottom")),u=ip(t,"x"),g=ip(t,"y");return{fullSize:n,leftAndTop:r.concat(a),rightAndBottom:i.concat(g).concat(c).concat(u),chartArea:ia(t,"chartArea"),vertical:r.concat(i).concat(g),horizontal:a.concat(c).concat(u)}}function ap(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function ib(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function vP(e,t,n,r){const{pos:i,box:a}=n,c=e.maxPadding;if(!Mt(i)){n.size&&(e[i]-=n.size);const y=r[n.stack]||{size:0,count:1};y.size=Math.max(y.size,n.horizontal?a.height:a.width),n.size=y.size/y.count,e[i]+=n.size}a.getPadding&&ib(c,a.getPadding());const u=Math.max(0,t.outerWidth-ap(c,e,"left","right")),g=Math.max(0,t.outerHeight-ap(c,e,"top","bottom")),f=u!==e.w,m=g!==e.h;return e.w=u,e.h=g,n.horizontal?{same:f,other:m}:{same:m,other:f}}function EP(e){const t=e.maxPadding;function n(r){const i=Math.max(t[r]-e[r],0);return e[r]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function wP(e,t){const n=t.maxPadding;function r(i){const a={left:0,top:0,right:0,bottom:0};return i.forEach(c=>{a[c]=Math.max(t[c],n[c])}),a}return r(e?["left","right"]:["top","bottom"])}function ha(e,t,n,r){const i=[];let a,c,u,g,f,m;for(a=0,c=e.length,f=0;a<c;++a){u=e[a],g=u.box,g.update(u.width||t.w,u.height||t.h,wP(u.horizontal,t));const{same:y,other:w}=vP(t,n,u,r);f|=y&&i.length,m=m||w,g.fullSize||i.push(u)}return f&&ha(i,t,n,r)||m}function Il(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function lp(e,t,n,r){const i=n.padding;let{x:a,y:c}=t;for(const u of e){const g=u.box,f=r[u.stack]||{placed:0,weight:1},m=u.stackWeight/f.weight||1;if(u.horizontal){const y=t.w*m,w=f.size||g.height;ja(f.start)&&(c=f.start),g.fullSize?Il(g,i.left,c,n.outerWidth-i.right-i.left,w):Il(g,t.left+f.placed,c,y,w),f.start=c,f.placed+=y,c=g.bottom}else{const y=t.h*m,w=f.size||g.width;ja(f.start)&&(a=f.start),g.fullSize?Il(g,a,i.top,w,n.outerHeight-i.bottom-i.top):Il(g,a,t.top+f.placed,w,y),f.start=a,f.placed+=y,a=g.right}}t.x=a,t.y=c}var Ir={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=Nr(e.options.layout.padding),a=Math.max(t-i.width,0),c=Math.max(n-i.height,0),u=bP(e.boxes),g=u.vertical,f=u.horizontal;Ut(e.boxes,D=>{typeof D.beforeLayout=="function"&&D.beforeLayout()});const m=g.reduce((D,_)=>_.box.options&&_.box.options.display===!1?D:D+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:a,availableHeight:c,vBoxMaxWidth:a/2/m,hBoxMaxHeight:c/2}),w=Object.assign({},i);ib(w,Nr(r));const E=Object.assign({maxPadding:w,w:a,h:c,x:i.left,y:i.top},i),C=yP(g.concat(f),y);ha(u.fullSize,E,y,C),ha(g,E,y,C),ha(f,E,y,C)&&ha(g,E,y,C),EP(E),lp(u.leftAndTop,E,y,C),E.x+=E.w,E.y+=E.h,lp(u.rightAndBottom,E,y,C),e.chartArea={left:E.left,top:E.top,right:E.left+E.w,bottom:E.top+E.h,height:E.h,width:E.w},Ut(u.chartArea,D=>{const _=D.box;Object.assign(_,e.chartArea),_.update(E.w,E.h,{left:0,top:0,right:0,bottom:0})})}};class ab{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,i){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(t){return!0}updateConfig(t){}}class CP extends ab{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Kl="$chartjs",AP={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},cp=e=>e===null||e==="";function BP(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[Kl]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",cp(i)){const a=Wg(e,"width");a!==void 0&&(e.width=a)}if(cp(r))if(e.style.height==="")e.height=e.width/(t||2);else{const a=Wg(e,"height");a!==void 0&&(e.height=a)}return e}const lb=EM?{passive:!0}:!1;function _P(e,t,n){e&&e.addEventListener(t,n,lb)}function DP(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,lb)}function kP(e,t){const n=AP[e.type]||e.type,{x:r,y:i}=So(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:i!==void 0?i:null}}function A0(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function SP(e,t,n){const r=e.canvas,i=new MutationObserver(a=>{let c=!1;for(const u of a)c=c||A0(u.addedNodes,r),c=c&&!A0(u.removedNodes,r);c&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function FP(e,t,n){const r=e.canvas,i=new MutationObserver(a=>{let c=!1;for(const u of a)c=c||A0(u.removedNodes,r),c=c&&!A0(u.addedNodes,r);c&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const qa=new Map;let dp=0;function cb(){const e=window.devicePixelRatio;e!==dp&&(dp=e,qa.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function TP(e,t){qa.size||window.addEventListener("resize",cb),qa.set(e,t)}function IP(e){qa.delete(e),qa.size||window.removeEventListener("resize",cb)}function MP(e,t,n){const r=e.canvas,i=r&&Vx(r);if(!i)return;const a=zy((u,g)=>{const f=i.clientWidth;n(u,g),f<i.clientWidth&&n()},window),c=new ResizeObserver(u=>{const g=u[0],f=g.contentRect.width,m=g.contentRect.height;f===0&&m===0||a(f,m)});return c.observe(i),TP(e,a),c}function su(e,t,n){n&&n.disconnect(),t==="resize"&&IP(e)}function PP(e,t,n){const r=e.canvas,i=zy(a=>{e.ctx!==null&&n(kP(a,e))},e);return _P(r,t,i),i}class RP extends ab{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(BP(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[Kl])return!1;const r=n[Kl].initial;["height","width"].forEach(a=>{const c=r[a];Lt(c)?n.removeAttribute(a):n.setAttribute(a,c)});const i=r.style||{};return Object.keys(i).forEach(a=>{n.style[a]=i[a]}),n.width=n.width,delete n[Kl],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const i=t.$proxies||(t.$proxies={}),c={attach:SP,detach:FP,resize:MP}[n]||PP;i[n]=c(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),i=r[n];if(!i)return;({attach:su,detach:su,resize:su}[n]||DP)(t,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,i){return vM(t,n,r,i)}isAttached(t){const n=t&&Vx(t);return!!(n&&n.isConnected)}}function OP(e){return!zx()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?CP:RP}let Ns=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return Ua(this.x)&&Ua(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const i={};return t.forEach(a=>{i[a]=r[a]&&r[a].active()?r[a]._to:this[a]}),i}};function NP(e,t){const n=e.options.ticks,r=LP(e),i=Math.min(n.maxTicksLimit||r,r),a=n.major.enabled?jP(t):[],c=a.length,u=a[0],g=a[c-1],f=[];if(c>i)return UP(t,f,a,c/i),f;const m=$P(a,t,i);if(c>0){let y,w;const E=c>1?Math.round((g-u)/(c-1)):null;for(Ml(t,f,m,Lt(E)?0:u-E,u),y=0,w=c-1;y<w;y++)Ml(t,f,m,a[y],a[y+1]);return Ml(t,f,m,g,Lt(E)?t.length:g+E),f}return Ml(t,f,m),f}function LP(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}function $P(e,t,n){const r=HP(e),i=t.length/n;if(!r)return Math.max(i,1);const a=bI(r);for(let c=0,u=a.length-1;c<u;c++){const g=a[c];if(g>i)return g}return Math.max(i,1)}function jP(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function UP(e,t,n,r){let i=0,a=n[0],c;for(r=Math.ceil(r),c=0;c<e.length;c++)c===a&&(t.push(e[c]),i++,a=n[i*r])}function Ml(e,t,n,r,i){const a=Ct(r,0),c=Math.min(Ct(i,e.length),e.length);let u=0,g,f,m;for(n=Math.ceil(n),i&&(g=i-r,n=g/Math.floor(g/n)),m=a;m<0;)u++,m=Math.round(a+u*n);for(f=Math.max(a,0);f<c;f++)f===m&&(t.push(e[f]),u++,m=Math.round(a+u*n))}function HP(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const zP=e=>e==="left"?"right":e==="right"?"left":e,up=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,xp=(e,t)=>Math.min(t||e,e);function fp(e,t){const n=[],r=e.length/t,i=e.length;let a=0;for(;a<i;a+=r)n.push(e[Math.floor(a)]);return n}function VP(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),a=e._startPixel,c=e._endPixel,u=1e-6;let g=e.getPixelForTick(i),f;if(!(n&&(r===1?f=Math.max(g-a,c-g):t===0?f=(e.getPixelForTick(1)-g)/2:f=(g-e.getPixelForTick(i-1))/2,g+=i<t?f:-f,g<a-u||g>c+u)))return g}function qP(e,t){Ut(e,n=>{const r=n.gc,i=r.length/2;let a;if(i>t){for(a=0;a<i;++a)delete n.data[r[a]];r.splice(0,i)}})}function la(e){return e.drawTicks?e.tickLength:0}function hp(e,t){if(!e.display)return 0;const n=qn(e.font,t),r=Nr(e.padding);return(vn(e.text)?e.text.length:1)*n.lineHeight+r.height}function WP(e,t){return ei(e,{scale:t,type:"scale"})}function GP(e,t,n){return ei(e,{tick:n,index:t,type:"tick"})}function QP(e,t,n){let r=Px(e);return(n&&t!=="right"||!n&&t==="right")&&(r=zP(r)),r}function KP(e,t,n,r){const{top:i,left:a,bottom:c,right:u,chart:g}=e,{chartArea:f,scales:m}=g;let y=0,w,E,C;const D=c-i,_=u-a;if(e.isHorizontal()){if(E=jn(r,a,u),Mt(n)){const M=Object.keys(n)[0],$=n[M];C=m[M].getPixelForValue($)+D-t}else n==="center"?C=(f.bottom+f.top)/2+D-t:C=up(e,n,t);w=u-a}else{if(Mt(n)){const M=Object.keys(n)[0],$=n[M];E=m[M].getPixelForValue($)-_+t}else n==="center"?E=(f.left+f.right)/2-_+t:E=up(e,n,t);C=jn(r,c,i),y=n==="left"?-En:En}return{titleX:E,titleY:C,maxWidth:w,rotation:y}}class zi extends Ns{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return t=os(t,Number.POSITIVE_INFINITY),n=os(n,Number.NEGATIVE_INFINITY),r=os(r,Number.POSITIVE_INFINITY),i=os(i,Number.NEGATIVE_INFINITY),{min:os(t,r),max:os(n,i),minDefined:Or(t),maxDefined:Or(n)}}getMinMax(t){let{min:n,max:r,minDefined:i,maxDefined:a}=this.getUserBounds(),c;if(i&&a)return{min:n,max:r};const u=this.getMatchingVisibleMetas();for(let g=0,f=u.length;g<f;++g)c=u[g].controller.getMinMax(this,t),i||(n=Math.min(n,c.min)),a||(r=Math.max(r,c.max));return n=a&&n>r?r:n,r=i&&n>r?n:r,{min:os(n,os(r,n)),max:os(r,os(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){en(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:i,grace:a,ticks:c}=this.options,u=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=ZI(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const g=u<this.ticks.length;this._convertTicksToLabels(g?fp(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=NP(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),g&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){en(this.options.afterUpdate,[this])}beforeSetDimensions(){en(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){en(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),en(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){en(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,i,a;for(r=0,i=t.length;r<i;r++)a=t[r],a.label=en(n.callback,[a.value,r,t],this)}afterTickToLabelConversion(){en(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){en(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=xp(this.ticks.length,t.ticks.maxTicksLimit),i=n.minRotation||0,a=n.maxRotation;let c=i,u,g,f;if(!this._isVisible()||!n.display||i>=a||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const m=this._getLabelSizes(),y=m.widest.width,w=m.highest.height,E=Vn(this.chart.width-y,0,this.maxWidth);u=t.offset?this.maxWidth/r:E/(r-1),y+6>u&&(u=E/(r-(t.offset?.5:1)),g=this.maxHeight-la(t.grid)-n.padding-hp(t.title,this.chart.options.font),f=Math.sqrt(y*y+w*w),c=CI(Math.min(Math.asin(Vn((m.highest.height+6)/u,-1,1)),Math.asin(Vn(g/f,-1,1))-Math.asin(Vn(w/f,-1,1)))),c=Math.max(i,Math.min(a,c))),this.labelRotation=c}afterCalculateLabelRotation(){en(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){en(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:a}}=this,c=this._isVisible(),u=this.isHorizontal();if(c){const g=hp(i,n.options.font);if(u?(t.width=this.maxWidth,t.height=la(a)+g):(t.height=this.maxHeight,t.width=la(a)+g),r.display&&this.ticks.length){const{first:f,last:m,widest:y,highest:w}=this._getLabelSizes(),E=r.padding*2,C=Ss(this.labelRotation),D=Math.cos(C),_=Math.sin(C);if(u){const M=r.mirror?0:_*y.width+D*w.height;t.height=Math.min(this.maxHeight,t.height+M+E)}else{const M=r.mirror?0:D*y.width+_*w.height;t.width=Math.min(this.maxWidth,t.width+M+E)}this._calculatePadding(f,m,_,D)}}this._handleMargins(),u?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,i){const{ticks:{align:a,padding:c},position:u}=this.options,g=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let w=0,E=0;g?f?(w=i*t.width,E=r*n.height):(w=r*t.height,E=i*n.width):a==="start"?E=n.width:a==="end"?w=t.width:a!=="inner"&&(w=t.width/2,E=n.width/2),this.paddingLeft=Math.max((w-m+c)*this.width/(this.width-m),0),this.paddingRight=Math.max((E-y+c)*this.width/(this.width-y),0)}else{let m=n.height/2,y=t.height/2;a==="start"?(m=0,y=t.height):a==="end"&&(m=n.height,y=0),this.paddingTop=m+c,this.paddingBottom=y+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){en(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)Lt(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=fp(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:i,_longestTextCache:a}=this,c=[],u=[],g=Math.floor(n/xp(n,r));let f=0,m=0,y,w,E,C,D,_,M,$,I,S,T;for(y=0;y<n;y+=g){if(C=t[y].label,D=this._resolveTickFontOptions(y),i.font=_=D.string,M=a[_]=a[_]||{data:{},gc:[]},$=D.lineHeight,I=S=0,!Lt(C)&&!vn(C))I=Ug(i,M.data,M.gc,I,C),S=$;else if(vn(C))for(w=0,E=C.length;w<E;++w)T=C[w],!Lt(T)&&!vn(T)&&(I=Ug(i,M.data,M.gc,I,T),S+=$);c.push(I),u.push(S),f=Math.max(I,f),m=Math.max(S,m)}qP(a,n);const j=c.indexOf(f),L=u.indexOf(m),z=F=>({width:c[F]||0,height:u[F]||0});return{first:z(0),last:z(n-1),widest:z(j),highest:z(L),widths:c,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return BI(this._alignToPixels?_o(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=GP(this.getContext(),t,r))}return this.$context||(this.$context=WP(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Ss(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),a=this._getLabelSizes(),c=t.autoSkipPadding||0,u=a?a.widest.width+c:0,g=a?a.highest.height+c:0;return this.isHorizontal()?g*r>u*i?u/r:g/i:g*i<u*r?g/r:u/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,i=this.options,{grid:a,position:c,border:u}=i,g=a.offset,f=this.isHorizontal(),y=this.ticks.length+(g?1:0),w=la(a),E=[],C=u.setContext(this.getContext()),D=C.display?C.width:0,_=D/2,M=function(ne){return _o(r,ne,D)};let $,I,S,T,j,L,z,F,Q,le,Y,ce;if(c==="top")$=M(this.bottom),L=this.bottom-w,F=$-_,le=M(t.top)+_,ce=t.bottom;else if(c==="bottom")$=M(this.top),le=t.top,ce=M(t.bottom)-_,L=$+_,F=this.top+w;else if(c==="left")$=M(this.right),j=this.right-w,z=$-_,Q=M(t.left)+_,Y=t.right;else if(c==="right")$=M(this.left),Q=t.left,Y=M(t.right)-_,j=$+_,z=this.left+w;else if(n==="x"){if(c==="center")$=M((t.top+t.bottom)/2+.5);else if(Mt(c)){const ne=Object.keys(c)[0],de=c[ne];$=M(this.chart.scales[ne].getPixelForValue(de))}le=t.top,ce=t.bottom,L=$+_,F=L+w}else if(n==="y"){if(c==="center")$=M((t.left+t.right)/2);else if(Mt(c)){const ne=Object.keys(c)[0],de=c[ne];$=M(this.chart.scales[ne].getPixelForValue(de))}j=$-_,z=j-w,Q=t.left,Y=t.right}const me=Ct(i.ticks.maxTicksLimit,y),te=Math.max(1,Math.ceil(y/me));for(I=0;I<y;I+=te){const ne=this.getContext(I),de=a.setContext(ne),be=u.setContext(ne),De=de.lineWidth,Ie=de.color,fe=be.dash||[],Pe=be.dashOffset,Ge=de.tickWidth,Ne=de.tickColor,tt=de.tickBorderDash||[],Re=de.tickBorderDashOffset;S=VP(this,I,g),S!==void 0&&(T=_o(r,S,De),f?j=z=Q=Y=T:L=F=le=ce=T,E.push({tx1:j,ty1:L,tx2:z,ty2:F,x1:Q,y1:le,x2:Y,y2:ce,width:De,color:Ie,borderDash:fe,borderDashOffset:Pe,tickWidth:Ge,tickColor:Ne,tickBorderDash:tt,tickBorderDashOffset:Re}))}return this._ticksLength=y,this._borderValue=$,E}_computeLabelItems(t){const n=this.axis,r=this.options,{position:i,ticks:a}=r,c=this.isHorizontal(),u=this.ticks,{align:g,crossAlign:f,padding:m,mirror:y}=a,w=la(r.grid),E=w+m,C=y?-m:E,D=-Ss(this.labelRotation),_=[];let M,$,I,S,T,j,L,z,F,Q,le,Y,ce="middle";if(i==="top")j=this.bottom-C,L=this._getXAxisLabelAlignment();else if(i==="bottom")j=this.top+C,L=this._getXAxisLabelAlignment();else if(i==="left"){const te=this._getYAxisLabelAlignment(w);L=te.textAlign,T=te.x}else if(i==="right"){const te=this._getYAxisLabelAlignment(w);L=te.textAlign,T=te.x}else if(n==="x"){if(i==="center")j=(t.top+t.bottom)/2+E;else if(Mt(i)){const te=Object.keys(i)[0],ne=i[te];j=this.chart.scales[te].getPixelForValue(ne)+E}L=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")T=(t.left+t.right)/2-E;else if(Mt(i)){const te=Object.keys(i)[0],ne=i[te];T=this.chart.scales[te].getPixelForValue(ne)}L=this._getYAxisLabelAlignment(w).textAlign}n==="y"&&(g==="start"?ce="top":g==="end"&&(ce="bottom"));const me=this._getLabelSizes();for(M=0,$=u.length;M<$;++M){I=u[M],S=I.label;const te=a.setContext(this.getContext(M));z=this.getPixelForTick(M)+a.labelOffset,F=this._resolveTickFontOptions(M),Q=F.lineHeight,le=vn(S)?S.length:1;const ne=le/2,de=te.color,be=te.textStrokeColor,De=te.textStrokeWidth;let Ie=L;c?(T=z,L==="inner"&&(M===$-1?Ie=this.options.reverse?"left":"right":M===0?Ie=this.options.reverse?"right":"left":Ie="center"),i==="top"?f==="near"||D!==0?Y=-le*Q+Q/2:f==="center"?Y=-me.highest.height/2-ne*Q+Q:Y=-me.highest.height+Q/2:f==="near"||D!==0?Y=Q/2:f==="center"?Y=me.highest.height/2-ne*Q:Y=me.highest.height-le*Q,y&&(Y*=-1),D!==0&&!te.showLabelBackdrop&&(T+=Q/2*Math.sin(D))):(j=z,Y=(1-le)*Q/2);let fe;if(te.showLabelBackdrop){const Pe=Nr(te.backdropPadding),Ge=me.heights[M],Ne=me.widths[M];let tt=Y-Pe.top,Re=0-Pe.left;switch(ce){case"middle":tt-=Ge/2;break;case"bottom":tt-=Ge;break}switch(L){case"center":Re-=Ne/2;break;case"right":Re-=Ne;break;case"inner":M===$-1?Re-=Ne:M>0&&(Re-=Ne/2);break}fe={left:Re,top:tt,width:Ne+Pe.width,height:Ge+Pe.height,color:te.backdropColor}}_.push({label:S,font:F,textOffset:Y,options:{rotation:D,color:de,strokeColor:be,strokeWidth:De,textAlign:Ie,textBaseline:ce,translation:[T,j],backdrop:fe}})}return _}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Ss(this.labelRotation))return t==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:i,padding:a}}=this.options,c=this._getLabelSizes(),u=t+a,g=c.widest.width;let f,m;return n==="left"?i?(m=this.right+a,r==="near"?f="left":r==="center"?(f="center",m+=g/2):(f="right",m+=g)):(m=this.right-u,r==="near"?f="right":r==="center"?(f="center",m-=g/2):(f="left",m=this.left)):n==="right"?i?(m=this.left+a,r==="near"?f="right":r==="center"?(f="center",m-=g/2):(f="left",m-=g)):(m=this.left+u,r==="near"?f="left":r==="center"?(f="center",m+=g/2):(f="right",m=this.right)):f="right",{textAlign:f,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:i,width:a,height:c}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,i,a,c),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(a=>a.value===t);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,c;const u=(g,f,m)=>{!m.width||!m.color||(r.save(),r.lineWidth=m.width,r.strokeStyle=m.color,r.setLineDash(m.borderDash||[]),r.lineDashOffset=m.borderDashOffset,r.beginPath(),r.moveTo(g.x,g.y),r.lineTo(f.x,f.y),r.stroke(),r.restore())};if(n.display)for(a=0,c=i.length;a<c;++a){const g=i[a];n.drawOnChartArea&&u({x:g.x1,y:g.y1},{x:g.x2,y:g.y2},g),n.drawTicks&&u({x:g.tx1,y:g.ty1},{x:g.tx2,y:g.ty2},{color:g.tickColor,width:g.tickWidth,borderDash:g.tickBorderDash,borderDashOffset:g.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:i}}=this,a=r.setContext(this.getContext()),c=r.display?a.width:0;if(!c)return;const u=i.setContext(this.getContext(0)).lineWidth,g=this._borderValue;let f,m,y,w;this.isHorizontal()?(f=_o(t,this.left,c)-c/2,m=_o(t,this.right,u)+u/2,y=w=g):(y=_o(t,this.top,c)-c/2,w=_o(t,this.bottom,u)+u/2,f=m=g),n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.beginPath(),n.moveTo(f,y),n.lineTo(m,w),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&Nx(r,i);const a=this.getLabelItems(t);for(const c of a){const u=c.options,g=c.font,f=c.label,m=c.textOffset;Va(r,f,0,m,g,u)}i&&Lx(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const a=qn(r.font),c=Nr(r.padding),u=r.align;let g=a.lineHeight/2;n==="bottom"||n==="center"||Mt(n)?(g+=c.bottom,vn(r.text)&&(g+=a.lineHeight*(r.text.length-1))):g+=c.top;const{titleX:f,titleY:m,maxWidth:y,rotation:w}=KP(this,g,n,u);Va(t,r.text,0,0,a,{color:r.color,maxWidth:y,rotation:w,textAlign:QP(u,n,i),textBaseline:"middle",translation:[f,m]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=Ct(t.grid&&t.grid.z,-1),i=Ct(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==zi.prototype.draw?[{z:n,draw:a=>{this.draw(a)}}]:[{z:r,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let a,c;for(a=0,c=n.length;a<c;++a){const u=n[a];u[r]===this.id&&(!t||u.type===t)&&i.push(u)}return i}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return qn(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Pl{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;ZP(n)&&(r=this.register(n));const i=this.items,a=t.id,c=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in i||(i[a]=t,YP(t,c,r),this.override&&xn.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,i=this.scope;r in n&&delete n[r],i&&r in xn[i]&&(delete xn[i][r],this.override&&delete Ko[r])}}function YP(e,t,n){const r=$a(Object.create(null),[n?xn.get(n):{},xn.get(t),e.defaults]);xn.set(t,r),e.defaultRoutes&&XP(t,e.defaultRoutes),e.descriptors&&xn.describe(t,e.descriptors)}function XP(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),i=r.pop(),a=[e].concat(r).join("."),c=t[n].split("."),u=c.pop(),g=c.join(".");xn.route(a,i,g,u)})}function ZP(e){return"id"in e&&"defaults"in e}class JP{constructor(){this.controllers=new Pl(G0,"datasets",!0),this.elements=new Pl(Ns,"elements"),this.plugins=new Pl(Object,"plugins"),this.scales=new Pl(zi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(i=>{const a=r||this._getRegistryForType(i);r||a.isForType(i)||a===this.plugins&&i.id?this._exec(t,a,i):Ut(i,c=>{const u=r||this._getRegistryForType(c);this._exec(t,u,c)})})}_exec(t,n,r){const i=Ix(t);en(r["before"+i],[],r),n[t](r),en(r["after"+i],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const i=n.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return i}}var ds=new JP;class eR{constructor(){this._init=void 0}notify(t,n,r,i){if(n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const a=i?this._descriptors(t).filter(i):this._descriptors(t),c=this._notify(a,t,n,r);return n==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),c}_notify(t,n,r,i){i=i||{};for(const a of t){const c=a.plugin,u=c[r],g=[n,i,a.options];if(en(u,g,c)===!1&&i.cancelable)return!1}return!0}invalidate(){Lt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,i=Ct(r.options&&r.options.plugins,{}),a=tR(r);return i===!1&&!n?[]:rR(t,a,i,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,i=(a,c)=>a.filter(u=>!c.some(g=>u.plugin.id===g.plugin.id));this._notify(i(n,r),t,"stop"),this._notify(i(r,n),t,"start")}}function tR(e){const t={},n=[],r=Object.keys(ds.plugins.items);for(let a=0;a<r.length;a++)n.push(ds.getPlugin(r[a]));const i=e.plugins||[];for(let a=0;a<i.length;a++){const c=i[a];n.indexOf(c)===-1&&(n.push(c),t[c.id]=!0)}return{plugins:n,localIds:t}}function nR(e,t){return!t&&e===!1?null:e===!0?{}:e}function rR(e,{plugins:t,localIds:n},r,i){const a=[],c=e.getContext();for(const u of t){const g=u.id,f=nR(r[g],i);f!==null&&a.push({plugin:u,options:sR(e.config,{plugin:u,local:n[g]},f,c)})}return a}function sR(e,{plugin:t,local:n},r,i){const a=e.pluginScopeKeys(t),c=e.getOptionScopes(r,a);return n&&t.defaults&&c.push(t.defaults),e.createResolver(c,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Uu(e,t){const n=xn.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function oR(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function iR(e,t){return e===t?"_index_":"_value_"}function gp(e){if(e==="x"||e==="y"||e==="r")return e}function aR(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Hu(e,...t){if(gp(e))return e;for(const n of t){const r=n.axis||aR(n.position)||e.length>1&&gp(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function pp(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function lR(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return pp(e,"x",n[0])||pp(e,"y",n[0])}return{}}function cR(e,t){const n=Ko[e.type]||{scales:{}},r=t.scales||{},i=Uu(e.type,t),a=Object.create(null);return Object.keys(r).forEach(c=>{const u=r[c];if(!Mt(u))return console.error(`Invalid scale configuration for scale: ${c}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const g=Hu(c,u,lR(c,e),xn.scales[u.type]),f=iR(g,i),m=n.scales||{};a[c]=Ca(Object.create(null),[{axis:g},u,m[g],m[f]])}),e.data.datasets.forEach(c=>{const u=c.type||e.type,g=c.indexAxis||Uu(u,t),m=(Ko[u]||{}).scales||{};Object.keys(m).forEach(y=>{const w=oR(y,g),E=c[w+"AxisID"]||w;a[E]=a[E]||Object.create(null),Ca(a[E],[{axis:w},r[E],m[y]])})}),Object.keys(a).forEach(c=>{const u=a[c];Ca(u,[xn.scales[u.type],xn.scale])}),a}function db(e){const t=e.options||(e.options={});t.plugins=Ct(t.plugins,{}),t.scales=cR(e,t)}function ub(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function dR(e){return e=e||{},e.data=ub(e.data),db(e),e}const mp=new Map,xb=new Set;function Rl(e,t){let n=mp.get(e);return n||(n=t(),mp.set(e,n),xb.add(n)),n}const ca=(e,t,n)=>{const r=Qo(t,n);r!==void 0&&e.add(r)};class uR{constructor(t){this._config=dR(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=ub(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),db(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Rl(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Rl(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Rl(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return Rl(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let i=r.get(t);return(!i||n)&&(i=new Map,r.set(t,i)),i}getOptionScopes(t,n,r){const{options:i,type:a}=this,c=this._cachedScopes(t,r),u=c.get(n);if(u)return u;const g=new Set;n.forEach(m=>{t&&(g.add(t),m.forEach(y=>ca(g,t,y))),m.forEach(y=>ca(g,i,y)),m.forEach(y=>ca(g,Ko[a]||{},y)),m.forEach(y=>ca(g,xn,y)),m.forEach(y=>ca(g,$u,y))});const f=Array.from(g);return f.length===0&&f.push(Object.create(null)),xb.has(n)&&c.set(n,f),f}chartOptionScopes(){const{options:t,type:n}=this;return[t,Ko[n]||{},xn.datasets[n]||{},{type:n},xn,$u]}resolveNamedOptions(t,n,r,i=[""]){const a={$shared:!0},{resolver:c,subPrefixes:u}=yp(this._resolverCache,t,i);let g=c;if(fR(c,n)){a.$shared=!1,r=xo(r)?r():r;const f=this.createResolver(t,r,u);g=Mi(c,r,f)}for(const f of n)a[f]=g[f];return a}createResolver(t,n,r=[""],i){const{resolver:a}=yp(this._resolverCache,t,r);return Mt(n)?Mi(a,n,void 0,i):a}}function yp(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let a=r.get(i);return a||(a={resolver:jx(t,n),subPrefixes:n.filter(u=>!u.toLowerCase().includes("hover"))},r.set(i,a)),a}const xR=e=>Mt(e)&&Object.getOwnPropertyNames(e).some(t=>xo(e[t]));function fR(e,t){const{isScriptable:n,isIndexable:r}=Gy(e);for(const i of t){const a=n(i),c=r(i),u=(c||a)&&e[i];if(a&&(xo(u)||xR(u))||c&&vn(u))return!0}return!1}var hR="4.5.1";const gR=["top","bottom","left","right","chartArea"];function bp(e,t){return e==="top"||e==="bottom"||gR.indexOf(e)===-1&&t==="x"}function vp(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function Ep(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),en(n&&n.onComplete,[e],t)}function pR(e){const t=e.chart,n=t.options.animation;en(n&&n.onProgress,[e],t)}function fb(e){return zx()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Yl={},wp=e=>{const t=fb(e);return Object.values(Yl).filter(n=>n.canvas===t).pop()};function mR(e,t,n){const r=Object.keys(e);for(const i of r){const a=+i;if(a>=t){const c=e[i];delete e[i],(n>0||a>t)&&(e[a+n]=c)}}}function yR(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}let rl=class{static defaults=xn;static instances=Yl;static overrides=Ko;static registry=ds;static version=hR;static getChart=wp;static register(...t){ds.add(...t),Cp()}static unregister(...t){ds.remove(...t),Cp()}constructor(t,n){const r=this.config=new uR(n),i=fb(t),a=wp(i);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const c=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||OP(i)),this.platform.updateConfig(r);const u=this.platform.acquireContext(i,c.aspectRatio),g=u&&u.canvas,f=g&&g.height,m=g&&g.width;if(this.id=dI(),this.ctx=u,this.canvas=g,this.width=m,this.height=f,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new eR,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=SI(y=>this.update(y),c.resizeDelay||0),this._dataChanges=[],Yl[this.id]=this,!u||!g){console.error("Failed to create chart: can't acquire context from the given item");return}vs.listen(this,"complete",Ep),vs.listen(this,"progress",pR),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:i,_aspectRatio:a}=this;return Lt(t)?n&&a?a:i?r/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return ds}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():qg(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Hg(this.canvas,this.ctx),this}stop(){return vs.stop(this),this}resize(t,n){vs.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,i=this.canvas,a=r.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(i,t,n,a),u=r.devicePixelRatio||this.platform.getDevicePixelRatio(),g=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,qg(this,u,!0)&&(this.notifyPlugins("resize",{size:c}),en(r.onResize,[this,c],this),this.attached&&this._doResize(g)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ut(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,i=Object.keys(r).reduce((c,u)=>(c[u]=!1,c),{});let a=[];n&&(a=a.concat(Object.keys(n).map(c=>{const u=n[c],g=Hu(c,u),f=g==="r",m=g==="x";return{options:u,dposition:f?"chartArea":m?"bottom":"left",dtype:f?"radialLinear":m?"category":"linear"}}))),Ut(a,c=>{const u=c.options,g=u.id,f=Hu(g,u),m=Ct(u.type,c.dtype);(u.position===void 0||bp(u.position,f)!==bp(c.dposition))&&(u.position=c.dposition),i[g]=!0;let y=null;if(g in r&&r[g].type===m)y=r[g];else{const w=ds.getScale(m);y=new w({id:g,type:m,ctx:this.ctx,chart:this}),r[y.id]=y}y.init(u,t)}),Ut(i,(c,u)=>{c||delete r[u]}),Ut(r,c=>{Ir.configure(this,c,c.options),Ir.addBox(this,c)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((i,a)=>i.index-a.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(vp("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,i)=>{n.filter(a=>a===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const a=n[r];let c=this.getDatasetMeta(r);const u=a.type||this.config.type;if(c.type&&c.type!==u&&(this._destroyDatasetMeta(r),c=this.getDatasetMeta(r)),c.type=u,c.indexAxis=a.indexAxis||Uu(u,this.options),c.order=a.order||0,c.index=r,c.label=""+a.label,c.visible=this.isDatasetVisible(r),c.controller)c.controller.updateIndex(r),c.controller.linkScales();else{const g=ds.getController(u),{datasetElementType:f,dataElementType:m}=xn.datasets[u];Object.assign(g,{dataElementType:ds.getElement(m),datasetElementType:f&&ds.getElement(f)}),c.controller=new g(this,r),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){Ut(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let f=0,m=this.data.datasets.length;f<m;f++){const{controller:y}=this.getDatasetMeta(f),w=!i&&a.indexOf(y)===-1;y.buildOrUpdateElements(w),c=Math.max(+y.getMaxOverflow(),c)}c=this._minPadding=r.layout.autoPadding?c:0,this._updateLayout(c),i||Ut(a,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(vp("z","_idx"));const{_active:u,_lastEvent:g}=this;g?this._eventHandler(g,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Ut(this.scales,t=>{Ir.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!Ig(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:a}of n){const c=r==="_removeElements"?-a:a;mR(t,i,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=a=>new Set(t.filter(c=>c[0]===a).map((c,u)=>u+","+c.splice(1).join(","))),i=r(0);for(let a=1;a<n;a++)if(!Ig(i,r(a)))return;return Array.from(i).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ir.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Ut(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,a)=>{i._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,xo(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),i={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(vs.has(this)?this.attached&&!vs.running(this)&&vs.start(this):(this.draw(),Ep({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let i,a;for(i=0,a=n.length;i<a;++i){const c=n[i];(!t||c.visible)&&r.push(c)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r={meta:t,index:t.index,cancelable:!0},i=RM(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&Nx(n,i),t.controller.draw(),i&&Lx(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return za(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,i){const a=gP.modes[n];return typeof a=="function"?a(this,t,r,i):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let i=r.filter(a=>a&&a._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=ei(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const i=r?"show":"hide",a=this.getDatasetMeta(t),c=a.controller._resolveAnimations(void 0,i);ja(n)?(a.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),c.update(a,{visible:r}),this.update(u=>u.datasetIndex===t?i:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),vs.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Hg(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Yl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(a,c)=>{n.addEventListener(this,a,c),t[a]=c},i=(a,c,u)=>{a.offsetX=c,a.offsetY=u,this._eventHandler(a)};Ut(this.options.events,a=>r(a,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(g,f)=>{n.addEventListener(this,g,f),t[g]=f},i=(g,f)=>{t[g]&&(n.removeEventListener(this,g,f),delete t[g])},a=(g,f)=>{this.canvas&&this.resize(g,f)};let c;const u=()=>{i("attach",u),this.attached=!0,this.resize(),r("resize",a),r("detach",c)};c=()=>{this.attached=!1,i("resize",a),this._stop(),this._resize(0,0),r("attach",u)},n.isAttached(this.canvas)?u():c()}unbindEvents(){Ut(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Ut(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const i=r?"set":"remove";let a,c,u,g;for(n==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+i+"DatasetHoverStyle"]()),u=0,g=t.length;u<g;++u){c=t[u];const f=c&&this.getDatasetMeta(c.datasetIndex).controller;f&&f[i+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:a,index:c})=>{const u=this.getDatasetMeta(a);if(!u)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:u.data[c],index:c}});!b0(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const i=this.options.hover,a=(g,f)=>g.filter(m=>!f.some(y=>m.datasetIndex===y.datasetIndex&&m.index===y.index)),c=a(n,t),u=r?t:a(t,n);c.length&&this.updateHoverStyle(c,i.mode,!1),u.length&&i.mode&&this.updateHoverStyle(u,i.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},i=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const a=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(a||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:i=[],options:a}=this,c=n,u=this._getActiveElements(t,i,r,c),g=pI(t),f=yR(t,this._lastEvent,r,g);r&&(this._lastEvent=null,en(a.onHover,[t,u,this],this),g&&en(a.onClick,[t,u,this],this));const m=!b0(u,i);return(m||n)&&(this._active=u,this._updateHoverStyles(u,i,n)),this._lastEvent=f,m}_getActiveElements(t,n,r,i){if(t.type==="mouseout")return[];if(!r)return n;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,i)}};function Cp(){return Ut(rl.instances,e=>e._plugins.invalidate())}function bR(e,t,n){const{startAngle:r,x:i,y:a,outerRadius:c,innerRadius:u,options:g}=t,{borderWidth:f,borderJoinStyle:m}=g,y=Math.min(f/c,Vr(r-n));if(e.beginPath(),e.arc(i,a,c-f/2,r+y/2,n-y/2),u>0){const w=Math.min(f/u,Vr(r-n));e.arc(i,a,u+f/2,n-w/2,r+w/2,!0)}else{const w=Math.min(f/2,c*Vr(r-n));if(m==="round")e.arc(i,a,w,n-Ht/2,r+Ht/2,!0);else if(m==="bevel"){const E=2*w*w,C=-E*Math.cos(n+Ht/2)+i,D=-E*Math.sin(n+Ht/2)+a,_=E*Math.cos(r+Ht/2)+i,M=E*Math.sin(r+Ht/2)+a;e.lineTo(C,D),e.lineTo(_,M)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function vR(e,t,n){const{startAngle:r,pixelMargin:i,x:a,y:c,outerRadius:u,innerRadius:g}=t;let f=i/u;e.beginPath(),e.arc(a,c,u,r-f,n+f),g>i?(f=i/g,e.arc(a,c,g,n+f,r-f,!0)):e.arc(a,c,i,n+En,r-En),e.closePath(),e.clip()}function ER(e){return $x(e,["outerStart","outerEnd","innerStart","innerEnd"])}function wR(e,t,n,r){const i=ER(e.options.borderRadius),a=(n-t)/2,c=Math.min(a,r*t/2),u=g=>{const f=(n-Math.min(a,g))*r/2;return Vn(g,0,Math.min(a,f))};return{outerStart:u(i.outerStart),outerEnd:u(i.outerEnd),innerStart:Vn(i.innerStart,0,c),innerEnd:Vn(i.innerEnd,0,c)}}function fi(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function B0(e,t,n,r,i,a){const{x:c,y:u,startAngle:g,pixelMargin:f,innerRadius:m}=t,y=Math.max(t.outerRadius+r+n-f,0),w=m>0?m+r+n+f:0;let E=0;const C=i-g;if(r){const te=m>0?m-r:0,ne=y>0?y-r:0,de=(te+ne)/2,be=de!==0?C*de/(de+r):C;E=(C-be)/2}const D=Math.max(.001,C*y-n/Ht)/y,_=(C-D)/2,M=g+_+E,$=i-_-E,{outerStart:I,outerEnd:S,innerStart:T,innerEnd:j}=wR(t,w,y,$-M),L=y-I,z=y-S,F=M+I/L,Q=$-S/z,le=w+T,Y=w+j,ce=M+T/le,me=$-j/Y;if(e.beginPath(),a){const te=(F+Q)/2;if(e.arc(c,u,y,F,te),e.arc(c,u,y,te,Q),S>0){const De=fi(z,Q,c,u);e.arc(De.x,De.y,S,Q,$+En)}const ne=fi(Y,$,c,u);if(e.lineTo(ne.x,ne.y),j>0){const De=fi(Y,me,c,u);e.arc(De.x,De.y,j,$+En,me+Math.PI)}const de=($-j/w+(M+T/w))/2;if(e.arc(c,u,w,$-j/w,de,!0),e.arc(c,u,w,de,M+T/w,!0),T>0){const De=fi(le,ce,c,u);e.arc(De.x,De.y,T,ce+Math.PI,M-En)}const be=fi(L,M,c,u);if(e.lineTo(be.x,be.y),I>0){const De=fi(L,F,c,u);e.arc(De.x,De.y,I,M-En,F)}}else{e.moveTo(c,u);const te=Math.cos(F)*y+c,ne=Math.sin(F)*y+u;e.lineTo(te,ne);const de=Math.cos(Q)*y+c,be=Math.sin(Q)*y+u;e.lineTo(de,be)}e.closePath()}function CR(e,t,n,r,i){const{fullCircles:a,startAngle:c,circumference:u}=t;let g=t.endAngle;if(a){B0(e,t,n,r,g,i);for(let f=0;f<a;++f)e.fill();isNaN(u)||(g=c+(u%cn||cn))}return B0(e,t,n,r,g,i),e.fill(),g}function AR(e,t,n,r,i){const{fullCircles:a,startAngle:c,circumference:u,options:g}=t,{borderWidth:f,borderJoinStyle:m,borderDash:y,borderDashOffset:w,borderRadius:E}=g,C=g.borderAlign==="inner";if(!f)return;e.setLineDash(y||[]),e.lineDashOffset=w,C?(e.lineWidth=f*2,e.lineJoin=m||"round"):(e.lineWidth=f,e.lineJoin=m||"bevel");let D=t.endAngle;if(a){B0(e,t,n,r,D,i);for(let _=0;_<a;++_)e.stroke();isNaN(u)||(D=c+(u%cn||cn))}C&&vR(e,t,D),g.selfJoin&&D-c>=Ht&&E===0&&m!=="miter"&&bR(e,t,D),a||(B0(e,t,n,r,D,i),e.stroke())}class hb extends Ns{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,n,r){const i=this.getProps(["x","y"],r),{angle:a,distance:c}=$y(i,{x:t,y:n}),{startAngle:u,endAngle:g,innerRadius:f,outerRadius:m,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),w=(this.options.spacing+this.options.borderWidth)/2,E=Ct(y,g-u),C=Ha(a,u,g)&&u!==g,D=E>=cn||C,_=Js(c,f+w,m+w);return D&&_}getCenterPoint(t){const{x:n,y:r,startAngle:i,endAngle:a,innerRadius:c,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:g,spacing:f}=this.options,m=(i+a)/2,y=(c+u+f+g)/2;return{x:n+Math.cos(m)*y,y:r+Math.sin(m)*y}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:n,circumference:r}=this,i=(n.offset||0)/4,a=(n.spacing||0)/2,c=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>cn?Math.floor(r/cn):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const u=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(u)*i,Math.sin(u)*i);const g=1-Math.sin(Math.min(Ht,r||0)),f=i*g;t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,CR(t,this,f,a,c),AR(t,this,f,a,c),t.restore()}}function gb(e,t,n=t){e.lineCap=Ct(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Ct(n.borderDash,t.borderDash)),e.lineDashOffset=Ct(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Ct(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Ct(n.borderWidth,t.borderWidth),e.strokeStyle=Ct(n.borderColor,t.borderColor)}function BR(e,t,n){e.lineTo(n.x,n.y)}function _R(e){return e.stepped?zI:e.tension||e.cubicInterpolationMode==="monotone"?VI:BR}function pb(e,t,n={}){const r=e.length,{start:i=0,end:a=r-1}=n,{start:c,end:u}=t,g=Math.max(i,c),f=Math.min(a,u),m=i<c&&a<c||i>u&&a>u;return{count:r,start:g,loop:t.loop,ilen:f<g&&!m?r+f-g:f-g}}function DR(e,t,n,r){const{points:i,options:a}=t,{count:c,start:u,loop:g,ilen:f}=pb(i,n,r),m=_R(a);let{move:y=!0,reverse:w}=r||{},E,C,D;for(E=0;E<=f;++E)C=i[(u+(w?f-E:E))%c],!C.skip&&(y?(e.moveTo(C.x,C.y),y=!1):m(e,D,C,w,a.stepped),D=C);return g&&(C=i[(u+(w?f:0))%c],m(e,D,C,w,a.stepped)),!!g}function kR(e,t,n,r){const i=t.points,{count:a,start:c,ilen:u}=pb(i,n,r),{move:g=!0,reverse:f}=r||{};let m=0,y=0,w,E,C,D,_,M;const $=S=>(c+(f?u-S:S))%a,I=()=>{D!==_&&(e.lineTo(m,_),e.lineTo(m,D),e.lineTo(m,M))};for(g&&(E=i[$(0)],e.moveTo(E.x,E.y)),w=0;w<=u;++w){if(E=i[$(w)],E.skip)continue;const S=E.x,T=E.y,j=S|0;j===C?(T<D?D=T:T>_&&(_=T),m=(y*m+S)/++y):(I(),e.lineTo(S,T),C=j,y=0,D=_=T),M=T}I()}function zu(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?kR:DR}function SR(e){return e.stepped?wM:e.tension||e.cubicInterpolationMode==="monotone"?CM:Fo}function FR(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),gb(e,t.options),e.stroke(i)}function TR(e,t,n,r){const{segments:i,options:a}=t,c=zu(t);for(const u of i)gb(e,a,u.style),e.beginPath(),c(e,t,u,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}const IR=typeof Path2D=="function";function MR(e,t,n,r){IR&&!t.options.segment?FR(e,t,n,r):TR(e,t,n,r)}class mb extends Ns{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;hM(this._points,r,t,i,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=TM(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,r=t.length;return r&&n[t[r-1].end]}interpolate(t,n){const r=this.options,i=t[n],a=this.points,c=kM(this,{property:n,start:i,end:i});if(!c.length)return;const u=[],g=SR(r);let f,m;for(f=0,m=c.length;f<m;++f){const{start:y,end:w}=c[f],E=a[y],C=a[w];if(E===C){u.push(E);continue}const D=Math.abs((i-E[n])/(C[n]-E[n])),_=g(E,C,D,r.stepped);_[n]=t[n],u.push(_)}return u.length===1?u[0]:u}pathSegment(t,n,r){return zu(this)(t,this,n,r)}path(t,n,r){const i=this.segments,a=zu(this);let c=this._loop;n=n||0,r=r||this.points.length-n;for(const u of i)c&=a(t,this,u,{start:n,end:n+r-1});return!!c}draw(t,n,r,i){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),MR(t,this,r,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Ap(e,t,n,r){const i=e.options,{[n]:a}=e.getProps([n],r);return Math.abs(t-a)<i.radius+i.hitRadius}class yb extends Ns{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,r){const i=this.options,{x:a,y:c}=this.getProps(["x","y"],r);return Math.pow(t-a,2)+Math.pow(n-c,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,n){return Ap(this,t,"x",n)}inYRange(t,n){return Ap(this,t,"y",n)}getCenterPoint(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const r=n&&t.borderWidth||0;return(n+r)*2}draw(t,n){const r=this.options;this.skip||r.radius<.1||!za(this,n,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,ju(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function bb(e,t){const{x:n,y:r,base:i,width:a,height:c}=e.getProps(["x","y","base","width","height"],t);let u,g,f,m,y;return e.horizontal?(y=c/2,u=Math.min(n,i),g=Math.max(n,i),f=r-y,m=r+y):(y=a/2,u=n-y,g=n+y,f=Math.min(r,i),m=Math.max(r,i)),{left:u,top:f,right:g,bottom:m}}function to(e,t,n,r){return e?0:Vn(t,n,r)}function PR(e,t,n){const r=e.options.borderWidth,i=e.borderSkipped,a=Wy(r);return{t:to(i.top,a.top,0,n),r:to(i.right,a.right,0,t),b:to(i.bottom,a.bottom,0,n),l:to(i.left,a.left,0,t)}}function RR(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,a=Bi(i),c=Math.min(t,n),u=e.borderSkipped,g=r||Mt(i);return{topLeft:to(!g||u.top||u.left,a.topLeft,0,c),topRight:to(!g||u.top||u.right,a.topRight,0,c),bottomLeft:to(!g||u.bottom||u.left,a.bottomLeft,0,c),bottomRight:to(!g||u.bottom||u.right,a.bottomRight,0,c)}}function OR(e){const t=bb(e),n=t.right-t.left,r=t.bottom-t.top,i=PR(e,n/2,r/2),a=RR(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:a},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,a.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(i.b,i.r))}}}}function ou(e,t,n,r){const i=t===null,a=n===null,u=e&&!(i&&a)&&bb(e,r);return u&&(i||Js(t,u.left,u.right))&&(a||Js(n,u.top,u.bottom))}function NR(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function LR(e,t){e.rect(t.x,t.y,t.w,t.h)}function iu(e,t,n={}){const r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,a=(e.x+e.w!==n.x+n.w?t:0)-r,c=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+a,h:e.h+c,radius:e.radius}}class vb extends Ns{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:a,outer:c}=OR(this),u=NR(c.radius)?w0:LR;t.save(),(c.w!==a.w||c.h!==a.h)&&(t.beginPath(),u(t,iu(c,n,a)),t.clip(),u(t,iu(a,-n,c)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),u(t,iu(a,n)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,n,r){return ou(this,t,n,r)}inXRange(t,n){return ou(this,t,null,n)}inYRange(t,n){return ou(this,null,t,n)}getCenterPoint(t){const{x:n,y:r,base:i,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(n+i)/2:n,y:a?r:(r+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const Bp=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},$R=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class _p extends Ns{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=en(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,i)=>t.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,i=qn(r.font),a=i.size,c=this._computeTitleHeight(),{boxWidth:u,itemHeight:g}=Bp(r,a);let f,m;n.font=i.string,this.isHorizontal()?(f=this.maxWidth,m=this._fitRows(c,a,u,g)+10):(m=this.maxHeight,f=this._fitCols(c,i,u,g)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(m,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,i){const{ctx:a,maxWidth:c,options:{labels:{padding:u}}}=this,g=this.legendHitBoxes=[],f=this.lineWidths=[0],m=i+u;let y=t;a.textAlign="left",a.textBaseline="middle";let w=-1,E=-m;return this.legendItems.forEach((C,D)=>{const _=r+n/2+a.measureText(C.text).width;(D===0||f[f.length-1]+_+2*u>c)&&(y+=m,f[f.length-(D>0?0:1)]=0,E+=m,w++),g[D]={left:0,top:E,row:w,width:_,height:i},f[f.length-1]+=_+u}),y}_fitCols(t,n,r,i){const{ctx:a,maxHeight:c,options:{labels:{padding:u}}}=this,g=this.legendHitBoxes=[],f=this.columnSizes=[],m=c-t;let y=u,w=0,E=0,C=0,D=0;return this.legendItems.forEach((_,M)=>{const{itemWidth:$,itemHeight:I}=jR(r,n,a,_,i);M>0&&E+I+2*u>m&&(y+=w+u,f.push({width:w,height:E}),C+=w+u,D++,w=E=0),g[M]={left:C,top:E,col:D,width:$,height:I},w=Math.max(w,$),E+=I+u}),y+=w,f.push({width:w,height:E}),y}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:a}}=this,c=_i(a,this.left,this.width);if(this.isHorizontal()){let u=0,g=jn(r,this.left+i,this.right-this.lineWidths[u]);for(const f of n)u!==f.row&&(u=f.row,g=jn(r,this.left+i,this.right-this.lineWidths[u])),f.top+=this.top+t+i,f.left=c.leftForLtr(c.x(g),f.width),g+=f.width+i}else{let u=0,g=jn(r,this.top+t+i,this.bottom-this.columnSizes[u].height);for(const f of n)f.col!==u&&(u=f.col,g=jn(r,this.top+t+i,this.bottom-this.columnSizes[u].height)),f.top=g,f.left+=this.left+i,f.left=c.leftForLtr(c.x(f.left),f.width),g+=f.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Nx(t,this),this._draw(),Lx(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:i}=this,{align:a,labels:c}=t,u=xn.color,g=_i(t.rtl,this.left,this.width),f=qn(c.font),{padding:m}=c,y=f.size,w=y/2;let E;this.drawTitle(),i.textAlign=g.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=f.string;const{boxWidth:C,boxHeight:D,itemHeight:_}=Bp(c,y),M=function(j,L,z){if(isNaN(C)||C<=0||isNaN(D)||D<0)return;i.save();const F=Ct(z.lineWidth,1);if(i.fillStyle=Ct(z.fillStyle,u),i.lineCap=Ct(z.lineCap,"butt"),i.lineDashOffset=Ct(z.lineDashOffset,0),i.lineJoin=Ct(z.lineJoin,"miter"),i.lineWidth=F,i.strokeStyle=Ct(z.strokeStyle,u),i.setLineDash(Ct(z.lineDash,[])),c.usePointStyle){const Q={radius:D*Math.SQRT2/2,pointStyle:z.pointStyle,rotation:z.rotation,borderWidth:F},le=g.xPlus(j,C/2),Y=L+w;qy(i,Q,le,Y,c.pointStyleWidth&&C)}else{const Q=L+Math.max((y-D)/2,0),le=g.leftForLtr(j,C),Y=Bi(z.borderRadius);i.beginPath(),Object.values(Y).some(ce=>ce!==0)?w0(i,{x:le,y:Q,w:C,h:D,radius:Y}):i.rect(le,Q,C,D),i.fill(),F!==0&&i.stroke()}i.restore()},$=function(j,L,z){Va(i,z.text,j,L+_/2,f,{strikethrough:z.hidden,textAlign:g.textAlign(z.textAlign)})},I=this.isHorizontal(),S=this._computeTitleHeight();I?E={x:jn(a,this.left+m,this.right-r[0]),y:this.top+m+S,line:0}:E={x:this.left+m,y:jn(a,this.top+S+m,this.bottom-n[0].height),line:0},Zy(this.ctx,t.textDirection);const T=_+m;this.legendItems.forEach((j,L)=>{i.strokeStyle=j.fontColor,i.fillStyle=j.fontColor;const z=i.measureText(j.text).width,F=g.textAlign(j.textAlign||(j.textAlign=c.textAlign)),Q=C+w+z;let le=E.x,Y=E.y;g.setWidth(this.width),I?L>0&&le+Q+m>this.right&&(Y=E.y+=T,E.line++,le=E.x=jn(a,this.left+m,this.right-r[E.line])):L>0&&Y+T>this.bottom&&(le=E.x=le+n[E.line].width+m,E.line++,Y=E.y=jn(a,this.top+S+m,this.bottom-n[E.line].height));const ce=g.x(le);if(M(ce,Y,j),le=FI(F,le+C+w,I?le+Q:this.right,t.rtl),$(g.x(le),Y,j),I)E.x+=Q+m;else if(typeof j.text!="string"){const me=f.lineHeight;E.y+=Eb(j,me)+m}else E.y+=T}),Jy(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=qn(n.font),i=Nr(n.padding);if(!n.display)return;const a=_i(t.rtl,this.left,this.width),c=this.ctx,u=n.position,g=r.size/2,f=i.top+g;let m,y=this.left,w=this.width;if(this.isHorizontal())w=Math.max(...this.lineWidths),m=this.top+f,y=jn(t.align,y,this.right-w);else{const C=this.columnSizes.reduce((D,_)=>Math.max(D,_.height),0);m=f+jn(t.align,this.top,this.bottom-C-t.labels.padding-this._computeTitleHeight())}const E=jn(u,y,y+w);c.textAlign=a.textAlign(Px(u)),c.textBaseline="middle",c.strokeStyle=n.color,c.fillStyle=n.color,c.font=r.string,Va(c,n.text,E,m,r)}_computeTitleHeight(){const t=this.options.title,n=qn(t.font),r=Nr(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,i,a;if(Js(t,this.left,this.right)&&Js(n,this.top,this.bottom)){for(a=this.legendHitBoxes,r=0;r<a.length;++r)if(i=a[r],Js(t,i.left,i.left+i.width)&&Js(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!zR(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,a=$R(i,r);i&&!a&&en(n.onLeave,[t,i,this],this),this._hoveredItem=r,r&&!a&&en(n.onHover,[t,r,this],this)}else r&&en(n.onClick,[t,r,this],this)}}function jR(e,t,n,r,i){const a=UR(r,e,t,n),c=HR(i,r,t.lineHeight);return{itemWidth:a,itemHeight:c}}function UR(e,t,n,r){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((a,c)=>a.length>c.length?a:c)),t+n.size/2+r.measureText(i).width}function HR(e,t,n){let r=e;return typeof t.text!="string"&&(r=Eb(t,n)),r}function Eb(e,t){const n=e.text?e.text.length:0;return t*n}function zR(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var wb={id:"legend",_element:_p,start(e,t,n){const r=e.legend=new _p({ctx:e.ctx,options:n,chart:e});Ir.configure(e,r,n),Ir.addBox(e,r)},stop(e){Ir.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;Ir.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:a,useBorderRadius:c,borderRadius:u}}=e.legend.options;return e._getSortedDatasetMetas().map(g=>{const f=g.controller.getStyle(n?0:void 0),m=Nr(f.borderWidth);return{text:t[g.index].label,fillStyle:f.backgroundColor,fontColor:a,hidden:!g.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:f.borderColor,pointStyle:r||f.pointStyle,rotation:f.rotation,textAlign:i||f.textAlign,borderRadius:c&&(u||f.borderRadius),datasetIndex:g.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Cb extends Ns{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const i=vn(r.text)?r.text.length:1;this._padding=Nr(r.padding);const a=i*qn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:r,bottom:i,right:a,options:c}=this,u=c.align;let g=0,f,m,y;return this.isHorizontal()?(m=jn(u,r,a),y=n+t,f=a-r):(c.position==="left"?(m=r+t,y=jn(u,i,n),g=Ht*-.5):(m=a-t,y=jn(u,n,i),g=Ht*.5),f=i-n),{titleX:m,titleY:y,maxWidth:f,rotation:g}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const r=qn(n.font),a=r.lineHeight/2+this._padding.top,{titleX:c,titleY:u,maxWidth:g,rotation:f}=this._drawArgs(a);Va(t,n.text,0,0,r,{color:n.color,maxWidth:g,rotation:f,textAlign:Px(n.align),textBaseline:"middle",translation:[c,u]})}}function VR(e,t){const n=new Cb({ctx:e.ctx,options:t,chart:e});Ir.configure(e,n,t),Ir.addBox(e,n),e.titleBlock=n}var qR={id:"title",_element:Cb,start(e,t,n){VR(e,n)},stop(e){const t=e.titleBlock;Ir.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;Ir.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ga={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,a=0;for(t=0,n=e.length;t<n;++t){const u=e[t].element;if(u&&u.hasValue()){const g=u.tooltipPosition();r.add(g.x),i+=g.y,++a}}return a===0||r.size===0?!1:{x:[...r].reduce((u,g)=>u+g)/r.size,y:i/a}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,i=Number.POSITIVE_INFINITY,a,c,u;for(a=0,c=e.length;a<c;++a){const g=e[a].element;if(g&&g.hasValue()){const f=g.getCenterPoint(),m=Lu(t,f);m<i&&(i=m,u=g)}}if(u){const g=u.tooltipPosition();n=g.x,r=g.y}return{x:n,y:r}}};function as(e,t){return t&&(vn(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Es(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function WR(e,t){const{element:n,datasetIndex:r,index:i}=t,a=e.getDatasetMeta(r).controller,{label:c,value:u}=a.getLabelAndValue(i);return{chart:e,label:c,parsed:a.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:u,dataset:a.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function Dp(e,t){const n=e.chart.ctx,{body:r,footer:i,title:a}=e,{boxWidth:c,boxHeight:u}=t,g=qn(t.bodyFont),f=qn(t.titleFont),m=qn(t.footerFont),y=a.length,w=i.length,E=r.length,C=Nr(t.padding);let D=C.height,_=0,M=r.reduce((S,T)=>S+T.before.length+T.lines.length+T.after.length,0);if(M+=e.beforeBody.length+e.afterBody.length,y&&(D+=y*f.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),M){const S=t.displayColors?Math.max(u,g.lineHeight):g.lineHeight;D+=E*S+(M-E)*g.lineHeight+(M-1)*t.bodySpacing}w&&(D+=t.footerMarginTop+w*m.lineHeight+(w-1)*t.footerSpacing);let $=0;const I=function(S){_=Math.max(_,n.measureText(S).width+$)};return n.save(),n.font=f.string,Ut(e.title,I),n.font=g.string,Ut(e.beforeBody.concat(e.afterBody),I),$=t.displayColors?c+2+t.boxPadding:0,Ut(r,S=>{Ut(S.before,I),Ut(S.lines,I),Ut(S.after,I)}),$=0,n.font=m.string,Ut(e.footer,I),n.restore(),_+=C.width,{width:_,height:D}}function GR(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function QR(e,t,n,r){const{x:i,width:a}=r,c=n.caretSize+n.caretPadding;if(e==="left"&&i+a+c>t.width||e==="right"&&i-a-c<0)return!0}function KR(e,t,n,r){const{x:i,width:a}=n,{width:c,chartArea:{left:u,right:g}}=e;let f="center";return r==="center"?f=i<=(u+g)/2?"left":"right":i<=a/2?f="left":i>=c-a/2&&(f="right"),QR(f,e,t,n)&&(f="center"),f}function kp(e,t,n){const r=n.yAlign||t.yAlign||GR(e,n);return{xAlign:n.xAlign||t.xAlign||KR(e,t,n,r),yAlign:r}}function YR(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function XR(e,t,n){let{y:r,height:i}=e;return t==="top"?r+=n:t==="bottom"?r-=i+n:r-=i/2,r}function Sp(e,t,n,r){const{caretSize:i,caretPadding:a,cornerRadius:c}=e,{xAlign:u,yAlign:g}=n,f=i+a,{topLeft:m,topRight:y,bottomLeft:w,bottomRight:E}=Bi(c);let C=YR(t,u);const D=XR(t,g,f);return g==="center"?u==="left"?C+=f:u==="right"&&(C-=f):u==="left"?C-=Math.max(m,w)+i:u==="right"&&(C+=Math.max(y,E)+i),{x:Vn(C,0,r.width-t.width),y:Vn(D,0,r.height-t.height)}}function Ol(e,t,n){const r=Nr(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function Fp(e){return as([],Es(e))}function ZR(e,t,n){return ei(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function Tp(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const Ab={beforeTitle:ys,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:ys,beforeBody:ys,beforeLabel:ys,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Lt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:ys,afterBody:ys,beforeFooter:ys,footer:ys,afterFooter:ys};function nr(e,t,n,r){const i=e[t].call(n,r);return typeof i>"u"?Ab[t].call(n,r):i}class Ip extends Ns{static positioners=ga;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,a=new tb(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=ZR(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,i=nr(r,"beforeTitle",this,t),a=nr(r,"title",this,t),c=nr(r,"afterTitle",this,t);let u=[];return u=as(u,Es(i)),u=as(u,Es(a)),u=as(u,Es(c)),u}getBeforeBody(t,n){return Fp(nr(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,i=[];return Ut(t,a=>{const c={before:[],lines:[],after:[]},u=Tp(r,a);as(c.before,Es(nr(u,"beforeLabel",this,a))),as(c.lines,nr(u,"label",this,a)),as(c.after,Es(nr(u,"afterLabel",this,a))),i.push(c)}),i}getAfterBody(t,n){return Fp(nr(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,i=nr(r,"beforeFooter",this,t),a=nr(r,"footer",this,t),c=nr(r,"afterFooter",this,t);let u=[];return u=as(u,Es(i)),u=as(u,Es(a)),u=as(u,Es(c)),u}_createItems(t){const n=this._active,r=this.chart.data,i=[],a=[],c=[];let u=[],g,f;for(g=0,f=n.length;g<f;++g)u.push(WR(this.chart,n[g]));return t.filter&&(u=u.filter((m,y,w)=>t.filter(m,y,w,r))),t.itemSort&&(u=u.sort((m,y)=>t.itemSort(m,y,r))),Ut(u,m=>{const y=Tp(t.callbacks,m);i.push(nr(y,"labelColor",this,m)),a.push(nr(y,"labelPointStyle",this,m)),c.push(nr(y,"labelTextColor",this,m))}),this.labelColors=i,this.labelPointStyles=a,this.labelTextColors=c,this.dataPoints=u,u}update(t,n){const r=this.options.setContext(this.getContext()),i=this._active;let a,c=[];if(!i.length)this.opacity!==0&&(a={opacity:0});else{const u=ga[r.position].call(this,i,this._eventPosition);c=this._createItems(r),this.title=this.getTitle(c,r),this.beforeBody=this.getBeforeBody(c,r),this.body=this.getBody(c,r),this.afterBody=this.getAfterBody(c,r),this.footer=this.getFooter(c,r);const g=this._size=Dp(this,r),f=Object.assign({},u,g),m=kp(this.chart,r,f),y=Sp(r,f,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,a={opacity:1,x:y.x,y:y.y,width:g.width,height:g.height,caretX:u.x,caretY:u.y}}this._tooltipItems=c,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,i){const a=this.getCaretPosition(t,r,i);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(t,n,r){const{xAlign:i,yAlign:a}=this,{caretSize:c,cornerRadius:u}=r,{topLeft:g,topRight:f,bottomLeft:m,bottomRight:y}=Bi(u),{x:w,y:E}=t,{width:C,height:D}=n;let _,M,$,I,S,T;return a==="center"?(S=E+D/2,i==="left"?(_=w,M=_-c,I=S+c,T=S-c):(_=w+C,M=_+c,I=S-c,T=S+c),$=_):(i==="left"?M=w+Math.max(g,m)+c:i==="right"?M=w+C-Math.max(f,y)-c:M=this.caretX,a==="top"?(I=E,S=I-c,_=M-c,$=M+c):(I=E+D,S=I+c,_=M+c,$=M-c),T=I),{x1:_,x2:M,x3:$,y1:I,y2:S,y3:T}}drawTitle(t,n,r){const i=this.title,a=i.length;let c,u,g;if(a){const f=_i(r.rtl,this.x,this.width);for(t.x=Ol(this,r.titleAlign,r),n.textAlign=f.textAlign(r.titleAlign),n.textBaseline="middle",c=qn(r.titleFont),u=r.titleSpacing,n.fillStyle=r.titleColor,n.font=c.string,g=0;g<a;++g)n.fillText(i[g],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+u,g+1===a&&(t.y+=r.titleMarginBottom-u)}}_drawColorBox(t,n,r,i,a){const c=this.labelColors[r],u=this.labelPointStyles[r],{boxHeight:g,boxWidth:f}=a,m=qn(a.bodyFont),y=Ol(this,"left",a),w=i.x(y),E=g<m.lineHeight?(m.lineHeight-g)/2:0,C=n.y+E;if(a.usePointStyle){const D={radius:Math.min(f,g)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},_=i.leftForLtr(w,f)+f/2,M=C+g/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,ju(t,D,_,M),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,ju(t,D,_,M)}else{t.lineWidth=Mt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const D=i.leftForLtr(w,f),_=i.leftForLtr(i.xPlus(w,1),f-2),M=Bi(c.borderRadius);Object.values(M).some($=>$!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,w0(t,{x:D,y:C,w:f,h:g,radius:M}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),w0(t,{x:_,y:C+1,w:f-2,h:g-2,radius:M}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(D,C,f,g),t.strokeRect(D,C,f,g),t.fillStyle=c.backgroundColor,t.fillRect(_,C+1,f-2,g-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:i}=this,{bodySpacing:a,bodyAlign:c,displayColors:u,boxHeight:g,boxWidth:f,boxPadding:m}=r,y=qn(r.bodyFont);let w=y.lineHeight,E=0;const C=_i(r.rtl,this.x,this.width),D=function(z){n.fillText(z,C.x(t.x+E),t.y+w/2),t.y+=w+a},_=C.textAlign(c);let M,$,I,S,T,j,L;for(n.textAlign=c,n.textBaseline="middle",n.font=y.string,t.x=Ol(this,_,r),n.fillStyle=r.bodyColor,Ut(this.beforeBody,D),E=u&&_!=="right"?c==="center"?f/2+m:f+2+m:0,S=0,j=i.length;S<j;++S){for(M=i[S],$=this.labelTextColors[S],n.fillStyle=$,Ut(M.before,D),I=M.lines,u&&I.length&&(this._drawColorBox(n,t,S,C,r),w=Math.max(y.lineHeight,g)),T=0,L=I.length;T<L;++T)D(I[T]),w=y.lineHeight;Ut(M.after,D)}E=0,w=y.lineHeight,Ut(this.afterBody,D),t.y-=a}drawFooter(t,n,r){const i=this.footer,a=i.length;let c,u;if(a){const g=_i(r.rtl,this.x,this.width);for(t.x=Ol(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=g.textAlign(r.footerAlign),n.textBaseline="middle",c=qn(r.footerFont),n.fillStyle=r.footerColor,n.font=c.string,u=0;u<a;++u)n.fillText(i[u],g.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+r.footerSpacing}}drawBackground(t,n,r,i){const{xAlign:a,yAlign:c}=this,{x:u,y:g}=t,{width:f,height:m}=r,{topLeft:y,topRight:w,bottomLeft:E,bottomRight:C}=Bi(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(u+y,g),c==="top"&&this.drawCaret(t,n,r,i),n.lineTo(u+f-w,g),n.quadraticCurveTo(u+f,g,u+f,g+w),c==="center"&&a==="right"&&this.drawCaret(t,n,r,i),n.lineTo(u+f,g+m-C),n.quadraticCurveTo(u+f,g+m,u+f-C,g+m),c==="bottom"&&this.drawCaret(t,n,r,i),n.lineTo(u+E,g+m),n.quadraticCurveTo(u,g+m,u,g+m-E),c==="center"&&a==="left"&&this.drawCaret(t,n,r,i),n.lineTo(u,g+y),n.quadraticCurveTo(u,g,u+y,g),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,i=r&&r.x,a=r&&r.y;if(i||a){const c=ga[t.position].call(this,this._active,this._eventPosition);if(!c)return;const u=this._size=Dp(this,t),g=Object.assign({},c,this._size),f=kp(n,t,g),m=Sp(t,g,f,n);(i._to!==m.x||a._to!==m.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const c=Nr(n.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&u&&(t.save(),t.globalAlpha=r,this.drawBackground(a,t,i,n),Zy(t,n.textDirection),a.y+=c.top,this.drawTitle(a,t,n),this.drawBody(a,t,n),this.drawFooter(a,t,n),Jy(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,i=t.map(({datasetIndex:u,index:g})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[g],index:g}}),a=!b0(r,i),c=this._positionChanged(i,n);(a||c)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,a=this._active||[],c=this._getActiveElements(t,a,n,r),u=this._positionChanged(c,t),g=n||!b0(c,a)||u;return g&&(this._active=c,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),g}_getActiveElements(t,n,r,i){const a=this.options;if(t.type==="mouseout")return[];if(!i)return n.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,a.mode,a,r);return a.reverse&&c.reverse(),c}_positionChanged(t,n){const{caretX:r,caretY:i,options:a}=this,c=ga[a.position].call(this,t,n);return c!==!1&&(r!==c.x||i!==c.y)}}var Bb={id:"tooltip",_element:Ip,positioners:ga,afterInit(e,t,n){n&&(e.tooltip=new Ip({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Ab},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const JR=(e,t,n,r)=>(typeof t=="string"?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function eO(e,t,n,r){const i=e.indexOf(t);if(i===-1)return JR(e,t,n,r);const a=e.lastIndexOf(t);return i!==a?n:i}const tO=(e,t)=>e===null?null:Vn(Math.round(e),0,t);function Mp(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class _b extends zi{static id="category";static defaults={ticks:{callback:Mp}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:a}of n)r[i]===a&&r.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Lt(t))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===t?n:eO(r,t,Ct(n,t),this._addedLabels),tO(n,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const t=this.min,n=this.max,r=this.options.offset,i=[];let a=this.getLabels();a=t===0&&n===a.length-1?a:a.slice(t,n+1),this._valueRange=Math.max(a.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let c=t;c<=n;c++)i.push({value:c});return i}getLabelForValue(t){return Mp.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function nO(e,t){const n=[],{bounds:i,step:a,min:c,max:u,precision:g,count:f,maxTicks:m,maxDigits:y,includeBounds:w}=e,E=a||1,C=m-1,{min:D,max:_}=t,M=!Lt(c),$=!Lt(u),I=!Lt(f),S=(_-D)/(y+1);let T=Pg((_-D)/C/E)*E,j,L,z,F;if(T<1e-14&&!M&&!$)return[{value:D},{value:_}];F=Math.ceil(_/T)-Math.floor(D/T),F>C&&(T=Pg(F*T/C/E)*E),Lt(g)||(j=Math.pow(10,g),T=Math.ceil(T*j)/j),i==="ticks"?(L=Math.floor(D/T)*T,z=Math.ceil(_/T)*T):(L=D,z=_),M&&$&&a&&EI((u-c)/a,T/1e3)?(F=Math.round(Math.min((u-c)/T,m)),T=(u-c)/F,L=c,z=u):I?(L=M?c:L,z=$?u:z,F=f-1,T=(z-L)/F):(F=(z-L)/T,Aa(F,Math.round(F),T/1e3)?F=Math.round(F):F=Math.ceil(F));const Q=Math.max(Rg(T),Rg(L));j=Math.pow(10,Lt(g)?Q:g),L=Math.round(L*j)/j,z=Math.round(z*j)/j;let le=0;for(M&&(w&&L!==c?(n.push({value:c}),L<c&&le++,Aa(Math.round((L+le*T)*j)/j,c,Pp(c,S,e))&&le++):L<c&&le++);le<F;++le){const Y=Math.round((L+le*T)*j)/j;if($&&Y>u)break;n.push({value:Y})}return $&&w&&z!==u?n.length&&Aa(n[n.length-1].value,u,Pp(u,S,e))?n[n.length-1].value=u:n.push({value:u}):(!$||z===u)&&n.push({value:z}),n}function Pp(e,t,{horizontal:n,minRotation:r}){const i=Ss(r),a=(n?Math.sin(i):Math.cos(i))||.001,c=.75*t*(""+e).length;return Math.min(t/a,c)}class rO extends zi{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Lt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:a}=this;const c=g=>i=n?i:g,u=g=>a=r?a:g;if(t){const g=fs(i),f=fs(a);g<0&&f<0?u(0):g>0&&f>0&&c(0)}if(i===a){let g=a===0?1:Math.abs(a*.05);u(a+g),t||c(i-g)}this.min=i,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=t,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},a=this._range||this,c=nO(i,a);return t.bounds==="ticks"&&wI(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const i=(r-n)/Math.max(t.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(t){return Ox(t,this.chart.options.locale,this.options.ticks.format)}}class Db extends rO{static id="linear";static defaults={ticks:{callback:Vy.formatters.numeric}};determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Or(t)?t:0,this.max=Or(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,r=Ss(this.options.ticks.minRotation),i=(t?Math.sin(r):Math.cos(r))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,a.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const K0={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ir=Object.keys(K0);function Rp(e,t){return e-t}function Op(e,t){if(Lt(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:a}=e._parseOpts;let c=t;return typeof r=="function"&&(c=r(c)),Or(c)||(c=typeof r=="string"?n.parse(c,r):n.parse(c)),c===null?null:(i&&(c=i==="week"&&(Ua(a)||a===!0)?n.startOf(c,"isoWeek",a):n.startOf(c,i)),+c)}function Np(e,t,n,r){const i=ir.length;for(let a=ir.indexOf(e);a<i-1;++a){const c=K0[ir[a]],u=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((n-t)/(u*c.size))<=r)return ir[a]}return ir[i-1]}function sO(e,t,n,r,i){for(let a=ir.length-1;a>=ir.indexOf(n);a--){const c=ir[a];if(K0[c].common&&e._adapter.diff(i,r,c)>=t-1)return c}return ir[n?ir.indexOf(n):0]}function oO(e){for(let t=ir.indexOf(e)+1,n=ir.length;t<n;++t)if(K0[ir[t]].common)return ir[t]}function Lp(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:i}=Mx(n,t),a=n[r]>=t?n[r]:n[i];e[a]=!0}}function iO(e,t,n,r){const i=e._adapter,a=+i.startOf(t[0].value,r),c=t[t.length-1].value;let u,g;for(u=a;u<=c;u=+i.add(u,1,r))g=n[u],g>=0&&(t[g].major=!0);return t}function $p(e,t,n){const r=[],i={},a=t.length;let c,u;for(c=0;c<a;++c)u=t[c],i[u]=c,r.push({value:u,major:!1});return a===0||!n?r:iO(e,r,i,n)}class jp extends zi{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),i=this._adapter=new dP._date(t.adapters.date);i.init(n),Ca(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:Op(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:i,max:a,minDefined:c,maxDefined:u}=this.getUserBounds();function g(f){!c&&!isNaN(f.min)&&(i=Math.min(i,f.min)),!u&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!c||!u)&&(g(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&g(this.getMinMax(!1))),i=Or(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),a=Or(a)&&!isNaN(a)?a:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const a=this.min,c=this.max,u=DI(i,a,c);return this._unit=n.unit||(r.autoSkip?Np(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):sO(this,u.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:oO(this._unit),this.initOffsets(i),t.reverse&&u.reverse(),$p(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,i,a;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?n=1-i:n=(this.getDecimalForValue(t[1])-i)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?r=a:r=(a-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;n=Vn(n,0,c),r=Vn(r,0,c),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,i=this.options,a=i.time,c=a.unit||Np(a.minUnit,n,r,this._getLabelCapacity(n)),u=Ct(i.ticks.stepSize,1),g=c==="week"?a.isoWeekday:!1,f=Ua(g)||g===!0,m={};let y=n,w,E;if(f&&(y=+t.startOf(y,"isoWeek",g)),y=+t.startOf(y,f?"day":c),t.diff(r,n,c)>1e5*u)throw new Error(n+" and "+r+" are too far apart with stepSize of "+u+" "+c);const C=i.ticks.source==="data"&&this.getDataTimestamps();for(w=y,E=0;w<r;w=+t.add(w,u,c),E++)Lp(m,w,C);return(w===r||i.bounds==="ticks"||E===1)&&Lp(m,w,C),Object.keys(m).sort(Rp).map(D=>+D)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const i=this.options.time.displayFormats,a=this._unit,c=n||i[a];return this._adapter.format(t,c)}_tickFormatFunction(t,n,r,i){const a=this.options,c=a.ticks.callback;if(c)return en(c,[t,n,r],this);const u=a.time.displayFormats,g=this._unit,f=this._majorUnit,m=g&&u[g],y=f&&u[f],w=r[n],E=f&&y&&w&&w.major;return this._adapter.format(t,i||(E?y:m))}generateTickLabels(t){let n,r,i;for(n=0,r=t.length;n<r;++n)i=t[n],i.label=this._tickFormatFunction(i.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,i=Ss(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(i),c=Math.sin(i),u=this._resolveTickFontOptions(0).size;return{w:r*a+u*c,h:r*c+u*a}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,a=this._tickFormatFunction(t,0,$p(this,[t],this._majorUnit),i),c=this._getLabelSize(a),u=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)t=t.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)t.push(Op(this,i[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Uy(t.sort(Rp))}}function Nl(e,t,n){let r=0,i=e.length-1,a,c,u,g;n?(t>=e[r].pos&&t<=e[i].pos&&({lo:r,hi:i}=Ro(e,"pos",t)),{pos:a,time:u}=e[r],{pos:c,time:g}=e[i]):(t>=e[r].time&&t<=e[i].time&&({lo:r,hi:i}=Ro(e,"time",t)),{time:a,pos:u}=e[r],{time:c,pos:g}=e[i]);const f=c-a;return f?u+(g-u)*(t-a)/f:u}class Tse extends jp{static id="timeseries";static defaults=jp.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Nl(n,this.min),this._tableRange=Nl(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,i=[],a=[];let c,u,g,f,m;for(c=0,u=t.length;c<u;++c)f=t[c],f>=n&&f<=r&&i.push(f);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(c=0,u=i.length;c<u;++c)m=i[c+1],g=i[c-1],f=i[c],Math.round((m+g)/2)!==f&&a.push({time:f,pos:c/(u-1)});return a}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,a)=>i-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(Nl(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return Nl(this._table,r*this._tableRange+this._minPos,!0)}}const kb={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},aO={ariaLabel:{type:String},ariaDescribedby:{type:String}},lO={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...kb,...aO},cO=K2[0]==="2"?(e,t)=>Object.assign(e,{attrs:t}):(e,t)=>Object.assign(e,t);function hi(e){return Qa(e)?Dt(e):e}function dO(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;return Qa(t)?new Proxy(e,{}):e}function uO(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function Sb(e,t){e.labels=t}function Fb(e,t,n){const r=[];e.datasets=t.map(i=>{const a=e.datasets.find(c=>c[n]===i[n]);return!a||!i.data||r.includes(a)?{...i}:(r.push(a),Object.assign(a,i),a)})}function xO(e,t){const n={labels:[],datasets:[]};return Sb(n,e.labels),Fb(n,e.datasets,t),n}const fO=Lr({props:lO,setup(e,t){let{expose:n,slots:r}=t;const i=ve(null),a=nx(null);n({chart:a});const c=()=>{if(!i.value)return;const{type:f,data:m,options:y,plugins:w,datasetIdKey:E}=e,C=xO(m,E),D=dO(C,m);a.value=new rl(i.value,{type:f,data:D,options:{...y},plugins:w})},u=()=>{const f=Dt(a.value);f&&(e.destroyDelay>0?setTimeout(()=>{f.destroy(),a.value=null},e.destroyDelay):(f.destroy(),a.value=null))},g=f=>{f.update(e.updateMode)};return Gn(c),Vo(u),Pn([()=>e.options,()=>e.data],(f,m)=>{let[y,w]=f,[E,C]=m;const D=Dt(a.value);if(!D)return;let _=!1;if(y){const M=hi(y),$=hi(E);M&&M!==$&&(uO(D,M),_=!0)}if(w){const M=hi(w.labels),$=hi(C.labels),I=hi(w.datasets),S=hi(C.datasets);M!==$&&(Sb(D.config.data,M),_=!0),I&&I!==S&&(Fb(D.config.data,I,e.datasetIdKey),_=!0)}_&&yr(()=>{g(D)})},{deep:!0}),()=>ar("canvas",{role:"img","aria-label":e.ariaLabel,"aria-describedby":e.ariaDescribedby,ref:i},[ar("p",{},[r.default?r.default():""])])}});function Y0(e,t){return rl.register(t),Lr({props:kb,setup(n,r){let{expose:i}=r;const a=nx(null),c=u=>{a.value=u?.chart};return i({chart:a}),()=>ar(fO,cO({ref:c},{type:e,...n}))}})}const Vu=Y0("bar",iP),hO=Y0("doughnut",sb),Xl=Y0("line",lP),gO=Y0("pie",cP),pO={class:"space-y-6"},mO={class:"flex justify-between items-center"},yO={class:"text-sm text-gray-500"},bO={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},vO={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},EO={class:"flex items-center justify-between mb-4"},wO={class:"text-xs font-medium text-green-600 bg-green-50 px-2 py-1 rounded-full"},CO={class:"text-3xl font-bold text-gray-900"},AO={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},BO={class:"text-3xl font-bold text-gray-900"},_O={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},DO={class:"text-3xl font-bold text-gray-900"},kO={class:"bg-white rounded-xl shadow-sm p-6 border border-gray-100"},SO={class:"text-3xl font-bold text-gray-900"},FO={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},TO={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-100"},IO={class:"h-64"},MO={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-100"},PO={class:"h-64 flex justify-center"},RO={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},OO={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-100"},NO={class:"h-64"},LO={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-100"},$O={class:"space-y-4"},jO={class:"pt-4 border-t border-gray-100"},UO={class:"flex gap-3"},HO={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},zO={class:"bg-white p-6 rounded-xl shadow-sm border border-gray-100"},VO={class:"flex items-center justify-between mb-4"},qO={class:"px-2 py-1 bg-green-100 text-green-800 text-xs font-semibold rounded-full animate-pulse"},WO={key:0,class:"space-y-4 max-h-96 overflow-y-auto"},GO={class:"relative"},QO={class:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold"},KO={class:"text-sm font-medium text-gray-900"},YO={class:"text-xs text-gray-500"},XO={key:1,class:"text-center py-8 text-gray-500 text-sm"},ZO={class:"lg:col-span-2 bg-white p-6 rounded-xl shadow-sm border border-gray-100"},JO={class:"flex items-center justify-between mb-4"},eN={class:"space-y-4"},tN={class:"flex-shrink-0 mt-1"},nN={key:0,class:"bg-blue-100 text-blue-600 p-1.5 rounded-lg text-xs"},rN={key:1,class:"bg-purple-100 text-purple-600 p-1.5 rounded-lg text-xs"},sN={key:2,class:"bg-orange-100 text-orange-600 p-1.5 rounded-lg text-xs"},oN={key:3,class:"bg-gray-200 text-gray-700 p-1.5 rounded-lg text-xs"},iN={key:4,class:"bg-gray-100 text-gray-600 p-1.5 rounded-lg text-xs"},aN={class:"flex-1 min-w-0"},lN={class:"text-sm font-medium text-gray-900"},cN={class:"font-bold"},dN={class:"text-blue-600"},uN={class:"text-xs text-gray-500 mt-0.5 truncate"},xN={class:"text-xs text-gray-400 whitespace-nowrap"},fN={key:0,class:"text-center py-8 text-gray-500"},hN={__name:"ITDashboard",props:{stats:Object,activeUsers:Number,onlineUsers:Array,moduleStats:Object,hourlyStats:Array,topUsers:Array,recentActivities:Array},setup(e){rl.register(_b,Db,yb,mb,vb,hb,qR,Bb,wb);const t=e,n=We(()=>({labels:Array.from({length:24},(g,f)=>`${f}:00`),datasets:[{label:"Activities",data:t.hourlyStats,borderColor:"#3B82F6",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4,fill:!0}]})),r=We(()=>({labels:Object.keys(t.moduleStats),datasets:[{data:Object.values(t.moduleStats),backgroundColor:["#3B82F6","#F59E0B","#10B981","#EF4444","#8B5CF6","#EC4899","#6B7280"]}]})),i=We(()=>({labels:t.topUsers.map(g=>g.name),datasets:[{label:"Total Actions",data:t.topUsers.map(g=>g.count),backgroundColor:"#8B5CF6",borderRadius:6}]})),a={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,grid:{display:!0,borderDash:[2,2]}},x:{grid:{display:!1}}}},c={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right"}}},u={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0},x:{grid:{display:!1}}}};return(g,f)=>(U(),Et(Qn,{title:"IT Admin Dashboard"},{default:bt(()=>[o("div",pO,[o("div",mO,[f[0]||(f[0]=o("div",null,[o("h2",{class:"text-2xl font-bold text-gray-900"},"IT Admin Dashboard"),o("p",{class:"text-sm text-gray-600"},"System Monitoring & Statistics")],-1)),o("div",yO," Last updated: "+P(new Date().toLocaleTimeString()),1)]),o("div",bO,[o("div",vO,[o("div",EO,[f[1]||(f[1]=o("div",{class:"bg-blue-100 p-3 rounded-lg"},[o("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})])],-1)),o("span",wO,"+"+P(e.stats.total_today)+" Today",1)]),o("h3",CO,P(e.stats.total_today),1),f[2]||(f[2]=o("p",{class:"text-sm text-gray-500 mt-1"},"Total Activities Today",-1))]),o("div",AO,[f[3]||(f[3]=o("div",{class:"flex items-center justify-between mb-4"},[o("div",{class:"bg-purple-100 p-3 rounded-lg"},[o("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})])]),o("span",{class:"text-xs font-medium text-purple-600 bg-purple-50 px-2 py-1 rounded-full"},"Active Now")],-1)),o("h3",BO,P(e.activeUsers),1),f[4]||(f[4]=o("p",{class:"text-sm text-gray-500 mt-1"},"Unique Users Today",-1))]),o("div",_O,[f[5]||(f[5]=o("div",{class:"flex items-center justify-between mb-4"},[o("div",{class:"bg-orange-100 p-3 rounded-lg"},[o("svg",{class:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])]),o("span",{class:"text-xs font-medium text-gray-600 bg-gray-50 px-2 py-1 rounded-full"},"Weekly")],-1)),o("h3",DO,P(e.stats.total_week),1),f[6]||(f[6]=o("p",{class:"text-sm text-gray-500 mt-1"},"Activities This Week",-1))]),o("div",kO,[f[7]||(f[7]=o("div",{class:"flex items-center justify-between mb-4"},[o("div",{class:"bg-green-100 p-3 rounded-lg"},[o("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])]),o("span",{class:"text-xs font-medium text-gray-600 bg-gray-50 px-2 py-1 rounded-full"},"Monthly")],-1)),o("h3",SO,P(e.stats.total_month),1),f[8]||(f[8]=o("p",{class:"text-sm text-gray-500 mt-1"},"Activities This Month",-1))])]),o("div",FO,[o("div",TO,[f[9]||(f[9]=o("h3",{class:"text-lg font-bold text-gray-900 mb-4"},"Hourly Activity (Last 24h)",-1)),o("div",IO,[kt(Ve(Xl),{data:n.value,options:a},null,8,["data"])])]),o("div",MO,[f[10]||(f[10]=o("h3",{class:"text-lg font-bold text-gray-900 mb-4"},"System Usage by Module",-1)),o("div",PO,[kt(Ve(hO),{data:r.value,options:c},null,8,["data"])])])]),o("div",RO,[o("div",OO,[f[11]||(f[11]=o("h3",{class:"text-lg font-bold text-gray-900 mb-4"},"Top 5 Most Active Users",-1)),o("div",NO,[kt(Ve(Vu),{data:i.value,options:u},null,8,["data"])])]),o("div",LO,[f[18]||(f[18]=o("h3",{class:"text-lg font-bold text-gray-900 mb-4"},"System Health & Actions",-1)),o("div",$O,[f[16]||(f[16]=o("div",{class:"flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-100"},[o("div",{class:"flex items-center gap-3"},[o("div",{class:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),o("span",{class:"font-medium text-green-900"},"Database Connection")]),o("span",{class:"text-sm text-green-700"},"Healthy")],-1)),f[17]||(f[17]=o("div",{class:"flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-100"},[o("div",{class:"flex items-center gap-3"},[o("div",{class:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),o("span",{class:"font-medium text-green-900"},"Queue Worker")]),o("span",{class:"text-sm text-green-700"},"Running")],-1)),o("div",jO,[f[15]||(f[15]=o("h4",{class:"text-sm font-semibold text-gray-700 mb-3"},"Quick Links",-1)),o("div",UO,[kt(Ve(un),{href:"/activity-log",class:"text-sm text-blue-600 hover:text-blue-800 hover:underline"},{default:bt(()=>[...f[12]||(f[12]=[qe("View Full Logs",-1)])]),_:1}),f[14]||(f[14]=o("span",{class:"text-gray-300"},"|",-1)),kt(Ve(un),{href:"/master-data",class:"text-sm text-blue-600 hover:text-blue-800 hover:underline"},{default:bt(()=>[...f[13]||(f[13]=[qe("Manage Master Data",-1)])]),_:1})])])])])]),o("div",HO,[o("div",zO,[o("div",VO,[f[19]||(f[19]=o("h3",{class:"text-lg font-bold text-gray-900"},"Online Users",-1)),o("span",qO,P(e.onlineUsers.length)+" Active ",1)]),e.onlineUsers.length>0?(U(),G("div",WO,[(U(!0),G($e,null,nt(e.onlineUsers,m=>(U(),G("div",{key:m.id,class:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded-lg transition-colors"},[o("div",GO,[o("div",QO,P(m.name.charAt(0).toUpperCase()),1),f[20]||(f[20]=o("div",{class:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-white rounded-full"},null,-1))]),o("div",null,[o("p",KO,P(m.name),1),o("p",YO,P(m.email),1)])]))),128))])):(U(),G("div",XO," No users currently online. "))]),o("div",ZO,[o("div",JO,[f[22]||(f[22]=o("h3",{class:"text-lg font-bold text-gray-900"},"Recent Activity Feed",-1)),kt(Ve(un),{href:"/activity-log",class:"text-sm text-blue-600 hover:text-blue-800 hover:underline"},{default:bt(()=>[...f[21]||(f[21]=[qe("View All",-1)])]),_:1})]),o("div",eN,[(U(!0),G($e,null,nt(e.recentActivities,m=>(U(),G("div",{key:m.id+m.module,class:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg border border-gray-100"},[o("div",tN,[m.module==="Incoming"?(U(),G("span",nN,"IN")):m.module==="QC"?(U(),G("span",rN,"QC")):m.module==="Stock Movement"?(U(),G("span",sN,"MV")):m.module==="Master Data"?(U(),G("span",oN,"MD")):(U(),G("span",iN,P(m.module.substring(0,2).toUpperCase()),1))]),o("div",aN,[o("p",lN,[o("span",cN,P(m.user),1),f[23]||(f[23]=o("span",{class:"font-normal text-gray-600"}," performed ",-1)),o("span",dN,P(m.action),1)]),o("p",uN,P(m.description),1)]),o("div",xN,P(m.created_at),1)]))),128)),e.recentActivities.length===0?(U(),G("div",fN," No recent activities found. ")):pe("",!0)])])])])]),_:1}))}},gN=Object.freeze(Object.defineProperty({__proto__:null,default:hN},Symbol.toStringTag,{value:"Module"})),pN={class:"min-h-screen transition-colors duration-300"},mN={class:"min-h-screen bg-gray-50 p-6 relative"},yN={key:0,class:"fixed inset-0 bg-white/90 backdrop-blur-sm z-50 flex flex-col items-center justify-center"},bN={class:"bg-white p-8 rounded-xl shadow-2xl flex flex-col items-center border border-gray-100"},vN={class:"text-xl font-bold text-gray-800"},EN={class:"text-gray-500 mt-2"},wN={key:1,class:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4"},CN={class:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[80vh] flex flex-col"},AN={class:"p-6 overflow-y-auto"},BN={class:"space-y-4"},_N={class:"flex items-start gap-3"},DN={class:"bg-red-200 text-red-800 text-xs font-bold px-2 py-1 rounded"},kN={class:"flex-1"},SN={class:"text-sm font-medium text-red-900"},FN={class:"mt-2"},TN={class:"mt-2 text-xs bg-white p-2 rounded border border-red-100 overflow-x-auto"},IN={class:"mb-6"},MN={class:"flex justify-between items-center"},PN={class:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6"},RN={class:"border-b border-gray-200"},ON={class:"-mb-px flex space-x-8 px-6"},NN=["onClick"],LN={class:"p-6"},$N={class:"flex flex-wrap gap-3 mb-6"},jN={class:"flex flex-wrap gap-4 mb-6"},UN={class:"flex-1 min-w-64"},HN=["placeholder"],zN={class:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-200"},VN={class:"overflow-x-auto"},qN={class:"min-w-full divide-y divide-gray-200"},WN={class:"bg-white divide-y divide-gray-200"},GN={class:"px-6 py-4 whitespace-nowrap"},QN={class:"text-sm font-mono text-gray-900"},KN={class:"px-6 py-4"},YN={class:"text-sm text-gray-900"},XN={class:"px-6 py-4 whitespace-nowrap"},ZN={class:"text-sm text-gray-900"},JN={class:"px-6 py-4 whitespace-nowrap"},eL={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800"},tL={class:"px-6 py-4 whitespace-nowrap"},nL={class:"px-6 py-4 whitespace-nowrap"},rL={class:"px-6 py-4 whitespace-nowrap"},sL={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},oL=["onClick"],iL=["onClick"],aL={class:"p-4 border-t"},lL={class:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-200"},cL={class:"overflow-x-auto"},dL={class:"min-w-full divide-y divide-gray-200"},uL={class:"bg-white divide-y divide-gray-200"},xL={class:"px-6 py-4 whitespace-nowrap"},fL={class:"text-sm font-mono text-gray-900"},hL={class:"px-6 py-4"},gL={class:"text-sm font-medium text-gray-900"},pL={class:"px-6 py-4"},mL={class:"text-sm text-gray-900"},yL={class:"px-6 py-4 whitespace-nowrap"},bL={class:"text-sm text-gray-900"},vL={class:"px-6 py-4 whitespace-nowrap"},EL={class:"text-sm text-gray-900"},wL={class:"px-6 py-4 whitespace-nowrap"},CL={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},AL=["onClick"],BL=["onClick"],_L={class:"p-4 border-t"},DL={class:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-200"},kL={class:"overflow-x-auto"},SL={class:"min-w-full divide-y divide-gray-200"},FL={class:"bg-white divide-y divide-gray-200"},TL={class:"px-6 py-4 whitespace-nowrap"},IL={class:"text-sm font-mono text-gray-900"},ML={class:"px-6 py-4 whitespace-nowrap"},PL={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"},RL={class:"px-6 py-4 whitespace-nowrap"},OL={class:"px-6 py-4 whitespace-nowrap"},NL={class:"px-6 py-4 whitespace-nowrap"},LL={key:0},$L=["onClick"],jL={key:1,class:"text-sm text-gray-400"},UL={class:"px-6 py-4 whitespace-nowrap"},HL=["onClick"],zL={key:1,class:"text-gray-400 text-xs"},VL={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},qL=["onClick"],WL=["onClick"],GL={class:"p-4 border-t"},QL={class:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-200"},KL={class:"overflow-x-auto"},YL={class:"min-w-full divide-y divide-gray-200"},XL={class:"bg-white divide-y divide-gray-200"},ZL={class:"px-6 py-4 whitespace-nowrap"},JL={class:"text-sm font-medium text-gray-900"},e$={class:"px-6 py-4 whitespace-nowrap"},t$={class:"text-sm text-gray-900"},n$={class:"px-6 py-4 whitespace-nowrap"},r$={class:"px-6 py-4 whitespace-nowrap"},s$={class:"text-sm text-gray-900"},o$={class:"px-6 py-4 whitespace-nowrap"},i$={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},a$=["onClick"],l$=["onClick"],c$={class:"p-4 border-t"},d$={key:2,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},u$={class:"bg-white rounded-lg p-6 w-full max-w-lg border border-gray-200 shadow-2xl"},x$={class:"flex justify-between items-center mb-6"},f$={class:"text-xl font-semibold text-gray-900"},h$={class:"flex justify-center mb-6 bg-gray-50 p-6 rounded-lg"},g$=["src"],p$={class:"bg-blue-50 rounded-lg p-4 mb-6 space-y-2"},m$={class:"flex justify-between"},y$={class:"text-sm font-bold text-gray-900"},b$={class:"flex justify-between"},v$={class:"text-sm text-gray-900"},E$={class:"flex justify-between"},w$={class:"text-sm text-gray-900"},C$={class:"flex justify-between"},A$={class:"text-sm text-gray-900"},B$={class:"flex justify-between"},_$={class:"text-sm text-gray-900"},D$={key:3,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},k$={class:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto border border-gray-200"},S$={class:"flex justify-between items-center mb-6"},F$={class:"text-xl font-semibold text-gray-900"},T$={key:0,class:"space-y-4"},I$={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},M$={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},P$={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},R$={class:"flex gap-6"},O$={class:"flex items-center"},N$={class:"flex items-center"},L$={key:1,class:"space-y-4"},$$={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},j$={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},U$={key:2,class:"space-y-4"},H$={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},z$={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},V$={key:3,class:"space-y-4"},q$={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},W$={key:0},G$={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Q$=["value"],K$={class:"flex justify-end gap-3 mt-6 pt-4 border-t border-gray-200"},Y$={class:"flex items-center gap-2"},X$={key:0,class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},Z$={key:1,class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},J$={key:5,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},ej={class:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto border border-gray-200 shadow-2xl"},tj={class:"flex justify-between items-center mb-6"},nj={class:"text-xl font-semibold text-gray-900"},rj={key:0,class:"text-center py-8 text-gray-500"},sj={key:1,class:"text-center py-8 text-gray-500"},oj={key:2,class:"overflow-x-auto"},ij={class:"min-w-full divide-y divide-gray-200"},aj={class:"bg-white divide-y divide-gray-200"},lj={class:"px-4 py-2 whitespace-nowrap text-sm font-medium text-gray-900"},cj={class:"px-4 py-2 text-sm text-gray-900"},dj={class:"px-4 py-2 whitespace-nowrap text-sm text-gray-900"},uj={class:"px-4 py-2 whitespace-nowrap text-sm text-gray-900"},xj={class:"px-4 py-2 whitespace-nowrap text-sm text-gray-900"},fj={class:"px-4 py-2 whitespace-nowrap text-sm text-gray-900"},hj={class:"px-4 py-2 whitespace-nowrap text-sm"},gj={class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800"},pj=Lr({__name:"MasterData",props:{skuData:{},supplierData:{},binData:{},userData:{},supplierList:{},zoneList:{},roleList:{},activeTab:{},search:{},status:{}},setup(e){const t=e,n=co();ve(!1);const r=ve(t.activeTab||"sku"),i=ve(t.search||""),a=ve(t.status||""),c=ve(!1),u=ve(null),g=ve(!1),f=ve(null),m=ve(!1),y=ve(!1),w=ve(null),E=ve({}),C=ve(null),D=ve(null),_=[{id:"sku",label:"SKU (Material Master)"},{id:"supplier",label:"Supplier"},{id:"bin",label:"Bin Location"},{id:"user",label:"User & Role"}],M=ee=>{if(!ee.links||ee.links.length<=3)return ar("div");const J=ee.links.map((se,xe)=>{const ge={"mr-1 mb-1 px-4 py-3 text-sm leading-4 border rounded hover:bg-white focus:border-blue-500 focus:text-blue-500":!0,"bg-blue-500 text-white":se.active,"text-gray-400":se.url===null};return se.url===null?ar("div",{key:xe,class:ge,innerHTML:se.label}):ar(un,{key:xe,class:ge,href:se.url,innerHTML:se.label,preserveState:!0,preserveScroll:!0})});return ar("div",{class:"flex flex-wrap -mb-1"},J)},$=We(()=>Y.value.data.filter(ee=>{const J=!i.value||ee.code.toLowerCase().includes(i.value.toLowerCase())||ee.name.toLowerCase().includes(i.value.toLowerCase()),se=!a.value||ee.status===a.value;return J&&se})),I=We(()=>ce.value.data.filter(ee=>{const J=!i.value||ee.code.toLowerCase().includes(i.value.toLowerCase())||ee.name.toLowerCase().includes(i.value.toLowerCase()),se=!a.value||ee.status===a.value;return J&&se})),S=We(()=>me.value.data.filter(ee=>{const J=!i.value||ee.code.toLowerCase().includes(i.value.toLowerCase())||ee.zone.toLowerCase().includes(i.value.toLowerCase()),se=!a.value||ee.status===a.value;return J&&se})),T=We(()=>te.value.data.filter(ee=>{const J=!i.value||ee.jabatan.toLowerCase().includes(i.value.toLowerCase())||ee.fullName.toLowerCase().includes(i.value.toLowerCase()),se=!a.value||ee.status===a.value;return J&&se})),j=async(ee,J)=>{f.value=null,g.value=!0;try{const se=route("bin.stocks.details",{binId:ee}),xe=await fetch(se);if(!xe.ok){ue("error",`Gagal memuat detail Bin ${J}`),f.value={bin_code:J,details:[]};return}const ge=await xe.json();f.value=ge}catch(se){console.error("Fetch Bin Details error:",se),ue("error","Error saat memuat detail material."),f.value={bin_code:J,details:[]}}},L=()=>{g.value=!1,f.value=null},z=()=>_.find(ee=>ee.id===r.value)?.label||"",F=ee=>ee==="Active"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",Q=ee=>({Normal:"bg-blue-100 text-blue-800",Quarantine:"bg-yellow-100 text-yellow-800",Reject:"bg-red-100 text-red-800",Staging:"bg-purple-100 text-purple-800",Production:"bg-green-100 text-green-800"})[ee]||"bg-gray-100 text-gray-800",le=ee=>({Admin:"bg-purple-100 text-purple-800",QC:"bg-blue-100 text-blue-800",Receiving:"bg-green-100 text-green-800",Warehouse:"bg-yellow-100 text-yellow-800",Production:"bg-orange-100 text-orange-800",Supervisor:"bg-red-100 text-red-800"})[ee]||"bg-gray-100 text-gray-800",Y=We(()=>t.skuData),ce=We(()=>t.supplierData),me=We(()=>t.binData),te=We(()=>t.userData),ne=ve(t.zoneList||[]),de=ve(t.roleList||[]),be=()=>{const ee={sku:{code:"",name:"",uom:"",category:"",qcRequired:!1,expiry:!1,supplierDefault:"",abcClass:"",status:"Active"},supplier:{code:"",name:"",address:"",contactPerson:"",phone:"",status:"Active"},bin:{code:"",zone:"",capacity:0,type:"",status:"Active"},user:{jabatan:"",password:"",fullName:"",role:"",department:"",status:"Active"}};E.value={...ee[r.value]}},De=()=>{m.value=!1,y.value=!1,w.value=null,be()},Ie=ee=>{if(w.value=ee,r.value==="bin"){const J=ne.value.find(se=>se.name===ee.zone);E.value={...ee,zone:J?.id||""}}else E.value={...ee};y.value=!0},fe=async()=>{try{if(r.value!=="user"&&!E.value.code){ue("error","Kode wajib diisi");return}if(r.value==="user"){if(!E.value.fullName){ue("error","Nama lengkap wajib diisi");return}if(!y.value&&!E.value.password){ue("error","Password wajib diisi");return}if(!E.value.role){ue("error","Role wajib dipilih");return}if(!E.value.department){ue("error","Department wajib dipilih");return}}if(r.value==="bin"){if(!E.value.zone){ue("error","Zone wajib dipilih");return}if(!E.value.type){ue("error","Type wajib dipilih");return}}const ee=y.value?`/master-data/${r.value}/${w.value.id}`:`/master-data/${r.value}`,J=y.value?"PUT":"POST";console.log("Submit data:",{endpoint:ee,method:J,data:E.value});const se=await fetch(ee,{method:J,headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||"",Accept:"application/json"},body:JSON.stringify(E.value)}),xe=await se.json();if(console.log("Response:",xe),!se.ok){ue("error",xe.message||"Terjadi kesalahan");return}ue("success",xe.message||"Data berhasil disimpan"),De(),setTimeout(()=>window.location.reload(),1500)}catch(ee){console.error("Save error:",ee),ue("error","Error: "+ee.message)}},Pe=async ee=>{try{const J=await fetch(`/master-data/bin/${ee}/qr-code/preview`,{method:"GET",headers:{Accept:"application/json"}}),se=await J.json();if(!J.ok){ue("error",se.message||"Gagal memuat QR Code");return}u.value=se.data,c.value=!0}catch(J){console.error("Preview error:",J),ue("error","Error saat memuat QR Code")}},Ge=async()=>{if(u.value)try{const ee=u.value.bin_code,J=binData.value.find(Xe=>Xe.code===ee);if(!J){ue("error","Bin tidak ditemukan");return}const se=await fetch(`/master-data/bin/${J.id}/qr-code/download`);if(!se.ok){ue("error","Gagal mengunduh QR Code");return}const xe=await se.blob(),ge=window.URL.createObjectURL(xe),Me=document.createElement("a");Me.href=ge,Me.download=`QR_${ee}.png`,document.body.appendChild(Me),Me.click(),window.URL.revokeObjectURL(ge),document.body.removeChild(Me),ue("success","QR Code berhasil diunduh")}catch(ee){console.error("Download error:",ee),ue("error","Error saat mengunduh QR Code")}},Ne=()=>{if(!u.value)return;const ee=window.open("","_blank");if(!ee){ue("error","Gagal membuka window print. Mohon izinkan popup.");return}const J=`
    <!DOCTYPE html>
    <html>
    <head>
      <title>Print QR Code - ${u.value.bin_code}</title>
      <style>
        body {
          margin: 0;
          padding: 20px;
          font-family: Arial, sans-serif;
          display: flex;
          justify-content: center;
          align-items: center;
          min-height: 100vh;
        }
        .print-container {
          text-align: center;
          max-width: 400px;
        }
        .qr-image {
          width: 300px;
          height: 300px;
          margin: 20px auto;
        }
        .info {
          margin: 10px 0;
          font-size: 16px;
          font-weight: bold;
        }
        @media print {
          body {
            padding: 0;
          }
        }
      </style>
    </head>
    <body>
      <div class="print-container">
        <img src="${u.value.image}" alt="QR Code" class="qr-image">
        <div class="info">Bin Name: ${u.value.bin_name}</div>
        <div class="info">Zone: ${u.value.zone_name}</div>
      </div>
      <script>
        window.onload = function() {
          window.print();
        }
      <\/script>
    </body>
    </html>
  `;ee.document.write(J),ee.document.close()},tt=async()=>{try{st.value=!0,Te.value="Preparing QR Codes...",re.value="Generating printable QR codes for all bins. This may take a moment.";const ee=await fetch("/master-data/bins",{method:"GET",headers:{Accept:"application/json"}});if(!ee.ok){ue("error","Gagal memuat bin locations");return}const J=await ee.json();if(!J||J.length===0){ue("error","Tidak ada bin location untuk di-print");return}const se=J.map(ft=>fetch(`/master-data/bin/${ft.id}/qr-code/preview`).then($t=>$t.ok?$t.json():(console.error(`HTTP error for bin ${ft.code}: ${$t.status}`),null)).then($t=>!$t||!$t.success?(console.error(`Invalid data for bin ${ft.code}`),null):$t.data).catch($t=>(console.error(`Error fetching QR for bin ${ft.code}:`,$t),null))),ge=(await Promise.all(se)).filter(ft=>ft!==null);if(ge.length===0){ue("error","Gagal memuat QR Codes");return}const Me=window.open("","_blank");if(!Me){ue("error","Gagal membuka window print. Mohon izinkan popup.");return}let Xe="";const Ze=6;for(let ft=0;ft<ge.length;ft+=Ze){const $t=ge.slice(ft,ft+Ze);Xe+=`
        <div class="page">
            ${$t.map(rt=>`
              <div class="qr-item">
                <img src="${rt.image}" alt="QR Code" class="qr-image">
                <div class="info-container">
                    <div class="info">${rt.bin_name}</div>
                    <div class="info zone">${rt.zone_name}</div>
                </div>
              </div>
            `).join("")}
        </div>
      `}const xt=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Print All QR Codes</title>
        <style>
          * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }
          
          body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
          }
          
          .page {
            width: 210mm;
            /* height: 297mm;  Removed fixed height to avoid overflow */
            padding: 5mm; /* Reduced padding */
            page-break-after: always;
            display: flex;
            flex-wrap: wrap;
            align-content: flex-start;
            gap: 5mm; /* Reduced gap */
          }
          
          .page:last-child {
            page-break-after: auto;
          }
          
          .qr-item {
            width: 70mm;
            height: 80mm;
            border: 1px dashed #ccc;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            text-align: center;
            overflow: hidden;
            padding-top: 2mm;
            page-break-inside: avoid; /* Prevent item splitting */
          }
          
          .qr-image {
            width: 60mm;
            height: 60mm;
            margin-bottom: 1mm;
          }
          
          .info-container {
             height: 18mm;
             display: flex;
             flex-direction: column;
             justify-content: center;
          }

          .info {
            font-size: 10px;
            font-weight: bold;
            line-height: 1.2;
            word-break: break-all;
          }
          
          .info.zone {
              font-size: 9px;
              color: #555;
          }
          
          @media print {
            body {
              margin: 0;
              padding: 0;
            }
            .page {
              margin: 0;
              padding: 5mm;
              height: auto; 
              min-height: 0; /* Removing min-height */
            }
          }
        </style>
      </head>
      <body>
        ${Xe}
        <script>
          window.onload = function() {
            setTimeout(() => {
              window.print();
            }, 500);
          }
        <\/script>
      </body>
      </html>
    `;Me.document.write(xt),Me.document.close()}catch(ee){console.error("Print All QR Codes error:",ee),ue("error","Error saat print QR Codes")}},Re=()=>{c.value=!1,u.value=null},Je=async ee=>{if(confirm("Apakah Anda yakin ingin menghapus data ini?"))try{const J=await fetch(`/master-data/${r.value}/${ee}`,{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||"",Accept:"application/json"}}),se=await J.json();if(!J.ok){ue("error",se.message||"Terjadi kesalahan");return}ue("success",se.message),setTimeout(()=>window.location.reload(),1e3)}catch(J){console.error("Delete error:",J),ue("error","Error: "+J.message)}},et=()=>{C.value?.click()},st=ve(!1),Te=ve(""),re=ve(""),X=ve(!1),B=ve([]);Pn(()=>n.props.flash,ee=>{ee?.import_errors&&(B.value=ee.import_errors,X.value=!0)},{deep:!0,immediate:!0});const k=()=>{X.value=!1,B.value=[]},R=ee=>{const J=ee.target.files?.[0];if(J){st.value=!0;const se=new FormData;se.append("file",J),gt.post("/master-data/import-stock",se,{forceFormData:!0,onSuccess:()=>{ue("success",`File ${J.name} berhasil diimport!`),setTimeout(()=>window.location.reload(),1e3)},onError:xe=>{console.error("Import error:",xe)},onFinish:()=>{st.value=!1,C.value&&(C.value.value="")}})}},N=()=>{const ee={sku:$.value,supplier:I.value,bin:S.value,user:T.value},J=V(ee[r.value]);K(J,`${r.value}_data.csv`),ue("success",`Data ${z()} berhasil diexport`)},V=ee=>{if(!ee.length)return"";const J=Object.keys(ee[0]).join(","),se=ee.map(xe=>Object.values(xe).join(","));return[J,...se].join(`
`)},K=(ee,J)=>{const se=new Blob([ee],{type:"text/csv;charset=utf-8;"}),xe=document.createElement("a");if(xe.download!==void 0){const ge=URL.createObjectURL(se);xe.setAttribute("href",ge),xe.setAttribute("download",J),xe.style.visibility="hidden",document.body.appendChild(xe),xe.click(),document.body.removeChild(xe)}},ue=(ee,J)=>{D.value={type:ee,text:J},setTimeout(()=>{D.value=null},3e3)},ie=ee=>{r.value=ee,W()},W=()=>{gt.get(route("master-data.index"),{search:i.value,status:a.value,activeTab:r.value},{preserveState:!0,preserveScroll:!0,only:["skuData","supplierData","binData","userData"],onSuccess:()=>{De()}})};return Pn(r,()=>{be()}),Gn(()=>{be()}),(ee,J)=>(U(),Et(Qn,{pageTitle:"Master Data",pageDescription:"Kelola data master sistem WMS"},{default:bt(()=>[o("div",pN,[o("div",mN,[st.value?(U(),G("div",yN,[o("div",bN,[J[29]||(J[29]=o("div",{class:"warehouse-loader mb-4"},[o("div",{class:"forklift"},[o("div",{class:"forks"})]),o("div",{class:"box"})],-1)),o("h3",vN,P(Te.value||"Processing..."),1),o("p",EN,P(re.value||"Please wait while we process your request."),1)])])):pe("",!0),X.value?(U(),G("div",wN,[o("div",CN,[o("div",{class:"p-6 border-b border-gray-100 flex justify-between items-center bg-red-50 rounded-t-xl"},[J[31]||(J[31]=o("div",{class:"flex items-center gap-3"},[o("div",{class:"bg-red-100 p-2 rounded-full"},[o("svg",{class:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])]),o("div",null,[o("h3",{class:"text-lg font-bold text-gray-900"},"Import Errors"),o("p",{class:"text-sm text-red-600"},"Terjadi kesalahan pada beberapa baris data")])],-1)),o("button",{onClick:k,class:"text-gray-400 hover:text-gray-600"},[...J[30]||(J[30]=[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),o("div",AN,[o("div",BN,[(U(!0),G($e,null,nt(B.value,(se,xe)=>(U(),G("div",{key:xe,class:"bg-red-50 border border-red-100 rounded-lg p-4"},[o("div",_N,[o("span",DN,"Row "+P(se.row),1),o("div",kN,[o("p",SN,P(se.message),1),o("details",FN,[J[32]||(J[32]=o("summary",{class:"text-xs text-red-600 cursor-pointer hover:underline"},"View Row Data",-1)),o("pre",TN,P(se.data),1)])])])]))),128))])]),o("div",{class:"p-6 border-t border-gray-100 bg-gray-50 rounded-b-xl flex justify-end"},[o("button",{onClick:k,class:"bg-gray-900 hover:bg-gray-800 text-white px-4 py-2 rounded-lg transition-colors"}," Close & Fix Data ")])])])):pe("",!0),o("div",IN,[o("div",MN,[J[34]||(J[34]=o("div",null,[o("h1",{class:"text-3xl font-bold text-gray-900"},"Master Data"),o("p",{class:"text-gray-600 mt-1"},"Kelola data master untuk seluruh sistem WMS")],-1)),o("div",null,[o("button",{onClick:et,class:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors shadow-sm"},[...J[33]||(J[33]=[o("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})],-1),qe(" Import Initial Stock ",-1)])]),o("input",{ref_key:"fileInput",ref:C,type:"file",accept:".xlsx,.xls,.csv",onChange:R,class:"hidden"},null,544)])])]),o("div",PN,[o("div",RN,[o("nav",ON,[(U(),G($e,null,nt(_,se=>o("button",{key:se.id,onClick:xe=>ie(se.id),class:Fe([r.value===se.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","py-4 px-1 border-b-2 font-medium text-sm transition-colors"])},P(se.label),11,NN)),64))])]),o("div",LN,[o("div",$N,[o("button",{onClick:J[0]||(J[0]=se=>m.value=!0),class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},[J[35]||(J[35]=o("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)),qe(" Tambah "+P(z()),1)]),o("button",{onClick:N,class:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},[...J[36]||(J[36]=[o("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),qe(" Export Excel ",-1)])]),r.value==="bin"?(U(),G("button",{key:0,onClick:tt,class:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},[...J[37]||(J[37]=[o("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})],-1),qe(" Print All QR Codes ",-1)])])):pe("",!0)]),o("div",jN,[o("div",UN,[Ee(o("input",{"onUpdate:modelValue":J[1]||(J[1]=se=>i.value=se),onKeyup:Ni(W,["enter"]),type:"text",placeholder:"Cari "+z()+"...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,40,HN),[[Oe,i.value]])]),Ee(o("select",{"onUpdate:modelValue":J[2]||(J[2]=se=>a.value=se),class:"px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...J[38]||(J[38]=[o("option",{value:""},"Semua Status",-1),o("option",{value:"Active"},"Active",-1),o("option",{value:"Inactive"},"Inactive",-1)])],512),[[ct,a.value]])]),Ee(o("div",null,[o("div",zN,[o("div",VN,[o("table",qN,[J[39]||(J[39]=o("thead",{class:"bg-gray-50"},[o("tr",null,[o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Kode Item"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Nama Material"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"UoM"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Kategori"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"QC Required"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Expiry"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),o("tbody",WN,[(U(!0),G($e,null,nt($.value,se=>(U(),G("tr",{key:se.id,class:"hover:bg-gray-50"},[o("td",GN,[o("div",QN,P(se.code),1)]),o("td",KN,[o("div",YN,P(se.name),1)]),o("td",XN,[o("div",ZN,P(se.uom),1)]),o("td",JN,[o("span",eL,P(se.category),1)]),o("td",tL,[o("span",{class:Fe(se.qcRequired?"text-green-600":"text-gray-400")},P(se.qcRequired?"":""),3)]),o("td",nL,[o("span",{class:Fe(se.expiry?"text-green-600":"text-gray-400")},P(se.expiry?"":""),3)]),o("td",rL,[o("span",{class:Fe([F(se.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},P(se.status),3)]),o("td",sL,[o("button",{onClick:xe=>Ie(se),class:"text-blue-600 hover:text-blue-900"},"Edit",8,oL),o("button",{onClick:xe=>Je(se.id),class:"text-red-600 hover:text-red-900"},"Hapus",8,iL)])]))),128))])])]),o("div",aL,[kt(M,{links:Y.value.links},null,8,["links"])])])],512),[[nn,r.value==="sku"]]),Ee(o("div",null,[o("div",lL,[o("div",cL,[o("table",dL,[J[40]||(J[40]=o("thead",{class:"bg-gray-50"},[o("tr",null,[o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Supplier Code"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Supplier Name"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Address"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Contact Person"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Phone"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),o("tbody",uL,[(U(!0),G($e,null,nt(I.value,se=>(U(),G("tr",{key:se.id,class:"hover:bg-gray-50"},[o("td",xL,[o("div",fL,P(se.code),1)]),o("td",hL,[o("div",gL,P(se.name),1)]),o("td",pL,[o("div",mL,P(se.address),1)]),o("td",yL,[o("div",bL,P(se.contactPerson),1)]),o("td",vL,[o("div",EL,P(se.phone),1)]),o("td",wL,[o("span",{class:Fe([F(se.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},P(se.status),3)]),o("td",CL,[o("button",{onClick:xe=>Ie(se),class:"text-blue-600 hover:text-blue-900"},"Edit",8,AL),o("button",{onClick:xe=>Je(se.id),class:"text-red-600 hover:text-red-900"},"Hapus",8,BL)])]))),128))])])]),o("div",_L,[kt(M,{links:ce.value.links},null,8,["links"])])])],512),[[nn,r.value==="supplier"]]),Ee(o("div",null,[o("div",DL,[o("div",kL,[o("table",SL,[J[42]||(J[42]=o("thead",{class:"bg-gray-50"},[o("tr",null,[o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Bin Code"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Zone"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Type"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Material Count"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"QR Code"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),o("tbody",FL,[(U(!0),G($e,null,nt(S.value,se=>(U(),G("tr",{key:se.id,class:"hover:bg-gray-50"},[o("td",TL,[o("div",IL,P(se.code),1)]),o("td",ML,[o("span",PL,P(se.zone),1)]),o("td",RL,[o("span",{class:Fe([Q(se.type),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},P(se.type),3)]),o("td",OL,[o("span",{class:Fe([F(se.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},P(se.status),3)]),o("td",NL,[se.current_items_count>0?(U(),G("div",LL,[o("button",{onClick:xe=>j(se.id,se.code),class:"text-sm font-semibold text-blue-600 hover:text-blue-800 underline"},P(se.current_items_count)+" Item ",9,$L)])):(U(),G("span",jL,"Kosong"))]),o("td",UL,[se.qrCode||se.id?(U(),G("button",{key:0,onClick:xe=>Pe(se.id),class:"text-blue-600 hover:text-blue-900 flex items-center gap-1",title:"Preview QR Code"},[...J[41]||(J[41]=[o("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),qe(" Preview QR ",-1)])],8,HL)):(U(),G("span",zL,"No QR"))]),o("td",VL,[o("button",{onClick:xe=>Ie(se),class:"text-blue-600 hover:text-blue-900"},"Edit",8,qL),o("button",{onClick:xe=>Je(se.id),class:"text-red-600 hover:text-red-900"},"Hapus",8,WL)])]))),128))])])]),o("div",GL,[kt(M,{links:me.value.links},null,8,["links"])])])],512),[[nn,r.value==="bin"]]),Ee(o("div",null,[o("div",QL,[o("div",KL,[o("table",YL,[J[43]||(J[43]=o("thead",{class:"bg-gray-50"},[o("tr",null,[o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"jabatan"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Full Name"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Role"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Department"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),o("tbody",XL,[(U(!0),G($e,null,nt(T.value,se=>(U(),G("tr",{key:se.id,class:"hover:bg-gray-50"},[o("td",ZL,[o("div",JL,P(se.jabatan),1)]),o("td",e$,[o("div",t$,P(se.fullName),1)]),o("td",n$,[o("span",{class:Fe([le(se.role),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},P(se.role),3)]),o("td",r$,[o("div",s$,P(se.department),1)]),o("td",o$,[o("span",{class:Fe([F(se.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},P(se.status),3)]),o("td",i$,[o("button",{onClick:xe=>Ie(se),class:"text-blue-600 hover:text-blue-900"},"Edit",8,a$),o("button",{onClick:xe=>Je(se.id),class:"text-red-600 hover:text-red-900"},"Hapus",8,l$)])]))),128))])])]),o("div",c$,[kt(M,{links:te.value.links},null,8,["links"])])])],512),[[nn,r.value==="user"]])])]),c.value&&u.value?(U(),G("div",d$,[o("div",u$,[o("div",x$,[o("h3",f$,"QR Code - "+P(u.value.bin_code),1),o("button",{onClick:Re,class:"text-gray-400 hover:text-gray-600"},[...J[44]||(J[44]=[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),o("div",h$,[o("img",{src:u.value.image,alt:"QR Code",class:"w-64 h-64 border-2 border-gray-200 rounded-lg shadow-sm"},null,8,g$)]),o("div",p$,[o("div",m$,[J[45]||(J[45]=o("span",{class:"text-sm font-medium text-gray-600"},"Bin Code:",-1)),o("span",y$,P(u.value.bin_code),1)]),o("div",b$,[J[46]||(J[46]=o("span",{class:"text-sm font-medium text-gray-600"},"Bin Name:",-1)),o("span",v$,P(u.value.bin_name),1)]),o("div",E$,[J[47]||(J[47]=o("span",{class:"text-sm font-medium text-gray-600"},"Zone:",-1)),o("span",w$,P(u.value.zone_name),1)]),o("div",C$,[J[48]||(J[48]=o("span",{class:"text-sm font-medium text-gray-600"},"Type:",-1)),o("span",A$,P(u.value.bin_type),1)]),o("div",B$,[J[49]||(J[49]=o("span",{class:"text-sm font-medium text-gray-600"},"Capacity:",-1)),o("span",_$,P(u.value.capacity),1)])]),o("div",{class:"flex gap-3"},[o("button",{onClick:Ge,class:"flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors"},[...J[50]||(J[50]=[o("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),qe(" Download ",-1)])]),o("button",{onClick:Ne,class:"flex-1 bg-green-600 hover:bg-green-700 text-white px-4 py-3 rounded-lg flex items-center justify-center gap-2 transition-colors"},[...J[51]||(J[51]=[o("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})],-1),qe(" Print ",-1)])]),o("button",{onClick:Re,class:"px-4 py-3 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Tutup ")])])])):pe("",!0),m.value||y.value?(U(),G("div",D$,[o("div",k$,[o("div",S$,[o("h3",F$,P(y.value?"Edit":"Tambah")+" "+P(z()),1),o("button",{onClick:De,class:"text-gray-400 hover:text-gray-600"},[...J[52]||(J[52]=[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),r.value==="sku"?(U(),G("div",T$,[o("div",I$,[o("div",null,[J[53]||(J[53]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Kode Item *",-1)),Ee(o("input",{"onUpdate:modelValue":J[3]||(J[3]=se=>E.value.code=se),type:"text",placeholder:"ITM001",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Oe,E.value.code]])]),o("div",null,[J[55]||(J[55]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"UoM *",-1)),Ee(o("select",{"onUpdate:modelValue":J[4]||(J[4]=se=>E.value.uom=se),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...J[54]||(J[54]=[o("option",{value:""},"Pilih UoM",-1),o("option",{value:"PCS"},"PCS",-1),o("option",{value:"KG"},"KG",-1),o("option",{value:"LTR"},"LITER",-1),o("option",{value:"BOX"},"BOX",-1)])],512),[[ct,E.value.uom]])])]),o("div",null,[J[56]||(J[56]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nama Material *",-1)),Ee(o("input",{"onUpdate:modelValue":J[5]||(J[5]=se=>E.value.name=se),type:"text",placeholder:"Nama material lengkap",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Oe,E.value.name]])]),o("div",M$,[o("div",null,[J[58]||(J[58]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Kategori *",-1)),Ee(o("select",{"onUpdate:modelValue":J[6]||(J[6]=se=>E.value.category=se),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...J[57]||(J[57]=[o("option",{value:""},"Pilih Kategori",-1),o("option",{value:"Raw Material"},"Raw Material",-1),o("option",{value:"Packaging"},"Packaging",-1),o("option",{value:"Finished Goods"},"Finished Goods",-1),o("option",{value:"Spare Parts"},"Spare Parts",-1)])],512),[[ct,E.value.category]])]),o("div",null,[J[60]||(J[60]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"ABC Class",-1)),Ee(o("select",{"onUpdate:modelValue":J[7]||(J[7]=se=>E.value.abcClass=se),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...J[59]||(J[59]=[o("option",{value:""},"Pilih ABC Class",-1),o("option",{value:"A"},"A",-1),o("option",{value:"B"},"B",-1),o("option",{value:"C"},"C",-1)])],512),[[ct,E.value.abcClass]])])]),o("div",P$,[o("div",null,[J[62]||(J[62]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Supplier Default",-1)),Ee(o("select",{"onUpdate:modelValue":J[8]||(J[8]=se=>E.value.supplierDefault=se),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...J[61]||(J[61]=[o("option",{value:""},"Pilih Supplier",-1),o("option",{value:"PT. Supplier A"},"PT. Supplier A",-1),o("option",{value:"PT. Supplier B"},"PT. Supplier B",-1),o("option",{value:"PT. Supplier C"},"PT. Supplier C",-1)])],512),[[ct,E.value.supplierDefault]])]),o("div",null,[J[64]||(J[64]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),Ee(o("select",{"onUpdate:modelValue":J[9]||(J[9]=se=>E.value.status=se),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...J[63]||(J[63]=[o("option",{value:"Active"},"Active",-1),o("option",{value:"Inactive"},"Inactive",-1)])],512),[[ct,E.value.status]])])]),o("div",R$,[o("label",O$,[Ee(o("input",{"onUpdate:modelValue":J[10]||(J[10]=se=>E.value.qcRequired=se),type:"checkbox",class:"text-blue-600 focus:ring-blue-500 rounded"},null,512),[[qo,E.value.qcRequired]]),J[65]||(J[65]=o("span",{class:"ml-2 text-gray-900"},"QC Required",-1))]),o("label",N$,[Ee(o("input",{"onUpdate:modelValue":J[11]||(J[11]=se=>E.value.expiry=se),type:"checkbox",class:"text-blue-600 focus:ring-blue-500 rounded"},null,512),[[qo,E.value.expiry]]),J[66]||(J[66]=o("span",{class:"ml-2 text-gray-900"},"Expiry Date Required",-1))])])])):pe("",!0),r.value==="supplier"?(U(),G("div",L$,[o("div",$$,[o("div",null,[J[67]||(J[67]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Supplier Code *",-1)),Ee(o("input",{"onUpdate:modelValue":J[12]||(J[12]=se=>E.value.code=se),type:"text",placeholder:"SUP001",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Oe,E.value.code]])]),o("div",null,[J[69]||(J[69]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),Ee(o("select",{"onUpdate:modelValue":J[13]||(J[13]=se=>E.value.status=se),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...J[68]||(J[68]=[o("option",{value:"Active"},"Active",-1),o("option",{value:"Inactive"},"Inactive",-1)])],512),[[ct,E.value.status]])])]),o("div",null,[J[70]||(J[70]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Supplier Name *",-1)),Ee(o("input",{"onUpdate:modelValue":J[14]||(J[14]=se=>E.value.name=se),type:"text",placeholder:"PT. Nama Supplier",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Oe,E.value.name]])]),o("div",null,[J[71]||(J[71]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Address",-1)),Ee(o("textarea",{"onUpdate:modelValue":J[15]||(J[15]=se=>E.value.address=se),placeholder:"Alamat lengkap supplier",rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Oe,E.value.address]])]),o("div",j$,[o("div",null,[J[72]||(J[72]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Contact Person",-1)),Ee(o("input",{"onUpdate:modelValue":J[16]||(J[16]=se=>E.value.contactPerson=se),type:"text",placeholder:"Nama PIC",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Oe,E.value.contactPerson]])]),o("div",null,[J[73]||(J[73]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Phone",-1)),Ee(o("input",{"onUpdate:modelValue":J[17]||(J[17]=se=>E.value.phone=se),type:"text",placeholder:"0812-3456-7890",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Oe,E.value.phone]])])])])):pe("",!0),r.value==="bin"?(U(),G("div",U$,[o("div",H$,[o("div",null,[J[74]||(J[74]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Bin Code *",-1)),Ee(o("input",{"onUpdate:modelValue":J[18]||(J[18]=se=>E.value.code=se),type:"text",placeholder:"A1-001",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Oe,E.value.code]])]),o("div",null,[J[76]||(J[76]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Zone *",-1)),Ee(o("select",{"onUpdate:modelValue":J[19]||(J[19]=se=>E.value.zone=se),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...J[75]||(J[75]=[o("option",{value:""},"Pilih Zone",-1),o("option",{value:"1"},"Zone A",-1),o("option",{value:"2"},"Zone B",-1),o("option",{value:"3"},"Zone C",-1),o("option",{value:"4"},"Cold Storage",-1),o("option",{value:"5"},"Reject",-1)])],512),[[ct,E.value.zone]])])]),o("div",z$,[o("div",null,[J[77]||(J[77]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Capacity",-1)),Ee(o("input",{"onUpdate:modelValue":J[20]||(J[20]=se=>E.value.capacity=se),type:"number",placeholder:"1000",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Oe,E.value.capacity]])]),o("div",null,[J[79]||(J[79]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Type *",-1)),Ee(o("select",{"onUpdate:modelValue":J[21]||(J[21]=se=>E.value.type=se),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...J[78]||(J[78]=[o("option",{value:""},"Pilih Type",-1),o("option",{value:"Normal"},"Normal",-1),o("option",{value:"Quarantine"},"Quarantine",-1),o("option",{value:"Reject"},"Reject",-1),o("option",{value:"Staging"},"Staging",-1),o("option",{value:"Production"},"Production",-1)])],512),[[ct,E.value.type]])])]),o("div",null,[J[81]||(J[81]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),Ee(o("select",{"onUpdate:modelValue":J[22]||(J[22]=se=>E.value.status=se),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...J[80]||(J[80]=[o("option",{value:"Active"},"Active",-1),o("option",{value:"Inactive"},"Inactive",-1)])],512),[[ct,E.value.status]])])])):pe("",!0),r.value==="user"?(U(),G("div",V$,[o("div",q$,[o("div",null,[J[83]||(J[83]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Jabatan * ",-1)),Ee(o("select",{"onUpdate:modelValue":J[23]||(J[23]=se=>E.value.jabatan=se),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[...J[82]||(J[82]=[o("option",{value:"",disabled:""},"Pilih jabatan",-1),o("option",{value:"Manager"},"Manager",-1),o("option",{value:"Supervisor"},"Supervisor",-1),o("option",{value:"Staff"},"Staff",-1),o("option",{value:"Intern"},"Intern",-1)])],512),[[ct,E.value.jabatan]])]),y.value?pe("",!0):(U(),G("div",W$,[J[84]||(J[84]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Password *",-1)),Ee(o("input",{"onUpdate:modelValue":J[24]||(J[24]=se=>E.value.password=se),type:"password",placeholder:"********",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Oe,E.value.password]])]))]),o("div",null,[J[85]||(J[85]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Full Name *",-1)),Ee(o("input",{"onUpdate:modelValue":J[25]||(J[25]=se=>E.value.fullName=se),type:"text",placeholder:"John Doe",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Oe,E.value.fullName]])]),o("div",G$,[o("div",null,[J[87]||(J[87]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Role *",-1)),Ee(o("select",{"onUpdate:modelValue":J[26]||(J[26]=se=>E.value.role=se),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[J[86]||(J[86]=o("option",{value:""},"Pilih Role",-1)),(U(!0),G($e,null,nt(de.value,se=>(U(),G("option",{key:se.id,value:se.name},P(se.name),9,Q$))),128))],512),[[ct,E.value.role]])]),o("div",null,[J[89]||(J[89]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Department *",-1)),Ee(o("select",{"onUpdate:modelValue":J[27]||(J[27]=se=>E.value.department=se),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...J[88]||(J[88]=[o("option",{value:""},"Pilih Department",-1),o("option",{value:"Gudang"},"Gudang",-1),o("option",{value:"QC"},"Quality Control",-1),o("option",{value:"Produksi"},"Produksi",-1),o("option",{value:"PPIC"},"PPIC",-1),o("option",{value:"IT"},"IT",-1)])],512),[[ct,E.value.department]])])]),o("div",null,[J[91]||(J[91]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),Ee(o("select",{"onUpdate:modelValue":J[28]||(J[28]=se=>E.value.status=se),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[...J[90]||(J[90]=[o("option",{value:"Active"},"Active",-1),o("option",{value:"Inactive"},"Inactive",-1)])],512),[[ct,E.value.status]])])])):pe("",!0),o("div",K$,[o("button",{onClick:De,class:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Batal "),o("button",{onClick:fe,class:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors"},P(y.value?"Update":"Simpan"),1)])])])):pe("",!0),D.value?(U(),G("div",{key:4,class:Fe([D.value.type==="success"?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800","fixed top-4 right-4 border rounded-lg p-4 shadow-lg"]),style:{"z-index":"99999"}},[o("div",Y$,[D.value.type==="success"?(U(),G("svg",X$,[...J[92]||(J[92]=[o("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)])])):(U(),G("svg",Z$,[...J[93]||(J[93]=[o("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"},null,-1)])])),qe(" "+P(D.value.text),1)])],2)):pe("",!0),g.value?(U(),G("div",J$,[o("div",ej,[o("div",tj,[o("h3",nj," Material di Bin: "+P(f.value?.bin_code||"Memuat..."),1),o("button",{onClick:L,class:"text-gray-400 hover:text-gray-600"},[...J[94]||(J[94]=[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),f.value?f.value.details.length===0?(U(),G("div",sj," Bin ini tidak memiliki stok material aktif. ")):(U(),G("div",oj,[o("table",ij,[J[95]||(J[95]=o("thead",{class:"bg-gray-50"},[o("tr",null,[o("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Kode Item"),o("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Nama Material"),o("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Batch/Lot"),o("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Qty Tersedia"),o("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"UoM"),o("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Exp Date"),o("th",{class:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase"},"Status")])],-1)),o("tbody",aj,[(U(!0),G($e,null,nt(f.value.details,se=>(U(),G("tr",{key:se.id},[o("td",lj,P(se.material_code),1),o("td",cj,P(se.material_name),1),o("td",dj,P(se.batch_lot),1),o("td",uj,P(se.qty_available),1),o("td",xj,P(se.uom),1),o("td",fj,P(se.exp_date),1),o("td",hj,[o("span",gj,P(se.status),1)])]))),128))])])])):(U(),G("div",rj,"Memuat data material...")),o("div",{class:"flex justify-end mt-6 pt-4 border-t border-gray-200"},[o("button",{onClick:L,class:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Tutup ")])])])):pe("",!0)])])]),_:1}))}}),mj=Hi(pj,[["__scopeId","data-v-da48ef19"]]),yj=Object.freeze(Object.defineProperty({__proto__:null,default:mj},Symbol.toStringTag,{value:"Module"})),bj={class:"space-y-6"},vj={class:"flex justify-between items-center"},Ej={class:"bg-white p-4 rounded-lg shadow space-y-4 md:space-y-0 md:flex md:items-center md:space-x-4"},wj={class:"md:w-1/6"},Cj={class:"flex-1"},Aj={class:"md:w-1/6"},Bj={class:"md:w-1/6"},_j={class:"bg-white rounded-lg shadow overflow-hidden"},Dj={class:"overflow-x-auto"},kj={class:"min-w-full divide-y divide-gray-200"},Sj={class:"bg-white divide-y divide-gray-200"},Fj={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Tj={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ij={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Mj={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Pj={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Rj={class:"px-6 py-4 whitespace-nowrap"},Oj={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},Nj={class:"flex space-x-2"},Lj=["onClick"],$j=["onClick"],jj=["onClick"],Uj=["onClick"],Hj={class:"bg-gray-50 px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6"},zj={class:"flex-1 flex items-center justify-between"},Vj={class:"text-sm text-gray-700"},qj={class:"font-medium"},Wj={class:"font-medium"},Gj={class:"font-medium"},Qj={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},Kj={class:"bg-white rounded-lg max-w-6xl w-full mx-4 max-h-[90vh] overflow-y-auto"},Yj={class:"p-6"},Xj={class:"flex justify-between items-center mb-6"},Zj={class:"text-lg font-semibold text-gray-900"},Jj={class:"bg-gray-50 rounded-lg p-4 mb-6"},eU={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm"},tU={class:"ml-2 text-gray-900"},nU={class:"ml-2 text-gray-900"},rU={class:"ml-2 text-gray-900"},sU={class:"ml-2 text-gray-900"},oU={class:"ml-2 text-gray-900"},iU={class:"ml-2 text-gray-900"},aU={class:"ml-2 text-gray-900"},lU={class:"border-t border-gray-200 pt-6"},cU={class:"overflow-x-auto border border-gray-200 rounded-lg"},dU={class:"min-w-full divide-y divide-gray-200",style:{"min-width":"1400px"}},uU={class:"divide-y divide-gray-200 bg-white"},xU={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},fU={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},hU={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},gU={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},pU={class:"font-semibold mb-1"},mU={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},yU={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},bU={class:"px-3 py-2 whitespace-nowrap"},vU={class:"flex gap-1"},EU={key:0,class:"bg-green-500 text-white px-2 py-1 text-xs rounded"},wU={key:1,class:"bg-red-500 text-white px-2 py-1 text-xs rounded"},CU={class:"px-3 py-2 whitespace-nowrap"},AU={class:"flex gap-1"},BU={key:0,class:"bg-green-500 text-white px-2 py-1 text-xs rounded"},_U={key:1,class:"bg-red-500 text-white px-2 py-1 text-xs rounded"},DU={class:"px-3 py-2 whitespace-nowrap"},kU={class:"flex gap-1"},SU={key:0,class:"bg-green-500 text-white px-2 py-1 text-xs rounded"},FU={key:1,class:"bg-red-500 text-white px-2 py-1 text-xs rounded"},TU={class:"px-3 py-2 whitespace-nowrap"},IU={class:"flex gap-1"},MU={key:0,class:"bg-green-500 text-white px-2 py-1 text-xs rounded"},PU={key:1,class:"bg-red-500 text-white px-2 py-1 text-xs rounded"},RU={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},OU={class:"px-3 py-2 whitespace-nowrap"},NU={class:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200"},LU={key:1,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},$U={class:"bg-white rounded-lg max-w-4xl w-full mx-4 max-h-[80vh] overflow-y-auto"},jU={class:"p-6"},UU={class:"flex justify-between items-center mb-6"},HU={class:"text-lg font-semibold text-gray-900"},zU={class:"bg-gray-50 rounded-lg p-4 mb-6"},VU={class:"grid grid-cols-2 gap-4 text-sm"},qU={class:"ml-2 text-gray-900"},WU={class:"ml-2 text-gray-900"},GU={class:"ml-2 text-gray-900"},QU={class:"ml-2 text-gray-900"},KU={class:"space-y-4"},YU={key:0,class:"space-y-4"},XU={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ZU={class:"font-medium text-gray-900 mb-2"},JU={class:"text-sm text-gray-600 space-y-1"},eH={class:"bg-gray-100 p-2 rounded font-mono text-xs text-gray-800 mt-3"},tH={class:"flex space-x-2 mt-3"},nH=["onClick"],rH={class:"flex flex-col items-center justify-center"},sH={class:"bg-white p-4 rounded-lg border-2 border-gray-300 mb-2"},oH=["data-qr-canvas"],iH={key:1,class:"text-center py-8 text-gray-500"},aH={key:2,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},lH={class:"bg-white rounded-lg max-w-6xl w-full mx-4 max-h-[90vh] overflow-y-auto"},cH={class:"p-6"},dH={class:"border p-4 mb-6 rounded-lg bg-indigo-50 border-indigo-200"},uH={class:"flex flex-col sm:flex-row gap-4 items-end"},xH={class:"flex-grow"},fH=["disabled"],hH={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},gH={key:0,class:"text-sm text-green-600 mt-2 font-medium"},pH={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6"},mH={class:"block text-sm font-medium text-gray-700 mb-1"},yH={key:0},bH=["readonly"],vH={class:"relative"},EH={key:0,class:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto"},wH=["onClick"],CH={key:0,class:"text-xs text-gray-500 mt-1"},AH={class:"border-t border-gray-200 pt-6"},BH={class:"overflow-x-auto border border-gray-200 rounded-lg"},_H={class:"min-w-full divide-y divide-gray-200",style:{"min-width":"1400px"}},DH={class:"divide-y divide-gray-200 bg-white"},kH={class:"px-3 py-2 whitespace-nowrap"},SH={class:"flex gap-1"},FH=["onClick"],TH=["onClick"],IH={class:"px-3 py-2 whitespace-nowrap"},MH=["onUpdate:modelValue"],PH=["value"],RH={class:"px-3 py-2 whitespace-nowrap"},OH={class:"relative"},NH=["onUpdate:modelValue","onInput","onFocus","onBlur"],LH={key:0,class:"absolute z-20 w-80 mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto",style:{"z-index":"99999"}},$H=["onMousedown"],jH={key:1,class:"text-xs text-gray-500 mt-1"},UH={class:"px-3 py-2 whitespace-nowrap"},HH=["onUpdate:modelValue"],zH={class:"px-3 py-2 whitespace-nowrap"},VH=["onUpdate:modelValue"],qH={class:"px-3 py-2 whitespace-nowrap"},WH=["onUpdate:modelValue"],GH={class:"px-3 py-2 whitespace-nowrap"},QH=["onUpdate:modelValue"],KH={class:"px-3 py-2 whitespace-nowrap"},YH=["onUpdate:modelValue"],XH={class:"px-3 py-2 whitespace-nowrap"},ZH={class:"flex gap-1"},JH=["onClick"],ez=["onClick"],tz={class:"px-3 py-2 whitespace-nowrap"},nz={class:"flex gap-1"},rz=["onClick"],sz=["onClick"],oz={class:"px-3 py-2 whitespace-nowrap"},iz={class:"flex gap-1"},az=["onClick"],lz=["onClick"],cz={class:"px-3 py-2 whitespace-nowrap"},dz={class:"flex gap-1"},uz=["onClick"],xz=["onClick"],fz={class:"px-3 py-2 whitespace-nowrap"},hz=["onUpdate:modelValue"],gz={class:"px-3 py-2 whitespace-nowrap"},pz={class:"text-sm text-gray-600"},mz={class:"px-3 py-2 whitespace-nowrap"},yz=["onClick"],bz={key:0,class:"mt-6 p-4 bg-yellow-50 rounded-lg border border-yellow-200"},vz={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Ez={class:"font-bold text-gray-900 truncate"},wz={class:"text-md font-extrabold text-blue-600 mt-1"},Cz={class:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200"},Az={class:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200"},Bz=["disabled"],_z={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Dz={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},kz={class:"bg-white rounded-lg max-w-4xl w-full mx-4 max-h-[80vh] overflow-y-auto"},Sz={class:"p-6"},Fz={class:"flex justify-between items-center mb-6"},Tz={class:"text-lg font-semibold text-gray-900"},Iz={class:"bg-gray-50 rounded-lg p-4 mb-6"},Mz={class:"grid grid-cols-2 gap-4 text-sm"},Pz={class:"ml-2 text-gray-900"},Rz={class:"ml-2 text-gray-900"},Oz={class:"ml-2 text-gray-900"},Nz={class:"ml-2 text-gray-900"},Lz={class:"space-y-4"},$z={key:0,class:"space-y-4"},jz={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Uz={class:"font-medium text-gray-900 mb-2"},Hz={class:"text-sm text-gray-600 space-y-1"},zz={class:"bg-gray-100 p-2 rounded font-mono text-xs text-gray-800 mt-3"},Vz={class:"flex space-x-2 mt-3"},qz=["onClick"],Wz=["onClick"],Gz={class:"flex flex-col items-center justify-center"},Qz={class:"bg-white p-4 rounded-lg border-2 border-gray-300 mb-2"},Kz=["data-qr-canvas"],Yz={key:1,class:"text-center py-8 text-gray-500"},Xz=Lr({__name:"PenerimaanBarang",props:{shipments:Object,purchaseOrders:Array,suppliers:Array,materials:Array,filters:Object},setup(e){const t=e,n=ve(""),r=ve([]),i=ve(t.filters?.search||""),a=ve(t.filters?.date_start||""),c=ve(t.filters?.date_end||""),u=ve(t.filters?.limit||"10");function g(X,B){let k;return function(...R){const N=this;clearTimeout(k),k=setTimeout(()=>X.apply(N,R),B)}}const f=g(()=>{gt.get("/transaction/goods-receipt",{search:i.value,date_start:a.value,date_end:c.value,limit:u.value},{preserveState:!0,preserveScroll:!0,replace:!0})},500);Pn([i,a,c,u],()=>{f()});const m=ve(!1),y=ve(!1),w=ve(!1),E=ve(!1),C=ve(null),D=ve({noPo:"",noSuratJalan:"",supplier:"",noKendaraan:"",namaDriver:"",tanggalTerima:new Date().toISOString().slice(0,16),kategori:"",supplierName:"",incomingNumber:"",erpPdfFile:null,isErpDataLoaded:!1,items:[]}),_=ve(!1),M=We(()=>D.value.noPo&&D.value.noSuratJalan&&D.value.supplier&&D.value.noKendaraan&&D.value.namaDriver&&D.value.items.length>0),$=We(()=>{const X={};return D.value.items.forEach(B=>{const k=B.kodeItem,R=parseInt(B.qtyWadah)||0,N=parseInt(B.qtyUnit)||0;if(k){const V=t.materials.find(ue=>ue.id===k),K=R*N;X[k]?X[k].totalQty+=K:X[k]={totalQty:K,materialName:B.namaMaterial||B.kodeItemDisplay,satuan:V?V.unit:"Pcs"}}}),Object.values(X)}),I=X=>{C.value=X,E.value=!0},S=()=>{E.value=!1,C.value=null},T=()=>{y.value=!1,F()},j=()=>{w.value=!1,C.value=null},L=X=>{D.value.erpPdfFile=X.target.files?X.target.files[0]:null,D.value.isErpDataLoaded=!1},z=async()=>{if(!D.value.erpPdfFile){alert("Mohon pilih file PDF ERP terlebih dahulu.");return}_.value=!0,D.value.isErpDataLoaded=!1;const X=new FormData;X.append("erp_pdf",D.value.erpPdfFile);try{const k=(await St.post("/transaction/goods-receipt/parse-erp-pdf",X,{headers:{"Content-Type":"multipart/form-data"}})).data;D.value.items=[],D.value.incomingNumber=k.incoming_number||"",D.value.noSuratJalan=k.no_surat_jalan&&k.no_surat_jalan!=="N/A"?k.no_surat_jalan:"N/A",D.value.noPo=k.no_po||"",D.value.noKendaraan=k.no_truck||"-",D.value.namaDriver=k.driver_name||"-",k.tanggal_terima&&(D.value.tanggalTerima=k.tanggal_terima);const R=t.suppliers.find(K=>K.nama_supplier.toLowerCase().includes(k.supplier_name.toLowerCase())||K.kode_supplier.toLowerCase()===k.supplier_code.toLowerCase());R?(D.value.supplier=R.id,D.value.supplierName=R.nama_supplier,n.value=R.nama_supplier):(D.value.supplier="",D.value.supplierName=k.supplier_name?`*${k.supplier_name}`:"",n.value=k.supplier_name||""),k.items.forEach(K=>{const ue=t.materials.find(W=>W.code==K.kode_material);let ie="Karantina";ue&&ue.qcRequired===!1&&(ie="Direct Putaway"),D.value.items.push({kodeItem:ue?ue.id:"",kodeItemDisplay:K.kode_material,namaMaterial:ue?ue.name:K.description,batchLot:"",expDate:"",qtyWadah:K.quantity,qtyUnit:"1",pabrikPembuat:D.value.supplierName||"",skuSearch:K.kode_material,filteredMaterials:[],showSuggestions:!1,kondisiBaik:!0,kondisiTidakBaik:!1,coaAda:!0,coaTidakAda:!1,labelMfgAda:!0,labelMfgTidakAda:!1,labelCoaSesuai:!0,labelCoaTidakSesuai:!1,statusQC:ie,binTarget:"QRT-HALAL",isHalal:!0,isNonHalal:!1})}),D.value.isErpDataLoaded=!0;const N=D.value.items.filter(K=>!K.kodeItem&&K.skuSearch).map(K=>K.skuSearch),V=[...new Set(N)];if(V.length>0){let K=`PERHATIAN: Ditemukan ${V.length} material yang BELUM ada di Master Data:

`;V.forEach(ue=>{K+=`- ${ue}
`}),K+=`
Mohon tambahkan material tersebut di Menu Master Data -> Material agar bisa disimpan.`,alert(K)}else alert(`Berhasil memuat ${k.items.length} item dari PDF.`)}catch(B){console.error("Error processing ERP PDF:",B),B.response&&B.response.data&&B.response.data.error?alert(B.response.data.error):alert("Gagal memproses file. Pastikan format PDF sesuai.")}finally{_.value=!1}},F=()=>{D.value={noPo:"",noSuratJalan:"",supplier:"",noKendaraan:"",namaDriver:"",tanggalTerima:new Date().toISOString().slice(0,16),kategori:"",supplierName:"",incomingNumber:"",erpPdfFile:null,isErpDataLoaded:!1,items:[]},n.value=""},Q=()=>{const X=D.value.items;if(X.length>0){const B=X[X.length-1],k=JSON.parse(JSON.stringify(B));k.qtyWadah="",k.qtyUnit="",D.value.items.push(k)}else D.value.items.push({kodeItem:"",kodeItemDisplay:"",namaMaterial:"",batchLot:"",expDate:"",qtyWadah:"",qtyUnit:"",pabrikPembuat:D.value.supplierName||"",skuSearch:"",filteredMaterials:[],showSuggestions:!1,kondisiBaik:!0,kondisiTidakBaik:!1,coaAda:!0,coaTidakAda:!1,labelMfgAda:!0,labelMfgTidakAda:!1,labelCoaSesuai:!0,labelCoaTidakSesuai:!1,statusQC:"Karantina",binTarget:"QRT-HALAL",isHalal:!0,isNonHalal:!1})},le=[{code:"QRT-HALAL",name:"Karantina Halal"},{code:"QRT-NON HALAL",name:"Karantina Non Halal"},{code:"QRT-HALAL-AC",name:"Karantina hALAL AC"}],Y=X=>{D.value.items.splice(X,1)},ce=(X,B)=>{B==="isHalal"||B==="isNonHalal"?(X.isHalal=!1,X.isNonHalal=!1):B==="kondisiBaik"||B==="kondisiTidakBaik"?(X.kondisiBaik=!1,X.kondisiTidakBaik=!1):B==="coaAda"||B==="coaTidakAda"?(X.coaAda=!1,X.coaTidakAda=!1):B==="labelMfgAda"||B==="labelMfgTidakAda"?(X.labelMfgAda=!1,X.labelMfgTidakAda=!1):(B==="labelCoaSesuai"||B==="labelCoaTidakSesuai")&&(X.labelCoaSesuai=!1,X.labelCoaTidakSesuai=!1),X[B]=!0},me=()=>{if(n.value.length<2){r.value=[];return}const X=n.value.toLowerCase();r.value=t.suppliers.filter(B=>{if(!B)return!1;const k=B.nama_supplier||"",R=B.code||"";return k.toLowerCase().includes(X)||R.toLowerCase().includes(X)}).slice(0,10)},te=X=>{D.value.supplier=X.id,D.value.supplierName=X.nama_supplier,n.value=X.nama_supplier,r.value=[]},ne=X=>{const B=D.value.items[X],k=B.skuSearch.toLowerCase();if(k.length<2){B.filteredMaterials=[];return}B.filteredMaterials=t.materials.filter(R=>R.code.toLowerCase().includes(k)||R.name.toLowerCase().includes(k)).slice(0,10)},de=(X,B)=>{const k=D.value.items[X];k.kodeItem=B.id,k.kodeItemDisplay=B.code,k.namaMaterial=B.name,k.pabrikPembuat=B.mfg,k.statusQC=B.qcRequired?"To QC":"Direct Putaway",k.skuSearch=B.code,k.filteredMaterials=[],k.showSuggestions=!1},be=()=>{if(m.value){console.log("Penyimpanan sedang dalam proses. Permintaan diabaikan.");return}if(!M.value){alert("Mohon lengkapi semua field yang diperlukan");return}m.value=!0,console.log("Data yang akan dikirim:",JSON.stringify(D.value,null,2)),gt.post("/transaction/goods-receipt",D.value,{preserveScroll:!0,onBefore:()=>{console.log("Request dimulai...")},onSuccess:X=>{console.log("Response sukses:",X),console.log("Flash messages:",X.props.flash),T(),gt.reload({only:["shipments"]}),alert("Penerimaan berhasil disimpan")},onError:X=>{console.error("Validation errors:",X);let B=`Gagal menyimpan:
`;Object.entries(X).forEach(([k,R])=>{B+=`${k}: ${R}
`}),alert(B)},onFinish:()=>{m.value=!1,console.log("Request selesai")}})},De=X=>new Date(X).toLocaleString("id-ID",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),Ie=X=>X?new Date(X.split("T")[0]).toLocaleDateString("id-ID",{year:"numeric",month:"2-digit",day:"2-digit"}):"-",fe=X=>{if(!X)return{text:"N/A",class:"text-gray-500"};const B=new Date(X.split("T")[0]),k=new Date;k.setHours(0,0,0,0);const R=B.getTime()-k.getTime(),N=Math.ceil(R/(1e3*60*60*24));return N<0?{text:"Expired",class:"bg-red-500 text-white"}:N===0?{text:"Hari Ini!",class:"bg-red-400 text-white"}:N<=30?{text:`${N} hari lagi`,class:"bg-orange-400 text-white"}:N<=90?{text:`${N} hari lagi`,class:"bg-yellow-400 text-gray-900"}:{text:`${N} hari lagi`,class:"text-green-600"}},Pe=X=>new Date(X).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}),Ge=X=>({Draft:"bg-gray-100 text-gray-800",Karantina:"bg-yellow-100 text-yellow-800",Proses:"bg-orange-100 text-orange-800",Selesai:"bg-green-100 text-green-800"})[X]||"bg-gray-100 text-gray-800",Ne=X=>{const B=window.open("","_blank"),k=new Date(X.tanggalTerima),R=k.getFullYear(),N=String(k.getMonth()+1).padStart(2,"0"),V=X.incomingNumber||X.id,K=`GR-${R}${N}-${V}`,ue=(rt,Ue)=>rt?`<span style="font-weight: bold;">${Ue} </span>`:`<span style="text-decoration: line-through; color: #888;">${Ue}</span>`;let ie="",W=1,ee=0,J=0;X.items.forEach((rt,Ue)=>{const Pt=parseInt(rt.qtyWadah||"0"),we=parseInt(rt.qtyUnit||"0");ee+=Pt,J+=Pt*we;const Ce=W,ht=Ce+Pt-1;W=ht+1;let At="PCS";if(rt.kodeItem){const Qe=t.materials.find(gn=>gn.id==rt.kodeItem||gn.code==rt.kodeItem);Qe&&(At=Qe.unit)}let Ft;Pt===0?Ft="N/A":Ce===ht?Ft=Ce:Ft=`${Ce}-${ht}`,ie+=`
            <tr>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle; height: 40px;">
                    ${Ft}
                </td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;">
                    ${rt.kondisiBaik?"":""}
                </td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;">
                    ${rt.kondisiTidakBaik?"":""}
                </td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;"></td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;"></td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;">
                    ${rt.labelMfgAda?"":""}
                </td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;">
                    ${rt.labelMfgTidakAda?"":""}
                </td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;">${At}</td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;">N/A</td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;">N/A</td>
                <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle;">${rt.qtyUnit?parseInt(rt.qtyUnit):""}</td>
            </tr>
        `});for(let rt=X.items.length;rt<10;rt++)ie+=`
          <tr>
            <td style="border: 1px solid #000; padding: 8px; height: 40px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
            <td style="border: 1px solid #000; padding: 8px;">&nbsp;</td>
          </tr>
        `;const se=X.items[0]||{},xe=ue(se.labelMfgAda,"Ada"),ge=ue(se.labelMfgTidakAda,"Tidak"),Me=ue(se.labelCoaSesuai,"Ada"),Xe=ue(se.labelCoaTidakSesuai,"Tidak"),Ze=ue(se.coaAda,"Ada"),xt=ue(se.coaTidakAda,"Tidak"),ft=ue(se.isHalal,"Halal"),$t=ue(se.isNonHalal,"Non-Halal");B.document.write(`
        <html>
        <head>
            <title>Form Checklist Penerimaan Material - ${X.noSuratJalan}</title>
            <style>
            @page {
                size: A4;
                margin: 1cm;
            }
            
            body { 
                font-family: Arial, sans-serif; 
                margin: 0;
                padding: 0;
                font-size: 10px;
                line-height: 1.2;
            }
            
            .main-container {
                border: 2px solid #000;
                padding: 0;
                width: 100%;
                box-sizing: border-box;
            }
            
            .header { 
                text-align: center; 
                padding: 10px;
                border-bottom: 1px solid #000;
                position: relative;
                height: 80px;
                box-sizing: border-box;
            }
            
            .logo-section {
                position: absolute;
                left: 10px;
                top: 10px;
                width: 100px;
                height: 60px;
            }
            
            .logo-box {
                border: 1px solid #000;
                padding: 5px;
                height: 100%;
                box-sizing: border-box;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
            }
            
            .logo-icon {
                width: 30px;
                height: 20px;
                background: linear-gradient(45deg, #4CAF50, #2E7D32);
                margin-bottom: 3px;
                position: relative;
            }
            
            .logo-icon::before {
                content: '';
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                width: 15px;
                height: 15px;
                background: #FFF;
                clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
            }
            
            .company-name {
                font-weight: bold;
                font-size: 8px;
                color: #2E7D32;
            }
            
            .form-number-section {
                position: absolute;
                right: 10px;
                top: 15px;
                width: 120px;
                text-align: center;
            }
            
            .form-number-box {
                background: #000;
                color: white;
                padding: 3px;
                font-size: 9px;
                font-weight: bold;
            }
            
            .header-title {
                margin-top: 10px;
                font-weight: bold;
                font-size: 11px;
            }
            
            .form-fields {
                border-collapse: collapse;
                width: 100%;
            }
            
            .form-fields tr {
                border-bottom: 1px solid #000;
            }
            
            .form-fields tr:last-child {
                border-bottom: none;
            }
            
            .form-fields td {
                border-right: 1px solid #000;
                padding: 6px 8px;
                vertical-align: middle;
                height: 25px;
            }
            
            .form-fields td:last-child {
                border-right: none;
            }
            
            .field-label {
                background-color: #f5f5f5;
                font-weight: bold;
                width: 120px;
            }
            
            .field-value {
                width: auto;
            }
            
            .checkbox-inline {
                display: inline-block;
                margin-right: 15px;
            }

            /* CSS agar tanda centang () terlihat tebal dan coretan terlihat tipis */
            .checkbox-inline span {
                font-size: 10px; /* Base font size */
            }
            .checkbox-inline span[style*="line-through"] {
                color: #888;
                font-weight: normal;
            }
            
            .data-table {
                width: 100%;
                border-collapse: collapse;
                margin-top: 0;
            }
            
            .data-table th,
            .data-table td {
                border: 1px solid #000;
                padding: 5px;
                text-align: center;
                vertical-align: middle;
            }
            
            .data-table th {
                background-color: #f0f0f0;
                font-weight: bold;
                font-size: 9px;
                height: 30px;
            }
            
            .main-header {
                height: 50px;
            }
            
            .sub-header {
                height: 35px;
                font-size: 8px;
                line-height: 1.1;
            }
            
            .kemasan-header {
                width: 200px;
            }
            
            .label-header {
                width: 100px;
            }
            
            .unit-header {
                width: 50px;
            }
            
            .jumlah-headers {
                width: 60px;
            }
            
            .wadah-col {
                width: 60px;
            }
            
            .kemasan-cols {
                width: 100px;
            }
            
            .label-cols {
                width: 50px;
            }
            
            .signature-section {
                border-top: 1px solid #000;
                display: flex;
                height: 120px;
            }
            
            .signature-left,
            .signature-right {
                flex: 1;
                padding: 15px;
                text-align: center;
                position: relative;
            }
            
            .signature-left {
                border-right: 1px solid #000;
            }
            
            .signature-title {
                font-weight: bold;
                margin-bottom: 50px;
            }
            
            .signature-fields {
                position: absolute;
                bottom: 15px;
                left: 15px;
                text-align: left;
                font-size: 9px;
            }
            
            .footer-note {
                padding: 10px;
                font-size: 8px;
                font-style: italic;
                border-top: 1px solid #000;
            }
            
            @media print {
                body {
                    margin: 0;
                    -webkit-print-color-adjust: exact;
                    print-color-adjust: exact;
                }
                .no-print { display: none; }
            }
            </style>
        </head>
        <body>
            <div class="main-container">
                <div class="header">
                    <div class="logo-section">
                        <div class="logo-box">
                            <div class="logo-icon"></div>
                            <div class="company-name">GONDOWANGI</div>
                        </div>
                    </div>
                    
                    <div class="form-number-section">
                        ${K}
                    </div>
                    
                    <div class="header-title">E-FORM CHECKLIST PENERIMAAN MATERIAL DARI VENDOR</div>
                </div>
                
                <table class="form-fields">
                    <tr>
                        <td class="field-label">Kode Item</td>
                        <td class="field-value">${se.kodeItem||""}</td>
                    </tr>
                    <tr>
                        <td class="field-label">Nama Material</td>
                        <td class="field-value">${se.namaMaterial||""}</td>
                    </tr>
                    <tr>
                        <td class="field-label">Label dari Mfg*</td>
                        <td class="field-value">
                            <span class="checkbox-inline">${xe}</span>
                            <span class="checkbox-inline">${ge}</span>
                            <span style="margin-left: 100px;">Label & CoA sesuai :</span>
                            <span class="checkbox-inline">${Me}</span>
                            <span class="checkbox-inline">${Xe}</span>
                        </td>
                    </tr>
                    <tr>
                        <td class="field-label">Pabrik Pembuat (mfg)*</td>
                        <td class="field-value">${se.pabrikPembuat||""}</td>
                    </tr>
                    <tr>
                        <td class="field-label">Produksi di negara*</td>
                        <td class="field-value">Indonesia</td>
                    </tr>
                    <tr>
                        <td class="field-label">Supplier</td>
                        <td class="field-value">${X.supplier}</td>
                    </tr>
                    <tr>
                        <td class="field-label">No. PO</td>
                        <td class="field-value">${X.noPo}</td>
                    </tr>
                    <tr>
                        <td class="field-label">No. Surat Jalan</td>
                        <td class="field-value">${X.noSuratJalan}</td>
                    </tr>
                    <tr>
                        <td class="field-label">Mfg. Batch</td>
                        <td class="field-value">${se.batchLot||""}</td>
                    </tr>
                    <tr>
                        <td class="field-label">ED</td>
                        <td class="field-value">${se.expDate?Ie(se.expDate):""}</td>
                    </tr>
                    <tr>
                        <td class="field-label">CoA</td>
                        <td class="field-value">
                            <span class="checkbox-inline">${Ze}</span>
                            <span class="checkbox-inline">${xt}</span>
                        </td>
                    </tr>
                    <tr>
                        <td class="field-label">Kategori Halal</td> <td class="field-value">
                            <span class="checkbox-inline">${ft}</span>
                            <span class="checkbox-inline">${$t}</span>
                        </td>
                    </tr>
                    
                    <tr>
                        <td class="field-label">Jumlah Wadah</td>
                        <td class="field-value">${ee}</td>
                    </tr>
                    <tr>
                        <td class="field-label">Total Quantity</td>
                        <td class="field-value">${J}</td>
                    </tr>
                    <tr>
                        <td class="field-label">Tgl. Diterima</td>
                        <td class="field-value">
                            ${Ie(X.tanggalTerima)} &nbsp;&nbsp;&nbsp; -
                            ${Pe(X.tanggalTerima)} WIB &nbsp;&nbsp;&nbsp;
                            
                        </td>
                    </tr>
                    <tr>
                        <td class="field-label">Kategori</td>
                        <td class="field-value">${X.kategori||""}</td>
                    </tr>
                    <tr>
                        <td class="field-label">Nama Driver</td>
                        <td class="field-value">${X.namaDriver}</td>
                    </tr>
                    <tr>
                        <td class="field-label">No Kendaraan</td>
                        <td class="field-value">${X.noKendaraan}</td>
                    </tr>
                </table>
                
                <table class="data-table">
                    <thead>
                        <tr>
                            <th rowspan="2" class="main-header wadah-col">Wadah Ke-</th>
                            <th colspan="4" class="main-header kemasan-header">Kemasan</th>
                            <th colspan="2" class="main-header label-header">Label</th>
                            <th colspan="4" class="main-header">Jumlah</th>
                        </tr>
                        <tr>
                            <th class="sub-header kemasan-cols">BAIK</th>
                            <th class="sub-header kemasan-cols">TIDAK BAIK</th>
                            <th class="sub-header kemasan-cols">Sobek</th>
                            <th class="sub-header kemasan-cols">Penyok yang mempengaruhi material</th>
                            <th class="sub-header label-cols">Ada</th>
                            <th class="sub-header label-cols">Tidak</th>
                            <th class="sub-header unit-header">Unit</th>
                            <th class="sub-header jumlah-headers">Bruto</th>
                            <th class="sub-header jumlah-headers">Tara</th>
                            <th class="sub-header jumlah-headers">Netto</th>
                        </tr>
                        <tr>
                            <th style="height: 25px; font-size: 8px;"></th>
                            <th style="height: 25px; font-size: 7px; line-height: 1;">
                                Bersih, utuh, tidak<br>sobek/penyok, dll
                            </th>
                            <th style="height: 25px; font-size: 7px; line-height: 1;">
                                Kotor (potensi kotor<br>sampai kedalam)
                            </th>
                            <th style="height: 25px; font-size: 8px;"></th>
                            <th style="height: 25px; font-size: 8px;"></th>
                            <th style="height: 25px; font-size: 8px;"></th>
                            <th style="height: 25px; font-size: 8px;"></th>
                            <th style="height: 25px; font-size: 8px;">Jumlah</th>
                            <th style="height: 25px; font-size: 8px;"></th>
                            <th style="height: 25px; font-size: 8px;"></th>
                            <th style="height: 25px; font-size: 8px;"></th>
                        </tr>
                    </thead>
                    <tbody>
                        ${ie}
                    </tbody>
                </table>
                
                <div class="signature-section">
                    <div class="signature-left">
                        <div class="signature-title">Dilaporkan oleh</div>
                        <div class="signature-fields">
                            <div>Nama &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:</div>
                            <div>Tanggal &nbsp;&nbsp;:</div>
                        </div>
                    </div>
                    <div class="signature-right">
                        <div class="signature-title">Diperiksa Oleh</div>
                        <div class="signature-fields">
                            <div>Nama &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:</div>
                            <div>Tanggal &nbsp;&nbsp;:</div>
                        </div>
                    </div>
                </div>
                
                <div class="footer-note">
                    *khusus untuk bahan baku
                </div>
            </div>
            
            <div class="no-print" style="margin-top: 20px; text-align: center;">
                <button onclick="window.print()" style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;">Print</button>
                <button onclick="window.close()" style="padding: 10px 20px; background: #6c757d; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 10px;">Close</button>
            </div>
        </body>
        </html>
    `),B.document.close(),B.focus()},tt=X=>{const B=window.open("","_blank");let k="";X.items.forEach(R=>{k+=`
      <tr>
        <td style="border: 1px solid #000; padding: 8px;">${R.kodeItem}</td>
        <td style="border: 1px solid #000; padding: 8px;">${R.namaMaterial}</td>
        <td style="border: 1px solid #000; padding: 8px; text-align: right;">${R.qtyUnit}</td>
        <td style="border: 1px solid #000; padding: 8px; text-align: center;">Pcs</td>
      </tr>
    `}),B.document.write(`
    <html>
      <head>
        <title>Good Receipt Slip - ${X.noSuratJalan}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; font-size: 12px; }
          .letterhead { text-align: center; margin-bottom: 20px; border-bottom: 2px solid #000; padding-bottom: 15px; }
          .company-info { margin-bottom: 10px; }
          .addresses { display: flex; justify-content: space-between; margin: 20px 0; }
          .address-box { border: 1px solid #000; padding: 15px; width: 45%; }
          .shipment-info { margin: 20px 0; }
          .shipment-table { width: 100%; border-collapse: collapse; margin: 10px 0; }
          .shipment-table th, .shipment-table td { border: 1px solid #000; padding: 5px; }
          .shipment-table th { background-color: #f0f0f0; font-weight: bold; text-align: center; }
          .items-table { width: 100%; border-collapse: collapse; margin: 20px 0; }
          .items-table th, .items-table td { border: 1px solid #000; padding: 8px; }
          .items-table th { background-color: #f0f0f0; font-weight: bold; text-align: center; }
          .signature-section { display: flex; justify-content: space-between; margin-top: 40px; }
          .signature-box { text-align: center; width: 200px; }
          @media print {
            body { margin: 0; }
            .no-print { display: none; }
          }
        </style>
      </head>
      <body>
        <div class="letterhead">
          <div class="company-info">
            <strong>PT. Gondowangi Tradisional Kosmetika</strong><br>
            JL. JABABEKA BLOK U NO. 29-C<br>
            RT/RW:03/03 KARANG BARU<br>
            BEKASI<br>
            Indonesia<br>
            Phone: (021) 8910 7915 - 17 | Fax: (021) 8910 7919 | Website: www.gondowangi.com<br>
            Contact : Reza Rizky - Page: 1
          </div>
        </div>
        
        <div class="addresses">
          <div class="address-box">
            <strong>Supplier Address :</strong><br>
            ${X.supplier}<br>
            Jl. Satria Raya II No. 32 RT 05 RW 09 Margahayu<br>
            Utara-Babakan Ciparay<br>
            Bandung<br>
            Indonesia
          </div>
          <div class="address-box">
            <strong>Contact Address :</strong><br>
            +62.22.5417871
          </div>
        </div>
        
        <div class="shipment-info">
          <strong>Incoming Shipment : ${X.incomingNumber}</strong>
        </div>
        
        <table class="shipment-table">
          <tr>
            <th>No SJ</th>
            <th>Order(Origin)</th>
            <th>Date</th>
            <th>Input by</th>
            <th>No Truck</th>
            <th>Driver Name</th>
          </tr>
          <tr>
            <td>${X.noSuratJalan}</td>
            <td>${X.noPo}</td>
            <td>${De(X.tanggalTerima)}</td>
            <td>Dita A.P</td>
            <td>${X.noKendaraan}</td>
            <td>${X.namaDriver}</td>
          </tr>
        </table>
        
        <table class="items-table">
          <thead>
            <tr>
              <th>Code</th>
              <th>Description</th>
              <th>Quantity</th>
              <th>UoM</th>
            </tr>
          </thead>
          <tbody>
            ${k}
          </tbody>
        </table>
        
        <div class="signature-section">
          <div class="signature-box">
            <strong>Approved By,</strong><br><br><br><br>
            <div style="border-top: 1px solid #000; padding-top: 5px;">
              Reza Rizky<br>
              DD/MM/YYYY
            </div>
          </div>
          <div class="signature-box">
            <strong>Received By,</strong><br><br><br><br>
            <div style="border-top: 1px solid #000; padding-top: 5px;">
              Permadi Rohiman<br>
              DD/MM/YYYY
            </div>
          </div>
        </div>
        
        <div class="no-print" style="margin-top: 20px; text-align: center;">
          <button onclick="window.print()" style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;">Print</button>
          <button onclick="window.close()" style="padding: 10px 20px; background: #6c757d; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 10px;">Close</button>
        </div>
      </body>
    </html>
  `),B.document.close(),B.focus()},Re=X=>{const B=[];return!X||!X.items||(X.items.forEach(k=>{const R=parseInt(k.qtyWadah||0);for(let N=1;N<=R;N++){const V=`${X.incomingNumber}|${k.kodeItem}|${k.batchLot}|${N}|${k.expDate}`;B.push({qrContent:V,kodeItem:k.kodeItemDisplay||k.kodeItem,namaMaterial:k.namaMaterial,batchLot:k.batchLot,qtyUnit:k.qtyUnit,qtyWadah:R,wadahKe:N,expDate:k.expDate,supplier:X.supplier,tanggalTerima:X.tanggalTerima})}}),X.qrCodeLabels=B),B},Je=X=>{const B=X.items.reduce((k,R)=>k+parseFloat(R.qtyWadah||0),0);B>20&&!confirm(`Peringatan: Jumlah label QR melebihi 20 (${B} label). Membuka preview mungkin akan menyebabkan website melambat. Lanjutkan?`)||(C.value=X,Re(C.value),w.value=!0,setTimeout(()=>{et()},100))},et=()=>{if(C.value?.qrCodeLabels){if(typeof y0>"u"){console.error("QRCode library not loaded");return}C.value.qrCodeLabels.forEach((X,B)=>{const k=document.querySelector(`canvas[data-qr-canvas="${B}"]`);if(k){k.getContext("2d").clearRect(0,0,k.width,k.height);try{y0.toCanvas(k,X.qrContent,{width:180,height:180,margin:1,errorCorrectionLevel:"M",color:{dark:"#000000",light:"#FFFFFF"}},function(N){N&&console.error("QR Code generation error:",N)})}catch(N){console.error("Failed to generate QR code:",N)}}})}},st=X=>{const B=C.value.items.findIndex(R=>R===X),k=document.querySelector(`canvas[data-qr-canvas="${B}"]`);if(k){const R=document.createElement("a");R.download=`QR_${X.kodeItem}_${X.batchLot}.png`,R.href=k.toDataURL("image/png"),R.click()}},Te=X=>{const B=C.value.qrCodeLabels.findIndex(N=>N.qrContent===X.qrContent),k=document.querySelector(`canvas[data-qr-canvas="${B}"]`),R=co().props.auth?.user?.name||"Admin";if(k){const N=window.open("","_blank"),V=k.toDataURL("image/png"),K=Ie(C.value.tanggalTerima),ue=Ie(X.expDate),ie=`${X.qtyUnit} Pcs`,W=X.qtyWadah>0?`${X.qtyUnit/X.qtyWadah} x ${X.qtyWadah} box`:"";N.document.write(`
            <html>
            <head>
                <title>Label Karantina - ${X.kodeItem} - Wadah ${X.wadahKe}</title>
                <style>
                    body {
                        font-family: 'Arial', sans-serif;
                        margin: 0;
                        padding: 0;
                        display: flex;
                        justify-content: center;
                        align-items: flex-start;
                        min-height: 100vh;
                        background-color: #f0f0f0;
                    }
                    .label-container {
                        width: 10cm; /* Lebar label yang lebih besar agar mirip contoh */
                        height: 7cm; /* Tinggi label */
                        border: 2px solid #000;
                        padding: 5px;
                        box-sizing: border-box;
                        background-color: #fff;
                        display: flex;
                        flex-direction: column;
                        font-size: 10px; 
                        margin-top: 20px; 
                    }
                    .header {
                        display: flex;
                        flex-direction: column;
                        align-items: center;
                        border-bottom: 2px solid #000;
                        padding-bottom: 5px;
                        margin-bottom: 5px;
                    }
                    .logo-img {
                        width: 90px; /* Ukuran logo lebih besar */
                        height: auto;
                        margin-bottom: 5px;
                    }
                    .company-name {
                        font-weight: bold;
                        font-size: 16px; /* Font lebih besar */
                        color: #2d5f3f; 
                        margin-top: 3px;
                    }
                    .status-box {
                        margin-top: 5px;
                        border: 1px solid #000;
                        padding: 2px 5px;
                        font-weight: bold;
                        font-size: 14px; /* Font lebih besar */
                        background-color: #000;
                        color: #fff;
                        width: 100%;
                        text-align: center;
                    }
                    .content {
                        display: flex;
                        flex-grow: 1;
                        padding-top: 5px;
                        gap: 10px; /* Jarak antara info dan QR */
                    }
                    .info-section {
                        flex: 1;
                        display: flex;
                        flex-direction: column;
                        justify-content: space-between;
                    }
                    .info-row {
                        display: flex;
                        margin-bottom: 2px;
                        align-items: baseline; /* Agar teks sejajar di baris pertama */
                    }
                    .info-label {
                        width: 80px; /* Sesuaikan lebar label teks */
                        min-width: 80px;
                        font-weight: normal;
                        flex-shrink: 0;
                    }
                    .info-value {
                        flex: 1;
                        font-weight: bold;
                        overflow: hidden;
                        text-overflow: ellipsis;
                    }
                    .info-value.multi-line {
                        white-space: normal; /* Izinkan wrap untuk detail box */
                    }

                    .qr-section {
                        width: 80px; /* Ukuran QR Code */
                        height: 80px; 
                        display: flex;
                        flex-direction: column;
                        justify-content: flex-start;
                        align-items: flex-end; 
                        flex-shrink: 0; /* Pastikan QR tidak menyusut */
                    }
                    .qr-code {
                        width: 100%;
                        height: 100%;
                        border: 1px solid #ccc;
                    }
                    .footer {
                        display: flex;
                        justify-content: space-between;
                        font-size: 10px; /* Font footer */
                        border-top: 2px solid #000;
                        padding-top: 5px;
                        margin-top: 5px;
                    }
                    .footer-left {
                        font-style: italic;
                    }
                    .footer-right {
                        font-weight: bold;
                    }

                    /* Untuk mode print */
                    @media print {
                        body {
                            background-color: #fff;
                            display: block; 
                            margin: 0;
                            padding: 0;
                            -webkit-print-color-adjust: exact;
                            print-color-adjust: exact;
                        }
                        .label-container {
                            margin: 0;
                            border: 1px solid #000; 
                        }
                        .no-print {
                            display: none;
                        }
                        @page {
                            size: 10cm 7cm; /* Custom size jika ini 1 label per halaman */
                            margin: 0; /* Hapus margin halaman jika ini 1 label per halaman */
                        }
                    }
                </style>
            </head>
            <body>
                <div class="label-container">
                    <div class="header">
                        <img src="https://gondowangi.com/assets/logo/Logo-gondowangi-berwarna.png" alt="Logo Gondowangi" class="logo-img">
                        
                        <div class="status-box">KARANTINA</div>
                    </div>
                    
                    <div class="content">
                        <div class="info-section">
                            <div class="info-row">
                                <div class="info-label">Nama Barang</div>
                                <div class="info-value">: [${X.kodeItem}] ${X.namaMaterial}</div>
                            </div>
                            <div class="info-row">
                                <div class="info-label">Kode Barang</div>
                                <div class="info-value">: ${X.kodeItem}</div>
                            </div>
                            <div class="info-row">
                                <div class="info-label">No Lot</div>
                                <div class="info-value">: ${X.batchLot}</div>
                            </div>
                            <div class="info-row">
                                <div class="info-label">Supplier</div>
                                <div class="info-value">: ${X.supplier}</div>
                            </div>
                            <div class="info-row">
                                <div class="info-label">Jmlh Barang</div>
                                <div class="info-value">: ${ie}</div>
                            </div>
                            ${W?`<div class="info-row">
                                <div class="info-label"></div>
                                <div class="info-value multi-line">: ${W}</div>
                            </div>`:""}
                            <div class="info-row">
                                <div class="info-label">Tgl Datang</div>
                                <div class="info-value">: ${K}</div>
                            </div>
                            <div class="info-row">
                                <div class="info-label">Exp. Date</div>
                                <div class="info-value">: ${ue}</div>
                            </div>
                            <div class="info-row">
                                <div class="info-label">Dibuat Oleh</div>
                                <div class="info-value">: ${R}</div>
                            </div>
                        </div>
                        
                        <div class="qr-section">
                            <img src="${V}" class="qr-code" alt="QR Code">
                        </div>
                    </div>
                    
                    <div class="footer">
                        <span class="footer-left">Logistik</span>
                        <span class="footer-right">QL1001-01 Rev. 02</span>
                    </div>
                </div>
                
                <div class="no-print" style="margin-top: 20px; text-align: center;">
                    <button onclick="window.print()" style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;">Print</button>
                    <button onclick="window.close()" style="padding: 10px 20px; background: #6c757d; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 10px; font-size: 14px;">Close</button>
                </div>
            </body>
            </html>
        `),N.document.close(),N.focus(),setTimeout(()=>{N.print()},500)}},re=()=>{const X=C.value?.qrCodeLabels;if(!X||X.length===0){alert("Tidak ada label QR untuk dicetak.");return}const B=window.open("","_blank"),k=co().props.auth?.user?.name||"Admin",R=6,N="https://gondowangi.com/assets/logo/Logo-gondowangi-berwarna.png";let V="";for(let K=0;K<X.length;K+=R){const ue=X.slice(K,K+R);let ie="";ue.forEach((W,ee)=>{const J=K+ee,se=document.querySelector(`canvas[data-qr-canvas="${J}"]`);let xe="";se&&(xe=se.toDataURL("image/png"));const ge=xe?`<img src="${xe}" class="qr-code" alt="QR Code">`:'<div class="qr-placeholder">ERROR</div>',Me=Ie(C.value.tanggalTerima),Xe=Ie(W.expDate),Ze=`${W.qtyUnit} Pcs`,xt=W.qtyWadah>0?`${W.qtyUnit/W.qtyWadah} x ${W.qtyWadah} box`:"";ie+=`
          <div class="label-wrapper">
              <div class="label-container">
                  <div class="header">
                      <img src="${N}" alt="Logo Gondowangi" class="logo-img">
                      <div class="status-box">KARANTINA</div>
                  </div>
                  
                  <div class="content">
                      <div class="info-section">
                          <div class="info-row">
                              <div class="info-label">Nama Barang</div>
                              <div class="info-value">: [${W.kodeItem}] ${W.namaMaterial}</div>
                          </div>
                          <div class="info-row">
                              <div class="info-label">Kode Barang</div>
                              <div class="info-value">: ${W.kodeItem}</div>
                          </div>
                          <div class="info-row">
                              <div class="info-label">No Lot</div>
                              <div class="info-value">: ${W.batchLot}</div>
                          </div>
                          <div class="info-row">
                              <div class="info-label">Supplier</div>
                              <div class="info-value">: ${W.supplier}</div>
                          </div>
                          <div class="info-row">
                              <div class="info-label">Jmlh Barang</div>
                              <div class="info-value">: ${Ze}</div>
                          </div>
                          ${xt?`<div class="info-row">
                              <div class="info-label">Wadah Detail</div>
                              <div class="info-value multi-line">: ${xt}</div>
                          </div>`:""}
                          <div class="info-row">
                              <div class="info-label">Wadah Ke</div>
                              <div class="info-value">: ${W.wadahKe} / ${W.qtyWadah}</div>
                          </div>
                          <div class="info-row">
                              <div class="info-label">Tgl Datang</div>
                              <div class="info-value">: ${Me}</div>
                          </div>
                          <div class="info-row">
                              <div class="info-label">Exp. Date</div>
                              <div class="info-value">: ${Xe}</div>
                          </div>
                          <div class="info-row">
                              <div class="info-label">Dibuat Oleh</div>
                              <div class="info-value">: ${k}</div>
                          </div>
                      </div>
                      
                      <div class="qr-section">
                          ${ge}
                      </div>
                  </div>
                  
                  <div class="footer">
                      <span class="footer-left">Logistik</span>
                      <span class="footer-right">Rev. 02</span>
                  </div>
              </div>
          </div>
      `}),V+=`
            <div class="print-page" style="${K>0?"page-break-before: always;":""}">
                ${ie}
            </div>
        `}B.document.write(`
        <html>
        <head>
            <title>Cetak ${X.length} Label QR - ${C.value.noSuratJalan}</title>
            <style>
                /* Pengaturan Halaman A4 untuk cetak 6 label (2x3) */
                @page {
                    size: A4;
                    margin: 0.5cm; /* Margin halaman disetel */
                }
                
                body {
                    font-family: 'Arial', sans-serif;
                    margin: 0;
                    padding: 0;
                    background: white;
                }
                
                .print-page {
                    width: 20cm; /* Lebar A4 efektif */
                    height: 28.7cm; /* Tinggi A4 efektif */
                    margin: 0.5cm auto; 
                    box-sizing: border-box;
                    display: flex;
                    flex-wrap: wrap;
                    align-content: flex-start;
                    justify-content: space-between; 
                }

                /* Container untuk setiap label. 
                   2 kolom (49%) dan 3 baris (33.33% - margin) */
                .label-wrapper {
                    width: 9.9cm; /* Hampir 10cm untuk 2 kolom */
                    height: calc(33.33% - 0.4cm); /* 3 baris di tinggi A4 dikurangi margin */
                    padding: 0; 
                    box-sizing: border-box;
                    margin-bottom: 0.4cm; /* Jarak antar baris */
                    margin-right: 0.1cm;
                    margin-left: 0.1cm;
                }
                
                /* ===========================================
                   GAYA LABEL
                   =========================================== */

                .label-container {
                    width: 100%; 
                    height: 100%; 
                    border: 2px solid #000;
                    padding: 5px; 
                    box-sizing: border-box;
                    background-color: #fff;
                    display: flex;
                    flex-direction: column;
                    font-size: 10px; 
                }
                .header {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    border-bottom: 2px solid #000;
                    padding-bottom: 5px; 
                    margin-bottom: 5px; 
                }
                .logo-img {
                    width: 130px; 
                    height: auto;
                    margin-bottom: 5px;
                }
                .status-box {
                    margin-top: 5px;
                    border-top: 0.8px solid #000; 
                    border-bottom: none;
                    border-left: none;
                    border-right: none;
                    padding: 2px 5px;
                    font-weight: bold;
                    font-size: 14px; 
                    padding: 2px;
                    
                    color: #000; 
                    width: 100%;
                    text-align: center;
                }
                .content {
                    display: flex;
                    flex-grow: 1;
                    padding-top: 5px;
                    gap: 10px; 
                }
                .info-section {
                    flex: 1;
                    display: flex;
                    flex-direction: column;
                    justify-content: space-between;
                }
                .info-row {
                    display: flex;
                    margin-bottom: 2px;
                    align-items: baseline;
                }
                .info-label {
                    width: 80px; 
                    min-width: 80px;
                    font-weight: normal;
                    flex-shrink: 0;
                }
                .info-value {
                    flex: 1;
                    font-weight: bold;
                    overflow: hidden;
                    text-overflow: ellipsis;
                }
                .info-value.multi-line {
                    white-space: normal; 
                }

                .qr-section {
                    width: 80px; 
                    height: 80px; 
                    display: flex;
                    flex-direction: column;
                    justify-content: flex-start;
                    align-items: flex-end; 
                    flex-shrink: 0;
                }
                .qr-code {
                    width: 100%;
                    height: 100%;
                    border: 1px solid #ccc;
                }
                .qr-placeholder { 
                    width: 100%;
                    height: 100%;
                    border: 1px dashed #999;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 10px;
                    color: #999;
                    font-weight: bold;
                }
                
                .footer {
                    display: flex;
                    justify-content: space-between;
                    font-size: 10px; 
                    border-top: 2px solid #000;
                    padding-top: 25px;
                    margin-top: 5px;
                }
                .footer-left {
                    font-style: italic;
                }
                .footer-right {
                    font-weight: bold;
                }
                
                /* Untuk mode print */
                @media print {
                    .print-page { 
                        page-break-after: always;
                        width: initial;
                        height: initial;
                        padding: 1px;
                    }
                    .print-page:last-child { page-break-after: avoid; }
                    body { 
                        -webkit-print-color-adjust: exact; 
                        print-color-adjust: exact;
                        display: block;
                        margin: 0;
                    }
                    /* Mengganti border tebal di print */
                    .label-container {
                        border-top: 0.8px solid #000; 
                        padding: 2px;
                    }
                        
                    .header {
                        border-bottom: 0.8px solid #000; 
                        padding: 2px;
                        padding-bottom: 0px; 
                        margin-bottom: 0px; 
                    }
                    .footer {
                        border-top: 0.8px solid #000; 
                        padding-top: 30px;
                        margin-top: 3px;
                    }
                }
            </style>
        </head>
        <body>
            ${V}
        </body>
        </html>
    `),B.document.close(),B.focus(),setTimeout(()=>{B.print()},500)};return Gn(()=>{F()}),(X,B)=>(U(),Et(Qn,{title:"Riwayat Aktivitas"},{default:bt(()=>[o("div",bj,[o("div",vj,[B[17]||(B[17]=o("h2",{class:"text-2xl font-bold text-gray-900"},"Daftar Penerimaan",-1)),o("button",{onClick:B[0]||(B[0]=k=>y.value=!0),class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},[...B[16]||(B[16]=[o("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),qe(" Buat Penerimaan ",-1)])])]),o("div",Ej,[o("div",wj,[Ee(o("select",{"onUpdate:modelValue":B[1]||(B[1]=k=>u.value=k),class:"w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"},[...B[18]||(B[18]=[o("option",{value:"10"},"Show 10",-1),o("option",{value:"25"},"Show 25",-1),o("option",{value:"50"},"Show 50",-1),o("option",{value:"100"},"Show 100",-1),o("option",{value:"all"},"Show All",-1)])],512),[[ct,u.value]])]),o("div",Cj,[Ee(o("input",{"onUpdate:modelValue":B[2]||(B[2]=k=>i.value=k),type:"text",placeholder:"Cari No PO, SJ, Kendaraan...",class:"w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"},null,512),[[Oe,i.value]])]),o("div",Aj,[Ee(o("input",{"onUpdate:modelValue":B[3]||(B[3]=k=>a.value=k),type:"date",class:"w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Dari Tanggal"},null,512),[[Oe,a.value]])]),o("div",Bj,[Ee(o("input",{"onUpdate:modelValue":B[4]||(B[4]=k=>c.value=k),type:"date",class:"w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Sampai Tanggal"},null,512),[[Oe,c.value]])])]),o("div",_j,[o("div",Dj,[o("table",kj,[B[19]||(B[19]=o("thead",{class:"bg-gray-50"},[o("tr",null,[o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"No PO"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"No Surat Jalan"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Supplier"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tanggal Terima"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"No Kendaraan "),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),o("tbody",Sj,[(U(!0),G($e,null,nt(e.shipments.data,k=>(U(),G("tr",{key:k.id,class:"hover:bg-gray-50"},[o("td",Fj,P(k.noPo),1),o("td",Tj,P(k.noSuratJalan),1),o("td",Ij,P(k.supplier),1),o("td",Mj,P(De(k.tanggalTerima)),1),o("td",Pj,P(k.noKendaraan),1),o("td",Rj,[o("span",{class:Fe([Ge(k.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},P(k.status),3)]),o("td",Oj,[o("div",Nj,[o("button",{onClick:R=>I(k),class:"bg-indigo-100 text-indigo-700 hover:bg-indigo-200 px-2 py-1 rounded text-xs"},"Detail",8,Lj),o("button",{onClick:R=>Ne(k),class:"bg-green-100 text-green-700 hover:bg-green-200 px-2 py-1 rounded text-xs"},"Cetak Checklist",8,$j),o("button",{onClick:R=>tt(k),class:"bg-purple-100 text-purple-700 hover:bg-purple-200 px-2 py-1 rounded text-xs"},"Cetak Finance",8,jj),o("button",{onClick:R=>Je(k),class:"bg-blue-600 text-white hover:bg-blue-700 px-2 py-1 rounded text-xs"}," Cetak Label QR ",8,Uj)])])]))),128))])])]),o("div",Hj,[o("div",zj,[o("div",null,[o("p",Vj,[B[20]||(B[20]=qe(" Menampilkan ",-1)),o("span",qj,P(e.shipments.from),1),B[21]||(B[21]=qe(" sampai ",-1)),o("span",Wj,P(e.shipments.to),1),B[22]||(B[22]=qe(" dari ",-1)),o("span",Gj,P(e.shipments.total),1),B[23]||(B[23]=qe(" hasil ",-1))])])])])]),E.value?(U(),G("div",Qj,[o("div",Kj,[o("div",Yj,[o("div",Xj,[o("h3",Zj,"Detail Penerimaan - "+P(C.value?.noSuratJalan),1),o("button",{onClick:S,class:"text-gray-400 hover:text-gray-600"},[...B[24]||(B[24]=[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),o("div",Jj,[o("div",eU,[o("div",null,[B[25]||(B[25]=o("span",{class:"font-medium text-gray-700"},"No Incoming:",-1)),o("span",tU,P(C.value?.incomingNumber),1)]),o("div",null,[B[26]||(B[26]=o("span",{class:"font-medium text-gray-700"},"No PO:",-1)),o("span",nU,P(C.value?.noPo),1)]),o("div",null,[B[27]||(B[27]=o("span",{class:"font-medium text-gray-700"},"Supplier:",-1)),o("span",rU,P(C.value?.supplier),1)]),o("div",null,[B[28]||(B[28]=o("span",{class:"font-medium text-gray-700"},"No Kendaraan:",-1)),o("span",sU,P(C.value?.noKendaraan),1)]),o("div",null,[B[29]||(B[29]=o("span",{class:"font-medium text-gray-700"},"Nama Driver:",-1)),o("span",oU,P(C.value?.namaDriver),1)]),o("div",null,[B[30]||(B[30]=o("span",{class:"font-medium text-gray-700"},"Tanggal Terima:",-1)),o("span",iU,P(De(C.value?.tanggalTerima)),1)]),o("div",null,[B[31]||(B[31]=o("span",{class:"font-medium text-gray-700"},"Kategori:",-1)),o("span",aU,P(C.value?.kategori),1)]),o("div",null,[B[32]||(B[32]=o("span",{class:"font-medium text-gray-700"},"Status:",-1)),o("span",{class:Fe([Ge(C.value?.status),"ml-2 px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},P(C.value?.status),3)])])]),o("div",lU,[B[34]||(B[34]=o("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Detail Material",-1)),o("div",cU,[o("table",dU,[B[33]||(B[33]=o("thead",{class:"bg-gray-50"},[o("tr",null,[o("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Kode Item"),o("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Nama Material"),o("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Batch/Mfg Lot"),o("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Exp Date"),o("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Qty Wadah"),o("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Qty Unit"),o("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Kondisi"),o("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"CoA "),o("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Label Mfg"),o("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Label & CoA Sesuai"),o("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Pabrik Pembuat"),o("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Status QC")])],-1)),o("tbody",uU,[(U(!0),G($e,null,nt(C.value?.items,(k,R)=>(U(),G("tr",{key:R},[o("td",xU,P(k.kodeItem),1),o("td",fU,P(k.namaMaterial),1),o("td",hU,P(k.batchLot),1),o("td",gU,[o("div",pU,P(Ie(k.expDate)),1),o("span",{class:Fe([fe(k.expDate).class,"px-2 py-0.5 text-xs font-medium rounded-full"])},P(fe(k.expDate).text),3)]),o("td",mU,P(parseInt(k.qtyWadah)),1),o("td",yU,P(parseInt(k.qtyUnit)),1),o("td",bU,[o("div",vU,[k.kondisiBaik?(U(),G("span",EU,"Baik")):pe("",!0),k.kondisiTidakBaik?(U(),G("span",wU,"Tidak Baik")):pe("",!0)])]),o("td",CU,[o("div",AU,[k.coaAda?(U(),G("span",BU,"Ada")):pe("",!0),k.coaTidakAda?(U(),G("span",_U,"Tidak")):pe("",!0)])]),o("td",DU,[o("div",kU,[k.labelMfgAda?(U(),G("span",SU,"Ada")):pe("",!0),k.labelMfgTidakAda?(U(),G("span",FU,"Tidak")):pe("",!0)])]),o("td",TU,[o("div",IU,[k.labelCoaSesuai?(U(),G("span",MU,"Sesuai")):pe("",!0),k.labelCoaTidakSesuai?(U(),G("span",PU,"Tidak Sesuai")):pe("",!0)])]),o("td",RU,P(k.pabrikPembuat),1),o("td",OU,[o("span",{class:Fe([k.statusQC==="To QC"?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800","px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},P(k.statusQC),3)])]))),128))])])])]),o("div",NU,[o("button",{onClick:S,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"}," Tutup "),o("button",{onClick:B[5]||(B[5]=k=>Ne(C.value)),class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700"}," Cetak Checklist "),o("button",{onClick:B[6]||(B[6]=k=>tt(C.value)),class:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700"}," Cetak Finance "),o("button",{onClick:B[7]||(B[7]=k=>Je(C.value)),class:"bg-blue-600 hover:bg-blue-700 px-4 py-2 text-white rounded-md"}," Cetak Label QR ")])])])])):pe("",!0),w.value?(U(),G("div",LU,[o("div",$U,[o("div",jU,[o("div",UU,[o("h3",HU,"Label QR Code - "+P(C.value?.noSuratJalan),1),o("button",{onClick:j,class:"text-gray-400 hover:text-gray-600"},[...B[35]||(B[35]=[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),o("div",zU,[o("div",VU,[o("div",null,[B[36]||(B[36]=o("span",{class:"font-medium text-gray-700"},"No PO:",-1)),o("span",qU,P(C.value?.noPo),1)]),o("div",null,[B[37]||(B[37]=o("span",{class:"font-medium text-gray-700"},"Supplier:",-1)),o("span",WU,P(C.value?.supplier),1)]),o("div",null,[B[38]||(B[38]=o("span",{class:"font-medium text-gray-700"},"No Kendaraan:",-1)),o("span",GU,P(C.value?.noKendaraan),1)]),o("div",null,[B[39]||(B[39]=o("span",{class:"font-medium text-gray-700"},"Tanggal:",-1)),o("span",QU,P(De(C.value?.tanggalTerima)),1)])])]),o("div",KU,[B[43]||(B[43]=o("h4",{class:"text-md font-medium text-gray-900"},"Daftar QR Code per Item:",-1)),C.value?.qrCodeLabels&&C.value.qrCodeLabels.length>0?(U(),G("div",YU,[(U(!0),G($e,null,nt(C.value.qrCodeLabels,(k,R)=>(U(),G("div",{key:R,class:"border border-gray-200 rounded-lg p-4"},[o("div",XU,[o("div",null,[o("div",ZU,"["+P(k.kodeItem)+"] - "+P(k.namaMaterial),1),o("div",JU,[o("div",null,"Batch: "+P(k.batchLot),1),o("div",null,"Wadah Ke: **"+P(k.wadahKe)+"** / "+P(k.qtyWadah),1),o("div",null,"Qty: "+P(k.qtyUnit),1),o("div",null,"Exp: "+P(Ie(k.expDate)),1)]),o("div",eH,[B[40]||(B[40]=o("strong",null,"QR Content:",-1)),B[41]||(B[41]=o("br",null,null,-1)),qe(P(k.qrContent.split("|")[2]),1)]),o("div",tH,[o("button",{onClick:N=>Te(k),class:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm"}," Cetak QR Wadah "+P(k.wadahKe),9,nH)])]),o("div",rH,[o("div",sH,[o("canvas",{"data-qr-canvas":R,class:"block"},null,8,oH)]),B[42]||(B[42]=o("div",{class:"text-xs text-gray-500 text-center"}," Preview QR Code ",-1))])])]))),128))])):(U(),G("div",iH," Belum ada item untuk shipment ini "))]),o("div",{class:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200"},[o("button",{onClick:j,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"}," Tutup "),o("button",{onClick:re,class:"bg-blue-600 hover:bg-blue-700 px-4 py-2 text-white rounded-md"}," Cetak Semua QR ")])])])])):pe("",!0),y.value?(U(),G("div",aH,[o("div",lH,[o("div",cH,[o("div",{class:"flex justify-between items-center mb-6"},[B[45]||(B[45]=o("h3",{class:"text-lg font-semibold text-gray-900"},"Buat Penerimaan Baru",-1)),o("button",{onClick:T,class:"text-gray-400 hover:text-gray-600"},[...B[44]||(B[44]=[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),o("div",dH,[B[48]||(B[48]=o("h4",{class:"font-bold text-indigo-700 mb-3 flex items-center"},[o("svg",{class:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[o("path",{"fill-rule":"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L10 11.586l2.293-2.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z","clip-rule":"evenodd"}),o("path",{"fill-rule":"evenodd",d:"M10 2a1 1 0 011 1v7a1 1 0 11-2 0V3a1 1 0 011-1z","clip-rule":"evenodd"})]),qe(" Opsi 1: Upload Data Penerimaan dari PDF ERP ")],-1)),o("div",uH,[o("div",xH,[B[46]||(B[46]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"File PDF dari ERP",-1)),o("input",{onChange:L,type:"file",accept:".pdf",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white text-gray-900 text-sm"},null,32)]),o("button",{onClick:z,disabled:!D.value.erpPdfFile||_.value,class:"w-full sm:w-auto px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:bg-indigo-300 flex items-center justify-center transition-colors"},[_.value?(U(),G("svg",hH,[...B[47]||(B[47]=[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):pe("",!0),qe(" "+P(_.value?"Memproses...":"Proses File ERP"),1)],8,fH)]),D.value.isErpDataLoaded?(U(),G("p",gH," Data dari PDF ERP berhasil dimuat! Mohon cek dan lengkapi rincian di bawah. ")):pe("",!0)]),o("div",pH,[o("div",null,[o("label",mH,[B[49]||(B[49]=qe("No Incoming (ERP) ",-1)),D.value.incomingNumber?(U(),G("span",yH,"(Otomatis)")):pe("",!0)]),Ee(o("input",{"onUpdate:modelValue":B[8]||(B[8]=k=>D.value.incomingNumber=k),type:"text",placeholder:"Auto dari sistem/ERP",readonly:!!D.value.incomingNumber,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-100 text-gray-900"},null,8,bH),[[Oe,D.value.incomingNumber]])]),o("div",null,[B[50]||(B[50]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"No PO *",-1)),Ee(o("input",{"onUpdate:modelValue":B[9]||(B[9]=k=>D.value.noPo=k),type:"text",placeholder:"Masukkan No PO",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Oe,D.value.noPo]])]),o("div",null,[B[51]||(B[51]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"No Surat Jalan *",-1)),Ee(o("input",{"onUpdate:modelValue":B[10]||(B[10]=k=>D.value.noSuratJalan=k),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Oe,D.value.noSuratJalan]])]),o("div",null,[B[52]||(B[52]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Supplier * ",-1)),o("div",vH,[Ee(o("input",{"onUpdate:modelValue":B[11]||(B[11]=k=>n.value=k),onInput:me,type:"text",placeholder:"Ketik untuk mencari Supplier...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,544),[[Oe,n.value]]),r.value.length>0&&n.value?(U(),G("div",EH,[(U(!0),G($e,null,nt(r.value,k=>(U(),G("div",{key:k.id,onClick:R=>te(k),class:"px-3 py-2 cursor-pointer hover:bg-blue-50 text-gray-900"},P(k.nama_supplier),9,wH))),128))])):pe("",!0)]),D.value.supplierName?(U(),G("p",CH," **Dipilih:** "+P(D.value.supplierName),1)):pe("",!0)]),o("div",null,[B[53]||(B[53]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"No Kendaraan *",-1)),Ee(o("input",{"onUpdate:modelValue":B[12]||(B[12]=k=>D.value.noKendaraan=k),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Oe,D.value.noKendaraan]])]),o("div",null,[B[54]||(B[54]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nama Driver *",-1)),Ee(o("input",{"onUpdate:modelValue":B[13]||(B[13]=k=>D.value.namaDriver=k),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Oe,D.value.namaDriver]])]),o("div",null,[B[55]||(B[55]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tanggal & Waktu Terima",-1)),Ee(o("input",{"onUpdate:modelValue":B[14]||(B[14]=k=>D.value.tanggalTerima=k),type:"datetime-local",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Oe,D.value.tanggalTerima]])]),o("div",null,[B[57]||(B[57]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Kategori",-1)),Ee(o("select",{"onUpdate:modelValue":B[15]||(B[15]=k=>D.value.kategori=k),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},[...B[56]||(B[56]=[o("option",{value:""},"Pilih Kategori",-1),o("option",{value:"Raw Material"},"Raw Material",-1),o("option",{value:"Packaging Material"},"Packaging Material",-1)])],512),[[ct,D.value.kategori]])]),B[58]||(B[58]=o("div",null,[o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Upload Dokumen"),o("input",{type:"file",multiple:"",accept:"image/*,.pdf",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"})],-1))]),o("div",AH,[o("div",{class:"flex justify-between items-center mb-4"},[B[59]||(B[59]=o("h4",{class:"text-lg font-medium text-gray-900"},"Detail Material",-1)),o("button",{onClick:Q,class:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm"}," + Tambah Baris ")]),o("div",BH,[o("table",_H,[B[61]||(B[61]=o("thead",{class:"bg-gray-50"},[o("tr",null,[o("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Halal/Non-Halal "),o("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Bin Karantina Tujuan "),o("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Kode Item"),o("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Nama Material"),o("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Batch/Mfg Lot"),o("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Exp Date"),o("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Qty Wadah"),o("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Qty Unit"),o("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Kondisi"),o("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"CoA "),o("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Label Mfg"),o("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Label & CoA Sesuai"),o("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Pabrik Pembuat"),o("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"}," Status QC"),o("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Aksi ")])],-1)),o("tbody",DH,[(U(!0),G($e,null,nt(D.value.items,(k,R)=>(U(),G("tr",{key:R},[o("td",kH,[o("div",SH,[o("button",{onClick:N=>ce(k,"isHalal"),class:Fe([k.isHalal?"bg-green-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Halal",10,FH),o("button",{onClick:N=>ce(k,"isNonHalal"),class:Fe([k.isNonHalal?"bg-red-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Non-Halal",10,TH)])]),o("td",IH,[Ee(o("select",{"onUpdate:modelValue":N=>k.binTarget=N,class:"w-32 text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-900"},[B[60]||(B[60]=o("option",{value:""},"Pilih Bin QRT",-1)),(U(),G($e,null,nt(le,N=>o("option",{key:N.code,value:N.code},P(N.code),9,PH)),64))],8,MH),[[ct,k.binTarget]])]),o("td",RH,[o("div",OH,[Ee(o("input",{"onUpdate:modelValue":N=>k.skuSearch=N,onInput:N=>ne(R),onFocus:N=>k.showSuggestions=!0,onBlur:N=>X.setTimeout(()=>{k.showSuggestions=!1},200),type:"text",placeholder:"Cari Kode/Nama SKU",class:Fe(["w-32 text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-900",{"border-red-500 ring-1 ring-red-500 bg-red-50":!k.kodeItem&&k.skuSearch}])},null,42,NH),[[Oe,k.skuSearch]])]),k.showSuggestions&&k.filteredMaterials.length>0?(U(),G("div",LH,[(U(!0),G($e,null,nt(k.filteredMaterials,N=>(U(),G("div",{key:N.id,onMousedown:or(V=>de(R,N),["prevent"]),class:"px-3 py-2 cursor-pointer hover:bg-blue-50 text-xs text-gray-900"}," **["+P(N.code)+"]** - "+P(N.name),41,$H))),128))])):pe("",!0),k.kodeItem?(U(),G("p",jH," **Dipilih:** "+P(k.kodeItemDisplay),1)):pe("",!0)]),o("td",UH,[Ee(o("input",{"onUpdate:modelValue":N=>k.namaMaterial=N,type:"text",readonly:"",class:"w-40 text-sm border border-gray-300 rounded px-2 py-1 bg-gray-50 text-gray-900"},null,8,HH),[[Oe,k.namaMaterial]])]),o("td",zH,[Ee(o("input",{"onUpdate:modelValue":N=>k.batchLot=N,type:"text",class:"w-28 text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-900"},null,8,VH),[[Oe,k.batchLot]])]),o("td",qH,[Ee(o("input",{"onUpdate:modelValue":N=>k.expDate=N,type:"date",class:"w-36 text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-900"},null,8,WH),[[Oe,k.expDate]])]),o("td",GH,[Ee(o("input",{"onUpdate:modelValue":N=>k.qtyUnit=N,type:"number",class:"w-24 text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-900"},null,8,QH),[[Oe,k.qtyUnit]])]),o("td",KH,[Ee(o("input",{"onUpdate:modelValue":N=>k.qtyWadah=N,type:"number",class:"w-24 text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-900"},null,8,YH),[[Oe,k.qtyWadah]])]),o("td",XH,[o("div",ZH,[o("button",{onClick:N=>ce(k,"kondisiBaik"),class:Fe([k.kondisiBaik?"bg-green-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Baik",10,JH),o("button",{onClick:N=>ce(k,"kondisiTidakBaik"),class:Fe([k.kondisiTidakBaik?"bg-red-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Tidak Baik",10,ez)])]),o("td",tz,[o("div",nz,[o("button",{onClick:N=>ce(k,"coaAda"),class:Fe([k.coaAda?"bg-green-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Ada",10,rz),o("button",{onClick:N=>ce(k,"coaTidakAda"),class:Fe([k.coaTidakAda?"bg-red-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Tidak",10,sz)])]),o("td",oz,[o("div",iz,[o("button",{onClick:N=>ce(k,"labelMfgAda"),class:Fe([k.labelMfgAda?"bg-green-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Ada",10,az),o("button",{onClick:N=>ce(k,"labelMfgTidakAda"),class:Fe([k.labelMfgTidakAda?"bg-red-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Tidak",10,lz)])]),o("td",cz,[o("div",dz,[o("button",{onClick:N=>ce(k,"labelCoaSesuai"),class:Fe([k.labelCoaSesuai?"bg-green-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Ada",10,uz),o("button",{onClick:N=>ce(k,"labelCoaTidakSesuai"),class:Fe([k.labelCoaTidakSesuai?"bg-red-500 text-white":"bg-gray-200 text-gray-700","px-2 py-1 text-xs rounded"])},"Tidak",10,xz)])]),o("td",fz,[Ee(o("input",{"onUpdate:modelValue":N=>k.pabrikPembuat=N,type:"text",class:"w-32 text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-900",placeholder:"Nama pabrik"},null,8,hz),[[Oe,k.pabrikPembuat]])]),o("td",gz,[o("span",pz,P(k.statusQC),1)]),o("td",mz,[o("button",{onClick:N=>Y(R),class:"bg-red-100 text-red-700 hover:bg-red-200 px-2 py-1 rounded text-xs"},"Hapus",8,yz)])]))),128))])])])]),$.value.length>0?(U(),G("div",bz,[B[63]||(B[63]=o("h4",{class:"text-md font-bold text-yellow-800 mb-3"},[o("span",{class:"inline-block align-middle mr-2"},""),qe(" Ringkasan Total Stok Masuk (Kalkulasi) ")],-1)),o("div",vz,[(U(!0),G($e,null,nt($.value,(k,R)=>(U(),G("div",{key:R,class:"bg-white p-3 rounded-md border border-yellow-300"},[B[62]||(B[62]=o("p",{class:"text-sm text-gray-600 truncate"},"Material:",-1)),o("p",Ez,P(k.materialName),1),o("p",wz,P(k.totalQty)+" "+P(k.satuan),1)]))),128))])])):pe("",!0),o("div",Cz,[o("div",Az,[o("button",{onClick:T,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"}," Batal "),o("button",{onClick:be,disabled:!M.value||m.value,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 flex items-center justify-center"},[m.value?(U(),G("svg",_z,[...B[64]||(B[64]=[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):pe("",!0),qe(" "+P(m.value?"Menyimpan...":"Simpan")+"         ",1)],8,Bz)])])])]),w.value?(U(),G("div",Dz,[o("div",kz,[o("div",Sz,[o("div",Fz,[o("h3",Tz,"Label QR Code - "+P(C.value?.noSuratJalan),1),o("button",{onClick:j,class:"text-gray-400 hover:text-gray-600"},[...B[65]||(B[65]=[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),o("div",Iz,[o("div",Mz,[o("div",null,[B[66]||(B[66]=o("span",{class:"font-medium text-gray-700"},"No PO:",-1)),o("span",Pz,P(C.value?.noPo),1)]),o("div",null,[B[67]||(B[67]=o("span",{class:"font-medium text-gray-700"},"Supplier:",-1)),o("span",Rz,P(C.value?.supplier),1)]),o("div",null,[B[68]||(B[68]=o("span",{class:"font-medium text-gray-700"},"No Kendaraan:",-1)),o("span",Oz,P(C.value?.noKendaraan),1)]),o("div",null,[B[69]||(B[69]=o("span",{class:"font-medium text-gray-700"},"Tanggal:",-1)),o("span",Nz,P(De(C.value?.tanggalTerima)),1)])])]),o("div",Lz,[B[73]||(B[73]=o("h4",{class:"text-md font-medium text-gray-900"},"Daftar QR Code per Item:",-1)),C.value?.items&&C.value.items.length>0?(U(),G("div",$z,[(U(!0),G($e,null,nt(C.value.items,(k,R)=>(U(),G("div",{key:R,class:"border border-gray-200 rounded-lg p-4"},[o("div",jz,[o("div",null,[o("div",Uz,P(k.kodeItem)+" - "+P(k.namaMaterial),1),o("div",Hz,[o("div",null,"Batch: "+P(k.batchLot),1),o("div",null,"Qty: "+P(k.qtyUnit),1),o("div",null,"Exp: "+P(Ie(k.expDate)),1)]),o("div",zz,[B[70]||(B[70]=o("strong",null,"QR Content:",-1)),B[71]||(B[71]=o("br",null,null,-1)),qe(P(k.qrCode?k.qrCode.split("|")[2]:"-"),1)]),o("div",Vz,[o("button",{onClick:N=>st(k),class:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm"}," Download QR ",8,qz),o("button",{onClick:N=>Te(k),class:"bg-gray-400 text-white px-3 py-1 rounded text-sm"}," Cetak QR ",8,Wz)])]),o("div",Gz,[o("div",Qz,[o("canvas",{"data-qr-canvas":R,class:"block"},null,8,Kz)]),B[72]||(B[72]=o("div",{class:"text-xs text-gray-500 text-center"}," Preview QR Code ",-1))])])]))),128))])):(U(),G("div",Yz," Belum ada item untuk shipment ini "))]),o("div",{class:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200"},[o("button",{onClick:j,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"}," Tutup "),o("button",{onClick:re,class:"bg-gray-400 px-4 py-2 text-white rounded-md"}," Cetak Semua QR ")])])])])):pe("",!0)])):pe("",!0)])]),_:1}))}}),Zz=Object.freeze(Object.defineProperty({__proto__:null,default:Xz},Symbol.toStringTag,{value:"Module"})),Jz={class:"space-y-6"},eV={class:"flex justify-between items-center"},tV={class:"text-sm text-gray-600"},nV={class:"bg-white rounded-lg p-4 shadow"},rV={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-4 items-end"},sV={class:"md:col-span-3 lg:col-span-3"},oV={class:"flex flex-wrap gap-2"},iV={class:"md:col-span-1 lg:col-span-1"},aV={class:"bg-white rounded-lg shadow overflow-hidden"},lV={class:"overflow-x-auto"},cV={class:"min-w-full divide-y divide-gray-200"},dV={class:"bg-white divide-y divide-gray-200"},uV={key:0},xV={colspan:"8",class:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-500"},fV={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},hV=["onClick"],gV={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},pV={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},mV={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},yV={class:"px-6 py-4 whitespace-nowrap"},bV={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},vV={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},EV={class:"flex space-x-2"},wV=["onClick"],CV=["onClick"],AV=["onClick"],BV={key:0,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},_V={class:"bg-white rounded-lg max-w-7xl w-full mx-4 max-h-[90vh] overflow-y-auto"},DV={class:"p-6"},kV={class:"flex justify-between items-center mb-6"},SV={class:"text-lg font-semibold text-gray-900"},FV={key:0,class:"bg-gray-50 rounded-lg p-4 mb-6"},TV={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},IV={class:"text-gray-900 font-medium"},MV={class:"text-gray-900"},PV={class:"text-gray-900"},RV={class:"bg-blue-50 rounded-lg p-4 mb-6"},OV={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},NV={class:"text-center"},LV={class:"text-2xl font-bold text-blue-600"},$V={class:"text-center"},jV={class:"text-2xl font-bold text-green-600"},UV={class:"text-center"},HV={class:"text-2xl font-bold text-gray-600"},zV={class:"mt-4"},VV={class:"flex justify-between text-sm mb-1"},qV={class:"text-blue-700"},WV={class:"w-full bg-blue-200 rounded-full h-2"},GV={class:"border border-gray-200 rounded-lg overflow-hidden"},QV={class:"overflow-x-auto"},KV={class:"min-w-full divide-y divide-gray-200",style:{"min-width":"1400px"}},YV={class:"divide-y divide-gray-200 bg-white"},XV={class:"px-3 py-2 whitespace-nowrap"},ZV=["onClick","disabled"],JV={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},eq={class:"px-3 py-2 whitespace-nowrap text-sm font-medium text-gray-900"},tq={class:"text-xs text-gray-600 font-normal"},nq={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},rq={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},sq={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},oq={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900 font-medium"},iq={class:"px-3 py-2 whitespace-nowrap text-sm text-gray-900"},aq={class:"px-3 py-2 whitespace-nowrap"},lq={class:"flex justify-between items-center mt-6 pt-6 border-t border-gray-200"},cq={class:"text-sm text-gray-600"},dq={class:"flex space-x-3"},uq=["disabled"],xq={key:1,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},fq={class:"bg-white rounded-lg max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto"},hq={class:"p-6"},gq={class:"flex justify-between items-center mb-4"},pq={class:"text-lg font-semibold text-gray-900"},mq={key:0,class:"bg-gray-50 p-3 rounded-lg mb-4"},yq={class:"text-sm"},bq={class:"font-medium text-gray-900"},vq={class:"text-gray-600"},Eq={class:"text-gray-600"},wq={class:"space-y-4"},Cq={class:"bg-blue-50 p-3 rounded-lg"},Aq={class:"text-sm font-medium text-blue-900"},Bq={class:"text-xs text-blue-700"},_q={class:"relative bg-black rounded-lg overflow-hidden",style:{"aspect-ratio":"4/3"}},Dq={key:0,class:"absolute inset-0 flex items-center justify-center"},kq={class:"absolute top-2 right-2 bg-black bg-opacity-75 text-white px-3 py-1 rounded text-xs"},Sq={class:"flex space-x-2"},Fq={class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Tq={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"},Iq={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"},Mq={key:0,class:"space-y-2"},Pq={class:"block text-sm font-medium text-gray-700"},Rq=["max"],Oq={class:"flex space-x-3"},Nq={key:2,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},Lq={class:"bg-white rounded-lg max-w-7xl w-full mx-4 max-h-[90vh] overflow-y-auto"},$q={class:"p-6"},jq={class:"flex justify-between items-center mb-6"},Uq={class:"text-lg font-semibold text-gray-900"},Hq={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"},zq={class:"bg-blue-50 p-4 rounded-lg"},Vq={class:"text-2xl font-bold text-blue-600"},qq={class:"bg-green-50 p-4 rounded-lg"},Wq={class:"text-2xl font-bold text-green-600"},Gq={class:"bg-gray-50 p-4 rounded-lg"},Qq={class:"text-2xl font-bold text-gray-600"},Kq={class:"bg-white border border-gray-200 rounded-lg overflow-hidden"},Yq={class:"overflow-x-auto"},Xq={class:"min-w-full divide-y divide-gray-200"},Zq={class:"divide-y divide-gray-200"},Jq={class:"px-4 py-3 text-sm font-medium text-gray-900"},eW={class:"px-4 py-3 text-sm text-gray-900"},tW={class:"px-4 py-3 text-sm text-gray-900"},nW={class:"px-4 py-3 text-sm text-gray-900"},rW={class:"px-4 py-3 text-sm text-gray-900"},sW={class:"px-4 py-3 text-sm text-gray-900"},oW={class:"px-4 py-3"},iW={class:"px-4 py-3 text-sm text-gray-900"},aW={__name:"PickingList",setup(e){const t=ve("ALL"),n=ve(""),r=ve([]),i=ve(!1),a=ve(!1),c=ve(!1),u=ve(null),g=ve(null),f=ve(""),m=ve(1),y=ve(null),w=ve(0),E=ve(""),C=ve(null),D=ve(null),_=ve(!1),M=ve(!1),$=ve("Kamera Off");let I=null,S=null;const T={box:{SHP001:"SHP001|LOT001|50|2025-12-31|ACTIVE",SHP002:"SHP002|LOT002|100|2025-12-31|ACTIVE",20008:"20008|BATCH-A|100|2024-10-01|ACTIVE",20009:"20009|BATCH-B|1100|2024-12-31|ACTIVE"}},j=async()=>{try{const xe=await St.get(route("transaction.api.picking-list"));r.value=xe.data}catch(xe){console.error("Error fetching picking list:",xe)}},L=We(()=>u.value?.items?u.value.items.length:0),z=We(()=>u.value?.items?u.value.items.filter(xe=>xe.status==="Picked").length:0);We(()=>u.value?.items?u.value.items.filter(xe=>xe.status==="Short-Pick").length:0);const F=We(()=>u.value?.items?u.value.items.filter(xe=>xe.status==="Reserved"||xe.status==="In Progress").length:0),Q=We(()=>u.value?.items?u.value.items.filter(xe=>xe.status==="Picked"||xe.status==="Short-Pick").length:0),le=We(()=>{if(!u.value?.items)return 0;const xe=u.value.items.length,ge=Q.value;return xe>0?ge/xe*100:0}),Y=We(()=>u.value?.items?u.value.items.every(xe=>xe.status==="Picked"||xe.status==="Short-Pick"):!1),ce=We(()=>["","Scan QR Box/Material untuk validasi kode dan batch","Scan QR Source Bin untuk validasi lokasi pengambilan","Input quantity yang dipick","Scan QR Dest Bin (Staging Area) untuk validasi transfer"][m.value]),me=We(()=>g.value?.items?g.value.items.length:0),te=We(()=>g.value?.items?g.value.items.filter(xe=>xe.status==="Picked").length:0);We(()=>g.value?.items?g.value.items.filter(xe=>xe.status==="Short-Pick").length:0);const ne=We(()=>g.value?.items?g.value.items.filter(xe=>xe.status==="Reserved"||xe.status==="In Progress").length:0),de=async()=>{try{$.value="Mengaktifkan kamera...";const xe={video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}};I=await navigator.mediaDevices.getUserMedia(xe),C.value&&(C.value.srcObject=I,_.value=!0,M.value=!0,$.value="Kamera Aktif - Siap Scan",Ie())}catch(xe){console.error("Error accessing camera:",xe),$.value="Error: Tidak dapat mengakses kamera",console.error("Tidak dapat mengakses kamera. Pastikan Anda memberikan izin akses kamera.")}},be=()=>{I&&(I.getTracks().forEach(xe=>xe.stop()),I=null),C.value&&(C.value.srcObject=null),S&&(clearInterval(S),S=null),_.value=!1,M.value=!1,$.value="Kamera Off"},De=()=>{_.value?be():de()},Ie=()=>{S=setInterval(()=>{!M.value||C.value},100)},fe=()=>{if(!y.value)return;let xe="";switch(m.value){case 1:xe=T.box[y.value.kodeItem]?`${y.value.kodeItem}|${y.value.lotSerial}|100|2025-12-31|ACTIVE`:`${y.value.kodeItem}|${y.value.lotSerial}|50|2025-12-31|ACTIVE`;break;case 2:xe=y.value.sourceBin;break;case 4:xe=y.value.destBin;break;default:console.warn("Step ini tidak memerlukan scan QR");return}f.value=xe;const ge=$.value;$.value=" QR Terdeteksi!",setTimeout(()=>{$.value=ge,N()},500)},Pe=We(()=>r.value.filter(xe=>{const ge=t.value==="ALL"||xe.status===t.value||t.value==="Pending"&&(xe.status==="Reserved"||xe.status==="Ready to Pick"),Me=n.value.toLowerCase().trim(),Xe=!Me||xe.items.some(Ze=>Ze.lotSerial&&Ze.lotSerial.toLowerCase().includes(Me));return ge&&Xe})),Ge=xe=>({Reserved:"bg-gray-100 text-gray-800",Pending:"bg-gray-100 text-gray-800","In Progress":"bg-yellow-100 text-yellow-800",Completed:"bg-green-100 text-green-800","Short-Pick":"bg-orange-100 text-orange-800"})[xe]||"bg-gray-100 text-gray-800",Ne=xe=>({Reserved:"bg-gray-100 text-gray-700",Pending:"bg-gray-100 text-gray-700",Picked:"bg-green-100 text-green-700","Short-Pick":"bg-orange-100 text-orange-700"})[xe]||"bg-gray-100 text-gray-700",tt=xe=>({Picked:"bg-green-50","Short-Pick":"bg-orange-50",Reserved:"bg-white",Pending:"bg-white"})[xe]||"bg-white",Re=xe=>{if(!xe)return"-";try{return new Date(xe).toLocaleString("id-ID",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return xe}},Je=xe=>{if(!xe.pickingStartedAt)return"-";const ge=new Date(xe.pickingStartedAt),Xe=(xe.pickingCompletedAt?new Date(xe.pickingCompletedAt):new Date)-ge;if(Xe<0)return"-";const Ze=Math.floor(Xe/1e3),xt=Math.floor(Ze/3600),ft=Math.floor(Ze%3600/60);return xt>0?`${xt} jam ${ft} menit`:ft>0?`${ft} menit`:"< 1 menit"},et=xe=>{console.log(`Melihat detail reservasi: ${xe}`)},st=xe=>{g.value=xe,c.value=!0},Te=async xe=>{if(u.value=JSON.parse(JSON.stringify(xe)),xe.status==="Reserved"||xe.status==="Pending"||xe.status==="Ready to Pick"||xe.status==="In Progress")try{await St.post(route("transaction.picking-list.update-status",xe.id),{status:"In Progress"});const ge=r.value.findIndex(Me=>Me.id===xe.id);ge!==-1&&(r.value[ge].status="In Progress",u.value.status="In Progress",console.log(`Status Task ${xe.toNumber} diubah menjadi In Progress.`))}catch(ge){console.error("Gagal update status task:",ge),alert("Gagal memulai Picking Task: "+(ge.response?.data?.message||ge.message))}i.value=!0},re=()=>{i.value=!1,u.value=null,R(),j()},X=()=>{c.value=!1,g.value=null},B=(xe,ge)=>{xe.status!=="Picked"&&(y.value=JSON.parse(JSON.stringify(xe)),w.value=ge,a.value=!0,R())},k=()=>{be(),a.value=!1,R()},R=()=>{m.value=1,f.value="",E.value=""},N=()=>{if(!f.value&&m.value!==3){console.error("Silakan scan atau input QR Code!");return}switch(m.value){case 1:V(f.value);break;case 2:K(f.value);break;case 3:ue();break;case 4:ie(f.value);break}},V=xe=>{const ge=xe.split("|");if(ge.length<2){console.error("Format QR Box tidak valid! Harap ikuti format: ITEM_CODE|BATCH_LOT|...");return}const Me=ge[0],Xe=ge[1];if(Me!==y.value.kodeItem||Xe!==y.value.lotSerial){console.error(`Item/Batch tidak sesuai!
Harus: ${y.value.kodeItem} - ${y.value.lotSerial}
Di-scan: ${Me} - ${Xe}`);return}m.value=2,f.value="",console.log(` Item valid: ${y.value.kodeItem} - ${y.value.lotSerial}`)},K=xe=>{if(y.value){if(xe!==y.value.sourceBin){console.error(`Lokasi bin salah!
Harus: ${y.value.sourceBin}
Di-scan: ${xe}`);return}m.value=3,f.value="",E.value=y.value.qtyDiminta,console.log(` Source Bin valid: ${xe}`)}},ue=()=>{const xe=parseFloat(E.value);if(isNaN(xe)||xe<=0){console.error("Silakan input quantity yang valid!");return}const ge=y.value.qtyDiminta;if(xe>ge){console.error(`Quantity melebihi yang dialokasikan!
Dialokasikan: ${ge}
Input: ${xe}`);return}y.value.qtyPicked=xe,xe===ge?(y.value.status="Picked",console.log(` Batch berhasil dipick complete: ${xe}/${ge}`)):(y.value.status="Short-Pick",console.warn(` Short-pick detected: ${xe}/${ge}`));const Me=u.value.items.find(Xe=>Xe.id===y.value.id);Me&&(Me.qtyPicked=y.value.qtyPicked,Me.status=y.value.status),y.value.destBin&&y.value.destBin!=="-"?(m.value=4,f.value=""):W()},ie=xe=>{if(y.value){if(xe!==y.value.destBin){console.error(`Destination bin salah!
Harus: ${y.value.destBin}
Di-scan: ${xe}`);return}console.log(` Destination Bin valid: ${xe}`),W()}},W=()=>{console.log(`Batch ${y.value.lotSerial} untuk ${y.value.kodeItem} berhasil diselesaikan!`),k(),u.value.items.filter(ge=>ge.status==="Reserved"||ge.status==="In Progress").length===0&&console.log('Semua alokasi batch sudah dipick! Silakan klik "Selesai Picking"')},ee=()=>{m.value>1&&(m.value--,f.value="")},J=async()=>{if(!u.value)return;if(!Y.value){console.error("Mohon selesaikan semua alokasi batch sebelum menyelesaikan picking task.");return}const xe=u.value.items.map(ge=>({reservation_id:ge.id,picked_quantity:ge.qtyPicked||0}));try{const ge=await St.post(route("transaction.picking-list.store"),{reservation_request_id:u.value.id,items:xe});let Me="Picking Task berhasil diselesaikan dan status diperbarui.";ge.data&&ge.data.flash&&ge.data.flash.message&&(Me=ge.data.flash.message),alert(Me),re()}catch(ge){console.error("Error finishing picking:",ge),ge.response?ge.response.data&&ge.response.data.message?ge.response.data.message:ge.response.data&&ge.response.data.errors?Object.values(ge.response.data.errors).flat().join(`
`):`${ge.response.status}${ge.response.statusText}`:ge.request||ge.message,alert("Gagal menyelesaikan picking: "+(ge.response?.data?.message||"Terjadi kesalahan pada server."))}},se=xe=>{const ge=window.open("","_blank"),Me=xe.items.length,Xe=xe.items.filter(xt=>xt.status==="Picked").length,Ze=xe.items.filter(xt=>xt.status==="Short-Pick").length;ge.document.write(`
        <html>
            <head>
                <title>Picking List - ${xe.toNumber}</title>
                <style>
                    body { font-family: Arial, sans-serif; margin: 20px; font-size: 12px; }
                    .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 15px; margin-bottom: 20px; }
                    .info-section { margin: 15px 0; }
                    .info-row { display: flex; justify-content: space-between; margin: 8px 0; }
                    .items-table { width: 100%; border-collapse: collapse; margin: 20px 0; }
                    .items-table th, .items-table td { border: 1px solid #000; padding: 6px; text-align: left; font-size: 11px; }
                    .items-table th { background-color: #f0f0f0; font-weight: bold; }
                    .picked { background-color: #e6ffe6; }
                    .short-pick { background-color: #fff2e6; }
                    .summary { margin: 20px 0; padding: 10px; background-color: #f9f9f9; border: 1px solid #ddd; }
                    .signature { margin-top: 40px; display: flex; justify-content: space-between; }
                    .signature div { text-align: center; }
                    .signature-line { border-top: 1px solid #000; width: 150px; margin-top: 40px; }
                    @media print {
                        body { margin: 0; font-size: 10px; }
                    }
                </style>
            </head>
            <body>
                <div class="header">
                    <h2>PICKING LIST</h2>
                    <p><strong>TO Number: ${xe.toNumber}</strong></p>
                    <p>Creation Date: ${Re(xe.tanggalDibuat)} | Warehouse: Main WH</p>
                </div>
                
                <div class="info-section">
                    <div class="info-row">
                        <span><strong>No Reservasi:</strong> ${xe.noReservasi}</span>
                        <span><strong>Transaction Type:</strong> Picking</span>
                    </div>
                    <div class="info-row">
                        <span><strong>Requester:</strong> ${xe.requester}</span>
                        <span><strong>Departemen:</strong> ${xe.departemen}</span>
                    </div>
                    <div class="info-row">
                        <span><strong>Status:</strong> ${xe.status}</span>
                        <span><strong>Print Date:</strong> ${new Date().toLocaleString("id-ID")}</span>
                    </div>
                </div>

                <div class="summary">
                    <strong>Summary:</strong> Total ${Me} Batch Alokasi | Picked: ${Xe} | Short-pick: ${Ze} | Pending: ${Me-Xe-Ze}
                </div>
                
                <table class="items-table">
                    <thead>
                        <tr>
                            <th rowspan="2" style="vertical-align: middle; text-align: center; width: 5%;">No</th>
                            <th rowspan="2" style="vertical-align: middle; text-align: center; width: 10%;">Code Item</th>
                            <th rowspan="2" style="vertical-align: middle; text-align: center; width: 25%;">Material Description</th>
                            <th rowspan="2" style="vertical-align: middle; text-align: center; width: 10%;">Batch/Lot</th>
                            <th colspan="2" style="text-align: center; width: 20%;">Bin Location</th>
                            <th rowspan="2" style="vertical-align: middle; text-align: center; width: 8%;">Qty Alokasi</th>
                            <th rowspan="2" style="vertical-align: middle; text-align: center; width: 5%;">UoM</th>
                            <th rowspan="2" style="vertical-align: middle; text-align: center; width: 10%;">Qty Picked</th>
                        </tr>
                        <tr>
                            <th style="text-align: center; width: 10%;">Source Bin Location</th>
                            <th style="text-align: center; width: 10%;">Dest. Bin Location</th>
                        </tr>
                    </thead>
                    <tbody>
                    ${xe.items.map((xt,ft)=>`
                        <tr class="${xt.status==="Picked"?"picked":xt.status==="Short-Pick"?"short-pick":""}" style="height: 40px;">
                            <td style="text-align: center; vertical-align: middle;">${ft+1}</td>
                            <td style="vertical-align: middle;">${xt.kodeItem}</td>
                            <td style="vertical-align: middle;">${xt.namaMaterial}</td>
                            <td style="text-align: center; vertical-align: middle;">${xt.lotSerial}</td>
                            <td style="text-align: center; vertical-align: middle;">${xt.sourceBin}</td>
                            <td style="text-align: center; vertical-align: middle;">Production Area</td>
                            <td style="text-align: center; vertical-align: middle;">${xt.qtyDiminta}</td>
                            <td style="text-align: center; vertical-align: middle;">${xt.uom}</td>
                            <td style="text-align: center; vertical-align: middle;">${xt.qtyPicked||""}</td>
                        </tr>
                    `).join("")}
                    </tbody>
                </table>
                
                <div class="signature">
                    <div>
                        <p>Diserahkan Oleh:</p>
                        <div class="signature-line"></div>
                        <p>Warehouse Staff</p>
                    </div>
                    <div>
                        <p>Diterima Oleh:</p>
                        <div class="signature-line"></div>
                        <p>${xe.requester}</p>
                    </div>
                    <div>
                        <p>Mengetahui:</p>
                        <div class="signature-line"></div>
                        <p>Supervisor</p>
                    </div>
                </div>
            </body>
        </html>
    `),ge.document.close(),ge.focus(),setTimeout(()=>{ge.print(),ge.close()},500)};return Gn(()=>{j()}),M0(()=>{be()}),(xe,ge)=>(U(),Et(Qn,{title:"Riwayat Aktivitas"},{default:bt(()=>[o("div",Jz,[o("div",eV,[ge[9]||(ge[9]=o("h2",{class:"text-2xl font-bold text-gray-900"},"Picking List (Transfer Order)",-1)),o("div",tV," Total picking tasks: "+P(r.value.length),1)]),o("div",nV,[o("div",rV,[o("div",sV,[ge[10]||(ge[10]=o("span",{class:"text-sm font-medium text-gray-700 block mb-2"},"Filter Status:",-1)),o("div",oV,[o("button",{onClick:ge[0]||(ge[0]=Me=>t.value="ALL"),class:Fe([t.value==="ALL"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700","px-3 py-1 rounded text-sm hover:bg-blue-500 hover:text-white"])}," Semua ",2),o("button",{onClick:ge[1]||(ge[1]=Me=>t.value="Pending"),class:Fe([t.value==="Pending"?"bg-gray-600 text-white":"bg-gray-200 text-gray-700","px-3 py-1 rounded text-sm hover:bg-gray-500 hover:text-white"])}," Pending ",2),o("button",{onClick:ge[2]||(ge[2]=Me=>t.value="In Progress"),class:Fe([t.value==="In Progress"?"bg-yellow-600 text-white":"bg-gray-200 text-gray-700","px-3 py-1 rounded text-sm hover:bg-yellow-500 hover:text-white"])}," In Progress ",2),o("button",{onClick:ge[3]||(ge[3]=Me=>t.value="Completed"),class:Fe([t.value==="Completed"?"bg-green-600 text-white":"bg-gray-200 text-gray-700","px-3 py-1 rounded text-sm hover:bg-green-500 hover:text-white"])}," Completed ",2),o("button",{onClick:ge[4]||(ge[4]=Me=>t.value="Short-Pick"),class:Fe([t.value==="Short-Pick"?"bg-orange-600 text-white":"bg-gray-200 text-gray-700","px-3 py-1 rounded text-sm hover:bg-orange-500 hover:text-white"])}," Short-Pick ",2)])]),o("div",iV,[ge[11]||(ge[11]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Cari Batch/Lot",-1)),Ee(o("input",{"onUpdate:modelValue":ge[5]||(ge[5]=Me=>n.value=Me),type:"text",placeholder:"BCH-123...",class:"w-full px-3 py-1.5 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"},null,512),[[Oe,n.value]])])])]),o("div",aV,[o("div",lV,[o("table",cV,[ge[12]||(ge[12]=o("thead",{class:"bg-gray-50"},[o("tr",null,[o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"TO Number"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"No Reservasi"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Batch/Lot Utama"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tanggal Dibuat"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Requester / Departemen"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Durasi"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),o("tbody",dV,[Pe.value.length===0?(U(),G("tr",uV,[o("td",xV," Tidak ada Picking Task yang ditemukan untuk status "+P(t.value==="ALL"?"apapun":t.value)+". ",1)])):pe("",!0),(U(!0),G($e,null,nt(Pe.value,Me=>(U(),G("tr",{key:Me.id,class:"hover:bg-gray-50"},[o("td",fV,P(Me.toNumber),1),o("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-blue-600 hover:underline cursor-pointer",onClick:Xe=>et(Me.noReservasi)},P(Me.noReservasi),9,hV),o("td",gV,P(Me.items&&Me.items.length>0?Me.items[0].lotSerial:"N/A"),1),o("td",pV,P(Re(Me.tanggalDibuat)),1),o("td",mV,P(Me.requester)+" / "+P(Me.departemen),1),o("td",yV,[o("span",{class:Fe([Ge(Me.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},P(Me.status),3)]),o("td",bV,P(Je(Me)),1),o("td",vV,[o("div",EV,[o("button",{onClick:Xe=>st(Me),class:"bg-blue-100 text-blue-700 hover:bg-blue-200 px-2 py-1 rounded text-xs"}," Detail ",8,wV),Me.status==="Pending"||Me.status==="Reserved"||Me.status==="In Progress"||Me.status==="Ready to Pick"?(U(),G("button",{key:0,onClick:Xe=>Te(Me),class:"bg-green-100 text-green-700 hover:bg-green-200 px-2 py-1 rounded text-xs"}," Kerjakan ",8,CV)):pe("",!0),o("button",{onClick:Xe=>se(Me),class:"bg-purple-100 text-purple-700 hover:bg-purple-200 px-2 py-1 rounded text-xs"}," Cetak Picking List ",8,AV)])])]))),128))])])])]),i.value?(U(),G("div",BV,[o("div",_V,[o("div",DV,[o("div",kV,[o("h3",SV,"Detail Picking Task - "+P(u.value?.toNumber),1),o("button",{onClick:re,class:"text-gray-400 hover:text-gray-600"},[...ge[13]||(ge[13]=[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),u.value?(U(),G("div",FV,[o("div",TV,[o("div",null,[ge[14]||(ge[14]=o("span",{class:"text-sm font-medium text-gray-700"},"TO Number:",-1)),o("div",IV,P(u.value.toNumber),1)]),o("div",null,[ge[15]||(ge[15]=o("span",{class:"text-sm font-medium text-gray-700"},"No Reservasi:",-1)),o("div",{class:"text-blue-600 cursor-pointer hover:underline",onClick:ge[6]||(ge[6]=Me=>et(u.value.noReservasi))},P(u.value.noReservasi),1)]),o("div",null,[ge[16]||(ge[16]=o("span",{class:"text-sm font-medium text-gray-700"},"Tanggal Dibuat:",-1)),o("div",MV,P(Re(u.value.tanggalDibuat)),1)]),o("div",null,[ge[17]||(ge[17]=o("span",{class:"text-sm font-medium text-gray-700"},"Requester:",-1)),o("div",PV,P(u.value.requester)+" / "+P(u.value.departemen),1)])])])):pe("",!0),o("div",RV,[o("div",OV,[o("div",NV,[o("div",LV,P(L.value),1),ge[18]||(ge[18]=o("div",{class:"text-sm text-blue-700"},"Total Alokasi Batch",-1))]),o("div",$V,[o("div",jV,P(z.value),1),ge[19]||(ge[19]=o("div",{class:"text-sm text-green-700"},"Picked Complete",-1))]),o("div",UV,[o("div",HV,P(F.value),1),ge[20]||(ge[20]=o("div",{class:"text-sm text-gray-700"},"Pending",-1))])]),o("div",zV,[o("div",VV,[ge[21]||(ge[21]=o("span",{class:"text-blue-700"},"Progress Picking",-1)),o("span",qV,P(Math.round(le.value))+"%",1)]),o("div",WV,[o("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:Oi({width:le.value+"%"})},null,4)])])]),o("div",GV,[o("div",QV,[o("table",KV,[ge[24]||(ge[24]=o("thead",{class:"bg-gray-50"},[o("tr",null,[o("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Aksi"),o("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"No"),o("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap min-w-[120px]"},"Kode Item / Nama Material"),o("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap min-w-[120px]"},"Lot/Batch"),o("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap min-w-[150px]"},"Source Bin"),o("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Exp Date"),o("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Qty Dialokasikan"),o("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"UoM"),o("th",{class:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase whitespace-nowrap"},"Status")])],-1)),o("tbody",YV,[(U(!0),G($e,null,nt(u.value?.items||[],(Me,Xe)=>(U(),G("tr",{key:Xe,class:Fe(Me.status==="Picked"?"bg-green-50":Me.status==="Short-Pick"?"bg-orange-50":"")},[o("td",XV,[o("button",{onClick:Ze=>B(Me,Xe),disabled:Me.status==="Picked",class:Fe([Me.status==="Picked"?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white","px-3 py-1 rounded text-xs font-medium transition-colors duration-200"])},[ge[22]||(ge[22]=o("svg",{class:"w-4 h-4 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h2M4 4h16a2 2 0 012 2v12a2 2 0 01-2 2H4a2 2 0 01-2-2V6a2 2 0 012-2z"})],-1)),qe(" "+P(Me.status==="Picked"?"Done":"Scan QR"),1)],10,ZV)]),o("td",JV,P(Xe+1),1),o("td",eq,[qe(P(Me.kodeItem)+" ",1),ge[23]||(ge[23]=o("br",null,null,-1)),o("span",tq,P(Me.namaMaterial),1)]),o("td",nq,P(Me.lotSerial),1),o("td",rq,P(Me.sourceBin),1),o("td",sq,P(Me.expDate?new Date(Me.expDate).toLocaleDateString("id-ID"):"-"),1),o("td",oq,P(Me.qtyDiminta),1),o("td",iq,P(Me.uom),1),o("td",aq,[o("span",{class:Fe([Ne(Me.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},P(Me.status),3)])],2))),128))])])])]),o("div",lq,[o("div",cq," Progress: "+P(Q.value)+"/"+P(u.value?.items?.length||0)+" batch allocations completed ",1),o("div",dq,[o("button",{onClick:re,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"}," Batal "),o("button",{onClick:J,disabled:!Y.value,class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-gray-400"}," Selesai Picking ",8,uq)])])])])])):pe("",!0),a.value?(U(),G("div",xq,[o("div",fq,[o("div",hq,[o("div",gq,[o("h3",pq,"QR Scanner - Batch Item #"+P(w.value+1),1),o("button",{onClick:k,class:"text-gray-400 hover:text-gray-600"},[...ge[25]||(ge[25]=[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),y.value?(U(),G("div",mq,[o("div",yq,[o("div",bq,P(y.value.kodeItem)+" - "+P(y.value.namaMaterial),1),o("div",vq,"Batch: "+P(y.value.lotSerial)+" | Qty Alokasi: "+P(y.value.qtyDiminta)+" "+P(y.value.uom),1),o("div",Eq,"Source: "+P(y.value.sourceBin)+" ("+P(y.value.sourceWarehouse)+")",1)])])):pe("",!0),o("div",wq,[o("div",Cq,[o("div",Aq,"Step "+P(m.value)+"/4",1),o("div",Bq,P(ce.value),1)]),o("div",_q,[o("video",{ref_key:"videoElement",ref:C,autoplay:"",playsinline:"",class:"w-full h-full object-cover"},null,512),o("canvas",{ref_key:"canvasElement",ref:D,class:"hidden"},null,512),M.value?(U(),G("div",Dq,[...ge[26]||(ge[26]=[o("div",{class:"border-4 border-green-500 rounded-lg",style:{width:"250px",height:"250px"}},[o("div",{class:"absolute inset-0 border-2 border-white opacity-50 animate-pulse"})],-1)])])):pe("",!0),o("div",kq,P($.value),1)]),o("div",Sq,[o("button",{onClick:De,class:Fe([_.value?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700","flex-1 text-white py-2 px-4 rounded-md flex items-center justify-center"])},[(U(),G("svg",Fq,[_.value?(U(),G("path",Iq)):(U(),G("path",Tq))])),qe(" "+P(_.value?"Matikan Kamera":"Aktifkan Kamera"),1)],2),o("button",{onClick:fe,class:"bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-md flex items-center justify-center"},[...ge[27]||(ge[27]=[o("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})],-1),qe(" Simulasi Scan ",-1)])])]),o("div",null,[ge[28]||(ge[28]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Atau input manual QR Code:",-1)),Ee(o("input",{"onUpdate:modelValue":ge[7]||(ge[7]=Me=>f.value=Me),onKeyup:Ni(N,["enter"]),type:"text",placeholder:"Scan atau ketik QR Code...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,544),[[Oe,f.value]])]),m.value===3?(U(),G("div",Mq,[o("label",Pq,"Qty yang Dipick (Max: "+P(y.value?.qtyDiminta||0)+" "+P(y.value?.uom||"")+"):",1),Ee(o("input",{"onUpdate:modelValue":ge[8]||(ge[8]=Me=>E.value=Me),type:"number",max:y.value?.qtyDiminta,placeholder:"Masukkan quantity...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,8,Rq),[[Oe,E.value,void 0,{number:!0}]])])):pe("",!0),o("div",Oq,[o("button",{onClick:N,class:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-md"},P(m.value===3?"Confirm Qty":"Process QR"),1),m.value>1?(U(),G("button",{key:0,onClick:ee,class:"bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-md"}," Back ")):pe("",!0)])])])])])):pe("",!0),c.value?(U(),G("div",Nq,[o("div",Lq,[o("div",$q,[o("div",jq,[o("h3",Uq,"Summary Detail - "+P(g.value?.toNumber),1),o("button",{onClick:X,class:"text-gray-400 hover:text-gray-600"},[...ge[29]||(ge[29]=[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),o("div",Hq,[o("div",zq,[o("div",Vq,P(me.value),1),ge[30]||(ge[30]=o("div",{class:"text-sm text-blue-700"},"Total Alokasi Batch",-1))]),o("div",qq,[o("div",Wq,P(te.value),1),ge[31]||(ge[31]=o("div",{class:"text-sm text-green-700"},"Batch Picked Complete",-1))]),o("div",Gq,[o("div",Qq,P(ne.value),1),ge[32]||(ge[32]=o("div",{class:"text-sm text-gray-700"},"Pending",-1))])]),o("div",Kq,[ge[34]||(ge[34]=o("div",{class:"px-4 py-3 bg-gray-50 border-b border-gray-200"},[o("h4",{class:"text-sm font-medium text-gray-900"},"Detail Alokasi Batch")],-1)),o("div",Yq,[o("table",Xq,[ge[33]||(ge[33]=o("thead",{class:"bg-gray-50"},[o("tr",null,[o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Kode Item"),o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Nama Material"),o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Batch/Lot"),o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Qty Alokasi"),o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Qty Picked"),o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"UoM"),o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status"),o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Source Bin")])],-1)),o("tbody",Zq,[(U(!0),G($e,null,nt(g.value?.items||[],(Me,Xe)=>(U(),G("tr",{key:Xe,class:Fe(tt(Me.status))},[o("td",Jq,P(Me.kodeItem),1),o("td",eW,P(Me.namaMaterial),1),o("td",tW,P(Me.lotSerial),1),o("td",nW,P(Me.qtyDiminta),1),o("td",rW,P(Me.qtyPicked||0),1),o("td",sW,P(Me.uom),1),o("td",oW,[o("span",{class:Fe([Ne(Me.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},P(Me.status),3)]),o("td",iW,P(Me.sourceBin),1)],2))),128))])])])]),o("div",{class:"flex justify-end mt-6"},[o("button",{onClick:X,class:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700"}," Tutup ")])])])])):pe("",!0)])]),_:1}))}},lW=Object.freeze(Object.defineProperty({__proto__:null,default:aW},Symbol.toStringTag,{value:"Module"})),cW={class:"min-h-screen bg-gray-50 p-6"},dW={class:"bg-white rounded-lg shadow-sm p-4 mb-6"},uW={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},xW={class:"bg-white rounded-lg shadow-sm overflow-hidden"},fW={class:"px-6 py-4 border-b border-gray-200"},hW={class:"text-sm text-gray-600 mt-1"},gW={class:"overflow-x-auto"},pW={class:"w-full"},mW={class:"bg-white divide-y divide-gray-200"},yW={key:0},bW={class:"px-6 py-4 whitespace-nowrap"},vW={class:"font-medium text-gray-900"},EW={key:0,class:"text-sm text-gray-500"},wW={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},CW={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},AW={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},BW={class:"px-6 py-4 whitespace-nowrap"},_W={class:"px-6 py-4 whitespace-nowrap"},DW={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},kW={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},SW={class:"flex items-center justify-end gap-2"},FW=["onClick"],TW=["onClick"],IW=["onClick"],MW={key:0,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},PW={class:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-screen overflow-y-auto"},RW={class:"flex justify-between items-center mb-6"},OW={class:"space-y-6"},NW={class:"overflow-x-auto"},LW={class:"w-full border border-gray-200 rounded-lg"},$W={class:"bg-white divide-y divide-gray-200"},jW={class:"px-4 py-3"},UW=["onUpdate:modelValue"],HW={class:"px-4 py-3 text-sm text-gray-900"},zW={class:"px-4 py-3 text-sm text-gray-900"},VW={class:"px-4 py-3 text-sm text-gray-900"},qW={class:"px-4 py-3 text-sm text-gray-900"},WW={class:"px-4 py-3 text-sm text-gray-900"},GW={class:"px-4 py-3"},QW={class:"flex items-center gap-2"},KW=["onUpdate:modelValue","disabled"],YW=["value"],XW=["onClick","disabled"],ZW={class:"flex gap-3 justify-end"},JW=["disabled"],eG={key:1,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},tG={class:"bg-white rounded-lg p-6 w-full max-w-2xl"},nG={class:"flex justify-between items-center mb-4"},rG={class:"text-lg font-semibold"},sG={key:0,class:"space-y-4"},oG={class:"grid grid-cols-2 gap-4"},iG={class:"text-sm text-gray-900 mt-1"},aG={class:"text-sm text-gray-900 mt-1"},lG={class:"text-sm text-gray-900 mt-1"},cG={class:"text-sm text-gray-900 mt-1"},dG={class:"max-h-40 overflow-y-auto"},uG={class:"w-full text-sm"},xG={class:"px-3 py-2"},fG={class:"px-3 py-2"},hG={class:"px-3 py-2"},gG={key:0,class:"border-t"},pG={class:"flex justify-end mt-6"},mG={key:2,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},yG={class:"bg-white rounded-lg p-6 w-full max-w-7xl max-h-screen overflow-y-auto"},bG={class:"flex justify-between items-center mb-6"},vG={class:"text-xl font-semibold"},EG={class:"text-gray-600 mt-1"},wG={class:"bg-gray-50 rounded-lg p-4 mb-6"},CG={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},AG={class:"text-sm text-gray-900 mt-1"},BG={key:0},_G={class:"text-sm text-gray-900 mt-1"},DG={class:"text-sm text-gray-900 mt-1"},kG={key:1},SG={class:"text-sm text-gray-900 mt-1"},FG={class:"mb-6"},TG={class:"overflow-x-auto"},IG={class:"w-full border border-gray-200 rounded-lg"},MG={class:"bg-gray-50"},PG={key:0,class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},RG={class:"bg-white divide-y divide-gray-200"},OG={class:"px-4 py-3 text-sm text-gray-900"},NG={class:"px-4 py-3 text-sm text-gray-900"},LG={class:"px-4 py-3 text-sm text-gray-900"},$G={class:"px-4 py-3 text-sm text-gray-900"},jG={class:"px-4 py-3 text-sm text-gray-900"},UG={class:"px-4 py-3 text-sm text-gray-900"},HG={class:"px-4 py-3 text-sm text-gray-900"},zG={class:"px-4 py-3 text-sm text-gray-900"},VG={class:"px-4 py-3"},qG={key:0,class:"px-4 py-3"},WG={key:0,class:"flex gap-2"},GG=["onClick"],QG={class:"flex items-center gap-1"},KG={class:"flex gap-3 justify-end"},YG=["disabled"],XG={key:3,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},ZG={class:"bg-white rounded-lg p-6 w-full max-w-md"},JG={class:"flex justify-between items-center mb-4"},eQ={class:"text-lg font-semibold"},tQ={class:"text-sm text-gray-600"},nQ={class:"mb-6"},rQ={class:"flex items-center justify-between mb-2"},sQ={class:"text-xs font-medium text-blue-600"},oQ={class:"w-full bg-gray-200 rounded-full h-2"},iQ={class:"flex items-center justify-between mb-6"},aQ={class:"flex flex-col items-center flex-1"},lQ={key:0},cQ={key:1},dQ={class:"flex flex-col items-center flex-1"},uQ={key:0},xQ={key:1},fQ={class:"flex flex-col items-center flex-1"},hQ={class:"text-center mb-4"},gQ={key:0},pQ={key:0,class:"mt-2 text-xs text-gray-500"},mQ={key:1,class:"mt-2 text-xs text-gray-500"},yQ={class:"mb-4"},bQ={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},vQ={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},EQ={key:0,class:"space-y-4"},wQ=["placeholder"],CQ={key:0,class:"text-xs text-gray-500 text-left bg-gray-50 p-2 rounded"},AQ={key:1,class:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg"},BQ={class:"flex items-center gap-2"},_Q={class:"text-sm text-green-900 font-mono"},DQ={class:"flex gap-3 mt-6"},kQ=["disabled"],au="in_progress_transfer_order",SQ=Lr({__name:"PutAwasTO",setup(e){const t=N=>{try{localStorage.setItem(au,JSON.stringify(N)),console.log(`State saved for TO: ${N.toNumber}`)}catch(V){console.error("Error saving state to localStorage",V)}},n=()=>{try{const N=localStorage.getItem(au);if(N)return JSON.parse(N)}catch(N){console.error("Error loading state from localStorage",N)}return null},r=()=>{try{localStorage.removeItem(au),console.log("State cleared from localStorage.")}catch(N){console.error("Error clearing state from localStorage",N)}},i=co(),a=ve(i.props.transferOrders||[]);Pn(()=>i.props.transferOrders,N=>{a.value=N||[]},{deep:!0});const c=ve([]),u=ve([]),g=ve(""),f=ve(""),m=ve(""),y=ve(""),w=ve(""),E=ve(!1),C=ve(!1),D=ve(!1),_=ve(!1),M=ve(null),$=ve(null),I=ve(null),S=ve(""),T=ve(null),j=ve(1),L=ve(null),z=ve(!1),F=ve(!0),Q=ve(""),le=We(()=>a.value.filter(N=>{const V=!g.value||N.toNumber.toLowerCase().includes(g.value.toLowerCase()),K=!m.value||N.type===m.value,ue=!y.value||N.status===y.value,ie=!w.value||N.warehouse.includes(w.value),W=!f.value||N.items.some(ee=>ee.batchLot&&ee.batchLot.toLowerCase().includes(f.value.toLowerCase()));return V&&W&&K&&ue&&ie})),Y=We(()=>c.value.filter(N=>N.selected&&N.destinationBin)),ce=We(()=>M.value?M.value.items.every(N=>N.boxScanned&&N.sourceBinScanned&&N.destBinScanned&&N.actualQty!==void 0&&N.actualQty>0):!1),me=We(()=>{switch(j.value){case 1:return"Scan Box QR Code";case 2:return"Scan Source Bin";case 3:return"Scan Destination Bin";default:return""}}),te=We(()=>{if(!I.value)return"";switch(j.value){case 1:return`Box with ${I.value.itemCode}`;case 2:return I.value.sourceBin;case 3:return I.value.destBin;default:return""}}),ne=async()=>{z.value=!1;try{if(!document.getElementById("qr-reader")){console.error("qr-reader element not found!");return}await de(),L.value=new Na("qr-reader");const V={fps:10,qrbox:{width:250,height:250},aspectRatio:1};await L.value.start({facingMode:"environment"},V,be,De),z.value=!0}catch(N){console.error("Error starting camera:",N),alert(`Gagal memulai kamera: ${N.message}. Pastikan tidak ada aplikasi lain yang menggunakan. Coba lagi atau ganti ke mode manual.`)}},de=async()=>{if(L.value)try{typeof L.value.getState=="function"&&L.value.getState()===2&&await L.value.stop()}catch(N){console.error("Error attempting to stop camera:",N)}finally{try{await L.value.clear()}catch(N){console.warn("Error clearing html5QrCode UI:",N)}L.value=null,z.value=!1}z.value=!1},be=(N,V)=>{console.log("QR Code detected:",N),Q.value=N,S.value=N,setTimeout(()=>{st()},500)},De=N=>{},Ie=async()=>{F.value?(await de(),F.value=!1,yr(()=>{T.value?.focus()})):(F.value=!0,S.value="",yr(async()=>{await ne()}))},fe=async()=>{try{const N=await fetch("/transaction/putaway-transfer/qc-released");if(!N.ok)throw new Error("Failed to fetch materials");const V=await N.json();c.value=V.map(ie=>({...ie,selected:!1,destinationBin:""}));const K=await fetch("/transaction/putaway-transfer/available-bins");if(!K.ok)throw new Error("Failed to fetch bins");const ue=await K.json();u.value=ue,E.value=!0}catch(N){console.error("Error loading data:",N),alert("Gagal memuat data")}},Pe=async N=>{if(!N.destinationBin){alert("Pilih destination bin terlebih dahulu!");return}try{const V=await fetch(`/transaction/putaway-transfer/bin-details?binCode=${N.destinationBin}`);if(!V.ok)throw new Error("Failed to fetch bin details");const K=await V.json();$.value=K,C.value=!0}catch(V){console.error("Error loading bin details:",V),alert("Gagal memuat detail bin")}},Ge=async()=>{if(!Y.value.length){alert("Pilih minimal 1 material untuk di-putaway!");return}if(confirm("Anda yakin ingin generate TO untuk item terpilih?"))try{gt.post("/transaction/putaway-transfer/generate",{materials:Y.value.map(N=>({stockId:N.stockId,destinationBin:N.destinationBin,qty:N.qty}))},{onSuccess:()=>{E.value=!1,alert("Putaway TO berhasil digenerate!")},onError:N=>{console.error("Error generating putaway:",N),alert("Gagal generate putaway TO: "+(N.message||Object.values(N)[0]))}})}catch(N){console.error("Error submitting putaway:",N),alert("Gagal generate putaway TO: "+N.message)}},Ne=N=>{M.value={...N,isExecuting:!1},D.value=!0},tt=N=>{const V=n();V&&V.id===N.id?(M.value=V,console.log(`Resuming TO ${N.toNumber} from saved session.`)):M.value={...N,isExecuting:!0,status:"In Progress",items:N.items.map(K=>({...K,status:K.status==="completed"?"completed":"pending",actualQty:K.actualQty!==void 0?K.actualQty:K.qty}))},D.value=!0,M.value&&t(M.value)},Re=()=>{M.value?.isExecuting&&M.value.status!=="Completed"?(t(M.value),alert(`Progress TO ${M.value.toNumber} disimpan secara parsial.`)):r(),M.value=null,D.value=!1},Je=async N=>{if(I.value=N,N.boxScanned&&N.sourceBinScanned&&N.destBinScanned){alert("Item ini sudah selesai di-scan.");return}else N.boxScanned&&N.sourceBinScanned?j.value=3:N.boxScanned?j.value=2:j.value=1;S.value="",Q.value="",_.value=!0,await yr(),await new Promise(V=>setTimeout(V,500)),F.value?await ne():yr(()=>{T.value?.focus()})},et=async()=>{await de(),_.value=!1,I.value=null,j.value=1,S.value="",Q.value="",M.value&&t(M.value)},st=()=>{if(!I.value||!S.value.trim()){alert("Silakan input QR code!");return}const N=I.value,V=S.value.trim();let K="",ue=!1,ie="";try{const W=JSON.parse(V);W&&W.bin_code?K=String(W.bin_code).toUpperCase():K=V.toUpperCase()}catch{K=V.toUpperCase()}switch(j.value){case 1:ie=N.itemCode,ue=V.includes(N.itemCode),ue?(N.boxScanned=!0,j.value=2):alert(`Box QR tidak sesuai! Expected: ${ie} (atau mengandung ${ie}), Scanned: ${V}`);break;case 2:ie=N.sourceBin,ue=K===ie.toUpperCase(),ue?(N.sourceBinScanned=!0,j.value=3):alert(`Source Bin tidak sesuai! Expected: ${ie}, Scanned Code: ${K||V}`);break;case 3:ie=N.destBin,ue=K===ie.toUpperCase(),ue?(N.destBinScanned=!0,N.status="completed",(N.actualQty===void 0||N.actualQty===null)&&(N.actualQty=N.qty),alert(" Scan selesai! Semua tahap berhasil."),et()):alert(`Destination Bin tidak sesuai! Expected: ${ie}, Scanned Code: ${K||V}`);break}S.value="",Q.value="",M.value&&t(M.value),ue&&j.value<=3&&!F.value?yr(()=>{T.value?.focus()}):!ue&&!F.value&&yr(()=>{T.value?.select()})},Te=async()=>{if(!M.value||!ce.value){alert("Pastikan semua item sudah di-scan dan qty actual sudah diisi!");return}if(confirm(`Apakah Anda yakin ingin menyelesaikan TO ${M.value.toNumber}?`))try{gt.post(`/transaction/putaway-transfer/complete/${M.value.id}`,{items:M.value.items.map(N=>({id:N.id,actualQty:N.actualQty,status:N.status,boxScanned:N.boxScanned,sourceBinScanned:N.sourceBinScanned,destBinScanned:N.destBinScanned}))},{onSuccess:()=>{if(alert("Transfer Order berhasil diselesaikan!"),M.value){const N=a.value.findIndex(V=>V.id===M.value?.id);N!==-1&&(a.value[N].status="Completed")}M.value&&(M.value.status="Completed",M.value.isExecuting=!1),r(),Re()},onError:N=>{console.error("Error completing TO:",N);const V=Object.values(N).join(`
`);alert(`Gagal menyelesaikan TO:
`+V)}})}catch(N){console.error("Error completing TO:",N),alert("Gagal menyelesaikan TO: "+N.message)}},re=N=>{const V=`
    <h1 style="text-align: center; font-family: Arial, sans-serif; margin-bottom: 20px;">TRANSFER ORDER</h1>
    <table style="width: 100%; border-collapse: collapse; font-family: Arial, sans-serif; font-size: 12px;">
      <tr>
        <td style="padding: 5px; width: 150px;"><strong>TO Number</strong></td>
        <td style="padding: 5px;">: ${N.toNumber}</td>
        <td style="padding: 5px; width: 150px;"><strong>Transaction Type</strong></td>
        <td style="padding: 5px;">: ${N.type}</td>
      </tr>
      <tr>
        <td style="padding: 5px;"><strong>Creation Date</strong></td>
        <td style="padding: 5px;">: ${X(N.creationDate)}</td>
        <td style="padding: 5px;"><strong>Warehouse</strong></td>
        <td style="padding: 5px;">: ${N.warehouse}</td>
      </tr>
      ${N.reservationNo?`
      <tr>
        <td style="padding: 5px;"><strong>No Reservasi</strong></td>
        <td style="padding: 5px;" colspan="3">: ${N.reservationNo}</td>
      </tr>`:""}
    </table>
    
    <h3 style="font-family: Arial, sans-serif; margin-top: 25px; margin-bottom: 10px;">DAFTAR ITEM:</h3>
    <table style="width: 100%; border-collapse: collapse; font-family: Arial, sans-serif; font-size: 12px;">
      <thead style="background-color: #f4f4f4;">
        <tr>
          <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">No</th>
          <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Kode Item</th>
          <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Nama Material</th>
          <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Batch/Lot</th> <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Source Bin</th>
          <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">Dest Bin</th>
          <th style="border: 1px solid #ddd; padding: 8px; text-align: right;">Qty</th>
          <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">UoM</th>
        </tr>
      </thead>
      <tbody>
        ${N.items.map((ue,ie)=>`
          <tr>
            <td style="border: 1px solid #ddd; padding: 8px;">${ie+1}</td>
            <td style="border: 1px solid #ddd; padding: 8px;">${ue.itemCode}</td>
            <td style="border: 1px solid #ddd; padding: 8px;">${ue.materialName}</td>
            <td style="border: 1px solid #ddd; padding: 8px;">${ue.batchLot}</td> <td style="border: 1px solid #ddd; padding: 8px;">${ue.sourceBin}</td>
            <td style="border: 1px solid #ddd; padding: 8px;">${ue.destBin}</td>
            <td style="border: 1px solid #ddd; padding: 8px; text-align: right;">${ue.actualQty!==void 0?ue.actualQty:ue.qty}</td>
            <td style="border: 1px solid #ddd; padding: 8px;">${ue.uom}</td>
          </tr>
        `).join("")}
      </tbody>
    </table>

    <table style="width: 100%; font-family: Arial, sans-serif; font-size: 12px; margin-top: 50px; text-align: center;">
      <tr>
        <td style="padding: 10px;">
          Diserahkan:
          <br><br><br><br>
          (________________)
          <br>
          Tgl: _______
        </td>
        <td style="padding: 10px;">
          Diterima:
          <br><br><br><br>
          (________________)
          <br>
          Tgl: _______
        </td>
        <td style="padding: 10px;">
          Mengetahui:
          <br><br><br><br>
          (________________)
          <br>
          Tgl: _______
        </td>
      </tr>
    </table>
  `,K=window.open("","_blank");if(K){const ue="script";K.document.write(`
      <html>
        <head>
          <title>Transfer Order - ${N.toNumber}</title>
          <style>
            @media print {
              body { -webkit-print-color-adjust: exact; }
            }
          </style>
        </head>
        <body>
          ${V}
          <${ue}>
            window.onload = function() {
              window.print();
              window.onafterprint = function() {
                 window.close();
              }
            }
          </${ue}>
        </body>
      </html>
    `),K.document.close()}},X=N=>{const V=typeof N=="string"?new Date(N):N;return isNaN(V.getTime())?"Invalid Date":new Intl.DateTimeFormat("id-ID",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(V)},B=N=>({"Putaway - QC Release":"bg-blue-100 text-blue-800","Transfer - Internal":"bg-green-100 text-green-800","Transfer - Bin to Bin":"bg-teal-100 text-teal-800","Picking - Production":"bg-purple-100 text-purple-800","Picking - Sales Order":"bg-pink-100 text-pink-800"})[N]||"bg-gray-100 text-gray-800",k=N=>({Pending:"bg-yellow-100 text-yellow-800","In Progress":"bg-blue-100 text-blue-800",Completed:"bg-green-100 text-green-800"})[N]||"bg-gray-100 text-gray-800",R=N=>({pending:"bg-yellow-100 text-yellow-800",in_progress:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800"})[N]||"bg-gray-100 text-gray-800";return Gn(()=>{console.log("Mounted - Transfer Orders:",a.value)}),Gn(()=>{const N=n();if(N){const V=a.value.find(K=>K.id===N.id);if(V){const K={...V,...N,isExecuting:!0,status:"In Progress"};M.value=K,D.value=!0,alert(`Melanjutkan Transfer Order: ${N.toNumber}. Progress yang tersimpan telah dimuat.`)}else r()}}),Vo(async()=>{await de()}),(N,V)=>(U(),Et(Qn,{title:"PutAway & TO"},{default:bt(()=>[o("div",cW,[V[64]||(V[64]=o("div",{class:"mb-6"},[o("h1",{class:"text-2xl font-bold text-gray-900 mb-2"},"Putaway & Transfer Order"),o("p",{class:"text-gray-600"},"Kelola Transfer Order untuk putaway, transfer, dan picking barang")],-1)),o("div",{class:"mb-6"},[o("button",{onClick:fe,class:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium flex items-center gap-2"},[...V[9]||(V[9]=[o("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),qe(" Generate Auto Putaway dari QC Released ",-1)])])]),o("div",dW,[o("div",uW,[o("div",null,[V[10]||(V[10]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Search TO Number",-1)),Ee(o("input",{"onUpdate:modelValue":V[0]||(V[0]=K=>g.value=K),type:"text",placeholder:"TO-2024-001...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Oe,g.value]])]),o("div",null,[V[11]||(V[11]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Search Batch/Lot",-1)),Ee(o("input",{"onUpdate:modelValue":V[1]||(V[1]=K=>f.value=K),type:"text",placeholder:"BCH-001...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Oe,f.value]])]),o("div",null,[V[13]||(V[13]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Tipe",-1)),Ee(o("select",{"onUpdate:modelValue":V[2]||(V[2]=K=>m.value=K),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[...V[12]||(V[12]=[o("option",{value:""},"Semua Tipe",-1),o("option",{value:"Putaway - QC Release"},"Putaway - QC Release",-1),o("option",{value:"Transfer - Internal"},"Transfer - Internal",-1),o("option",{value:"Transfer - Bin to Bin"},"Transfer - Bin to Bin",-1),o("option",{value:"Picking - Production"},"Picking - Production",-1),o("option",{value:"Picking - Sales Order"},"Picking - Sales Order",-1)])],512),[[ct,m.value]])]),o("div",null,[V[15]||(V[15]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Status",-1)),Ee(o("select",{"onUpdate:modelValue":V[3]||(V[3]=K=>y.value=K),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[...V[14]||(V[14]=[o("option",{value:""},"Semua Status",-1),o("option",{value:"Pending"},"Pending",-1),o("option",{value:"In Progress"},"In Progress",-1),o("option",{value:"Completed"},"Completed",-1)])],512),[[ct,y.value]])])])]),o("div",xW,[o("div",fW,[V[16]||(V[16]=o("h2",{class:"text-lg font-semibold text-gray-900"},"Daftar Transfer Order",-1)),o("p",hW,"Total: "+P(le.value.length)+" TO",1)]),o("div",gW,[o("table",pW,[V[21]||(V[21]=o("thead",{class:"bg-gray-50"},[o("tr",null,[o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"TO Number"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Batch/Lot"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Creation Date"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Warehouse"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tipe"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Items"),o("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),o("tbody",mW,[le.value.length?pe("",!0):(U(),G("tr",yW,[...V[17]||(V[17]=[o("td",{colspan:"7",class:"px-6 py-12 text-center"},[o("div",{class:"flex flex-col items-center justify-center"},[o("svg",{class:"w-16 h-16 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})]),o("h3",{class:"text-lg font-medium text-gray-900 mb-1"},"Belum Ada Transfer Order"),o("p",{class:"text-gray-500"},"Generate putaway dari material QC Released untuk membuat TO")])],-1)])])),(U(!0),G($e,null,nt(le.value,K=>(U(),G("tr",{key:K.id,class:"hover:bg-gray-50"},[o("td",bW,[o("div",vW,P(K.toNumber),1),K.reservationNo?(U(),G("div",EW,P(K.reservationNo),1)):pe("",!0)]),o("td",wW,P(K.items.length>0?K.items[0].batchLot:"N/A"),1),o("td",CW,P(X(K.creationDate)),1),o("td",AW,P(K.warehouse),1),o("td",BW,[o("span",{class:Fe([B(K.type),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},P(K.type),3)]),o("td",_W,[o("span",{class:Fe([k(K.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},P(K.status),3)]),o("td",DW,P(K.items.length)+" item(s) ",1),o("td",kW,[o("div",SW,[o("button",{onClick:ue=>Ne(K),class:"flex items-center gap-2 bg-blue-100 text-blue-700 hover:bg-blue-200 px-3 py-2 rounded-lg transition-colors"},[...V[18]||(V[18]=[o("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),o("span",{class:"text-xs font-medium"},"Detail",-1)])],8,FW),K.status!=="Completed"?(U(),G("button",{key:0,onClick:ue=>tt(K),class:"flex items-center gap-2 bg-green-100 text-green-700 hover:bg-green-200 px-3 py-2 rounded-lg transition-colors"},[...V[19]||(V[19]=[o("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H15M6 6h3m5 0h3"})],-1),o("span",{class:"text-xs font-medium"},"Kerjakan",-1)])],8,TW)):pe("",!0),o("button",{onClick:ue=>re(K),class:"flex items-center gap-2 bg-purple-100 text-purple-700 hover:bg-purple-200 px-3 py-2 rounded-lg transition-colors"},[...V[20]||(V[20]=[o("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2-2v4h10z"})],-1),o("span",{class:"text-xs font-medium"},"Cetak TO",-1)])],8,IW)])])]))),128))])])])]),E.value?(U(),G("div",MW,[o("div",PW,[o("div",RW,[V[23]||(V[23]=o("h3",{class:"text-lg font-semibold"},"Generate Auto Putaway dari QC Released",-1)),o("button",{onClick:V[4]||(V[4]=K=>E.value=!1),class:"text-gray-400 hover:text-gray-600"},[...V[22]||(V[22]=[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),o("div",OW,[o("div",null,[V[26]||(V[26]=o("h4",{class:"text-md font-medium text-gray-900 mb-3"},"Material yang sudah QC Released",-1)),o("div",NW,[o("table",LW,[V[25]||(V[25]=o("thead",{class:"bg-gray-50"},[o("tr",null,[o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Select"),o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Item Code"),o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Material Name"),o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Current Bin"),o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Qty"),o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"UoM"),o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Destination")])],-1)),o("tbody",$W,[(U(!0),G($e,null,nt(c.value,(K,ue)=>(U(),G("tr",{key:ue,class:"hover:bg-gray-50"},[o("td",jW,[Ee(o("input",{type:"checkbox","onUpdate:modelValue":ie=>K.selected=ie,class:"rounded border-gray-300 focus:ring-blue-500"},null,8,UW),[[qo,K.selected]])]),o("td",HW,P(K.itemCode),1),o("td",zW,P(K.materialName),1),o("td",VW,P(K.currentBin),1),o("td",qW,P(K.qty),1),o("td",WW,P(K.uom),1),o("td",GW,[o("div",QW,[Ee(o("select",{"onUpdate:modelValue":ie=>K.destinationBin=ie,class:"px-3 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:!K.selected},[V[24]||(V[24]=o("option",{value:""},"Pilih Bin",-1)),(U(!0),G($e,null,nt(u.value,ie=>(U(),G("option",{key:ie.code,value:ie.code},P(ie.code)+" - "+P(ie.zone)+" ("+P(ie.currentItems)+"/"+P(ie.capacity)+") ",9,YW))),128))],8,KW),[[ct,K.destinationBin]]),o("button",{onClick:ie=>Pe(K),class:"text-blue-600 hover:text-blue-800 text-xs",title:"Lihat detail bin",disabled:!K.destinationBin}," Info ",8,XW)])])]))),128))])])])]),o("div",ZW,[o("button",{onClick:V[5]||(V[5]=K=>E.value=!1),class:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50"}," Batal "),o("button",{onClick:Ge,disabled:!Y.value.length,class:Fe([Y.value.length?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed","px-4 py-2 text-white rounded-md font-medium"])}," Generate Putaway TO ("+P(Y.value.length)+" items) ",11,JW)])])])])):pe("",!0),C.value?(U(),G("div",eG,[o("div",tG,[o("div",nG,[o("h3",rG,"Detail Bin: "+P($.value?.code),1),o("button",{onClick:V[6]||(V[6]=K=>C.value=!1),class:"text-gray-400 hover:text-gray-600"},[...V[27]||(V[27]=[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),$.value?(U(),G("div",sG,[o("div",oG,[o("div",null,[V[28]||(V[28]=o("label",{class:"block text-sm font-medium text-gray-700"},"Bin Code",-1)),o("p",iG,P($.value.code),1)]),o("div",null,[V[29]||(V[29]=o("label",{class:"block text-sm font-medium text-gray-700"},"Warehouse",-1)),o("p",aG,P($.value.warehouse),1)]),o("div",null,[V[30]||(V[30]=o("label",{class:"block text-sm font-medium text-gray-700"},"Zone",-1)),o("p",lG,P($.value.zone),1)]),o("div",null,[V[31]||(V[31]=o("label",{class:"block text-sm font-medium text-gray-700"},"Capacity",-1)),o("p",cG,P($.value.capacity),1)])]),o("div",null,[V[34]||(V[34]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Current Materials",-1)),o("div",dG,[o("table",uG,[V[33]||(V[33]=o("thead",{class:"bg-gray-50"},[o("tr",null,[o("th",{class:"px-3 py-2 text-left"},"Material"),o("th",{class:"px-3 py-2 text-left"},"Qty"),o("th",{class:"px-3 py-2 text-left"},"UoM")])],-1)),o("tbody",null,[(U(!0),G($e,null,nt($.value.materials,K=>(U(),G("tr",{key:K.itemCode,class:"border-t"},[o("td",xG,P(K.materialName),1),o("td",fG,P(K.qty),1),o("td",hG,P(K.uom),1)]))),128)),$.value.materials.length?pe("",!0):(U(),G("tr",gG,[...V[32]||(V[32]=[o("td",{colspan:"3",class:"px-3 py-2 text-gray-500 text-center"},"Bin kosong",-1)])]))])])])])])):pe("",!0),o("div",pG,[o("button",{onClick:V[7]||(V[7]=K=>C.value=!1),class:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700"}," Tutup ")])])])):pe("",!0),D.value?(U(),G("div",mG,[o("div",yG,[o("div",bG,[o("div",null,[o("h3",vG,P(M.value?.isExecuting?"Kerjakan":"Detail")+" Transfer Order",1),o("p",EG,P(M.value?.toNumber),1)]),o("button",{onClick:Re,class:"text-gray-400 hover:text-gray-600"},[...V[35]||(V[35]=[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),o("div",wG,[o("div",CG,[o("div",null,[V[36]||(V[36]=o("label",{class:"block text-sm font-medium text-gray-700"},"TO Number",-1)),o("p",AG,P(M.value?.toNumber),1)]),M.value&&M.value.items.length>0&&M.value.items.every(K=>K.batchLot===M.value.items[0].batchLot)?(U(),G("div",BG,[V[37]||(V[37]=o("label",{class:"block text-sm font-medium text-gray-700"},"Batch/Lot Utama",-1)),o("p",_G,P(M.value.items[0].batchLot),1)])):pe("",!0),o("div",null,[V[38]||(V[38]=o("label",{class:"block text-sm font-medium text-gray-700"},"Transaction Type",-1)),o("p",DG,P(M.value?.type),1)]),M.value?.reservationNo?(U(),G("div",kG,[V[39]||(V[39]=o("label",{class:"block text-sm font-medium text-gray-700"},"No Reservasi",-1)),o("p",SG,P(M.value.reservationNo),1)])):pe("",!0),o("div",null,[V[40]||(V[40]=o("label",{class:"block text-sm font-medium text-gray-700"},"Status",-1)),o("span",{class:Fe([k(M.value?.status||""),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full mt-1"])},P(M.value?.status),3)])])]),o("div",FG,[V[50]||(V[50]=o("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Daftar Item",-1)),o("div",TG,[o("table",IG,[o("thead",MG,[o("tr",null,[V[41]||(V[41]=o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"No",-1)),V[42]||(V[42]=o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Kode Item",-1)),V[43]||(V[43]=o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Nama Material",-1)),V[44]||(V[44]=o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Batch/Lot",-1)),V[45]||(V[45]=o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Source Bin",-1)),V[46]||(V[46]=o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Dest Bin",-1)),V[47]||(V[47]=o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Qty",-1)),V[48]||(V[48]=o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"UoM",-1)),V[49]||(V[49]=o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Status",-1)),M.value?.isExecuting?(U(),G("th",PG,"Actions")):pe("",!0)])]),o("tbody",RG,[(U(!0),G($e,null,nt(M.value?.items,(K,ue)=>(U(),G("tr",{key:ue,class:"hover:bg-gray-50"},[o("td",OG,P(ue+1),1),o("td",NG,P(K.itemCode),1),o("td",LG,P(K.materialName),1),o("td",$G,P(K.batchLot),1),o("td",jG,P(K.sourceBin),1),o("td",UG,P(K.destBin),1),o("td",HG,P(K.actualQty||K.qty),1),o("td",zG,P(K.uom),1),o("td",VG,[o("span",{class:Fe([R(K.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},P(K.status),3)]),M.value?.isExecuting?(U(),G("td",qG,[K.status!=="completed"?(U(),G("div",WG,[o("button",{onClick:ie=>Je(K),class:Fe([K.boxScanned&&K.sourceBinScanned&&K.destBinScanned?"bg-green-100 text-green-800":"bg-blue-600 text-white hover:bg-blue-700","px-3 py-1 text-xs font-medium rounded"])},P(K.boxScanned&&K.sourceBinScanned&&K.destBinScanned?" Selesai":"Mulai Scan"),11,GG),o("div",QG,[o("span",{class:Fe([K.boxScanned?"bg-green-500":"bg-gray-300","w-2 h-2 rounded-full"]),title:"Box"},null,2),o("span",{class:Fe([K.sourceBinScanned?"bg-green-500":"bg-gray-300","w-2 h-2 rounded-full"]),title:"Source"},null,2),o("span",{class:Fe([K.destBinScanned?"bg-green-500":"bg-gray-300","w-2 h-2 rounded-full"]),title:"Dest"},null,2)])])):pe("",!0)])):pe("",!0)]))),128))])])])]),o("div",KG,[o("button",{onClick:Re,class:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50"},P(M.value?.isExecuting?"Batal":"Tutup"),1),M.value?.isExecuting?(U(),G("button",{key:0,onClick:Te,disabled:!ce.value,class:Fe([ce.value?"bg-green-600 hover:bg-green-700":"bg-gray-400 cursor-not-allowed","px-4 py-2 text-white rounded-md font-medium"])}," Selesaikan TO ",10,YG)):pe("",!0)])])])):pe("",!0),_.value?(U(),G("div",XG,[o("div",ZG,[o("div",JG,[o("div",null,[o("h3",eQ,"Scan Wizard - "+P(j.value)+"/3",1),o("p",tQ,P(me.value),1)]),o("button",{onClick:et,class:"text-gray-400 hover:text-gray-600"},[...V[51]||(V[51]=[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),o("div",nQ,[o("div",rQ,[V[52]||(V[52]=o("span",{class:"text-xs font-medium text-gray-700"},"Progress",-1)),o("span",sQ,P(Math.round(j.value/3*100))+"%",1)]),o("div",oQ,[o("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:Oi({width:`${j.value/3*100}%`})},null,4)])]),o("div",iQ,[o("div",aQ,[o("div",{class:Fe([j.value>=1?"bg-blue-600 text-white":"bg-gray-300 text-gray-600","w-10 h-10 rounded-full flex items-center justify-center font-bold mb-2"])},[j.value>1?(U(),G("span",lQ,"")):(U(),G("span",cQ,"1"))],2),V[53]||(V[53]=o("span",{class:"text-xs text-center font-medium"},"Scan Box",-1))]),o("div",{class:Fe(["h-1 flex-1 mx-2",j.value>=2?"bg-blue-600":"bg-gray-300"])},null,2),o("div",dQ,[o("div",{class:Fe([j.value>=2?"bg-blue-600 text-white":"bg-gray-300 text-gray-600","w-10 h-10 rounded-full flex items-center justify-center font-bold mb-2"])},[j.value>2?(U(),G("span",uQ,"")):(U(),G("span",xQ,"2"))],2),V[54]||(V[54]=o("span",{class:"text-xs text-center font-medium"},"Source Bin",-1))]),o("div",{class:Fe(["h-1 flex-1 mx-2",j.value>=3?"bg-blue-600":"bg-gray-300"])},null,2),o("div",fQ,[o("div",{class:Fe([j.value>=3?"bg-blue-600 text-white":"bg-gray-300 text-gray-600","w-10 h-10 rounded-full flex items-center justify-center font-bold mb-2"])}," 3 ",2),V[55]||(V[55]=o("span",{class:"text-xs text-center font-medium"},"Dest Bin",-1))])]),o("div",hQ,[F.value?(U(),G("div",gQ,[V[58]||(V[58]=o("div",{id:"qr-reader",class:"w-full rounded-lg overflow-hidden border-2 border-blue-500 mb-2",style:{"min-height":"250px"}},null,-1)),z.value?(U(),G("div",pQ,[...V[56]||(V[56]=[o("svg",{class:"w-4 h-4 inline-block animate-pulse",fill:"currentColor",viewBox:"0 0 20 20"},[o("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),qe(" Kamera Aktif - Arahkan ke QR Code ",-1)])])):(U(),G("div",mQ,[...V[57]||(V[57]=[o("div",{class:"w-full flex items-center justify-center",style:{"min-height":"250px"}},[o("div",{class:"text-center"},[o("svg",{class:"w-12 h-12 text-gray-400 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]),o("p",{class:"text-gray-500 font-medium"},"Mengaktifkan Kamera..."),o("p",{class:"text-xs text-gray-400 mt-1"},"Harap tunggu sebentar")])],-1)])]))])):pe("",!0)]),o("div",yQ,[o("button",{onClick:Ie,class:"w-full px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-md text-sm font-medium flex items-center justify-center gap-2"},[F.value?(U(),G("svg",vQ,[...V[60]||(V[60]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"},null,-1)])])):(U(),G("svg",bQ,[...V[59]||(V[59]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"},null,-1)])])),qe(" "+P(F.value?"Switch to Manual Input":"Switch to Camera Scanner"),1)])]),F.value?pe("",!0):(U(),G("div",EQ,[Ee(o("input",{"onUpdate:modelValue":V[8]||(V[8]=K=>S.value=K),ref_key:"qrInputRef",ref:T,type:"text",placeholder:`Input ${me.value} Manual`,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyup:Ni(st,["enter"]),autofocus:""},null,40,wQ),[[Oe,S.value]]),te.value?(U(),G("div",CQ,[V[61]||(V[61]=o("span",{class:"font-medium"},"Expected Value:",-1)),qe(" "+P(te.value),1)])):pe("",!0)])),Q.value?(U(),G("div",AQ,[o("div",BQ,[V[63]||(V[63]=o("svg",{class:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20"},[o("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)),o("div",null,[V[62]||(V[62]=o("p",{class:"text-xs font-medium text-green-800"},"Terakhir Di-scan:",-1)),o("p",_Q,P(Q.value),1)])])])):pe("",!0),o("div",DQ,[o("button",{onClick:et,class:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50"}," Batal "),F.value?pe("",!0):(U(),G("button",{key:0,onClick:st,disabled:!S.value.trim(),class:Fe([S.value.trim()?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed","flex-1 px-4 py-2 text-white rounded-md font-medium"])},P(j.value===3?"Selesai":"Lanjut"),11,kQ))])])])):pe("",!0)])]),_:1}))}}),FQ=Hi(SQ,[["__scopeId","data-v-1f1c5f9e"]]),TQ=Object.freeze(Object.defineProperty({__proto__:null,default:FQ},Symbol.toStringTag,{value:"Module"})),IQ={components:{Link:un},props:{links:Array}},MQ={key:0},PQ={class:"flex flex-wrap -mb-1"},RQ=["innerHTML"];function OQ(e,t,n,r,i,a){const c=u9("Link");return n.links.length>3?(U(),G("div",MQ,[o("div",PQ,[(U(!0),G($e,null,nt(n.links,(u,g)=>(U(),G($e,null,[u.url===null?(U(),G("div",{key:g,class:"mr-1 mb-1 px-4 py-3 text-sm leading-4 text-gray-400 border rounded",innerHTML:u.label},null,8,RQ)):(U(),Et(c,{key:`link-${g}`,class:Fe(["mr-1 mb-1 px-4 py-3 text-sm leading-4 border rounded hover:bg-white focus:border-indigo-500 focus:text-indigo-500",{"bg-blue-700 text-white":u.active,"bg-white":!u.active}]),href:u.url,innerHTML:u.label},null,8,["class","href","innerHTML"]))],64))),256))])])):pe("",!0)}const NQ=Hi(IQ,[["render",OQ]]),LQ={class:"space-y-6"},$Q={class:"flex justify-between items-center"},jQ={class:"text-sm text-gray-600"},UQ={class:"bg-white p-4 rounded-lg shadow mb-6"},HQ={class:"flex flex-col md:flex-row gap-4"},zQ={class:"w-48"},VQ={class:"flex-grow"},qQ={class:"flex gap-2"},WQ={class:"w-24"},GQ={class:"bg-white rounded-lg shadow overflow-hidden"},QQ={class:"overflow-x-auto"},KQ={class:"min-w-full divide-y divide-gray-200"},YQ={class:"bg-white divide-y divide-gray-200"},XQ={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ZQ={class:"text-xs text-gray-500"},JQ={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},eK={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},tK={class:"px-6 py-4 text-sm text-gray-900"},nK={class:"font-medium"},rK={class:"text-xs text-gray-500"},sK={key:0,class:"mt-1 inline-flex items-center px-2 py-0.5 rounded text-xs font-bold bg-orange-100 text-orange-800 border border-orange-300"},oK={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},iK={class:"font-bold text-blue-700"},aK={class:"px-6 py-4 whitespace-nowrap"},lK={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},cK={class:"flex space-x-2"},dK=["onClick"],uK=["onClick"],xK=["onClick"],fK={class:"px-6 py-4 border-t border-gray-200"},hK={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},gK={class:"bg-white rounded-lg max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto"},pK={class:"p-6"},mK={class:"flex justify-between items-center mb-6"},yK={class:"text-lg font-semibold text-gray-900"},bK={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},vK={class:"space-y-4"},EK={class:"mt-1 text-sm text-gray-900 font-medium"},wK={class:"mt-1 text-sm text-gray-900"},CK={class:"mt-1 text-sm text-gray-900"},AK={class:"mt-1 text-sm text-gray-900 font-medium"},BK={class:"mt-1 text-sm text-gray-900"},_K={class:"space-y-4"},DK={class:"mt-1 text-sm text-gray-900"},kK={class:"mt-1 text-sm text-gray-900 font-medium"},SK={class:"mt-1 text-sm text-gray-900"},FK={class:"mt-1 text-sm text-gray-900"},TK={key:1,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},IK={class:"bg-white rounded-lg max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto"},MK={class:"p-6"},PK={class:"flex justify-between items-center mb-6"},RK={class:"text-lg font-semibold text-gray-900"},OK={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6"},NK={class:"border-t border-gray-200 pt-6 mb-6"},LK={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},$K={class:"col-span-2"},jK={class:"block text-sm font-medium text-gray-700 mb-1"},UK=["max"],HK={key:0,class:"text-xs text-red-500 mt-1"},zK={class:"border-t border-gray-200 pt-6"},VK={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},qK={class:"space-y-4"},WK={key:0,class:"bg-orange-50 border border-orange-200 rounded-lg p-3"},GK={class:"space-y-4"},QK={class:"space-y-2"},KK={class:"flex items-center"},YK={class:"flex items-center"},XK={class:"mt-2 list-disc list-inside"},ZK={key:0},JK={key:1},eY={key:2},tY={key:3},nY={class:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200"},rY=["disabled"],sY={key:2,class:"fixed inset-0 bg-gray-600 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},oY={class:"bg-white rounded-lg mx-4 max-h-[90vh] overflow-y-auto"},iY={class:"p-6"},aY={class:"space-y-4"},lY={class:"relative"},cY={key:0,class:"absolute top-4 right-4 z-10"},dY={key:0,class:"bg-green-50 border border-green-200 rounded-lg p-3"},uY={class:"text-sm text-green-800"},xY={key:1,class:"bg-red-50 border border-red-200 rounded-lg p-3"},fY={class:"text-sm text-red-800"},hY={class:"flex gap-2"},gY=["disabled"],pY="https://karir-production.nos.jkt-1.neo.id/logos/05/6980305/logo_gondowangi.png",mY=Lr({__name:"QualityControl",props:{itemsToQC:Object,filters:Object},setup(e){const t=e;function n(Te,re){let X;return function(...B){const k=this;clearTimeout(X),X=setTimeout(()=>Te.apply(k,B),re)}}const r=ve(t.filters?.search||""),i=ve(t.filters?.date_start||""),a=ve(t.filters?.date_end||""),c=ve(t.filters?.limit||"10"),u=ve(t.filters?.status||""),g=n(()=>{gt.get("/transaction/quality-control",{search:r.value,date_start:i.value,date_end:a.value,limit:c.value,status:u.value},{preserveState:!0,preserveScroll:!0,replace:!0})},500);Pn([r,i,a,c,u],()=>{g()});const f=ve(!1),m=ve(!1),y=ve(!1),w=ve(null),E=ve(""),C=ve(null),D=ve(null),_=ve(!1);ve("");const M=ve("");ve(null);const $=ve(null),I=ve(""),S=ve(""),T=ve({incoming_item_id:null,noFormChecklist:"",date:"",noPo:"",noSuratJalan:"",kodeItem:"",namaMaterial:"",reference:"",supplier:"",kategori:"",qtySample:0,totalIncoming:"",uom:"",noKendaraan:"",namaDriver:"",defectCount:0,catatanQC:"",hasilQC:"",photos:[],newExpDate:""}),j=We(()=>{const Te=parseFloat(T.value.qtySample)||0,re=parseFloat(T.value.totalIncoming)||0;return T.value.hasilQC&&T.value.kategori&&Te>=0&&Te<=re}),L=Te=>Te==null||Te===""?"":Math.round(parseFloat(Te)),z=Te=>Te.statusQC==="To QC"?0:Te.qcSampleQty??0,F=We(()=>I.value.includes("Aktif")?"bg-green-500 text-white":I.value.includes("Error")?"bg-red-500 text-white":"bg-yellow-500 text-white"),Q=async Te=>{try{return await y0.toDataURL(Te,{width:150,margin:1,errorCorrectionLevel:"M"})}catch(re){return console.error("Gagal generate QR Data URL:",re),""}},le=Te=>Te?new Date(Te).toLocaleDateString("id-ID",{day:"numeric",month:"numeric",year:"numeric"}).replace(/\./g,"/"):"N/A",Y=ve(!1),ce=Te=>({"To QC":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",PASS:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",REJECT:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"})[Te]||"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",me=Te=>{w.value=Te,f.value=!0},te=()=>{f.value=!1,w.value=null},ne=()=>{if(!w.value)return;const re=`QC/${new Date().toISOString().slice(0,10).replace(/-/g,"")}/XXXX`;T.value={incoming_item_id:w.value.id,noFormChecklist:re,date:new Date().toISOString().slice(0,16),noPo:w.value.noPo,noSuratJalan:w.value.noSuratJalan,kodeItem:w.value.kodeItem,namaMaterial:w.value.namaMaterial,reference:"",supplier:w.value.supplier,kategori:w.value.kategori,qtySample:0,totalIncoming:Math.floor(w.value.qtyReceived),uom:w.value.uom,noKendaraan:w.value.noKendaraan,namaDriver:w.value.namaDriver,defectCount:0,catatanQC:"",hasilQC:"",photos:[]},f.value=!1,m.value=!0},de=()=>{m.value=!1,w.value=null,De()},be=()=>{m.value=!1,f.value=!0},De=()=>{T.value={incoming_item_id:null,noFormChecklist:"",date:"",noPo:"",noSuratJalan:"",kodeItem:"",namaMaterial:"",reference:"",supplier:"",kategori:"",qtySample:0,totalIncoming:"",uom:"",noKendaraan:"",namaDriver:"",defectCount:0,catatanQC:"",hasilQC:"",photos:[]}},Ie=()=>{if(!j.value){alert("Mohon lengkapi semua field yang diperlukan dengan benar");return}const Te=new FormData;Te.append("incoming_item_id",T.value.incoming_item_id),Te.append("reference",T.value.reference||""),Te.append("kategori",T.value.kategori),Te.append("qty_sample",T.value.qtySample||0),Te.append("defect_count",T.value.defectCount||0),Te.append("catatan_qc",T.value.catatanQC||""),Te.append("hasil_qc",T.value.hasilQC),w.value?.is_reqc&&T.value.hasilQC==="PASS"&&T.value.newExpDate&&Te.append("new_exp_date",T.value.newExpDate),T.value.photos&&T.value.photos.length>0&&T.value.photos.forEach((re,X)=>{Te.append(`photos[${X}]`,re)}),gt.post("/transaction/quality-control",Te,{forceFormData:!0,preserveState:!1,preserveScroll:!0,onSuccess:re=>{console.log("QC berhasil disimpan!",re),de(),re.props.flash&&re.props.flash.success?alert(re.props.flash.success):alert(`QC ${T.value.hasilQC} berhasil disimpan!`)},onError:re=>{console.error("Validation errors:",re);let X=`Gagal menyimpan QC:

`;for(const[B,k]of Object.entries(re))Array.isArray(k)?X+=` ${k.join(", ")}
`:X+=` ${k}
`;alert(X)},onFinish:()=>{console.log("Request finished")}})},fe=async()=>{console.log(" Opening QR Scanner..."),y.value=!0,E.value="",M.value="",S.value="",I.value=" Memulai kamera...",await new Promise(Te=>setTimeout(Te,300));try{await Pe()}catch(Te){console.error(" Failed to start scanner:",Te),S.value=Te.message,I.value=" Error"}},Pe=async()=>{try{console.log(" Initializing Html5Qrcode..."),$.value=new Na("qr-reader"),console.log(" Html5Qrcode instance created");const Te=await Na.getCameras();if(console.log(" Available cameras:",Te),!Te||Te.length===0)throw new Error("Tidak ada kamera yang ditemukan");let re=Te[0].id;const X=Te.find(k=>k.label.toLowerCase().includes("back")||k.label.toLowerCase().includes("rear")||k.label.toLowerCase().includes("environment"));X&&(re=X.id,console.log(" Using back camera:",X.label));const B={fps:10,qrbox:{width:250,height:250},aspectRatio:1,formatsToSupport:[0]};await $.value.start(re,B,(k,R)=>{if(console.log(" QR Code detected!"),console.log(" Decoded text:",k),console.log(" Full result:",R),Y.value){console.log(" Already processing...");return}M.value=k,I.value=" QR Terdeteksi!",tt(k)},k=>{}),console.log(" Scanner started successfully!"),I.value=" Scanner Aktif",S.value=""}catch(Te){console.error(" Scanner error:",Te);let re="Gagal memulai scanner: ";throw Te.name==="NotAllowedError"?re+="Akses kamera ditolak. Izinkan akses kamera di browser.":Te.name==="NotFoundError"?re+="Kamera tidak ditemukan.":Te.name==="NotReadableError"?re+="Kamera sedang digunakan aplikasi lain.":re+=Te.message,S.value=re,I.value=" Error",Te}},Ge=async()=>{if(console.log(" Closing QR Scanner..."),$.value){try{await $.value.stop(),await $.value.clear(),console.log(" Scanner stopped")}catch(Te){console.error("Error stopping scanner:",Te)}$.value=null}y.value=!1,E.value="",M.value="",S.value="",I.value="",Y.value=!1},Ne=()=>{if(console.log(" Stopping camera..."),D.value){const Te=D.value.getTracks();console.log(`Stopping ${Te.length} track(s)`),Te.forEach(re=>{re.stop(),console.log(`Track stopped: ${re.kind}`)}),D.value=null}C.value&&(C.value.srcObject=null,C.value.load()),_.value=!1,M.value="",console.log(" Camera stopped")},tt=async Te=>{if(!Te){alert(" QR Code kosong!");return}if(Y.value){console.log(" Already processing...");return}if(Y.value=!0,Te=Te.trim(),console.log(" Processing QR Code:",Te),$.value)try{await $.value.pause(),I.value=" Processing..."}catch(re){console.log("Cannot pause scanner:",re)}try{const re=await St.post("/transaction/quality-control/scan",{qr_code:Te});console.log(" Server response:",re.data),re.data.success&&(M.value=` ${re.data.message}`,setTimeout(()=>{Ge(),me(re.data.data)},1e3))}catch(re){console.error(" Error processing QR:",re);let X=" Error: ";if(re.response?.data?X+=re.response.data.message||"Terjadi kesalahan":X+=re.message||"Terjadi kesalahan",S.value=X,alert(X),$.value)try{await $.value.resume(),I.value=" Scanner Aktif"}catch(B){console.log("Cannot resume scanner:",B)}}finally{Y.value=!1}},Re=(Te,re,X,B,k)=>{const R=Te?"R E J E C T":"R E L E A S E D",N="#171917",V=Te?"red":"green",K=re.noLot||re.batchLot||"N/A",ue=le(re.expDate||"N/A"),ie=le(re.tanggalTerima||"N/A"),W=`[${re.kodeItem||"N/A"}] ${re.namaMaterial||"N/A"}`,ee=co().props.auth?.user?.name||"Logistik",J=re.qtyUnitPerWadah||0,se=`${L(J)} ${re.uom||"PCS"}`,xe=re.qtyWadah||1,ge=xe>0?`${J} x ${xe} box`:"",Me=X?`<img src="${X}" class="qr-code" alt="QR Code">`:'<div class="qr-placeholder">NO QR</div>';return`
        <div class="label-wrapper">
            <div class="label-container" style="border-color: ${N};">
                <div class="header" style="border-bottom-color: ${N};">
                    <img src="${pY}" alt="Logo Gondowangi" class="logo-img">
                    <div class="status-box" style="color: ${V}; border-top-color: ${N};">${R}</div>
                </div>
                
                <div class="content">
                    <div class="info-section">
                        <div class="info-row">
                            <div class="info-label">Nama Barang</div>
                            <div class="info-value" style="font-size: 11px;">: ${W}</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">Kode Barang</div>
                            <div class="info-value">: ${re.kodeItem||"N/A"}</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">No Lot</div>
                            <div class="info-value">: ${K}</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">Supplier</div>
                            <div class="info-value">: ${re.supplier||"N/A"}</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">Jmlh Barang</div>
                            <div class="info-value">: ${se}</div>
                        </div>
                        ${ge?`<div class="info-row">
                            <div class="info-label">Detail Wadah</div>
                            <div class="info-value multi-line">: ${ge}</div>
                        </div>`:""}
                        <div class="info-row">
                            <div class="info-label">Wadah Ke</div>
                            <div class="info-value">: ${B} / ${xe}</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">Tgl Datang</div>
                            <div class="info-value">: ${ie}</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">Exp. Date</div>
                            <div class="info-value">: ${ue}</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">Dibuat Oleh</div>
                            <div class="info-value">: ${ee}</div>
                        </div>
                    </div>
                    
                    <div class="qr-section">
                        ${Me}
                    </div>
                </div>
                
                <div class="footer" style="border-top-color: ${N};">
                    <span class="footer-left">Logistik</span>
                    <span class="footer-right">QL1001-01 Rev. 02</span>
                </div>
            </div>
        </div>
    `},Je=async(Te,re)=>{const X=Te.qtyWadah||1,B=6;let k="";const R=re?"REJECT":"RELEASED";if(X<=0)throw new Error("Jumlah wadah tidak valid untuk dicetak.");for(let V=0;V<X;V+=B){let K="";const ue=Math.min(B,X-V);for(let ie=0;ie<ue;ie++){const W=V+ie+1,ee=Te.qrCode||`${Te.batchLot}|${Te.kodeItem}|${R}|${Te.qtyUnitPerWadah}|${Te.expDate}|${W}/${X}`,J=await Q(ee),se=Re(re,Te,J,W);K+=se}k+=`
            <div class="print-page" style="${V>0?"page-break-before: always;":""}">
                ${K}
            </div>
        `}const N=re?"red":"green";return`
        <html>
        <head>
            <title>Cetak Label QR - ${Te.kodeItem} (${X} Wadah)</title>
            <style>
                @page {
                    size: A4;
                    margin: 0.5cm;
                }
                
                body {
                    font-family: 'Arial', sans-serif;
                    margin: 0;
                    padding: 0;
                    background: white;
                    font-size: 10px;
                }
                
                .print-page {
                    width: 20cm; 
                    height: 28.7cm; 
                    margin: 0.5cm auto; 
                    box-sizing: border-box;
                    display: flex;
                    flex-wrap: wrap;
                    align-content: flex-start;
                    justify-content: space-between; 
                }

                /* ===========================================
                    GAYA VISUAL (diselaraskan dengan Penerimaan Barang)
                    =========================================== */

                .label-wrapper {
                    width: 9.9cm; /* 2 kolom di A4 */
                    height: calc(33.33% - 0.4cm); /* 3 baris di A4 */
                    padding: 0; 
                    box-sizing: border-box;
                    margin-bottom: 0.4cm; 
                    margin-right: 0.1cm;
                    margin-left: 0.1cm;
                }
                
                .label-container {
                    width: 100%; 
                    height: 100%; 
                    border: 2px solid ${N}; /* Warna border sesuai status */
                    padding: 5px; 
                    box-sizing: border-box;
                    background-color: #fff;
                    display: flex;
                    flex-direction: column;
                    font-size: 10px; 
                }
                .header {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    border-bottom: 2px solid ${N};
                    padding-bottom: 5px; 
                    margin-bottom: 5px; 
                }
                .logo-img {
                    width: 130px; 
                    height: auto;
                    margin-bottom: 5px;
                }
                .status-box {
                    margin-top: 5px;
                    border-top: 0.8px solid #000; 
                    border-bottom: none;
                    border-left: none;
                    border-right: none;
                    padding: 2px 5px;
                    font-weight: bold;
                    font-size: 14px; 
                    width: 100%;
                    text-align: center;
                }
                .content {
                    display: flex;
                    flex-grow: 1;
                    padding-top: 5px;
                    gap: 10px; 
                }
                .info-section {
                    flex: 1;
                    display: flex;
                    flex-direction: column;
                    justify-content: space-between;
                }
                .info-row {
                    display: flex;
                    margin-bottom: 2px;
                    align-items: baseline;
                }
                .info-label {
                    width: 80px; 
                    min-width: 80px;
                    font-weight: normal;
                    flex-shrink: 0;
                }
                .info-value {
                    flex: 1;
                    font-weight: bold;
                    overflow: hidden;
                    text-overflow: ellipsis;
                    
                }
                .info-value.multi-line {
                    white-space: normal; 
                }

                .qr-section {
                    width: 80px; 
                    height: 80px; 
                    display: flex;
                    flex-direction: column;
                    justify-content: flex-start;
                    align-items: flex-end; 
                    flex-shrink: 0;
                }
                .qr-code {
                    width: 100%;
                    height: 100%;
                    border: 1px solid #ccc;
                }
                .qr-placeholder { 
                    width: 100%;
                    height: 100%;
                    border: 1px dashed #999;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 10px;
                    color: #999;
                    font-weight: bold;
                }
                
                .footer {
                    display: flex;
                    justify-content: space-between;
                    font-size: 10px; 
                    border-top: 2px solid ${N};
                    padding-top: 25px;
                    margin-top: 5px;
                }
                .footer-left {
                    font-style: italic;
                }
                .footer-right {
                    font-weight: bold;
                }
                
                /* Untuk mode print */
                @media print {
                    .print-page { 
                        page-break-after: always;
                        width: initial;
                        height: initial;
                        padding: 1px;
                        margin: 0 auto;
                    }
                    .print-page:last-child { page-break-after: avoid; }
                    body { 
                        -webkit-print-color-adjust: exact; 
                        print-color-adjust: exact;
                        display: block;
                        margin: 0;
                    }
                    /* Menyesuaikan border/padding di mode print */
                    .label-container {
                        border-top: 0.8px solid #000; 
                        padding: 2px;
                    }
                    .header {
                        border-bottom: 0.8px solid #000; 
                        padding: 2px;
                        padding-bottom: 0px; 
                        margin-bottom: 0px; 
                    }
                    .footer {
                        border-top: 0.8px solid #000; 
                        padding-top: 30px;
                        margin-top: 3px;
                    }
                }
            </style>
        </head>
        <body>
            ${k}
        </body>
        </html>
    `},et=async Te=>{try{const re=await Je(Te,!1),X=window.open("","_blank");X?(X.document.write(re),X.document.close(),X.focus()):alert("Gagal membuka jendela cetak. Pastikan pop-up tidak diblokir.")}catch(re){console.error("Error saat mencetak label RELEASED:",re),alert(re.message||"Terjadi kesalahan saat mencetak label.")}},st=async Te=>{try{const re=await Je(Te,!0),X=window.open("","_blank");X?(X.document.write(re),X.document.close(),X.focus()):alert("Gagal membuka jendela cetak. Pastikan pop-up tidak diblokir.")}catch(re){console.error("Error saat mencetak label REJECT:",re),alert(re.message||"Terjadi kesalahan saat mencetak label.")}};return Vo(()=>{Ne()}),Vo(async()=>{if($.value)try{await $.value.stop(),await $.value.clear()}catch(Te){console.error("Error cleaning up scanner:",Te)}}),(Te,re)=>(U(),Et(Qn,{title:"Riwayat Aktivitas"},{default:bt(()=>[o("div",LQ,[o("div",$Q,[re[28]||(re[28]=o("h2",{class:"text-2xl font-bold text-gray-900"},"Daftar QC (Quality Control)",-1)),o("div",jQ," Total item menunggu QC: "+P(e.itemsToQC.total),1),o("button",{onClick:fe,class:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},[...re[27]||(re[27]=[o("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h2M4 4h16a2 2 0 012 2v12a2 2 0 01-2 2H4a2 2 0 01-2-2V6a2 2 0 012-2z"})],-1),qe(" Scan QR Code ",-1)])])]),o("div",UQ,[o("div",HQ,[o("div",zQ,[Ee(o("select",{"onUpdate:modelValue":re[0]||(re[0]=X=>u.value=X),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"},[...re[29]||(re[29]=[o("option",{value:""},"Semua Status",-1),o("option",{value:"To QC"},"Menunggu QC",-1),o("option",{value:"Completed"},"Sudah QC (Pass/Reject)",-1),o("option",{value:"PASS"},"Lolos QC (PASS)",-1),o("option",{value:"REJECT"},"Tidak Lolos (REJECT)",-1)])],512),[[ct,u.value]])]),o("div",VQ,[Ee(o("input",{"onUpdate:modelValue":re[1]||(re[1]=X=>r.value=X),type:"text",placeholder:"Cari No Shipment, PO, Surat Jalan, Material...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"},null,512),[[Oe,r.value]])]),o("div",qQ,[Ee(o("input",{"onUpdate:modelValue":re[2]||(re[2]=X=>i.value=X),type:"date",class:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",title:"Tanggal Mulai"},null,512),[[Oe,i.value]]),re[30]||(re[30]=o("span",{class:"self-center text-gray-500"},"-",-1)),Ee(o("input",{"onUpdate:modelValue":re[3]||(re[3]=X=>a.value=X),type:"date",class:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",title:"Tanggal Akhir"},null,512),[[Oe,a.value]])]),o("div",WQ,[Ee(o("select",{"onUpdate:modelValue":re[4]||(re[4]=X=>c.value=X),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"},[...re[31]||(re[31]=[o("option",{value:"10"},"10",-1),o("option",{value:"25"},"25",-1),o("option",{value:"50"},"50",-1),o("option",{value:"100"},"100",-1),o("option",{value:"all"},"Semua",-1)])],512),[[ct,c.value]])])])]),o("div",GQ,[o("div",QQ,[o("table",KQ,[re[33]||(re[33]=o("thead",{class:"bg-gray-50"},[o("tr",null,[o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"No Shipment / No PO"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"No Surat Jalan"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Supplier"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Item (Kode & Nama)"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Qty Diambil"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status QC"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),o("tbody",YQ,[(U(!0),G($e,null,nt(e.itemsToQC.data,X=>(U(),G("tr",{key:X.id,class:"hover:bg-gray-50"},[o("td",XQ,[o("div",null,P(X.shipmentNumber),1),o("div",ZQ,P(X.noPo),1)]),o("td",JQ,P(X.noSuratJalan),1),o("td",eK,P(X.supplier),1),o("td",tK,[o("div",nK,P(X.kodeItem),1),o("div",rK,P(X.namaMaterial),1),X.is_reqc?(U(),G("span",sK,[re[32]||(re[32]=o("svg",{class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[o("path",{"fill-rule":"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z","clip-rule":"evenodd"})],-1)),qe(" RE-QC ("+P(X.reqc_count)+"x) ",1)])):pe("",!0)]),o("td",oK,[o("span",iK,P(L(z(X)))+" "+P(X.uom),1)]),o("td",aK,[o("span",{class:Fe([ce(X.statusQC),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},P(X.statusQC),3)]),o("td",lK,[o("div",cK,[X.statusQC==="To QC"?(U(),G("button",{key:0,onClick:B=>me(X),class:"bg-blue-100 text-blue-700 hover:bg-blue-200 px-3 py-1 rounded text-xs"}," Periksa QC ",8,dK)):pe("",!0),X.statusQC==="PASS"?(U(),G("button",{key:1,onClick:B=>et(X),class:"bg-purple-100 text-purple-700 hover:bg-purple-200 px-2 py-1 rounded text-xs"}," Cetak Label QR (RELEASED) ",8,uK)):pe("",!0),X.statusQC==="REJECT"?(U(),G("button",{key:2,onClick:B=>st(X),class:"bg-red-100 text-red-700 hover:bg-red-200 px-2 py-1 rounded text-xs"}," Cetak Label QR (REJECT) ",8,xK)):pe("",!0)])])]))),128))])])]),o("div",fK,[kt(NQ,{links:e.itemsToQC.links},null,8,["links"])])]),f.value?(U(),G("div",hK,[o("div",gK,[o("div",pK,[o("div",mK,[o("h3",yK,"Detail Item QC - "+P(w.value?.kodeItem),1),o("button",{onClick:te,class:"text-gray-400 hover:text-gray-600"},[...re[34]||(re[34]=[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),o("div",bK,[o("div",vK,[o("div",null,[re[35]||(re[35]=o("label",{class:"block text-sm font-medium text-gray-700"},"No Shipment",-1)),o("div",EK,P(w.value?.shipmentNumber),1)]),o("div",null,[re[36]||(re[36]=o("label",{class:"block text-sm font-medium text-gray-700"},"No PO",-1)),o("div",wK,P(w.value?.noPo),1)]),o("div",null,[re[37]||(re[37]=o("label",{class:"block text-sm font-medium text-gray-700"},"No Surat Jalan",-1)),o("div",CK,P(w.value?.noSuratJalan),1)]),o("div",null,[re[38]||(re[38]=o("label",{class:"block text-sm font-medium text-gray-700"},"Kode Item",-1)),o("div",AK,P(w.value?.kodeItem),1)]),o("div",null,[re[39]||(re[39]=o("label",{class:"block text-sm font-medium text-gray-700"},"Nama Material",-1)),o("div",BK,P(w.value?.namaMaterial),1)])]),o("div",_K,[o("div",null,[re[40]||(re[40]=o("label",{class:"block text-sm font-medium text-gray-700"},"Supplier",-1)),o("div",DK,P(w.value?.supplier),1)]),o("div",null,[re[41]||(re[41]=o("label",{class:"block text-sm font-medium text-gray-700"},"Quantity Received",-1)),o("div",kK,P(L(w.value?.qtyReceived))+" "+P(w.value?.uom),1)]),o("div",null,[re[42]||(re[42]=o("label",{class:"block text-sm font-medium text-gray-700"},"No Kendaraan",-1)),o("div",SK,P(w.value?.noKendaraan),1)]),o("div",null,[re[43]||(re[43]=o("label",{class:"block text-sm font-medium text-gray-700"},"Nama Driver",-1)),o("div",FK,P(w.value?.namaDriver),1)]),o("div",null,[re[44]||(re[44]=o("label",{class:"block text-sm font-medium text-gray-700"},"Status QC",-1)),o("span",{class:Fe([ce(w.value?.statusQC),"inline-flex px-2 py-1 text-xs font-semibold rounded-full"])},P(w.value?.statusQC),3)])])]),o("div",{class:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200"},[o("button",{onClick:te,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"}," Tutup "),o("button",{onClick:ne,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"}," Lanjut QC ")])])])])):pe("",!0),m.value?(U(),G("div",TK,[o("div",IK,[o("div",MK,[o("div",PK,[o("h3",RK,"Form QC - "+P(w.value?.kodeItem),1),o("button",{onClick:de,class:"text-gray-400 hover:text-gray-600"},[...re[45]||(re[45]=[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),o("div",OK,[o("div",null,[re[46]||(re[46]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"No Form Checklist",-1)),Ee(o("input",{"onUpdate:modelValue":re[5]||(re[5]=X=>T.value.noFormChecklist=X),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[Oe,T.value.noFormChecklist]])]),o("div",null,[re[47]||(re[47]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date",-1)),Ee(o("input",{"onUpdate:modelValue":re[6]||(re[6]=X=>T.value.date=X),type:"datetime-local",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Oe,T.value.date]])]),o("div",null,[re[48]||(re[48]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"No PO",-1)),Ee(o("input",{"onUpdate:modelValue":re[7]||(re[7]=X=>T.value.noPo=X),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[Oe,T.value.noPo]])]),o("div",null,[re[49]||(re[49]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"No Surat Jalan",-1)),Ee(o("input",{"onUpdate:modelValue":re[8]||(re[8]=X=>T.value.noSuratJalan=X),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[Oe,T.value.noSuratJalan]])]),o("div",null,[re[50]||(re[50]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Kode Item",-1)),Ee(o("input",{"onUpdate:modelValue":re[9]||(re[9]=X=>T.value.kodeItem=X),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[Oe,T.value.kodeItem]])]),o("div",null,[re[51]||(re[51]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nama Material",-1)),Ee(o("input",{"onUpdate:modelValue":re[10]||(re[10]=X=>T.value.namaMaterial=X),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[Oe,T.value.namaMaterial]])]),o("div",null,[re[52]||(re[52]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Reference",-1)),Ee(o("input",{"onUpdate:modelValue":re[11]||(re[11]=X=>T.value.reference=X),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Oe,T.value.reference]])]),o("div",null,[re[53]||(re[53]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nama Supplier",-1)),Ee(o("input",{"onUpdate:modelValue":re[12]||(re[12]=X=>T.value.supplier=X),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[Oe,T.value.supplier]])]),o("div",null,[re[55]||(re[55]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Kategori",-1)),Ee(o("select",{"onUpdate:modelValue":re[13]||(re[13]=X=>T.value.kategori=X),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},[...re[54]||(re[54]=[o("option",{value:""},"Pilih Kategori",-1),o("option",{value:"Raw Material"},"Raw Material",-1),o("option",{value:"Packaging Material"},"Packaging Material",-1)])],512),[[ct,T.value.kategori]])]),o("div",null,[re[56]||(re[56]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"No Kendaraan",-1)),Ee(o("input",{"onUpdate:modelValue":re[14]||(re[14]=X=>T.value.noKendaraan=X),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[Oe,T.value.noKendaraan]])]),o("div",null,[re[57]||(re[57]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nama Driver",-1)),Ee(o("input",{"onUpdate:modelValue":re[15]||(re[15]=X=>T.value.namaDriver=X),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[Oe,T.value.namaDriver]])])]),o("div",NK,[re[60]||(re[60]=o("h4",{class:"text-md font-medium text-gray-900 mb-4"},"Pengambilan Sampel QC",-1)),o("div",LK,[o("div",$K,[o("label",jK," Qty Sampel Diambil ("+P(T.value.uom)+") * ",1),Ee(o("input",{"onUpdate:modelValue":re[16]||(re[16]=X=>T.value.qtySample=X),type:"number",min:"0",max:T.value.totalIncoming,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,8,UK),[[Oe,T.value.qtySample]]),T.value.qtySample>T.value.totalIncoming?(U(),G("p",HK," Qty Sampel tidak boleh melebihi Total Incoming ("+P(T.value.totalIncoming)+" "+P(T.value.uom)+") ",1)):pe("",!0)]),o("div",null,[re[58]||(re[58]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Jumlah Total Incoming",-1)),Ee(o("input",{"onUpdate:modelValue":re[17]||(re[17]=X=>T.value.totalIncoming=X),type:"number",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[Oe,T.value.totalIncoming]])]),o("div",null,[re[59]||(re[59]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"UoM",-1)),Ee(o("input",{"onUpdate:modelValue":re[18]||(re[18]=X=>T.value.uom=X),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},null,512),[[Oe,T.value.uom]])])])]),o("div",zK,[re[69]||(re[69]=o("h4",{class:"text-md font-medium text-gray-900 mb-4"},"Hasil QC",-1)),o("div",VK,[o("div",qK,[o("div",null,[re[61]||(re[61]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Defect Count",-1)),Ee(o("input",{"onUpdate:modelValue":re[19]||(re[19]=X=>T.value.defectCount=X),type:"number",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Oe,T.value.defectCount]])]),o("div",null,[re[62]||(re[62]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Catatan QC",-1)),Ee(o("textarea",{"onUpdate:modelValue":re[20]||(re[20]=X=>T.value.catatanQC=X),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Oe,T.value.catatanQC]])]),w.value?.is_reqc&&T.value.hasilQC==="PASS"?(U(),G("div",WK,[re[63]||(re[63]=o("label",{class:"block text-sm font-medium text-orange-900 mb-1"},[o("span",{class:"flex items-center gap-1"},[o("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[o("path",{"fill-rule":"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z","clip-rule":"evenodd"})]),qe(" Expired Date Baru (RE-QC PASS) ")])],-1)),Ee(o("input",{"onUpdate:modelValue":re[21]||(re[21]=X=>T.value.newExpDate=X),type:"date",required:"",class:"w-full px-3 py-2 border border-orange-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 bg-white text-gray-900"},null,512),[[Oe,T.value.newExpDate]]),re[64]||(re[64]=o("p",{class:"text-xs text-orange-700 mt-1"},"Masukkan tanggal expired baru untuk material yang PASS Re-QC",-1))])):pe("",!0),re[65]||(re[65]=o("div",null,[o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Upload Foto Bukti"),o("input",{type:"file",multiple:"",accept:"image/*",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"})],-1))]),o("div",GK,[o("div",null,[re[68]||(re[68]=o("label",{class:"block text-sm font-medium text-gray-700 mb-3"},"Hasil QC *",-1)),o("div",QK,[o("label",KK,[Ee(o("input",{"onUpdate:modelValue":re[22]||(re[22]=X=>T.value.hasilQC=X),type:"radio",value:"PASS",class:"mr-2 text-green-600 focus:ring-green-500"},null,512),[[Pa,T.value.hasilQC]]),re[66]||(re[66]=o("span",{class:"text-sm text-gray-900"},"PASS",-1))]),o("label",YK,[Ee(o("input",{"onUpdate:modelValue":re[23]||(re[23]=X=>T.value.hasilQC=X),type:"radio",value:"REJECT",class:"mr-2 text-red-600 focus:ring-red-500"},null,512),[[Pa,T.value.hasilQC]]),re[67]||(re[67]=o("span",{class:"text-sm text-gray-900"},"REJECT",-1))])])]),T.value.hasilQC?(U(),G("div",{key:0,class:Fe(["mt-4 p-4 rounded-lg",T.value.hasilQC==="PASS"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"])},[o("div",{class:Fe(["text-sm",T.value.hasilQC==="PASS"?"text-green-800":"text-red-800"])},[o("strong",null,P((T.value.hasilQC==="PASS","Akan digenerate:")),1),o("ul",XK,[T.value.hasilQC==="PASS"?(U(),G("li",ZK,"Good Receipt Slip")):pe("",!0),T.value.hasilQC==="PASS"?(U(),G("li",JK,"Label Karantina QR (Status: RELEASED)")):pe("",!0),T.value.hasilQC==="REJECT"?(U(),G("li",eY,"Return Slip")):pe("",!0),T.value.hasilQC==="REJECT"?(U(),G("li",tY,"Label QR (Status: REJECT)")):pe("",!0)])],2)],2)):pe("",!0)])])]),o("div",nY,[o("button",{onClick:be,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"}," Kembali ke Detail "),o("button",{onClick:Ie,disabled:!j.value,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400"}," Simpan Hasil QC ",8,rY)])])])])):pe("",!0),y.value?(U(),G("div",sY,[o("div",oY,[o("div",iY,[o("div",{class:"flex justify-between items-center mb-4"},[re[71]||(re[71]=o("h3",{class:"text-lg font-semibold text-gray-900"},"Scan QR Code",-1)),o("button",{onClick:Ge,class:"text-gray-400 hover:text-gray-600"},[...re[70]||(re[70]=[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),o("div",aY,[o("div",lY,[re[72]||(re[72]=o("div",{id:"qr-reader",class:"w-full rounded-lg overflow-hidden"},null,-1)),I.value?(U(),G("div",cY,[o("span",{class:Fe([F.value,"px-3 py-1 rounded-full text-xs font-semibold"])},P(I.value),3)])):pe("",!0)]),M.value?(U(),G("div",dY,[o("p",uY,[re[73]||(re[73]=o("strong",null," QR Code terdeteksi:",-1)),re[74]||(re[74]=o("br",null,null,-1)),qe(" "+P(M.value),1)])])):pe("",!0),S.value?(U(),G("div",xY,[o("p",fY,[re[75]||(re[75]=o("strong",null," Error:",-1)),re[76]||(re[76]=o("br",null,null,-1)),qe(" "+P(S.value),1)])])):pe("",!0),re[79]||(re[79]=o("div",{class:"relative"},[o("div",{class:"absolute inset-0 flex items-center"},[o("div",{class:"w-full border-t border-gray-300"})]),o("div",{class:"relative flex justify-center text-sm"},[o("span",{class:"px-2 bg-white text-gray-500"},"atau")])],-1)),o("div",null,[re[77]||(re[77]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Input Manual QR Code: ",-1)),o("div",hY,[Ee(o("input",{"onUpdate:modelValue":re[24]||(re[24]=X=>E.value=X),onKeyup:re[25]||(re[25]=Ni(X=>tt(E.value),["enter"])),type:"text",placeholder:"Paste QR Code di sini...",class:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,544),[[Oe,E.value]]),o("button",{onClick:re[26]||(re[26]=X=>tt(E.value)),disabled:!E.value,class:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-md"}," Process ",8,gY)]),re[78]||(re[78]=o("p",{class:"mt-2 text-xs text-gray-500"}," Contoh format: IN/20250918/0001|RM-001|BATCH123|100|2027-01-01 ",-1))])])])])])):pe("",!0)])]),_:1}))}}),yY=Object.freeze(Object.defineProperty({__proto__:null,default:mY},Symbol.toStringTag,{value:"Module"})),bY={__name:"index",setup(e){return(t,n)=>(U(),Et(Qn,{pageTitle:"Laporan",pageDescription:"Laporan dan analisis warehouse"},{default:bt(()=>[...n[0]||(n[0]=[o("div",{class:"bg-white rounded-lg shadow p-6"},[o("div",{class:"text-center py-12"},[o("svg",{class:"w-20 h-20 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),o("h3",{class:"text-xl font-bold text-gray-800 mb-2"},"Halaman Laporan"),o("p",{class:"text-gray-600"},"Fitur laporan sedang dalam pengembangan")])],-1)])]),_:1}))}},vY=Object.freeze(Object.defineProperty({__proto__:null,default:bY},Symbol.toStringTag,{value:"Module"})),EY={class:"space-y-6"},wY={class:"bg-white rounded-lg shadow-sm border border-gray-200"},CY={class:"p-6 border-b border-gray-200"},AY={class:"flex flex-col lg:flex-row gap-4 mb-4"},BY={class:"flex-1"},_Y={class:"relative"},DY={key:0,class:"bg-blue-500 text-white text-xs px-2 py-0.5 rounded-full"},kY={key:0,class:"mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200"},SY={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4"},FY={class:"flex gap-2"},TY={class:"flex justify-between items-center"},IY={class:"text-sm text-gray-600"},MY={class:"flex gap-2"},PY={class:"p-6"},RY={class:"overflow-x-auto"},OY={class:"min-w-full divide-y divide-gray-200"},NY={class:"bg-white divide-y divide-gray-200"},LY={key:0},$Y={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800"},jY={class:"px-6 py-4 whitespace-nowrap text-sm"},UY={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},HY={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},zY={class:"px-6 py-4 whitespace-nowrap"},VY={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},qY={class:"flex space-x-2"},WY=["onClick"],GY=["onClick"],QY={key:0,class:"fixed inset-0 bg-gray-900 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},KY={class:"bg-white rounded-lg w-full max-w-7xl mx-4 max-h-[90vh] overflow-y-auto shadow-xl"},YY={class:"p-6"},XY={class:"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200"},ZY={class:"grid grid-cols-2 md:grid-cols-4 gap-3"},JY=["onClick"],eX={key:0,class:"space-y-6"},tX={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},nX={class:"block text-sm font-medium text-gray-700 mb-1"},rX={key:0},sX={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},oX={key:0},iX={key:1},aX={key:2},lX={key:3},cX={key:4},dX={key:5},uX={class:"mb-6 p-4 bg-yellow-50 rounded-lg border border-yellow-200"},xX={class:"block text-sm font-medium text-gray-700 mb-2"},fX={key:0},hX={key:1},gX={key:2},pX={class:"flex items-center gap-3"},mX=["disabled"],yX={class:"border-t border-gray-200 pt-6"},bX={class:"flex justify-between items-center mb-4"},vX={class:"text-md font-medium text-gray-800"},EX={class:"overflow-x-auto border border-gray-200 rounded-lg"},wX={class:"min-w-full divide-y divide-gray-200"},CX={class:"bg-gray-50"},AX={class:"divide-y divide-gray-200 bg-white"},BX={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-700"},_X={class:"px-4 py-3 relative whitespace-nowrap z-10"},DX=["onUpdate:modelValue","onInput","onFocus"],kX={key:0,class:"absolute left-0 right-0 mt-1 max-h-48 overflow-y-auto bg-white border border-gray-300 rounded-md shadow-lg z-20"},SX=["onMousedown"],FX={class:"text-gray-500 text-xs truncate ml-2"},TX={class:"px-4 py-3 whitespace-nowrap"},IX=["onUpdate:modelValue"],MX={class:"px-4 py-3 whitespace-nowrap"},PX=["onUpdate:modelValue"],RX={key:1,class:"text-xs text-red-500 font-medium"},OX={class:"px-4 py-3 whitespace-nowrap"},NX=["onUpdate:modelValue"],LX={class:"px-4 py-3 relative whitespace-nowrap z-10"},$X=["onUpdate:modelValue","onInput","onFocus"],jX={key:0,class:"absolute left-0 right-0 mt-1 max-h-48 overflow-y-auto bg-white border border-gray-300 rounded-md shadow-lg z-20"},UX=["onMousedown"],HX={class:"text-gray-500 text-xs truncate ml-2"},zX={class:"px-4 py-3 whitespace-nowrap"},VX=["onUpdate:modelValue"],qX={class:"px-4 py-3 whitespace-nowrap"},WX=["onUpdate:modelValue"],GX={key:1,class:"text-xs text-red-500 font-medium"},QX={class:"px-4 py-3 relative whitespace-nowrap z-10"},KX=["onUpdate:modelValue","onInput","onFocus"],YX={key:0,class:"absolute left-0 right-0 mt-1 max-h-48 overflow-y-auto bg-white border border-gray-300 rounded-md shadow-lg z-20"},XX=["onMousedown"],ZX={class:"text-gray-500 text-xs truncate ml-2"},JX={class:"px-4 py-3 whitespace-nowrap"},eZ=["onUpdate:modelValue"],tZ={class:"px-4 py-3 whitespace-nowrap"},nZ=["onUpdate:modelValue"],rZ={key:1,class:"text-xs text-red-500 font-medium"},sZ={class:"px-4 py-3 relative whitespace-nowrap z-10"},oZ=["onUpdate:modelValue","onInput","onFocus"],iZ={key:0,class:"absolute left-0 right-0 mt-1 max-h-48 overflow-y-auto bg-white border border-gray-300 rounded-md shadow-lg z-20"},aZ=["onMousedown"],lZ={class:"text-gray-500 text-xs truncate ml-2"},cZ={class:"px-4 py-3 whitespace-nowrap"},dZ=["onUpdate:modelValue"],uZ={class:"px-4 py-3 whitespace-nowrap"},xZ=["onUpdate:modelValue"],fZ={class:"px-4 py-3 whitespace-nowrap"},hZ=["onUpdate:modelValue"],gZ={key:1,class:"text-xs text-red-500 font-medium"},pZ={class:"px-4 py-3 whitespace-nowrap"},mZ=["onClick"],yZ={class:"flex justify-end space-x-3 pt-6 border-t border-gray-200"},bZ=["disabled"],vZ={key:1,class:"fixed inset-0 bg-gray-900 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},EZ={class:"bg-white rounded-lg w-full max-w-7xl mx-4 max-h-[90vh] overflow-y-auto shadow-xl"},wZ={class:"p-6"},CZ={class:"flex justify-between items-center mb-6 border-b pb-4"},AZ={class:"text-xl font-bold text-gray-800"},BZ={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 bg-gray-50 p-4 rounded-lg"},_Z={class:"space-y-1"},DZ={class:"space-y-1"},kZ={class:"font-medium text-gray-800"},SZ={class:"space-y-1"},FZ={class:"space-y-1"},TZ={class:"text-gray-800"},IZ={class:"space-y-1 md:col-span-2"},MZ={class:"text-gray-800"},PZ={class:"space-y-1"},RZ={class:"text-gray-800"},OZ={class:"space-y-1"},NZ={class:"text-gray-800"},LZ={class:"space-y-1"},$Z={class:"text-gray-800"},jZ={class:"space-y-1"},UZ={class:"text-gray-800"},HZ={class:"space-y-1"},zZ={class:"text-gray-800"},VZ={key:0,class:"p-4 bg-yellow-50 text-yellow-700 rounded-lg"},qZ={key:1,class:"overflow-x-auto border border-gray-200 rounded-lg"},WZ={class:"min-w-full divide-y divide-gray-200"},GZ={class:"bg-gray-50"},QZ={class:"divide-y divide-gray-200 bg-white"},KZ={class:"px-4 py-3 whitespace-nowrap text-sm text-gray-700"},YZ={class:"px-4 py-3 text-sm text-gray-700"},XZ={class:"px-4 py-3 text-sm text-gray-700"},ZZ={class:"px-4 py-3 text-sm text-gray-700"},JZ={class:"px-4 py-3 text-sm text-gray-700"},eJ={class:"px-4 py-3 text-sm text-gray-700"},tJ={class:"px-4 py-3 text-sm text-gray-700"},nJ={class:"px-4 py-3 text-sm text-gray-700"},rJ={class:"px-4 py-3 text-sm text-gray-700"},sJ={class:"px-4 py-3 text-sm text-gray-700"},oJ={class:"px-4 py-3 text-sm text-gray-700"},iJ={class:"px-4 py-3 text-sm text-gray-700"},aJ={class:"px-4 py-3 text-sm text-gray-700"},lJ={class:"px-4 py-3 text-sm text-gray-700"},cJ={class:"px-4 py-3 text-sm text-gray-700"},dJ={class:"px-4 py-3 text-sm text-gray-700"},uJ={key:0,class:"fixed inset-0 bg-gray-900 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},xJ={class:"bg-white rounded-lg p-6 w-full max-w-sm shadow-xl"},fJ={class:"text-sm text-gray-600 mb-6"},hJ={class:"flex justify-end space-x-3"},gJ={__name:"Reservation",props:{initialRequests:{type:Array,default:()=>[]},errors:Object,auth:Object,permissions:Array},setup(e){const t=ve(!1),n=ve(""),r=ve(!1),i=ve(""),a=ve(!1),c=ve(null),u=ve(!1),g=ve(""),f=ve(null),m=ve(null),y=ve([]),w=ve(null);let E=null;const C=ve({category:"",status:"",dateFrom:"",dateTo:""}),D=[{id:"packaging",name:"Request Packaging Material"},{id:"raw-material",name:"Request Raw Material"},{id:"foh-rs",name:"FOH & RS"},{id:"add",name:"ADD (Additional Request)"}],_=ve({noReservasi:"",tanggalPermintaan:"",departemen:"",alasanReservasi:"",namaProduk:"",noBetsFilling:"",kodeProduk:"",noBets:"",besarBets:"",items:[]}),M=k=>{const R=k.target.files?k.target.files[0]:null;f.value=R,m.value=R?{type:"info",message:`File terpilih: ${R.name}`}:null},$=async()=>{if(!f.value){m.value={type:"error",message:" Harap pilih file PDF terlebih dahulu."};return}if(!n.value){m.value={type:"error",message:" Mohon pilih kategori terlebih dahulu."};return}_.value.items=[],m.value={type:"info",message:"Sedang memproses file, mohon tunggu..."};const k=new FormData;k.append("file",f.value),k.append("request_type",n.value);try{const R=await St.post(route("transaction.reservation.parse-materials"),k,{headers:{"Content-Type":"multipart/form-data"}}),N=R.data.materials||[],V=R.data.notFoundMaterials||[];if(N.length>0?(_.value.items=N.map(K=>n.value==="raw-material"?{kodeBahan:K.kodeBahan,namaBahan:K.namaBahan,jumlahKebutuhan:K.jumlahKebutuhan,jumlahKirim:null,satuan:K.satuan,stokAvailable:K.stokAvailable}:n.value==="packaging"||n.value==="add"?{kodePM:K.kodePM,namaMaterial:K.namaMaterial,jumlahPermintaan:K.jumlahPermintaan,satuan:K.satuan,stokAvailable:K.stokAvailable}:n.value==="foh-rs"?{kodeItem:K.kodeItem,keterangan:K.keterangan||K.namaMaterial,qty:K.qty,uom:K.uom,stokAvailable:K.stokAvailable}:{}),m.value={type:"success",message:` Berhasil mengimpor ${N.length} material.`}):V.length>0?m.value={type:"warning",message:` ${V.length} material ditolak/tidak ditemukan. Lihat detail.`}:m.value={type:"error",message:" Tidak ada material yang ditemukan dalam dokumen."},V.length>0){const K=V.map(ue=>` **${ue.kode||ue.kodePM||ue.kodeBahan}**: ${ue.message}`).join(`
`);g.value=` Ditemukan masalah pada material berikut (Item TIDAK dimasukkan ke tabel):

${K}`,u.value=!0}}catch(R){console.error("Error saat parse file:",R);const N=R.response?.statusText||"Kesalahan Server";let V=R.response?.data?.message||`Gagal memproses. (${N})`;if(R.response?.data?.errors){const K=R.response.data.errors;V=Object.values(K).map(ue=>ue[0]).join("; ")}m.value={type:"error",message:` Gagal memproses (${N}): ${V}`}}finally{f.value=null,document.querySelector('input[type="file"]').value=""}},S=ve(e.initialRequests||[]),T=async()=>{try{const k=await St.get(route("transaction.reservation.data"));S.value=k.data}catch(k){console.error("Error fetching reservations:",k)}},j=k=>{const R=D.find(N=>N.id===k);return R?R.name:k},L=k=>({"foh-rs":"bg-blue-100 text-blue-700",packaging:"bg-green-100 text-green-700","raw-material":"bg-purple-100 text-purple-700",add:"bg-orange-100 text-orange-700"})[k]||"bg-gray-100 text-gray-700",z=We(()=>{switch(n.value){case"foh-rs":return"Daftar Item";case"packaging":return"Daftar Material";case"raw-material":return"Daftar Bahan Baku";case"add":return"Daftar Item Tambahan";default:return"Daftar Item"}}),F=(k,R)=>{const N=parseFloat(k[R])||0,V=parseFloat(k.stokAvailable)||0;return N>V&&N>0&&k.stokAvailable!==void 0},Q=We(()=>{let k="";switch(n.value){case"foh-rs":k="qty";break;case"packaging":case"add":k="jumlahPermintaan";break;case"raw-material":k="jumlahKebutuhan";break;default:return!1}return _.value.items.some(R=>F(R,k))}),le=We(()=>{if(!n.value||!_.value.tanggalPermintaan||_.value.items.length===0||!_.value.items.every(R=>{switch(n.value){case"foh-rs":return R.kodeItem&&R.qty>0;case"packaging":case"add":return R.kodePM&&R.jumlahPermintaan>0;case"raw-material":return R.kodeBahan&&R.jumlahKebutuhan>0;default:return!1}}))return!1;switch(n.value){case"foh-rs":return!!_.value.departemen&&!!_.value.alasanReservasi;case"packaging":return!!_.value.namaProduk&&!!_.value.noBetsFilling;case"raw-material":return!!_.value.kodeProduk&&!!_.value.noBets&&_.value.besarBets>0;case"add":return!!_.value.namaProduk&&!!_.value.noBetsFilling;default:return!1}}),Y=We(()=>{let k=S.value;if(i.value){const R=i.value.toLowerCase();k=k.filter(N=>N.noReservasi.toLowerCase().includes(R)||j(N.type).toLowerCase().includes(R)||fe(N).toLowerCase().includes(R)||N.status.toLowerCase().includes(R))}if(C.value.category&&(k=k.filter(R=>R.type===C.value.category)),C.value.status&&(k=k.filter(R=>R.status===C.value.status)),C.value.dateFrom){const R=new Date(C.value.dateFrom);k=k.filter(N=>new Date(N.tanggalPermintaan)>=R)}if(C.value.dateTo){const R=new Date(C.value.dateTo);R.setHours(23,59,59,999),k=k.filter(N=>new Date(N.tanggalPermintaan)<=R)}return k}),ce=We(()=>{let k=0;return C.value.category&&k++,C.value.status&&k++,C.value.dateFrom&&k++,C.value.dateTo&&k++,k}),me=(k,R)=>{w.value={index:k,field:R},y.value=[]},te=()=>{setTimeout(()=>{w.value=null,y.value=[]},200)},ne=(k,R)=>w.value&&w.value.index===k&&w.value.field===R,de=async(k,R)=>{if(!k||k.length<2){y.value=[];return}try{const N=await St.get(route("transaction.materials.search"),{params:{query:k,type:R}});y.value=N.data}catch(N){console.error("Error fetching material suggestions:",N),y.value=[]}},be=(k,R,N)=>{E&&clearTimeout(E),w.value={index:R,field:N},E=setTimeout(()=>{de(k,n.value)},300)},De=(k,R,N)=>{const V=_.value.items[R];V.kodeItem="",V.keterangan="",V.uom="",V.kodePM="",V.namaMaterial="",V.kodeBahan="",V.namaBahan="",V.satuan="",V.stokAvailable=k.stokAvailable,n.value==="foh-rs"?(V.kodeItem=k.kodeItem,V.keterangan=k.keterangan,V.uom=k.uom):n.value==="packaging"||n.value==="add"?(V.kodePM=k.kodePM,V.namaMaterial=k.namaMaterial,V.satuan=k.satuan):n.value==="raw-material"&&(V.kodeBahan=k.kodeBahan,V.namaBahan=k.namaBahan,V.satuan=k.satuan),y.value=[],w.value=null},Ie=k=>({Draft:"bg-gray-100 text-gray-700",Submitted:"bg-blue-100 text-blue-700",Completed:"bg-green-100 text-green-700",Rejected:"bg-red-100 text-red-700",Picking:"bg-yellow-100 text-yellow-700",Done:"bg-purple-100 text-purple-700"})[k]||"bg-yellow-100 text-yellow-700",fe=k=>{switch(k.type){case"foh-rs":return k.departemen;case"packaging":return k.namaProduk;case"raw-material":return k.kodeProduk;case"add":return k.namaProduk;default:return"-"}},Pe=k=>{if(!k)return"-";try{return new Date(k).toLocaleString("id-ID",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return k}},Ge=()=>{C.value={category:"",status:"",dateFrom:"",dateTo:""}},Ne=()=>{Re(),Je(),t.value=!0},tt=()=>{t.value=!1,Re()},Re=()=>{f.value=null,m.value=null,n.value="",_.value={noReservasi:"",tanggalPermintaan:new Date().toISOString().slice(0,16),departemen:"",alasanReservasi:"",namaProduk:"",noBetsFilling:"",kodeProduk:"",noBets:"",besarBets:"",items:[]}},Je=()=>{const k=new Date().toISOString().slice(0,10).replace(/-/g,""),R=S.value.length+1;_.value.noReservasi=`RSV/${k}/${String(R).padStart(4,"0")}`},et=()=>{const k={};switch(n.value){case"foh-rs":k.kodeItem="",k.keterangan="",k.qty=null,k.uom="",k.stokAvailable=void 0;break;case"packaging":k.namaMaterial="",k.kodePM="",k.jumlahPermintaan=null,k.satuan="",k.stokAvailable=void 0;break;case"raw-material":k.kodeBahan="",k.namaBahan="",k.jumlahKebutuhan=null,k.jumlahKirim=null,k.satuan="",k.stokAvailable=void 0;break;case"add":k.namaMaterial="",k.kodePM="",k.alasanPenambahan="",k.jumlahPermintaan=null,k.satuan="",k.stokAvailable=void 0;break}_.value.items.push(k)},st=k=>{_.value.items.splice(k,1)},Te=async()=>{if(!le.value){g.value="Mohon lengkapi semua field yang diperlukan (termasuk Tanggal Permintaan, minimal satu Item, dan semua field header wajib) sebelum melanjutkan.",u.value=!0;return}if(Q.value){g.value="Tidak dapat mengirim permintaan: Beberapa item melebihi stok yang tersedia. Harap perbaiki kuantitas permintaan.",u.value=!0;return}const k={..._.value,request_type:n.value};gt.post(route("transaction.reservation.store"),k,{preserveScroll:!0,onSuccess:()=>{console.log(" Reservation request berhasil dibuat!"),tt(),T()},onError:R=>{console.error("Validation errors:",R);let N=` Gagal membuat reservasi karena data tidak lengkap:

`;for(const V in R)if(Object.prototype.hasOwnProperty.call(R,V)){const K=Array.isArray(R[V])?R[V][0]:R[V];N+=` ${K}
`}g.value=N,u.value=!0}})},re=k=>{c.value=JSON.parse(JSON.stringify(k)),a.value=!0},X=()=>{a.value=!1,c.value=null},B=k=>{const R=JSON.parse(JSON.stringify(k));if(!R.items||!Array.isArray(R.items)){console.error("Tidak dapat mencetak: Data item tidak valid atau kosong."),g.value="Tidak dapat mencetak: Data item tidak valid atau kosong.",u.value=!0;return}const N=window.open("","_blank");let V="",K="";const ue=R.items.map((ie,W)=>{let ee=`<td>${W+1}</td>`;const J=R.type?R.type.toLowerCase():"";return J==="foh-rs"?ee+=`
            <td>${ie.kodeItem||"-"}</td>
            <td>${ie.keterangan||"-"}</td>
            <td>${ie.qty||"-"}</td>
            <td>${ie.uom||"-"}</td>
        `:J==="packaging"?ee+=`
            <td>${ie.namaMaterial||"-"}</td>
            <td>${ie.kodePM||"-"}</td>
            <td>${ie.jumlahPermintaan||"-"}</td>
        `:J==="raw-material"?ee+=`
            <td>${ie.kodeBahan||"-"}</td>
            <td>${ie.namaBahan||"-"}</td>
            <td>${ie.jumlahKebutuhan||"-"}</td>
            <td>${ie.jumlahKirim||"-"}</td>
        `:J==="add"&&(ee+=`
            <td>${ie.namaMaterial||"-"}</td>
            <td>${ie.kodePM||"-"}</td>
            <td>${ie.alasanPenambahan||"-"}</td>
            <td>${ie.jumlahPermintaan||"-"}</td>
        `),`<tr>${ee}</tr>`}).join("");switch(R.type?R.type.toLowerCase():""){case"foh-rs":V="FORM FOH & RS REQUEST",K=`
        <div class="info-section">
          <div class="info-row">
            <span><strong>No Reservasi:</strong> ${R.noReservasi}</span>
            <span><strong>Tanggal:</strong> ${Pe(R.tanggalPermintaan)}</span>
          </div>
          <div class="info-row">
            <span><strong>Departemen:</strong> ${R.departemen}</span>
            <span><strong>Status:</strong> ${R.status}</span>
          </div>
          <div class="info-row">
            <span><strong>Alasan Reservasi:</strong> ${R.alasanReservasi||"-"}</span>
          </div>
        </div>

        <table class="items-table">
          <thead>
            <tr>
              <th>No</th>
              <th>Kode Item</th>
              <th>Keterangan</th>
              <th>Qty</th>
              <th>UoM</th>
            </tr>
          </thead>
          <tbody>
          ${ue}
          </tbody>
        </table>
      `;break;case"packaging":V="FORM REQUEST PACKAGING MATERIAL",K=`
        <div class="info-section">
          <div class="info-row">
            <span><strong>No Reservasi:</strong> ${R.noReservasi}</span>
            <span><strong>Tanggal & Jam:</strong> ${Pe(R.tanggalPermintaan)}</span>
          </div>
          <div class="info-row">
            <span><strong>Nama Produk:</strong> ${R.namaProduk}</span>
            <span><strong>No Bets Filling:</strong> ${R.noBetsFilling}</span>
          </div>
        </div>

        <table class="items-table">
          <thead>
            <tr>
              <th>No</th>
              <th>Nama Material</th>
              <th>Kode PM</th>
              <th>Jumlah Permintaan</th>
            </tr>
          </thead>
          <tbody>
          ${ue}
          </tbody>
        </table>
      `;break;case"raw-material":V="FORM REQUEST RAW MATERIAL",K=`
        <div class="info-section">
          <div class="info-row">
            <span><strong>No Reservasi:</strong> ${R.noReservasi}</span>
            <span><strong>Tanggal:</strong> ${Pe(R.tanggalPermintaan)}</span>
          </div>
          <div class="info-row">
            <span><strong>Kode Produk:</strong> ${R.kodeProduk}</span>
            <span><strong>No Bets:</strong> ${R.noBets}</span>
          </div>
          <div class="info-row">
            <span><strong>Besar Bets:</strong> ${R.besarBets} Kg</span>
          </div>
        </div>

        <table class="items-table">
          <thead>
            <tr>
              <th>No</th>
              <th>Kode Bahan</th>
              <th>Nama Bahan</th>
              <th>Jumlah Kebutuhan</th>
            </tr>
          </thead>
          <tbody>
          ${ue}
          </tbody>
        </table>
      `;break;case"add":V="FORM ADD - ADDITIONAL REQUEST",K=`
        <div class="info-section">
          <div class="info-row">
            <span><strong>No Reservasi:</strong> ${R.noReservasi}</span>
            <span><strong>Tanggal & Jam:</strong> ${Pe(R.tanggalPermintaan)}</span>
          </div>
          <div class="info-row">
            <span><strong>Nama Produk:</strong> ${R.namaProduk}</span>
            <span><strong>No Bets Filling:</strong> ${R.noBetsFilling}</span>
          </div>
        </div>

        <table class="items-table">
          <thead>
            <tr>
              <th>No</th>
              <th>Nama Material</th>
              <th>Kode PM</th>
              <th>Alasan Penambahan</th>
              <th>Jumlah Permintaan</th>
            </tr>
          </thead>
          <tbody>
          ${ue}
          </tbody>
        </table>
      `;break;default:console.error("Tipe request tidak dikenal: ",R.type),g.value=`Tipe request tidak dikenal: ${R.type}`,u.value=!0;return}N.document.write(`
    <html>
      <head>
        <title>${V} - ${R.noReservasi}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; font-size: 12px; }
          .header { text-align: center; border-bottom: 2px solid #000; padding-bottom: 10px; margin-bottom: 20px; }
          .info-section { margin: 20px 0; }
          .info-row { display: flex; justify-content: space-between; margin: 8px 0; }
          .items-table { width: 100%; border-collapse: collapse; margin: 20px 0; }
          .items-table th, .items-table td { border: 1px solid #000; padding: 8px; text-align: left; }
          .items-table th { background-color: #f0f0f0; font-weight: bold; }
          .signature { margin-top: 40px; display: flex; justify-content: space-between; }
          .signature div { text-align: center; }
          .signature-line { border-top: 1px solid #000; width: 150px; margin-top: 40px; }
          @media print {
            body { margin: 0; font-size: 11px; }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <h2>${V}</h2>
          <p>No: ${R.noReservasi}</p>
        </div>

        ${K}

        <div class="signature">
          <div>
            <p>Dibuat Oleh:</p>
            <div class="signature-line"></div>
            <p>Requester</p>
          </div>
          <div>
            <p>Disetujui Oleh:</p>
            <div class="signature-line"></div>
            <p>Supervisor</p>
          </div>
          <div>
            <p>Tanggal:</p>
            <div class="signature-line"></div>
            <p>${new Date().toLocaleDateString("id-ID")}</p>
          </div>
        </div>
      </body>
    </html>
  `),N.document.close(),N.focus(),setTimeout(()=>{N.print(),N.close()},500)};return Gn(()=>{}),(k,R)=>(U(),Et(Qn,{title:"Riwayat Aktivitas"},{default:bt(()=>[o("div",EY,[R[90]||(R[90]=o("div",{class:"flex justify-between items-center"},[o("h2",{class:"text-2xl font-bold text-gray-800"},"Reservation Requests")],-1)),o("div",wY,[o("div",CY,[o("div",AY,[o("div",BY,[o("div",_Y,[Ee(o("input",{"onUpdate:modelValue":R[0]||(R[0]=N=>i.value=N),type:"text",placeholder:"Cari berdasarkan No Reservasi, Kategori, atau Detail Info...",class:"w-full px-4 py-2.5 pl-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-700"},null,512),[[Oe,i.value]]),R[21]||(R[21]=o("svg",{class:"w-5 h-5 absolute left-3 top-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])]),o("button",{onClick:R[1]||(R[1]=N=>r.value=!r.value),class:"px-4 py-2.5 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg flex items-center gap-2 transition-colors border border-gray-300"},[R[22]||(R[22]=o("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1)),R[23]||(R[23]=qe(" Filter ",-1)),ce.value>0?(U(),G("span",DY,P(ce.value),1)):pe("",!0)]),o("button",{onClick:Ne,class:"px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex items-center gap-2 transition-colors"},[...R[24]||(R[24]=[o("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),qe(" Buat Request ",-1)])])]),r.value?(U(),G("div",kY,[o("div",SY,[o("div",null,[R[26]||(R[26]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Kategori",-1)),Ee(o("select",{"onUpdate:modelValue":R[2]||(R[2]=N=>C.value.category=N),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-700 bg-white"},[...R[25]||(R[25]=[o("option",{value:""},"Semua Kategori",-1),o("option",{value:"foh-rs"},"FOH & RS",-1),o("option",{value:"packaging"},"Request Packaging Material",-1),o("option",{value:"raw-material"},"Request Raw Material",-1),o("option",{value:"add"},"ADD (Additional Request)",-1)])],512),[[ct,C.value.category]])]),o("div",null,[R[28]||(R[28]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Status",-1)),Ee(o("select",{"onUpdate:modelValue":R[3]||(R[3]=N=>C.value.status=N),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-700 bg-white"},[...R[27]||(R[27]=[o("option",{value:""},"Semua Status",-1),o("option",{value:"Draft"},"Draft",-1),o("option",{value:"Submitted"},"Submitted",-1),o("option",{value:"Approved"},"Approved",-1),o("option",{value:"Rejected"},"Rejected",-1),o("option",{value:"Picking"},"Picking",-1),o("option",{value:"Done"},"Done",-1)])],512),[[ct,C.value.status]])]),o("div",null,[R[29]||(R[29]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Rentang Tanggal",-1)),o("div",FY,[Ee(o("input",{"onUpdate:modelValue":R[4]||(R[4]=N=>C.value.dateFrom=N),type:"date",class:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-700 bg-white text-sm"},null,512),[[Oe,C.value.dateFrom]]),Ee(o("input",{"onUpdate:modelValue":R[5]||(R[5]=N=>C.value.dateTo=N),type:"date",class:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-700 bg-white text-sm"},null,512),[[Oe,C.value.dateTo]])])])]),o("div",TY,[o("div",IY," Total hasil: "+P(Y.value.length)+" dari "+P(S.value.length)+" requests ",1),o("div",MY,[o("button",{onClick:Ge,class:"px-4 py-2 text-gray-600 hover:text-gray-800 text-sm"}," Reset Filter "),o("button",{onClick:R[6]||(R[6]=N=>r.value=!1),class:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm"}," Terapkan ")])])])):pe("",!0)]),o("div",PY,[o("div",RY,[o("table",OY,[R[32]||(R[32]=o("thead",{class:"bg-gray-50"},[o("tr",null,[o("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"No Reservasi"),o("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Kategori "),o("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Tanggal Permintaan"),o("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"No Bets Filling/Mixing"),o("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Detail Info"),o("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Status "),o("th",{class:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Aksi")])],-1)),o("tbody",NY,[Y.value.length===0?(U(),G("tr",LY,[...R[30]||(R[30]=[o("td",{colspan:"6",class:"px-6 py-8 text-center text-gray-500"}," Tidak ada data yang ditemukan ",-1)])])):pe("",!0),(U(!0),G($e,null,nt(Y.value,N=>(U(),G("tr",{key:N.id,class:"hover:bg-gray-50 transition-colors"},[o("td",$Y,P(N.noReservasi),1),o("td",jY,[o("span",{class:Fe(["px-2 py-1 text-xs font-medium rounded-full",L(N.type)])},P(j(N.type)),3)]),o("td",UY,P(Pe(N.tanggalPermintaan)),1),R[31]||(R[31]=o("td",{class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},"763473",-1)),o("td",HY,P(fe(N)),1),o("td",zY,[o("span",{class:Fe([Ie(N.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},P(N.status),3)]),o("td",VY,[o("div",qY,[o("button",{onClick:V=>re(N),class:"bg-blue-50 text-blue-700 hover:bg-blue-100 px-3 py-1.5 rounded text-xs font-medium transition-colors"}," Detail ",8,WY),o("button",{onClick:V=>B(N),class:"bg-green-50 text-green-700 hover:bg-green-100 px-3 py-1.5 rounded text-xs font-medium transition-colors"}," Cetak ",8,GY)])])]))),128))])])])])]),t.value?(U(),G("div",QY,[o("div",KY,[o("div",YY,[o("div",{class:"flex justify-between items-center mb-6"},[R[34]||(R[34]=o("h3",{class:"text-lg font-semibold text-gray-800"}," Buat Request Reservasi Baru ",-1)),o("button",{onClick:tt,class:"text-gray-400 hover:text-gray-600 transition-colors"},[...R[33]||(R[33]=[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),o("div",XY,[R[35]||(R[35]=o("label",{class:"block text-sm font-medium text-gray-700 mb-3"},"Pilih Kategori Request:",-1)),o("div",ZY,[(U(),G($e,null,nt(D,N=>o("button",{key:N.id,onClick:V=>n.value=N.id,class:Fe(["p-4 rounded-lg border-2 text-sm font-medium transition-all",n.value===N.id?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:border-blue-300 hover:bg-blue-50"])},P(N.name),11,JY)),64))])]),n.value?(U(),G("div",eX,[o("div",tX,[o("div",null,[R[36]||(R[36]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"No Reservasi",-1)),Ee(o("input",{"onUpdate:modelValue":R[7]||(R[7]=N=>_.value.noReservasi=N),type:"text",readonly:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-700"},null,512),[[Oe,_.value.noReservasi]])]),o("div",null,[o("label",nX,P(n.value==="packaging"||n.value==="add"?"Tanggal & Jam Permintaan":"Tanggal Permintaan"),1),Ee(o("input",{"onUpdate:modelValue":R[8]||(R[8]=N=>_.value.tanggalPermintaan=N),type:"datetime-local",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700"},null,512),[[Oe,_.value.tanggalPermintaan]])]),n.value==="foh-rs"?(U(),G("div",rX,[R[37]||(R[37]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[qe("Alasan Reservasi "),o("span",{class:"text-red-500"},"*")],-1)),Ee(o("textarea",{"onUpdate:modelValue":R[9]||(R[9]=N=>_.value.alasanReservasi=N),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700",placeholder:"Jelaskan alasan reservasi..."},null,512),[[Oe,_.value.alasanReservasi]])])):pe("",!0)]),o("div",sX,[n.value==="foh-rs"?(U(),G("div",oX,[R[39]||(R[39]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[qe("Departemen "),o("span",{class:"text-red-500"},"*")],-1)),Ee(o("select",{"onUpdate:modelValue":R[10]||(R[10]=N=>_.value.departemen=N),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700"},[...R[38]||(R[38]=[o("option",{value:""},"Pilih Departemen",-1),o("option",{value:"Marketing"},"Marketing",-1),o("option",{value:"Produksi"},"Produksi",-1),o("option",{value:"IT"},"IT",-1),o("option",{value:"HRD"},"HRD",-1)])],512),[[ct,_.value.departemen]])])):pe("",!0),n.value==="packaging"||n.value==="add"?(U(),G("div",iX,[R[40]||(R[40]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[qe("Nama Produk "),o("span",{class:"text-red-500"},"*")],-1)),Ee(o("input",{"onUpdate:modelValue":R[11]||(R[11]=N=>_.value.namaProduk=N),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700"},null,512),[[Oe,_.value.namaProduk]])])):pe("",!0),n.value==="raw-material"?(U(),G("div",aX,[R[41]||(R[41]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[qe("Nama Produk "),o("span",{class:"text-red-500"},"*")],-1)),Ee(o("input",{"onUpdate:modelValue":R[12]||(R[12]=N=>_.value.kodeProduk=N),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700"},null,512),[[Oe,_.value.kodeProduk]])])):pe("",!0),n.value==="packaging"||n.value==="add"?(U(),G("div",lX,[R[42]||(R[42]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[qe("No Bets Filling / Mixing "),o("span",{class:"text-red-500"},"*")],-1)),Ee(o("input",{"onUpdate:modelValue":R[13]||(R[13]=N=>_.value.noBetsFilling=N),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700"},null,512),[[Oe,_.value.noBetsFilling]])])):pe("",!0),n.value==="raw-material"?(U(),G("div",cX,[R[43]||(R[43]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[qe("No Bets Ekstrak / Mixing "),o("span",{class:"text-red-500"},"*")],-1)),Ee(o("input",{"onUpdate:modelValue":R[14]||(R[14]=N=>_.value.noBets=N),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700"},null,512),[[Oe,_.value.noBets]])])):pe("",!0),n.value==="raw-material"?(U(),G("div",dX,[R[44]||(R[44]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[qe("Besar Bets (Kg) "),o("span",{class:"text-red-500"},"*")],-1)),Ee(o("input",{"onUpdate:modelValue":R[15]||(R[15]=N=>_.value.besarBets=N),type:"number",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-700"},null,512),[[Oe,_.value.besarBets]])])):pe("",!0)]),o("div",uX,[o("label",xX,[R[45]||(R[45]=qe(" Import dari PDF (Otomatisisi Daftar Material) ",-1)),n.value==="raw-material"?(U(),G("span",fX,"(Mengambil bahan-bahan)")):n.value==="packaging"?(U(),G("span",hX,"(Mengambil material packaging)")):n.value==="foh-rs"?(U(),G("span",gX,"(Mengambil item FOH/RS)")):pe("",!0)]),o("div",pX,[o("input",{type:"file",onChange:M,accept:".pdf, .xlsx, .xls",class:"block w-full text-sm text-gray-700 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-500 file:text-white hover:file:bg-blue-600"},null,32),o("button",{onClick:$,disabled:!f.value,class:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition-colors disabled:bg-gray-400"}," Proses Import ",8,mX)]),m.value?(U(),G("p",{key:0,class:Fe(["mt-2 text-sm",m.value.type==="error"?"text-red-600":"text-green-600"])},P(m.value.message),3)):pe("",!0)]),o("div",yX,[o("div",bX,[o("h4",vX,P(z.value),1),o("button",{onClick:et,class:"bg-green-600 hover:bg-green-700 text-white px-3 py-1.5 rounded text-sm font-medium transition-colors"}," + Tambah Baris ")]),o("div",EX,[o("table",wX,[o("thead",CX,[o("tr",null,[R[60]||(R[60]=o("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap w-16"}," No",-1)),n.value==="foh-rs"?(U(),G($e,{key:0},[R[46]||(R[46]=o("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Kode Item",-1)),R[47]||(R[47]=o("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Keterangan",-1)),R[48]||(R[48]=o("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap min-w-[120px]"}," Qty & Stok Tersedia",-1)),R[49]||(R[49]=o("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," UoM",-1))],64)):pe("",!0),n.value==="packaging"?(U(),G($e,{key:1},[R[50]||(R[50]=o("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Kode PM",-1)),R[51]||(R[51]=o("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Nama Material",-1)),R[52]||(R[52]=o("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap min-w-[150px]"}," Jumlah Permintaan & Stok Tersedia",-1))],64)):pe("",!0),n.value==="raw-material"?(U(),G($e,{key:2},[R[53]||(R[53]=o("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Kode Bahan",-1)),R[54]||(R[54]=o("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Nama Bahan",-1)),R[55]||(R[55]=o("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap min-w-[150px]"}," Jumlah Kebutuhan & Stok Tersedia",-1))],64)):pe("",!0),n.value==="add"?(U(),G($e,{key:3},[R[56]||(R[56]=o("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Kode PM",-1)),R[57]||(R[57]=o("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Nama Material",-1)),R[58]||(R[58]=o("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap"}," Alasan Penambahan",-1)),R[59]||(R[59]=o("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap min-w-[150px]"}," Jumlah Permintaan & Stok Tersedia",-1))],64)):pe("",!0),R[61]||(R[61]=o("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase whitespace-nowrap w-24"}," Aksi",-1))])]),o("tbody",AX,[(U(!0),G($e,null,nt(_.value.items,(N,V)=>(U(),G("tr",{key:V},[o("td",BX,P(V+1),1),n.value==="foh-rs"?(U(),G($e,{key:0},[o("td",_X,[Ee(o("input",{"onUpdate:modelValue":K=>N.kodeItem=K,type:"text",onInput:K=>be(N.kodeItem,V,"kodeItem"),onFocus:K=>me(V,"kodeItem"),onBlur:R[16]||(R[16]=K=>te()),class:"w-full min-w-[120px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,40,DX),[[Oe,N.kodeItem]]),ne(V,"kodeItem")&&y.value.length>0?(U(),G("ul",kX,[(U(!0),G($e,null,nt(y.value,K=>(U(),G("li",{key:K.id,onMousedown:or(ue=>De(K,V,"kodeItem"),["prevent"]),class:"p-2 text-sm cursor-pointer hover:bg-blue-100 flex justify-between"},[o("span",null,P(K.kodeItem),1),o("span",FX,P(K.keterangan||K.namaMaterial)+" (Stok: "+P(K.stokAvailable)+")",1)],40,SX))),128))])):pe("",!0)]),o("td",TX,[Ee(o("input",{"onUpdate:modelValue":K=>N.keterangan=K,type:"text",class:"w-full min-w-[150px] text-sm border border-gray-300 rounded px-2 py-1 bg-gray-50 text-gray-700",readonly:""},null,8,IX),[[Oe,N.keterangan]])]),o("td",MX,[Ee(o("input",{"onUpdate:modelValue":K=>N.qty=K,type:"number",min:"0",class:Fe([{"border-red-500 ring-red-500":F(N,"qty")},"w-full min-w-[80px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"])},null,10,PX),[[Oe,N.qty,void 0,{number:!0}]]),N.stokAvailable!==void 0?(U(),G("p",{key:0,class:Fe(["text-xs mt-1",N.stokAvailable<=0?"text-red-600":"text-green-600"])}," Tersedia: "+P(N.stokAvailable||0)+" "+P(N.uom||""),3)):pe("",!0),F(N,"qty")?(U(),G("p",RX," Permintaan melebihi stok! ")):pe("",!0)]),o("td",OX,[Ee(o("select",{"onUpdate:modelValue":K=>N.uom=K,class:"w-full min-w-[80px] text-sm border border-gray-300 rounded px-2 py-1 bg-gray-50 text-gray-700",readonly:"",disabled:""},[...R[62]||(R[62]=[o("option",{value:""},"UoM",-1),o("option",{value:"PCS"},"PCS",-1),o("option",{value:"KG"},"KG",-1),o("option",{value:"L"},"L",-1)])],8,NX),[[ct,N.uom]])])],64)):pe("",!0),n.value==="packaging"?(U(),G($e,{key:1},[o("td",LX,[Ee(o("input",{"onUpdate:modelValue":K=>N.kodePM=K,type:"text",onInput:K=>be(N.kodePM,V,"kodePM"),onFocus:K=>me(V,"kodePM"),onBlur:R[17]||(R[17]=K=>te()),class:"w-full min-w-[120px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,40,$X),[[Oe,N.kodePM]]),ne(V,"kodePM")&&y.value.length>0?(U(),G("ul",jX,[(U(!0),G($e,null,nt(y.value,K=>(U(),G("li",{key:K.id,onMousedown:or(ue=>De(K,V,"kodePM"),["prevent"]),class:"p-2 text-sm cursor-pointer hover:bg-blue-100 flex justify-between"},[o("span",null,P(K.kodePM),1),o("span",HX,"Stok: "+P(K.stokAvailable)+" "+P(K.satuan||""),1)],40,UX))),128))])):pe("",!0)]),o("td",zX,[Ee(o("input",{"onUpdate:modelValue":K=>N.namaMaterial=K,type:"text",class:"w-full min-w-[150px] text-sm border border-gray-300 rounded px-2 py-1 bg-gray-50 text-gray-700",readonly:""},null,8,VX),[[Oe,N.namaMaterial]])]),o("td",qX,[Ee(o("input",{"onUpdate:modelValue":K=>N.jumlahPermintaan=K,type:"number",min:"0",class:Fe([{"border-red-500 ring-red-500":F(N,"jumlahPermintaan")},"w-full min-w-[120px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"])},null,10,WX),[[Oe,N.jumlahPermintaan,void 0,{number:!0}]]),N.stokAvailable!==void 0?(U(),G("p",{key:0,class:Fe(["text-xs mt-1",N.stokAvailable<=0?"text-red-600":"text-green-600"])}," Tersedia: "+P(N.stokAvailable||0)+" "+P(N.satuan||""),3)):pe("",!0),F(N,"jumlahPermintaan")?(U(),G("p",GX," Permintaan melebihi stok! ")):pe("",!0)])],64)):pe("",!0),n.value==="raw-material"?(U(),G($e,{key:2},[o("td",QX,[Ee(o("input",{"onUpdate:modelValue":K=>N.kodeBahan=K,type:"text",onInput:K=>be(N.kodeBahan,V,"kodeBahan"),onFocus:K=>me(V,"kodeBahan"),onBlur:R[18]||(R[18]=K=>te()),class:"w-full min-w-[120px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,40,KX),[[Oe,N.kodeBahan]]),ne(V,"kodeBahan")&&y.value.length>0?(U(),G("ul",YX,[(U(!0),G($e,null,nt(y.value,K=>(U(),G("li",{key:K.id,onMousedown:or(ue=>De(K,V,"kodeBahan"),["prevent"]),class:"p-2 text-sm cursor-pointer hover:bg-blue-100 flex justify-between"},[o("span",null,P(K.kodeBahan),1),o("span",ZX,"Stok: "+P(K.stokAvailable)+" "+P(K.satuan||""),1)],40,XX))),128))])):pe("",!0)]),o("td",JX,[Ee(o("input",{"onUpdate:modelValue":K=>N.namaBahan=K,type:"text",class:"w-full min-w-[150px] text-sm border border-gray-300 rounded px-2 py-1 bg-gray-50 text-gray-700",readonly:""},null,8,eZ),[[Oe,N.namaBahan]])]),o("td",tZ,[Ee(o("input",{"onUpdate:modelValue":K=>N.jumlahKebutuhan=K,type:"number",min:"0",class:Fe([{"border-red-500 ring-red-500":F(N,"jumlahKebutuhan")},"w-full min-w-[120px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"])},null,10,nZ),[[Oe,N.jumlahKebutuhan,void 0,{number:!0}]]),N.stokAvailable!==void 0?(U(),G("p",{key:0,class:Fe(["text-xs mt-1",N.stokAvailable<=0?"text-red-600":"text-green-600"])}," Tersedia: "+P(N.stokAvailable||0)+" "+P(N.satuan||""),3)):pe("",!0),F(N,"jumlahKebutuhan")?(U(),G("p",rZ," Permintaan melebihi stok! ")):pe("",!0)])],64)):pe("",!0),n.value==="add"?(U(),G($e,{key:3},[o("td",sZ,[Ee(o("input",{"onUpdate:modelValue":K=>N.kodePM=K,type:"text",onInput:K=>be(N.kodePM,V,"kodePM"),onFocus:K=>me(V,"kodePM"),onBlur:R[19]||(R[19]=K=>te()),class:"w-full min-w-[120px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,40,oZ),[[Oe,N.kodePM]]),ne(V,"kodePM")&&y.value.length>0?(U(),G("ul",iZ,[(U(!0),G($e,null,nt(y.value,K=>(U(),G("li",{key:K.id,onMousedown:or(ue=>De(K,V,"kodePM"),["prevent"]),class:"p-2 text-sm cursor-pointer hover:bg-blue-100 flex justify-between"},[o("span",null,P(K.kodePM),1),o("span",lZ,"Stok: "+P(K.stokAvailable)+" "+P(K.satuan||""),1)],40,aZ))),128))])):pe("",!0)]),o("td",cZ,[Ee(o("input",{"onUpdate:modelValue":K=>N.namaMaterial=K,type:"text",class:"w-full min-w-[150px] text-sm border border-gray-300 rounded px-2 py-1 bg-gray-50 text-gray-700",readonly:""},null,8,dZ),[[Oe,N.namaMaterial]])]),o("td",uZ,[Ee(o("input",{"onUpdate:modelValue":K=>N.alasanPenambahan=K,type:"text",class:"w-full min-w-[150px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,8,xZ),[[Oe,N.alasanPenambahan]])]),o("td",fZ,[Ee(o("input",{"onUpdate:modelValue":K=>N.jumlahPermintaan=K,type:"number",min:"0",class:Fe([{"border-red-500 ring-red-500":F(N,"jumlahPermintaan")},"w-full min-w-[120px] text-sm border border-gray-300 rounded px-2 py-1 bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500"])},null,10,hZ),[[Oe,N.jumlahPermintaan,void 0,{number:!0}]]),N.stokAvailable!==void 0?(U(),G("p",{key:0,class:Fe(["text-xs mt-1",N.stokAvailable<=0?"text-red-600":"text-green-600"])}," Tersedia: "+P(N.stokAvailable||0)+" "+P(N.satuan||""),3)):pe("",!0),F(N,"jumlahPermintaan")?(U(),G("p",gZ," Permintaan melebihi stok! ")):pe("",!0)])],64)):pe("",!0),o("td",pZ,[o("button",{onClick:K=>st(V),class:"bg-red-50 text-red-700 hover:bg-red-100 px-2 py-1 rounded text-xs font-medium transition-colors"},"Hapus",8,mZ)])]))),128))])])])]),o("div",yZ,[o("button",{onClick:tt,class:"px-6 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors"}," Batal "),o("button",{onClick:Te,disabled:!le.value||Q.value,class:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors"}," Simpan & Submit ",8,bZ)])])):pe("",!0)])])])):pe("",!0),a.value&&c.value?(U(),G("div",vZ,[o("div",EZ,[o("div",wZ,[o("div",CZ,[o("h3",AZ," Detail Reservasi: "+P(c.value.noReservasi),1),o("button",{onClick:X,class:"text-gray-400 hover:text-gray-600 transition-colors"},[...R[63]||(R[63]=[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),o("div",BZ,[o("div",_Z,[R[64]||(R[64]=o("p",{class:"text-sm font-medium text-gray-600"},"Kategori Request",-1)),o("span",{class:Fe(["px-3 py-1 text-xs font-semibold rounded-full",L(c.value.type)])},P(j(c.value.type)),3)]),o("div",DZ,[R[65]||(R[65]=o("p",{class:"text-sm font-medium text-gray-600"},"Tanggal Permintaan",-1)),o("p",kZ,P(Pe(c.value.tanggalPermintaan)),1)]),o("div",SZ,[R[66]||(R[66]=o("p",{class:"text-sm font-medium text-gray-600"},"Status",-1)),o("span",{class:Fe([Ie(c.value.status),"px-3 py-1 text-xs font-semibold rounded-full"])},P(c.value.status),3)]),c.value.type==="foh-rs"?(U(),G($e,{key:0},[o("div",FZ,[R[67]||(R[67]=o("p",{class:"text-sm font-medium text-gray-600"},"Departemen",-1)),o("p",TZ,P(c.value.departemen),1)]),o("div",IZ,[R[68]||(R[68]=o("p",{class:"text-sm font-medium text-gray-600"},"Alasan Reservasi",-1)),o("p",MZ,P(c.value.alasanReservasi||"-"),1)])],64)):c.value.type==="packaging"||c.value.type==="add"?(U(),G($e,{key:1},[o("div",PZ,[R[69]||(R[69]=o("p",{class:"text-sm font-medium text-gray-600"},"Nama Produk",-1)),o("p",RZ,P(c.value.namaProduk),1)]),o("div",OZ,[R[70]||(R[70]=o("p",{class:"text-sm font-medium text-gray-600"},"No Bets Filling/Mixing",-1)),o("p",NZ,P(c.value.noBetsFilling),1)])],64)):c.value.type==="raw-material"?(U(),G($e,{key:2},[o("div",LZ,[R[71]||(R[71]=o("p",{class:"text-sm font-medium text-gray-600"},"Kode Produk",-1)),o("p",$Z,P(c.value.kodeProduk),1)]),o("div",jZ,[R[72]||(R[72]=o("p",{class:"text-sm font-medium text-gray-600"},"No Bets Ekstrak/Mixing",-1)),o("p",UZ,P(c.value.noBets),1)]),o("div",HZ,[R[73]||(R[73]=o("p",{class:"text-sm font-medium text-gray-600"},"Besar Bets (Kg)",-1)),o("p",zZ,P(c.value.besarBets)+" Kg",1)])],64)):pe("",!0)]),R[89]||(R[89]=o("h4",{class:"text-lg font-semibold text-gray-800 mb-4"},"Daftar Item yang Diminta",-1)),!c.value.items||c.value.items.length===0?(U(),G("div",VZ," Tidak ada detail item yang tercatat. ")):(U(),G("div",qZ,[o("table",WZ,[o("thead",GZ,[o("tr",null,[R[88]||(R[88]=o("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase w-16"},"No",-1)),c.value.type==="foh-rs"?(U(),G($e,{key:0},[R[74]||(R[74]=o("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Kode Item",-1)),R[75]||(R[75]=o("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Keterangan",-1)),R[76]||(R[76]=o("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Qty",-1)),R[77]||(R[77]=o("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"UoM",-1))],64)):c.value.type==="raw-material"?(U(),G($e,{key:1},[R[78]||(R[78]=o("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Kode Bahan",-1)),R[79]||(R[79]=o("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Nama Bahan",-1)),R[80]||(R[80]=o("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Jumlah Kebutuhan",-1))],64)):c.value.type==="packaging"?(U(),G($e,{key:2},[R[81]||(R[81]=o("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Nama Material",-1)),R[82]||(R[82]=o("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Kode PM",-1)),R[83]||(R[83]=o("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Jumlah Permintaan",-1))],64)):c.value.type==="add"?(U(),G($e,{key:3},[R[84]||(R[84]=o("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Nama Material",-1)),R[85]||(R[85]=o("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Kode PM",-1)),R[86]||(R[86]=o("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Alasan Tambahan",-1)),R[87]||(R[87]=o("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase"},"Jumlah Permintaan",-1))],64)):pe("",!0)])]),o("tbody",QZ,[(U(!0),G($e,null,nt(c.value.items,(N,V)=>(U(),G("tr",{key:V},[o("td",KZ,P(V+1),1),c.value.type==="foh-rs"?(U(),G($e,{key:0},[o("td",YZ,P(N.kodeItem),1),o("td",XZ,P(N.keterangan),1),o("td",ZZ,P(N.qty),1),o("td",JZ,P(N.uom),1)],64)):c.value.type==="packaging"?(U(),G($e,{key:1},[o("td",eJ,P(N.namaMaterial),1),o("td",tJ,P(N.kodePM),1),o("td",nJ,P(N.jumlahPermintaan),1)],64)):c.value.type==="raw-material"?(U(),G($e,{key:2},[o("td",rJ,P(N.kodeBahan),1),o("td",sJ,P(N.namaBahan),1),o("td",oJ,P(N.jumlahKebutuhan),1),o("td",iJ,P(N.jumlahKirim),1)],64)):c.value.type==="add"?(U(),G($e,{key:3},[o("td",aJ,P(N.namaMaterial),1),o("td",lJ,P(N.kodePM),1),o("td",cJ,P(N.alasanPenambahan),1),o("td",dJ,P(N.jumlahPermintaan),1)],64)):pe("",!0)]))),128))])])])),o("div",{class:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200"},[o("button",{onClick:X,class:"px-6 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors"}," Tutup ")])])])])):pe("",!0)]),u.value?(U(),G("div",uJ,[o("div",xJ,[R[91]||(R[91]=o("h3",{class:"text-lg font-bold text-gray-800 mb-4"},"Peringatan Input",-1)),o("p",fJ,P(g.value),1),o("div",hJ,[o("button",{onClick:R[20]||(R[20]=N=>u.value=!1),class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm"}," Oke ")])])])):pe("",!0)]),_:1}))}},pJ=Object.freeze(Object.defineProperty({__proto__:null,default:gJ},Symbol.toStringTag,{value:"Module"})),mJ={class:"min-h-screen transition-colors duration-300"},yJ={class:"min-h-screen p-2 sm:p-4 md:p-6"},bJ={class:"mb-4 sm:mb-6"},vJ={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},EJ={class:"flex items-center gap-2 sm:gap-4 w-full sm:w-auto"},wJ={class:"bg-white rounded-lg shadow-sm p-3 sm:p-4 mb-4 sm:mb-6 border border-gray-200"},CJ={class:"flex flex-col sm:flex-row gap-3 sm:gap-4"},AJ={class:"w-full sm:flex-1"},BJ={class:"grid grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-4"},_J={class:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-200"},DJ={class:"overflow-x-auto"},kJ={class:"min-w-full divide-y divide-gray-200"},SJ={class:"bg-white divide-y divide-gray-200"},FJ={key:0,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},TJ={class:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-screen overflow-y-auto border border-gray-200"},IJ={class:"space-y-6"},MJ={class:"flex gap-6"},PJ={class:"flex items-center"},RJ={class:"flex items-center"},OJ={key:0,class:"mb-6 bg-blue-50 p-4 rounded-lg border border-blue-200"},NJ={class:"flex flex-col sm:flex-row gap-3 items-start sm:items-center"},LJ=["disabled"],$J={key:0,class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},jJ={key:1},UJ={key:2},HJ={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},zJ={class:"block text-sm font-medium text-gray-700 mb-1"},VJ={value:""},qJ=["value"],WJ=["value"],GJ={class:"overflow-x-auto border border-gray-300 rounded-lg"},QJ={class:"min-w-full divide-y divide-gray-200"},KJ={class:"divide-y divide-gray-200 bg-white"},YJ={class:"px-4 py-3"},XJ=["onUpdate:modelValue","onChange"],ZJ={class:"px-4 py-3"},JJ=["onUpdate:modelValue"],eee={class:"px-4 py-3"},tee=["onUpdate:modelValue"],nee={class:"px-4 py-3"},ree=["onUpdate:modelValue"],see={class:"px-4 py-3"},oee=["onUpdate:modelValue"],iee={class:"px-4 py-3"},aee=["onUpdate:modelValue"],lee={class:"px-4 py-3"},cee=["onClick"],dee={key:0},uee={class:"flex justify-end gap-3 pt-4 border-t border-gray-200"},xee=["disabled"],fee={key:1,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},hee={class:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-screen overflow-y-auto border border-gray-200"},gee={class:"bg-gray-50 rounded-lg p-4 mb-6 border border-gray-200"},pee={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},mee={class:"text-lg font-semibold text-gray-900"},yee={class:"text-lg text-gray-900"},bee={class:"text-lg text-gray-900"},vee={class:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4"},Eee={class:"block text-sm font-medium text-gray-600"},wee={class:"text-lg text-gray-900"},Cee={key:0},Aee={class:"text-lg font-mono text-gray-900"},Bee={class:"overflow-x-auto border border-gray-300 rounded-lg"},_ee={class:"min-w-full divide-y divide-gray-200"},Dee={class:"divide-y divide-gray-200 bg-white"},kee={class:"px-4 py-3 text-sm font-mono text-gray-900"},See={class:"px-4 py-3 text-sm text-gray-900"},Fee={class:"px-4 py-3 text-sm font-mono text-gray-900"},Tee={class:"px-4 py-3 text-sm text-gray-900"},Iee={class:"px-4 py-3 text-sm text-gray-900"},Mee={class:"px-4 py-3"},Pee={class:"flex justify-end gap-3 mt-6 pt-4 border-t border-gray-200"},Ree={class:"flex items-center gap-2"},Oee={key:0,class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},Nee={key:1,class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},Lee=Lr({__name:"Return",props:{suppliers:Array,shipments:Array},setup(e){const t=ve(!1),n=ve([]),r=ve(""),i=ve(""),a=ve(""),c=ve(""),u=ve(!1),g=ve(!1),f=ve(null),m=ve(null),y=ve(!1),w=ve({type:"Supplier",date:new Date().toISOString().split("T")[0],supplier:"",shipmentNo:"",items:[]}),E=ve(null),C=We(()=>n.value.filter(te=>{const ne=!r.value||te.returnNumber.toLowerCase().includes(r.value.toLowerCase())||te.supplier.toLowerCase().includes(r.value.toLowerCase())||te.itemCode.toLowerCase().includes(r.value.toLowerCase())||te.itemName.toLowerCase().includes(r.value.toLowerCase()),de=!i.value||te.type===i.value,be=!a.value||te.status===a.value,De=!c.value||te.reason===c.value;return ne&&de&&be&&De}));We(()=>n.value.length),We(()=>n.value.filter(te=>te.type==="Supplier").length),We(()=>n.value.filter(te=>te.type==="Production").length),We(()=>n.value.filter(te=>te.status!=="Completed").length);const D=We(()=>{const te=w.value.type&&w.value.date&&w.value.supplier,ne=w.value.items.length>0&&w.value.items.every(de=>de.itemCode&&de.itemName&&de.lotBatch&&de.qty>0&&de.uom&&de.reason);return te&&ne}),_=te=>new Date(te).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),M=te=>{const ne="px-2 inline-flex text-xs leading-5 font-semibold rounded-full";switch(te){case"Draft":return`${ne} bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300`;case"Submitted":return`${ne} bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400`;case"Completed":return`${ne} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;default:return`${ne} bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300`}},$=te=>{const ne="px-2 inline-flex text-xs leading-5 font-semibold rounded-full";switch(te){case"QC Reject":return`${ne} bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400`;case"Expired":return`${ne} bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400`;case"Damage":return`${ne} bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400`;case"Excess Production":return`${ne} bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400`;case"Wrong Delivery":return`${ne} bg-pink-100 text-pink-800 dark:bg-pink-900/20 dark:text-pink-400`;default:return`${ne} bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300`}},I=()=>{const te=new Date,ne=te.getFullYear().toString().slice(-2),de=(te.getMonth()+1).toString().padStart(2,"0"),be=te.getDate().toString().padStart(2,"0"),De=Math.floor(Math.random()*9999).toString().padStart(4,"0");return`RET${ne}${de}${be}${De}`},S=()=>{w.value.items.push({itemCode:"",itemName:"",lotBatch:"",qty:0,uom:"PCS",reason:""})},T=te=>{const ne=te.target;m.value=ne.files?ne.files[0]:null},j=async()=>{if(m.value){y.value=!0;try{const te=new FormData;te.append("erp_pdf",m.value);const de=(await St.post("/transaction/return/parse-pdf",te,{headers:{"Content-Type":"multipart/form-data"}})).data;de.formatted_date&&(w.value.date=de.formatted_date),w.value.items=[],de.items.forEach(be=>{be.qty>0&&w.value.items.push({itemCode:be.item_code,itemName:be.description,lotBatch:"",qty:be.qty,uom:"PCS",reason:"Excess Production"})}),w.value.items.forEach((be,De)=>{L(De)}),alert(`Berhasil memuat ${w.value.items.length} item dari PDF.`)}catch(te){console.error("Error processing PDF:",te),alert("Gagal memproses file PDF: "+(te.response?.data?.error||te.message))}finally{y.value=!1}}},L=async te=>{const ne=w.value.items[te].itemCode;if(ne)try{const de=await fetch(`/transaction/return/material/${ne}`);if(de.ok){const be=await de.json();w.value.items[te].itemName=be.nama_material,w.value.items[te].uom=be.satuan||"PCS"}}catch(de){console.error("Error fetching material",de)}},z=te=>{w.value.items.splice(te,1)},F=()=>{u.value=!1,Q()},Q=()=>{w.value={type:"Supplier",date:new Date().toISOString().split("T")[0],supplier:"",shipmentNo:"",items:[]}},le=()=>{if(!D.value)return;w.value.items.forEach((ne,de)=>{const be={id:`${Date.now()}_${de}`,returnNumber:I(),date:w.value.date,type:w.value.type,supplier:w.value.supplier,shipmentNo:w.value.shipmentNo,itemCode:ne.itemCode,itemName:ne.itemName,lotBatch:ne.lotBatch,qty:ne.qty,uom:ne.uom,reason:ne.reason,status:"Submitted"};n.value.unshift(be)});const te={type:w.value.type,items:w.value.items.map(ne=>({itemCode:ne.itemCode,qty:ne.qty,from:w.value.type==="Supplier"?"Reject Bin":"Production Bin",to:w.value.type==="Supplier"?"Outbound (Supplier)":"Quarantine/Available Bin"}))};console.log("Stock Movement:",te),me("success",`Return berhasil dibuat dengan ${w.value.items.length} item`),F()},Y=()=>{g.value=!1,f.value=null},ce=te=>{const ne=new Date().toLocaleDateString("id-ID"),de=_(te.date),be=window.open("","_blank");if(be){const De=`<!DOCTYPE html>
<html>
<head>
  <title>Return Slip - ${te.returnNumber}</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; color: #000; }
    .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #000; padding-bottom: 20px; }
    .info-table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
    .info-table td { padding: 8px; border: 1px solid #000; }
    .info-table td:first-child { background-color: #f5f5f5; font-weight: bold; width: 200px; }
    .items-table { width: 100%; border-collapse: collapse; margin-bottom: 30px; }
    .items-table th, .items-table td { padding: 8px; border: 1px solid #000; text-align: left; }
    .items-table th { background-color: #f5f5f5; font-weight: bold; }
    .signatures { display: flex; justify-content: space-between; margin-top: 80px; }
    .signature-box { text-align: center; width: 250px; }
    .signature-line { border-bottom: 1px solid #000; margin-bottom: 10px; height: 60px; }
    @media print { body { margin: 0; } }
  </style>
</head>
<body>
  <div class="header">
    <h1>SLIP RETURN ${te.type.toUpperCase()}</h1>
    <h2>${te.returnNumber}</h2>
  </div>
  
  <table class="info-table">
    <tr>
      <td>Return Number</td><td>${te.returnNumber}</td>
      <td>Return Date</td><td>${de}</td>
    </tr>
    <tr>
      <td>Return Type</td><td>${te.type}</td>
      <td>Status</td><td>${te.status}</td>
    </tr>
    <tr>
      <td>${te.type==="Supplier"?"Supplier Address":"Dept Asal"}</td>
      <td colspan="3">${te.supplier}</td>
    </tr>
    ${te.shipmentNo?`<tr><td>No Shipment/Reservasi</td><td colspan="3">${te.shipmentNo}</td></tr>`:""}
  </table>

  <table class="items-table">
    <thead>
      <tr>
        <th>No</th><th>Kode Item</th><th>Nama Material</th><th>Lot/Batch</th>
        <th>Qty</th><th>UoM</th><th>Reason</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>1</td><td>${te.itemCode}</td><td>${te.itemName}</td>
        <td>${te.lotBatch}</td><td>${te.qty}</td>
        <td>${te.uom}</td><td>${te.reason}</td>
      </tr>
    </tbody>
  </table>

  <div class="signatures">
    <div class="signature-box">
      <div class="signature-line"></div>
      <p><strong>Approved By</strong></p>
      <p>Nama: _________________</p>
      <p>Tanggal: ${ne}</p>
    </div>
    <div class="signature-box">
      <div class="signature-line"></div>
      <p><strong>Received By</strong></p>
      <p>Nama: _________________</p>
      <p>Tanggal: ${ne}</p>
    </div>
  </div>
</body>
</html>`;be.document.write(De),be.document.close(),setTimeout(()=>{be.print()},500)}me("success",`Slip return ${te.returnNumber} siap dicetak`)},me=(te,ne)=>{E.value={type:te,text:ne},setTimeout(()=>{E.value=null},3e3)};return Gn(()=>{const te=localStorage.getItem("darkMode");te&&(t.value=JSON.parse(te)),n.value=[{id:"1",returnNumber:"RET24091901",date:"2024-09-19T00:00:00Z",type:"Supplier",supplier:"PT. Supplier A",shipmentNo:"SHP240919001",itemCode:"ITM001",itemName:"Raw Material A - Quality Issue",lotBatch:"LOT240915001",qty:25,uom:"PCS",reason:"QC Reject",status:"Submitted"},{id:"2",returnNumber:"RET24091902",date:"2024-09-19T00:00:00Z",type:"Production",supplier:"Production Line 1",itemCode:"ITM002",itemName:"Semi Finished Goods B",lotBatch:"LOT240918002",qty:15,uom:"BOX",reason:"Excess Production",status:"Completed"},{id:"3",returnNumber:"RET24091903",date:"2024-09-18T00:00:00Z",type:"Supplier",supplier:"PT. Supplier B",shipmentNo:"RES240918003",itemCode:"ITM003",itemName:"Chemical Component C",lotBatch:"LOT240910003",qty:50,uom:"LITER",reason:"Expired",status:"Completed"},{id:"4",returnNumber:"RET24091904",date:"2024-09-18T00:00:00Z",type:"Supplier",supplier:"PT. Supplier C",itemCode:"ITM004",itemName:"Packaging Material D",lotBatch:"LOT240917004",qty:100,uom:"PCS",reason:"Damage",status:"Submitted"},{id:"5",returnNumber:"RET24091905",date:"2024-09-17T00:00:00Z",type:"Production",supplier:"Assembly Department",itemCode:"ITM005",itemName:"Electronic Component E",lotBatch:"LOT240916005",qty:30,uom:"PCS",reason:"Wrong Delivery",status:"Draft"}],S()}),(te,ne)=>(U(),Et(Qn,{title:"Riwayat Aktivitas"},{default:bt(()=>[o("div",mJ,[o("div",yJ,[o("div",bJ,[o("div",vJ,[ne[12]||(ne[12]=o("div",null,[o("h1",{class:"text-2xl sm:text-1xl font-bold text-gray-900"},"Return (Supplier / Production)"),o("p",{class:"text-sm sm:text-base text-gray-600 mt-1"},"Kelola return barang ke supplier dan dari produksi")],-1)),o("div",EJ,[o("button",{onClick:ne[0]||(ne[0]=de=>u.value=!0),class:"bg-blue-600 hover:bg-blue-700 text-white px-3 sm:px-4 py-2 rounded-lg flex items-center gap-2 transition-colors w-full sm:w-auto justify-center"},[...ne[11]||(ne[11]=[o("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),o("span",{class:"hidden sm:inline"},"Buat Return",-1),o("span",{class:"sm:hidden"},"Return",-1)])])])])]),ne[47]||(ne[47]=o("div",{class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6"},null,-1)),o("div",wJ,[o("div",CJ,[o("div",AJ,[Ee(o("input",{"onUpdate:modelValue":ne[1]||(ne[1]=de=>r.value=de),type:"text",placeholder:"Cari Return Number, Supplier, Item...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"},null,512),[[Oe,r.value]])]),o("div",BJ,[Ee(o("select",{"onUpdate:modelValue":ne[2]||(ne[2]=de=>i.value=de),class:"px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 text-sm"},[...ne[13]||(ne[13]=[o("option",{value:""},"Semua Jenis",-1),o("option",{value:"Supplier"},"Return Supplier",-1),o("option",{value:"Production"},"Return Production",-1)])],512),[[ct,i.value]]),Ee(o("select",{"onUpdate:modelValue":ne[3]||(ne[3]=de=>a.value=de),class:"px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 text-sm"},[...ne[14]||(ne[14]=[o("option",{value:""},"Semua Status",-1),o("option",{value:"Draft"},"Draft",-1),o("option",{value:"Submitted"},"Submitted",-1),o("option",{value:"Completed"},"Completed",-1)])],512),[[ct,a.value]]),Ee(o("select",{"onUpdate:modelValue":ne[4]||(ne[4]=de=>c.value=de),class:"px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 text-sm col-span-2 sm:col-span-1"},[...ne[15]||(ne[15]=[o("option",{value:""},"Semua Reason",-1),o("option",{value:"QC Reject"},"QC Reject",-1),o("option",{value:"Expired"},"Expired",-1),o("option",{value:"Damage"},"Damage",-1),o("option",{value:"Excess Production"},"Excess Production",-1),o("option",{value:"Wrong Delivery"},"Wrong Delivery",-1)])],512),[[ct,c.value]])])])]),o("div",_J,[o("div",DJ,[o("table",kJ,[ne[16]||(ne[16]=o("thead",{class:"bg-gray-50"},[o("tr",null,[o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Return Number"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tanggal"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Supplier / Dept"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Kode Item"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Nama Material"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Lot/Batch"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Qty"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Reason"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),o("tbody",SJ,[(U(!0),G($e,null,nt(C.value,de=>(U(),G("tr",{key:de.id,class:"hover:bg-gray-50"}))),128))])])])]),u.value?(U(),G("div",FJ,[o("div",TJ,[o("div",{class:"flex justify-between items-center mb-6"},[ne[18]||(ne[18]=o("h3",{class:"text-xl font-semibold text-gray-900"},"Buat Return Baru",-1)),o("button",{onClick:F,class:"text-gray-400 hover:text-gray-600"},[...ne[17]||(ne[17]=[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),o("div",IJ,[o("div",null,[ne[21]||(ne[21]=o("label",{class:"block text-sm font-medium text-gray-700 mb-3"},"Jenis Return",-1)),o("div",MJ,[o("label",PJ,[Ee(o("input",{"onUpdate:modelValue":ne[5]||(ne[5]=de=>w.value.type=de),type:"radio",value:"Supplier",class:"text-blue-600 focus:ring-blue-500"},null,512),[[Pa,w.value.type]]),ne[19]||(ne[19]=o("span",{class:"ml-2 text-gray-900"},"Return ke Supplier",-1))]),o("label",RJ,[Ee(o("input",{"onUpdate:modelValue":ne[6]||(ne[6]=de=>w.value.type=de),type:"radio",value:"Production",class:"text-blue-600 focus:ring-blue-500"},null,512),[[Pa,w.value.type]]),ne[20]||(ne[20]=o("span",{class:"ml-2 text-gray-900"},"Return dari Produksi",-1))])])]),w.value.type==="Production"?(U(),G("div",OJ,[ne[23]||(ne[23]=o("label",{class:"block text-sm font-medium text-blue-900 mb-2"},"Upload PDF ERP (Return dari Produksi)",-1)),o("div",NJ,[o("input",{type:"file",accept:"application/pdf",onChange:T,class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-100 file:text-blue-700 hover:file:bg-blue-200"},null,32),o("button",{onClick:j,disabled:!m.value||y.value,class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 whitespace-nowrap min-w-[140px]"},[y.value?(U(),G("svg",$J,[...ne[22]||(ne[22]=[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):pe("",!0),y.value?(U(),G("span",jJ,"Memproses...")):(U(),G("span",UJ,"Proses PDF"))],8,LJ)]),ne[24]||(ne[24]=o("p",{class:"text-xs text-blue-600 mt-2"},'Upload file PDF "Internal Shipment" (Return) untuk mengisi form otomatis.',-1))])):pe("",!0),o("div",HJ,[o("div",null,[ne[25]||(ne[25]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tanggal Return",-1)),Ee(o("input",{"onUpdate:modelValue":ne[7]||(ne[7]=de=>w.value.date=de),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[Oe,w.value.date]])]),o("div",null,[o("label",zJ,P(w.value.type==="Supplier"?"Supplier":"Dept Asal"),1),Ee(o("select",{"onUpdate:modelValue":ne[8]||(ne[8]=de=>w.value.supplier=de),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[o("option",VJ,"Pilih "+P(w.value.type==="Supplier"?"Supplier":"Departemen"),1),w.value.type==="Supplier"?(U(!0),G($e,{key:0},nt(e.suppliers,de=>(U(),G("option",{key:de.id,value:de.nama_supplier},P(de.nama_supplier),9,qJ))),128)):(U(),G($e,{key:1},[ne[26]||(ne[26]=o("option",{value:"Production Line 1"},"Production Line 1",-1)),ne[27]||(ne[27]=o("option",{value:"Production Line 2"},"Production Line 2",-1)),ne[28]||(ne[28]=o("option",{value:"Assembly Department"},"Assembly Department",-1))],64))],512),[[ct,w.value.supplier]])]),o("div",null,[ne[30]||(ne[30]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"No Shipment / Reservasi",-1)),Ee(o("select",{"onUpdate:modelValue":ne[9]||(ne[9]=de=>w.value.shipmentNo=de),class:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500"},[ne[29]||(ne[29]=o("option",{value:""},"Pilih (Opsional)",-1)),(U(!0),G($e,null,nt(e.shipments,de=>(U(),G("option",{key:de.incoming_number,value:de.incoming_number},P(de.incoming_number)+" "+P(de.no_surat_jalan?`(${de.no_surat_jalan})`:""),9,WJ))),128))],512),[[ct,w.value.shipmentNo]])])]),o("div",null,[o("div",{class:"flex justify-between items-center mb-4"},[ne[31]||(ne[31]=o("h4",{class:"text-lg font-medium text-gray-900"},"Daftar Item Return",-1)),o("button",{onClick:S,class:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm transition-colors"}," + Tambah Item ")]),o("div",GJ,[o("table",QJ,[ne[35]||(ne[35]=o("thead",{class:"bg-gray-50"},[o("tr",null,[o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Kode Item"),o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Nama Material"),o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Lot/Batch"),o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Qty Return"),o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"UoM"),o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Reason"),o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Aksi")])],-1)),o("tbody",KJ,[(U(!0),G($e,null,nt(w.value.items,(de,be)=>(U(),G("tr",{key:be},[o("td",YJ,[Ee(o("input",{"onUpdate:modelValue":De=>de.itemCode=De,onChange:De=>L(be),type:"text",placeholder:"ITM001",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white text-gray-900 focus:ring-1 focus:ring-blue-500"},null,40,XJ),[[Oe,de.itemCode]])]),o("td",ZJ,[Ee(o("input",{"onUpdate:modelValue":De=>de.itemName=De,type:"text",placeholder:"Nama material",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-gray-100 text-gray-900 focus:ring-1 focus:ring-blue-500",readonly:""},null,8,JJ),[[Oe,de.itemName]])]),o("td",eee,[Ee(o("input",{"onUpdate:modelValue":De=>de.lotBatch=De,type:"text",placeholder:"LOT001",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white text-gray-900 focus:ring-1 focus:ring-blue-500"},null,8,tee),[[Oe,de.lotBatch]])]),o("td",nee,[Ee(o("input",{"onUpdate:modelValue":De=>de.qty=De,type:"number",placeholder:"0",class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white text-gray-900 focus:ring-1 focus:ring-blue-500"},null,8,ree),[[Oe,de.qty]])]),o("td",see,[Ee(o("select",{"onUpdate:modelValue":De=>de.uom=De,class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white text-gray-900 focus:ring-1 focus:ring-blue-500"},[...ne[32]||(ne[32]=[o("option",{value:"PCS"},"PCS",-1),o("option",{value:"BOX"},"BOX",-1),o("option",{value:"KG"},"KG",-1),o("option",{value:"LITER"},"LITER",-1)])],8,oee),[[ct,de.uom]])]),o("td",iee,[Ee(o("select",{"onUpdate:modelValue":De=>de.reason=De,class:"w-full px-2 py-1 border border-gray-300 rounded text-sm bg-white text-gray-900 focus:ring-1 focus:ring-blue-500"},[...ne[33]||(ne[33]=[o("option",{value:""},"Pilih Reason",-1),o("option",{value:"QC Reject"},"QC Reject",-1),o("option",{value:"Expired"},"Expired",-1),o("option",{value:"Damage"},"Damage",-1),o("option",{value:"Excess Production"},"Excess Production",-1),o("option",{value:"Wrong Delivery"},"Wrong Delivery",-1)])],8,aee),[[ct,de.reason]])]),o("td",lee,[o("button",{onClick:De=>z(be),class:"text-red-600 hover:text-red-900 text-sm"},"  ",8,cee)])]))),128)),w.value.items.length===0?(U(),G("tr",dee,[...ne[34]||(ne[34]=[o("td",{colspan:"7",class:"px-4 py-8 text-center text-gray-500"},' Belum ada item. Klik "Tambah Item" untuk menambahkan. ',-1)])])):pe("",!0)])])])]),o("div",uee,[o("button",{onClick:F,class:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Batal "),o("button",{onClick:le,disabled:!D.value,class:Fe([D.value?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed","px-4 py-2 rounded-lg transition-colors"])}," Simpan Return ",10,xee)])])])])):pe("",!0),g.value&&f.value?(U(),G("div",fee,[o("div",hee,[o("div",{class:"flex justify-between items-center mb-6"},[ne[37]||(ne[37]=o("h3",{class:"text-xl font-semibold text-gray-900"},"Detail Return",-1)),o("button",{onClick:Y,class:"text-gray-400 hover:text-gray-600"},[...ne[36]||(ne[36]=[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),o("div",gee,[o("div",pee,[o("div",null,[ne[38]||(ne[38]=o("label",{class:"block text-sm font-medium text-gray-600"},"Return Number",-1)),o("p",mee,P(f.value.returnNumber),1)]),o("div",null,[ne[39]||(ne[39]=o("label",{class:"block text-sm font-medium text-gray-600"},"Jenis Return",-1)),o("p",yee,P(f.value.type),1)]),o("div",null,[ne[40]||(ne[40]=o("label",{class:"block text-sm font-medium text-gray-600"},"Tanggal",-1)),o("p",bee,P(_(f.value.date)),1)]),o("div",null,[ne[41]||(ne[41]=o("label",{class:"block text-sm font-medium text-gray-600"},"Status",-1)),o("span",{class:Fe([M(f.value.status),"px-2 py-1 text-sm font-semibold rounded-full"])},P(f.value.status),3)])]),o("div",vee,[o("div",null,[o("label",Eee,P(f.value.type==="Supplier"?"Supplier":"Dept Asal"),1),o("p",wee,P(f.value.supplier),1)]),f.value.shipmentNo?(U(),G("div",Cee,[ne[42]||(ne[42]=o("label",{class:"block text-sm font-medium text-gray-600"},"No Shipment/Reservasi",-1)),o("p",Aee,P(f.value.shipmentNo),1)])):pe("",!0)])]),o("div",Bee,[o("table",_ee,[ne[44]||(ne[44]=o("thead",{class:"bg-gray-50"},[o("tr",null,[o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"No"),o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Kode Item"),o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Nama Material"),o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Lot/Batch"),o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Qty"),o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"UoM"),o("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Reason")])],-1)),o("tbody",Dee,[o("tr",null,[ne[43]||(ne[43]=o("td",{class:"px-4 py-3 text-sm text-gray-900"},"1",-1)),o("td",kee,P(f.value.itemCode),1),o("td",See,P(f.value.itemName),1),o("td",Fee,P(f.value.lotBatch),1),o("td",Tee,P(f.value.qty),1),o("td",Iee,P(f.value.uom),1),o("td",Mee,[o("span",{class:Fe([$(f.value.reason),"px-2 py-1 text-xs font-medium rounded-full"])},P(f.value.reason),3)])])])])]),o("div",Pee,[o("button",{onClick:Y,class:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," Tutup "),o("button",{onClick:ne[10]||(ne[10]=de=>ce(f.value)),class:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors"}," Cetak Slip Return ")])])])):pe("",!0),E.value?(U(),G("div",{key:2,class:Fe([E.value.type==="success"?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800","fixed top-4 right-4 border rounded-lg p-4 shadow-lg"]),style:{"z-index":"1000"}},[o("div",Ree,[E.value.type==="success"?(U(),G("svg",Oee,[...ne[45]||(ne[45]=[o("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)])])):(U(),G("svg",Nee,[...ne[46]||(ne[46]=[o("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"},null,-1)])])),qe(" "+P(E.value.text),1)])],2)):pe("",!0)])])]),_:1}))}}),$ee=Object.freeze(Object.defineProperty({__proto__:null,default:Lee},Symbol.toStringTag,{value:"Module"})),jee={class:"space-y-6"},Uee={class:"bg-white rounded-lg shadow"},Hee={class:"p-4 border-b border-gray-200"},zee={class:"p-6 space-y-4"},Vee={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},qee={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Wee=["value"],Gee=["value"],Qee={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Kee={class:"flex justify-between items-center pt-4 border-t border-gray-200"},Yee={class:"text-sm text-gray-600"},Xee={class:"bg-white rounded-lg shadow overflow-hidden"},Zee={class:"overflow-x-auto"},Jee={class:"min-w-full divide-y divide-gray-200"},ete={class:"bg-white divide-y divide-gray-200"},tte={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},nte={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},rte={class:"font-medium"},ste={class:"text-xs text-gray-500"},ote={class:"px-6 py-4 whitespace-nowrap"},ite={class:"flex flex-col gap-1"},ate={class:"text-sm text-gray-900 font-semibold"},lte={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},cte={class:"font-medium"},dte=["title"],ute={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},xte={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},fte={key:0},hte={class:"text-red-600"},gte={class:"text-green-600"},pte={key:1},mte={key:2},yte={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},bte={key:0},vte={class:"text-red-600"},Ete={class:"text-green-600"},wte={key:1},Cte={key:2},Ate={key:3},Bte={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},_te={class:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6"},Dte={class:"flex items-center justify-between"},kte={class:"flex items-center text-sm text-gray-700"},Ste={class:"flex items-center space-x-2"},Fte=["disabled"],Tte={class:"text-sm text-gray-700"},Ite=["disabled"],Mte={key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50"},Pte={class:"relative top-20 mx-auto p-5 border w-3/4 max-w-4xl shadow-lg rounded-md bg-white"},Rte={class:"flex justify-between items-center mb-4"},Ote={key:0,class:"space-y-4"},Nte={class:"grid grid-cols-2 gap-4"},Lte={class:"mt-1 text-sm text-gray-900"},$te={class:"mt-1 text-sm text-gray-900"},jte={class:"mt-1"},Ute={class:"mt-1 text-sm text-gray-900 font-semibold"},Hte={class:"border-t pt-4"},zte={class:"grid grid-cols-2 gap-4"},Vte={class:"mt-1 text-sm text-gray-900"},qte={class:"mt-1 text-sm text-gray-900"},Wte={key:0,class:"border-t pt-4"},Gte={class:"grid grid-cols-3 gap-4"},Qte={key:0},Kte={class:"mt-1 text-sm text-gray-900"},Yte={key:1},Xte={class:"mt-1 text-sm text-gray-900"},Zte={key:0},Jte={class:"text-red-600"},ene={class:"text-green-600"},tne={key:1},nne={key:2},rne={class:"mt-1 text-sm text-gray-900"},sne={key:0},one={class:"text-red-600"},ine={class:"text-green-600"},ane={key:1},lne={key:1,class:"border-t pt-4"},cne={class:"grid grid-cols-2 gap-4"},dne={key:0},une={class:"mt-1 text-xs text-gray-900 bg-gray-50 p-2 rounded overflow-auto max-h-40"},xne={key:1},fne={class:"mt-1 text-xs text-gray-900 bg-gray-50 p-2 rounded overflow-auto max-h-40"},hne={class:"border-t pt-4"},gne={class:"grid grid-cols-2 gap-4"},pne={key:0},mne={class:"mt-1 text-sm text-gray-900"},yne={key:1},bne={class:"mt-1 text-sm text-gray-900"},vne={class:"mt-1 text-sm text-gray-900"},Ene=["title"],wne={key:0,class:"mt-4"},Cne={class:"mt-1 text-sm text-gray-900"},Ane={class:"mt-6 flex justify-end"},Bne={__name:"RiwayatAktivitas",props:{activities:Array},setup(e){const t=e,n=ve(!0);ve(!1);const r=ve(null),i=ve(1),a=ve(25),c=ve({quickTime:"",startDate:"",endDate:"",role:"",user:"",module:"",sku:"",lotBatch:"",qtyMin:"",qtyMax:"",bin:"",status:""}),u=ve(t.activities),g=ve([...new Set(t.activities.map(z=>z.user))]),f=ve([...new Set(t.activities.flatMap(z=>[z.bin_from,z.bin_to].filter(F=>F)))]),m=We(()=>{let z=u.value;return c.value.startDate&&c.value.endDate&&(z=z.filter(F=>{const Q=F.timestamp.split(" ")[0];return Q>=c.value.startDate&&Q<=c.value.endDate})),c.value.role&&(z=z.filter(F=>F.role===c.value.role)),c.value.user&&(z=z.filter(F=>F.user===c.value.user)),c.value.module&&(z=z.filter(F=>F.module===c.value.module)),c.value.sku&&(z=z.filter(F=>F.sku_code.toLowerCase().includes(c.value.sku.toLowerCase())||F.sku_name.toLowerCase().includes(c.value.sku.toLowerCase()))),c.value.lotBatch&&(z=z.filter(F=>F.lot_no&&F.lot_no.toLowerCase().includes(c.value.lotBatch.toLowerCase()))),c.value.qtyMin&&(z=z.filter(F=>F.qty_after>=parseInt(c.value.qtyMin))),c.value.qtyMax&&(z=z.filter(F=>F.qty_after<=parseInt(c.value.qtyMax))),c.value.bin&&(z=z.filter(F=>F.bin_from===c.value.bin||F.bin_to===c.value.bin)),z.sort((F,Q)=>new Date(Q.timestamp)-new Date(F.timestamp))}),y=We(()=>{const z=(i.value-1)*a.value,F=z+a.value;return m.value.slice(z,F)}),w=We(()=>Math.ceil(m.value.length/a.value)),E=z=>new Date(z).toLocaleString("id-ID",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),C=z=>{const F={Incoming:"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200",QC:"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200",Karantina:"bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200",Putaway:"bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200",Reservation:"bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200",Picking:"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200",Return:"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200","Master Data":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200"};return F[z]||F["Master Data"]},D=()=>{const z=new Date;switch(new Date(z).setDate(z.getDate()-1),c.value.quickTime){case"today":c.value.startDate=z.toISOString().split("T")[0],c.value.endDate=z.toISOString().split("T")[0];break;case"this_week":const Q=new Date(z.setDate(z.getDate()-z.getDay()));c.value.startDate=Q.toISOString().split("T")[0],c.value.endDate=new Date().toISOString().split("T")[0];break;case"this_month":c.value.startDate=new Date(z.getFullYear(),z.getMonth(),1).toISOString().split("T")[0],c.value.endDate=new Date().toISOString().split("T")[0];break;case"last_month":const le=new Date(z.getFullYear(),z.getMonth()-1,1),Y=new Date(z.getFullYear(),z.getMonth(),0);c.value.startDate=le.toISOString().split("T")[0],c.value.endDate=Y.toISOString().split("T")[0];break;default:c.value.startDate="",c.value.endDate=""}},_=()=>{const z={Admin:["ADM001"],"QC Staff":["QC001","QC002"],Warehouse:["WH001","WH002","WH003"],Production:["PD001","PD002"],Supervisor:["SUP001"],"Receiving Staff":["WH002"]};c.value.role?g.value=z[c.value.role]||[]:g.value=["ADM001","QC001","QC002","WH001","WH002","WH003","PD001","PD002","SUP001"],g.value.includes(c.value.user)||(c.value.user="")},M=()=>{c.value={quickTime:"",startDate:"",endDate:"",role:"",user:"",module:"",sku:"",lotBatch:"",qtyMin:"",qtyMax:"",bin:"",status:""},i.value=1},$=()=>{i.value=1},I=()=>{i.value=1},S=()=>{i.value>1&&i.value--},T=()=>{i.value<w.value&&i.value++},j=()=>{const F=[["Timestamp","Role/User","Module","Activity","SKU Code","SKU Name","Lot/Batch","Qty Before","Qty After","Bin From","Bin To","Reference","Remarks"].join(","),...m.value.map(ce=>[ce.timestamp,`${ce.user} (${ce.role})`,ce.module,ce.action,ce.sku_code,ce.sku_name,ce.lot_no||"",ce.qty_before||"",ce.qty_after||"",ce.bin_from||"",ce.bin_to||"",ce.reference_no||"",ce.remarks||""].map(me=>`"${me}"`).join(","))].join(`
`),Q=new Blob([F],{type:"text/csv"}),le=window.URL.createObjectURL(Q),Y=document.createElement("a");Y.href=le,Y.download=`activity_log_${new Date().toISOString().split("T")[0]}.csv`,Y.click(),window.URL.revokeObjectURL(le)},L=()=>{const z=window.open("","_blank"),F=`
    <html>
      <head>
        <title>Activity Log Report</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; font-size: 10px; }
          .header { text-align: center; margin-bottom: 20px; }
          .filters { background-color: #f5f5f5; padding: 10px; margin-bottom: 20px; }
          table { width: 100%; border-collapse: collapse; }
          th, td { border: 1px solid #ddd; padding: 6px; text-align: left; }
          th { background-color: #f2f2f2; font-weight: bold; }
          .module-badge { padding: 2px 6px; border-radius: 4px; font-size: 8px; }
          @media print {
            body { margin: 0; font-size: 9px; }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <h2>Activity Log Report</h2>
          <p>Generated on: ${new Date().toLocaleString("id-ID")}</p>
        </div>
        
        <div class="filters">
          <strong>Applied Filters:</strong>
          ${c.value.startDate?`Date Range: ${c.value.startDate} to ${c.value.endDate} | `:""}
          ${c.value.role?`Role: ${c.value.role} | `:""}
          ${c.value.module?`Module: ${c.value.module} | `:""}
          ${c.value.sku?`SKU: ${c.value.sku} | `:""}
          Total Records: ${m.value.length}
        </div>
        
        <table class="min-w-full divide-y divide-gray-200">
          <thead class="bg-gray-50">
            <tr>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Timestamp</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Role/User</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Aktivitas</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Entity/Material</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Lot/Batch</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Qty</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Lokasi/Bin</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Referensi Dokumen</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Aksi</th>
            </tr>
          </thead>
          <tbody class="bg-white divide-y divide-gray-200">
            <tr v-for="activity in paginatedActivities" :key="activity.id" class="hover:bg-gray-50">
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                <div>{{ formatDateTime(activity.timestamp) }}</div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                <div class="font-medium">{{ activity.user }}</div>
                <div class="text-xs text-gray-500">{{ activity.role }}</div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap">
                <div class="flex flex-col gap-1">
                  <span class="px-2 py-1 text-xs rounded-full font-medium inline-block" :class="getModuleBadgeClass(activity.module)">
                    {{ activity.module }}
                  </span>
                  <div class="text-sm text-gray-900 font-semibold">{{ activity.action }}</div>
                </div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                <div class="font-medium">{{ activity.sku_code }}</div>
                <div class="text-xs text-gray-500 max-w-xs truncate" :title="activity.sku_name">
                  {{ activity.sku_name }}
                </div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                {{ activity.lot_no && activity.lot_no !== '-' ? activity.lot_no : '-' }}
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                <div v-if="activity.qty_before != activity.qty_after && activity.qty_before > 0">
                  <span class="text-red-600">{{ activity.qty_before }}</span>
                  <span class="mx-1"></span>
                  <span class="text-green-600">{{ activity.qty_after }}</span>
                </div>
                <div v-else-if="activity.qty_after > 0">{{ activity.qty_after }}</div>
                <div v-else>-</div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                <div v-if="activity.bin_from && activity.bin_to && activity.bin_from !== '-' && activity.bin_to !== '-' && activity.bin_from !== activity.bin_to">
                  <span class="text-red-600">{{ activity.bin_from }}</span>
                  <span class="mx-1"></span>
                  <span class="text-green-600">{{ activity.bin_to }}</span>
                </div>
                <div v-else-if="activity.bin_to && activity.bin_to !== '-'">{{ activity.bin_to }}</div>
                <div v-else-if="activity.bin_from && activity.bin_from !== '-'">{{ activity.bin_from }}</div>
                <div v-else>-</div>
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                {{ activity.reference_no && activity.reference_no !== '-' ? activity.reference_no : '-' }}
              </td>
              <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                <button @click="showDetailModal(activity)" class="bg-blue-100 text-blue-700 hover:bg-blue-200 px-3 py-1 rounded text-xs">
                  Detail
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </body>
    </html>
  `;z.document.write(F),z.document.close(),z.focus(),setTimeout(()=>{z.print(),z.close()},500)};return Gn(()=>{const z=new Date,F=new Date(z.getTime()-10080*60*1e3);c.value.startDate=F.toISOString().split("T")[0],c.value.endDate=z.toISOString().split("T")[0]}),(z,F)=>(U(),Et(Qn,{title:"Riwayat Aktivitas"},{default:bt(()=>[o("div",jee,[o("div",{class:"flex justify-between items-center"},[F[18]||(F[18]=o("h2",{class:"text-2xl font-bold text-gray-900"},"Riwayat Aktivitas",-1)),o("div",{class:"flex space-x-3"},[o("button",{onClick:j,class:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},[...F[16]||(F[16]=[o("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),qe(" Export Excel ",-1)])]),o("button",{onClick:L,class:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},[...F[17]||(F[17]=[o("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1),qe(" Export PDF ",-1)])])])]),o("div",Uee,[o("div",Hee,[o("button",{onClick:F[0]||(F[0]=Q=>n.value=!n.value),class:"flex items-center justify-between w-full text-left"},[F[20]||(F[20]=o("h3",{class:"text-lg font-semibold text-gray-900"},"Advanced Filter",-1)),(U(),G("svg",{class:Fe(["w-5 h-5 transform transition-transform",n.value?"rotate-180":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...F[19]||(F[19]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])]),Ee(o("div",zee,[o("div",Vee,[o("div",null,[F[22]||(F[22]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Quick Time Filter",-1)),Ee(o("select",{"onUpdate:modelValue":F[1]||(F[1]=Q=>c.value.quickTime=Q),onChange:D,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},[...F[21]||(F[21]=[o("option",{value:""},"Custom Range",-1),o("option",{value:"today"},"Hari Ini",-1),o("option",{value:"this_week"},"Minggu Ini",-1),o("option",{value:"this_month"},"Bulan Ini",-1),o("option",{value:"last_month"},"Bulan Lalu",-1)])],544),[[ct,c.value.quickTime]])]),o("div",null,[F[23]||(F[23]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tanggal Awal",-1)),Ee(o("input",{"onUpdate:modelValue":F[2]||(F[2]=Q=>c.value.startDate=Q),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Oe,c.value.startDate]])]),o("div",null,[F[24]||(F[24]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Tanggal Akhir",-1)),Ee(o("input",{"onUpdate:modelValue":F[3]||(F[3]=Q=>c.value.endDate=Q),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Oe,c.value.endDate]])]),o("div",null,[F[26]||(F[26]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),Ee(o("select",{"onUpdate:modelValue":F[4]||(F[4]=Q=>c.value.status=Q),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},[...F[25]||(F[25]=[o("option",{value:""},"Semua Status",-1),o("option",{value:"Success"},"Success",-1),o("option",{value:"Pending"},"Pending",-1),o("option",{value:"Rejected"},"Rejected",-1),o("option",{value:"Completed"},"Completed",-1)])],512),[[ct,c.value.status]])])]),o("div",qee,[o("div",null,[F[28]||(F[28]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Role",-1)),Ee(o("select",{"onUpdate:modelValue":F[5]||(F[5]=Q=>c.value.role=Q),onChange:_,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},[...F[27]||(F[27]=[o("option",{value:""},"Semua Role",-1),o("option",{value:"Admin"},"Admin",-1),o("option",{value:"QC Staff"},"QC Staff",-1),o("option",{value:"Warehouse"},"Warehouse",-1),o("option",{value:"Production"},"Production",-1),o("option",{value:"Supervisor"},"Supervisor",-1),o("option",{value:"Receiving Staff"},"Receiving Staff",-1)])],544),[[ct,c.value.role]])]),o("div",null,[F[30]||(F[30]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"User",-1)),Ee(o("select",{"onUpdate:modelValue":F[6]||(F[6]=Q=>c.value.user=Q),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},[F[29]||(F[29]=o("option",{value:""},"Semua User",-1)),(U(!0),G($e,null,nt(g.value,Q=>(U(),G("option",{key:Q,value:Q},P(Q),9,Wee))),128))],512),[[ct,c.value.user]])]),o("div",null,[F[32]||(F[32]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Jenis Aktivitas",-1)),Ee(o("select",{"onUpdate:modelValue":F[7]||(F[7]=Q=>c.value.module=Q),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},[...F[31]||(F[31]=[o("option",{value:""},"Semua Aktivitas",-1),o("option",{value:"Incoming"},"Incoming / Receipt",-1),o("option",{value:"QC"},"QC",-1),o("option",{value:"Karantina"},"Label Karantina",-1),o("option",{value:"Putaway"},"Putaway",-1),o("option",{value:"Reservation"},"Reservation",-1),o("option",{value:"Picking"},"Picking",-1),o("option",{value:"Return"},"Return",-1),o("option",{value:"Master Data"},"Master Data",-1)])],512),[[ct,c.value.module]])]),o("div",null,[F[34]||(F[34]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Lokasi/Bin",-1)),Ee(o("select",{"onUpdate:modelValue":F[8]||(F[8]=Q=>c.value.bin=Q),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},[F[33]||(F[33]=o("option",{value:""},"Semua Lokasi",-1)),(U(!0),G($e,null,nt(f.value,Q=>(U(),G("option",{key:Q,value:Q},P(Q),9,Gee))),128))],512),[[ct,c.value.bin]])])]),o("div",Qee,[o("div",null,[F[35]||(F[35]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Material/SKU",-1)),Ee(o("input",{"onUpdate:modelValue":F[9]||(F[9]=Q=>c.value.sku=Q),type:"text",placeholder:"Cari kode atau nama SKU...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Oe,c.value.sku]])]),o("div",null,[F[36]||(F[36]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Lot/Batch No",-1)),Ee(o("input",{"onUpdate:modelValue":F[10]||(F[10]=Q=>c.value.lotBatch=Q),type:"text",placeholder:"Cari lot/batch...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Oe,c.value.lotBatch]])]),o("div",null,[F[37]||(F[37]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Qty Min",-1)),Ee(o("input",{"onUpdate:modelValue":F[11]||(F[11]=Q=>c.value.qtyMin=Q),type:"number",placeholder:"0",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Oe,c.value.qtyMin]])]),o("div",null,[F[38]||(F[38]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Qty Max",-1)),Ee(o("input",{"onUpdate:modelValue":F[12]||(F[12]=Q=>c.value.qtyMax=Q),type:"number",placeholder:"9999",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900"},null,512),[[Oe,c.value.qtyMax]])])]),o("div",Kee,[o("div",Yee," Showing "+P(m.value.length)+" of "+P(u.value.length)+" records ",1),o("div",{class:"flex space-x-3"},[o("button",{onClick:M,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300"}," Reset Filter "),o("button",{onClick:$,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"}," Apply Filter ")])])],512),[[nn,n.value]])]),o("div",Xee,[o("div",Zee,[o("table",Jee,[F[41]||(F[41]=o("thead",{class:"bg-gray-50"},[o("tr",null,[o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Timestamp"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Role/User"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aktivitas"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Entity/Material"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Lot/Batch"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Qty"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Lokasi/Bin"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Referensi Dokumen")])],-1)),o("tbody",ete,[(U(!0),G($e,null,nt(y.value,Q=>(U(),G("tr",{key:Q.id,class:"hover:bg-gray-50"},[o("td",tte,[o("div",null,P(E(Q.timestamp)),1)]),o("td",nte,[o("div",rte,P(Q.user),1),o("div",ste,P(Q.role),1)]),o("td",ote,[o("div",ite,[o("span",{class:Fe(["px-2 py-1 text-xs rounded-full font-medium inline-block",C(Q.module)])},P(Q.module),3),o("div",ate,P(Q.action),1)])]),o("td",lte,[o("div",cte,P(Q.sku_code),1),o("div",{class:"text-xs text-gray-500 max-w-xs truncate",title:Q.sku_name},P(Q.sku_name),9,dte)]),o("td",ute,P(Q.lot_no&&Q.lot_no!=="-"?Q.lot_no:"-"),1),o("td",xte,[Q.qty_before!=Q.qty_after&&Q.qty_before>0?(U(),G("div",fte,[o("span",hte,P(Q.qty_before),1),F[39]||(F[39]=o("span",{class:"mx-1"},"",-1)),o("span",gte,P(Q.qty_after),1)])):Q.qty_after>0?(U(),G("div",pte,P(Q.qty_after),1)):(U(),G("div",mte,"-"))]),o("td",yte,[Q.bin_from&&Q.bin_to&&Q.bin_from!=="-"&&Q.bin_to!=="-"&&Q.bin_from!==Q.bin_to?(U(),G("div",bte,[o("span",vte,P(Q.bin_from),1),F[40]||(F[40]=o("span",{class:"mx-1"},"",-1)),o("span",Ete,P(Q.bin_to),1)])):Q.bin_to&&Q.bin_to!=="-"?(U(),G("div",wte,P(Q.bin_to),1)):Q.bin_from&&Q.bin_from!=="-"?(U(),G("div",Cte,P(Q.bin_from),1)):(U(),G("div",Ate,"-"))]),o("td",Bte,P(Q.reference_no&&Q.reference_no!=="-"?Q.reference_no:"-"),1)]))),128))])])]),o("div",_te,[o("div",Dte,[o("div",kte,[F[43]||(F[43]=o("span",null,"Show",-1)),Ee(o("select",{"onUpdate:modelValue":F[13]||(F[13]=Q=>a.value=Q),onChange:I,class:"mx-2 px-2 py-1 border border-gray-300 rounded text-sm bg-white"},[...F[42]||(F[42]=[o("option",{value:"10"},"10",-1),o("option",{value:"25"},"25",-1),o("option",{value:"50"},"50",-1),o("option",{value:"100"},"100",-1)])],544),[[ct,a.value]]),F[44]||(F[44]=o("span",null,"entries",-1))]),o("div",Ste,[o("button",{onClick:S,disabled:i.value===1,class:"px-3 py-1 border border-gray-300 rounded text-sm bg-white text-gray-700 disabled:opacity-50"}," Previous ",8,Fte),o("span",Tte,P(i.value)+" of "+P(w.value),1),o("button",{onClick:T,disabled:i.value===w.value,class:"px-3 py-1 border border-gray-300 rounded text-sm bg-white text-gray-700 disabled:opacity-50"}," Next ",8,Ite)])])])]),z.isDetailModalOpen?(U(),G("div",Mte,[o("div",Pte,[o("div",Rte,[F[46]||(F[46]=o("h3",{class:"text-lg font-semibold text-gray-900"},"Detail Aktivitas",-1)),o("button",{onClick:F[14]||(F[14]=Q=>z.isDetailModalOpen=!1),class:"text-gray-400 hover:text-gray-600"},[...F[45]||(F[45]=[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),r.value?(U(),G("div",Ote,[o("div",Nte,[o("div",null,[F[47]||(F[47]=o("label",{class:"block text-sm font-medium text-gray-700"},"Timestamp",-1)),o("p",Lte,P(E(r.value.timestamp)),1)]),o("div",null,[F[48]||(F[48]=o("label",{class:"block text-sm font-medium text-gray-700"},"User",-1)),o("p",$te,P(r.value.user)+" ("+P(r.value.role)+")",1)]),o("div",null,[F[49]||(F[49]=o("label",{class:"block text-sm font-medium text-gray-700"},"Module",-1)),o("p",jte,[o("span",{class:Fe(["px-2 py-1 text-xs rounded-full font-medium",C(r.value.module)])},P(r.value.module),3)])]),o("div",null,[F[50]||(F[50]=o("label",{class:"block text-sm font-medium text-gray-700"},"Action",-1)),o("p",Ute,P(r.value.action),1)])]),o("div",Hte,[F[53]||(F[53]=o("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"Entity Information",-1)),o("div",zte,[o("div",null,[F[51]||(F[51]=o("label",{class:"block text-xs font-medium text-gray-500"},"Code",-1)),o("p",Vte,P(r.value.sku_code),1)]),o("div",null,[F[52]||(F[52]=o("label",{class:"block text-xs font-medium text-gray-500"},"Name",-1)),o("p",qte,P(r.value.sku_name),1)])])]),r.value.lot_no!=="-"||r.value.qty_after>0||r.value.bin_to!=="-"?(U(),G("div",Wte,[F[59]||(F[59]=o("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"Warehouse Details",-1)),o("div",Gte,[r.value.lot_no!=="-"?(U(),G("div",Qte,[F[54]||(F[54]=o("label",{class:"block text-xs font-medium text-gray-500"},"Lot/Batch",-1)),o("p",Kte,P(r.value.lot_no),1)])):pe("",!0),r.value.qty_after>0?(U(),G("div",Yte,[F[56]||(F[56]=o("label",{class:"block text-xs font-medium text-gray-500"},"Quantity",-1)),o("p",Xte,[r.value.qty_before!=r.value.qty_after?(U(),G("span",Zte,[o("span",Jte,P(r.value.qty_before),1),F[55]||(F[55]=o("span",{class:"mx-1"},"",-1)),o("span",ene,P(r.value.qty_after),1)])):(U(),G("span",tne,P(r.value.qty_after),1))])])):pe("",!0),r.value.bin_to!=="-"||r.value.bin_from!=="-"?(U(),G("div",nne,[F[58]||(F[58]=o("label",{class:"block text-xs font-medium text-gray-500"},"Bin Location",-1)),o("p",rne,[r.value.bin_from&&r.value.bin_to&&r.value.bin_from!=="-"&&r.value.bin_to!=="-"?(U(),G("span",sne,[o("span",one,P(r.value.bin_from),1),F[57]||(F[57]=o("span",{class:"mx-1"},"",-1)),o("span",ine,P(r.value.bin_to),1)])):(U(),G("span",ane,P(r.value.bin_to||r.value.bin_from),1))])])):pe("",!0)])])):pe("",!0),r.value.old_value||r.value.new_value?(U(),G("div",lne,[F[62]||(F[62]=o("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"Changes",-1)),o("div",cne,[r.value.old_value?(U(),G("div",dne,[F[60]||(F[60]=o("label",{class:"block text-xs font-medium text-gray-500"},"Old Value",-1)),o("pre",une,P(JSON.parse(r.value.old_value||"{}")),1)])):pe("",!0),r.value.new_value?(U(),G("div",xne,[F[61]||(F[61]=o("label",{class:"block text-xs font-medium text-gray-500"},"New Value",-1)),o("pre",fne,P(JSON.parse(r.value.new_value||"{}")),1)])):pe("",!0)])])):pe("",!0),o("div",hne,[F[68]||(F[68]=o("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"Additional Information",-1)),o("div",gne,[r.value.reference_no&&r.value.reference_no!=="-"?(U(),G("div",pne,[F[63]||(F[63]=o("label",{class:"block text-xs font-medium text-gray-500"},"Reference Document",-1)),o("p",mne,P(r.value.reference_no),1)])):pe("",!0),r.value.exp_date?(U(),G("div",yne,[F[64]||(F[64]=o("label",{class:"block text-xs font-medium text-gray-500"},"Expiry Date",-1)),o("p",bne,P(r.value.exp_date),1)])):pe("",!0),o("div",null,[F[65]||(F[65]=o("label",{class:"block text-xs font-medium text-gray-500"},"IP Address",-1)),o("p",vne,P(r.value.ip_address),1)]),o("div",null,[F[66]||(F[66]=o("label",{class:"block text-xs font-medium text-gray-500"},"Device",-1)),o("p",{class:"mt-1 text-sm text-gray-900 truncate",title:r.value.device},P(r.value.device),9,Ene)])]),r.value.remarks?(U(),G("div",wne,[F[67]||(F[67]=o("label",{class:"block text-xs font-medium text-gray-500"},"Remarks",-1)),o("p",Cne,P(r.value.remarks),1)])):pe("",!0)])])):pe("",!0),o("div",Ane,[o("button",{onClick:F[15]||(F[15]=Q=>z.isDetailModalOpen=!1),class:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300"}," Close ")])])])):pe("",!0)])]),_:1}))}},_ne=Object.freeze(Object.defineProperty({__proto__:null,default:Bne},Symbol.toStringTag,{value:"Module"})),Dne={class:"role-permission-management"},kne={class:"flex justify-between items-center mb-6"},Sne={key:0,class:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4"},Fne={key:1,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4"},Tne={class:"bg-white rounded-lg shadow-lg overflow-hidden"},Ine={class:"min-w-full divide-y divide-gray-200"},Mne={class:"bg-white divide-y divide-gray-200"},Pne={class:"px-6 py-4 whitespace-nowrap"},Rne={class:"text-sm font-medium text-gray-900"},One={class:"px-6 py-4"},Nne={class:"text-sm text-gray-600"},Lne={class:"px-6 py-4 text-sm text-gray-500"},$ne={key:0},jne={key:1,class:"text-red-500"},Une={class:"px-6 py-4 whitespace-nowrap"},Hne={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},zne={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},Vne=["onClick"],qne=["onClick"],Wne={key:2,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},Gne={key:3,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},Qne={class:"bg-white rounded-lg p-6 w-full max-w-md shadow-xl"},Kne={class:"mb-4"},Yne={class:"mb-6"},Xne={key:4,class:"fixed inset-0 bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-[9999]",style:{"background-color":"rgba(43, 51, 63, 0.67)"}},Zne={class:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-xl"},Jne={class:"flex justify-between items-center mb-4"},ere={class:"text-lg font-semibold text-gray-900"},tre={class:"space-y-6"},nre={class:"flex justify-between items-center mb-3 border-b border-gray-200 pb-2"},rre={class:"text-md font-semibold text-gray-800 flex items-center"},sre=["innerHTML"],ore={class:"flex items-center text-blue-600 font-medium cursor-pointer"},ire=["checked","onChange"],are={class:"grid grid-cols-2 md:grid-cols-5 gap-3"},lre=["title"],cre=["checked","onChange"],dre={class:"text-sm"},ure=Lr({__name:"RolePermission",props:{roles:{},allPermissions:{}},setup(e){const t=e,n=ve(!1),r=ve(!1),i=ve(null),a=ho({name:"",description:""}),c=ve([]),u=We(()=>new Map(c.value.map(S=>[S.name,S]))),g=S=>{const T=t.allPermissions.find(j=>j.module_key===S);return!T||T.permissions.length===0?!1:T.permissions.every(j=>{const L=u.value.get(j.name);return L&&L.allowed})},f=(S,T)=>{const L=T.target.checked,z=t.allPermissions.find(F=>F.module_key===S);z&&z.permissions.forEach(F=>{const Q=F.name,le=c.value.find(Y=>Y.name===Q);le?le.allowed=L:L&&c.value.push({name:Q,allowed:!0})})},m=()=>{gt.post("/role-permission",{name:a.name,description:a.description},{onSuccess:()=>{y()}})},y=()=>{a.name="",a.description="",n.value=!1},w=S=>{const T=t.roles.find(j=>j.id===S);T&&confirm(`Apakah Anda yakin ingin menghapus role "${T.name}"?`)&&gt.delete(`/role-permission/${S}`)},E=S=>{i.value=S,D(S),r.value=!0},C=()=>{r.value=!1,i.value=null,c.value=[]},D=S=>{const T=t.allPermissions.flatMap(L=>L.permissions).map(L=>({name:L.name,allowed:!1})),j=new Set(S.permissions);c.value=T.map(L=>({...L,allowed:j.has(L.name)}))},_=S=>u.value.get(S)?.allowed??!1,M=(S,T)=>{const L=T.target.checked,z=c.value.find(F=>F.name===S);z?z.allowed=L:c.value.push({name:S,allowed:L})},$=()=>{i.value&&gt.put(`/role-permission/${i.value.id}/permissions`,{permissions:c.value},{onSuccess:()=>{C(),gt.reload({only:["roles"]})},onError:S=>{console.error("Gagal menyimpan permissions:",S),alert("Terjadi kesalahan saat menyimpan permissions. Cek console untuk detail.")}})},I=S=>{const T=new Set;return t.allPermissions.forEach(j=>{const L=new Set(j.permissions.map(F=>F.name));S.some(F=>L.has(F))&&T.add(j.module_key)}),T.size};return(S,T)=>(U(),Et(Qn,{title:"Role & Permission Management"},{default:bt(()=>[o("div",Dne,[o("div",kne,[T[4]||(T[4]=o("h1",{class:"text-2xl font-bold text-gray-800"},"Role & Permission Management",-1)),o("button",{onClick:T[0]||(T[0]=j=>n.value=!0),class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors"},[...T[3]||(T[3]=[o("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),qe(" Tambah Role ",-1)])])]),S.$page.props.flash?.success?(U(),G("div",Sne,P(S.$page.props.flash.success),1)):pe("",!0),S.$page.props.flash?.error?(U(),G("div",Fne,P(S.$page.props.flash.error),1)):pe("",!0),o("div",Tne,[o("table",Ine,[T[5]||(T[5]=o("thead",{class:"bg-gray-50"},[o("tr",null,[o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Role"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Deskripsi"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Ringkasan Permissions"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Jumlah User"),o("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),o("tbody",Mne,[(U(!0),G($e,null,nt(e.roles,j=>(U(),G("tr",{key:j.id,class:"hover:bg-gray-50 transition-colors"},[o("td",Pne,[o("div",Rne,P(j.name),1)]),o("td",One,[o("div",Nne,P(j.description),1)]),o("td",Lne,[j.permissions&&j.permissions.length>0?(U(),G("span",$ne," Total **"+P(j.permissions.length)+"** permissions di **"+P(I(j.permissions))+"** modul. ",1)):(U(),G("span",jne,"Tidak ada Permission"))]),o("td",Une,[o("span",Hne,P(j.userCount)+" users ",1)]),o("td",zne,[o("button",{onClick:L=>E(j),class:"text-indigo-600 hover:text-indigo-900 transition-colors"}," Atur Permission ",8,Vne),o("button",{onClick:L=>w(j.id),class:"text-red-600 hover:text-red-900 transition-colors"}," Hapus ",8,qne)])]))),128))])])]),n.value?(U(),G("div",Wne)):pe("",!0),n.value?(U(),G("div",Gne,[o("div",Qne,[o("div",{class:"flex justify-between items-center mb-4"},[T[7]||(T[7]=o("h3",{class:"text-lg font-semibold text-gray-900"},"Tambah Role Baru",-1)),o("button",{onClick:y,class:"text-gray-400 hover:text-gray-600 transition-colors"},[...T[6]||(T[6]=[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),o("form",{onSubmit:or(m,["prevent"])},[o("div",Kne,[T[8]||(T[8]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nama Role",-1)),Ee(o("input",{"onUpdate:modelValue":T[1]||(T[1]=j=>a.name=j),type:"text",required:"",placeholder:"Contoh: QC, Supervisor, Operator Gudang",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900 placeholder-gray-400"},null,512),[[Oe,a.name]])]),o("div",Yne,[T[9]||(T[9]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Deskripsi Role (Opsional)",-1)),Ee(o("textarea",{"onUpdate:modelValue":T[2]||(T[2]=j=>a.description=j),rows:"3",placeholder:"Role untuk tim QC yang memeriksa barang masuk",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-900 placeholder-gray-400"},null,512),[[Oe,a.description]])]),o("div",{class:"flex justify-end space-x-3"},[o("button",{type:"button",onClick:y,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors"}," Batal "),T[10]||(T[10]=o("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"}," Simpan ",-1))])],32)])])):pe("",!0),r.value?(U(),G("div",Xne,[o("div",Zne,[o("div",Jne,[o("h3",ere,"Atur Permission - "+P(i.value?.name),1),o("button",{onClick:C,class:"text-gray-400 hover:text-gray-600 transition-colors"},[...T[11]||(T[11]=[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),o("div",tre,[(U(!0),G($e,null,nt(e.allPermissions,j=>(U(),G("div",{key:j.module_key,class:"border border-gray-200 rounded-lg p-4 bg-gray-50"},[o("div",nre,[o("h4",rre,[o("span",{innerHTML:j.module_name},null,8,sre)]),o("label",ore,[o("input",{type:"checkbox",checked:g(j.module_key),onChange:L=>f(j.module_key,L),class:"mr-2 rounded border-blue-600 text-blue-600 focus:ring-blue-500 h-4 w-4"},null,40,ire),T[12]||(T[12]=qe(" Pilih Semua ",-1))])]),o("div",are,[(U(!0),G($e,null,nt(j.permissions,L=>(U(),G("label",{key:L.name,class:"flex items-center text-gray-700 cursor-pointer",title:L.description},[o("input",{type:"checkbox",checked:_(L.name),onChange:z=>M(L.name,z),class:"mr-2 rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,40,cre),o("span",dre,P(L.display_name),1)],8,lre))),128))])]))),128))]),o("div",{class:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200"},[o("button",{onClick:C,class:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors"}," Batal "),o("button",{onClick:$,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"}," Simpan Permission ")])])])):pe("",!0)])]),_:1}))}}),xre=Hi(ure,[["__scopeId","data-v-2d00ac1b"]]),fre=Object.freeze(Object.defineProperty({__proto__:null,default:xre},Symbol.toStringTag,{value:"Module"})),hre={class:"min-h-screen bg-gray-50 p-6"},gre={class:"mb-6 bg-white rounded-lg shadow p-4 flex items-end gap-4"},pre={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8"},mre={class:"bg-white rounded-xl shadow p-5 border-l-4 border-blue-500"},yre={class:"flex justify-between items-start"},bre={class:"text-2xl font-bold text-gray-900 mt-1"},vre={class:"bg-white rounded-xl shadow p-5 border-l-4 border-green-500"},Ere={class:"flex justify-between items-start"},wre={class:"text-2xl font-bold text-gray-900 mt-1"},Cre={class:"bg-white rounded-xl shadow p-5 border-l-4 border-purple-500"},Are={class:"flex justify-between items-start"},Bre={class:"text-lg font-bold text-gray-900 mt-1"},_re={class:"bg-white rounded-xl shadow p-5 border-l-4 border-yellow-500"},Dre={class:"flex justify-between items-start"},kre={class:"text-2xl font-bold text-gray-900 mt-1"},Sre={class:"bg-white rounded-xl shadow p-5 border-l-4 border-indigo-500"},Fre={class:"flex justify-between items-start"},Tre={class:"text-2xl font-bold text-gray-900 mt-1"},Ire={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8"},Mre={class:"bg-white p-5 rounded-xl shadow"},Pre={class:"h-48 relative"},Rre={key:1,class:"flex h-full items-center justify-center text-gray-400 text-xs"},Ore={class:"bg-white p-5 rounded-xl shadow"},Nre={class:"h-48 relative"},Lre={key:1,class:"flex h-full items-center justify-center text-gray-400 text-xs"},$re={class:"bg-white p-5 rounded-xl shadow"},jre={class:"h-48 relative"},Ure={key:1,class:"flex h-full items-center justify-center text-gray-400 text-xs"},Hre={class:"bg-white p-5 rounded-xl shadow"},zre={class:"h-48 relative"},Vre={key:1,class:"flex h-full items-center justify-center text-gray-400 text-xs"},qre={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},Wre={class:"bg-white p-6 rounded-lg shadow"},Gre={class:"h-64 relative"},Qre={key:1,class:"flex h-full items-center justify-center text-gray-400"},Kre={class:"bg-white p-6 rounded-lg shadow"},Yre={class:"h-64 relative"},Xre={key:1,class:"flex h-full items-center justify-center text-gray-400"},Zre={class:"bg-white p-6 rounded-lg shadow"},Jre={class:"flex justify-between items-center mb-4"},ese={class:"overflow-y-auto max-h-64"},tse={class:"min-w-full divide-y divide-gray-200"},nse={class:"bg-white divide-y divide-gray-200"},rse={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},sse={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-right"},ose={key:0},ise={__name:"WmsDashboard",setup(e){rl.register(hb,Bb,wb,vb,_b,Db,yb,mb);const t=ho({date_start:new Date().toISOString().slice(0,8)+"01",date_end:new Date().toISOString().slice(0,10)}),n=ve({totalIncoming:0,totalOutgoing:0,leadTime:"0 Mins",stockAccuracy:0,skuOnHand:0}),r=ve([]),i=ve("high"),a=ve({incoming:{labels:[],datasets:[]},typeBreakdown:{labels:[],datasets:[]},trends:{incoming:{labels:[],datasets:[]},outgoing:{labels:[],datasets:[]},leadTime:{labels:[],datasets:[]},accuracy:{labels:[],datasets:[]}}}),c={responsive:!0,maintainAspectRatio:!1},u={responsive:!0,maintainAspectRatio:!1,indexAxis:"y"},g={responsive:!0,maintainAspectRatio:!1},f={responsive:!0,maintainAspectRatio:!1,tension:.3,scales:{y:{beginAtZero:!0}}},m=async()=>{try{const E=(await St.get(route("wms-dashboard.data"),{params:t})).data;n.value.totalIncoming=E.totalIncoming,n.value.totalOutgoing=E.totalOutgoing,n.value.leadTime=E.leadTime.toString().replace("-",""),n.value.stockAccuracy=E.stockAccuracy,n.value.skuOnHand=E.skuOnHand,r.value=E.incomingByCategory;const C=E.incomingByCategory.map(_=>_.kategori||"Uncategorized"),D=E.incomingByCategory.map(_=>_.total);if(a.value.incoming={labels:C,datasets:[{label:"Total Items",backgroundColor:"#3B82F6",data:D}]},E.incomingByType){const _=E.incomingByType.map($=>$.kategori||"Other"),M=E.incomingByType.map($=>$.total);a.value.typeBreakdown={labels:_,datasets:[{backgroundColor:["#F59E0B","#10B981","#3B82F6","#EF4444"],data:M}]}}if(E.trends){const _=($,I,S)=>({labels:$.map(T=>T.date),datasets:[{label:I,borderColor:S,backgroundColor:S,data:$.map(T=>T.value),fill:!1}]}),M=($,I,S)=>({labels:$.map(T=>T.date),datasets:[{label:I,backgroundColor:S,data:$.map(T=>T.value)}]});a.value.trends.incoming=_(E.trends.incoming,"Incoming Items","#3B82F6"),a.value.trends.outgoing=_(E.trends.outgoing,"Completed Picking","#10B981"),a.value.trends.leadTime=M(E.trends.leadTime,"Avg Minutes","#8B5CF6"),a.value.trends.accuracy=_(E.trends.accuracy,"Accuracy %","#F59E0B")}}catch(w){console.error("Failed to fetch dashboard data",w)}},y=We(()=>[...r.value].sort((w,E)=>i.value==="high"?E.total-w.total:w.total-E.total));return Gn(()=>{m()}),(w,E)=>(U(),Et(Qn,{pageTitle:"WMS Dashboard",pageDescription:"Overview of warehouse key metrics"},{default:bt(()=>[o("div",hre,[o("div",gre,[o("div",null,[E[3]||(E[3]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Start Date",-1)),Ee(o("input",{type:"date","onUpdate:modelValue":E[0]||(E[0]=C=>t.date_start=C),class:"border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"},null,512),[[Oe,t.date_start]])]),o("div",null,[E[4]||(E[4]=o("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"End Date",-1)),Ee(o("input",{type:"date","onUpdate:modelValue":E[1]||(E[1]=C=>t.date_end=C),class:"border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"},null,512),[[Oe,t.date_end]])]),o("button",{onClick:m,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition"}," Filter ")]),o("div",pre,[o("div",mre,[o("div",yre,[o("div",null,[E[5]||(E[5]=o("p",{class:"text-sm font-medium text-gray-500"},"Total Incoming",-1)),o("h3",bre,P(n.value.totalIncoming),1)]),E[6]||(E[6]=o("div",{class:"p-2 bg-blue-50 rounded-lg"},[o("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})])],-1))]),E[7]||(E[7]=o("p",{class:"text-xs text-gray-400 mt-2"},"Receiving Documents",-1))]),o("div",vre,[o("div",Ere,[o("div",null,[E[8]||(E[8]=o("p",{class:"text-sm font-medium text-gray-500"},"Total Outgoing",-1)),o("h3",wre,P(n.value.totalOutgoing),1)]),E[9]||(E[9]=o("div",{class:"p-2 bg-green-50 rounded-lg"},[o("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"})])],-1))]),E[10]||(E[10]=o("p",{class:"text-xs text-gray-400 mt-2"},"Completed Picking Tasks",-1))]),o("div",Cre,[o("div",Are,[o("div",null,[E[11]||(E[11]=o("p",{class:"text-sm font-medium text-gray-500"},"Picking Lead Time",-1)),o("h3",Bre,P(n.value.leadTime),1)]),E[12]||(E[12]=o("div",{class:"p-2 bg-purple-50 rounded-lg"},[o("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))]),E[13]||(E[13]=o("p",{class:"text-xs text-gray-400 mt-2"},"Start Pick - End Pick",-1))]),o("div",_re,[o("div",Dre,[o("div",null,[E[14]||(E[14]=o("p",{class:"text-sm font-medium text-gray-500"},"Stock Accuracy",-1)),o("h3",kre,P(n.value.stockAccuracy)+"%",1)]),E[15]||(E[15]=o("div",{class:"p-2 bg-yellow-50 rounded-lg"},[o("svg",{class:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))]),E[16]||(E[16]=o("p",{class:"text-xs text-gray-400 mt-2"},"Based on Cycle Counts",-1))]),o("div",Sre,[o("div",Fre,[o("div",null,[E[17]||(E[17]=o("p",{class:"text-sm font-medium text-gray-500"},"SKU On Hand",-1)),o("h3",Tre,P(n.value.skuOnHand),1)]),E[18]||(E[18]=o("div",{class:"p-2 bg-indigo-50 rounded-lg"},[o("svg",{class:"w-6 h-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])],-1))]),E[19]||(E[19]=o("p",{class:"text-xs text-gray-400 mt-2"},"Distinct Items with Stock > 0",-1))])]),o("div",Ire,[o("div",Mre,[E[20]||(E[20]=o("h4",{class:"text-sm font-semibold text-gray-600 mb-2"},"Incoming Trend (Daily)",-1)),o("div",Pre,[a.value.trends.incoming.labels.length?(U(),Et(Ve(Xl),{key:0,data:a.value.trends.incoming,options:f},null,8,["data"])):(U(),G("div",Rre,"No Data"))])]),o("div",Ore,[E[21]||(E[21]=o("h4",{class:"text-sm font-semibold text-gray-600 mb-2"},"Outgoing Trend (Daily)",-1)),o("div",Nre,[a.value.trends.outgoing.labels.length?(U(),Et(Ve(Xl),{key:0,data:a.value.trends.outgoing,options:f},null,8,["data"])):(U(),G("div",Lre,"No Data"))])]),o("div",$re,[E[22]||(E[22]=o("h4",{class:"text-sm font-semibold text-gray-600 mb-2"},"Lead Time Trend (Avg Mins)",-1)),o("div",jre,[a.value.trends.leadTime.labels.length?(U(),Et(Ve(Vu),{key:0,data:a.value.trends.leadTime,options:g},null,8,["data"])):(U(),G("div",Ure,"No Data"))])]),o("div",Hre,[E[23]||(E[23]=o("h4",{class:"text-sm font-semibold text-gray-600 mb-2"},"Stock Accuracy Trend (%)",-1)),o("div",zre,[a.value.trends.accuracy.labels.length?(U(),Et(Ve(Xl),{key:0,data:a.value.trends.accuracy,options:f},null,8,["data"])):(U(),G("div",Vre,"No Data"))])])]),o("div",qre,[o("div",Wre,[E[24]||(E[24]=o("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"Incoming by Category",-1)),o("div",Gre,[a.value.incoming.labels.length?(U(),Et(Ve(Vu),{key:0,data:a.value.incoming,options:u},null,8,["data"])):(U(),G("div",Qre,"No Data Available"))])]),o("div",Kre,[E[25]||(E[25]=o("h3",{class:"text-lg font-semibold text-gray-800 mb-4"},"Material Breakdown (RM vs PM)",-1)),o("div",Yre,[a.value.typeBreakdown.labels.length?(U(),Et(Ve(gO),{key:0,data:a.value.typeBreakdown,options:c},null,8,["data"])):(U(),G("div",Xre,"No Data Available"))])])]),o("div",Zre,[o("div",Jre,[E[27]||(E[27]=o("h3",{class:"text-lg font-semibold text-gray-800"},"Incoming By Category Details",-1)),Ee(o("select",{"onUpdate:modelValue":E[2]||(E[2]=C=>i.value=C),class:"text-sm border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500"},[...E[26]||(E[26]=[o("option",{value:"high"},"Highest First",-1),o("option",{value:"low"},"Lowest First",-1)])],512),[[ct,i.value]])]),o("div",ese,[o("table",tse,[E[29]||(E[29]=o("thead",{class:"bg-gray-50"},[o("tr",null,[o("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Category"),o("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Total Items")])],-1)),o("tbody",nse,[(U(!0),G($e,null,nt(y.value,(C,D)=>(U(),G("tr",{key:D,class:"hover:bg-gray-50"},[o("td",rse,P(C.kategori||"Uncategorized"),1),o("td",sse,P(C.total),1)]))),128)),y.value.length===0?(U(),G("tr",ose,[...E[28]||(E[28]=[o("td",{colspan:"2",class:"px-6 py-4 text-center text-sm text-gray-500"},"No data found",-1)])])):pe("",!0)])])])])])]),_:1}))}},ase=Object.freeze(Object.defineProperty({__proto__:null,default:ise},Symbol.toStringTag,{value:"Module"}));window.axios=St;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";fA({title:e=>`${e} - WMS`,resolve:e=>Object.assign({"./Pages/Auth/Login.vue":IA,"./Pages/Auth/Register.vue":JA,"./Pages/Bintobin.vue":B_,"./Pages/CentralData.vue":D_,"./Pages/CycleCount.vue":Kk,"./Pages/Dashboard.vue":UT,"./Pages/ITDashboard.vue":gN,"./Pages/MasterData.vue":yj,"./Pages/PenerimaanBarang.vue":Zz,"./Pages/PickingList.vue":lW,"./Pages/PutAwasTO.vue":TQ,"./Pages/QualityControl.vue":yY,"./Pages/Reports/index.vue":vY,"./Pages/Reservation.vue":pJ,"./Pages/Return.vue":$ee,"./Pages/RiwayatAktivitas.vue":_ne,"./Pages/RolePermission.vue":fre,"./Pages/WmsDashboard.vue":ase})[`./Pages/${e}.vue`],setup({el:e,App:t,props:n,plugin:r}){return Nv({render:()=>ar(t,n)}).use(r).mount(e)},progress:{color:"#4B5563"}})});export default lse();
